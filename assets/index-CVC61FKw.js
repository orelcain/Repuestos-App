const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PDFViewer-GVSDwteG.js","assets/pdf-BCR2h23V.js","assets/PDFMarkerEditor-8B6p9z7D.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function OS(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),e}var h4={exports:{}},hm={},f4={exports:{}},xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=Symbol.for("react.element"),DS=Symbol.for("react.portal"),FS=Symbol.for("react.fragment"),BS=Symbol.for("react.strict_mode"),US=Symbol.for("react.profiler"),zS=Symbol.for("react.provider"),VS=Symbol.for("react.context"),qS=Symbol.for("react.forward_ref"),HS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),WS=Symbol.for("react.lazy"),Bv=Symbol.iterator;function XS(r){return r===null||typeof r!="object"?null:(r=Bv&&r[Bv]||r["@@iterator"],typeof r=="function"?r:null)}var d4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p4=Object.assign,m4={};function jc(r,t,e){this.props=r,this.context=t,this.refs=m4,this.updater=e||d4}jc.prototype.isReactComponent={};jc.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};jc.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function g4(){}g4.prototype=jc.prototype;function s2(r,t,e){this.props=r,this.context=t,this.refs=m4,this.updater=e||d4}var o2=s2.prototype=new g4;o2.constructor=s2;p4(o2,jc.prototype);o2.isPureReactComponent=!0;var Uv=Array.isArray,y4=Object.prototype.hasOwnProperty,a2={current:null},v4={key:!0,ref:!0,__self:!0,__source:!0};function b4(r,t,e){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)y4.call(t,n)&&!v4.hasOwnProperty(n)&&(s[n]=t[n]);var u=arguments.length-2;if(u===1)s.children=e;else if(1<u){for(var a=Array(u),l=0;l<u;l++)a[l]=arguments[l+2];s.children=a}if(r&&r.defaultProps)for(n in u=r.defaultProps,u)s[n]===void 0&&(s[n]=u[n]);return{$$typeof:Af,type:r,key:i,ref:o,props:s,_owner:a2.current}}function GS(r,t){return{$$typeof:Af,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function l2(r){return typeof r=="object"&&r!==null&&r.$$typeof===Af}function KS(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var zv=/\/+/g;function y0(r,t){return typeof r=="object"&&r!==null&&r.key!=null?KS(""+r.key):t.toString(36)}function ep(r,t,e,n,s){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var o=!1;if(r===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(r.$$typeof){case Af:case DS:o=!0}}if(o)return o=r,s=s(o),r=n===""?"."+y0(o,0):n,Uv(s)?(e="",r!=null&&(e=r.replace(zv,"$&/")+"/"),ep(s,t,e,"",function(l){return l})):s!=null&&(l2(s)&&(s=GS(s,e+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zv,"$&/")+"/")+r)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Uv(r))for(var u=0;u<r.length;u++){i=r[u];var a=n+y0(i,u);o+=ep(i,t,e,a,s)}else if(a=XS(r),typeof a=="function")for(r=a.call(r),u=0;!(i=r.next()).done;)i=i.value,a=n+y0(i,u++),o+=ep(i,t,e,a,s);else if(i==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bd(r,t,e){if(r==null)return r;var n=[],s=0;return ep(r,n,"","",function(i){return t.call(e,i,s++)}),n}function YS(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Mi={current:null},tp={transition:null},QS={ReactCurrentDispatcher:Mi,ReactCurrentBatchConfig:tp,ReactCurrentOwner:a2};function w4(){throw Error("act(...) is not supported in production builds of React.")}xr.Children={map:bd,forEach:function(r,t,e){bd(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return bd(r,function(){t++}),t},toArray:function(r){return bd(r,function(t){return t})||[]},only:function(r){if(!l2(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};xr.Component=jc;xr.Fragment=FS;xr.Profiler=US;xr.PureComponent=s2;xr.StrictMode=BS;xr.Suspense=HS;xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS;xr.act=w4;xr.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=p4({},r.props),s=r.key,i=r.ref,o=r._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=a2.current),t.key!==void 0&&(s=""+t.key),r.type&&r.type.defaultProps)var u=r.type.defaultProps;for(a in t)y4.call(t,a)&&!v4.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=e;else if(1<a){u=Array(a);for(var l=0;l<a;l++)u[l]=arguments[l+2];n.children=u}return{$$typeof:Af,type:r.type,key:s,ref:i,props:n,_owner:o}};xr.createContext=function(r){return r={$$typeof:VS,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:zS,_context:r},r.Consumer=r};xr.createElement=b4;xr.createFactory=function(r){var t=b4.bind(null,r);return t.type=r,t};xr.createRef=function(){return{current:null}};xr.forwardRef=function(r){return{$$typeof:qS,render:r}};xr.isValidElement=l2;xr.lazy=function(r){return{$$typeof:WS,_payload:{_status:-1,_result:r},_init:YS}};xr.memo=function(r,t){return{$$typeof:$S,type:r,compare:t===void 0?null:t}};xr.startTransition=function(r){var t=tp.transition;tp.transition={};try{r()}finally{tp.transition=t}};xr.unstable_act=w4;xr.useCallback=function(r,t){return Mi.current.useCallback(r,t)};xr.useContext=function(r){return Mi.current.useContext(r)};xr.useDebugValue=function(){};xr.useDeferredValue=function(r){return Mi.current.useDeferredValue(r)};xr.useEffect=function(r,t){return Mi.current.useEffect(r,t)};xr.useId=function(){return Mi.current.useId()};xr.useImperativeHandle=function(r,t,e){return Mi.current.useImperativeHandle(r,t,e)};xr.useInsertionEffect=function(r,t){return Mi.current.useInsertionEffect(r,t)};xr.useLayoutEffect=function(r,t){return Mi.current.useLayoutEffect(r,t)};xr.useMemo=function(r,t){return Mi.current.useMemo(r,t)};xr.useReducer=function(r,t,e){return Mi.current.useReducer(r,t,e)};xr.useRef=function(r){return Mi.current.useRef(r)};xr.useState=function(r){return Mi.current.useState(r)};xr.useSyncExternalStore=function(r,t,e){return Mi.current.useSyncExternalStore(r,t,e)};xr.useTransition=function(){return Mi.current.useTransition()};xr.version="18.3.1";f4.exports=xr;var Le=f4.exports;const al=i2(Le);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=Le,JS=Symbol.for("react.element"),e7=Symbol.for("react.fragment"),t7=Object.prototype.hasOwnProperty,r7=ZS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n7={key:!0,ref:!0,__self:!0,__source:!0};function _4(r,t,e){var n,s={},i=null,o=null;e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)t7.call(t,n)&&!n7.hasOwnProperty(n)&&(s[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:JS,type:r,key:i,ref:o,props:s,_owner:r7.current}}hm.Fragment=e7;hm.jsx=_4;hm.jsxs=_4;h4.exports=hm;var G=h4.exports,_g={},x4={exports:{}},ls={},S4={exports:{}},k4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(x,S){var C=x.length;x.push(S);e:for(;0<C;){var q=C-1>>>1,P=x[q];if(0<s(P,S))x[q]=S,x[C]=P,C=q;else break e}}function e(x){return x.length===0?null:x[0]}function n(x){if(x.length===0)return null;var S=x[0],C=x.pop();if(C!==S){x[0]=C;e:for(var q=0,P=x.length,H=P>>>1;q<H;){var X=2*(q+1)-1,Z=x[X],V=X+1,Q=x[V];if(0>s(Z,C))V<P&&0>s(Q,Z)?(x[q]=Q,x[V]=C,q=V):(x[q]=Z,x[X]=C,q=X);else if(V<P&&0>s(Q,C))x[q]=Q,x[V]=C,q=V;else break e}}return S}function s(x,S){var C=x.sortIndex-S.sortIndex;return C!==0?C:x.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();r.unstable_now=function(){return o.now()-u}}var a=[],l=[],c=1,d=null,f=3,h=!1,g=!1,v=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(x){for(var S=e(l);S!==null;){if(S.callback===null)n(l);else if(S.startTime<=x)n(l),S.sortIndex=S.expirationTime,t(a,S);else break;S=e(l)}}function k(x){if(v=!1,b(x),!g)if(e(a)!==null)g=!0,w(N);else{var S=e(l);S!==null&&_(k,S.startTime-x)}}function N(x,S){g=!1,v&&(v=!1,y(T),T=-1),h=!0;var C=f;try{for(b(S),d=e(a);d!==null&&(!(d.expirationTime>S)||x&&!O());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var P=q(d.expirationTime<=S);S=r.unstable_now(),typeof P=="function"?d.callback=P:d===e(a)&&n(a),b(S)}else n(a);d=e(a)}if(d!==null)var H=!0;else{var X=e(l);X!==null&&_(k,X.startTime-S),H=!1}return H}finally{d=null,f=C,h=!1}}var F=!1,j=null,T=-1,M=5,B=-1;function O(){return!(r.unstable_now()-B<M)}function R(){if(j!==null){var x=r.unstable_now();B=x;var S=!0;try{S=j(!0,x)}finally{S?E():(F=!1,j=null)}}else F=!1}var E;if(typeof m=="function")E=function(){m(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,A=I.port2;I.port1.onmessage=R,E=function(){A.postMessage(null)}}else E=function(){p(R,0)};function w(x){j=x,F||(F=!0,E())}function _(x,S){T=p(function(){x(r.unstable_now())},S)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(x){x.callback=null},r.unstable_continueExecution=function(){g||h||(g=!0,w(N))},r.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<x?Math.floor(1e3/x):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return e(a)},r.unstable_next=function(x){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var C=f;f=S;try{return x()}finally{f=C}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var C=f;f=x;try{return S()}finally{f=C}},r.unstable_scheduleCallback=function(x,S,C){var q=r.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?q+C:q):C=q,x){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=C+P,x={id:c++,callback:S,priorityLevel:x,startTime:C,expirationTime:P,sortIndex:-1},C>q?(x.sortIndex=C,t(l,x),e(a)===null&&x===e(l)&&(v?(y(T),T=-1):v=!0,_(k,C-q))):(x.sortIndex=P,t(a,x),g||h||(g=!0,w(N))),x},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(x){var S=f;return function(){var C=f;f=S;try{return x.apply(this,arguments)}finally{f=C}}}})(k4);S4.exports=k4;var i7=S4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s7=Le,as=i7;function gt(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E4=new Set,Xh={};function gu(r,t){bc(r,t),bc(r+"Capture",t)}function bc(r,t){for(Xh[r]=t,r=0;r<t.length;r++)E4.add(t[r])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xg=Object.prototype.hasOwnProperty,o7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},qv={};function a7(r){return xg.call(qv,r)?!0:xg.call(Vv,r)?!1:o7.test(r)?qv[r]=!0:(Vv[r]=!0,!1)}function l7(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function u7(r,t,e,n){if(t===null||typeof t>"u"||l7(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ji(r,t,e,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ni[r]=new ji(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];ni[t]=new ji(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ni[r]=new ji(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ni[r]=new ji(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ni[r]=new ji(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ni[r]=new ji(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ni[r]=new ji(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ni[r]=new ji(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ni[r]=new ji(r,5,!1,r.toLowerCase(),null,!1,!1)});var u2=/[\-:]([a-z])/g;function c2(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(u2,c2);ni[t]=new ji(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(u2,c2);ni[t]=new ji(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(u2,c2);ni[t]=new ji(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ni[r]=new ji(r,1,!1,r.toLowerCase(),null,!1,!1)});ni.xlinkHref=new ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ni[r]=new ji(r,1,!1,r.toLowerCase(),null,!0,!0)});function h2(r,t,e,n){var s=ni.hasOwnProperty(t)?ni[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u7(t,e,s,n)&&(e=null),n||s===null?a7(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):s.mustUseProperty?r[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,n=s.attributeNamespace,e===null?r.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var ra=s7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),Yu=Symbol.for("react.portal"),Qu=Symbol.for("react.fragment"),f2=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),A4=Symbol.for("react.provider"),T4=Symbol.for("react.context"),d2=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Eg=Symbol.for("react.suspense_list"),p2=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),C4=Symbol.for("react.offscreen"),Hv=Symbol.iterator;function nh(r){return r===null||typeof r!="object"?null:(r=Hv&&r[Hv]||r["@@iterator"],typeof r=="function"?r:null)}var dn=Object.assign,v0;function yh(r){if(v0===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);v0=t&&t[1]||""}return`
`+v0+r}var b0=!1;function w0(r,t){if(!r||b0)return"";b0=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(r,[],t)}else{try{t.call()}catch(l){n=l}r.call(t.prototype)}else{try{throw Error()}catch(l){n=l}r()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,u=i.length-1;1<=o&&0<=u&&s[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==i[u]){var a=`
`+s[o].replace(" at new "," at ");return r.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",r.displayName)),a}while(1<=o&&0<=u);break}}}finally{b0=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?yh(r):""}function c7(r){switch(r.tag){case 5:return yh(r.type);case 16:return yh("Lazy");case 13:return yh("Suspense");case 19:return yh("SuspenseList");case 0:case 2:case 15:return r=w0(r.type,!1),r;case 11:return r=w0(r.type.render,!1),r;case 1:return r=w0(r.type,!0),r;default:return""}}function Ag(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Qu:return"Fragment";case Yu:return"Portal";case Sg:return"Profiler";case f2:return"StrictMode";case kg:return"Suspense";case Eg:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case T4:return(r.displayName||"Context")+".Consumer";case A4:return(r._context.displayName||"Context")+".Provider";case d2:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case p2:return t=r.displayName||null,t!==null?t:Ag(r.type)||"Memo";case Ia:t=r._payload,r=r._init;try{return Ag(r(t))}catch{}}return null}function h7(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(t);case 8:return t===f2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function N4(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f7(r){var t=N4(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,i=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function _d(r){r._valueTracker||(r._valueTracker=f7(r))}function P4(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=N4(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function xp(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Tg(r,t){var e=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function $v(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=ll(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function I4(r,t){t=t.checked,t!=null&&h2(r,"checked",t,!1)}function Cg(r,t){I4(r,t);var e=ll(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?Ng(r,t.type,e):t.hasOwnProperty("defaultValue")&&Ng(r,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function Wv(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function Ng(r,t,e){(t!=="number"||xp(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var vh=Array.isArray;function uc(r,t,e,n){if(r=r.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<r.length;e++)s=t.hasOwnProperty("$"+r[e].value),r[e].selected!==s&&(r[e].selected=s),s&&n&&(r[e].defaultSelected=!0)}else{for(e=""+ll(e),t=null,s=0;s<r.length;s++){if(r[s].value===e){r[s].selected=!0,n&&(r[s].defaultSelected=!0);return}t!==null||r[s].disabled||(t=r[s])}t!==null&&(t.selected=!0)}}function Pg(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Xv(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(gt(92));if(vh(e)){if(1<e.length)throw Error(gt(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:ll(e)}}function R4(r,t){var e=ll(t.value),n=ll(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function Gv(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function M4(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ig(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?M4(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xd,j4=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,s)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function Gh(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d7=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(r){d7.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Th[t]=Th[r]})});function L4(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Th.hasOwnProperty(r)&&Th[r]?(""+t).trim():t+"px"}function O4(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,s=L4(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,s):r[e]=s}}var p7=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rg(r,t){if(t){if(p7[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function Mg(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=null;function m2(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Lg=null,cc=null,hc=null;function Kv(r){if(r=Nf(r)){if(typeof Lg!="function")throw Error(gt(280));var t=r.stateNode;t&&(t=gm(t),Lg(r.stateNode,r.type,t))}}function D4(r){cc?hc?hc.push(r):hc=[r]:cc=r}function F4(){if(cc){var r=cc,t=hc;if(hc=cc=null,Kv(r),t)for(r=0;r<t.length;r++)Kv(t[r])}}function B4(r,t){return r(t)}function U4(){}var _0=!1;function z4(r,t,e){if(_0)return r(t,e);_0=!0;try{return B4(r,t,e)}finally{_0=!1,(cc!==null||hc!==null)&&(U4(),F4())}}function Kh(r,t){var e=r.stateNode;if(e===null)return null;var n=gm(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(gt(231,t,typeof e));return e}var Og=!1;if(Xo)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){Og=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{Og=!1}function m7(r,t,e,n,s,i,o,u,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(e,l)}catch(c){this.onError(c)}}var Ch=!1,Sp=null,kp=!1,Dg=null,g7={onError:function(r){Ch=!0,Sp=r}};function y7(r,t,e,n,s,i,o,u,a){Ch=!1,Sp=null,m7.apply(g7,arguments)}function v7(r,t,e,n,s,i,o,u,a){if(y7.apply(this,arguments),Ch){if(Ch){var l=Sp;Ch=!1,Sp=null}else throw Error(gt(198));kp||(kp=!0,Dg=l)}}function yu(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function V4(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function Yv(r){if(yu(r)!==r)throw Error(gt(188))}function b7(r){var t=r.alternate;if(!t){if(t=yu(r),t===null)throw Error(gt(188));return t!==r?null:r}for(var e=r,n=t;;){var s=e.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){e=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===e)return Yv(s),r;if(i===n)return Yv(s),t;i=i.sibling}throw Error(gt(188))}if(e.return!==n.return)e=s,n=i;else{for(var o=!1,u=s.child;u;){if(u===e){o=!0,e=s,n=i;break}if(u===n){o=!0,n=s,e=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===e){o=!0,e=i,n=s;break}if(u===n){o=!0,n=i,e=s;break}u=u.sibling}if(!o)throw Error(gt(189))}}if(e.alternate!==n)throw Error(gt(190))}if(e.tag!==3)throw Error(gt(188));return e.stateNode.current===e?r:t}function q4(r){return r=b7(r),r!==null?H4(r):null}function H4(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=H4(r);if(t!==null)return t;r=r.sibling}return null}var $4=as.unstable_scheduleCallback,Qv=as.unstable_cancelCallback,w7=as.unstable_shouldYield,_7=as.unstable_requestPaint,An=as.unstable_now,x7=as.unstable_getCurrentPriorityLevel,g2=as.unstable_ImmediatePriority,W4=as.unstable_UserBlockingPriority,Ep=as.unstable_NormalPriority,S7=as.unstable_LowPriority,X4=as.unstable_IdlePriority,fm=null,mo=null;function k7(r){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(fm,r,void 0,(r.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:T7,E7=Math.log,A7=Math.LN2;function T7(r){return r>>>=0,r===0?32:31-(E7(r)/A7|0)|0}var Sd=64,kd=4194304;function bh(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ap(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,s=r.suspendedLanes,i=r.pingedLanes,o=e&268435455;if(o!==0){var u=o&~s;u!==0?n=bh(u):(i&=o,i!==0&&(n=bh(i)))}else o=e&~s,o!==0?n=bh(o):i!==0&&(n=bh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-Ws(t),s=1<<e,n|=r[e],t&=~s;return n}function C7(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N7(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,s=r.expirationTimes,i=r.pendingLanes;0<i;){var o=31-Ws(i),u=1<<o,a=s[o];a===-1?(!(u&e)||u&n)&&(s[o]=C7(u,t)):a<=t&&(r.expiredLanes|=u),i&=~u}}function Fg(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function G4(){var r=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),r}function x0(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function Tf(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-Ws(t),r[t]=e}function P7(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var s=31-Ws(e),i=1<<s;t[s]=0,n[s]=-1,r[s]=-1,e&=~i}}function y2(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-Ws(e),s=1<<n;s&t|r[n]&t&&(r[n]|=t),e&=~s}}var qr=0;function K4(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Y4,v2,Q4,Z4,J4,Bg=!1,Ed=[],Wa=null,Xa=null,Ga=null,Yh=new Map,Qh=new Map,Ma=[],I7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zv(r,t){switch(r){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Yh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(t.pointerId)}}function sh(r,t,e,n,s,i){return r===null||r.nativeEvent!==i?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Nf(t),t!==null&&v2(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),r)}function R7(r,t,e,n,s){switch(t){case"focusin":return Wa=sh(Wa,r,t,e,n,s),!0;case"dragenter":return Xa=sh(Xa,r,t,e,n,s),!0;case"mouseover":return Ga=sh(Ga,r,t,e,n,s),!0;case"pointerover":var i=s.pointerId;return Yh.set(i,sh(Yh.get(i)||null,r,t,e,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Qh.set(i,sh(Qh.get(i)||null,r,t,e,n,s)),!0}return!1}function e3(r){var t=Vl(r.target);if(t!==null){var e=yu(t);if(e!==null){if(t=e.tag,t===13){if(t=V4(e),t!==null){r.blockedOn=t,J4(r.priority,function(){Q4(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rp(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=Ug(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);jg=n,e.target.dispatchEvent(n),jg=null}else return t=Nf(e),t!==null&&v2(t),r.blockedOn=e,!1;t.shift()}return!0}function Jv(r,t,e){rp(r)&&e.delete(t)}function M7(){Bg=!1,Wa!==null&&rp(Wa)&&(Wa=null),Xa!==null&&rp(Xa)&&(Xa=null),Ga!==null&&rp(Ga)&&(Ga=null),Yh.forEach(Jv),Qh.forEach(Jv)}function oh(r,t){r.blockedOn===t&&(r.blockedOn=null,Bg||(Bg=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,M7)))}function Zh(r){function t(s){return oh(s,r)}if(0<Ed.length){oh(Ed[0],r);for(var e=1;e<Ed.length;e++){var n=Ed[e];n.blockedOn===r&&(n.blockedOn=null)}}for(Wa!==null&&oh(Wa,r),Xa!==null&&oh(Xa,r),Ga!==null&&oh(Ga,r),Yh.forEach(t),Qh.forEach(t),e=0;e<Ma.length;e++)n=Ma[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<Ma.length&&(e=Ma[0],e.blockedOn===null);)e3(e),e.blockedOn===null&&Ma.shift()}var fc=ra.ReactCurrentBatchConfig,Tp=!0;function j7(r,t,e,n){var s=qr,i=fc.transition;fc.transition=null;try{qr=1,b2(r,t,e,n)}finally{qr=s,fc.transition=i}}function L7(r,t,e,n){var s=qr,i=fc.transition;fc.transition=null;try{qr=4,b2(r,t,e,n)}finally{qr=s,fc.transition=i}}function b2(r,t,e,n){if(Tp){var s=Ug(r,t,e,n);if(s===null)R0(r,t,n,Cp,e),Zv(r,n);else if(R7(s,r,t,e,n))n.stopPropagation();else if(Zv(r,n),t&4&&-1<I7.indexOf(r)){for(;s!==null;){var i=Nf(s);if(i!==null&&Y4(i),i=Ug(r,t,e,n),i===null&&R0(r,t,n,Cp,e),i===s)break;s=i}s!==null&&n.stopPropagation()}else R0(r,t,n,null,e)}}var Cp=null;function Ug(r,t,e,n){if(Cp=null,r=m2(n),r=Vl(r),r!==null)if(t=yu(r),t===null)r=null;else if(e=t.tag,e===13){if(r=V4(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return Cp=r,null}function t3(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x7()){case g2:return 1;case W4:return 4;case Ep:case S7:return 16;case X4:return 536870912;default:return 16}default:return 16}}var Va=null,w2=null,np=null;function r3(){if(np)return np;var r,t=w2,e=t.length,n,s="value"in Va?Va.value:Va.textContent,i=s.length;for(r=0;r<e&&t[r]===s[r];r++);var o=e-r;for(n=1;n<=o&&t[e-n]===s[i-n];n++);return np=s.slice(r,1<n?1-n:void 0)}function ip(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Ad(){return!0}function eb(){return!1}function us(r){function t(e,n,s,i,o){this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in r)r.hasOwnProperty(u)&&(e=r[u],this[u]=e?e(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ad:eb,this.isPropagationStopped=eb,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),t}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_2=us(Lc),Cf=dn({},Lc,{view:0,detail:0}),O7=us(Cf),S0,k0,ah,dm=dn({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x2,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ah&&(ah&&r.type==="mousemove"?(S0=r.screenX-ah.screenX,k0=r.screenY-ah.screenY):k0=S0=0,ah=r),S0)},movementY:function(r){return"movementY"in r?r.movementY:k0}}),tb=us(dm),D7=dn({},dm,{dataTransfer:0}),F7=us(D7),B7=dn({},Cf,{relatedTarget:0}),E0=us(B7),U7=dn({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),z7=us(U7),V7=dn({},Lc,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),q7=us(V7),H7=dn({},Lc,{data:0}),rb=us(H7),$7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G7(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=X7[r])?!!t[r]:!1}function x2(){return G7}var K7=dn({},Cf,{key:function(r){if(r.key){var t=$7[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=ip(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?W7[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x2,charCode:function(r){return r.type==="keypress"?ip(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ip(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Y7=us(K7),Q7=dn({},dm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nb=us(Q7),Z7=dn({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x2}),J7=us(Z7),e9=dn({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),t9=us(e9),r9=dn({},dm,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),n9=us(r9),i9=[9,13,27,32],S2=Xo&&"CompositionEvent"in window,Nh=null;Xo&&"documentMode"in document&&(Nh=document.documentMode);var s9=Xo&&"TextEvent"in window&&!Nh,n3=Xo&&(!S2||Nh&&8<Nh&&11>=Nh),ib=" ",sb=!1;function i3(r,t){switch(r){case"keyup":return i9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s3(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zu=!1;function o9(r,t){switch(r){case"compositionend":return s3(t);case"keypress":return t.which!==32?null:(sb=!0,ib);case"textInput":return r=t.data,r===ib&&sb?null:r;default:return null}}function a9(r,t){if(Zu)return r==="compositionend"||!S2&&i3(r,t)?(r=r3(),np=w2=Va=null,Zu=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n3&&t.locale!=="ko"?null:t.data;default:return null}}var l9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ob(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!l9[r.type]:t==="textarea"}function o3(r,t,e,n){D4(n),t=Np(t,"onChange"),0<t.length&&(e=new _2("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Ph=null,Jh=null;function u9(r){y3(r,0)}function pm(r){var t=tc(r);if(P4(t))return r}function c9(r,t){if(r==="change")return t}var a3=!1;if(Xo){var A0;if(Xo){var T0="oninput"in document;if(!T0){var ab=document.createElement("div");ab.setAttribute("oninput","return;"),T0=typeof ab.oninput=="function"}A0=T0}else A0=!1;a3=A0&&(!document.documentMode||9<document.documentMode)}function lb(){Ph&&(Ph.detachEvent("onpropertychange",l3),Jh=Ph=null)}function l3(r){if(r.propertyName==="value"&&pm(Jh)){var t=[];o3(t,Jh,r,m2(r)),z4(u9,t)}}function h9(r,t,e){r==="focusin"?(lb(),Ph=t,Jh=e,Ph.attachEvent("onpropertychange",l3)):r==="focusout"&&lb()}function f9(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pm(Jh)}function d9(r,t){if(r==="click")return pm(t)}function p9(r,t){if(r==="input"||r==="change")return pm(t)}function m9(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var Gs=typeof Object.is=="function"?Object.is:m9;function ef(r,t){if(Gs(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var s=e[n];if(!xg.call(t,s)||!Gs(r[s],t[s]))return!1}return!0}function ub(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cb(r,t){var e=ub(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=ub(e)}}function u3(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?u3(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function c3(){for(var r=window,t=xp();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=xp(r.document)}return t}function k2(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function g9(r){var t=c3(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&u3(e.ownerDocument.documentElement,e)){if(n!==null&&k2(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var s=e.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!r.extend&&i>n&&(s=n,n=i,i=s),s=cb(e,i);var o=cb(e,n);s&&o&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),r.removeAllRanges(),i>n?(r.addRange(t),r.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var y9=Xo&&"documentMode"in document&&11>=document.documentMode,Ju=null,zg=null,Ih=null,Vg=!1;function hb(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Vg||Ju==null||Ju!==xp(n)||(n=Ju,"selectionStart"in n&&k2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ih&&ef(Ih,n)||(Ih=n,n=Np(zg,"onSelect"),0<n.length&&(t=new _2("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=Ju)))}function Td(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var ec={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},C0={},h3={};Xo&&(h3=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function mm(r){if(C0[r])return C0[r];if(!ec[r])return r;var t=ec[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in h3)return C0[r]=t[e];return r}var f3=mm("animationend"),d3=mm("animationiteration"),p3=mm("animationstart"),m3=mm("transitionend"),g3=new Map,fb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(r,t){g3.set(r,t),gu(t,[r])}for(var N0=0;N0<fb.length;N0++){var P0=fb[N0],v9=P0.toLowerCase(),b9=P0[0].toUpperCase()+P0.slice(1);yl(v9,"on"+b9)}yl(f3,"onAnimationEnd");yl(d3,"onAnimationIteration");yl(p3,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(m3,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w9=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function db(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,v7(n,t,void 0,r),r.currentTarget=null}function y3(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],a=u.instance,l=u.currentTarget;if(u=u.listener,a!==i&&s.isPropagationStopped())break e;db(s,u,l),i=a}else for(o=0;o<n.length;o++){if(u=n[o],a=u.instance,l=u.currentTarget,u=u.listener,a!==i&&s.isPropagationStopped())break e;db(s,u,l),i=a}}}if(kp)throw r=Dg,kp=!1,Dg=null,r}function tn(r,t){var e=t[Xg];e===void 0&&(e=t[Xg]=new Set);var n=r+"__bubble";e.has(n)||(v3(t,r,2,!1),e.add(n))}function I0(r,t,e){var n=0;t&&(n|=4),v3(e,r,n,t)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function tf(r){if(!r[Cd]){r[Cd]=!0,E4.forEach(function(e){e!=="selectionchange"&&(w9.has(e)||I0(e,!1,r),I0(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,I0("selectionchange",!1,t))}}function v3(r,t,e,n){switch(t3(t)){case 1:var s=j7;break;case 4:s=L7;break;default:s=b2}e=s.bind(null,t,e,r),s=void 0,!Og||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?r.addEventListener(t,e,{capture:!0,passive:s}):r.addEventListener(t,e,!0):s!==void 0?r.addEventListener(t,e,{passive:s}):r.addEventListener(t,e,!1)}function R0(r,t,e,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;u!==null;){if(o=Vl(u),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}u=u.parentNode}}n=n.return}z4(function(){var l=i,c=m2(e),d=[];e:{var f=g3.get(r);if(f!==void 0){var h=_2,g=r;switch(r){case"keypress":if(ip(e)===0)break e;case"keydown":case"keyup":h=Y7;break;case"focusin":g="focus",h=E0;break;case"focusout":g="blur",h=E0;break;case"beforeblur":case"afterblur":h=E0;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=tb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=F7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=J7;break;case f3:case d3:case p3:h=z7;break;case m3:h=t9;break;case"scroll":h=O7;break;case"wheel":h=n9;break;case"copy":case"cut":case"paste":h=q7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nb}var v=(t&4)!==0,p=!v&&r==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var m=l,b;m!==null;){b=m;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Kh(m,y),k!=null&&v.push(rf(m,k,b)))),p)break;m=m.return}0<v.length&&(f=new h(f,g,null,e,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=r==="mouseover"||r==="pointerover",h=r==="mouseout"||r==="pointerout",f&&e!==jg&&(g=e.relatedTarget||e.fromElement)&&(Vl(g)||g[Go]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=e.relatedTarget||e.toElement,h=l,g=g?Vl(g):null,g!==null&&(p=yu(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=l),h!==g)){if(v=tb,k="onMouseLeave",y="onMouseEnter",m="mouse",(r==="pointerout"||r==="pointerover")&&(v=nb,k="onPointerLeave",y="onPointerEnter",m="pointer"),p=h==null?f:tc(h),b=g==null?f:tc(g),f=new v(k,m+"leave",h,e,c),f.target=p,f.relatedTarget=b,k=null,Vl(c)===l&&(v=new v(y,m+"enter",g,e,c),v.target=b,v.relatedTarget=p,k=v),p=k,h&&g)t:{for(v=h,y=g,m=0,b=v;b;b=Uu(b))m++;for(b=0,k=y;k;k=Uu(k))b++;for(;0<m-b;)v=Uu(v),m--;for(;0<b-m;)y=Uu(y),b--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Uu(v),y=Uu(y)}v=null}else v=null;h!==null&&pb(d,f,h,v,!1),g!==null&&p!==null&&pb(d,p,g,v,!0)}}e:{if(f=l?tc(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=c9;else if(ob(f))if(a3)N=p9;else{N=f9;var F=h9}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=d9);if(N&&(N=N(r,l))){o3(d,N,e,c);break e}F&&F(r,f,l),r==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Ng(f,"number",f.value)}switch(F=l?tc(l):window,r){case"focusin":(ob(F)||F.contentEditable==="true")&&(Ju=F,zg=l,Ih=null);break;case"focusout":Ih=zg=Ju=null;break;case"mousedown":Vg=!0;break;case"contextmenu":case"mouseup":case"dragend":Vg=!1,hb(d,e,c);break;case"selectionchange":if(y9)break;case"keydown":case"keyup":hb(d,e,c)}var j;if(S2)e:{switch(r){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Zu?i3(r,e)&&(T="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(T="onCompositionStart");T&&(n3&&e.locale!=="ko"&&(Zu||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zu&&(j=r3()):(Va=c,w2="value"in Va?Va.value:Va.textContent,Zu=!0)),F=Np(l,T),0<F.length&&(T=new rb(T,r,null,e,c),d.push({event:T,listeners:F}),j?T.data=j:(j=s3(e),j!==null&&(T.data=j)))),(j=s9?o9(r,e):a9(r,e))&&(l=Np(l,"onBeforeInput"),0<l.length&&(c=new rb("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:l}),c.data=j))}y3(d,t)})}function rf(r,t,e){return{instance:r,listener:t,currentTarget:e}}function Np(r,t){for(var e=t+"Capture",n=[];r!==null;){var s=r,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kh(r,e),i!=null&&n.unshift(rf(r,i,s)),i=Kh(r,t),i!=null&&n.push(rf(r,i,s))),r=r.return}return n}function Uu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pb(r,t,e,n,s){for(var i=t._reactName,o=[];e!==null&&e!==n;){var u=e,a=u.alternate,l=u.stateNode;if(a!==null&&a===n)break;u.tag===5&&l!==null&&(u=l,s?(a=Kh(e,i),a!=null&&o.unshift(rf(e,a,u))):s||(a=Kh(e,i),a!=null&&o.push(rf(e,a,u)))),e=e.return}o.length!==0&&r.push({event:t,listeners:o})}var _9=/\r\n?/g,x9=/\u0000|\uFFFD/g;function mb(r){return(typeof r=="string"?r:""+r).replace(_9,`
`).replace(x9,"")}function Nd(r,t,e){if(t=mb(t),mb(r)!==t&&e)throw Error(gt(425))}function Pp(){}var qg=null,Hg=null;function $g(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,S9=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,k9=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(r){return gb.resolve(null).then(r).catch(E9)}:Wg;function E9(r){setTimeout(function(){throw r})}function M0(r,t){var e=t,n=0;do{var s=e.nextSibling;if(r.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(n===0){r.removeChild(s),Zh(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=s}while(e);Zh(t)}function Ka(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function yb(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),ho="__reactFiber$"+Oc,nf="__reactProps$"+Oc,Go="__reactContainer$"+Oc,Xg="__reactEvents$"+Oc,A9="__reactListeners$"+Oc,T9="__reactHandles$"+Oc;function Vl(r){var t=r[ho];if(t)return t;for(var e=r.parentNode;e;){if(t=e[Go]||e[ho]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=yb(r);r!==null;){if(e=r[ho])return e;r=yb(r)}return t}r=e,e=r.parentNode}return null}function Nf(r){return r=r[ho]||r[Go],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function tc(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(gt(33))}function gm(r){return r[nf]||null}var Gg=[],rc=-1;function vl(r){return{current:r}}function sn(r){0>rc||(r.current=Gg[rc],Gg[rc]=null,rc--)}function Zr(r,t){rc++,Gg[rc]=r.current,r.current=t}var ul={},wi=vl(ul),Hi=vl(!1),su=ul;function wc(r,t){var e=r.type.contextTypes;if(!e)return ul;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in e)s[i]=t[i];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=s),s}function $i(r){return r=r.childContextTypes,r!=null}function Ip(){sn(Hi),sn(wi)}function vb(r,t,e){if(wi.current!==ul)throw Error(gt(168));Zr(wi,t),Zr(Hi,e)}function b3(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(gt(108,h7(r)||"Unknown",s));return dn({},e,n)}function Rp(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ul,su=wi.current,Zr(wi,r),Zr(Hi,Hi.current),!0}function bb(r,t,e){var n=r.stateNode;if(!n)throw Error(gt(169));e?(r=b3(r,t,su),n.__reactInternalMemoizedMergedChildContext=r,sn(Hi),sn(wi),Zr(wi,r)):sn(Hi),Zr(Hi,e)}var Bo=null,ym=!1,j0=!1;function w3(r){Bo===null?Bo=[r]:Bo.push(r)}function C9(r){ym=!0,w3(r)}function bl(){if(!j0&&Bo!==null){j0=!0;var r=0,t=qr;try{var e=Bo;for(qr=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}Bo=null,ym=!1}catch(s){throw Bo!==null&&(Bo=Bo.slice(r+1)),$4(g2,bl),s}finally{qr=t,j0=!1}}return null}var nc=[],ic=0,Mp=null,jp=0,_s=[],xs=0,ou=null,Uo=1,zo="";function Fl(r,t){nc[ic++]=jp,nc[ic++]=Mp,Mp=r,jp=t}function _3(r,t,e){_s[xs++]=Uo,_s[xs++]=zo,_s[xs++]=ou,ou=r;var n=Uo;r=zo;var s=32-Ws(n)-1;n&=~(1<<s),e+=1;var i=32-Ws(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Uo=1<<32-Ws(t)+s|e<<s|n,zo=i+r}else Uo=1<<i|e<<s|n,zo=r}function E2(r){r.return!==null&&(Fl(r,1),_3(r,1,0))}function A2(r){for(;r===Mp;)Mp=nc[--ic],nc[ic]=null,jp=nc[--ic],nc[ic]=null;for(;r===ou;)ou=_s[--xs],_s[xs]=null,zo=_s[--xs],_s[xs]=null,Uo=_s[--xs],_s[xs]=null}var ss=null,ts=null,ln=!1,Hs=null;function x3(r,t){var e=Ss(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function wb(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,ss=r,ts=Ka(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,ss=r,ts=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ou!==null?{id:Uo,overflow:zo}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ss(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,ss=r,ts=null,!0):!1;default:return!1}}function Kg(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Yg(r){if(ln){var t=ts;if(t){var e=t;if(!wb(r,t)){if(Kg(r))throw Error(gt(418));t=Ka(e.nextSibling);var n=ss;t&&wb(r,t)?x3(n,e):(r.flags=r.flags&-4097|2,ln=!1,ss=r)}}else{if(Kg(r))throw Error(gt(418));r.flags=r.flags&-4097|2,ln=!1,ss=r}}}function _b(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ss=r}function Pd(r){if(r!==ss)return!1;if(!ln)return _b(r),ln=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!$g(r.type,r.memoizedProps)),t&&(t=ts)){if(Kg(r))throw S3(),Error(gt(418));for(;t;)x3(r,t),t=Ka(t.nextSibling)}if(_b(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(gt(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){ts=Ka(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}ts=null}}else ts=ss?Ka(r.stateNode.nextSibling):null;return!0}function S3(){for(var r=ts;r;)r=Ka(r.nextSibling)}function _c(){ts=ss=null,ln=!1}function T2(r){Hs===null?Hs=[r]:Hs.push(r)}var N9=ra.ReactCurrentBatchConfig;function lh(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(gt(309));var n=e.stateNode}if(!n)throw Error(gt(147,r));var s=n,i=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var u=s.refs;o===null?delete u[i]:u[i]=o},t._stringRef=i,t)}if(typeof r!="string")throw Error(gt(284));if(!e._owner)throw Error(gt(290,r))}return r}function Id(r,t){throw r=Object.prototype.toString.call(t),Error(gt(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function xb(r){var t=r._init;return t(r._payload)}function k3(r){function t(y,m){if(r){var b=y.deletions;b===null?(y.deletions=[m],y.flags|=16):b.push(m)}}function e(y,m){if(!r)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Ja(y,m),y.index=0,y.sibling=null,y}function i(y,m,b){return y.index=b,r?(b=y.alternate,b!==null?(b=b.index,b<m?(y.flags|=2,m):b):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return r&&y.alternate===null&&(y.flags|=2),y}function u(y,m,b,k){return m===null||m.tag!==6?(m=z0(b,y.mode,k),m.return=y,m):(m=s(m,b),m.return=y,m)}function a(y,m,b,k){var N=b.type;return N===Qu?c(y,m,b.props.children,k,b.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ia&&xb(N)===m.type)?(k=s(m,b.props),k.ref=lh(y,m,b),k.return=y,k):(k=hp(b.type,b.key,b.props,null,y.mode,k),k.ref=lh(y,m,b),k.return=y,k)}function l(y,m,b,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=V0(b,y.mode,k),m.return=y,m):(m=s(m,b.children||[]),m.return=y,m)}function c(y,m,b,k,N){return m===null||m.tag!==7?(m=Gl(b,y.mode,k,N),m.return=y,m):(m=s(m,b),m.return=y,m)}function d(y,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=z0(""+m,y.mode,b),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wd:return b=hp(m.type,m.key,m.props,null,y.mode,b),b.ref=lh(y,null,m),b.return=y,b;case Yu:return m=V0(m,y.mode,b),m.return=y,m;case Ia:var k=m._init;return d(y,k(m._payload),b)}if(vh(m)||nh(m))return m=Gl(m,y.mode,b,null),m.return=y,m;Id(y,m)}return null}function f(y,m,b,k){var N=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:u(y,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:return b.key===N?a(y,m,b,k):null;case Yu:return b.key===N?l(y,m,b,k):null;case Ia:return N=b._init,f(y,m,N(b._payload),k)}if(vh(b)||nh(b))return N!==null?null:c(y,m,b,k,null);Id(y,b)}return null}function h(y,m,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,u(m,y,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case wd:return y=y.get(k.key===null?b:k.key)||null,a(m,y,k,N);case Yu:return y=y.get(k.key===null?b:k.key)||null,l(m,y,k,N);case Ia:var F=k._init;return h(y,m,b,F(k._payload),N)}if(vh(k)||nh(k))return y=y.get(b)||null,c(m,y,k,N,null);Id(m,k)}return null}function g(y,m,b,k){for(var N=null,F=null,j=m,T=m=0,M=null;j!==null&&T<b.length;T++){j.index>T?(M=j,j=null):M=j.sibling;var B=f(y,j,b[T],k);if(B===null){j===null&&(j=M);break}r&&j&&B.alternate===null&&t(y,j),m=i(B,m,T),F===null?N=B:F.sibling=B,F=B,j=M}if(T===b.length)return e(y,j),ln&&Fl(y,T),N;if(j===null){for(;T<b.length;T++)j=d(y,b[T],k),j!==null&&(m=i(j,m,T),F===null?N=j:F.sibling=j,F=j);return ln&&Fl(y,T),N}for(j=n(y,j);T<b.length;T++)M=h(j,y,T,b[T],k),M!==null&&(r&&M.alternate!==null&&j.delete(M.key===null?T:M.key),m=i(M,m,T),F===null?N=M:F.sibling=M,F=M);return r&&j.forEach(function(O){return t(y,O)}),ln&&Fl(y,T),N}function v(y,m,b,k){var N=nh(b);if(typeof N!="function")throw Error(gt(150));if(b=N.call(b),b==null)throw Error(gt(151));for(var F=N=null,j=m,T=m=0,M=null,B=b.next();j!==null&&!B.done;T++,B=b.next()){j.index>T?(M=j,j=null):M=j.sibling;var O=f(y,j,B.value,k);if(O===null){j===null&&(j=M);break}r&&j&&O.alternate===null&&t(y,j),m=i(O,m,T),F===null?N=O:F.sibling=O,F=O,j=M}if(B.done)return e(y,j),ln&&Fl(y,T),N;if(j===null){for(;!B.done;T++,B=b.next())B=d(y,B.value,k),B!==null&&(m=i(B,m,T),F===null?N=B:F.sibling=B,F=B);return ln&&Fl(y,T),N}for(j=n(y,j);!B.done;T++,B=b.next())B=h(j,y,T,B.value,k),B!==null&&(r&&B.alternate!==null&&j.delete(B.key===null?T:B.key),m=i(B,m,T),F===null?N=B:F.sibling=B,F=B);return r&&j.forEach(function(R){return t(y,R)}),ln&&Fl(y,T),N}function p(y,m,b,k){if(typeof b=="object"&&b!==null&&b.type===Qu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:e:{for(var N=b.key,F=m;F!==null;){if(F.key===N){if(N=b.type,N===Qu){if(F.tag===7){e(y,F.sibling),m=s(F,b.props.children),m.return=y,y=m;break e}}else if(F.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ia&&xb(N)===F.type){e(y,F.sibling),m=s(F,b.props),m.ref=lh(y,F,b),m.return=y,y=m;break e}e(y,F);break}else t(y,F);F=F.sibling}b.type===Qu?(m=Gl(b.props.children,y.mode,k,b.key),m.return=y,y=m):(k=hp(b.type,b.key,b.props,null,y.mode,k),k.ref=lh(y,m,b),k.return=y,y=k)}return o(y);case Yu:e:{for(F=b.key;m!==null;){if(m.key===F)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){e(y,m.sibling),m=s(m,b.children||[]),m.return=y,y=m;break e}else{e(y,m);break}else t(y,m);m=m.sibling}m=V0(b,y.mode,k),m.return=y,y=m}return o(y);case Ia:return F=b._init,p(y,m,F(b._payload),k)}if(vh(b))return g(y,m,b,k);if(nh(b))return v(y,m,b,k);Id(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(e(y,m.sibling),m=s(m,b),m.return=y,y=m):(e(y,m),m=z0(b,y.mode,k),m.return=y,y=m),o(y)):e(y,m)}return p}var xc=k3(!0),E3=k3(!1),Lp=vl(null),Op=null,sc=null,C2=null;function N2(){C2=sc=Op=null}function P2(r){var t=Lp.current;sn(Lp),r._currentValue=t}function Qg(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function dc(r,t){Op=r,C2=sc=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(qi=!0),r.firstContext=null)}function Ts(r){var t=r._currentValue;if(C2!==r)if(r={context:r,memoizedValue:t,next:null},sc===null){if(Op===null)throw Error(gt(308));sc=r,Op.dependencies={lanes:0,firstContext:r}}else sc=sc.next=r;return t}var ql=null;function I2(r){ql===null?ql=[r]:ql.push(r)}function A3(r,t,e,n){var s=t.interleaved;return s===null?(e.next=e,I2(t)):(e.next=s.next,s.next=e),t.interleaved=e,Ko(r,n)}function Ko(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var Ra=!1;function R2(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T3(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Wo(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Nr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ko(r,e)}return s=n.interleaved,s===null?(t.next=t,I2(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ko(r,e)}function sp(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,y2(r,e)}}function Sb(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var s=null,i=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};i===null?s=i=o:i=i.next=o,e=e.next}while(e!==null);i===null?s=i=t:i=i.next=t}else s=i=t;e={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function Dp(r,t,e,n){var s=r.updateQueue;Ra=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var a=u,l=a.next;a.next=null,o===null?i=l:o.next=l,o=a;var c=r.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==o&&(u===null?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=l=a=null,u=i;do{var f=u.lane,h=u.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var g=r,v=u;switch(f=t,h=e,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=dn({},d,f);break e;case 2:Ra=!0}}u.callback!==null&&u.lane!==0&&(r.flags|=64,f=s.effects,f===null?s.effects=[u]:f.push(u))}else h={eventTime:h,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(l=c=h,a=d):c=c.next=h,o|=f;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;f=u,u=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=l,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);lu|=o,r.lanes=o,r.memoizedState=d}}function kb(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],s=n.callback;if(s!==null){if(n.callback=null,n=e,typeof s!="function")throw Error(gt(191,s));s.call(n)}}}var Pf={},go=vl(Pf),sf=vl(Pf),of=vl(Pf);function Hl(r){if(r===Pf)throw Error(gt(174));return r}function M2(r,t){switch(Zr(of,t),Zr(sf,r),Zr(go,Pf),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ig(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=Ig(t,r)}sn(go),Zr(go,t)}function Sc(){sn(go),sn(sf),sn(of)}function C3(r){Hl(of.current);var t=Hl(go.current),e=Ig(t,r.type);t!==e&&(Zr(sf,r),Zr(go,e))}function j2(r){sf.current===r&&(sn(go),sn(sf))}var hn=vl(0);function Fp(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var L0=[];function L2(){for(var r=0;r<L0.length;r++)L0[r]._workInProgressVersionPrimary=null;L0.length=0}var op=ra.ReactCurrentDispatcher,O0=ra.ReactCurrentBatchConfig,au=0,fn=null,Dn=null,$n=null,Bp=!1,Rh=!1,af=0,P9=0;function ai(){throw Error(gt(321))}function O2(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!Gs(r[e],t[e]))return!1;return!0}function D2(r,t,e,n,s,i){if(au=i,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,op.current=r===null||r.memoizedState===null?j9:L9,r=e(n,s),Rh){i=0;do{if(Rh=!1,af=0,25<=i)throw Error(gt(301));i+=1,$n=Dn=null,t.updateQueue=null,op.current=O9,r=e(n,s)}while(Rh)}if(op.current=Up,t=Dn!==null&&Dn.next!==null,au=0,$n=Dn=fn=null,Bp=!1,t)throw Error(gt(300));return r}function F2(){var r=af!==0;return af=0,r}function co(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?fn.memoizedState=$n=r:$n=$n.next=r,$n}function Cs(){if(Dn===null){var r=fn.alternate;r=r!==null?r.memoizedState:null}else r=Dn.next;var t=$n===null?fn.memoizedState:$n.next;if(t!==null)$n=t,Dn=r;else{if(r===null)throw Error(gt(310));Dn=r,r={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},$n===null?fn.memoizedState=$n=r:$n=$n.next=r}return $n}function lf(r,t){return typeof t=="function"?t(r):t}function D0(r){var t=Cs(),e=t.queue;if(e===null)throw Error(gt(311));e.lastRenderedReducer=r;var n=Dn,s=n.baseQueue,i=e.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,e.pending=null}if(s!==null){i=s.next,n=n.baseState;var u=o=null,a=null,l=i;do{var c=l.lane;if((au&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:r(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(u=a=d,o=n):a=a.next=d,fn.lanes|=c,lu|=c}l=l.next}while(l!==null&&l!==i);a===null?o=n:a.next=u,Gs(n,t.memoizedState)||(qi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,e.lastRenderedState=n}if(r=e.interleaved,r!==null){s=r;do i=s.lane,fn.lanes|=i,lu|=i,s=s.next;while(s!==r)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function F0(r){var t=Cs(),e=t.queue;if(e===null)throw Error(gt(311));e.lastRenderedReducer=r;var n=e.dispatch,s=e.pending,i=t.memoizedState;if(s!==null){e.pending=null;var o=s=s.next;do i=r(i,o.action),o=o.next;while(o!==s);Gs(i,t.memoizedState)||(qi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),e.lastRenderedState=i}return[i,n]}function N3(){}function P3(r,t){var e=fn,n=Cs(),s=t(),i=!Gs(n.memoizedState,s);if(i&&(n.memoizedState=s,qi=!0),n=n.queue,B2(M3.bind(null,e,n,r),[r]),n.getSnapshot!==t||i||$n!==null&&$n.memoizedState.tag&1){if(e.flags|=2048,uf(9,R3.bind(null,e,n,s,t),void 0,null),Wn===null)throw Error(gt(349));au&30||I3(e,t,s)}return s}function I3(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function R3(r,t,e,n){t.value=e,t.getSnapshot=n,j3(t)&&L3(r)}function M3(r,t,e){return e(function(){j3(t)&&L3(r)})}function j3(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!Gs(r,e)}catch{return!0}}function L3(r){var t=Ko(r,1);t!==null&&Xs(t,r,1,-1)}function Eb(r){var t=co();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lf,lastRenderedState:r},t.queue=r,r=r.dispatch=M9.bind(null,fn,r),[t.memoizedState,r]}function uf(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function O3(){return Cs().memoizedState}function ap(r,t,e,n){var s=co();fn.flags|=r,s.memoizedState=uf(1|t,e,void 0,n===void 0?null:n)}function vm(r,t,e,n){var s=Cs();n=n===void 0?null:n;var i=void 0;if(Dn!==null){var o=Dn.memoizedState;if(i=o.destroy,n!==null&&O2(n,o.deps)){s.memoizedState=uf(t,e,i,n);return}}fn.flags|=r,s.memoizedState=uf(1|t,e,i,n)}function Ab(r,t){return ap(8390656,8,r,t)}function B2(r,t){return vm(2048,8,r,t)}function D3(r,t){return vm(4,2,r,t)}function F3(r,t){return vm(4,4,r,t)}function B3(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function U3(r,t,e){return e=e!=null?e.concat([r]):null,vm(4,4,B3.bind(null,t,r),e)}function U2(){}function z3(r,t){var e=Cs();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&O2(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function V3(r,t){var e=Cs();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&O2(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function q3(r,t,e){return au&21?(Gs(e,t)||(e=G4(),fn.lanes|=e,lu|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,qi=!0),r.memoizedState=e)}function I9(r,t){var e=qr;qr=e!==0&&4>e?e:4,r(!0);var n=O0.transition;O0.transition={};try{r(!1),t()}finally{qr=e,O0.transition=n}}function H3(){return Cs().memoizedState}function R9(r,t,e){var n=Za(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},$3(r))W3(t,e);else if(e=A3(r,t,e,n),e!==null){var s=Pi();Xs(e,r,n,s),X3(e,t,n)}}function M9(r,t,e){var n=Za(r),s={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if($3(r))W3(t,s);else{var i=r.alternate;if(r.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,u=i(o,e);if(s.hasEagerState=!0,s.eagerState=u,Gs(u,o)){var a=t.interleaved;a===null?(s.next=s,I2(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}e=A3(r,t,s,n),e!==null&&(s=Pi(),Xs(e,r,n,s),X3(e,t,n))}}function $3(r){var t=r.alternate;return r===fn||t!==null&&t===fn}function W3(r,t){Rh=Bp=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function X3(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,y2(r,e)}}var Up={readContext:Ts,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},j9={readContext:Ts,useCallback:function(r,t){return co().memoizedState=[r,t===void 0?null:t],r},useContext:Ts,useEffect:Ab,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,ap(4194308,4,B3.bind(null,t,r),e)},useLayoutEffect:function(r,t){return ap(4194308,4,r,t)},useInsertionEffect:function(r,t){return ap(4,2,r,t)},useMemo:function(r,t){var e=co();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=co();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=R9.bind(null,fn,r),[n.memoizedState,r]},useRef:function(r){var t=co();return r={current:r},t.memoizedState=r},useState:Eb,useDebugValue:U2,useDeferredValue:function(r){return co().memoizedState=r},useTransition:function(){var r=Eb(!1),t=r[0];return r=I9.bind(null,r[1]),co().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=fn,s=co();if(ln){if(e===void 0)throw Error(gt(407));e=e()}else{if(e=t(),Wn===null)throw Error(gt(349));au&30||I3(n,t,e)}s.memoizedState=e;var i={value:e,getSnapshot:t};return s.queue=i,Ab(M3.bind(null,n,i,r),[r]),n.flags|=2048,uf(9,R3.bind(null,n,i,e,t),void 0,null),e},useId:function(){var r=co(),t=Wn.identifierPrefix;if(ln){var e=zo,n=Uo;e=(n&~(1<<32-Ws(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=af++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=P9++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},L9={readContext:Ts,useCallback:z3,useContext:Ts,useEffect:B2,useImperativeHandle:U3,useInsertionEffect:D3,useLayoutEffect:F3,useMemo:V3,useReducer:D0,useRef:O3,useState:function(){return D0(lf)},useDebugValue:U2,useDeferredValue:function(r){var t=Cs();return q3(t,Dn.memoizedState,r)},useTransition:function(){var r=D0(lf)[0],t=Cs().memoizedState;return[r,t]},useMutableSource:N3,useSyncExternalStore:P3,useId:H3,unstable_isNewReconciler:!1},O9={readContext:Ts,useCallback:z3,useContext:Ts,useEffect:B2,useImperativeHandle:U3,useInsertionEffect:D3,useLayoutEffect:F3,useMemo:V3,useReducer:F0,useRef:O3,useState:function(){return F0(lf)},useDebugValue:U2,useDeferredValue:function(r){var t=Cs();return Dn===null?t.memoizedState=r:q3(t,Dn.memoizedState,r)},useTransition:function(){var r=F0(lf)[0],t=Cs().memoizedState;return[r,t]},useMutableSource:N3,useSyncExternalStore:P3,useId:H3,unstable_isNewReconciler:!1};function zs(r,t){if(r&&r.defaultProps){t=dn({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function Zg(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:dn({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var bm={isMounted:function(r){return(r=r._reactInternals)?yu(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=Pi(),s=Za(r),i=Wo(n,s);i.payload=t,e!=null&&(i.callback=e),t=Ya(r,i,s),t!==null&&(Xs(t,r,s,n),sp(t,r,s))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=Pi(),s=Za(r),i=Wo(n,s);i.tag=1,i.payload=t,e!=null&&(i.callback=e),t=Ya(r,i,s),t!==null&&(Xs(t,r,s,n),sp(t,r,s))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=Pi(),n=Za(r),s=Wo(e,n);s.tag=2,t!=null&&(s.callback=t),t=Ya(r,s,n),t!==null&&(Xs(t,r,n,e),sp(t,r,n))}};function Tb(r,t,e,n,s,i,o){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ef(e,n)||!ef(s,i):!0}function G3(r,t,e){var n=!1,s=ul,i=t.contextType;return typeof i=="object"&&i!==null?i=Ts(i):(s=$i(t)?su:wi.current,n=t.contextTypes,i=(n=n!=null)?wc(r,s):ul),t=new t(e,i),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bm,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=i),t}function Cb(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&bm.enqueueReplaceState(t,t.state,null)}function Jg(r,t,e,n){var s=r.stateNode;s.props=e,s.state=r.memoizedState,s.refs={},R2(r);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ts(i):(i=$i(t)?su:wi.current,s.context=wc(r,i)),s.state=r.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zg(r,t,i,e),s.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bm.enqueueReplaceState(s,s.state,null),Dp(r,e,s,n),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function kc(r,t){try{var e="",n=t;do e+=c7(n),n=n.return;while(n);var s=e}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:r,source:t,stack:s,digest:null}}function B0(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function e1(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var D9=typeof WeakMap=="function"?WeakMap:Map;function K3(r,t,e){e=Wo(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){Vp||(Vp=!0,c1=n),e1(r,t)},e}function Y3(r,t,e){e=Wo(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;e.payload=function(){return n(s)},e.callback=function(){e1(r,t)}}var i=r.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){e1(r,t),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function Nb(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new D9;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(e)||(s.add(e),r=Q9.bind(null,r,t,e),t.then(r,r))}function Pb(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function Ib(r,t,e,n,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Wo(-1,1),t.tag=2,Ya(e,t,1))),e.lanes|=1),r)}var F9=ra.ReactCurrentOwner,qi=!1;function Ni(r,t,e,n){t.child=r===null?E3(t,null,e,n):xc(t,r.child,e,n)}function Rb(r,t,e,n,s){e=e.render;var i=t.ref;return dc(t,s),n=D2(r,t,e,n,i,s),e=F2(),r!==null&&!qi?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~s,Yo(r,t,s)):(ln&&e&&E2(t),t.flags|=1,Ni(r,t,n,s),t.child)}function Mb(r,t,e,n,s){if(r===null){var i=e.type;return typeof i=="function"&&!G2(i)&&i.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=i,Q3(r,t,i,n,s)):(r=hp(e.type,null,n,t,t.mode,s),r.ref=t.ref,r.return=t,t.child=r)}if(i=r.child,!(r.lanes&s)){var o=i.memoizedProps;if(e=e.compare,e=e!==null?e:ef,e(o,n)&&r.ref===t.ref)return Yo(r,t,s)}return t.flags|=1,r=Ja(i,n),r.ref=t.ref,r.return=t,t.child=r}function Q3(r,t,e,n,s){if(r!==null){var i=r.memoizedProps;if(ef(i,n)&&r.ref===t.ref)if(qi=!1,t.pendingProps=n=i,(r.lanes&s)!==0)r.flags&131072&&(qi=!0);else return t.lanes=r.lanes,Yo(r,t,s)}return t1(r,t,e,n,s)}function Z3(r,t,e){var n=t.pendingProps,s=n.children,i=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zr(ac,es),es|=e;else{if(!(e&1073741824))return r=i!==null?i.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Zr(ac,es),es|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:e,Zr(ac,es),es|=n}else i!==null?(n=i.baseLanes|e,t.memoizedState=null):n=e,Zr(ac,es),es|=n;return Ni(r,t,s,e),t.child}function J3(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function t1(r,t,e,n,s){var i=$i(e)?su:wi.current;return i=wc(t,i),dc(t,s),e=D2(r,t,e,n,i,s),n=F2(),r!==null&&!qi?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~s,Yo(r,t,s)):(ln&&n&&E2(t),t.flags|=1,Ni(r,t,e,s),t.child)}function jb(r,t,e,n,s){if($i(e)){var i=!0;Rp(t)}else i=!1;if(dc(t,s),t.stateNode===null)lp(r,t),G3(t,e,n),Jg(t,e,n,s),n=!0;else if(r===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var a=o.context,l=e.contextType;typeof l=="object"&&l!==null?l=Ts(l):(l=$i(e)?su:wi.current,l=wc(t,l));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||a!==l)&&Cb(t,o,n,l),Ra=!1;var f=t.memoizedState;o.state=f,Dp(t,n,o,s),a=t.memoizedState,u!==n||f!==a||Hi.current||Ra?(typeof c=="function"&&(Zg(t,e,c,n),a=t.memoizedState),(u=Ra||Tb(t,e,u,n,f,a,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=l,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,T3(r,t),u=t.memoizedProps,l=t.type===t.elementType?u:zs(t.type,u),o.props=l,d=t.pendingProps,f=o.context,a=e.contextType,typeof a=="object"&&a!==null?a=Ts(a):(a=$i(e)?su:wi.current,a=wc(t,a));var h=e.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==d||f!==a)&&Cb(t,o,n,a),Ra=!1,f=t.memoizedState,o.state=f,Dp(t,n,o,s);var g=t.memoizedState;u!==d||f!==g||Hi.current||Ra?(typeof h=="function"&&(Zg(t,e,h,n),g=t.memoizedState),(l=Ra||Tb(t,e,l,n,f,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=a,n=l):(typeof o.componentDidUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=1024),n=!1)}return r1(r,t,e,n,i,s)}function r1(r,t,e,n,s,i){J3(r,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&bb(t,e,!1),Yo(r,t,i);n=t.stateNode,F9.current=t;var u=o&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&o?(t.child=xc(t,r.child,null,i),t.child=xc(t,null,u,i)):Ni(r,t,u,i),t.memoizedState=n.state,s&&bb(t,e,!0),t.child}function e_(r){var t=r.stateNode;t.pendingContext?vb(r,t.pendingContext,t.pendingContext!==t.context):t.context&&vb(r,t.context,!1),M2(r,t.containerInfo)}function Lb(r,t,e,n,s){return _c(),T2(s),t.flags|=256,Ni(r,t,e,n),t.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function i1(r){return{baseLanes:r,cachePool:null,transitions:null}}function t_(r,t,e){var n=t.pendingProps,s=hn.current,i=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=r!==null&&r.memoizedState===null?!1:(s&2)!==0),u?(i=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),Zr(hn,s&1),r===null)return Yg(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,r=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xm(o,n,0,null),r=Gl(r,n,e,null),i.return=t,r.return=t,i.sibling=r,t.child=i,t.child.memoizedState=i1(e),t.memoizedState=n1,r):z2(t,o));if(s=r.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return B9(r,t,o,n,u,s,e);if(i){i=n.fallback,o=t.mode,s=r.child,u=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Ja(s,a),n.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=Ja(u,i):(i=Gl(i,o,e,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=r.child.memoizedState,o=o===null?i1(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=r.childLanes&~e,t.memoizedState=n1,n}return i=r.child,r=i.sibling,n=Ja(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function z2(r,t){return t=xm({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function Rd(r,t,e,n){return n!==null&&T2(n),xc(t,r.child,null,e),r=z2(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function B9(r,t,e,n,s,i,o){if(e)return t.flags&256?(t.flags&=-257,n=B0(Error(gt(422))),Rd(r,t,o,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=xm({mode:"visible",children:n.children},s,0,null),i=Gl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xc(t,r.child,null,o),t.child.memoizedState=i1(o),t.memoizedState=n1,i);if(!(t.mode&1))return Rd(r,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var u=n.dgst;return n=u,i=Error(gt(419)),n=B0(i,n,void 0),Rd(r,t,o,n)}if(u=(o&r.childLanes)!==0,qi||u){if(n=Wn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ko(r,s),Xs(n,r,s,-1))}return X2(),n=B0(Error(gt(421))),Rd(r,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=r.child,t=Z9.bind(null,r),s._reactRetry=t,null):(r=i.treeContext,ts=Ka(s.nextSibling),ss=t,ln=!0,Hs=null,r!==null&&(_s[xs++]=Uo,_s[xs++]=zo,_s[xs++]=ou,Uo=r.id,zo=r.overflow,ou=t),t=z2(t,n.children),t.flags|=4096,t)}function Ob(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),Qg(r.return,t,e)}function U0(r,t,e,n,s){var i=r.memoizedState;i===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=e,i.tailMode=s)}function r_(r,t,e){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ni(r,t,n.children,e),n=hn.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ob(r,e,t);else if(r.tag===19)Ob(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Zr(hn,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)r=e.alternate,r!==null&&Fp(r)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),U0(t,!1,s,e,i);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(r=s.alternate,r!==null&&Fp(r)===null){t.child=s;break}r=s.sibling,s.sibling=e,e=s,s=r}U0(t,!0,e,null,i);break;case"together":U0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lp(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Yo(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),lu|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(gt(153));if(t.child!==null){for(r=t.child,e=Ja(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=Ja(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function U9(r,t,e){switch(t.tag){case 3:e_(t),_c();break;case 5:C3(t);break;case 1:$i(t.type)&&Rp(t);break;case 4:M2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Zr(Lp,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Zr(hn,hn.current&1),t.flags|=128,null):e&t.child.childLanes?t_(r,t,e):(Zr(hn,hn.current&1),r=Yo(r,t,e),r!==null?r.sibling:null);Zr(hn,hn.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return r_(r,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Zr(hn,hn.current),n)break;return null;case 22:case 23:return t.lanes=0,Z3(r,t,e)}return Yo(r,t,e)}var n_,s1,i_,s_;n_=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};s1=function(){};i_=function(r,t,e,n){var s=r.memoizedProps;if(s!==n){r=t.stateNode,Hl(go.current);var i=null;switch(e){case"input":s=Tg(r,s),n=Tg(r,n),i=[];break;case"select":s=dn({},s,{value:void 0}),n=dn({},n,{value:void 0}),i=[];break;case"textarea":s=Pg(r,s),n=Pg(r,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Pp)}Rg(e,n);var o;e=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var u=s[l];for(o in u)u.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Xh.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var a=n[l];if(u=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&a!==u&&(a!=null||u!=null))if(l==="style")if(u){for(o in u)!u.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in a)a.hasOwnProperty(o)&&u[o]!==a[o]&&(e||(e={}),e[o]=a[o])}else e||(i||(i=[]),i.push(l,e)),e=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(i=i||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Xh.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&tn("scroll",r),i||u===a||(i=[])):(i=i||[]).push(l,a))}e&&(i=i||[]).push("style",e);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};s_=function(r,t,e,n){e!==n&&(t.flags|=4)};function uh(r,t){if(!ln)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function li(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var s=r.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function z9(r,t,e){var n=t.pendingProps;switch(A2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(t),null;case 1:return $i(t.type)&&Ip(),li(t),null;case 3:return n=t.stateNode,Sc(),sn(Hi),sn(wi),L2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Pd(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hs!==null&&(d1(Hs),Hs=null))),s1(r,t),li(t),null;case 5:j2(t);var s=Hl(of.current);if(e=t.type,r!==null&&t.stateNode!=null)i_(r,t,e,n,s),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(gt(166));return li(t),null}if(r=Hl(go.current),Pd(t)){n=t.stateNode,e=t.type;var i=t.memoizedProps;switch(n[ho]=t,n[nf]=i,r=(t.mode&1)!==0,e){case"dialog":tn("cancel",n),tn("close",n);break;case"iframe":case"object":case"embed":tn("load",n);break;case"video":case"audio":for(s=0;s<wh.length;s++)tn(wh[s],n);break;case"source":tn("error",n);break;case"img":case"image":case"link":tn("error",n),tn("load",n);break;case"details":tn("toggle",n);break;case"input":$v(n,i),tn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},tn("invalid",n);break;case"textarea":Xv(n,i),tn("invalid",n)}Rg(e,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?n.textContent!==u&&(i.suppressHydrationWarning!==!0&&Nd(n.textContent,u,r),s=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Nd(n.textContent,u,r),s=["children",""+u]):Xh.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&tn("scroll",n)}switch(e){case"input":_d(n),Wv(n,i,!0);break;case"textarea":_d(n),Gv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pp)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=M4(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=o.createElement(e,{is:n.is}):(r=o.createElement(e),e==="select"&&(o=r,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):r=o.createElementNS(r,e),r[ho]=t,r[nf]=n,n_(r,t,!1,!1),t.stateNode=r;e:{switch(o=Mg(e,n),e){case"dialog":tn("cancel",r),tn("close",r),s=n;break;case"iframe":case"object":case"embed":tn("load",r),s=n;break;case"video":case"audio":for(s=0;s<wh.length;s++)tn(wh[s],r);s=n;break;case"source":tn("error",r),s=n;break;case"img":case"image":case"link":tn("error",r),tn("load",r),s=n;break;case"details":tn("toggle",r),s=n;break;case"input":$v(r,n),s=Tg(r,n),tn("invalid",r);break;case"option":s=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},s=dn({},n,{value:void 0}),tn("invalid",r);break;case"textarea":Xv(r,n),s=Pg(r,n),tn("invalid",r);break;default:s=n}Rg(e,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var a=u[i];i==="style"?O4(r,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&j4(r,a)):i==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&Gh(r,a):typeof a=="number"&&Gh(r,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xh.hasOwnProperty(i)?a!=null&&i==="onScroll"&&tn("scroll",r):a!=null&&h2(r,i,a,o))}switch(e){case"input":_d(r),Wv(r,n,!1);break;case"textarea":_d(r),Gv(r);break;case"option":n.value!=null&&r.setAttribute("value",""+ll(n.value));break;case"select":r.multiple=!!n.multiple,i=n.value,i!=null?uc(r,!!n.multiple,i,!1):n.defaultValue!=null&&uc(r,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=Pp)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return li(t),null;case 6:if(r&&t.stateNode!=null)s_(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gt(166));if(e=Hl(of.current),Hl(go.current),Pd(t)){if(n=t.stateNode,e=t.memoizedProps,n[ho]=t,(i=n.nodeValue!==e)&&(r=ss,r!==null))switch(r.tag){case 3:Nd(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Nd(n.nodeValue,e,(r.mode&1)!==0)}i&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[ho]=t,t.stateNode=n}return li(t),null;case 13:if(sn(hn),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ln&&ts!==null&&t.mode&1&&!(t.flags&128))S3(),_c(),t.flags|=98560,i=!1;else if(i=Pd(t),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(gt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(gt(317));i[ho]=t}else _c(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;li(t),i=!1}else Hs!==null&&(d1(Hs),Hs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||hn.current&1?Bn===0&&(Bn=3):X2())),t.updateQueue!==null&&(t.flags|=4),li(t),null);case 4:return Sc(),s1(r,t),r===null&&tf(t.stateNode.containerInfo),li(t),null;case 10:return P2(t.type._context),li(t),null;case 17:return $i(t.type)&&Ip(),li(t),null;case 19:if(sn(hn),i=t.memoizedState,i===null)return li(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)uh(i,!1);else{if(Bn!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(o=Fp(r),o!==null){for(t.flags|=128,uh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)i=e,r=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Zr(hn,hn.current&1|2),t.child}r=r.sibling}i.tail!==null&&An()>Ec&&(t.flags|=128,n=!0,uh(i,!1),t.lanes=4194304)}else{if(!n)if(r=Fp(o),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),uh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ln)return li(t),null}else 2*An()-i.renderingStartTime>Ec&&e!==1073741824&&(t.flags|=128,n=!0,uh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=An(),t.sibling=null,e=hn.current,Zr(hn,n?e&1|2:e&1),t):(li(t),null);case 22:case 23:return W2(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?es&1073741824&&(li(t),t.subtreeFlags&6&&(t.flags|=8192)):li(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function V9(r,t){switch(A2(t),t.tag){case 1:return $i(t.type)&&Ip(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return Sc(),sn(Hi),sn(wi),L2(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return j2(t),null;case 13:if(sn(hn),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));_c()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return sn(hn),null;case 4:return Sc(),null;case 10:return P2(t.type._context),null;case 22:case 23:return W2(),null;case 24:return null;default:return null}}var Md=!1,gi=!1,q9=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function oc(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){bn(r,t,n)}else e.current=null}function o1(r,t,e){try{e()}catch(n){bn(r,t,n)}}var Db=!1;function H9(r,t){if(qg=Tp,r=c3(),k2(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch{e=null;break e}var o=0,u=-1,a=-1,l=0,c=0,d=r,f=null;t:for(;;){for(var h;d!==e||s!==0&&d.nodeType!==3||(u=o+s),d!==i||n!==0&&d.nodeType!==3||(a=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===r)break t;if(f===e&&++l===s&&(u=o),f===i&&++c===n&&(a=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}e=u===-1||a===-1?null:{start:u,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(Hg={focusedElem:r,selectionRange:e},Tp=!1,Ot=t;Ot!==null;)if(t=Ot,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,Ot=r;else for(;Ot!==null;){t=Ot;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,p=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:zs(t.type,v),p);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(k){bn(t,t.return,k)}if(r=t.sibling,r!==null){r.return=t.return,Ot=r;break}Ot=t.return}return g=Db,Db=!1,g}function Mh(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var i=s.destroy;s.destroy=void 0,i!==void 0&&o1(t,e,i)}s=s.next}while(s!==n)}}function wm(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function a1(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function o_(r){var t=r.alternate;t!==null&&(r.alternate=null,o_(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[ho],delete t[nf],delete t[Xg],delete t[A9],delete t[T9])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function a_(r){return r.tag===5||r.tag===3||r.tag===4}function Fb(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||a_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function l1(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Pp));else if(n!==4&&(r=r.child,r!==null))for(l1(r,t,e),r=r.sibling;r!==null;)l1(r,t,e),r=r.sibling}function u1(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(u1(r,t,e),r=r.sibling;r!==null;)u1(r,t,e),r=r.sibling}var Zn=null,qs=!1;function Aa(r,t,e){for(e=e.child;e!==null;)l_(r,t,e),e=e.sibling}function l_(r,t,e){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(fm,e)}catch{}switch(e.tag){case 5:gi||oc(e,t);case 6:var n=Zn,s=qs;Zn=null,Aa(r,t,e),Zn=n,qs=s,Zn!==null&&(qs?(r=Zn,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):Zn.removeChild(e.stateNode));break;case 18:Zn!==null&&(qs?(r=Zn,e=e.stateNode,r.nodeType===8?M0(r.parentNode,e):r.nodeType===1&&M0(r,e),Zh(r)):M0(Zn,e.stateNode));break;case 4:n=Zn,s=qs,Zn=e.stateNode.containerInfo,qs=!0,Aa(r,t,e),Zn=n,qs=s;break;case 0:case 11:case 14:case 15:if(!gi&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&o1(e,t,o),s=s.next}while(s!==n)}Aa(r,t,e);break;case 1:if(!gi&&(oc(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(u){bn(e,t,u)}Aa(r,t,e);break;case 21:Aa(r,t,e);break;case 22:e.mode&1?(gi=(n=gi)||e.memoizedState!==null,Aa(r,t,e),gi=n):Aa(r,t,e);break;default:Aa(r,t,e)}}function Bb(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new q9),t.forEach(function(n){var s=J9.bind(null,r,n);e.has(n)||(e.add(n),n.then(s,s))})}}function Fs(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];try{var i=r,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:Zn=u.stateNode,qs=!1;break e;case 3:Zn=u.stateNode.containerInfo,qs=!0;break e;case 4:Zn=u.stateNode.containerInfo,qs=!0;break e}u=u.return}if(Zn===null)throw Error(gt(160));l_(i,o,s),Zn=null,qs=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(l){bn(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u_(t,r),t=t.sibling}function u_(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fs(t,r),ao(r),n&4){try{Mh(3,r,r.return),wm(3,r)}catch(v){bn(r,r.return,v)}try{Mh(5,r,r.return)}catch(v){bn(r,r.return,v)}}break;case 1:Fs(t,r),ao(r),n&512&&e!==null&&oc(e,e.return);break;case 5:if(Fs(t,r),ao(r),n&512&&e!==null&&oc(e,e.return),r.flags&32){var s=r.stateNode;try{Gh(s,"")}catch(v){bn(r,r.return,v)}}if(n&4&&(s=r.stateNode,s!=null)){var i=r.memoizedProps,o=e!==null?e.memoizedProps:i,u=r.type,a=r.updateQueue;if(r.updateQueue=null,a!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&I4(s,i),Mg(u,o);var l=Mg(u,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?O4(s,d):c==="dangerouslySetInnerHTML"?j4(s,d):c==="children"?Gh(s,d):h2(s,c,d,l)}switch(u){case"input":Cg(s,i);break;case"textarea":R4(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?uc(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?uc(s,!!i.multiple,i.defaultValue,!0):uc(s,!!i.multiple,i.multiple?[]:"",!1))}s[nf]=i}catch(v){bn(r,r.return,v)}}break;case 6:if(Fs(t,r),ao(r),n&4){if(r.stateNode===null)throw Error(gt(162));s=r.stateNode,i=r.memoizedProps;try{s.nodeValue=i}catch(v){bn(r,r.return,v)}}break;case 3:if(Fs(t,r),ao(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{Zh(t.containerInfo)}catch(v){bn(r,r.return,v)}break;case 4:Fs(t,r),ao(r);break;case 13:Fs(t,r),ao(r),s=r.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(H2=An())),n&4&&Bb(r);break;case 22:if(c=e!==null&&e.memoizedState!==null,r.mode&1?(gi=(l=gi)||c,Fs(t,r),gi=l):Fs(t,r),ao(r),n&8192){if(l=r.memoizedState!==null,(r.stateNode.isHidden=l)&&!c&&r.mode&1)for(Ot=r,c=r.child;c!==null;){for(d=Ot=c;Ot!==null;){switch(f=Ot,h=f.child,f.tag){case 0:case 11:case 14:case 15:Mh(4,f,f.return);break;case 1:oc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,e=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){bn(n,e,v)}}break;case 5:oc(f,f.return);break;case 22:if(f.memoizedState!==null){zb(d);continue}}h!==null?(h.return=f,Ot=h):zb(d)}c=c.sibling}e:for(c=null,d=r;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=L4("display",o))}catch(v){bn(r,r.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){bn(r,r.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fs(t,r),ao(r),n&4&&Bb(r);break;case 21:break;default:Fs(t,r),ao(r)}}function ao(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(a_(e)){var n=e;break e}e=e.return}throw Error(gt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Gh(s,""),n.flags&=-33);var i=Fb(r);u1(r,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Fb(r);l1(r,u,o);break;default:throw Error(gt(161))}}catch(a){bn(r,r.return,a)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function $9(r,t,e){Ot=r,c_(r)}function c_(r,t,e){for(var n=(r.mode&1)!==0;Ot!==null;){var s=Ot,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Md;if(!o){var u=s.alternate,a=u!==null&&u.memoizedState!==null||gi;u=Md;var l=gi;if(Md=o,(gi=a)&&!l)for(Ot=s;Ot!==null;)o=Ot,a=o.child,o.tag===22&&o.memoizedState!==null?Vb(s):a!==null?(a.return=o,Ot=a):Vb(s);for(;i!==null;)Ot=i,c_(i),i=i.sibling;Ot=s,Md=u,gi=l}Ub(r)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ot=i):Ub(r)}}function Ub(r){for(;Ot!==null;){var t=Ot;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gi||wm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gi)if(e===null)n.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:zs(t.type,e.memoizedProps);n.componentDidUpdate(s,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}kb(t,o,e)}break;case 5:var u=t.stateNode;if(e===null&&t.flags&4){e=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}gi||t.flags&512&&a1(t)}catch(f){bn(t,t.return,f)}}if(t===r){Ot=null;break}if(e=t.sibling,e!==null){e.return=t.return,Ot=e;break}Ot=t.return}}function zb(r){for(;Ot!==null;){var t=Ot;if(t===r){Ot=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Ot=e;break}Ot=t.return}}function Vb(r){for(;Ot!==null;){var t=Ot;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{wm(4,t)}catch(a){bn(t,e,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){bn(t,s,a)}}var i=t.return;try{a1(t)}catch(a){bn(t,i,a)}break;case 5:var o=t.return;try{a1(t)}catch(a){bn(t,o,a)}}}catch(a){bn(t,t.return,a)}if(t===r){Ot=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ot=u;break}Ot=t.return}}var W9=Math.ceil,zp=ra.ReactCurrentDispatcher,V2=ra.ReactCurrentOwner,As=ra.ReactCurrentBatchConfig,Nr=0,Wn=null,Mn=null,ti=0,es=0,ac=vl(0),Bn=0,cf=null,lu=0,_m=0,q2=0,jh=null,zi=null,H2=0,Ec=1/0,Fo=null,Vp=!1,c1=null,Qa=null,jd=!1,qa=null,qp=0,Lh=0,h1=null,up=-1,cp=0;function Pi(){return Nr&6?An():up!==-1?up:up=An()}function Za(r){return r.mode&1?Nr&2&&ti!==0?ti&-ti:N9.transition!==null?(cp===0&&(cp=G4()),cp):(r=qr,r!==0||(r=window.event,r=r===void 0?16:t3(r.type)),r):1}function Xs(r,t,e,n){if(50<Lh)throw Lh=0,h1=null,Error(gt(185));Tf(r,e,n),(!(Nr&2)||r!==Wn)&&(r===Wn&&(!(Nr&2)&&(_m|=e),Bn===4&&ja(r,ti)),Wi(r,n),e===1&&Nr===0&&!(t.mode&1)&&(Ec=An()+500,ym&&bl()))}function Wi(r,t){var e=r.callbackNode;N7(r,t);var n=Ap(r,r===Wn?ti:0);if(n===0)e!==null&&Qv(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&Qv(e),t===1)r.tag===0?C9(qb.bind(null,r)):w3(qb.bind(null,r)),k9(function(){!(Nr&6)&&bl()}),e=null;else{switch(K4(n)){case 1:e=g2;break;case 4:e=W4;break;case 16:e=Ep;break;case 536870912:e=X4;break;default:e=Ep}e=v_(e,h_.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function h_(r,t){if(up=-1,cp=0,Nr&6)throw Error(gt(327));var e=r.callbackNode;if(pc()&&r.callbackNode!==e)return null;var n=Ap(r,r===Wn?ti:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=Hp(r,n);else{t=n;var s=Nr;Nr|=2;var i=d_();(Wn!==r||ti!==t)&&(Fo=null,Ec=An()+500,Xl(r,t));do try{K9();break}catch(u){f_(r,u)}while(!0);N2(),zp.current=i,Nr=s,Mn!==null?t=0:(Wn=null,ti=0,t=Bn)}if(t!==0){if(t===2&&(s=Fg(r),s!==0&&(n=s,t=f1(r,s))),t===1)throw e=cf,Xl(r,0),ja(r,n),Wi(r,An()),e;if(t===6)ja(r,n);else{if(s=r.current.alternate,!(n&30)&&!X9(s)&&(t=Hp(r,n),t===2&&(i=Fg(r),i!==0&&(n=i,t=f1(r,i))),t===1))throw e=cf,Xl(r,0),ja(r,n),Wi(r,An()),e;switch(r.finishedWork=s,r.finishedLanes=n,t){case 0:case 1:throw Error(gt(345));case 2:Bl(r,zi,Fo);break;case 3:if(ja(r,n),(n&130023424)===n&&(t=H2+500-An(),10<t)){if(Ap(r,0)!==0)break;if(s=r.suspendedLanes,(s&n)!==n){Pi(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=Wg(Bl.bind(null,r,zi,Fo),t);break}Bl(r,zi,Fo);break;case 4:if(ja(r,n),(n&4194240)===n)break;for(t=r.eventTimes,s=-1;0<n;){var o=31-Ws(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=An()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W9(n/1960))-n,10<n){r.timeoutHandle=Wg(Bl.bind(null,r,zi,Fo),n);break}Bl(r,zi,Fo);break;case 5:Bl(r,zi,Fo);break;default:throw Error(gt(329))}}}return Wi(r,An()),r.callbackNode===e?h_.bind(null,r):null}function f1(r,t){var e=jh;return r.current.memoizedState.isDehydrated&&(Xl(r,t).flags|=256),r=Hp(r,t),r!==2&&(t=zi,zi=e,t!==null&&d1(t)),r}function d1(r){zi===null?zi=r:zi.push.apply(zi,r)}function X9(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var s=e[n],i=s.getSnapshot;s=s.value;try{if(!Gs(i(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ja(r,t){for(t&=~q2,t&=~_m,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-Ws(t),n=1<<e;r[e]=-1,t&=~n}}function qb(r){if(Nr&6)throw Error(gt(327));pc();var t=Ap(r,0);if(!(t&1))return Wi(r,An()),null;var e=Hp(r,t);if(r.tag!==0&&e===2){var n=Fg(r);n!==0&&(t=n,e=f1(r,n))}if(e===1)throw e=cf,Xl(r,0),ja(r,t),Wi(r,An()),e;if(e===6)throw Error(gt(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,Bl(r,zi,Fo),Wi(r,An()),null}function $2(r,t){var e=Nr;Nr|=1;try{return r(t)}finally{Nr=e,Nr===0&&(Ec=An()+500,ym&&bl())}}function uu(r){qa!==null&&qa.tag===0&&!(Nr&6)&&pc();var t=Nr;Nr|=1;var e=As.transition,n=qr;try{if(As.transition=null,qr=1,r)return r()}finally{qr=n,As.transition=e,Nr=t,!(Nr&6)&&bl()}}function W2(){es=ac.current,sn(ac)}function Xl(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,S9(e)),Mn!==null)for(e=Mn.return;e!==null;){var n=e;switch(A2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ip();break;case 3:Sc(),sn(Hi),sn(wi),L2();break;case 5:j2(n);break;case 4:Sc();break;case 13:sn(hn);break;case 19:sn(hn);break;case 10:P2(n.type._context);break;case 22:case 23:W2()}e=e.return}if(Wn=r,Mn=r=Ja(r.current,null),ti=es=t,Bn=0,cf=null,q2=_m=lu=0,zi=jh=null,ql!==null){for(t=0;t<ql.length;t++)if(e=ql[t],n=e.interleaved,n!==null){e.interleaved=null;var s=n.next,i=e.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}e.pending=n}ql=null}return r}function f_(r,t){do{var e=Mn;try{if(N2(),op.current=Up,Bp){for(var n=fn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bp=!1}if(au=0,$n=Dn=fn=null,Rh=!1,af=0,V2.current=null,e===null||e.return===null){Bn=1,cf=t,Mn=null;break}e:{var i=r,o=e.return,u=e,a=t;if(t=ti,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,c=u,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Pb(o);if(h!==null){h.flags&=-257,Ib(h,o,u,i,t),h.mode&1&&Nb(i,l,t),t=h,a=l;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break e}else{if(!(t&1)){Nb(i,l,t),X2();break e}a=Error(gt(426))}}else if(ln&&u.mode&1){var p=Pb(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),Ib(p,o,u,i,t),T2(kc(a,u));break e}}i=a=kc(a,u),Bn!==4&&(Bn=2),jh===null?jh=[i]:jh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=K3(i,a,t);Sb(i,y);break e;case 1:u=a;var m=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qa===null||!Qa.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Y3(i,u,t);Sb(i,k);break e}}i=i.return}while(i!==null)}m_(e)}catch(N){t=N,Mn===e&&e!==null&&(Mn=e=e.return);continue}break}while(!0)}function d_(){var r=zp.current;return zp.current=Up,r===null?Up:r}function X2(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Wn===null||!(lu&268435455)&&!(_m&268435455)||ja(Wn,ti)}function Hp(r,t){var e=Nr;Nr|=2;var n=d_();(Wn!==r||ti!==t)&&(Fo=null,Xl(r,t));do try{G9();break}catch(s){f_(r,s)}while(!0);if(N2(),Nr=e,zp.current=n,Mn!==null)throw Error(gt(261));return Wn=null,ti=0,Bn}function G9(){for(;Mn!==null;)p_(Mn)}function K9(){for(;Mn!==null&&!w7();)p_(Mn)}function p_(r){var t=y_(r.alternate,r,es);r.memoizedProps=r.pendingProps,t===null?m_(r):Mn=t,V2.current=null}function m_(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=V9(e,t),e!==null){e.flags&=32767,Mn=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bn=6,Mn=null;return}}else if(e=z9(e,t,es),e!==null){Mn=e;return}if(t=t.sibling,t!==null){Mn=t;return}Mn=t=r}while(t!==null);Bn===0&&(Bn=5)}function Bl(r,t,e){var n=qr,s=As.transition;try{As.transition=null,qr=1,Y9(r,t,e,n)}finally{As.transition=s,qr=n}return null}function Y9(r,t,e,n){do pc();while(qa!==null);if(Nr&6)throw Error(gt(327));e=r.finishedWork;var s=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(gt(177));r.callbackNode=null,r.callbackPriority=0;var i=e.lanes|e.childLanes;if(P7(r,i),r===Wn&&(Mn=Wn=null,ti=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||jd||(jd=!0,v_(Ep,function(){return pc(),null})),i=(e.flags&15990)!==0,e.subtreeFlags&15990||i){i=As.transition,As.transition=null;var o=qr;qr=1;var u=Nr;Nr|=4,V2.current=null,H9(r,e),u_(e,r),g9(Hg),Tp=!!qg,Hg=qg=null,r.current=e,$9(e),_7(),Nr=u,qr=o,As.transition=i}else r.current=e;if(jd&&(jd=!1,qa=r,qp=s),i=r.pendingLanes,i===0&&(Qa=null),k7(e.stateNode),Wi(r,An()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)s=t[e],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vp)throw Vp=!1,r=c1,c1=null,r;return qp&1&&r.tag!==0&&pc(),i=r.pendingLanes,i&1?r===h1?Lh++:(Lh=0,h1=r):Lh=0,bl(),null}function pc(){if(qa!==null){var r=K4(qp),t=As.transition,e=qr;try{if(As.transition=null,qr=16>r?16:r,qa===null)var n=!1;else{if(r=qa,qa=null,qp=0,Nr&6)throw Error(gt(331));var s=Nr;for(Nr|=4,Ot=r.current;Ot!==null;){var i=Ot,o=i.child;if(Ot.flags&16){var u=i.deletions;if(u!==null){for(var a=0;a<u.length;a++){var l=u[a];for(Ot=l;Ot!==null;){var c=Ot;switch(c.tag){case 0:case 11:case 15:Mh(8,c,i)}var d=c.child;if(d!==null)d.return=c,Ot=d;else for(;Ot!==null;){c=Ot;var f=c.sibling,h=c.return;if(o_(c),c===l){Ot=null;break}if(f!==null){f.return=h,Ot=f;break}Ot=h}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var p=v.sibling;v.sibling=null,v=p}while(v!==null)}}Ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ot=o;else e:for(;Ot!==null;){if(i=Ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ot=y;break e}Ot=i.return}}var m=r.current;for(Ot=m;Ot!==null;){o=Ot;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ot=b;else e:for(o=m;Ot!==null;){if(u=Ot,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:wm(9,u)}}catch(N){bn(u,u.return,N)}if(u===o){Ot=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,Ot=k;break e}Ot=u.return}}if(Nr=s,bl(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(fm,r)}catch{}n=!0}return n}finally{qr=e,As.transition=t}}return!1}function Hb(r,t,e){t=kc(e,t),t=K3(r,t,1),r=Ya(r,t,1),t=Pi(),r!==null&&(Tf(r,1,t),Wi(r,t))}function bn(r,t,e){if(r.tag===3)Hb(r,r,e);else for(;t!==null;){if(t.tag===3){Hb(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){r=kc(e,r),r=Y3(t,r,1),t=Ya(t,r,1),r=Pi(),t!==null&&(Tf(t,1,r),Wi(t,r));break}}t=t.return}}function Q9(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=Pi(),r.pingedLanes|=r.suspendedLanes&e,Wn===r&&(ti&e)===e&&(Bn===4||Bn===3&&(ti&130023424)===ti&&500>An()-H2?Xl(r,0):q2|=e),Wi(r,t)}function g_(r,t){t===0&&(r.mode&1?(t=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):t=1);var e=Pi();r=Ko(r,t),r!==null&&(Tf(r,t,e),Wi(r,e))}function Z9(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),g_(r,e)}function J9(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,s=r.memoizedState;s!==null&&(e=s.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(t),g_(r,e)}var y_;y_=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||Hi.current)qi=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return qi=!1,U9(r,t,e);qi=!!(r.flags&131072)}else qi=!1,ln&&t.flags&1048576&&_3(t,jp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lp(r,t),r=t.pendingProps;var s=wc(t,wi.current);dc(t,e),s=D2(null,t,n,r,s,e);var i=F2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$i(n)?(i=!0,Rp(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,R2(t),s.updater=bm,t.stateNode=s,s._reactInternals=t,Jg(t,n,r,e),t=r1(null,t,n,!0,i,e)):(t.tag=0,ln&&i&&E2(t),Ni(null,t,s,e),t=t.child),t;case 16:n=t.elementType;e:{switch(lp(r,t),r=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=tk(n),r=zs(n,r),s){case 0:t=t1(null,t,n,r,e);break e;case 1:t=jb(null,t,n,r,e);break e;case 11:t=Rb(null,t,n,r,e);break e;case 14:t=Mb(null,t,n,zs(n.type,r),e);break e}throw Error(gt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),t1(r,t,n,s,e);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),jb(r,t,n,s,e);case 3:e:{if(e_(t),r===null)throw Error(gt(387));n=t.pendingProps,i=t.memoizedState,s=i.element,T3(r,t),Dp(t,n,null,e);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=kc(Error(gt(423)),t),t=Lb(r,t,n,e,s);break e}else if(n!==s){s=kc(Error(gt(424)),t),t=Lb(r,t,n,e,s);break e}else for(ts=Ka(t.stateNode.containerInfo.firstChild),ss=t,ln=!0,Hs=null,e=E3(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(_c(),n===s){t=Yo(r,t,e);break e}Ni(r,t,n,e)}t=t.child}return t;case 5:return C3(t),r===null&&Yg(t),n=t.type,s=t.pendingProps,i=r!==null?r.memoizedProps:null,o=s.children,$g(n,s)?o=null:i!==null&&$g(n,i)&&(t.flags|=32),J3(r,t),Ni(r,t,o,e),t.child;case 6:return r===null&&Yg(t),null;case 13:return t_(r,t,e);case 4:return M2(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=xc(t,null,n,e):Ni(r,t,n,e),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),Rb(r,t,n,s,e);case 7:return Ni(r,t,t.pendingProps,e),t.child;case 8:return Ni(r,t,t.pendingProps.children,e),t.child;case 12:return Ni(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Zr(Lp,n._currentValue),n._currentValue=o,i!==null)if(Gs(i.value,o)){if(i.children===s.children&&!Hi.current){t=Yo(r,t,e);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var a=u.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=Wo(-1,e&-e),a.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a}}i.lanes|=e,a=i.alternate,a!==null&&(a.lanes|=e),Qg(i.return,e,t),u.lanes|=e;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(gt(341));o.lanes|=e,u=o.alternate,u!==null&&(u.lanes|=e),Qg(o,e,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ni(r,t,s.children,e),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,dc(t,e),s=Ts(s),n=n(s),t.flags|=1,Ni(r,t,n,e),t.child;case 14:return n=t.type,s=zs(n,t.pendingProps),s=zs(n.type,s),Mb(r,t,n,s,e);case 15:return Q3(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),lp(r,t),t.tag=1,$i(n)?(r=!0,Rp(t)):r=!1,dc(t,e),G3(t,n,s),Jg(t,n,s,e),r1(null,t,n,!0,r,e);case 19:return r_(r,t,e);case 22:return Z3(r,t,e)}throw Error(gt(156,t.tag))};function v_(r,t){return $4(r,t)}function ek(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(r,t,e,n){return new ek(r,t,e,n)}function G2(r){return r=r.prototype,!(!r||!r.isReactComponent)}function tk(r){if(typeof r=="function")return G2(r)?1:0;if(r!=null){if(r=r.$$typeof,r===d2)return 11;if(r===p2)return 14}return 2}function Ja(r,t){var e=r.alternate;return e===null?(e=Ss(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function hp(r,t,e,n,s,i){var o=2;if(n=r,typeof r=="function")G2(r)&&(o=1);else if(typeof r=="string")o=5;else e:switch(r){case Qu:return Gl(e.children,s,i,t);case f2:o=8,s|=8;break;case Sg:return r=Ss(12,e,t,s|2),r.elementType=Sg,r.lanes=i,r;case kg:return r=Ss(13,e,t,s),r.elementType=kg,r.lanes=i,r;case Eg:return r=Ss(19,e,t,s),r.elementType=Eg,r.lanes=i,r;case C4:return xm(e,s,i,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A4:o=10;break e;case T4:o=9;break e;case d2:o=11;break e;case p2:o=14;break e;case Ia:o=16,n=null;break e}throw Error(gt(130,r==null?r:typeof r,""))}return t=Ss(o,e,t,s),t.elementType=r,t.type=n,t.lanes=i,t}function Gl(r,t,e,n){return r=Ss(7,r,n,t),r.lanes=e,r}function xm(r,t,e,n){return r=Ss(22,r,n,t),r.elementType=C4,r.lanes=e,r.stateNode={isHidden:!1},r}function z0(r,t,e){return r=Ss(6,r,null,t),r.lanes=e,r}function V0(r,t,e){return t=Ss(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function rk(r,t,e,n,s){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x0(0),this.expirationTimes=x0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function K2(r,t,e,n,s,i,o,u,a){return r=new rk(r,t,e,u,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ss(3,null,null,t),r.current=i,i.stateNode=r,i.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},R2(i),r}function nk(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yu,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function b_(r){if(!r)return ul;r=r._reactInternals;e:{if(yu(r)!==r||r.tag!==1)throw Error(gt(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(r.tag===1){var e=r.type;if($i(e))return b3(r,e,t)}return t}function w_(r,t,e,n,s,i,o,u,a){return r=K2(e,n,!0,r,s,i,o,u,a),r.context=b_(null),e=r.current,n=Pi(),s=Za(e),i=Wo(n,s),i.callback=t??null,Ya(e,i,s),r.current.lanes=s,Tf(r,s,n),Wi(r,n),r}function Sm(r,t,e,n){var s=t.current,i=Pi(),o=Za(s);return e=b_(e),t.context===null?t.context=e:t.pendingContext=e,t=Wo(i,o),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=Ya(s,t,o),r!==null&&(Xs(r,s,o,i),sp(r,s,o)),o}function $p(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $b(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function Y2(r,t){$b(r,t),(r=r.alternate)&&$b(r,t)}function ik(){return null}var __=typeof reportError=="function"?reportError:function(r){console.error(r)};function Q2(r){this._internalRoot=r}km.prototype.render=Q2.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(gt(409));Sm(r,t,null,null)};km.prototype.unmount=Q2.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;uu(function(){Sm(null,r,null,null)}),t[Go]=null}};function km(r){this._internalRoot=r}km.prototype.unstable_scheduleHydration=function(r){if(r){var t=Z4();r={blockedOn:null,target:r,priority:t};for(var e=0;e<Ma.length&&t!==0&&t<Ma[e].priority;e++);Ma.splice(e,0,r),e===0&&e3(r)}};function Z2(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Em(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wb(){}function sk(r,t,e,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=$p(o);i.call(l)}}var o=w_(t,n,r,0,null,!1,!1,"",Wb);return r._reactRootContainer=o,r[Go]=o.current,tf(r.nodeType===8?r.parentNode:r),uu(),o}for(;s=r.lastChild;)r.removeChild(s);if(typeof n=="function"){var u=n;n=function(){var l=$p(a);u.call(l)}}var a=K2(r,0,!1,null,null,!1,!1,"",Wb);return r._reactRootContainer=a,r[Go]=a.current,tf(r.nodeType===8?r.parentNode:r),uu(function(){Sm(t,a,e,n)}),a}function Am(r,t,e,n,s){var i=e._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var u=s;s=function(){var a=$p(o);u.call(a)}}Sm(t,o,r,s)}else o=sk(e,t,r,s,n);return $p(o)}Y4=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=bh(t.pendingLanes);e!==0&&(y2(t,e|1),Wi(t,An()),!(Nr&6)&&(Ec=An()+500,bl()))}break;case 13:uu(function(){var n=Ko(r,1);if(n!==null){var s=Pi();Xs(n,r,1,s)}}),Y2(r,1)}};v2=function(r){if(r.tag===13){var t=Ko(r,134217728);if(t!==null){var e=Pi();Xs(t,r,134217728,e)}Y2(r,134217728)}};Q4=function(r){if(r.tag===13){var t=Za(r),e=Ko(r,t);if(e!==null){var n=Pi();Xs(e,r,t,n)}Y2(r,t)}};Z4=function(){return qr};J4=function(r,t){var e=qr;try{return qr=r,t()}finally{qr=e}};Lg=function(r,t,e){switch(t){case"input":if(Cg(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var s=gm(n);if(!s)throw Error(gt(90));P4(n),Cg(n,s)}}}break;case"textarea":R4(r,e);break;case"select":t=e.value,t!=null&&uc(r,!!e.multiple,t,!1)}};B4=$2;U4=uu;var ok={usingClientEntryPoint:!1,Events:[Nf,tc,gm,D4,F4,$2]},ch={findFiberByHostInstance:Vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=q4(r),r===null?null:r.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{fm=Ld.inject(ak),mo=Ld}catch{}}ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;ls.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z2(t))throw Error(gt(200));return nk(r,t,null,e)};ls.createRoot=function(r,t){if(!Z2(r))throw Error(gt(299));var e=!1,n="",s=__;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=K2(r,1,!1,null,null,e,!1,n,s),r[Go]=t.current,tf(r.nodeType===8?r.parentNode:r),new Q2(t)};ls.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(gt(188)):(r=Object.keys(r).join(","),Error(gt(268,r)));return r=q4(t),r=r===null?null:r.stateNode,r};ls.flushSync=function(r){return uu(r)};ls.hydrate=function(r,t,e){if(!Em(t))throw Error(gt(200));return Am(null,r,t,!0,e)};ls.hydrateRoot=function(r,t,e){if(!Z2(r))throw Error(gt(405));var n=e!=null&&e.hydratedSources||null,s=!1,i="",o=__;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=w_(t,null,r,1,e??null,s,!1,i,o),r[Go]=t.current,tf(r),n)for(r=0;r<n.length;r++)e=n[r],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new km(t)};ls.render=function(r,t,e){if(!Em(t))throw Error(gt(200));return Am(null,r,t,!1,e)};ls.unmountComponentAtNode=function(r){if(!Em(r))throw Error(gt(40));return r._reactRootContainer?(uu(function(){Am(null,null,r,!1,function(){r._reactRootContainer=null,r[Go]=null})}),!0):!1};ls.unstable_batchedUpdates=$2;ls.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!Em(e))throw Error(gt(200));if(r==null||r._reactInternals===void 0)throw Error(gt(38));return Am(r,t,e,!1,n)};ls.version="18.3.1-next-f1338f8080-20240426";function x_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x_)}catch(r){console.error(r)}}x_(),x4.exports=ls;var lk=x4.exports,Xb=lk;_g.createRoot=Xb.createRoot,_g.hydrateRoot=Xb.hydrateRoot;var Gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},uk=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[e++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[e++],o=r[e++],u=r[e++],a=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(a&1023))}else{const i=r[e++],o=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],o=s+1<r.length,u=o?r[s+1]:0,a=s+2<r.length,l=a?r[s+2]:0,c=i>>2,d=(i&3)<<4|u>>4;let f=(u&15)<<2|l>>6,h=l&63;a||(h=64,o||(f=64)),n.push(e[c],e[d],e[f],e[h])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(S_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):uk(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=e[r.charAt(s++)],u=s<r.length?e[r.charAt(s)]:0;++s;const l=s<r.length?e[r.charAt(s)]:64;++s;const d=s<r.length?e[r.charAt(s)]:64;if(++s,i==null||u==null||l==null||d==null)throw new ck;const f=i<<2|u>>4;if(n.push(f),l!==64){const h=u<<4&240|l>>2;if(n.push(h),d!==64){const g=l<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hk=function(r){const t=S_(r);return k_.encodeByteArray(t,!0)},Wp=function(r){return hk(r).replace(/\./g,"")},E_=function(r){try{return k_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=()=>fk().__FIREBASE_DEFAULTS__,pk=()=>{if(typeof process>"u"||typeof Gb>"u")return;const r=Gb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mk=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&E_(r[1]);return t&&JSON.parse(t)},Tm=()=>{try{return dk()||pk()||mk()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},A_=r=>{var t,e;return(e=(t=Tm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},T_=r=>{const t=A_(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},C_=()=>{var r;return(r=Tm())===null||r===void 0?void 0:r.config},N_=r=>{var t;return(t=Tm())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wp(JSON.stringify(e)),Wp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_i())}function vk(){var r;const t=(r=Tm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wk(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _k(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xk(){const r=_i();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Sk(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ek(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="FirebaseError";class ko extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=Ak,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?Tk(i,n):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new ko(s,u,n)}}function Tk(r,t){return r.replace(Ck,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const Ck=/\{\$([^}]+)}/g;function Nk(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xp(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const i=r[s],o=t[s];if(Kb(i)&&Kb(o)){if(!Xp(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function Kb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function _h(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function xh(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function Pk(r,t){const e=new Ik(r,t);return e.subscribe.bind(e)}class Ik{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");Rk(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=q0),s.error===void 0&&(s.error=q0),s.complete===void 0&&(s.complete=q0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rk(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function q0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(r){return r&&r._delegate?r._delegate:r}class cl{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new gk;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Lk(t))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=Ul){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ul){return this.instances.has(t)}getOptions(t=Ul){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&o.resolve(s)}return s}onInit(t,e){var n;const s=this.normalizeInstanceIdentifier(e),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:jk(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ul){return this.component?this.component.multipleInstances?t:Ul:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jk(r){return r===Ul?void 0:r}function Lk(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Mk(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ar||(Ar={}));const Dk={debug:Ar.DEBUG,verbose:Ar.VERBOSE,info:Ar.INFO,warn:Ar.WARN,error:Ar.ERROR,silent:Ar.SILENT},Fk=Ar.INFO,Bk={[Ar.DEBUG]:"log",[Ar.VERBOSE]:"log",[Ar.INFO]:"info",[Ar.WARN]:"warn",[Ar.ERROR]:"error"},Uk=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=Bk[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class J2{constructor(t){this.name=t,this._logLevel=Fk,this._logHandler=Uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ar))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ar.DEBUG,...t),this._logHandler(this,Ar.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ar.VERBOSE,...t),this._logHandler(this,Ar.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ar.INFO,...t),this._logHandler(this,Ar.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ar.WARN,...t),this._logHandler(this,Ar.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ar.ERROR,...t),this._logHandler(this,Ar.ERROR,...t)}}const zk=(r,t)=>t.some(e=>r instanceof e);let Yb,Qb;function Vk(){return Yb||(Yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qk(){return Qb||(Qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I_=new WeakMap,p1=new WeakMap,R_=new WeakMap,H0=new WeakMap,ey=new WeakMap;function Hk(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",o)},i=()=>{e(el(r.result)),s()},o=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&I_.set(e,r)}).catch(()=>{}),ey.set(t,r),t}function $k(r){if(p1.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",o),r.removeEventListener("abort",o)},i=()=>{e(),s()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",o),r.addEventListener("abort",o)});p1.set(r,t)}let m1={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return p1.get(r);if(t==="objectStoreNames")return r.objectStoreNames||R_.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return el(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Wk(r){m1=r(m1)}function Xk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call($0(this),t,...e);return R_.set(n,t.sort?t.sort():[t]),el(n)}:qk().includes(r)?function(...t){return r.apply($0(this),t),el(I_.get(this))}:function(...t){return el(r.apply($0(this),t))}}function Gk(r){return typeof r=="function"?Xk(r):(r instanceof IDBTransaction&&$k(r),zk(r,Vk())?new Proxy(r,m1):r)}function el(r){if(r instanceof IDBRequest)return Hk(r);if(H0.has(r))return H0.get(r);const t=Gk(r);return t!==r&&(H0.set(r,t),ey.set(t,r)),t}const $0=r=>ey.get(r);function Kk(r,t,{blocked:e,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(r,t),u=el(o);return n&&o.addEventListener("upgradeneeded",a=>{n(el(o.result),a.oldVersion,a.newVersion,el(o.transaction),a)}),e&&o.addEventListener("blocked",a=>e(a.oldVersion,a.newVersion,a)),u.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),u}const Yk=["get","getKey","getAll","getAllKeys","count"],Qk=["put","add","delete","clear"],W0=new Map;function Zb(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(W0.get(t))return W0.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=Qk.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Yk.includes(e)))return;const i=async function(o,...u){const a=this.transaction(o,s?"readwrite":"readonly");let l=a.store;return n&&(l=l.index(u.shift())),(await Promise.all([l[e](...u),s&&a.done]))[0]};return W0.set(t,i),i}Wk(r=>({...r,get:(t,e,n)=>Zb(t,e)||r.get(t,e,n),has:(t,e)=>!!Zb(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Jk(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function Jk(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const g1="@firebase/app",Jb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new J2("@firebase/app"),eE="@firebase/app-compat",tE="@firebase/analytics-compat",rE="@firebase/analytics",nE="@firebase/app-check-compat",iE="@firebase/app-check",sE="@firebase/auth",oE="@firebase/auth-compat",aE="@firebase/database",lE="@firebase/data-connect",uE="@firebase/database-compat",cE="@firebase/functions",hE="@firebase/functions-compat",fE="@firebase/installations",dE="@firebase/installations-compat",pE="@firebase/messaging",mE="@firebase/messaging-compat",gE="@firebase/performance",yE="@firebase/performance-compat",vE="@firebase/remote-config",bE="@firebase/remote-config-compat",wE="@firebase/storage",_E="@firebase/storage-compat",xE="@firebase/firestore",SE="@firebase/vertexai-preview",kE="@firebase/firestore-compat",EE="firebase",AE="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="[DEFAULT]",TE={[g1]:"fire-core",[eE]:"fire-core-compat",[rE]:"fire-analytics",[tE]:"fire-analytics-compat",[iE]:"fire-app-check",[nE]:"fire-app-check-compat",[sE]:"fire-auth",[oE]:"fire-auth-compat",[aE]:"fire-rtdb",[lE]:"fire-data-connect",[uE]:"fire-rtdb-compat",[cE]:"fire-fn",[hE]:"fire-fn-compat",[fE]:"fire-iid",[dE]:"fire-iid-compat",[pE]:"fire-fcm",[mE]:"fire-fcm-compat",[gE]:"fire-perf",[yE]:"fire-perf-compat",[vE]:"fire-rc",[bE]:"fire-rc-compat",[wE]:"fire-gcs",[_E]:"fire-gcs-compat",[xE]:"fire-fst",[kE]:"fire-fst-compat",[SE]:"fire-vertex","fire-js":"fire-js",[EE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,CE=new Map,v1=new Map;function e5(r,t){try{r.container.addComponent(t)}catch(e){Qo.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function cu(r){const t=r.name;if(v1.has(t))return Qo.debug(`There were multiple attempts to register component ${t}.`),!1;v1.set(t,r);for(const e of Gp.values())e5(e,r);for(const e of CE.values())e5(e,r);return!0}function Cm(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Vo(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tl=new If("app","Firebase",NE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=AE;function M_(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:y1,automaticDataCollectionEnabled:!1},t),s=n.name;if(typeof s!="string"||!s)throw tl.create("bad-app-name",{appName:String(s)});if(e||(e=C_()),!e)throw tl.create("no-options");const i=Gp.get(s);if(i){if(Xp(e,i.options)&&Xp(n,i.config))return i;throw tl.create("duplicate-app",{appName:s})}const o=new Ok(s);for(const a of v1.values())o.addComponent(a);const u=new PE(e,n,o);return Gp.set(s,u),u}function ty(r=y1){const t=Gp.get(r);if(!t&&r===y1&&C_())return M_();if(!t)throw tl.create("no-app",{appName:r});return t}function yo(r,t,e){var n;let s=(n=TE[r])!==null&&n!==void 0?n:r;e&&(s+=`-${e}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const u=[`Unable to register library "${s}" with version "${t}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qo.warn(u.join(" "));return}cu(new cl(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebase-heartbeat-database",RE=1,hf="firebase-heartbeat-store";let X0=null;function j_(){return X0||(X0=Kk(IE,RE,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(hf)}catch(e){console.warn(e)}}}}).catch(r=>{throw tl.create("idb-open",{originalErrorMessage:r.message})})),X0}async function ME(r){try{const e=(await j_()).transaction(hf),n=await e.objectStore(hf).get(L_(r));return await e.done,n}catch(t){if(t instanceof ko)Qo.warn(t.message);else{const e=tl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Qo.warn(e.message)}}}async function t5(r,t){try{const n=(await j_()).transaction(hf,"readwrite");await n.objectStore(hf).put(t,L_(r)),await n.done}catch(e){if(e instanceof ko)Qo.warn(e.message);else{const n=tl.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}function L_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=1024,LE=30*24*60*60*1e3;class OE{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new FE(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=r5();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=LE}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Qo.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r5(),{heartbeatsToSend:n,unsentEntries:s}=DE(this._heartbeatsCache.heartbeats),i=Wp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Qo.warn(e),""}}}function r5(){return new Date().toISOString().substring(0,10)}function DE(r,t=jE){const e=[];let n=r.slice();for(const s of r){const i=e.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),n5(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),n5(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class FE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kk()?Ek().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ME(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return t5(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return t5(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function n5(r){return Wp(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){cu(new cl("platform-logger",t=>new Zk(t),"PRIVATE")),cu(new cl("heartbeat",t=>new OE(t),"PRIVATE")),yo(g1,Jb,r),yo(g1,Jb,"esm2017"),yo("fire-js","")}BE("");function ry(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function O_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UE=O_,D_=new If("auth","Firebase",O_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new J2("@firebase/auth");function zE(r,...t){Kp.logLevel<=Ar.WARN&&Kp.warn(`Auth (${vu}): ${r}`,...t)}function fp(r,...t){Kp.logLevel<=Ar.ERROR&&Kp.error(`Auth (${vu}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(r,...t){throw ny(r,...t)}function vo(r,...t){return ny(r,...t)}function F_(r,t,e){const n=Object.assign(Object.assign({},UE()),{[t]:e});return new If("auth","Firebase",n).create(t,{appName:r.name})}function rl(r){return F_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return D_.create(r,...t)}function rr(r,t,...e){if(!r)throw ny(t,...e)}function qo(r){const t="INTERNAL ASSERTION FAILED: "+r;throw fp(t),new Error(t)}function Zo(r,t){r||qo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function VE(){return i5()==="http:"||i5()==="https:"}function i5(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VE()||wk()||"connection"in navigator)?navigator.onLine:!0}function HE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e){this.shortDelay=t,this.longDelay=e,Zo(e>t,"Short delay should be less than long delay!"),this.isMobile=yk()||_k()}get(){return qE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r,t){Zo(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Mf(3e4,6e4);function bu(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function wl(r,t,e,n,s={}){return U_(r,s,async()=>{let i={},o={};n&&(t==="GET"?o=n:i={body:JSON.stringify(n)});const u=Rf(Object.assign({key:r.config.apiKey},o)).slice(1),a=await r._getAdditionalHeaders();a["Content-Type"]="application/json",r.languageCode&&(a["X-Firebase-Locale"]=r.languageCode);const l=Object.assign({method:t,headers:a},i);return bk()||(l.referrerPolicy="no-referrer"),B_.fetch()(z_(r,r.config.apiHost,e,u),l)})}async function U_(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},$E),t);try{const s=new GE(r),i=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Od(r,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[a,l]=u.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(r,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Od(r,"email-already-in-use",o);if(a==="USER_DISABLED")throw Od(r,"user-disabled",o);const c=n[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw F_(r,c,l);Ks(r,c)}}catch(s){if(s instanceof ko)throw s;Ks(r,"network-request-failed",{message:String(s)})}}async function Nm(r,t,e,n,s={}){const i=await wl(r,t,e,n,s);return"mfaPendingCredential"in i&&Ks(r,"multi-factor-auth-required",{_serverResponse:i}),i}function z_(r,t,e,n){const s=`${t}${e}?${n}`;return r.config.emulator?iy(r.config,s):`${r.config.apiScheme}://${s}`}function XE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GE{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(vo(this.auth,"network-request-failed")),WE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Od(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=vo(r,t,n);return s.customData._tokenResponse=e,s}function s5(r){return r!==void 0&&r.enterprise!==void 0}class KE{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return XE(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function YE(r,t){return wl(r,"GET","/v2/recaptchaConfig",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(r,t){return wl(r,"POST","/v1/accounts:delete",t)}async function V_(r,t){return wl(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZE(r,t=!1){const e=Jr(r),n=await e.getIdToken(t),s=sy(n);rr(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:Oh(G0(s.auth_time)),issuedAtTime:Oh(G0(s.iat)),expirationTime:Oh(G0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function G0(r){return Number(r)*1e3}function sy(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{const s=E_(e);return s?JSON.parse(s):(fp("Failed to decode base64 JWT payload"),null)}catch(s){return fp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function o5(r){const t=sy(r);return rr(t,"internal-error"),rr(typeof t.exp<"u","internal-error"),rr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof ko&&JE(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function JE({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oh(this.lastLoginAt),this.creationTime=Oh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(r){var t;const e=r.auth,n=await r.getIdToken(),s=await ff(r,V_(e,{idToken:n}));rr(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];r._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?q_(i.providerUserInfo):[],u=rA(r.providerData,o),a=r.isAnonymous,l=!(r.email&&i.passwordHash)&&!(u!=null&&u.length),c=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new w1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(r,d)}async function tA(r){const t=Jr(r);await Yp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rA(r,t){return[...r.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function q_(r){return r.map(t=>{var{providerId:e}=t,n=ry(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(r,t){const e=await U_(r,{},async()=>{const n=Rf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,o=z_(r,s,"/v1/token",`key=${i}`),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",B_.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function iA(r,t){return wl(r,"POST","/v2/accounts:revokeToken",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rr(t.idToken,"internal-error"),rr(typeof t.idToken<"u","internal-error"),rr(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):o5(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){rr(t.length!==0,"internal-error");const e=o5(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(rr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:i}=await nA(t,e);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:i}=e,o=new mc;return n&&(rr(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),s&&(rr(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(rr(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(r,t){rr(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ho{constructor(t){var{uid:e,auth:n,stsTokenManager:s}=t,i=ry(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new w1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await ff(this,this.stsTokenManager.getToken(this.auth,t));return rr(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ZE(this,t)}reload(){return tA(this)}_assign(t){this!==t&&(rr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ho(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){rr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Yp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vo(this.auth.app))return Promise.reject(rl(this.auth));const t=await this.getIdToken();return await ff(this,QE(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,s,i,o,u,a,l,c;const d=(n=e.displayName)!==null&&n!==void 0?n:void 0,f=(s=e.email)!==null&&s!==void 0?s:void 0,h=(i=e.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=e.photoURL)!==null&&o!==void 0?o:void 0,v=(u=e.tenantId)!==null&&u!==void 0?u:void 0,p=(a=e._redirectEventId)!==null&&a!==void 0?a:void 0,y=(l=e.createdAt)!==null&&l!==void 0?l:void 0,m=(c=e.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:k,isAnonymous:N,providerData:F,stsTokenManager:j}=e;rr(b&&j,t,"internal-error");const T=mc.fromJSON(this.name,j);rr(typeof b=="string",t,"internal-error"),Ta(d,t.name),Ta(f,t.name),rr(typeof k=="boolean",t,"internal-error"),rr(typeof N=="boolean",t,"internal-error"),Ta(h,t.name),Ta(g,t.name),Ta(v,t.name),Ta(p,t.name),Ta(y,t.name),Ta(m,t.name);const M=new Ho({uid:b,auth:t,email:f,emailVerified:k,displayName:d,isAnonymous:N,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:m});return F&&Array.isArray(F)&&(M.providerData=F.map(B=>Object.assign({},B))),p&&(M._redirectEventId=p),M}static async _fromIdTokenResponse(t,e,n=!1){const s=new mc;s.updateFromServerResponse(e);const i=new Ho({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await Yp(i),i}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];rr(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?q_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new mc;u.updateFromIdToken(n);const a=new Ho({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new w1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(a,l),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new Map;function $o(r){Zo(r instanceof Function,"Expected a class definition");let t=a5.get(r);return t?(Zo(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,a5.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}H_.type="NONE";const l5=H_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,t,e){return`firebase:${r}:${t}:${e}`}class gc{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=dp(this.userKey,s.apiKey,i),this.fullPersistenceKey=dp("persistence",s.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ho._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new gc($o(l5),t,n);const s=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||$o(l5);const o=dp(n,t.config.apiKey,t.name);let u=null;for(const l of e)try{const c=await l._get(o);if(c){const d=Ho._fromJSON(t,c);l!==i&&(u=d),i=l;break}}catch{}const a=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new gc(i,t,n):(i=a[0],u&&await i._set(o,u.toJSON()),await Promise.all(e.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new gc(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(G_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y_(t))return"Blackberry";if(Q_(t))return"Webos";if(W_(t))return"Safari";if((t.includes("chrome/")||X_(t))&&!t.includes("edge/"))return"Chrome";if(K_(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $_(r=_i()){return/firefox\//i.test(r)}function W_(r=_i()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X_(r=_i()){return/crios\//i.test(r)}function G_(r=_i()){return/iemobile/i.test(r)}function K_(r=_i()){return/android/i.test(r)}function Y_(r=_i()){return/blackberry/i.test(r)}function Q_(r=_i()){return/webos/i.test(r)}function oy(r=_i()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sA(r=_i()){var t;return oy(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function oA(){return xk()&&document.documentMode===10}function Z_(r=_i()){return oy(r)||K_(r)||Q_(r)||Y_(r)||/windows phone/i.test(r)||G_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r,t=[]){let e;switch(r){case"Browser":e=u5(_i());break;case"Worker":e=`${u5(_i())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${vu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=i=>new Promise((o,u)=>{try{const a=t(i);o(a)}catch(a){u(a)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(r,t={}){return wl(r,"GET","/v2/passwordPolicy",bu(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=6;class cA{constructor(t){var e,n,s,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:uA,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,s,i,o,u;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=(e=a.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),a.isValid&&(a.isValid=(n=a.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(s=a.containsLowercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(u=a.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c5(this),this.idTokenSubscription=new c5(this),this.beforeStateQueue=new aA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=$o(e)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await gc.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await V_(this,{idToken:t}),n=await Ho._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Vo(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=s==null?void 0:s._redirectEventId,a=await this.tryRedirectSignIn(t);(!o||o===u)&&(a!=null&&a.user)&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return rr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Yp(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HE()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vo(this.app))return Promise.reject(rl(this));const e=t?Jr(t):null;return e&&rr(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&rr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vo(this.app)?Promise.reject(rl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vo(this.app)?Promise.reject(rl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($o(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lA(this),e=new cA(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new If("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await iA(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&$o(t)||this._popupRedirectResolver;rr(e,this,"argument-error"),this.redirectPersistenceManager=await gc.create(this,[$o(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const i=typeof e=="function"?e:e.next.bind(e);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(rr(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof e=="function"){const a=t.addObserver(e,n,s);return()=>{o=!0,a()}}else{const a=t.addObserver(e);return()=>{o=!0,a()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&zE(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Dc(r){return Jr(r)}class c5{constructor(t){this.auth=t,this.observer=null,this.addObserver=Pk(e=>this.observer=e)}get next(){return rr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fA(r){Pm=r}function e6(r){return Pm.loadJS(r)}function dA(){return Pm.recaptchaEnterpriseScript}function pA(){return Pm.gapiScript}function mA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const gA="recaptcha-enterprise",yA="NO_RECAPTCHA";class vA{constructor(t){this.type=gA,this.auth=Dc(t)}async verify(t="verify",e=!1){async function n(i){if(!e){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{YE(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const l=new KE(a);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(a=>{u(a)})})}function s(i,o,u){const a=window.grecaptcha;s5(a)?a.enterprise.ready(()=>{a.enterprise.execute(i,{action:t}).then(l=>{o(l)}).catch(()=>{o(yA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(u=>{if(!e&&s5(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=dA();a.length!==0&&(a+=u),e6(a).then(()=>{s(u,i,o)}).catch(l=>{o(l)})}}).catch(u=>{o(u)})})}}async function h5(r,t,e,n=!1){const s=new vA(r);let i;try{i=await s.verify(e)}catch{i=await s.verify(e,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function f5(r,t,e,n){var s;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await h5(r,t,e,e==="getOobCode");return n(r,i)}else return n(r,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await h5(r,t,e,e==="getOobCode");return n(r,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(r,t){const e=Cm(r,"auth");if(e.isInitialized()){const s=e.getImmediate(),i=e.getOptions();if(Xp(i,t??{}))return s;Ks(s,"already-initialized")}return e.initialize({options:t})}function wA(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map($o);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function _A(r,t,e){const n=Dc(r);rr(n._canInitEmulator,n,"emulator-config-failed"),rr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,i=t6(t),{host:o,port:u}=xA(t),a=u===null?"":`:${u}`;n.config.emulator={url:`${i}//${o}${a}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),SA()}function t6(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function xA(r){const t=t6(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:d5(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:d5(o)}}}function d5(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SA(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return qo("not implemented")}_getIdTokenResponse(t){return qo("not implemented")}_linkToIdToken(t,e){return qo("not implemented")}_getReauthenticationResolver(t){return qo("not implemented")}}async function kA(r,t){return wl(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(r,t){return Nm(r,"POST","/v1/accounts:signInWithPassword",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(r,t){return Nm(r,"POST","/v1/accounts:signInWithEmailLink",bu(r,t))}async function TA(r,t){return Nm(r,"POST","/v1/accounts:signInWithEmailLink",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends ay{constructor(t,e,n,s=null){super("password",n),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new df(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new df(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f5(t,e,"signInWithPassword",EA);case"emailLink":return AA(t,{email:this._email,oobCode:this._password});default:Ks(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f5(t,n,"signUpPassword",kA);case"emailLink":return TA(t,{idToken:e,email:this._email,oobCode:this._password});default:Ks(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(r,t){return Nm(r,"POST","/v1/accounts:signInWithIdp",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="http://localhost";class hu extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new hu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ks("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=e,i=ry(e,["providerId","signInMethod"]);if(!n||!s)return null;const o=new hu(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return yc(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,yc(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,yc(t,e)}buildRequest(){const t={requestUri:CA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Rf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PA(r){const t=_h(xh(r)).link,e=t?_h(xh(t)).deep_link_id:null,n=_h(xh(r)).deep_link_id;return(n?_h(xh(n)).link:null)||n||e||t||r}class ly{constructor(t){var e,n,s,i,o,u;const a=_h(xh(t)),l=(e=a.apiKey)!==null&&e!==void 0?e:null,c=(n=a.oobCode)!==null&&n!==void 0?n:null,d=NA((s=a.mode)!==null&&s!==void 0?s:null);rr(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(i=a.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=a.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=PA(t);try{return new ly(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.providerId=Fc.PROVIDER_ID}static credential(t,e){return df._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ly.parseLink(e);return rr(n,"argument-error"),df._fromEmailAndCode(t,n.code,n.tenantId)}}Fc.PROVIDER_ID="password";Fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends r6{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends jf{constructor(){super("facebook.com")}static credential(t){return hu._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends jf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return hu._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Oa.credentialFromTaggedObject(t)}static credentialFromError(t){return Oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Oa.credential(e,n)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends jf{constructor(){super("github.com")}static credential(t){return hu._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Da.credential(t.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends jf{constructor(){super("twitter.com")}static credential(t,e){return hu._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Fa.credential(e,n)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const i=await Ho._fromIdTokenResponse(t,n,s),o=p5(n);return new Ac({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=p5(n);return new Ac({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function p5(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends ko{constructor(t,e,n,s){var i;super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new Qp(t,e,n,s)}}function n6(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(r,i,t,n):i})}async function IA(r,t,e=!1){const n=await ff(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Ac._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(r,t,e=!1){const{auth:n}=r;if(Vo(n.app))return Promise.reject(rl(n));const s="reauthenticate";try{const i=await ff(r,n6(n,s,t,r),e);rr(i.idToken,n,"internal-error");const o=sy(i.idToken);rr(o,n,"internal-error");const{sub:u}=o;return rr(r.uid===u,n,"user-mismatch"),Ac._forOperation(r,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ks(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(r,t,e=!1){if(Vo(r.app))return Promise.reject(rl(r));const n="signIn",s=await n6(r,n,t),i=await Ac._fromIdTokenResponse(r,n,s);return e||await r._updateCurrentUser(i.user),i}async function MA(r,t){return i6(Dc(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(r){const t=Dc(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function LA(r,t,e){return Vo(r.app)?Promise.reject(rl(r)):MA(Jr(r),Fc.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&jA(r),n})}function OA(r,t,e,n){return Jr(r).onIdTokenChanged(t,e,n)}function DA(r,t,e){return Jr(r).beforeAuthStateChanged(t,e)}function FA(r,t,e,n){return Jr(r).onAuthStateChanged(t,e,n)}function BA(r){return Jr(r).signOut()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1e3,zA=10;class o6 extends s6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Z_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,u,a)=>{this.notifyListeners(o,a)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!e&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);oA()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,zA):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}o6.type="LOCAL";const VA=o6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6 extends s6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}a6.type="SESSION";const l6=a6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new Im(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:i}=e.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(o).map(async l=>l(e.origin,i)),a=await qA(u);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:a})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,a)=>{const l=uy("",20);s.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(f.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return window}function $A(r){bo().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(){return typeof bo().WorkerGlobalScope<"u"&&typeof bo().importScripts=="function"}async function WA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GA(){return u6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="firebaseLocalStorageDb",KA=1,Jp="firebaseLocalStorage",h6="fbase_key";class Lf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Rm(r,t){return r.transaction([Jp],t?"readwrite":"readonly").objectStore(Jp)}function YA(){const r=indexedDB.deleteDatabase(c6);return new Lf(r).toPromise()}function _1(){const r=indexedDB.open(c6,KA);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Jp,{keyPath:h6})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Jp)?t(n):(n.close(),await YA(),t(await _1()))})})}async function m5(r,t,e){const n=Rm(r,!0).put({[h6]:t,value:e});return new Lf(n).toPromise()}async function QA(r,t){const e=Rm(r,!1).get(t),n=await new Lf(e).toPromise();return n===void 0?null:n.value}function g5(r,t){const e=Rm(r,!0).delete(t);return new Lf(e).toPromise()}const ZA=800,JA=3;class f6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>JA)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(GA()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await WA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _1();return await m5(t,Zp,"1"),await g5(t,Zp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m5(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>QA(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>g5(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Rm(s,!1).getAll();return new Lf(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f6.type="LOCAL";const eT=f6;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t){return t?$o(t):(rr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends ay{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function rT(r){return i6(r.auth,new cy(r),r.bypassAuthState)}function nT(r){const{auth:t,user:e}=r;return rr(e,t,"internal-error"),RA(e,new cy(r),r.bypassAuthState)}async function iT(r){const{auth:t,user:e}=r;return rr(e,t,"internal-error"),IA(e,new cy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,e,n,s,i=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:i,error:o,type:u}=t;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rT;case"linkViaPopup":case"linkViaRedirect":return iT;case"reauthViaPopup":case"reauthViaRedirect":return nT;default:Ks(this.auth,"internal-error")}}resolve(t){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Mf(2e3,1e4);class lc extends d6{constructor(t,e,n,s,i){super(t,e,s,i),this.provider=n,this.authWindow=null,this.pollId=null,lc.currentPopupAction&&lc.currentPopupAction.cancel(),lc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rr(t,this.auth,"internal-error"),t}async onExecution(){Zo(this.filter.length===1,"Popup operations only handle one event");const t=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sT.get())};t()}}lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="pendingRedirect",pp=new Map;class aT extends d6{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=pp.get(this.auth._key());if(!t){try{const n=await lT(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}pp.set(this.auth._key(),t)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lT(r,t){const e=hT(t),n=cT(r);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}function uT(r,t){pp.set(r._key(),t)}function cT(r){return $o(r._redirectPersistence)}function hT(r){return dp(oT,r.config.apiKey,r.name)}async function fT(r,t,e=!1){if(Vo(r.app))return Promise.reject(rl(r));const n=Dc(r),s=tT(n,t),o=await new aT(n,s,e).execute();return o&&!e&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=10*60*1e3;class pT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mT(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!p6(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(vo(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dT&&this.cachedEventUids.clear(),this.cachedEventUids.has(y5(t))}saveEventToCache(t){this.cachedEventUids.add(y5(t)),this.lastProcessedEventTime=Date.now()}}function y5(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function p6({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p6(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(r,t={}){return wl(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vT=/^https?/;async function bT(r){if(r.config.emulator)return;const{authorizedDomains:t}=await gT(r);for(const e of t)try{if(wT(e))return}catch{}Ks(r,"unauthorized-domain")}function wT(r){const t=b1(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===n}if(!vT.test(e))return!1;if(yT.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Mf(3e4,6e4);function v5(){const r=bo().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function xT(r){return new Promise((t,e)=>{var n,s,i;function o(){v5(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{v5(),e(vo(r,"network-request-failed"))},timeout:_T.get()})}if(!((s=(n=bo().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=bo().gapi)===null||i===void 0)&&i.load)o();else{const u=mA("iframefcb");return bo()[u]=()=>{gapi.load?o():e(vo(r,"network-request-failed"))},e6(`${pA()}?onload=${u}`).catch(a=>e(a))}}).catch(t=>{throw mp=null,t})}let mp=null;function ST(r){return mp=mp||xT(r),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Mf(5e3,15e3),ET="__/auth/iframe",AT="emulator/auth/iframe",TT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NT(r){const t=r.config;rr(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?iy(t,AT):`https://${r.config.authDomain}/${ET}`,n={apiKey:t.apiKey,appName:r.name,v:vu},s=CT.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${e}?${Rf(n).slice(1)}`}async function PT(r){const t=await ST(r),e=bo().gapi;return rr(e,r,"internal-error"),t.open({where:document.body,url:NT(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TT,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=vo(r,"network-request-failed"),u=bo().setTimeout(()=>{i(o)},kT.get());function a(){bo().clearTimeout(u),s(n)}n.ping(a).then(a,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RT=500,MT=600,jT="_blank",LT="http://localhost";class b5{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OT(r,t,e,n=RT,s=MT){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const a=Object.assign(Object.assign({},IT),{width:n.toString(),height:s.toString(),top:i,left:o}),l=_i().toLowerCase();e&&(u=X_(l)?jT:e),$_(l)&&(t=t||LT,a.scrollbars="yes");const c=Object.entries(a).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(sA(l)&&u!=="_self")return DT(t||"",u),new b5(null);const d=window.open(t||"",u,c);rr(d,r,"popup-blocked");try{d.focus()}catch{}return new b5(d)}function DT(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__/auth/handler",BT="emulator/auth/handler",UT=encodeURIComponent("fac");async function w5(r,t,e,n,s,i){rr(r.config.authDomain,r,"auth-domain-config-required"),rr(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:vu,eventId:s};if(t instanceof r6){t.setDefaultLanguage(r.languageCode),o.providerId=t.providerId||"",Nk(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof jf){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}r.tenantId&&(o.tid=r.tenantId);const u=o;for(const c of Object.keys(u))u[c]===void 0&&delete u[c];const a=await r._getAppCheckToken(),l=a?`#${UT}=${encodeURIComponent(a)}`:"";return`${zT(r)}?${Rf(u).slice(1)}${l}`}function zT({config:r}){return r.emulator?iy(r,BT):`https://${r.authDomain}/${FT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="webStorageSupport";class VT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l6,this._completeRedirectFn=fT,this._overrideRedirectResult=uT}async _openPopup(t,e,n,s){var i;Zo((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await w5(t,e,n,b1(),s);return OT(t,o,uy())}async _openRedirect(t,e,n,s){await this._originValidation(t);const i=await w5(t,e,n,b1(),s);return $A(i),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:i}=this.eventManagers[e];return s?Promise.resolve(s):(Zo(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await PT(t),n=new pT(t);return e.register("authEvent",s=>(rr(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(K0,{type:K0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[K0];o!==void 0&&e(!!o),Ks(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=bT(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Z_()||W_()||oy()}}const qT=VT;var _5="@firebase/auth",x5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){rr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WT(r){cu(new cl("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;rr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(r)},l=new hA(n,s,i,a);return wA(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),cu(new cl("auth-internal",t=>{const e=Dc(t.getProvider("auth").getImmediate());return(n=>new HT(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(_5,x5,$T(r)),yo(_5,x5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=5*60,GT=N_("authIdTokenMaxAge")||XT;let S5=null;const KT=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>GT)return;const s=e==null?void 0:e.token;S5!==s&&(S5=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YT(r=ty()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const e=bA(r,{popupRedirectResolver:qT,persistence:[eT,VA,l6]}),n=N_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=KT(i.toString());DA(e,o,()=>o(e.currentUser)),OA(e,u=>o(u))}}const s=A_("auth");return s&&_A(e,`http://${s}`),e}function QT(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}fA({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=s=>{const i=vo("internal-error");i.customData=s,e(i)},n.type="text/javascript",n.charset="UTF-8",QT().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WT("Browser");var ZT="firebase",JT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(ZT,JT,"app");var k5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kl,m6;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,T){function M(){}M.prototype=T.prototype,j.D=T.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(B,O,R){for(var E=Array(arguments.length-2),I=2;I<arguments.length;I++)E[I-2]=arguments[I];return T.prototype[O].apply(B,E)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,T,M){M||(M=0);var B=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)B[O]=T.charCodeAt(M++)|T.charCodeAt(M++)<<8|T.charCodeAt(M++)<<16|T.charCodeAt(M++)<<24;else for(O=0;16>O;++O)B[O]=T[M++]|T[M++]<<8|T[M++]<<16|T[M++]<<24;T=j.g[0],M=j.g[1],O=j.g[2];var R=j.g[3],E=T+(R^M&(O^R))+B[0]+3614090360&4294967295;T=M+(E<<7&4294967295|E>>>25),E=R+(O^T&(M^O))+B[1]+3905402710&4294967295,R=T+(E<<12&4294967295|E>>>20),E=O+(M^R&(T^M))+B[2]+606105819&4294967295,O=R+(E<<17&4294967295|E>>>15),E=M+(T^O&(R^T))+B[3]+3250441966&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(R^M&(O^R))+B[4]+4118548399&4294967295,T=M+(E<<7&4294967295|E>>>25),E=R+(O^T&(M^O))+B[5]+1200080426&4294967295,R=T+(E<<12&4294967295|E>>>20),E=O+(M^R&(T^M))+B[6]+2821735955&4294967295,O=R+(E<<17&4294967295|E>>>15),E=M+(T^O&(R^T))+B[7]+4249261313&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(R^M&(O^R))+B[8]+1770035416&4294967295,T=M+(E<<7&4294967295|E>>>25),E=R+(O^T&(M^O))+B[9]+2336552879&4294967295,R=T+(E<<12&4294967295|E>>>20),E=O+(M^R&(T^M))+B[10]+4294925233&4294967295,O=R+(E<<17&4294967295|E>>>15),E=M+(T^O&(R^T))+B[11]+2304563134&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(R^M&(O^R))+B[12]+1804603682&4294967295,T=M+(E<<7&4294967295|E>>>25),E=R+(O^T&(M^O))+B[13]+4254626195&4294967295,R=T+(E<<12&4294967295|E>>>20),E=O+(M^R&(T^M))+B[14]+2792965006&4294967295,O=R+(E<<17&4294967295|E>>>15),E=M+(T^O&(R^T))+B[15]+1236535329&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(O^R&(M^O))+B[1]+4129170786&4294967295,T=M+(E<<5&4294967295|E>>>27),E=R+(M^O&(T^M))+B[6]+3225465664&4294967295,R=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(R^T))+B[11]+643717713&4294967295,O=R+(E<<14&4294967295|E>>>18),E=M+(R^T&(O^R))+B[0]+3921069994&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(O^R&(M^O))+B[5]+3593408605&4294967295,T=M+(E<<5&4294967295|E>>>27),E=R+(M^O&(T^M))+B[10]+38016083&4294967295,R=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(R^T))+B[15]+3634488961&4294967295,O=R+(E<<14&4294967295|E>>>18),E=M+(R^T&(O^R))+B[4]+3889429448&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(O^R&(M^O))+B[9]+568446438&4294967295,T=M+(E<<5&4294967295|E>>>27),E=R+(M^O&(T^M))+B[14]+3275163606&4294967295,R=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(R^T))+B[3]+4107603335&4294967295,O=R+(E<<14&4294967295|E>>>18),E=M+(R^T&(O^R))+B[8]+1163531501&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(O^R&(M^O))+B[13]+2850285829&4294967295,T=M+(E<<5&4294967295|E>>>27),E=R+(M^O&(T^M))+B[2]+4243563512&4294967295,R=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(R^T))+B[7]+1735328473&4294967295,O=R+(E<<14&4294967295|E>>>18),E=M+(R^T&(O^R))+B[12]+2368359562&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(M^O^R)+B[5]+4294588738&4294967295,T=M+(E<<4&4294967295|E>>>28),E=R+(T^M^O)+B[8]+2272392833&4294967295,R=T+(E<<11&4294967295|E>>>21),E=O+(R^T^M)+B[11]+1839030562&4294967295,O=R+(E<<16&4294967295|E>>>16),E=M+(O^R^T)+B[14]+4259657740&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(M^O^R)+B[1]+2763975236&4294967295,T=M+(E<<4&4294967295|E>>>28),E=R+(T^M^O)+B[4]+1272893353&4294967295,R=T+(E<<11&4294967295|E>>>21),E=O+(R^T^M)+B[7]+4139469664&4294967295,O=R+(E<<16&4294967295|E>>>16),E=M+(O^R^T)+B[10]+3200236656&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(M^O^R)+B[13]+681279174&4294967295,T=M+(E<<4&4294967295|E>>>28),E=R+(T^M^O)+B[0]+3936430074&4294967295,R=T+(E<<11&4294967295|E>>>21),E=O+(R^T^M)+B[3]+3572445317&4294967295,O=R+(E<<16&4294967295|E>>>16),E=M+(O^R^T)+B[6]+76029189&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(M^O^R)+B[9]+3654602809&4294967295,T=M+(E<<4&4294967295|E>>>28),E=R+(T^M^O)+B[12]+3873151461&4294967295,R=T+(E<<11&4294967295|E>>>21),E=O+(R^T^M)+B[15]+530742520&4294967295,O=R+(E<<16&4294967295|E>>>16),E=M+(O^R^T)+B[2]+3299628645&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(O^(M|~R))+B[0]+4096336452&4294967295,T=M+(E<<6&4294967295|E>>>26),E=R+(M^(T|~O))+B[7]+1126891415&4294967295,R=T+(E<<10&4294967295|E>>>22),E=O+(T^(R|~M))+B[14]+2878612391&4294967295,O=R+(E<<15&4294967295|E>>>17),E=M+(R^(O|~T))+B[5]+4237533241&4294967295,M=O+(E<<21&4294967295|E>>>11),E=T+(O^(M|~R))+B[12]+1700485571&4294967295,T=M+(E<<6&4294967295|E>>>26),E=R+(M^(T|~O))+B[3]+2399980690&4294967295,R=T+(E<<10&4294967295|E>>>22),E=O+(T^(R|~M))+B[10]+4293915773&4294967295,O=R+(E<<15&4294967295|E>>>17),E=M+(R^(O|~T))+B[1]+2240044497&4294967295,M=O+(E<<21&4294967295|E>>>11),E=T+(O^(M|~R))+B[8]+1873313359&4294967295,T=M+(E<<6&4294967295|E>>>26),E=R+(M^(T|~O))+B[15]+4264355552&4294967295,R=T+(E<<10&4294967295|E>>>22),E=O+(T^(R|~M))+B[6]+2734768916&4294967295,O=R+(E<<15&4294967295|E>>>17),E=M+(R^(O|~T))+B[13]+1309151649&4294967295,M=O+(E<<21&4294967295|E>>>11),E=T+(O^(M|~R))+B[4]+4149444226&4294967295,T=M+(E<<6&4294967295|E>>>26),E=R+(M^(T|~O))+B[11]+3174756917&4294967295,R=T+(E<<10&4294967295|E>>>22),E=O+(T^(R|~M))+B[2]+718787259&4294967295,O=R+(E<<15&4294967295|E>>>17),E=M+(R^(O|~T))+B[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(O+(E<<21&4294967295|E>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+R&4294967295}n.prototype.u=function(j,T){T===void 0&&(T=j.length);for(var M=T-this.blockSize,B=this.B,O=this.h,R=0;R<T;){if(O==0)for(;R<=M;)s(this,j,R),R+=this.blockSize;if(typeof j=="string"){for(;R<T;)if(B[O++]=j.charCodeAt(R++),O==this.blockSize){s(this,B),O=0;break}}else for(;R<T;)if(B[O++]=j[R++],O==this.blockSize){s(this,B),O=0;break}}this.h=O,this.o+=T},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;var M=8*this.o;for(T=j.length-8;T<j.length;++T)j[T]=M&255,M/=256;for(this.u(j),j=Array(16),T=M=0;4>T;++T)for(var B=0;32>B;B+=8)j[M++]=this.g[T]>>>B&255;return j};function i(j,T){var M=u;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=T(j)}function o(j,T){this.h=T;for(var M=[],B=!0,O=j.length-1;0<=O;O--){var R=j[O]|0;B&&R==T||(M[O]=R,B=!1)}this.g=M}var u={};function a(j){return-128<=j&&128>j?i(j,function(T){return new o([T|0],0>T?-1:0)}):new o([j|0],0>j?-1:0)}function l(j){if(isNaN(j)||!isFinite(j))return d;if(0>j)return p(l(-j));for(var T=[],M=1,B=0;j>=M;B++)T[B]=j/M|0,M*=4294967296;return new o(T,0)}function c(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return p(c(j.substring(1),T));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=l(Math.pow(T,8)),B=d,O=0;O<j.length;O+=8){var R=Math.min(8,j.length-O),E=parseInt(j.substring(O,O+R),T);8>R?(R=l(Math.pow(T,R)),B=B.j(R).add(l(E))):(B=B.j(M),B=B.add(l(E)))}return B}var d=a(0),f=a(1),h=a(16777216);r=o.prototype,r.m=function(){if(v(this))return-p(this).m();for(var j=0,T=1,M=0;M<this.g.length;M++){var B=this.i(M);j+=(0<=B?B:4294967296+B)*T,T*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(g(this))return"0";if(v(this))return"-"+p(this).toString(j);for(var T=l(Math.pow(j,6)),M=this,B="";;){var O=k(M,T).g;M=y(M,O.j(T));var R=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=O,g(M))return R+B;for(;6>R.length;)R="0"+R;B=R+B}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function g(j){if(j.h!=0)return!1;for(var T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function v(j){return j.h==-1}r.l=function(j){return j=y(this,j),v(j)?-1:g(j)?0:1};function p(j){for(var T=j.g.length,M=[],B=0;B<T;B++)M[B]=~j.g[B];return new o(M,~j.h).add(f)}r.abs=function(){return v(this)?p(this):this},r.add=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],B=0,O=0;O<=T;O++){var R=B+(this.i(O)&65535)+(j.i(O)&65535),E=(R>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);B=E>>>16,R&=65535,E&=65535,M[O]=E<<16|R}return new o(M,M[M.length-1]&-2147483648?-1:0)};function y(j,T){return j.add(p(T))}r.j=function(j){if(g(this)||g(j))return d;if(v(this))return v(j)?p(this).j(p(j)):p(p(this).j(j));if(v(j))return p(this.j(p(j)));if(0>this.l(h)&&0>j.l(h))return l(this.m()*j.m());for(var T=this.g.length+j.g.length,M=[],B=0;B<2*T;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var O=0;O<j.g.length;O++){var R=this.i(B)>>>16,E=this.i(B)&65535,I=j.i(O)>>>16,A=j.i(O)&65535;M[2*B+2*O]+=E*A,m(M,2*B+2*O),M[2*B+2*O+1]+=R*A,m(M,2*B+2*O+1),M[2*B+2*O+1]+=E*I,m(M,2*B+2*O+1),M[2*B+2*O+2]+=R*I,m(M,2*B+2*O+2)}for(B=0;B<T;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=T;B<2*T;B++)M[B]=0;return new o(M,0)};function m(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function b(j,T){this.g=j,this.h=T}function k(j,T){if(g(T))throw Error("division by zero");if(g(j))return new b(d,d);if(v(j))return T=k(p(j),T),new b(p(T.g),p(T.h));if(v(T))return T=k(j,p(T)),new b(p(T.g),T.h);if(30<j.g.length){if(v(j)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var M=f,B=T;0>=B.l(j);)M=N(M),B=N(B);var O=F(M,1),R=F(B,1);for(B=F(B,2),M=F(M,2);!g(B);){var E=R.add(B);0>=E.l(j)&&(O=O.add(M),R=E),B=F(B,1),M=F(M,1)}return T=y(j,O.j(T)),new b(O,T)}for(O=d;0<=j.l(T);){for(M=Math.max(1,Math.floor(j.m()/T.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),R=l(M),E=R.j(T);v(E)||0<E.l(j);)M-=B,R=l(M),E=R.j(T);g(R)&&(R=f),O=O.add(R),j=y(j,E)}return new b(O,j)}r.A=function(j){return k(this,j).h},r.and=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],B=0;B<T;B++)M[B]=this.i(B)&j.i(B);return new o(M,this.h&j.h)},r.or=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],B=0;B<T;B++)M[B]=this.i(B)|j.i(B);return new o(M,this.h|j.h)},r.xor=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],B=0;B<T;B++)M[B]=this.i(B)^j.i(B);return new o(M,this.h^j.h)};function N(j){for(var T=j.g.length+1,M=[],B=0;B<T;B++)M[B]=j.i(B)<<1|j.i(B-1)>>>31;return new o(M,j.h)}function F(j,T){var M=T>>5;T%=32;for(var B=j.g.length-M,O=[],R=0;R<B;R++)O[R]=0<T?j.i(R+M)>>>T|j.i(R+M+1)<<32-T:j.i(R+M);return new o(O,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,m6=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=c,Kl=o}).apply(typeof k5<"u"?k5:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g6,Sh,y6,gp,x1,v6,b6,w6;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(U,J,re){return U==Array.prototype||U==Object.prototype||(U[J]=re.value),U};function e(U){U=[typeof globalThis=="object"&&globalThis,U,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var J=0;J<U.length;++J){var re=U[J];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}var n=e(this);function s(U,J){if(J)e:{var re=n;U=U.split(".");for(var de=0;de<U.length-1;de++){var Ie=U[de];if(!(Ie in re))break e;re=re[Ie]}U=U[U.length-1],de=re[U],J=J(de),J!=de&&J!=null&&t(re,U,{configurable:!0,writable:!0,value:J})}}function i(U,J){U instanceof String&&(U+="");var re=0,de=!1,Ie={next:function(){if(!de&&re<U.length){var Be=re++;return{value:J(Be,U[Be]),done:!1}}return de=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}s("Array.prototype.values",function(U){return U||function(){return i(this,function(J,re){return re})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function a(U){var J=typeof U;return J=J!="object"?J:U?Array.isArray(U)?"array":J:"null",J=="array"||J=="object"&&typeof U.length=="number"}function l(U){var J=typeof U;return J=="object"&&U!=null||J=="function"}function c(U,J,re){return U.call.apply(U.bind,arguments)}function d(U,J,re){if(!U)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,de),U.apply(J,Ie)}}return function(){return U.apply(J,arguments)}}function f(U,J,re){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(U,J){var re=Array.prototype.slice.call(arguments,1);return function(){var de=re.slice();return de.push.apply(de,arguments),U.apply(this,de)}}function g(U,J){function re(){}re.prototype=J.prototype,U.aa=J.prototype,U.prototype=new re,U.prototype.constructor=U,U.Qb=function(de,Ie,Be){for(var ht=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)ht[lr-2]=arguments[lr];return J.prototype[Ie].apply(de,ht)}}function v(U){const J=U.length;if(0<J){const re=Array(J);for(let de=0;de<J;de++)re[de]=U[de];return re}return[]}function p(U,J){for(let re=1;re<arguments.length;re++){const de=arguments[re];if(a(de)){const Ie=U.length||0,Be=de.length||0;U.length=Ie+Be;for(let ht=0;ht<Be;ht++)U[Ie+ht]=de[ht]}else U.push(de)}}class y{constructor(J,re){this.i=J,this.j=re,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function m(U){return/^[\s\xa0]*$/.test(U)}function b(){var U=u.navigator;return U&&(U=U.userAgent)?U:""}function k(U){return k[" "](U),U}k[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function F(U,J,re){for(const de in U)J.call(re,U[de],de,U)}function j(U,J){for(const re in U)J.call(void 0,U[re],re,U)}function T(U){const J={};for(const re in U)J[re]=U[re];return J}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(U,J){let re,de;for(let Ie=1;Ie<arguments.length;Ie++){de=arguments[Ie];for(re in de)U[re]=de[re];for(let Be=0;Be<M.length;Be++)re=M[Be],Object.prototype.hasOwnProperty.call(de,re)&&(U[re]=de[re])}}function O(U){var J=1;U=U.split(":");const re=[];for(;0<J&&U.length;)re.push(U.shift()),J--;return U.length&&re.push(U.join(":")),re}function R(U){u.setTimeout(()=>{throw U},0)}function E(){var U=S;let J=null;return U.g&&(J=U.g,U.g=U.g.next,U.g||(U.h=null),J.next=null),J}class I{constructor(){this.h=this.g=null}add(J,re){const de=A.get();de.set(J,re),this.h?this.h.next=de:this.g=de,this.h=de}}var A=new y(()=>new w,U=>U.reset());class w{constructor(){this.next=this.g=this.h=null}set(J,re){this.h=J,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let _,x=!1,S=new I,C=()=>{const U=u.Promise.resolve(void 0);_=()=>{U.then(q)}};var q=()=>{for(var U;U=E();){try{U.h.call(U.g)}catch(re){R(re)}var J=A;J.j(U),100>J.h&&(J.h++,U.next=J.g,J.g=U)}x=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(U,J){this.type=U,this.g=this.target=J,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var U=!1,J=Object.defineProperty({},"passive",{get:function(){U=!0}});try{const re=()=>{};u.addEventListener("test",re,J),u.removeEventListener("test",re,J)}catch{}return U}();function Z(U,J){if(H.call(this,U?U.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,U){var re=this.type=U.type,de=U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:null;if(this.target=U.target||U.srcElement,this.g=J,J=U.relatedTarget){if(N){e:{try{k(J.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(J=null)}}else re=="mouseover"?J=U.fromElement:re=="mouseout"&&(J=U.toElement);this.relatedTarget=J,de?(this.clientX=de.clientX!==void 0?de.clientX:de.pageX,this.clientY=de.clientY!==void 0?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0),this.button=U.button,this.key=U.key||"",this.ctrlKey=U.ctrlKey,this.altKey=U.altKey,this.shiftKey=U.shiftKey,this.metaKey=U.metaKey,this.pointerId=U.pointerId||0,this.pointerType=typeof U.pointerType=="string"?U.pointerType:V[U.pointerType]||"",this.state=U.state,this.i=U,U.defaultPrevented&&Z.aa.h.call(this)}}g(Z,H);var V={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var U=this.i;U.preventDefault?U.preventDefault():U.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),z=0;function D(U,J,re,de,Ie){this.listener=U,this.proxy=null,this.src=J,this.type=re,this.capture=!!de,this.ha=Ie,this.key=++z,this.da=this.fa=!1}function W(U){U.da=!0,U.listener=null,U.proxy=null,U.src=null,U.ha=null}function ee(U){this.src=U,this.g={},this.h=0}ee.prototype.add=function(U,J,re,de,Ie){var Be=U.toString();U=this.g[Be],U||(U=this.g[Be]=[],this.h++);var ht=ie(U,J,de,Ie);return-1<ht?(J=U[ht],re||(J.fa=!1)):(J=new D(J,this.src,Be,!!de,Ie),J.fa=re,U.push(J)),J};function oe(U,J){var re=J.type;if(re in U.g){var de=U.g[re],Ie=Array.prototype.indexOf.call(de,J,void 0),Be;(Be=0<=Ie)&&Array.prototype.splice.call(de,Ie,1),Be&&(W(J),U.g[re].length==0&&(delete U.g[re],U.h--))}}function ie(U,J,re,de){for(var Ie=0;Ie<U.length;++Ie){var Be=U[Ie];if(!Be.da&&Be.listener==J&&Be.capture==!!re&&Be.ha==de)return Ie}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),le={};function ne(U,J,re,de,Ie){if(Array.isArray(J)){for(var Be=0;Be<J.length;Be++)ne(U,J[Be],re,de,Ie);return null}return re=Ue(re),U&&U[Q]?U.K(J,re,l(de)?!!de.capture:!1,Ie):se(U,J,re,!1,de,Ie)}function se(U,J,re,de,Ie,Be){if(!J)throw Error("Invalid event type");var ht=l(Ie)?!!Ie.capture:!!Ie,lr=Te(U);if(lr||(U[ae]=lr=new ee(U)),re=lr.add(J,re,de,ht,Be),re.proxy)return re;if(de=ye(),re.proxy=de,de.src=U,de.listener=re,U.addEventListener)X||(Ie=ht),Ie===void 0&&(Ie=!1),U.addEventListener(J.toString(),de,Ie);else if(U.attachEvent)U.attachEvent(_e(J.toString()),de);else if(U.addListener&&U.removeListener)U.addListener(de);else throw Error("addEventListener and attachEvent are unavailable.");return re}function ye(){function U(re){return J.call(U.src,U.listener,re)}const J=Se;return U}function me(U,J,re,de,Ie){if(Array.isArray(J))for(var Be=0;Be<J.length;Be++)me(U,J[Be],re,de,Ie);else de=l(de)?!!de.capture:!!de,re=Ue(re),U&&U[Q]?(U=U.i,J=String(J).toString(),J in U.g&&(Be=U.g[J],re=ie(Be,re,de,Ie),-1<re&&(W(Be[re]),Array.prototype.splice.call(Be,re,1),Be.length==0&&(delete U.g[J],U.h--)))):U&&(U=Te(U))&&(J=U.g[J.toString()],U=-1,J&&(U=ie(J,re,de,Ie)),(re=-1<U?J[U]:null)&&we(re))}function we(U){if(typeof U!="number"&&U&&!U.da){var J=U.src;if(J&&J[Q])oe(J.i,U);else{var re=U.type,de=U.proxy;J.removeEventListener?J.removeEventListener(re,de,U.capture):J.detachEvent?J.detachEvent(_e(re),de):J.addListener&&J.removeListener&&J.removeListener(de),(re=Te(J))?(oe(re,U),re.h==0&&(re.src=null,J[ae]=null)):W(U)}}}function _e(U){return U in le?le[U]:le[U]="on"+U}function Se(U,J){if(U.da)U=!0;else{J=new Z(J,this);var re=U.listener,de=U.ha||U.src;U.fa&&we(U),U=re.call(de,J)}return U}function Te(U){return U=U[ae],U instanceof ee?U:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(U){return typeof U=="function"?U:(U[je]||(U[je]=function(J){return U.handleEvent(J)}),U[je])}function qe(){P.call(this),this.i=new ee(this),this.M=this,this.F=null}g(qe,P),qe.prototype[Q]=!0,qe.prototype.removeEventListener=function(U,J,re,de){me(this,U,J,re,de)};function We(U,J){var re,de=U.F;if(de)for(re=[];de;de=de.F)re.push(de);if(U=U.M,de=J.type||J,typeof J=="string")J=new H(J,U);else if(J instanceof H)J.target=J.target||U;else{var Ie=J;J=new H(de,U),B(J,Ie)}if(Ie=!0,re)for(var Be=re.length-1;0<=Be;Be--){var ht=J.g=re[Be];Ie=Ke(ht,de,!0,J)&&Ie}if(ht=J.g=U,Ie=Ke(ht,de,!0,J)&&Ie,Ie=Ke(ht,de,!1,J)&&Ie,re)for(Be=0;Be<re.length;Be++)ht=J.g=re[Be],Ie=Ke(ht,de,!1,J)&&Ie}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var U=this.i,J;for(J in U.g){for(var re=U.g[J],de=0;de<re.length;de++)W(re[de]);delete U.g[J],U.h--}}this.F=null},qe.prototype.K=function(U,J,re,de){return this.i.add(String(U),J,!1,re,de)},qe.prototype.L=function(U,J,re,de){return this.i.add(String(U),J,!0,re,de)};function Ke(U,J,re,de){if(J=U.i.g[String(J)],!J)return!0;J=J.concat();for(var Ie=!0,Be=0;Be<J.length;++Be){var ht=J[Be];if(ht&&!ht.da&&ht.capture==re){var lr=ht.listener,Sr=ht.ha||ht.src;ht.fa&&oe(U.i,ht),Ie=lr.call(Sr,de)!==!1&&Ie}}return Ie&&!de.defaultPrevented}function rt(U,J,re){if(typeof U=="function")re&&(U=f(U,re));else if(U&&typeof U.handleEvent=="function")U=f(U.handleEvent,U);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:u.setTimeout(U,J||0)}function ut(U){U.g=rt(()=>{U.g=null,U.i&&(U.i=!1,ut(U))},U.l);const J=U.h;U.h=null,U.m.apply(null,J)}class He extends P{constructor(J,re){super(),this.m=J,this.l=re,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(U){P.call(this),this.h=U,this.g={}}g(_t,P);var Qe=[];function at(U){F(U.g,function(J,re){this.g.hasOwnProperty(re)&&we(J)},U),U.g={}}_t.prototype.N=function(){_t.aa.N.call(this),at(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=u.JSON.stringify,yt=u.JSON.parse,xt=class{stringify(U){return u.JSON.stringify(U,void 0)}parse(U){return u.JSON.parse(U,void 0)}};function Ct(){}Ct.prototype.h=null;function ar(U){return U.h||(U.h=U.i())}function wt(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){H.call(this,"d")}g($t,H);function At(){H.call(this,"c")}g(At,H);var vt={},Nt=null;function Rt(){return Nt=Nt||new qe}vt.La="serverreachability";function qt(U){H.call(this,vt.La,U)}g(qt,H);function er(U){const J=Rt();We(J,new qt(J))}vt.STAT_EVENT="statevent";function Dt(U,J){H.call(this,vt.STAT_EVENT,U),this.stat=J}g(Dt,H);function ct(U){const J=Rt();We(J,new Dt(J,U))}vt.Ma="timingevent";function ir(U,J){H.call(this,vt.Ma,U),this.size=J}g(ir,H);function Ut(U,J){if(typeof U!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){U()},J)}function ke(){this.g=!0}ke.prototype.xa=function(){this.g=!1};function Ne(U,J,re,de,Ie,Be){U.info(function(){if(U.g)if(Be)for(var ht="",lr=Be.split("&"),Sr=0;Sr<lr.length;Sr++){var ur=lr[Sr].split("=");if(1<ur.length){var Lr=ur[0];ur=ur[1];var Wr=Lr.split("_");ht=2<=Wr.length&&Wr[1]=="type"?ht+(Lr+"="+ur+"&"):ht+(Lr+"=redacted&")}}else ht=null;else ht=Be;return"XMLHTTP REQ ("+de+") [attempt "+Ie+"]: "+J+`
`+re+`
`+ht})}function ze(U,J,re,de,Ie,Be,ht){U.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+Ie+"]: "+J+`
`+re+`
`+Be+" "+ht})}function st(U,J,re,de){U.info(function(){return"XMLHTTP TEXT ("+J+"): "+pt(U,re)+(de?" "+de:"")})}function Ft(U,J){U.info(function(){return"TIMEOUT: "+J})}ke.prototype.info=function(){};function pt(U,J){if(!U.g)return J;if(!J)return null;try{var re=JSON.parse(J);if(re){for(U=0;U<re.length;U++)if(Array.isArray(re[U])){var de=re[U];if(!(2>de.length)){var Ie=de[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var Be=Ie[0];if(Be!="noop"&&Be!="stop"&&Be!="close")for(var ht=1;ht<Ie.length;ht++)Ie[ht]=""}}}}return nt(re)}catch{return J}}var Mt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function St(){}g(St,Ct),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},it=new St;function bt(U,J,re,de){this.j=U,this.i=J,this.l=re,this.R=de||1,this.U=new _t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var or={},yr={};function Mr(U,J,re){U.L=1,U.v=Li(gn(J)),U.m=re,U.P=!0,Dr(U,null)}function Dr(U,J){U.F=Date.now(),Oe(U),U.A=gn(U.v);var re=U.A,de=U.R;Array.isArray(de)||(de=[String(de)]),Qt(re.i,"t",de),U.C=0,re=U.j.J,U.h=new Lt,U.g=ue(U.j,re?J:null,!U.m),0<U.O&&(U.M=new He(f(U.Y,U,U.g),U.O)),J=U.U,re=U.g,de=U.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Qe[0]=Ie.toString()),Ie=Qe);for(var Be=0;Be<Ie.length;Be++){var ht=ne(re,Ie[Be],de||J.handleEvent,!1,J.h||J);if(!ht)break;J.g[ht.key]=ht}J=U.H?T(U.H):{},U.m?(U.u||(U.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",U.g.ea(U.A,U.u,U.m,J)):(U.u="GET",U.g.ea(U.A,U.u,null,J)),er(),Ne(U.i,U.u,U.A,U.l,U.R,U.m)}bt.prototype.ca=function(U){U=U.target;const J=this.M;J&&Ln(U)==3?J.j():this.Y(U)},bt.prototype.Y=function(U){try{if(U==this.g)e:{const Wr=Ln(this.g);var J=this.g.Ba();const Ls=this.g.Z();if(!(3>Wr)&&(Wr!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||Wr!=4||J==7||(J==8||0>=Ls?er(3):er(2)),et(this);var re=this.g.Z();this.X=re;t:if(on(this)){var de=Eu(this.g);U="";var Ie=de.length,Be=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Pt(this);var ht="";break t}this.h.i=new u.TextDecoder}for(J=0;J<Ie;J++)this.h.h=!0,U+=this.h.i.decode(de[J],{stream:!(Be&&J==Ie-1)});de.length=0,this.h.g+=U,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=re==200,ze(this.i,this.u,this.A,this.l,this.R,Wr,re),this.o){if(this.T&&!this.K){t:{if(this.g){var lr,Sr=this.g;if((lr=Sr.g?Sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(lr)){var ur=lr;break t}}ur=null}if(re=ur)st(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mt(this,re);else{this.o=!1,this.s=3,ct(12),ft(this),Pt(this);break e}}if(this.P){re=!0;let Kn;for(;!this.J&&this.C<ht.length;)if(Kn=be(this,ht),Kn==yr){Wr==4&&(this.s=4,ct(14),re=!1),st(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==or){this.s=4,ct(15),st(this.i,this.l,ht,"[Invalid Chunk]"),re=!1;break}else st(this.i,this.l,Kn,null),mt(this,Kn);if(on(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wr!=4||ht.length!=0||this.h.h||(this.s=1,ct(16),re=!1),this.o=this.o&&re,!re)st(this.i,this.l,ht,"[Invalid Chunked Response]"),ft(this),Pt(this);else if(0<ht.length&&!this.W){this.W=!0;var Lr=this.j;Lr.g==this&&Lr.ba&&!Lr.M&&(Lr.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),fa(Lr),Lr.M=!0,ct(11))}}else st(this.i,this.l,ht,null),mt(this,ht);Wr==4&&ft(this),this.o&&!this.J&&(Wr==4?no(this.j,this):(this.o=!1,Oe(this)))}else to(this.g),re==400&&0<ht.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),ft(this),Pt(this)}}}catch{}finally{}};function on(U){return U.g?U.u=="GET"&&U.L!=2&&U.j.Ca:!1}function be(U,J){var re=U.C,de=J.indexOf(`
`,re);return de==-1?yr:(re=Number(J.substring(re,de)),isNaN(re)?or:(de+=1,de+re>J.length?yr:(J=J.slice(de,de+re),U.C=de+re,J)))}bt.prototype.cancel=function(){this.J=!0,ft(this)};function Oe(U){U.S=Date.now()+U.I,Ge(U,U.I)}function Ge(U,J){if(U.B!=null)throw Error("WatchDog timer not null");U.B=Ut(f(U.ba,U),J)}function et(U){U.B&&(u.clearTimeout(U.B),U.B=null)}bt.prototype.ba=function(){this.B=null;const U=Date.now();0<=U-this.S?(Ft(this.i,this.A),this.L!=2&&(er(),ct(17)),ft(this),this.s=2,Pt(this)):Ge(this,this.S-U)};function Pt(U){U.j.G==0||U.J||no(U.j,U)}function ft(U){et(U);var J=U.M;J&&typeof J.ma=="function"&&J.ma(),U.M=null,at(U.U),U.g&&(J=U.g,U.g=null,J.abort(),J.ma())}function mt(U,J){try{var re=U.j;if(re.G!=0&&(re.g==U||br(re.h,U))){if(!U.K&&br(re.h,U)&&re.G==3){try{var de=re.Da.g.parse(J)}catch{de=null}if(Array.isArray(de)&&de.length==3){var Ie=de;if(Ie[0]==0){e:if(!re.u){if(re.g)if(re.g.F+3e3<U.F)js(re),la(re);else break e;No(re),ct(18)}}else re.za=Ie[1],0<re.za-re.T&&37500>Ie[2]&&re.F&&re.v==0&&!re.C&&(re.C=Ut(f(re.Za,re),6e3));if(1>=zt(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else oi(re,11)}else if((U.K||re.g==U)&&js(re),!m(J))for(Ie=re.Da.g.parse(J),J=0;J<Ie.length;J++){let ur=Ie[J];if(re.T=ur[0],ur=ur[1],re.G==2)if(ur[0]=="c"){re.K=ur[1],re.ia=ur[2];const Lr=ur[3];Lr!=null&&(re.la=Lr,re.j.info("VER="+re.la));const Wr=ur[4];Wr!=null&&(re.Aa=Wr,re.j.info("SVER="+re.Aa));const Ls=ur[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(de=1.5*Ls,re.L=de,re.j.info("backChannelRequestTimeoutMs_="+de)),de=re;const Kn=U.g;if(Kn){const io=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var Be=de.h;Be.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(Ht(Be,Be.h),Be.h=null))}if(de.D){const so=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(de.ya=so,_r(de.I,de.D,so))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-U.F,re.j.info("Handshake RTT: "+re.R+"ms")),de=re;var ht=U;if(de.qa=K(de,de.J?de.ia:null,de.W),ht.K){wr(de.h,ht);var lr=ht,Sr=de.L;Sr&&(lr.I=Sr),lr.B&&(et(lr),Oe(lr)),de.g=ht}else ha(de);0<re.i.length&&ua(re)}else ur[0]!="stop"&&ur[0]!="close"||oi(re,7);else re.G==3&&(ur[0]=="stop"||ur[0]=="close"?ur[0]=="stop"?oi(re,7):Ms(re):ur[0]!="noop"&&re.l&&re.l.ta(ur),re.v=0)}}er(4)}catch{}}var mr=class{constructor(U,J){this.g=U,this.map=J}};function Zt(U){this.l=U||10,u.PerformanceNavigationTiming?(U=u.performance.getEntriesByType("navigation"),U=0<U.length&&(U[0].nextHopProtocol=="hq"||U[0].nextHopProtocol=="h2")):U=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=U?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nr(U){return U.h?!0:U.g?U.g.size>=U.j:!1}function zt(U){return U.h?1:U.g?U.g.size:0}function br(U,J){return U.h?U.h==J:U.g?U.g.has(J):!1}function Ht(U,J){U.g?U.g.add(J):U.h=J}function wr(U,J){U.h&&U.h==J?U.h=null:U.g&&U.g.has(J)&&U.g.delete(J)}Zt.prototype.cancel=function(){if(this.i=Ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const U of this.g.values())U.cancel();this.g.clear()}};function Ir(U){if(U.h!=null)return U.i.concat(U.h.D);if(U.g!=null&&U.g.size!==0){let J=U.i;for(const re of U.g.values())J=J.concat(re.D);return J}return v(U.i)}function en(U){if(U.V&&typeof U.V=="function")return U.V();if(typeof Map<"u"&&U instanceof Map||typeof Set<"u"&&U instanceof Set)return Array.from(U.values());if(typeof U=="string")return U.split("");if(a(U)){for(var J=[],re=U.length,de=0;de<re;de++)J.push(U[de]);return J}J=[],re=0;for(de in U)J[re++]=U[de];return J}function un(U){if(U.na&&typeof U.na=="function")return U.na();if(!U.V||typeof U.V!="function"){if(typeof Map<"u"&&U instanceof Map)return Array.from(U.keys());if(!(typeof Set<"u"&&U instanceof Set)){if(a(U)||typeof U=="string"){var J=[];U=U.length;for(var re=0;re<U;re++)J.push(re);return J}J=[],re=0;for(const de in U)J[re++]=de;return J}}}function Un(U,J){if(U.forEach&&typeof U.forEach=="function")U.forEach(J,void 0);else if(a(U)||typeof U=="string")Array.prototype.forEach.call(U,J,void 0);else for(var re=un(U),de=en(U),Ie=de.length,Be=0;Be<Ie;Be++)J.call(void 0,de[Be],re&&re[Be],U)}var mn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xi(U,J){if(U){U=U.split("&");for(var re=0;re<U.length;re++){var de=U[re].indexOf("="),Ie=null;if(0<=de){var Be=U[re].substring(0,de);Ie=U[re].substring(de+1)}else Be=U[re];J(Be,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Fr(U){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,U instanceof Fr){this.h=U.h,vr(this,U.j),this.o=U.o,this.g=U.g,pr(this,U.s),this.l=U.l;var J=U.i,re=new Si;re.i=J.i,J.g&&(re.g=new Map(J.g),re.h=J.h),si(this,re),this.m=U.m}else U&&(J=String(U).match(mn))?(this.h=!1,vr(this,J[1]||"",!0),this.o=cn(J[2]||""),this.g=cn(J[3]||"",!0),pr(this,J[4]),this.l=cn(J[5]||"",!0),si(this,J[6]||"",!0),this.m=cn(J[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Fr.prototype.toString=function(){var U=[],J=this.j;J&&U.push(xn(J,cs,!0),":");var re=this.g;return(re||J=="file")&&(U.push("//"),(J=this.o)&&U.push(xn(J,cs,!0),"@"),U.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),re=this.s,re!=null&&U.push(":",String(re))),(re=this.l)&&(this.g&&re.charAt(0)!="/"&&U.push("/"),U.push(xn(re,re.charAt(0)=="/"?zn:Js,!0))),(re=this.i.toString())&&U.push("?",re),(re=this.m)&&U.push("#",xn(re,Ns)),U.join("")};function gn(U){return new Fr(U)}function vr(U,J,re){U.j=re?cn(J,!0):J,U.j&&(U.j=U.j.replace(/:$/,""))}function pr(U,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);U.s=J}else U.s=null}function si(U,J,re){J instanceof Si?(U.i=J,eo(U.i,U.h)):(re||(J=xn(J,Xn)),U.i=new Si(J,U.h))}function _r(U,J,re){U.i.set(J,re)}function Li(U){return _r(U,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),U}function cn(U,J){return U?J?decodeURI(U.replace(/%25/g,"%2525")):decodeURIComponent(U):""}function xn(U,J,re){return typeof U=="string"?(U=encodeURI(U).replace(J,Oi),re&&(U=U.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U):null}function Oi(U){return U=U.charCodeAt(0),"%"+(U>>4&15).toString(16)+(U&15).toString(16)}var cs=/[#\/\?@]/g,Js=/[#\?:]/g,zn=/[#\?]/g,Xn=/[#\?@]/g,Ns=/#/g;function Si(U,J){this.h=this.g=null,this.i=U||null,this.j=!!J}function Br(U){U.g||(U.g=new Map,U.h=0,U.i&&xi(U.i,function(J,re){U.add(decodeURIComponent(J.replace(/\+/g," ")),re)}))}r=Si.prototype,r.add=function(U,J){Br(this),this.i=null,U=ki(this,U);var re=this.g.get(U);return re||this.g.set(U,re=[]),re.push(J),this.h+=1,this};function Ps(U,J){Br(U),J=ki(U,J),U.g.has(J)&&(U.i=null,U.h-=U.g.get(J).length,U.g.delete(J))}function hs(U,J){return Br(U),J=ki(U,J),U.g.has(J)}r.forEach=function(U,J){Br(this),this.g.forEach(function(re,de){re.forEach(function(Ie){U.call(J,Ie,de,this)},this)},this)},r.na=function(){Br(this);const U=Array.from(this.g.values()),J=Array.from(this.g.keys()),re=[];for(let de=0;de<J.length;de++){const Ie=U[de];for(let Be=0;Be<Ie.length;Be++)re.push(J[de])}return re},r.V=function(U){Br(this);let J=[];if(typeof U=="string")hs(this,U)&&(J=J.concat(this.g.get(ki(this,U))));else{U=Array.from(this.g.values());for(let re=0;re<U.length;re++)J=J.concat(U[re])}return J},r.set=function(U,J){return Br(this),this.i=null,U=ki(this,U),hs(this,U)&&(this.h-=this.g.get(U).length),this.g.set(U,[J]),this.h+=1,this},r.get=function(U,J){return U?(U=this.V(U),0<U.length?String(U[0]):J):J};function Qt(U,J,re){Ps(U,J),0<re.length&&(U.i=null,U.g.set(ki(U,J),v(re)),U.h+=re.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const U=[],J=Array.from(this.g.keys());for(var re=0;re<J.length;re++){var de=J[re];const Be=encodeURIComponent(String(de)),ht=this.V(de);for(de=0;de<ht.length;de++){var Ie=Be;ht[de]!==""&&(Ie+="="+encodeURIComponent(String(ht[de]))),U.push(Ie)}}return this.i=U.join("&")};function ki(U,J){return J=String(J),U.j&&(J=J.toLowerCase()),J}function eo(U,J){J&&!U.j&&(Br(U),U.i=null,U.g.forEach(function(re,de){var Ie=de.toLowerCase();de!=Ie&&(Ps(this,de),Qt(this,Ie,re))},U)),U.j=J}function fs(U,J){const re=new ke;if(u.Image){const de=new Image;de.onload=h(Gi,re,"TestLoadImage: loaded",!0,J,de),de.onerror=h(Gi,re,"TestLoadImage: error",!1,J,de),de.onabort=h(Gi,re,"TestLoadImage: abort",!1,J,de),de.ontimeout=h(Gi,re,"TestLoadImage: timeout",!1,J,de),u.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=U}else J(!1)}function Su(U,J){const re=new ke,de=new AbortController,Ie=setTimeout(()=>{de.abort(),Gi(re,"TestPingServer: timeout",!1,J)},1e4);fetch(U,{signal:de.signal}).then(Be=>{clearTimeout(Ie),Be.ok?Gi(re,"TestPingServer: ok",!0,J):Gi(re,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(Ie),Gi(re,"TestPingServer: error",!1,J)})}function Gi(U,J,re,de,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),de(re)}catch{}}function na(){this.g=new xt}function kl(U,J,re){const de=re||"";try{Un(U,function(Ie,Be){let ht=Ie;l(Ie)&&(ht=nt(Ie)),J.push(de+Be+"="+encodeURIComponent(ht))})}catch(Ie){throw J.push(de+"type="+encodeURIComponent("_badmap")),Ie}}function ia(U){this.l=U.Ub||null,this.j=U.eb||!1}g(ia,Ct),ia.prototype.g=function(){return new sa(this.l,this.j)},ia.prototype.i=function(U){return function(){return U}}({});function sa(U,J){qe.call(this),this.D=U,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(sa,qe),r=sa.prototype,r.open=function(U,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=U,this.A=J,this.readyState=1,Ki(this)},r.send=function(U){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};U&&(J.body=U),(this.D||u).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},r.Sa=function(U){if(this.g&&(this.l=U,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=U.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")U.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in U){if(this.j=U.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ku(this)}else U.text().then(this.Ra.bind(this),this.ga.bind(this))};function ku(U){U.j.read().then(U.Pa.bind(U)).catch(U.ga.bind(U))}r.Pa=function(U){if(this.g){if(this.o&&U.value)this.response.push(U.value);else if(!this.o){var J=U.value?U.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!U.done}))&&(this.response=this.responseText+=J)}U.done?Is(this):Ki(this),this.readyState==3&&ku(this)}},r.Ra=function(U){this.g&&(this.response=this.responseText=U,Is(this))},r.Qa=function(U){this.g&&(this.response=U,Is(this))},r.ga=function(){this.g&&Is(this)};function Is(U){U.readyState=4,U.l=null,U.j=null,U.v=null,Ki(U)}r.setRequestHeader=function(U,J){this.u.append(U,J)},r.getResponseHeader=function(U){return this.h&&this.h.get(U.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const U=[],J=this.h.entries();for(var re=J.next();!re.done;)re=re.value,U.push(re[0]+": "+re[1]),re=J.next();return U.join(`\r
`)};function Ki(U){U.onreadystatechange&&U.onreadystatechange.call(U)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(U){this.m=U?"include":"same-origin"}});function Rs(U){let J="";return F(U,function(re,de){J+=de,J+=":",J+=re,J+=`\r
`}),J}function El(U,J,re){e:{for(de in re){var de=!1;break e}de=!0}de||(re=Rs(re),typeof U=="string"?re!=null&&encodeURIComponent(String(re)):_r(U,J,re))}function jr(U){qe.call(this),this.headers=new Map,this.o=U||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(jr,qe);var Al=/^https?$/i,oa=["POST","PUT"];r=jr.prototype,r.Ha=function(U){this.J=U},r.ea=function(U,J,re,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+U);J=J?J.toUpperCase():"GET",this.D=U,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?ar(this.o):ar(it),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(J,String(U),!0),this.B=!1}catch(Be){Tl(this,Be);return}if(U=re||"",re=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var Ie in de)re.set(Ie,de[Ie]);else if(typeof de.keys=="function"&&typeof de.get=="function")for(const Be of de.keys())re.set(Be,de.get(Be));else throw Error("Unknown input type for opt_headers: "+String(de));de=Array.from(re.keys()).find(Be=>Be.toLowerCase()=="content-type"),Ie=u.FormData&&U instanceof u.FormData,!(0<=Array.prototype.indexOf.call(oa,J,void 0))||de||Ie||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,ht]of re)this.g.setRequestHeader(Be,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(U),this.u=!1}catch(Be){Tl(this,Be)}};function Tl(U,J){U.h=!1,U.g&&(U.j=!0,U.g.abort(),U.j=!1),U.l=J,U.m=5,Cl(U),Ao(U)}function Cl(U){U.A||(U.A=!0,We(U,"complete"),We(U,"error"))}r.abort=function(U){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=U||7,We(this,"complete"),We(this,"abort"),Ao(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),jr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Nl(this):this.bb())},r.bb=function(){Nl(this)};function Nl(U){if(U.h&&typeof o<"u"&&(!U.v[1]||Ln(U)!=4||U.Z()!=2)){if(U.u&&Ln(U)==4)rt(U.Ea,0,U);else if(We(U,"readystatechange"),Ln(U)==4){U.h=!1;try{const ht=U.Z();e:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var re;if(!(re=J)){var de;if(de=ht===0){var Ie=String(U.D).match(mn)[1]||null;!Ie&&u.self&&u.self.location&&(Ie=u.self.location.protocol.slice(0,-1)),de=!Al.test(Ie?Ie.toLowerCase():"")}re=de}if(re)We(U,"complete"),We(U,"success");else{U.m=6;try{var Be=2<Ln(U)?U.g.statusText:""}catch{Be=""}U.l=Be+" ["+U.Z()+"]",Cl(U)}}finally{Ao(U)}}}}function Ao(U,J){if(U.g){Yi(U);const re=U.g,de=U.v[0]?()=>{}:null;U.g=null,U.v=null,J||We(U,"ready");try{re.onreadystatechange=de}catch{}}}function Yi(U){U.I&&(u.clearTimeout(U.I),U.I=null)}r.isActive=function(){return!!this.g};function Ln(U){return U.g?U.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(U){if(this.g){var J=this.g.responseText;return U&&J.indexOf(U)==0&&(J=J.substring(U.length)),yt(J)}};function Eu(U){try{if(!U.g)return null;if("response"in U.g)return U.g.response;switch(U.H){case"":case"text":return U.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in U.g)return U.g.mozResponseArrayBuffer}return null}catch{return null}}function to(U){const J={};U=(U.g&&2<=Ln(U)&&U.g.getAllResponseHeaders()||"").split(`\r
`);for(let de=0;de<U.length;de++){if(m(U[de]))continue;var re=O(U[de]);const Ie=re[0];if(re=re[1],typeof re!="string")continue;re=re.trim();const Be=J[Ie]||[];J[Ie]=Be,Be.push(re)}j(J,function(de){return de.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(U,J,re){return re&&re.internalChannelParams&&re.internalChannelParams[U]||J}function aa(U){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,U),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,U),this.cb=Gn("retryDelaySeedMs",1e4,U),this.Wa=Gn("forwardChannelMaxRetries",2,U),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,U),this.pa=U&&U.xmlHttpFactory||void 0,this.Xa=U&&U.Tb||void 0,this.Ca=U&&U.useFetchStreams||!1,this.L=void 0,this.J=U&&U.supportsCrossDomainXhr||!1,this.K="",this.h=new Zt(U&&U.concurrentRequestLimit),this.Da=new na,this.P=U&&U.fastHandshake||!1,this.O=U&&U.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=U&&U.Rb||!1,U&&U.xa&&this.j.xa(),U&&U.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&U&&U.detectBufferingProxy||!1,this.ja=void 0,U&&U.longPollingTimeout&&0<U.longPollingTimeout&&(this.ja=U.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(U,J,re,de){ct(0),this.W=U,this.H=J||{},re&&de!==void 0&&(this.H.OSID=re,this.H.OAID=de),this.F=this.X,this.I=K(this,null,this.W),ua(this)};function Ms(U){if(To(U),U.G==3){var J=U.U++,re=gn(U.I);if(_r(re,"SID",U.K),_r(re,"RID",J),_r(re,"TYPE","terminate"),ro(U,re),J=new bt(U,U.j,J),J.L=2,J.v=Li(gn(re)),re=!1,u.navigator&&u.navigator.sendBeacon)try{re=u.navigator.sendBeacon(J.v.toString(),"")}catch{}!re&&u.Image&&(new Image().src=J.v,re=!0),re||(J.g=ue(J.j,null),J.g.ea(J.v)),J.F=Date.now(),Oe(J)}pa(U)}function la(U){U.g&&(fa(U),U.g.cancel(),U.g=null)}function To(U){la(U),U.u&&(u.clearTimeout(U.u),U.u=null),js(U),U.h.cancel(),U.s&&(typeof U.s=="number"&&u.clearTimeout(U.s),U.s=null)}function ua(U){if(!nr(U.h)&&!U.s){U.s=!0;var J=U.Ga;_||C(),x||(_(),x=!0),S.add(J,U),U.B=0}}function Pl(U,J){return zt(U.h)>=U.h.j-(U.s?1:0)?!1:U.s?(U.i=J.D.concat(U.i),!0):U.G==1||U.G==2||U.B>=(U.Va?0:U.Wa)?!1:(U.s=Ut(f(U.Ga,U,J),da(U,U.B)),U.B++,!0)}r.Ga=function(U){if(this.s)if(this.s=null,this.G==1){if(!U){this.U=Math.floor(1e5*Math.random()),U=this.U++;const Ie=new bt(this,this.j,U);let Be=this.o;if(this.S&&(Be?(Be=T(Be),B(Be,this.S)):Be=this.S),this.m!==null||this.O||(Ie.H=Be,Be=null),this.P)e:{for(var J=0,re=0;re<this.i.length;re++){t:{var de=this.i[re];if("__data__"in de.map&&(de=de.map.__data__,typeof de=="string")){de=de.length;break t}de=void 0}if(de===void 0)break;if(J+=de,4096<J){J=re;break e}if(J===4096||re===this.i.length-1){J=re+1;break e}}J=1e3}else J=1e3;J=Co(this,Ie,J),re=gn(this.I),_r(re,"RID",U),_r(re,"CVER",22),this.D&&_r(re,"X-HTTP-Session-Id",this.D),ro(this,re),Be&&(this.O?J="headers="+encodeURIComponent(String(Rs(Be)))+"&"+J:this.m&&El(re,this.m,Be)),Ht(this.h,Ie),this.Ua&&_r(re,"TYPE","init"),this.P?(_r(re,"$req",J),_r(re,"SID","null"),Ie.T=!0,Mr(Ie,re,null)):Mr(Ie,re,J),this.G=2}}else this.G==3&&(U?ca(this,U):this.i.length==0||nr(this.h)||ca(this))};function ca(U,J){var re;J?re=J.l:re=U.U++;const de=gn(U.I);_r(de,"SID",U.K),_r(de,"RID",re),_r(de,"AID",U.T),ro(U,de),U.m&&U.o&&El(de,U.m,U.o),re=new bt(U,U.j,re,U.B+1),U.m===null&&(re.H=U.o),J&&(U.i=J.D.concat(U.i)),J=Co(U,re,1e3),re.I=Math.round(.5*U.wa)+Math.round(.5*U.wa*Math.random()),Ht(U.h,re),Mr(re,de,J)}function ro(U,J){U.H&&F(U.H,function(re,de){_r(J,de,re)}),U.l&&Un({},function(re,de){_r(J,de,re)})}function Co(U,J,re){re=Math.min(U.i.length,re);var de=U.l?f(U.l.Na,U.l,U):null;e:{var Ie=U.i;let Be=-1;for(;;){const ht=["count="+re];Be==-1?0<re?(Be=Ie[0].g,ht.push("ofs="+Be)):Be=0:ht.push("ofs="+Be);let lr=!0;for(let Sr=0;Sr<re;Sr++){let ur=Ie[Sr].g;const Lr=Ie[Sr].map;if(ur-=Be,0>ur)Be=Math.max(0,Ie[Sr].g-100),lr=!1;else try{kl(Lr,ht,"req"+ur+"_")}catch{de&&de(Lr)}}if(lr){de=ht.join("&");break e}}}return U=U.i.splice(0,re),J.D=U,de}function ha(U){if(!U.g&&!U.u){U.Y=1;var J=U.Fa;_||C(),x||(_(),x=!0),S.add(J,U),U.v=0}}function No(U){return U.g||U.u||3<=U.v?!1:(U.Y++,U.u=Ut(f(U.Fa,U),da(U,U.v)),U.v++,!0)}r.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var U=2*this.R;this.j.info("BP detection timer enabled: "+U),this.A=Ut(f(this.ab,this),U)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),la(this),Au(this))};function fa(U){U.A!=null&&(u.clearTimeout(U.A),U.A=null)}function Au(U){U.g=new bt(U,U.j,"rpc",U.Y),U.m===null&&(U.g.H=U.o),U.g.O=0;var J=gn(U.qa);_r(J,"RID","rpc"),_r(J,"SID",U.K),_r(J,"AID",U.T),_r(J,"CI",U.F?"0":"1"),!U.F&&U.ja&&_r(J,"TO",U.ja),_r(J,"TYPE","xmlhttp"),ro(U,J),U.m&&U.o&&El(J,U.m,U.o),U.L&&(U.g.I=U.L);var re=U.g;U=U.ia,re.L=1,re.v=Li(gn(J)),re.m=null,re.P=!0,Dr(re,U)}r.Za=function(){this.C!=null&&(this.C=null,la(this),No(this),ct(19))};function js(U){U.C!=null&&(u.clearTimeout(U.C),U.C=null)}function no(U,J){var re=null;if(U.g==J){js(U),fa(U),U.g=null;var de=2}else if(br(U.h,J))re=J.D,wr(U.h,J),de=1;else return;if(U.G!=0){if(J.o)if(de==1){re=J.m?J.m.length:0,J=Date.now()-J.F;var Ie=U.B;de=Rt(),We(de,new ir(de,re)),ua(U)}else ha(U);else if(Ie=J.s,Ie==3||Ie==0&&0<J.X||!(de==1&&Pl(U,J)||de==2&&No(U)))switch(re&&0<re.length&&(J=U.h,J.i=J.i.concat(re)),Ie){case 1:oi(U,5);break;case 4:oi(U,10);break;case 3:oi(U,6);break;default:oi(U,2)}}}function da(U,J){let re=U.Ta+Math.floor(Math.random()*U.cb);return U.isActive()||(re*=2),re*J}function oi(U,J){if(U.j.info("Error code "+J),J==2){var re=f(U.fb,U),de=U.Xa;const Ie=!de;de=new Fr(de||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vr(de,"https"),Li(de),Ie?fs(de.toString(),re):Su(de.toString(),re)}else ct(2);U.G=0,U.l&&U.l.sa(J),pa(U),To(U)}r.fb=function(U){U?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function pa(U){if(U.G=0,U.ka=[],U.l){const J=Ir(U.h);(J.length!=0||U.i.length!=0)&&(p(U.ka,J),p(U.ka,U.i),U.h.i.length=0,v(U.i),U.i.length=0),U.l.ra()}}function K(U,J,re){var de=re instanceof Fr?gn(re):new Fr(re);if(de.g!="")J&&(de.g=J+"."+de.g),pr(de,de.s);else{var Ie=u.location;de=Ie.protocol,J=J?J+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var Be=new Fr(null);de&&vr(Be,de),J&&(Be.g=J),Ie&&pr(Be,Ie),re&&(Be.l=re),de=Be}return re=U.D,J=U.ya,re&&J&&_r(de,re,J),_r(de,"VER",U.la),ro(U,de),de}function ue(U,J,re){if(J&&!U.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=U.Ca&&!U.pa?new jr(new ia({eb:re})):new jr(U.pa),J.Ha(U.J),J}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xe(){}r=xe.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ee(){}Ee.prototype.g=function(U,J){return new Re(U,J)};function Re(U,J){qe.call(this),this.g=new aa(J),this.l=U,this.h=J&&J.messageUrlParams||null,U=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(U?U["X-Client-Protocol"]="webchannel":U={"X-Client-Protocol":"webchannel"}),this.g.o=U,U=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(U?U["X-WebChannel-Content-Type"]=J.messageContentType:U={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&(U?U["X-WebChannel-Client-Profile"]=J.va:U={"X-WebChannel-Client-Profile":J.va}),this.g.S=U,(U=J&&J.Sb)&&!m(U)&&(this.g.m=U),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!m(J)&&(this.g.D=J,U=this.h,U!==null&&J in U&&(U=this.h,J in U&&delete U[J])),this.j=new Et(this)}g(Re,qe),Re.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){Ms(this.g)},Re.prototype.o=function(U){var J=this.g;if(typeof U=="string"){var re={};re.__data__=U,U=re}else this.u&&(re={},re.__data__=nt(U),U=re);J.i.push(new mr(J.Ya++,U)),J.G==3&&ua(J)},Re.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,Re.aa.N.call(this)};function Xe(U){$t.call(this),U.__headers__&&(this.headers=U.__headers__,this.statusCode=U.__status__,delete U.__headers__,delete U.__status__);var J=U.__sm__;if(J){e:{for(const re in J){U=re;break e}U=void 0}(this.i=U)&&(U=this.i,J=J!==null&&U in J?J[U]:void 0),this.data=J}else this.data=U}g(Xe,$t);function lt(){At.call(this),this.status=1}g(lt,At);function Et(U){this.g=U}g(Et,xe),Et.prototype.ua=function(){We(this.g,"a")},Et.prototype.ta=function(U){We(this.g,new Xe(U))},Et.prototype.sa=function(U){We(this.g,new lt)},Et.prototype.ra=function(){We(this.g,"b")},Ee.prototype.createWebChannel=Ee.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,w6=function(){return new Ee},b6=function(){return Rt()},v6=vt,x1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mt.NO_ERROR=0,Mt.TIMEOUT=8,Mt.HTTP_ERROR=6,gp=Mt,Ve.COMPLETE="complete",y6=Ve,wt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",qe.prototype.listen=qe.prototype.K,Sh=wt,jr.prototype.listenOnce=jr.prototype.L,jr.prototype.getLastError=jr.prototype.Ka,jr.prototype.getLastErrorCode=jr.prototype.Ba,jr.prototype.getStatus=jr.prototype.Z,jr.prototype.getResponseJson=jr.prototype.Oa,jr.prototype.getResponseText=jr.prototype.oa,jr.prototype.send=jr.prototype.ea,jr.prototype.setWithCredentials=jr.prototype.Ha,g6=jr}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const E5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new J2("@firebase/firestore");function hh(){return fu.logLevel}function Vt(r,...t){if(fu.logLevel<=Ar.DEBUG){const e=t.map(hy);fu.debug(`Firestore (${Bc}): ${r}`,...e)}}function Jo(r,...t){if(fu.logLevel<=Ar.ERROR){const e=t.map(hy);fu.error(`Firestore (${Bc}): ${r}`,...e)}}function Tc(r,...t){if(fu.logLevel<=Ar.WARN){const e=t.map(hy);fu.warn(`Firestore (${Bc}): ${r}`,...e)}}function hy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(r="Unexpected state"){const t=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+r;throw Jo(t),new Error(t)}function Hr(r,t){r||sr()}function dr(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends ko{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(mi.UNAUTHENTICATED))}shutdown(){}}class tC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class rC{constructor(t){this.t=t,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Hr(this.o===void 0);let n=this.i;const s=a=>this.i!==n?(n=this.i,e(a)):Promise.resolve();let i=new nl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nl,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const a=i;t.enqueueRetryable(async()=>{await a.promise,await s(this.currentUser)})},u=a=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>u(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?u(a):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nl)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Hr(typeof n.accessToken=="string"),new _6(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Hr(t===null||typeof t=="string"),new mi(t)}}class nC{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iC{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new nC(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oC{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Hr(this.o===void 0);const n=i=>{i.error!=null&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Vt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const s=i=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Hr(typeof e.token=="string"),this.R=e.token,new sC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const s=aC(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<e&&(n+=t.charAt(s[i]%t.length))}return n}}function Pr(r,t){return r<t?-1:r>t?1:0}function Cc(r,t,e){return r.length===t.length&&r.every((n,s)=>e(n,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Or.fromMillis(Date.now())}static fromDate(t){return Or.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Or(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pr(this.nanoseconds,t.nanoseconds):Pr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new fr(t)}static min(){return new fr(new Or(0,0))}static max(){return new fr(new Or(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e,n){e===void 0?e=0:e>t.length&&sr(),n===void 0?n=t.length-e:n>t.length-e&&sr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return pf.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof pf?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.get(s),o=e.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class rn extends pf{construct(t,e,n){return new rn(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new jt(tt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(s=>s.length>0))}return new rn(e)}static emptyPath(){return new rn([])}}const lC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends pf{construct(t,e,n){return new ei(t,e,n)}static isValidIdentifier(t){return lC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ei(["__name__"])}static fromServerFormat(t){const e=[];let n="",s=0;const i=()=>{if(n.length===0)throw new jt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new jt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const a=t[s+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new jt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(n+=u,s++):(i(),s++)}if(i(),o)throw new jt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ei(e)}static emptyPath(){return new ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(t){this.path=t}static fromPath(t){return new Wt(rn.fromString(t))}static fromName(t){return new Wt(rn.fromString(t).popFirst(5))}static empty(){return new Wt(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&rn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return rn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Wt(new rn(t.slice()))}}function uC(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=fr.fromTimestamp(n===1e9?new Or(e+1,0):new Or(e,n));return new hl(s,Wt.empty(),t)}function cC(r){return new hl(r.readTime,r.key,-1)}class hl{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new hl(fr.min(),Wt.empty(),-1)}static max(){return new hl(fr.max(),Wt.empty(),-1)}}function hC(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Wt.comparator(r.documentKey,t.documentKey),e!==0?e:Pr(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==fC)throw r;Vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(n,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.reject(e)}static resolve(t){return new dt((e,n)=>{e(t)})}static reject(t){return new dt((e,n)=>{n(t)})}static waitFor(t){return new dt((e,n)=>{let s=0,i=0,o=!1;t.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&e()},a=>n(a))}),o=!0,i===s&&e()})}static or(t){let e=dt.resolve(!1);for(const n of t)e=e.next(s=>s?dt.resolve(s):n());return e}static forEach(t,e){const n=[];return t.forEach((s,i)=>{n.push(e.call(this,s,i))}),this.waitFor(n)}static mapArray(t,e){return new dt((n,s)=>{const i=t.length,o=new Array(i);let u=0;for(let a=0;a<i;a++){const l=a;e(t[l]).next(c=>{o[l]=c,++u,u===i&&n(o)},c=>s(c))}})}static doWhile(t,e){return new dt((n,s)=>{const i=()=>{t()===!0?e().next(()=>{i()},s):n()};i()})}}function pC(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Df(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ie(n),this.se=n=>e.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}fy.oe=-1;function Mm(r){return r==null}function em(r){return r===0&&1/r==-1/0}function mC(r){return typeof r=="number"&&Number.isInteger(r)&&!em(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function wu(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function S6(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,e){this.comparator=t,this.root=e||Jn.EMPTY}insert(t,e){return new pn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(t){return new pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fd(this.root,t,this.comparator,!0)}}class Fd{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jn{constructor(t,e,n,s,i){this.key=t,this.value=e,this.color=n??Jn.RED,this.left=s??Jn.EMPTY,this.right=i??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,i){return new Jn(t??this.key,e??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const i=n(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,n),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Jn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sr();const t=this.left.check();if(t!==this.right.check())throw sr();return t+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw sr()}get value(){throw sr()}get color(){throw sr()}get left(){throw sr()}get right(){throw sr()}copy(t,e,n,s,i){return this}insert(t,e,n){return new Jn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.comparator=t,this.data=new pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new T5(this.data.getIterator())}getIteratorFrom(t){return new T5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ri(this.comparator);return e.data=t,e}}class T5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.fields=t,t.sort(ei.comparator)}static empty(){return new rs([])}unionWith(t){let e=new ri(ei.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new rs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cc(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new k6("Invalid base64 string: "+i):i}}(t);return new ii(e)}static fromUint8Array(t){const e=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new ii(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const gC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(r){if(Hr(!!r),typeof r=="string"){let t=0;const e=gC.exec(r);if(Hr(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:En(r.seconds),nanos:En(r.nanos)}}function En(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function du(r){return typeof r=="string"?ii.fromBase64String(r):ii.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function py(r){const t=r.mapValue.fields.__previous_value__;return dy(t)?py(t):t}function mf(r){const t=fl(r.mapValue.fields.__local_write_time__.timestampValue);return new Or(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,e,n,s,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=a,this.useFetchStreams=l}}class gf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new gf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof gf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={mapValue:{}};function pu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dy(r)?4:bC(r)?9007199254740991:vC(r)?10:11:sr()}function So(r,t){if(r===t)return!0;const e=pu(r);if(e!==pu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return mf(r).isEqual(mf(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=fl(s.timestampValue),u=fl(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(s,i){return du(s.bytesValue).isEqual(du(i.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(s,i){return En(s.geoPointValue.latitude)===En(i.geoPointValue.latitude)&&En(s.geoPointValue.longitude)===En(i.geoPointValue.longitude)}(r,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return En(s.integerValue)===En(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=En(s.doubleValue),u=En(i.doubleValue);return o===u?em(o)===em(u):isNaN(o)&&isNaN(u)}return!1}(r,t);case 9:return Cc(r.arrayValue.values||[],t.arrayValue.values||[],So);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(A5(o)!==A5(u))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(u[a]===void 0||!So(o[a],u[a])))return!1;return!0}(r,t);default:return sr()}}function yf(r,t){return(r.values||[]).find(e=>So(e,t))!==void 0}function Nc(r,t){if(r===t)return 0;const e=pu(r),n=pu(t);if(e!==n)return Pr(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pr(r.booleanValue,t.booleanValue);case 2:return function(i,o){const u=En(i.integerValue||i.doubleValue),a=En(o.integerValue||o.doubleValue);return u<a?-1:u>a?1:u===a?0:isNaN(u)?isNaN(a)?0:-1:1}(r,t);case 3:return C5(r.timestampValue,t.timestampValue);case 4:return C5(mf(r),mf(t));case 5:return Pr(r.stringValue,t.stringValue);case 6:return function(i,o){const u=du(i),a=du(o);return u.compareTo(a)}(r.bytesValue,t.bytesValue);case 7:return function(i,o){const u=i.split("/"),a=o.split("/");for(let l=0;l<u.length&&l<a.length;l++){const c=Pr(u[l],a[l]);if(c!==0)return c}return Pr(u.length,a.length)}(r.referenceValue,t.referenceValue);case 8:return function(i,o){const u=Pr(En(i.latitude),En(o.latitude));return u!==0?u:Pr(En(i.longitude),En(o.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return N5(r.arrayValue,t.arrayValue);case 10:return function(i,o){var u,a,l,c;const d=i.fields||{},f=o.fields||{},h=(u=d.value)===null||u===void 0?void 0:u.arrayValue,g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=Pr(((l=h==null?void 0:h.values)===null||l===void 0?void 0:l.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:N5(h,g)}(r.mapValue,t.mapValue);case 11:return function(i,o){if(i===Bd.mapValue&&o===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(o===Bd.mapValue)return-1;const u=i.fields||{},a=Object.keys(u),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const f=Pr(a[d],c[d]);if(f!==0)return f;const h=Nc(u[a[d]],l[c[d]]);if(h!==0)return h}return Pr(a.length,c.length)}(r.mapValue,t.mapValue);default:throw sr()}}function C5(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pr(r,t);const e=fl(r),n=fl(t),s=Pr(e.seconds,n.seconds);return s!==0?s:Pr(e.nanos,n.nanos)}function N5(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const i=Nc(e[s],n[s]);if(i)return i}return Pr(e.length,n.length)}function Pc(r){return S1(r)}function S1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=fl(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return du(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return Wt.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",s=!0;for(const i of e.values||[])s?s=!1:n+=",",n+=S1(i);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${S1(e.fields[o])}`;return s+"}"}(r.mapValue):sr()}function P5(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function k1(r){return!!r&&"integerValue"in r}function my(r){return!!r&&"arrayValue"in r}function I5(r){return!!r&&"nullValue"in r}function R5(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yp(r){return!!r&&"mapValue"in r}function vC(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Dh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return wu(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Dh(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dh(r.arrayValue.values[e]);return t}return Object.assign({},r)}function bC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!yp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dh(e)}setAll(t){let e=ei.emptyPath(),n={},s=[];t.forEach((o,u)=>{if(!e.isImmediateParentOf(u)){const a=this.getFieldsMap(e);this.applyChanges(a,n,s),n={},s=[],e=u.popLast()}o?n[u.lastSegment()]=Dh(o):s.push(u.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,s)}delete(t){const e=this.field(t.popLast());yp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return So(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];yp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){wu(e,(s,i)=>t[s]=i);for(const s of n)delete t[s]}clone(){return new Vi(Dh(this.value))}}function E6(r){const t=[];return wu(r.fields,(e,n)=>{const s=new ei([e]);if(yp(n)){const i=E6(n.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new rs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,e,n,s,i,o,u){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(t){return new yi(t,0,fr.min(),fr.min(),fr.min(),Vi.empty(),0)}static newFoundDocument(t,e,n,s){return new yi(t,1,e,fr.min(),n,s,0)}static newNoDocument(t,e){return new yi(t,2,e,fr.min(),fr.min(),Vi.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,fr.min(),fr.min(),Vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(fr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,e){this.position=t,this.inclusive=e}}function M5(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const i=t[s],o=r.position[s];if(i.field.isKeyField()?n=Wt.comparator(Wt.fromName(o.referenceValue),e.key):n=Nc(o,e.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function j5(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!So(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e="asc"){this.field=t,this.dir=e}}function wC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A6=class{};class jn extends A6{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new xC(t,e,n):e==="array-contains"?new EC(t,n):e==="in"?new AC(t,n):e==="not-in"?new TC(t,n):e==="array-contains-any"?new CC(t,n):new jn(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new SC(t,n):new kC(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Nc(e,this.value)):e!==null&&pu(this.value)===pu(e)&&this.matchesComparison(Nc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return sr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ys extends A6{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Ys(t,e)}matches(t){return T6(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function T6(r){return r.op==="and"}function C6(r){return _C(r)&&T6(r)}function _C(r){for(const t of r.filters)if(t instanceof Ys)return!1;return!0}function E1(r){if(r instanceof jn)return r.field.canonicalString()+r.op.toString()+Pc(r.value);if(C6(r))return r.filters.map(t=>E1(t)).join(",");{const t=r.filters.map(e=>E1(e)).join(",");return`${r.op}(${t})`}}function N6(r,t){return r instanceof jn?function(n,s){return s instanceof jn&&n.op===s.op&&n.field.isEqual(s.field)&&So(n.value,s.value)}(r,t):r instanceof Ys?function(n,s){return s instanceof Ys&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,u)=>i&&N6(o,s.filters[u]),!0):!1}(r,t):void sr()}function P6(r){return r instanceof jn?function(e){return`${e.field.canonicalString()} ${e.op} ${Pc(e.value)}`}(r):r instanceof Ys?function(e){return e.op.toString()+" {"+e.getFilters().map(P6).join(" ,")+"}"}(r):"Filter"}class xC extends jn{constructor(t,e,n){super(t,e,n),this.key=Wt.fromName(n.referenceValue)}matches(t){const e=Wt.comparator(t.key,this.key);return this.matchesComparison(e)}}class SC extends jn{constructor(t,e){super(t,"in",e),this.keys=I6("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class kC extends jn{constructor(t,e){super(t,"not-in",e),this.keys=I6("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function I6(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>Wt.fromName(n.referenceValue))}class EC extends jn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return my(e)&&yf(e.arrayValue,this.value)}}class AC extends jn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&yf(this.value.arrayValue,e)}}class TC extends jn{constructor(t,e){super(t,"not-in",e)}matches(t){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!yf(this.value.arrayValue,e)}}class CC extends jn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!my(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>yf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,e=null,n=[],s=[],i=null,o=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.ue=null}}function L5(r,t=null,e=[],n=[],s=null,i=null,o=null){return new NC(r,t,e,n,s,i,o)}function gy(r){const t=dr(r);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>E1(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Mm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Pc(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Pc(n)).join(",")),t.ue=e}return t.ue}function yy(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!wC(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!N6(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!j5(r.startAt,t.startAt)&&j5(r.endAt,t.endAt)}function A1(r){return Wt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,e=null,n=[],s=[],i=null,o="F",u=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function PC(r,t,e,n,s,i,o,u){return new Uc(r,t,e,n,s,i,o,u)}function vy(r){return new Uc(r)}function O5(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function R6(r){return r.collectionGroup!==null}function Fh(r){const t=dr(r);if(t.ce===null){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new ri(ei.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(l=>{l.isInequality()&&(u=u.add(l.field))})}),u})(t).forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.ce.push(new vf(i,n))}),e.has(ei.keyField().canonicalString())||t.ce.push(new vf(ei.keyField(),n))}return t.ce}function wo(r){const t=dr(r);return t.le||(t.le=IC(t,Fh(r))),t.le}function IC(r,t){if(r.limitType==="F")return L5(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vf(s.field,i)});const e=r.endAt?new tm(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new tm(r.startAt.position,r.startAt.inclusive):null;return L5(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function T1(r,t){const e=r.filters.concat([t]);return new Uc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function C1(r,t,e){return new Uc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function jm(r,t){return yy(wo(r),wo(t))&&r.limitType===t.limitType}function M6(r){return`${gy(wo(r))}|lt:${r.limitType}`}function $u(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>P6(s)).join(", ")}]`),Mm(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Pc(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Pc(s)).join(",")),`Target(${n})`}(wo(r))}; limitType=${r.limitType})`}function Lm(r,t){return t.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Wt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(r,t)&&function(n,s){for(const i of Fh(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(r,t)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(r,t)&&function(n,s){return!(n.startAt&&!function(o,u,a){const l=M5(o,u,a);return o.inclusive?l<=0:l<0}(n.startAt,Fh(n),s)||n.endAt&&!function(o,u,a){const l=M5(o,u,a);return o.inclusive?l>=0:l>0}(n.endAt,Fh(n),s))}(r,t)}function RC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j6(r){return(t,e)=>{let n=!1;for(const s of Fh(r)){const i=MC(s,t,e);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function MC(r,t,e){const n=r.field.isKeyField()?Wt.comparator(t.key,e.key):function(i,o,u){const a=o.data.field(i),l=u.data.field(i);return a!==null&&l!==null?Nc(a,l):sr()}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return sr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){wu(this.inner,(e,n)=>{for(const[s,i]of n)t(s,i)})}isEmpty(){return S6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new pn(Wt.comparator);function ea(){return jC}const L6=new pn(Wt.comparator);function kh(...r){let t=L6;for(const e of r)t=t.insert(e.key,e);return t}function O6(r){let t=L6;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function $l(){return Bh()}function D6(){return Bh()}function Bh(){return new zc(r=>r.toString(),(r,t)=>r.isEqual(t))}const LC=new pn(Wt.comparator),OC=new ri(Wt.comparator);function Er(...r){let t=OC;for(const e of r)t=t.add(e);return t}const DC=new ri(Pr);function FC(){return DC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(t)?"-0":t}}function F6(r){return{integerValue:""+r}}function BC(r,t){return mC(t)?F6(t):by(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this._=void 0}}function UC(r,t,e){return r instanceof rm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dy(i)&&(i=py(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(e,t):r instanceof bf?U6(r,t):r instanceof wf?z6(r,t):function(s,i){const o=B6(s,i),u=D5(o)+D5(s.Pe);return k1(o)&&k1(s.Pe)?F6(u):by(s.serializer,u)}(r,t)}function zC(r,t,e){return r instanceof bf?U6(r,t):r instanceof wf?z6(r,t):e}function B6(r,t){return r instanceof nm?function(n){return k1(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class rm extends Om{}class bf extends Om{constructor(t){super(),this.elements=t}}function U6(r,t){const e=V6(t);for(const n of r.elements)e.some(s=>So(s,n))||e.push(n);return{arrayValue:{values:e}}}class wf extends Om{constructor(t){super(),this.elements=t}}function z6(r,t){let e=V6(t);for(const n of r.elements)e=e.filter(s=>!So(s,n));return{arrayValue:{values:e}}}class nm extends Om{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function D5(r){return En(r.integerValue||r.doubleValue)}function V6(r){return my(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function VC(r,t){return r.field.isEqual(t.field)&&function(n,s){return n instanceof bf&&s instanceof bf||n instanceof wf&&s instanceof wf?Cc(n.elements,s.elements,So):n instanceof nm&&s instanceof nm?So(n.Pe,s.Pe):n instanceof rm&&s instanceof rm}(r.transform,t.transform)}class qC{constructor(t,e){this.version=t,this.transformResults=e}}class Ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vp(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dm{}function q6(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,Ii.none()):new Ff(r.key,r.data,Ii.none());{const e=r.data,n=Vi.empty();let s=new ri(ei.comparator);for(let i of t.fields)if(!s.has(i)){let o=e.field(i);o===null&&i.length>1&&(i=i.popLast(),o=e.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new _l(r.key,n,new rs(s.toArray()),Ii.none())}}function HC(r,t,e){r instanceof Ff?function(s,i,o){const u=s.value.clone(),a=B5(s.fieldTransforms,i,o.transformResults);u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(r,t,e):r instanceof _l?function(s,i,o){if(!vp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=B5(s.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(H6(s)),a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(r,t,e):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Uh(r,t,e,n){return r instanceof Ff?function(i,o,u,a){if(!vp(i.precondition,o))return u;const l=i.value.clone(),c=U5(i.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(r,t,e,n):r instanceof _l?function(i,o,u,a){if(!vp(i.precondition,o))return u;const l=U5(i.fieldTransforms,a,o),c=o.data;return c.setAll(H6(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(r,t,e,n):function(i,o,u){return vp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(r,t,e)}function $C(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),i=B6(n.transform,s||null);i!=null&&(e===null&&(e=Vi.empty()),e.set(n.field,i))}return e||null}function F5(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Cc(n,s,(i,o)=>VC(i,o))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ff extends Dm{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _l extends Dm{constructor(t,e,n,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function H6(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function B5(r,t,e){const n=new Map;Hr(r.length===e.length);for(let s=0;s<e.length;s++){const i=r[s],o=i.transform,u=t.data.field(i.field);n.set(i.field,zC(o,u,e[s]))}return n}function U5(r,t,e){const n=new Map;for(const s of r){const i=s.transform,o=e.data.field(s.field);n.set(s.field,UC(i,o,t))}return n}class Fm extends Dm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends Dm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&HC(i,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Uh(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Uh(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=D6();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=e.has(s.key)?null:u;const a=q6(o,u);a!==null&&n.set(s.key,a),o.isValidDocument()||o.convertToNoDocument(fr.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Er())}isEqual(t){return this.batchId===t.batchId&&Cc(this.mutations,t.mutations,(e,n)=>F5(e,n))&&Cc(this.baseMutations,t.baseMutations,(e,n)=>F5(e,n))}}class wy{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){Hr(t.mutations.length===n.length);let s=function(){return LC}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new wy(t,e,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Tr;function YC(r){switch(r){default:return sr();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0}}function $6(r){if(r===void 0)return Jo("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Rn.OK:return tt.OK;case Rn.CANCELLED:return tt.CANCELLED;case Rn.UNKNOWN:return tt.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return tt.INTERNAL;case Rn.UNAVAILABLE:return tt.UNAVAILABLE;case Rn.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Rn.NOT_FOUND:return tt.NOT_FOUND;case Rn.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Rn.ABORTED:return tt.ABORTED;case Rn.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Rn.DATA_LOSS:return tt.DATA_LOSS;default:return sr()}}(Tr=Rn||(Rn={}))[Tr.OK=0]="OK",Tr[Tr.CANCELLED=1]="CANCELLED",Tr[Tr.UNKNOWN=2]="UNKNOWN",Tr[Tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tr[Tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tr[Tr.NOT_FOUND=5]="NOT_FOUND",Tr[Tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tr[Tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tr[Tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tr[Tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tr[Tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tr[Tr.ABORTED=10]="ABORTED",Tr[Tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tr[Tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tr[Tr.INTERNAL=13]="INTERNAL",Tr[Tr.UNAVAILABLE=14]="UNAVAILABLE",Tr[Tr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Kl([4294967295,4294967295],0);function z5(r){const t=QC().encode(r),e=new m6;return e.update(t),new Uint8Array(e.digest())}function V5(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Kl([e,n],0),new Kl([s,i],0)]}class _y{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Eh(`Invalid padding: ${e}`);if(n<0)throw new Eh(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Kl.fromNumber(this.Ie)}Ee(t,e,n){let s=t.add(e.multiply(Kl.fromNumber(n)));return s.compare(ZC)===1&&(s=new Kl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=z5(t),[n,s]=V5(e);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new _y(i,s,e);return n.forEach(u=>o.insert(u)),o}insert(t){if(this.Ie===0)return;const e=z5(t),[n,s]=V5(e);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,e,n,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,Bf.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Bm(fr.min(),s,new pn(Pr),ea(),Er())}}class Bf{constructor(t,e,n,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Bf(n,e,Er(),Er(),Er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,e,n,s){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=s}}class W6{constructor(t,e){this.targetId=t,this.me=e}}class X6{constructor(t,e,n=ii.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class q5{constructor(){this.fe=0,this.ge=$5(),this.pe=ii.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Er(),e=Er(),n=Er();return this.ge.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:sr()}}),new Bf(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=$5()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Hr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JC{constructor(t){this.Le=t,this.Be=new Map,this.ke=ea(),this.qe=H5(),this.Qe=new pn(Pr)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:sr()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((n,s)=>{this.ze(s)&&e(s)})}He(t){const e=t.targetId,n=t.me.count,s=this.Je(e);if(s){const i=s.target;if(A1(i))if(n===0){const o=new Wt(i.path);this.Ue(e,o,yi.newNoDocument(o,fr.min()))}else Hr(n===1);else{const o=this.Ye(e);if(o!==n){const u=this.Ze(t),a=u?this.Xe(u,t,o):1;if(a!==0){this.je(e);const l=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,l)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=e;let o,u;try{o=du(n).toUint8Array()}catch(a){if(a instanceof k6)return Tc("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{u=new _y(o,s,i)}catch(a){return Tc(a instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return u.Ie===0?null:u}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let s=0;return n.forEach(i=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(u)||(this.Ue(e,i,null),s++)}),s}rt(t){const e=new Map;this.Be.forEach((i,o)=>{const u=this.Je(o);if(u){if(i.current&&A1(u.target)){const a=new Wt(u.target.path);this.ke.get(a)!==null||this.it(o,a)||this.Ue(o,a,yi.newNoDocument(a,t))}i.be&&(e.set(o,i.ve()),i.Ce())}});let n=Er();this.qe.forEach((i,o)=>{let u=!0;o.forEachWhile(a=>{const l=this.Je(a);return!l||l.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(t));const s=new Bm(t,e,this.Qe,this.ke,n);return this.ke=ea(),this.qe=H5(),this.Qe=new pn(Pr),s}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,e)?s.Fe(e,1):s.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new q5,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new ri(Pr),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||Vt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new q5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function H5(){return new pn(Wt.comparator)}function $5(){return new pn(Wt.comparator)}const eN={asc:"ASCENDING",desc:"DESCENDING"},tN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rN={and:"AND",or:"OR"};class nN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function N1(r,t){return r.useProto3Json||Mm(t)?t:{value:t}}function im(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function G6(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function iN(r,t){return im(r,t.toTimestamp())}function _o(r){return Hr(!!r),fr.fromTimestamp(function(e){const n=fl(e);return new Or(n.seconds,n.nanos)}(r))}function xy(r,t){return P1(r,t).canonicalString()}function P1(r,t){const e=function(s){return new rn(["projects",s.projectId,"databases",s.database])}(r).child("documents");return t===void 0?e:e.child(t)}function K6(r){const t=rn.fromString(r);return Hr(ex(t)),t}function I1(r,t){return xy(r.databaseId,t.path)}function Y0(r,t){const e=K6(t);if(e.get(1)!==r.databaseId.projectId)throw new jt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new jt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Wt(Q6(e))}function Y6(r,t){return xy(r.databaseId,t)}function sN(r){const t=K6(r);return t.length===4?rn.emptyPath():Q6(t)}function R1(r){return new rn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q6(r){return Hr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function W5(r,t,e){return{name:I1(r,t),fields:e.value.mapValue.fields}}function oN(r,t){let e;if("targetChange"in t){t.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:sr()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Hr(c===void 0||typeof c=="string"),ii.fromBase64String(c||"")):(Hr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ii.fromUint8Array(c||new Uint8Array))}(r,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(l){const c=l.code===void 0?tt.UNKNOWN:$6(l.code);return new jt(c,l.message||"")}(o);e=new X6(n,s,i,u||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=Y0(r,n.document.name),i=_o(n.document.updateTime),o=n.document.createTime?_o(n.document.createTime):fr.min(),u=new Vi({mapValue:{fields:n.document.fields}}),a=yi.newFoundDocument(s,i,o,u),l=n.targetIds||[],c=n.removedTargetIds||[];e=new bp(l,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=Y0(r,n.document),i=n.readTime?_o(n.readTime):fr.min(),o=yi.newNoDocument(s,i),u=n.removedTargetIds||[];e=new bp([],u,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=Y0(r,n.document),i=n.removedTargetIds||[];e=new bp([],i,s,null)}else{if(!("filter"in t))return sr();{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new KC(s,i),u=n.targetId;e=new W6(u,o)}}return e}function aN(r,t){let e;if(t instanceof Ff)e={update:W5(r,t.key,t.value)};else if(t instanceof Fm)e={delete:I1(r,t.key)};else if(t instanceof _l)e={update:W5(r,t.key,t.data),updateMask:gN(t.fieldMask)};else{if(!(t instanceof WC))return sr();e={verify:I1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(i,o){const u=o.transform;if(u instanceof rm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof nm)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw sr()}(0,n))),t.precondition.isNone||(e.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:iN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:sr()}(r,t.precondition)),e}function lN(r,t){return r&&r.length>0?(Hr(t!==void 0),r.map(e=>function(s,i){let o=s.updateTime?_o(s.updateTime):_o(i);return o.isEqual(fr.min())&&(o=_o(i)),new qC(o,s.transformResults||[])}(e,t))):[]}function uN(r,t){return{documents:[Y6(r,t.path)]}}function cN(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=Y6(r,s);const i=function(l){if(l.length!==0)return J6(Ys.create(l,"and"))}(t.filters);i&&(e.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Wu(f.field),direction:dN(f.dir)}}(c))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=N1(r,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:e,parent:s}}function hN(r){let t=sN(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){Hr(n===1);const c=e.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}let i=[];e.where&&(i=function(d){const f=Z6(d);return f instanceof Ys&&C6(f)?f.getFilters():[f]}(e.where));let o=[];e.orderBy&&(o=function(d){return d.map(f=>function(g){return new vf(Xu(g.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(e.orderBy));let u=null;e.limit&&(u=function(d){let f;return f=typeof d=="object"?d.value:d,Mm(f)?null:f}(e.limit));let a=null;e.startAt&&(a=function(d){const f=!!d.before,h=d.values||[];return new tm(h,f)}(e.startAt));let l=null;return e.endAt&&(l=function(d){const f=!d.before,h=d.values||[];return new tm(h,f)}(e.endAt)),PC(t,s,o,i,u,"F",a,l)}function fN(r,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sr()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Z6(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xu(e.unaryFilter.field);return jn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Xu(e.unaryFilter.field);return jn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xu(e.unaryFilter.field);return jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xu(e.unaryFilter.field);return jn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return sr()}}(r):r.fieldFilter!==void 0?function(e){return jn.create(Xu(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sr()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Ys.create(e.compositeFilter.filters.map(n=>Z6(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return sr()}}(e.compositeFilter.op))}(r):sr()}function dN(r){return eN[r]}function pN(r){return tN[r]}function mN(r){return rN[r]}function Wu(r){return{fieldPath:r.canonicalString()}}function Xu(r){return ei.fromServerFormat(r.fieldPath)}function J6(r){return r instanceof jn?function(e){if(e.op==="=="){if(R5(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NAN"}};if(I5(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(R5(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NAN"}};if(I5(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(e.field),op:pN(e.op),value:e.value}}}(r):r instanceof Ys?function(e){const n=e.getFilters().map(s=>J6(s));return n.length===1?n[0]:{compositeFilter:{op:mN(e.op),filters:n}}}(r):sr()}function gN(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ex(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,e,n,s,i=fr.min(),o=fr.min(),u=ii.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=a}withSequenceNumber(t){return new Ha(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.ct=t}}function vN(r){const t=hN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?C1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.un=new wN}addToCollectionParentIndex(t,e){return this.un.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(hl.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(hl.min())}updateCollectionGroup(t,e,n){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class wN{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new ri(rn.comparator),i=!s.has(n);return this.index[e]=s.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new ri(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ic(0)}static kn(){return new Ic(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.changes=new zc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?dt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(n=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(n!==null&&Uh(n.mutation,s,rs.empty(),Or.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Er()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Er()){const s=$l();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,n).next(i=>{let o=kh();return i.forEach((u,a)=>{o=o.insert(u,a.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const n=$l();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Er()))}populateOverlays(t,e,n){const s=[];return n.forEach(i=>{e.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,u)=>{e.set(o,u)})})}computeViews(t,e,n,s){let i=ea();const o=Bh(),u=function(){return Bh()}();return e.forEach((a,l)=>{const c=n.get(l.key);s.has(l.key)&&(c===void 0||c.mutation instanceof _l)?i=i.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Uh(c.mutation,l,c.mutation.getFieldMask(),Or.now())):o.set(l.key,rs.empty())}),this.recalculateAndSaveOverlays(t,i).next(a=>(a.forEach((l,c)=>o.set(l,c)),e.forEach((l,c)=>{var d;return u.set(l,new xN(c,(d=o.get(l))!==null&&d!==void 0?d:null))}),u))}recalculateAndSaveOverlays(t,e){const n=Bh();let s=new pn((o,u)=>o-u),i=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const u of o)u.keys().forEach(a=>{const l=e.get(a);if(l===null)return;let c=n.get(a)||rs.empty();c=u.applyToLocalView(l,c),n.set(a,c);const d=(s.get(u.batchId)||Er()).add(a);s=s.insert(u.batchId,d)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const a=u.getNext(),l=a.key,c=a.value,d=D6();c.forEach(f=>{if(!i.has(f)){const h=q6(e.get(f),n.get(f));h!==null&&d.set(f,h),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,l,d))}return dt.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,s){return function(o){return Wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):R6(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-i.size):dt.resolve($l());let u=-1,a=i;return o.next(l=>dt.forEach(l,(c,d)=>(u<d.largestBatchId&&(u=d.largestBatchId),i.get(c)?dt.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{a=a.insert(c,f)}))).next(()=>this.populateOverlays(t,l,i)).next(()=>this.computeViews(t,a,l,Er())).next(c=>({batchId:u,changes:O6(c)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Wt(e)).next(n=>{let s=kh();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const i=e.collectionGroup;let o=kh();return this.indexManager.getCollectionParents(t,i).next(u=>dt.forEach(u,a=>{const l=function(d,f){return new Uc(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,n,s).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,s))).next(o=>{i.forEach((a,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,yi.newInvalidDocument(c)))});let u=kh();return o.forEach((a,l)=>{const c=i.get(a);c!==void 0&&Uh(c.mutation,l,rs.empty(),Or.now()),Lm(e,l)&&(u=u.insert(a,l))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return dt.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:_o(s.createTime)}}(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(s){return{name:s.name,query:vN(s.bundledQuery),readTime:_o(s.readTime)}}(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.overlays=new pn(Wt.comparator),this.Ir=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=$l();return dt.forEach(e,s=>this.getOverlay(t,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((s,i)=>{this.ht(t,e,i)}),dt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),dt.resolve()}getOverlaysForCollection(t,e,n){const s=$l(),i=e.length+1,o=new Wt(e.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const a=u.getNext().value,l=a.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===i&&a.largestBatchId>n&&s.set(a.getKey(),a)}return dt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let i=new pn((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let c=i.get(l.largestBatchId);c===null&&(c=$l(),i=i.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const u=$l(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((l,c)=>u.set(l,c)),!(u.size()>=s)););return dt.resolve(u)}ht(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new GC(e,n));let i=this.Ir.get(e);i===void 0&&(i=Er(),this.Ir.set(e,i)),this.Ir.set(e,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Tr=new ri(Hn.Er),this.dr=new ri(Hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new Hn(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Vr(new Hn(t,e))}mr(t,e){t.forEach(n=>this.removeReference(n,e))}gr(t){const e=new Wt(new rn([])),n=new Hn(e,t),s=new Hn(e,t+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new Wt(new rn([])),n=new Hn(e,t),s=new Hn(e,t+1);let i=Er();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(t){const e=new Hn(t,0),n=this.Tr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Hn{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return Wt.comparator(t.key,e.key)||Pr(t.wr,e.wr)}static Ar(t,e){return Pr(t.wr,e.wr)||Wt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new ri(Hn.Er)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XC(i,e,n,s);this.mutationQueue.push(o);for(const u of s)this.br=this.br.add(new Hn(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return dt.resolve(o)}lookupMutationBatch(t,e){return dt.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.vr(n),i=s<0?0:s;return dt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Hn(e,0),s=new Hn(e,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const u=this.Dr(o.wr);i.push(u)}),dt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ri(Pr);return e.forEach(s=>{const i=new Hn(s,0),o=new Hn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],u=>{n=n.add(u.wr)})}),dt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let i=n;Wt.isDocumentKey(i)||(i=i.child(""));const o=new Hn(new Wt(i),0);let u=new ri(Pr);return this.br.forEachWhile(a=>{const l=a.key.path;return!!n.isPrefixOf(l)&&(l.length===s&&(u=u.add(a.wr)),!0)},o),dt.resolve(this.Cr(u))}Cr(t){const e=[];return t.forEach(n=>{const s=this.Dr(n);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Hr(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return dt.forEach(e.mutations,s=>{const i=new Hn(s.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new Hn(e,0),s=this.br.firstAfterOrEqual(n);return dt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.Mr=t,this.docs=function(){return new pn(Wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return dt.resolve(n?n.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let n=ea();return e.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():yi.newInvalidDocument(s))}),dt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let i=ea();const o=e.path,u=new Wt(o.child("")),a=this.docs.getIteratorFrom(u);for(;a.hasNext();){const{key:l,value:{document:c}}=a.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||hC(cC(c),n)<=0||(s.has(c.key)||Lm(e,c))&&(i=i.insert(c.key,c.mutableCopy()))}return dt.resolve(i)}getAllFromCollectionGroup(t,e,n,s){sr()}Or(t,e){return dt.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new NN(this)}getSize(t){return dt.resolve(this.size)}}class NN extends _N{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?e.push(this.cr.addEntry(t,s)):this.cr.removeEntry(n)}),dt.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.persistence=t,this.Nr=new zc(e=>gy(e),yy),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sy,this.targetCount=0,this.kr=Ic.Bn()}forEachTarget(t,e){return this.Nr.forEach((n,s)=>e(s)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),dt.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Ic(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.Kn(e),dt.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,n){let s=0;const i=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=e&&n.get(u.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),dt.waitFor(i).next(()=>s)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return dt.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),dt.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),dt.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return dt.resolve(n)}containsKey(t,e){return dt.resolve(this.Br.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,e){this.qr={},this.overlays={},this.Qr=new fy(0),this.Kr=!1,this.Kr=!0,this.$r=new AN,this.referenceDelegate=t(this),this.Ur=new PN(this),this.indexManager=new bN,this.remoteDocumentCache=function(s){return new CN(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new yN(e),this.Gr=new kN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new EN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new TN(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){Vt("MemoryPersistence","Starting transaction:",t);const s=new RN(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(t,e){return dt.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class RN extends dC{constructor(t){super(),this.currentSequenceNumber=t}}class ky{constructor(t){this.persistence=t,this.Jr=new Sy,this.Yr=null}static Zr(t){return new ky(t)}get Xr(){if(this.Yr)return this.Yr;throw sr()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),dt.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.Xr,n=>{const s=Wt.fromPath(n);return this.ei(t,s).next(i=>{i||e.removeEntry(s,fr.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(n=>{n?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return dt.or([()=>dt.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=s}static Wi(t,e){let n=Er(),s=Er();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ey(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Sk()?8:pC(_i())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,s){const i={result:null};return this.Yi(t,e).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(t,e,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new MN;return this.Xi(t,e,o).next(u=>{if(i.result=u,this.zi)return this.es(t,e,o,u.size)})}).next(()=>i.result)}es(t,e,n,s){return n.documentReadCount<this.ji?(hh()<=Ar.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",$u(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),dt.resolve()):(hh()<=Ar.DEBUG&&Vt("QueryEngine","Query:",$u(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(hh()<=Ar.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",$u(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wo(e))):dt.resolve())}Yi(t,e){if(O5(e))return dt.resolve(null);let n=wo(e);return this.indexManager.getIndexType(t,n).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=C1(e,null,"F"),n=wo(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const o=Er(...i);return this.Ji.getDocuments(t,o).next(u=>this.indexManager.getMinOffset(t,n).next(a=>{const l=this.ts(e,u);return this.ns(e,l,o,a.readTime)?this.Yi(t,C1(e,null,"F")):this.rs(t,l,e,a)}))})))}Zi(t,e,n,s){return O5(e)||s.isEqual(fr.min())?dt.resolve(null):this.Ji.getDocuments(t,n).next(i=>{const o=this.ts(e,i);return this.ns(e,o,n,s)?dt.resolve(null):(hh()<=Ar.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$u(e)),this.rs(t,o,e,uC(s,-1)).next(u=>u))})}ts(t,e){let n=new ri(j6(t));return e.forEach((s,i)=>{Lm(t,i)&&(n=n.add(i))}),n}ns(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(t,e,n){return hh()<=Ar.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",$u(e)),this.Ji.getDocumentsMatchingQuery(t,e,hl.min(),n)}rs(t,e,n,s){return this.Ji.getDocumentsMatchingQuery(t,n,s).next(i=>(e.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,e,n,s){this.persistence=t,this.ss=e,this.serializer=s,this.os=new pn(Pr),this._s=new zc(i=>gy(i),yy),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function ON(r,t,e,n){return new LN(r,t,e,n)}async function tx(r,t){const e=dr(r);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],u=[];let a=Er();for(const l of s){o.push(l.batchId);for(const c of l.mutations)a=a.add(c.key)}for(const l of i){u.push(l.batchId);for(const c of l.mutations)a=a.add(c.key)}return e.localDocuments.getDocuments(n,a).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:u}))})})}function DN(r,t){const e=dr(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=t.batch.keys(),i=e.cs.newChangeBuffer({trackRemovals:!0});return function(u,a,l,c){const d=l.batch,f=d.keys();let h=dt.resolve();return f.forEach(g=>{h=h.next(()=>c.getEntry(a,g)).next(v=>{const p=l.docVersions.get(g);Hr(p!==null),v.version.compareTo(p)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),h.next(()=>u.mutationQueue.removeMutationBatch(a,d))}(e,n,t,i).next(()=>i.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let a=Er();for(let l=0;l<u.mutationResults.length;++l)u.mutationResults[l].transformResults.length>0&&(a=a.add(u.batch.mutations[l].key));return a}(t))).next(()=>e.localDocuments.getDocuments(n,s))})}function rx(r){const t=dr(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function FN(r,t){const e=dr(r),n=t.snapshotVersion;let s=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=e.cs.newChangeBuffer({trackRemovals:!0});s=e.os;const u=[];t.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;u.push(e.Ur.removeMatchingKeys(i,c.removedDocuments,d).next(()=>e.Ur.addMatchingKeys(i,c.addedDocuments,d)));let h=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(ii.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,n)),s=s.insert(d,h),function(v,p,y){return v.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,h,c)&&u.push(e.Ur.updateTargetData(i,h))});let a=ea(),l=Er();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(i,c))}),u.push(BN(i,o,t.documentUpdates).next(c=>{a=c.Ps,l=c.Is})),!n.isEqual(fr.min())){const c=e.Ur.getLastRemoteSnapshotVersion(i).next(d=>e.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(c)}return dt.waitFor(u).next(()=>o.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,a,l)).next(()=>a)}).then(i=>(e.os=s,i))}function BN(r,t,e){let n=Er(),s=Er();return e.forEach(i=>n=n.add(i)),t.getEntries(r,n).next(i=>{let o=ea();return e.forEach((u,a)=>{const l=i.get(u);a.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(u)),a.isNoDocument()&&a.version.isEqual(fr.min())?(t.removeEntry(u,a.readTime),o=o.insert(u,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(a),o=o.insert(u,a)):Vt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",a.version)}),{Ps:o,Is:s}})}function UN(r,t){const e=dr(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function zN(r,t){const e=dr(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return e.Ur.getTargetData(n,t).next(i=>i?(s=i,dt.resolve(s)):e.Ur.allocateTargetId(n).next(o=>(s=new Ha(t,o,"TargetPurposeListen",n.currentSequenceNumber),e.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=e.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.os=e.os.insert(n.targetId,n),e._s.set(t,n.targetId)),n})}async function M1(r,t,e){const n=dr(r),s=n.os.get(t),i=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Df(o))throw o;Vt("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(s.target)}function X5(r,t,e){const n=dr(r);let s=fr.min(),i=Er();return n.persistence.runTransaction("Execute query","readwrite",o=>function(a,l,c){const d=dr(a),f=d._s.get(c);return f!==void 0?dt.resolve(d.os.get(f)):d.Ur.getTargetData(l,c)}(n,o,wo(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,u.targetId).next(a=>{i=a})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,e?s:fr.min(),e?i:Er())).next(u=>(VN(n,RC(t),u),{documents:u,Ts:i})))}function VN(r,t,e){let n=r.us.get(t)||fr.min();e.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),r.us.set(t,n)}class G5{constructor(){this.activeTargetIds=FC()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qN{constructor(){this.so=new G5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new G5,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function Q0(){return Ud===null?Ud=function(){return 268435456+Math.round(2147483648*Math.random())}():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="WebChannelConnection";class XN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(e,n,s,i,o){const u=Q0(),a=this.xo(e,n.toUriEncodedString());Vt("RestConnection",`Sending RPC '${e}' ${u}:`,a,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,o),this.No(e,a,l,s).then(c=>(Vt("RestConnection",`Received RPC '${e}' ${u}: `,c),c),c=>{throw Tc("RestConnection",`RPC '${e}' ${u} failed with error: `,c,"url: ",a,"request:",s),c})}Lo(e,n,s,i,o,u){return this.Mo(e,n,s,i,o)}Oo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),s&&s.headers.forEach((i,o)=>e[o]=i)}xo(e,n){const s=$N[e];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,s){const i=Q0();return new Promise((o,u)=>{const a=new g6;a.setWithCredentials(!0),a.listenOnce(y6.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case gp.NO_ERROR:const c=a.getResponseJson();Vt(ui,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(c)),o(c);break;case gp.TIMEOUT:Vt(ui,`RPC '${t}' ${i} timed out`),u(new jt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const d=a.getStatus();if(Vt(ui,`RPC '${t}' ${i} failed with status:`,d,"response text:",a.getResponseText()),d>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const g=function(p){const y=p.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(y)>=0?y:tt.UNKNOWN}(h.status);u(new jt(g,h.message))}else u(new jt(tt.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new jt(tt.UNAVAILABLE,"Connection failed."));break;default:sr()}}finally{Vt(ui,`RPC '${t}' ${i} completed.`)}});const l=JSON.stringify(s);Vt(ui,`RPC '${t}' ${i} sending request:`,s),a.send(e,"POST",l,n,15)})}Bo(t,e,n){const s=Q0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=w6(),u=b6(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Vt(ui,`Creating RPC '${t}' stream ${s}: ${c}`,a);const d=o.createWebChannel(c,a);let f=!1,h=!1;const g=new WN({Io:p=>{h?Vt(ui,`Not sending because RPC '${t}' stream ${s} is closed:`,p):(f||(Vt(ui,`Opening RPC '${t}' stream ${s} transport.`),d.open(),f=!0),Vt(ui,`RPC '${t}' stream ${s} sending:`,p),d.send(p))},To:()=>d.close()}),v=(p,y,m)=>{p.listen(y,b=>{try{m(b)}catch(k){setTimeout(()=>{throw k},0)}})};return v(d,Sh.EventType.OPEN,()=>{h||(Vt(ui,`RPC '${t}' stream ${s} transport opened.`),g.yo())}),v(d,Sh.EventType.CLOSE,()=>{h||(h=!0,Vt(ui,`RPC '${t}' stream ${s} transport closed`),g.So())}),v(d,Sh.EventType.ERROR,p=>{h||(h=!0,Tc(ui,`RPC '${t}' stream ${s} transport errored:`,p),g.So(new jt(tt.UNAVAILABLE,"The operation could not be completed")))}),v(d,Sh.EventType.MESSAGE,p=>{var y;if(!h){const m=p.data[0];Hr(!!m);const b=m,k=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(k){Vt(ui,`RPC '${t}' stream ${s} received error:`,k);const N=k.status;let F=function(M){const B=Rn[M];if(B!==void 0)return $6(B)}(N),j=k.message;F===void 0&&(F=tt.INTERNAL,j="Unknown error status: "+N+" with message "+k.message),h=!0,g.So(new jt(F,j)),d.close()}else Vt(ui,`RPC '${t}' stream ${s} received:`,m),g.bo(m)}}),v(u,v6.STAT_EVENT,p=>{p.stat===x1.PROXY?Vt(ui,`RPC '${t}' stream ${s} detected buffering proxy`):p.stat===x1.NOPROXY&&Vt(ui,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Z0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r){return new nN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,e,n=1e3,s=1.5,i=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,e-n);s>0&&Vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,e,n,s,i,o,u,a){this.ui=t,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nx(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===tt.RESOURCE_EXHAUSTED?(Jo(e.toString()),Jo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===e&&this.P_(n,s)},n=>{t(()=>{const s=new jt(tt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Vt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GN extends ix{constructor(t,e,n,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,o),this.serializer=i}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=oN(this.serializer,t),n=function(i){if(!("targetChange"in i))return fr.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fr.min():o.readTime?_o(o.readTime):fr.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=R1(this.serializer),e.addTarget=function(i,o){let u;const a=o.target;if(u=A1(a)?{documents:uN(i,a)}:{query:cN(i,a)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=G6(i,o.resumeToken);const l=N1(i,o.expectedCount);l!==null&&(u.expectedCount=l)}else if(o.snapshotVersion.compareTo(fr.min())>0){u.readTime=im(i,o.snapshotVersion.toTimestamp());const l=N1(i,o.expectedCount);l!==null&&(u.expectedCount=l)}return u}(this.serializer,t);const n=fN(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=R1(this.serializer),e.removeTarget=t,this.a_(e)}}class KN extends ix{constructor(t,e,n,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Hr(!!t.streamToken),this.lastStreamToken=t.streamToken,Hr(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Hr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=lN(t.writeResults,t.commitTime),n=_o(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=R1(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>aN(this.serializer,n))};this.a_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends class{}{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new jt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(t,P1(e,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new jt(tt.UNKNOWN,i.toString())})}Lo(t,e,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(t,P1(e,n),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new jt(tt.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jo(e),this.D_=!1):Vt("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t,e,n,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{_u(this)&&(Vt("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=dr(a);l.L_.add(4),await Uf(l),l.q_.set("Unknown"),l.L_.delete(4),await zm(l)}(this))})}),this.q_=new QN(n,s)}}async function zm(r){if(_u(r))for(const t of r.B_)await t(!0)}async function Uf(r){for(const t of r.B_)await t(!1)}function sx(r,t){const e=dr(r);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),Ny(e)?Cy(e):Vc(e).r_()&&Ty(e,t))}function Ay(r,t){const e=dr(r),n=Vc(e);e.N_.delete(t),n.r_()&&ox(e,t),e.N_.size===0&&(n.r_()?n.o_():_u(e)&&e.q_.set("Unknown"))}function Ty(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vc(r).A_(t)}function ox(r,t){r.Q_.xe(t),Vc(r).R_(t)}function Cy(r){r.Q_=new JC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),Vc(r).start(),r.q_.v_()}function Ny(r){return _u(r)&&!Vc(r).n_()&&r.N_.size>0}function _u(r){return dr(r).L_.size===0}function ax(r){r.Q_=void 0}async function JN(r){r.q_.set("Online")}async function eP(r){r.N_.forEach((t,e)=>{Ty(r,t)})}async function tP(r,t){ax(r),Ny(r)?(r.q_.M_(t),Cy(r)):r.q_.set("Unknown")}async function rP(r,t,e){if(r.q_.set("Online"),t instanceof X6&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.N_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.N_.delete(u),s.Q_.removeTarget(u))}(r,t)}catch(n){Vt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sm(r,n)}else if(t instanceof bp?r.Q_.Ke(t):t instanceof W6?r.Q_.He(t):r.Q_.We(t),!e.isEqual(fr.min()))try{const n=await rx(r.localStore);e.compareTo(n)>=0&&await function(i,o){const u=i.Q_.rt(o);return u.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.N_.get(l);c&&i.N_.set(l,c.withResumeToken(a.resumeToken,o))}}),u.targetMismatches.forEach((a,l)=>{const c=i.N_.get(a);if(!c)return;i.N_.set(a,c.withResumeToken(ii.EMPTY_BYTE_STRING,c.snapshotVersion)),ox(i,a);const d=new Ha(c.target,a,l,c.sequenceNumber);Ty(i,d)}),i.remoteSyncer.applyRemoteEvent(u)}(r,e)}catch(n){Vt("RemoteStore","Failed to raise snapshot:",n),await sm(r,n)}}async function sm(r,t,e){if(!Df(t))throw t;r.L_.add(1),await Uf(r),r.q_.set("Offline"),e||(e=()=>rx(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Vt("RemoteStore","Retrying IndexedDB access"),await e(),r.L_.delete(1),await zm(r)})}function lx(r,t){return t().catch(e=>sm(r,e,t))}async function Vm(r){const t=dr(r),e=dl(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;nP(t);)try{const s=await UN(t.localStore,n);if(s===null){t.O_.length===0&&e.o_();break}n=s.batchId,iP(t,s)}catch(s){await sm(t,s)}ux(t)&&cx(t)}function nP(r){return _u(r)&&r.O_.length<10}function iP(r,t){r.O_.push(t);const e=dl(r);e.r_()&&e.V_&&e.m_(t.mutations)}function ux(r){return _u(r)&&!dl(r).n_()&&r.O_.length>0}function cx(r){dl(r).start()}async function sP(r){dl(r).p_()}async function oP(r){const t=dl(r);for(const e of r.O_)t.m_(e.mutations)}async function aP(r,t,e){const n=r.O_.shift(),s=wy.from(n,t,e);await lx(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Vm(r)}async function lP(r,t){t&&dl(r).V_&&await async function(n,s){if(function(o){return YC(o)&&o!==tt.ABORTED}(s.code)){const i=n.O_.shift();dl(n).s_(),await lx(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Vm(n)}}(r,t),ux(r)&&cx(r)}async function Y5(r,t){const e=dr(r);e.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const n=_u(e);e.L_.add(3),await Uf(e),n&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await zm(e)}async function uP(r,t){const e=dr(r);t?(e.L_.delete(2),await zm(e)):t||(e.L_.add(2),await Uf(e),e.q_.set("Unknown"))}function Vc(r){return r.K_||(r.K_=function(e,n,s){const i=dr(e);return i.w_(),new GN(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Eo:JN.bind(null,r),Ro:eP.bind(null,r),mo:tP.bind(null,r),d_:rP.bind(null,r)}),r.B_.push(async t=>{t?(r.K_.s_(),Ny(r)?Cy(r):r.q_.set("Unknown")):(await r.K_.stop(),ax(r))})),r.K_}function dl(r){return r.U_||(r.U_=function(e,n,s){const i=dr(e);return i.w_(),new KN(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sP.bind(null,r),mo:lP.bind(null,r),f_:oP.bind(null,r),g_:aP.bind(null,r)}),r.B_.push(async t=>{t?(r.U_.s_(),await Vm(r)):(await r.U_.stop(),r.O_.length>0&&(Vt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t,e,n,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,i){const o=Date.now()+n,u=new Py(t,e,o,s,i);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(r,t){if(Jo("AsyncQueue",`${t}: ${r}`),Df(r))return new jt(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Wt.comparator(e.key,n.key):(e,n)=>Wt.comparator(e.key,n.key),this.keyedMap=kh(),this.sortedSet=new pn(this.comparator)}static emptySet(t){return new vc(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new vc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.W_=new pn(Wt.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(e,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(e):t.type===1&&n.type===2?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):sr():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class Rc{constructor(t,e,n,s,i,o,u,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,s,i){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Rc(t,e,vc.emptySet(e),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class hP{constructor(){this.queries=Z5(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const s=dr(e),i=s.queries;s.queries=Z5(),i.forEach((o,u)=>{for(const a of u.j_)a.onError(n)})})(this,new jt(tt.ABORTED,"Firestore shutting down"))}}function Z5(){return new zc(r=>M6(r),jm)}async function hx(r,t){const e=dr(r);let n=3;const s=t.query;let i=e.queries.get(s);i?!i.H_()&&t.J_()&&(n=2):(i=new cP,n=t.J_()?0:1);try{switch(n){case 0:i.z_=await e.onListen(s,!0);break;case 1:i.z_=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(o){const u=Iy(o,`Initialization of query '${$u(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,i),i.j_.push(t),t.Z_(e.onlineState),i.z_&&t.X_(i.z_)&&Ry(e)}async function fx(r,t){const e=dr(r),n=t.query;let s=3;const i=e.queries.get(n);if(i){const o=i.j_.indexOf(t);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function fP(r,t){const e=dr(r);let n=!1;for(const s of t){const i=s.query,o=e.queries.get(i);if(o){for(const u of o.j_)u.X_(s)&&(n=!0);o.z_=s}}n&&Ry(e)}function dP(r,t,e){const n=dr(r),s=n.queries.get(t);if(s)for(const i of s.j_)i.onError(e);n.queries.delete(t)}function Ry(r){r.Y_.forEach(t=>{t.next()})}var j1,J5;(J5=j1||(j1={})).ea="default",J5.Cache="cache";class dx{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new Rc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const n=e!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=Rc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==j1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this.key=t}}class mx{constructor(t){this.key=t}}class pP{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Er(),this.mutatedKeys=Er(),this.Aa=j6(t),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new Q5,s=e?e.Ra:this.Ra;let i=e?e.mutatedKeys:this.mutatedKeys,o=s,u=!1;const a=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((c,d)=>{const f=s.get(c),h=Lm(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let p=!1;f&&h?f.data.isEqual(h.data)?g!==v&&(n.track({type:3,doc:h}),p=!0):this.ga(f,h)||(n.track({type:2,doc:h}),p=!0,(a&&this.Aa(h,a)>0||l&&this.Aa(h,l)<0)&&(u=!0)):!f&&h?(n.track({type:0,doc:h}),p=!0):f&&!h&&(n.track({type:1,doc:f}),p=!0,(a||l)&&(u=!0)),p&&(h?(o=o.add(h),i=v?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:u,mutatedKeys:i}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const i=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(h,g){const v=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sr()}};return v(h)-v(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),s=s!=null&&s;const u=e&&!s?this.ya():[],a=this.da.size===0&&this.current&&!s?1:0,l=a!==this.Ea;return this.Ea=a,o.length!==0||l?{snapshot:new Rc(this.query,t.Ra,i,o,t.mutatedKeys,a===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Q5,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Er(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const e=[];return t.forEach(n=>{this.da.has(n)||e.push(new mx(n))}),this.da.forEach(n=>{t.has(n)||e.push(new px(n))}),e}ba(t){this.Ta=t.Ts,this.da=Er();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Rc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mP{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class gP{constructor(t){this.key=t,this.va=!1}}class yP{constructor(t,e,n,s,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new zc(u=>M6(u),jm),this.Ma=new Map,this.xa=new Set,this.Oa=new pn(Wt.comparator),this.Na=new Map,this.La=new Sy,this.Ba={},this.ka=new Map,this.qa=Ic.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vP(r,t,e=!0){const n=_x(r);let s;const i=n.Fa.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await gx(n,t,e,!0),s}async function bP(r,t){const e=_x(r);await gx(e,t,!0,!1)}async function gx(r,t,e,n){const s=await zN(r.localStore,wo(t)),i=s.targetId,o=r.sharedClientState.addLocalQueryTarget(i,e);let u;return n&&(u=await wP(r,t,i,o==="current",s.resumeToken)),r.isPrimaryClient&&e&&sx(r.remoteStore,s),u}async function wP(r,t,e,n,s){r.Ka=(d,f,h)=>async function(v,p,y,m){let b=p.view.ma(y);b.ns&&(b=await X5(v.localStore,p.query,!1).then(({documents:j})=>p.view.ma(j,b)));const k=m&&m.targetChanges.get(p.targetId),N=m&&m.targetMismatches.get(p.targetId)!=null,F=p.view.applyChanges(b,v.isPrimaryClient,k,N);return tw(v,p.targetId,F.wa),F.snapshot}(r,d,f,h);const i=await X5(r.localStore,t,!0),o=new pP(t,i.Ts),u=o.ma(i.documents),a=Bf.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),l=o.applyChanges(u,r.isPrimaryClient,a);tw(r,e,l.wa);const c=new mP(t,e,o);return r.Fa.set(t,c),r.Ma.has(e)?r.Ma.get(e).push(t):r.Ma.set(e,[t]),l.snapshot}async function _P(r,t,e){const n=dr(r),s=n.Fa.get(t),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!jm(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await M1(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),e&&Ay(n.remoteStore,s.targetId),L1(n,s.targetId)}).catch(Of)):(L1(n,s.targetId),await M1(n.localStore,s.targetId,!0))}async function xP(r,t){const e=dr(r),n=e.Fa.get(t),s=e.Ma.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),Ay(e.remoteStore,n.targetId))}async function SP(r,t,e){const n=PP(r);try{const s=await function(o,u){const a=dr(o),l=Or.now(),c=u.reduce((h,g)=>h.add(g.key),Er());let d,f;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=ea(),v=Er();return a.cs.getEntries(h,c).next(p=>{g=p,g.forEach((y,m)=>{m.isValidDocument()||(v=v.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,g)).next(p=>{d=p;const y=[];for(const m of u){const b=$C(m,d.get(m.key).overlayedDocument);b!=null&&y.push(new _l(m.key,b,E6(b.value.mapValue),Ii.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,u)}).next(p=>{f=p;const y=p.applyToLocalDocumentSet(d,v);return a.documentOverlayCache.saveOverlays(h,p.batchId,y)})}).then(()=>({batchId:f.batchId,changes:O6(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),function(o,u,a){let l=o.Ba[o.currentUser.toKey()];l||(l=new pn(Pr)),l=l.insert(u,a),o.Ba[o.currentUser.toKey()]=l}(n,s.batchId,e),await zf(n,s.changes),await Vm(n.remoteStore)}catch(s){const i=Iy(s,"Failed to persist write");e.reject(i)}}async function yx(r,t){const e=dr(r);try{const n=await FN(e.localStore,t);t.targetChanges.forEach((s,i)=>{const o=e.Na.get(i);o&&(Hr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Hr(o.va):s.removedDocuments.size>0&&(Hr(o.va),o.va=!1))}),await zf(e,n,t)}catch(n){await Of(n)}}function ew(r,t,e){const n=dr(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Fa.forEach((i,o)=>{const u=o.view.Z_(t);u.snapshot&&s.push(u.snapshot)}),function(o,u){const a=dr(o);a.onlineState=u;let l=!1;a.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(u)&&(l=!0)}),l&&Ry(a)}(n.eventManager,t),s.length&&n.Ca.d_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function kP(r,t,e){const n=dr(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Na.get(t),i=s&&s.key;if(i){let o=new pn(Wt.comparator);o=o.insert(i,yi.newNoDocument(i,fr.min()));const u=Er().add(i),a=new Bm(fr.min(),new Map,new pn(Pr),o,u);await yx(n,a),n.Oa=n.Oa.remove(i),n.Na.delete(t),My(n)}else await M1(n.localStore,t,!1).then(()=>L1(n,t,e)).catch(Of)}async function EP(r,t){const e=dr(r),n=t.batch.batchId;try{const s=await DN(e.localStore,t);bx(e,n,null),vx(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await zf(e,s)}catch(s){await Of(s)}}async function AP(r,t,e){const n=dr(r);try{const s=await function(o,u){const a=dr(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,u).next(d=>(Hr(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,u)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(n.localStore,t);bx(n,t,e),vx(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await zf(n,s)}catch(s){await Of(s)}}function vx(r,t){(r.ka.get(t)||[]).forEach(e=>{e.resolve()}),r.ka.delete(t)}function bx(r,t,e){const n=dr(r);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),n.Ba[n.currentUser.toKey()]=s}}function L1(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Ma.get(t))r.Fa.delete(n),e&&r.Ca.$a(n,e);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach(n=>{r.La.containsKey(n)||wx(r,n)})}function wx(r,t){r.xa.delete(t.path.canonicalString());const e=r.Oa.get(t);e!==null&&(Ay(r.remoteStore,e),r.Oa=r.Oa.remove(t),r.Na.delete(e),My(r))}function tw(r,t,e){for(const n of e)n instanceof px?(r.La.addReference(n.key,t),TP(r,n)):n instanceof mx?(Vt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,t),r.La.containsKey(n.key)||wx(r,n.key)):sr()}function TP(r,t){const e=t.key,n=e.path.canonicalString();r.Oa.get(e)||r.xa.has(n)||(Vt("SyncEngine","New document in limbo: "+e),r.xa.add(n),My(r))}function My(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const e=new Wt(rn.fromString(t)),n=r.qa.next();r.Na.set(n,new gP(e)),r.Oa=r.Oa.insert(e,n),sx(r.remoteStore,new Ha(wo(vy(e.path)),n,"TargetPurposeLimboResolution",fy.oe))}}async function zf(r,t,e){const n=dr(r),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((u,a)=>{o.push(n.Ka(a,t,e).then(l=>{var c;if((l||e)&&n.isPrimaryClient){const d=l?!l.fromCache:(c=e==null?void 0:e.targetChanges.get(a.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(a.targetId,d?"current":"not-current")}if(l){s.push(l);const d=Ey.Wi(a.targetId,l);i.push(d)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(a,l){const c=dr(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>dt.forEach(l,f=>dt.forEach(f.$i,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>dt.forEach(f.Ui,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Df(d))throw d;Vt("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const h=c.os.get(f),g=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,v)}}}(n.localStore,i))}async function CP(r,t){const e=dr(r);if(!e.currentUser.isEqual(t)){Vt("SyncEngine","User change. New user:",t.toKey());const n=await tx(e.localStore,t);e.currentUser=t,function(i,o){i.ka.forEach(u=>{u.forEach(a=>{a.reject(new jt(tt.CANCELLED,o))})}),i.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await zf(e,n.hs)}}function NP(r,t){const e=dr(r),n=e.Na.get(t);if(n&&n.va)return Er().add(n.key);{let s=Er();const i=e.Ma.get(t);if(!i)return s;for(const o of i){const u=e.Fa.get(o);s=s.unionWith(u.view.Va)}return s}}function _x(r){const t=dr(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kP.bind(null,t),t.Ca.d_=fP.bind(null,t.eventManager),t.Ca.$a=dP.bind(null,t.eventManager),t}function PP(r){const t=dr(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AP.bind(null,t),t}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Um(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return ON(this.persistence,new jN,t.initialUser,this.serializer)}Ga(t){return new IN(ky.Zr,this.serializer)}Wa(t){return new qN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class O1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ew(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=CP.bind(null,this.syncEngine),await uP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hP}()}createDatastore(t){const e=Um(t.databaseInfo.databaseId),n=function(i){return new XN(i)}(t.databaseInfo);return function(i,o,u,a){return new YN(i,o,u,a)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,s,i,o,u){return new ZN(n,s,i,o,u)}(this.localStore,this.datastore,t.asyncQueue,e=>ew(this.syncEngine,e,0),function(){return K5.D()?new K5:new HN}())}createSyncEngine(t,e){return function(s,i,o,u,a,l,c){const d=new yP(s,i,o,u,a,l);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const i=dr(s);Vt("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Uf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}O1.provider={build:()=>new O1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Jo("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t,e,n,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=mi.UNAUTHENTICATED,this.clientId=x6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Vt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Vt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Iy(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function J0(r,t){r.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await tx(t.localStore,s),n=s)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function rw(r,t){r.asyncQueue.verifyOperationInProgress();const e=await RP(r);Vt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(n=>Y5(t.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>Y5(t.remoteStore,s)),r._onlineComponents=t}async function RP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Vt("FirestoreClient","Using user provided OfflineComponentProvider");try{await J0(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===tt.FAILED_PRECONDITION||s.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Tc("Error using user provided cache. Falling back to memory cache: "+e),await J0(r,new om)}}else Vt("FirestoreClient","Using default OfflineComponentProvider"),await J0(r,new om);return r._offlineComponents}async function Sx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Vt("FirestoreClient","Using user provided OnlineComponentProvider"),await rw(r,r._uninitializedComponentsProvider._online)):(Vt("FirestoreClient","Using default OnlineComponentProvider"),await rw(r,new O1))),r._onlineComponents}function MP(r){return Sx(r).then(t=>t.syncEngine)}async function D1(r){const t=await Sx(r),e=t.eventManager;return e.onListen=vP.bind(null,t.syncEngine),e.onUnlisten=_P.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=bP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=xP.bind(null,t.syncEngine),e}function jP(r,t,e={}){const n=new nl;return r.asyncQueue.enqueueAndForget(async()=>function(i,o,u,a,l){const c=new xx({next:f=>{c.Za(),o.enqueueAndForget(()=>fx(i,d)),f.fromCache&&a.source==="server"?l.reject(new jt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new dx(u,c,{includeMetadataChanges:!0,_a:!0});return hx(i,d)}(await D1(r),r.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(r,t,e){if(!e)throw new jt(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LP(r,t,e,n){if(t===!0&&n===!0)throw new jt(tt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function iw(r){if(!Wt.isDocumentKey(r))throw new jt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sw(r){if(Wt.isDocumentKey(r))throw new jt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":sr()}function os(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new jt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=qm(r);throw new jt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new jt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new jt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new jt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new jt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new jt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hm{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new jt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new eC;switch(n.type){case"firstParty":return new iC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new jt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=nw.get(e);n&&(Vt("ComponentProvider","Removing Datastore"),nw.delete(e),n.terminate())}(this),Promise.resolve()}}function OP(r,t,e,n={}){var s;const i=(r=os(r,Hm))._getSettings(),o=`${t}:${e}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let u,a;if(typeof n.mockUserToken=="string")u=n.mockUserToken,a=mi.MOCK_USER;else{u=P_(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new jt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new mi(l)}r._authCredentials=new tC(new _6(u,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new xl(this.firestore,t,this._query)}}class Ri{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ri(this.firestore,t,this._key)}}class il extends xl{constructor(t,e,n){super(t,e,vy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ri(this.firestore,null,new Wt(t))}withConverter(t){return new il(this.firestore,t,this._path)}}function zu(r,t,...e){if(r=Jr(r),Ex("collection","path",t),r instanceof Hm){const n=rn.fromString(t,...e);return sw(n),new il(r,null,n)}{if(!(r instanceof Ri||r instanceof il))throw new jt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(rn.fromString(t,...e));return sw(n),new il(r.firestore,null,n)}}function Ba(r,t,...e){if(r=Jr(r),arguments.length===1&&(t=x6.newId()),Ex("doc","path",t),r instanceof Hm){const n=rn.fromString(t,...e);return iw(n),new Ri(r,null,new Wt(n))}{if(!(r instanceof Ri||r instanceof il))throw new jt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(rn.fromString(t,...e));return iw(n),new Ri(r.firestore,r instanceof il?r.converter:null,new Wt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nx(this,"async_queue_retry"),this.Vu=()=>{const n=Z0();n&&Vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const e=Z0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Z0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new nl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Df(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(n);throw Jo("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const s=Py.createAndSchedule(this,t,e,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&sr()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function lw(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(r,["next","error","complete"])}class ta extends Hm{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new aw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aw(t),this._firestoreClient=void 0,await t}}}function DP(r,t){const e=typeof r=="object"?r:ty(),n=typeof r=="string"?r:"(default)",s=Cm(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=T_("firestore");i&&OP(s,...i)}return s}function $m(r){if(r._terminated)throw new jt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FP(r),r._firestoreClient}function FP(r){var t,e,n;const s=r._freezeSettings(),i=function(u,a,l,c){return new yC(u,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kx(c.experimentalLongPollingOptions),c.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new IP(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(u){const a=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(a),_online:a}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mc(ii.fromBase64String(t))}catch(e){throw new jt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mc(ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new jt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new jt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pr(this._lat,t._lat)||Pr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=/^__.*__$/;class UP{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new _l(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ff(t,this.data,e,this.fieldTransforms)}}class Ax{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new _l(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Tx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sr()}}class Dy{constructor(t,e,n,s,i,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Dy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Fu({path:n,xu:!1});return s.Ou(t),s}Nu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return am(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(Tx(this.Cu)&&BP.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class zP{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Um(t)}Qu(t,e,n,s=!1){return new Dy({Cu:t,methodName:e,qu:n,path:ei.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(r){const t=r._freezeSettings(),e=Um(r._databaseId);return new zP(r._databaseId,!!t.ignoreUndefinedProperties,e)}function Fy(r,t,e,n,s,i={}){const o=r.Qu(i.merge||i.mergeFields?2:0,t,e,s);By("Data must be an object, but it was:",o,n);const u=Px(n,o);let a,l;if(i.merge)a=new rs(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const f=F1(t,d,e);if(!o.contains(f))throw new jt(tt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Rx(c,f)||c.push(f)}a=new rs(c),l=o.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,l=o.fieldTransforms;return new UP(new Vi(u),a,l)}class Wm extends jy{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wm}}function Cx(r,t,e,n){const s=r.Qu(1,t,e);By("Data must be an object, but it was:",s,n);const i=[],o=Vi.empty();wu(n,(a,l)=>{const c=Uy(t,a,e);l=Jr(l);const d=s.Nu(c);if(l instanceof Wm)i.push(c);else{const f=Hf(l,d);f!=null&&(i.push(c),o.set(c,f))}});const u=new rs(i);return new Ax(o,u,s.fieldTransforms)}function Nx(r,t,e,n,s,i){const o=r.Qu(1,t,e),u=[F1(t,n,e)],a=[s];if(i.length%2!=0)throw new jt(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)u.push(F1(t,i[f])),a.push(i[f+1]);const l=[],c=Vi.empty();for(let f=u.length-1;f>=0;--f)if(!Rx(l,u[f])){const h=u[f];let g=a[f];g=Jr(g);const v=o.Nu(h);if(g instanceof Wm)l.push(h);else{const p=Hf(g,v);p!=null&&(l.push(h),c.set(h,p))}}const d=new rs(l);return new Ax(c,d,o.fieldTransforms)}function VP(r,t,e,n=!1){return Hf(e,r.Qu(n?4:3,t))}function Hf(r,t){if(Ix(r=Jr(r)))return By("Unsupported field value:",t,r),Px(r,t);if(r instanceof jy)return function(n,s){if(!Tx(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const u of n){let a=Hf(u,s.Lu(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(r,t)}return function(n,s){if((n=Jr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Or.fromDate(n);return{timestampValue:im(s.serializer,i)}}if(n instanceof Or){const i=new Or(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:im(s.serializer,i)}}if(n instanceof Ly)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mc)return{bytesValue:G6(s.serializer,n._byteString)};if(n instanceof Ri){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xy(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Oy)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(a=>{if(typeof a!="number")throw u.Bu("VectorValues must only contain numeric values.");return by(u.serializer,a)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${qm(n)}`)}(r,t)}function Px(r,t){const e={};return S6(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wu(r,(n,s)=>{const i=Hf(s,t.Mu(n));i!=null&&(e[n]=i)}),{mapValue:{fields:e}}}function Ix(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Or||r instanceof Ly||r instanceof Mc||r instanceof Ri||r instanceof jy||r instanceof Oy)}function By(r,t,e){if(!Ix(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const n=qm(e);throw n==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+n)}}function F1(r,t,e){if((t=Jr(t))instanceof Vf)return t._internalPath;if(typeof t=="string")return Uy(r,t);throw am("Field path arguments must be of type string or ",r,!1,void 0,e)}const qP=new RegExp("[~\\*/\\[\\]]");function Uy(r,t,e){if(t.search(qP)>=0)throw am(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Vf(...t.split("."))._internalPath}catch{throw am(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function am(r,t,e,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let a="";return(i||o)&&(a+=" (found",i&&(a+=` in field ${n}`),o&&(a+=` in document ${s}`),a+=")"),new jt(tt.INVALID_ARGUMENT,u+r+a)}function Rx(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,e,n,s,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class HP extends Mx{data(){return super.data()}}function zy(r,t){return typeof t=="string"?Uy(r,t):t instanceof Vf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new jt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class Lx extends Vy{}function uw(r,t,...e){let n=[];t instanceof Vy&&n.push(t),n=n.concat(e),function(i){const o=i.filter(a=>a instanceof Hy).length,u=i.filter(a=>a instanceof qy).length;if(o>1||o>0&&u>0)throw new jt(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class qy extends Lx{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new qy(t,e,n)}_apply(t){const e=this._parse(t);return Ox(t._query,e),new xl(t.firestore,t.converter,T1(t._query,e))}_parse(t){const e=qf(t.firestore);return function(i,o,u,a,l,c,d){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new jt(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fw(d,c);const h=[];for(const g of d)h.push(hw(a,i,g));f={arrayValue:{values:h}}}else f=hw(a,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fw(d,c),f=VP(u,o,d,c==="in"||c==="not-in");return jn.create(l,c,f)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Hy extends Vy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Hy(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:Ys.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,i){let o=s;const u=i.getFlattenedFilters();for(const a of u)Ox(o,a),o=T1(o,a)}(t._query,e),new xl(t.firestore,t.converter,T1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $y extends Lx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new $y(t,e)}_apply(t){const e=function(s,i,o){if(s.startAt!==null)throw new jt(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new jt(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vf(i,o)}(t._query,this._field,this._direction);return new xl(t.firestore,t.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Uc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function cw(r,t="asc"){const e=t,n=zy("orderBy",r);return $y._create(n,e)}function hw(r,t,e){if(typeof(e=Jr(e))=="string"){if(e==="")throw new jt(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R6(t)&&e.indexOf("/")!==-1)throw new jt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(rn.fromString(e));if(!Wt.isDocumentKey(n))throw new jt(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return P5(r,new Wt(n))}if(e instanceof Ri)return P5(r,e._key);throw new jt(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qm(e)}.`)}function fw(r,t){if(!Array.isArray(r)||r.length===0)throw new jt(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ox(r,t){const e=function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new jt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new jt(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class $P{convertValue(t,e="none"){switch(pu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return En(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(du(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw sr()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return wu(t,(s,i)=>{n[s]=this.convertValue(i,e)}),n}convertVectorValue(t){var e,n,s;const i=(s=(n=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>En(o.doubleValue));return new Oy(i)}convertGeoPoint(t){return new Ly(En(t.latitude),En(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=py(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(mf(t));default:return null}}convertTimestamp(t){const e=fl(t);return new Or(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=rn.fromString(t);Hr(ex(n));const s=new gf(n.get(1),n.get(3)),i=new Wt(n.popFirst(5));return s.isEqual(e)||Jo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dx extends Mx{constructor(t,e,n,s,i,o){super(t,e,n,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(zy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class wp extends Dx{data(t={}){return super.data(t)}}class Fx{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Ah(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new wp(this._firestore,this._userDataWriter,n.key,n,new Ah(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new jt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const a=new wp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Ah(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const a=new wp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Ah(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return u.type!==0&&(l=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),c=o.indexOf(u.doc.key)),{type:WP(u.type),doc:a,oldIndex:l,newIndex:c}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function WP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sr()}}class Xy extends $P{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ri(this.firestore,null,e)}}function dw(r){r=os(r,xl);const t=os(r.firestore,ta),e=$m(t),n=new Xy(t);return jx(r._query),jP(e,r._query).then(s=>new Fx(t,n,r,s))}function pw(r,t,e){r=os(r,Ri);const n=os(r.firestore,ta),s=Wy(r.converter,t,e);return $f(n,[Fy(qf(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,Ii.none())])}function XP(r,t,e,...n){r=os(r,Ri);const s=os(r.firestore,ta),i=qf(s);let o;return o=typeof(t=Jr(t))=="string"||t instanceof Vf?Nx(i,"updateDoc",r._key,t,e,n):Cx(i,"updateDoc",r._key,t),$f(s,[o.toMutation(r._key,Ii.exists(!0))])}function GP(r){return $f(os(r.firestore,ta),[new Fm(r._key,Ii.none())])}function mw(r,t){const e=os(r.firestore,ta),n=Ba(r),s=Wy(r.converter,t);return $f(e,[Fy(qf(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Ii.exists(!1))]).then(()=>n)}function Bx(r,...t){var e,n,s;r=Jr(r);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||lw(t[o])||(i=t[o],o++);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lw(t[o])){const d=t[o];t[o]=(e=d.next)===null||e===void 0?void 0:e.bind(d),t[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let a,l,c;if(r instanceof Ri)l=os(r.firestore,ta),c=vy(r._key.path),a={next:d=>{t[o]&&t[o](KP(l,r,d))},error:t[o+1],complete:t[o+2]};else{const d=os(r,xl);l=os(d.firestore,ta),c=d._query;const f=new Xy(l);a={next:h=>{t[o]&&t[o](new Fx(l,f,d,h))},error:t[o+1],complete:t[o+2]},jx(r._query)}return function(f,h,g,v){const p=new xx(v),y=new dx(h,p,g);return f.asyncQueue.enqueueAndForget(async()=>hx(await D1(f),y)),()=>{p.Za(),f.asyncQueue.enqueueAndForget(async()=>fx(await D1(f),y))}}($m(l),c,u,a)}function $f(r,t){return function(n,s){const i=new nl;return n.asyncQueue.enqueueAndForget(async()=>SP(await MP(n),s,i)),i.promise}($m(r),t)}function KP(r,t,e){const n=e.docs.get(t._key),s=new Xy(r);return new Dx(r,s,t._key,n,new Ah(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qf(t)}set(t,e,n){this._verifyNotCommitted();const s=eg(t,this._firestore),i=Wy(s.converter,e,n),o=Fy(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(o.toMutation(s._key,Ii.none())),this}update(t,e,n,...s){this._verifyNotCommitted();const i=eg(t,this._firestore);let o;return o=typeof(e=Jr(e))=="string"||e instanceof Vf?Nx(this._dataReader,"WriteBatch.update",i._key,e,n,s):Cx(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(o.toMutation(i._key,Ii.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=eg(t,this._firestore);return this._mutations=this._mutations.concat(new Fm(e._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eg(r,t){if((r=Jr(r)).firestore!==t)throw new jt(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(r){return $m(r=os(r,ta)),new YP(r,t=>$f(r,t))}(function(t,e=!0){(function(s){Bc=s})(vu),cu(new cl("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),u=new ta(new rC(n.getProvider("auth-internal")),new oC(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new jt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(l.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),yo(E5,"4.7.3",t),yo(E5,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebasestorage.googleapis.com",zx="storageBucket",QP=2*60*1e3,ZP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends ko{constructor(t,e,n=0){super(tg(t),`Firebase Storage: ${e} (${tg(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return tg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function tg(r){return"storage/"+r}function Gy(){const r="An unknown error occurred, please check the error payload for server response.";return new _n(wn.UNKNOWN,r)}function JP(r){return new _n(wn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function eI(r){return new _n(wn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(wn.UNAUTHENTICATED,r)}function rI(){return new _n(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nI(r){return new _n(wn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function iI(){return new _n(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sI(){return new _n(wn.CANCELED,"User canceled the upload/download.")}function oI(r){return new _n(wn.INVALID_URL,"Invalid URL '"+r+"'.")}function aI(r){return new _n(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function lI(){return new _n(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zx+"' property when initializing the app?")}function uI(){return new _n(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cI(){return new _n(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hI(r){return new _n(wn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function B1(r){return new _n(wn.INVALID_ARGUMENT,r)}function Vx(){return new _n(wn.APP_DELETED,"The Firebase app was deleted.")}function fI(r){return new _n(wn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zh(r,t){return new _n(wn.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function fh(r){throw new _n(wn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=ns.makeFromUrl(t,e)}catch{return new ns(t,"")}if(n.path==="")return n;throw aI(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),a={bucket:1,path:3};function l(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=e===Ux?"(?:storage.googleapis.com|storage.cloud.google.com)":e,p="([^?#]*)",y=new RegExp(`^https?://${v}/${s}/${p}`,"i"),b=[{regex:u,indices:a,postModify:i},{regex:h,indices:g,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let k=0;k<b.length;k++){const N=b[k],F=N.regex.exec(t);if(F){const j=F[N.indices.bucket];let T=F[N.indices.path];T||(T=""),n=new ns(j,T),N.postModify(n);break}}if(n==null)throw oI(t);return n}}class dI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r,t,e){let n=1,s=null,i=null,o=!1,u=0;function a(){return u===2}let l=!1;function c(...p){l||(l=!0,t.apply(null,p))}function d(p){s=setTimeout(()=>{s=null,r(h,a())},p)}function f(){i&&clearTimeout(i)}function h(p,...y){if(l){f();return}if(p){f(),c.call(null,p,...y);return}if(a()||o){f(),c.call(null,p,...y);return}n<64&&(n*=2);let b;u===1?(u=2,b=0):b=(n+Math.random())*1e3,d(b)}let g=!1;function v(p){g||(g=!0,f(),!l&&(s!==null?(p||(u=2),clearTimeout(s),d(0)):p||(u=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},e),v}function mI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){return r!==void 0}function yI(r){return typeof r=="object"&&!Array.isArray(r)}function Ky(r){return typeof r=="string"||r instanceof String}function gw(r){return Yy()&&r instanceof Blob}function Yy(){return typeof Blob<"u"}function yw(r,t,e,n){if(n<t)throw B1(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>e)throw B1(`Invalid value for '${r}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(r,t,e){let n=t;return e==null&&(n=`https://${t}`),`${e}://${n}/v0${r}`}function qx(r){const t=encodeURIComponent;let e="?";for(const n in r)if(r.hasOwnProperty(n)){const s=t(n)+"="+t(r[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var Yl;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Yl||(Yl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r,t){const e=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,i=t.indexOf(r)!==-1;return e||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,e,n,s,i,o,u,a,l,c,d,f=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,g)=>{this.resolve_=h,this.reject_=g,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new Vd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const a=u.loaded,l=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Yl.NO_ERROR,a=i.getStatus();if(!u||vI(a,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Yl.ABORT;n(!1,new Vd(!1,null,c));return}const l=this.successCodes_.indexOf(a)!==-1;n(!0,new Vd(l,i))})},e=(n,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const a=this.callback_(u,u.getResponse());gI(a)?i(a):i()}catch(a){o(a)}else if(u!==null){const a=Gy();a.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,a)):o(a)}else if(s.canceled){const a=this.appDelete_?Vx():sI();o(a)}else{const a=iI();o(a)}};this.canceled_?e(!1,new Vd(!1,null,!0)):this.backoffId_=pI(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&mI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vd{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function wI(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function _I(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function xI(r,t){t&&(r["X-Firebase-GMPID"]=t)}function SI(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function kI(r,t,e,n,s,i,o=!0){const u=qx(r.urlParams),a=r.url+u,l=Object.assign({},r.headers);return xI(l,t),wI(l,e),_I(l,i),SI(l,n),new bI(a,r.method,l,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AI(...r){const t=EI();if(t!==void 0){const e=new t;for(let n=0;n<r.length;n++)e.append(r[n]);return e.getBlob()}else{if(Yy())return new Blob(r);throw new _n(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TI(r,t,e){return r.webkitSlice?r.webkitSlice(t,e):r.mozSlice?r.mozSlice(t,e):r.slice?r.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r){if(typeof atob>"u")throw hI("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rg{constructor(t,e){this.data=t,this.contentType=e||null}}function NI(r,t){switch(r){case fo.RAW:return new rg(Hx(t));case fo.BASE64:case fo.BASE64URL:return new rg($x(r,t));case fo.DATA_URL:return new rg(II(t),RI(t))}throw Gy()}function Hx(r){const t=[];for(let e=0;e<r.length;e++){let n=r.charCodeAt(e);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(e<r.length-1&&(r.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const i=n,o=r.charCodeAt(++e);n=65536|(i&1023)<<10|o&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function PI(r){let t;try{t=decodeURIComponent(r)}catch{throw zh(fo.DATA_URL,"Malformed data URL.")}return Hx(t)}function $x(r,t){switch(r){case fo.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw zh(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case fo.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw zh(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=CI(t)}catch(s){throw s.message.includes("polyfill")?s:zh(r,"Invalid character found")}const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}class Wx{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw zh(fo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;n!=null&&(this.base64=MI(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function II(r){const t=new Wx(r);return t.base64?$x(fo.BASE64,t.rest):PI(t.rest)}function RI(r){return new Wx(r).contentType}function MI(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e){let n=0,s="";gw(t)?(this.data_=t,n=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(gw(this.data_)){const n=this.data_,s=TI(n,t,e);return s===null?null:new Ua(s)}else{const n=new Uint8Array(this.data_.buffer,t,e-t);return new Ua(n,!0)}}static getBlob(...t){if(Yy()){const e=t.map(n=>n instanceof Ua?n.data_:n);return new Ua(AI.apply(null,e))}else{const e=t.map(o=>Ky(o)?NI(fo.RAW,o).data:o.data_);let n=0;e.forEach(o=>{n+=o.byteLength});const s=new Uint8Array(n);let i=0;return e.forEach(o=>{for(let u=0;u<o.length;u++)s[i++]=o[u]}),new Ua(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(r){let t;try{t=JSON.parse(r)}catch{return null}return yI(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function LI(r,t){const e=t.split("/").filter(n=>n.length>0).join("/");return r.length===0?e:r+"/"+e}function Gx(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,t){return t}class Ci{constructor(t,e,n,s){this.server=t,this.local=e||t,this.writable=!!n,this.xform=s||OI}}let qd=null;function DI(r){return!Ky(r)||r.length<2?r:Gx(r)}function Kx(){if(qd)return qd;const r=[];r.push(new Ci("bucket")),r.push(new Ci("generation")),r.push(new Ci("metageneration")),r.push(new Ci("name","fullPath",!0));function t(i,o){return DI(o)}const e=new Ci("name");e.xform=t,r.push(e);function n(i,o){return o!==void 0?Number(o):o}const s=new Ci("size");return s.xform=n,r.push(s),r.push(new Ci("timeCreated")),r.push(new Ci("updated")),r.push(new Ci("md5Hash",null,!0)),r.push(new Ci("cacheControl",null,!0)),r.push(new Ci("contentDisposition",null,!0)),r.push(new Ci("contentEncoding",null,!0)),r.push(new Ci("contentLanguage",null,!0)),r.push(new Ci("contentType",null,!0)),r.push(new Ci("metadata","customMetadata",!0)),qd=r,qd}function FI(r,t){function e(){const n=r.bucket,s=r.fullPath,i=new ns(n,s);return t._makeStorageReference(i)}Object.defineProperty(r,"ref",{get:e})}function BI(r,t,e){const n={};n.type="file";const s=e.length;for(let i=0;i<s;i++){const o=e[i];n[o.local]=o.xform(n,t[o.server])}return FI(n,r),n}function Yx(r,t,e){const n=Xx(t);return n===null?null:BI(r,n,e)}function UI(r,t,e,n){const s=Xx(t);if(s===null||!Ky(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(l=>{const c=r.bucket,d=r.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=Xm(f,e,n),g=qx({alt:"media",token:l});return h+g})[0]}function zI(r,t){const e={},n=t.length;for(let s=0;s<n;s++){const i=t[s];i.writable&&(e[i.server]=r[i.local])}return JSON.stringify(e)}class Qy{constructor(t,e,n,s){this.url=t,this.method=e,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){if(!r)throw Gy()}function VI(r,t){function e(n,s){const i=Yx(r,s,t);return Qx(i!==null),i}return e}function qI(r,t){function e(n,s){const i=Yx(r,s,t);return Qx(i!==null),UI(i,s,r.host,r._protocol)}return e}function Zx(r){function t(e,n){let s;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?s=rI():s=tI():e.getStatus()===402?s=eI(r.bucket):e.getStatus()===403?s=nI(r.path):s=n,s.status=e.getStatus(),s.serverResponse=n.serverResponse,s}return t}function Jx(r){const t=Zx(r);function e(n,s){let i=t(n,s);return n.getStatus()===404&&(i=JP(r.path)),i.serverResponse=s.serverResponse,i}return e}function HI(r,t,e){const n=t.fullServerUrl(),s=Xm(n,r.host,r._protocol),i="GET",o=r.maxOperationRetryTime,u=new Qy(s,i,qI(r,e),o);return u.errorHandler=Jx(t),u}function $I(r,t){const e=t.fullServerUrl(),n=Xm(e,r.host,r._protocol),s="DELETE",i=r.maxOperationRetryTime;function o(a,l){}const u=new Qy(n,s,o,i);return u.successCodes=[200,204],u.errorHandler=Jx(t),u}function WI(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function XI(r,t,e){const n=Object.assign({},e);return n.fullPath=r.path,n.size=t.size(),n.contentType||(n.contentType=WI(null,t)),n}function GI(r,t,e,n,s){const i=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let b="";for(let k=0;k<2;k++)b=b+Math.random().toString().slice(2);return b}const a=u();o["Content-Type"]="multipart/related; boundary="+a;const l=XI(t,n,s),c=zI(l,e),d="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+a+"--",h=Ua.getBlob(d,n,f);if(h===null)throw uI();const g={name:l.fullPath},v=Xm(i,r.host,r._protocol),p="POST",y=r.maxUploadRetryTime,m=new Qy(v,p,VI(r,e),y);return m.urlParams=g,m.headers=o,m.body=h.uploadData(),m.errorHandler=Zx(t),m}class KI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yl.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yl.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yl.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,s){if(this.sent_)throw fh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class YI extends KI{initXhr(){this.xhr_.responseType="text"}}function Zy(){return new YI}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,e){this._service=t,e instanceof ns?this._location=e:this._location=ns.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new mu(t,e)}get root(){const t=new ns(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gx(this._location.path)}get storage(){return this._service}get parent(){const t=jI(this._location.path);if(t===null)return null;const e=new ns(this._location.bucket,t);return new mu(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw fI(t)}}function QI(r,t,e){r._throwIfRoot("uploadBytes");const n=GI(r.storage,r._location,Kx(),new Ua(t,!0),e);return r.storage.makeRequestWithTokens(n,Zy).then(s=>({metadata:s,ref:r}))}function ZI(r){r._throwIfRoot("getDownloadURL");const t=HI(r.storage,r._location,Kx());return r.storage.makeRequestWithTokens(t,Zy).then(e=>{if(e===null)throw cI();return e})}function JI(r){r._throwIfRoot("deleteObject");const t=$I(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Zy)}function eR(r,t){const e=LI(r._location.path,t),n=new ns(r._location.bucket,e);return new mu(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){return/^[A-Za-z]+:\/\//.test(r)}function rR(r,t){return new mu(r,t)}function e8(r,t){if(r instanceof Jy){const e=r;if(e._bucket==null)throw lI();const n=new mu(e,e._bucket);return t!=null?e8(n,t):n}else return t!==void 0?eR(r,t):r}function nR(r,t){if(t&&tR(t)){if(r instanceof Jy)return rR(r,t);throw B1("To use ref(service, url), the first argument must be a Storage instance.")}else return e8(r,t)}function vw(r,t){const e=t==null?void 0:t[zx];return e==null?null:ns.makeFromBucketSpec(e,r)}function iR(r,t,e,n={}){r.host=`${t}:${e}`,r._protocol="http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:P_(s,r.app.options.projectId))}class Jy{constructor(t,e,n,s,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Ux,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QP,this._maxUploadRetryTime=ZP,this._requests=new Set,s!=null?this._bucket=ns.makeFromBucketSpec(s,this._host):this._bucket=vw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,t):this._bucket=vw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mu(this,t)}_makeRequest(t,e,n,s,i=!0){if(this._deleted)return new dI(Vx());{const o=kI(t,this._appId,n,s,e,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const bw="@firebase/storage",ww="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="storage";function _w(r,t,e){return r=Jr(r),QI(r,t,e)}function ng(r){return r=Jr(r),ZI(r)}function sR(r){return r=Jr(r),JI(r)}function Hd(r,t){return r=Jr(r),nR(r,t)}function oR(r=ty(),t){r=Jr(r);const n=Cm(r,t8).getImmediate({identifier:t}),s=T_("storage");return s&&aR(n,...s),n}function aR(r,t,e,n={}){iR(r,t,e,n)}function lR(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new Jy(e,n,s,t,vu)}function uR(){cu(new cl(t8,lR,"PUBLIC").setMultipleInstances(!0)),yo(bw,ww,""),yo(bw,ww,"esm2017")}uR();const cR={apiKey:"AIzaSyAQNZionq01KS9F6O5m03ybWueO6SFuPPU",authDomain:"app-inventario-repuestos.firebaseapp.com",projectId:"app-inventario-repuestos",storageBucket:"app-inventario-repuestos.firebasestorage.app",messagingSenderId:"14780417870",appId:"1:14780417870:web:28269ae58be0f9d72fc01f"},ev=M_(cR),ig=YT(ev),pi=DP(ev),$d=oR(ev),r8=Le.createContext(null);function hR({children:r}){const[t,e]=Le.useState(null),[n,s]=Le.useState(!0);Le.useEffect(()=>{const u=FA(ig,a=>{e(a),s(!1)});return()=>u()},[]);const i=async(u,a)=>{try{await LA(ig,u,a)}catch(l){throw console.error("Error al iniciar sesin:",l),l}},o=async()=>{try{await BA(ig)}catch(u){throw console.error("Error al cerrar sesin:",u),u}};return G.jsx(r8.Provider,{value:{user:t,loading:n,signIn:i,signOut:o},children:r})}function tv(){const r=Le.useContext(r8);if(!r)throw new Error("useAuth debe usarse dentro de AuthProvider");return r}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n8=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Le.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...u},a)=>Le.createElement("svg",{ref:a,...dR,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:n8("lucide",s),...u},[...o.map(([l,c])=>Le.createElement(l,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(r,t)=>{const e=Le.forwardRef(({className:n,...s},i)=>Le.createElement(pR,{ref:i,iconNode:t,className:n8(`lucide-${fR(r)}`,n),...s}));return e.displayName=`${r}`,e};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Yt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Yt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Yt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Yt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Yt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Yt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Yt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Yt("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Yt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Yt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Yt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Yt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Yt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Yt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Yt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Yt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Yt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Yt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Yt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Yt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Yt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Yt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Yt("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Yt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Yt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Yt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Yt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function OR(){const{signIn:r}=tv(),[t,e]=Le.useState(""),[n,s]=Le.useState(""),[i,o]=Le.useState(""),[u,a]=Le.useState(!1),l=async c=>{c.preventDefault(),o(""),a(!0);try{await r(t,n)}catch(d){o("Credenciales invlidas. Verifica tu email y contrasea."),console.error(d)}finally{a(!1)}};return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4",children:G.jsxs("div",{className:"w-full max-w-md",children:[G.jsxs("div",{className:"text-center mb-8",children:[G.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-xl mb-4",children:G.jsx("span",{className:"text-2xl font-bold text-white",children:"B"})}),G.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Baader 200"}),G.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de Repuestos"})]}),G.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:G.jsxs("form",{onSubmit:l,className:"space-y-6",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),G.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@ejemplo.com",required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),G.jsx("input",{type:"password",value:n,onChange:c=>s(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"",required:!0})]}),i&&G.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:i}),G.jsxs("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u?G.jsx(Ql,{className:"w-5 h-5 animate-spin"}):G.jsx(AR,{className:"w-5 h-5"}),u?"Ingresando...":"Ingresar"]})]})}),G.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Acceso exclusivo para administradores"})]})})}const DR="modulepreload",FR=function(r){return"/Baader-200-Repuestos-app/"+r},Aw={},Sf=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(e.map(a=>{if(a=FR(a),a in Aw)return;Aw[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":DR,l||(d.as="script"),d.crossOrigin="",d.href=a,u&&d.setAttribute("nonce",u),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},lo="repuestosBaader200";function BR(){const[r,t]=Le.useState([]),[e,n]=Le.useState(!0),[s,i]=Le.useState(null);Le.useEffect(()=>{const g=uw(zu(pi,lo),cw("codigoSAP")),v=Bx(g,p=>{const y=p.docs.map(m=>{var b,k,N;return{id:m.id,...m.data(),createdAt:((b=m.data().createdAt)==null?void 0:b.toDate())||new Date,updatedAt:((k=m.data().updatedAt)==null?void 0:k.toDate())||new Date,fechaUltimaActualizacionInventario:((N=m.data().fechaUltimaActualizacionInventario)==null?void 0:N.toDate())||null}});t(y),n(!1)},p=>{console.error("Error al obtener repuestos:",p),i(p.message),n(!1)});return()=>v()},[]);const o=async(g,v,p,y)=>{try{await mw(zu(pi,lo,g,"historial"),{campo:v,valorAnterior:p,valorNuevo:y,fecha:Or.now()})}catch(m){console.error("Error al agregar historial:",m)}},u=Le.useCallback(async g=>{try{const v={...g,total:g.cantidadSolicitada*g.valorUnitario,fechaUltimaActualizacionInventario:g.cantidadStockBodega>0?Or.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Or.now(),updatedAt:Or.now()},p=await mw(zu(pi,lo),v);return await o(p.id,"creacion",null,JSON.stringify(g)),p.id}catch(v){throw console.error("Error al crear repuesto:",v),v}},[]),a=Le.useCallback(async(g,v,p)=>{try{const y={...v,updatedAt:Or.now()};if(v.cantidadSolicitada!==void 0||v.valorUnitario!==void 0){const m=v.cantidadSolicitada??(p==null?void 0:p.cantidadSolicitada)??0,b=v.valorUnitario??(p==null?void 0:p.valorUnitario)??0;y.total=m*b}if(v.cantidadStockBodega!==void 0&&(y.fechaUltimaActualizacionInventario=Or.now()),await XP(Ba(pi,lo,g),y),p)for(const m of Object.keys(v))v[m]!==p[m]&&await o(g,m,p[m],v[m])}catch(y){throw console.error("Error al actualizar repuesto:",y),y}},[]),l=Le.useCallback(async g=>{try{const v=zu(pi,lo,g,"historial"),p=await dw(v),y=zd(pi);p.docs.forEach(m=>{y.delete(m.ref)}),await y.commit(),await GP(Ba(pi,lo,g))}catch(v){throw console.error("Error al eliminar repuesto:",v),v}},[]),c=Le.useCallback(async g=>{try{const v=uw(zu(pi,lo,g,"historial"),cw("fecha","desc"));return(await dw(v)).docs.map(y=>{var m;return{id:y.id,repuestoId:g,...y.data(),fecha:((m=y.data().fecha)==null?void 0:m.toDate())||new Date}})}catch(v){return console.error("Error al obtener historial:",v),[]}},[]),d=Le.useCallback(async g=>{try{const v=zd(pi);for(const p of g){const y=Ba(zu(pi,lo));v.set(y,{...p,total:p.cantidadSolicitada*p.valorUnitario,fechaUltimaActualizacionInventario:p.cantidadStockBodega>0?Or.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Or.now(),updatedAt:Or.now()})}await v.commit()}catch(v){throw console.error("Error al importar repuestos:",v),v}},[]),f=Le.useCallback(async(g,v)=>{var p;try{const y=zd(pi);let m=0;for(const b of r)if((p=b.tags)!=null&&p.includes(g)){const k=b.tags.map(N=>N===g?v:N);y.update(Ba(pi,lo,b.id),{tags:k,updatedAt:Or.now()}),m++}return m>0&&await y.commit(),m}catch(y){throw console.error("Error al renombrar tag:",y),y}},[r]),h=Le.useCallback(async g=>{var v;try{const p=zd(pi);let y=0;for(const m of r)if((v=m.tags)!=null&&v.includes(g)){const b=m.tags.filter(k=>k!==g);p.update(Ba(pi,lo,m.id),{tags:b,updatedAt:Or.now()}),y++}return y>0&&await p.commit(),y}catch(p){throw console.error("Error al eliminar tag:",p),p}},[r]);return{repuestos:r,loading:e,error:s,createRepuesto:u,updateRepuesto:a,deleteRepuesto:l,getHistorial:c,importRepuestos:d,renameTag:f,deleteTag:h}}function UR(){const[r,t]=Le.useState(!1),[e,n]=Le.useState(0),s=Le.useCallback(async(a,l,c)=>{t(!0),n(0);try{const d=Date.now(),f=`${d}_${a.name}`,h=`repuestos/${l}/${c}/${f}`,g=Hd($d,h);await _w(g,a),n(100);const v=await ng(g);return{id:`${d}`,url:v,descripcion:"",orden:0,esPrincipal:!1,tipo:c,createdAt:new Date}}catch(d){throw console.error("Error al subir imagen:",d),d}finally{t(!1),n(0)}},[]),i=Le.useCallback(async a=>{try{const l=Hd($d,a);await sR(l)}catch(l){console.error("Error al eliminar imagen:",l)}},[]),o=Le.useCallback(async a=>{t(!0),n(0);try{const c=Hd($d,"manual/BAADER 200 nparte y materiales.pdf");return await _w(c,a),n(100),await ng(c)}catch(l){throw console.error("Error al subir PDF:",l),l}finally{t(!1),n(0)}},[]),u=Le.useCallback(async()=>{try{const l=Hd($d,"manual/BAADER 200 nparte y materiales.pdf");return await ng(l)}catch(a){return console.error("Manual no encontrado:",a),null}},[]);return{uploading:r,progress:e,uploadImage:s,deleteImage:i,uploadManualPDF:o,getManualURL:u}}const Tw="baader_app_state";function zR(){const[r,t]=Le.useState({lastSelectedRepuestoId:null});Le.useEffect(()=>{try{const s=localStorage.getItem(Tw);s&&t(JSON.parse(s))}catch(s){console.error("Error al cargar estado local:",s)}},[]);const e=Le.useCallback(s=>{t(i=>{const o={...i,lastSelectedRepuestoId:s};return localStorage.setItem(Tw,JSON.stringify(o)),o})},[]),n=Le.useCallback(()=>r.lastSelectedRepuestoId,[r.lastSelectedRepuestoId]);return{lastSelectedRepuestoId:r.lastSelectedRepuestoId,setLastSelectedRepuesto:e,getLastSelectedRepuesto:n}}function VR(){const[r,t]=Le.useState([]),e=Le.useCallback((a,l="info",c=3e3)=>{const d=`toast_${Date.now()}`,f={id:d,message:a,type:l,duration:c};return t(h=>[...h,f]),c>0&&setTimeout(()=>{t(h=>h.filter(g=>g.id!==d))},c),d},[]),n=Le.useCallback(a=>{t(l=>l.filter(c=>c.id!==a))},[]),s=Le.useCallback(a=>e(a,"success"),[e]),i=Le.useCallback(a=>e(a,"error",5e3),[e]),o=Le.useCallback(a=>e(a,"warning"),[e]),u=Le.useCallback(a=>e(a,"info"),[e]);return{toasts:r,addToast:e,removeToast:n,success:s,error:i,warning:o,info:u}}const Cw="dolar_cache",qR=1e3*60*60;function f8(){const[r,t]=Le.useState({valor:0,fecha:"",loading:!0,error:null,lastUpdate:null}),e=Le.useCallback(()=>{try{const u=localStorage.getItem(Cw);if(u){const a=JSON.parse(u);if(Date.now()-a.timestamp<qR)return a}}catch(u){console.error("Error loading dolar cache:",u)}return null},[]),n=Le.useCallback((u,a)=>{try{const l={valor:u,fecha:a,timestamp:Date.now()};localStorage.setItem(Cw,JSON.stringify(l))}catch(l){console.error("Error saving dolar cache:",l)}},[]),s=Le.useCallback(async(u=!1)=>{if(!u){const a=e();if(a){t({valor:a.valor,fecha:a.fecha,loading:!1,error:null,lastUpdate:new Date(a.timestamp)});return}}t(a=>({...a,loading:!0,error:null}));try{const a=await fetch("https://mindicador.cl/api/dolar");if(!a.ok)throw new Error(`Error HTTP: ${a.status}`);const l=await a.json();if(l.dolar&&l.dolar.valor){const c=l.dolar.valor,d=l.dolar.fecha;n(c,d),t({valor:c,fecha:d,loading:!1,error:null,lastUpdate:new Date})}else throw new Error("Respuesta invlida de la API")}catch(a){console.error("Error fetching dolar:",a);const l=e();t(l?{valor:l.valor,fecha:l.fecha,loading:!1,error:"Usando valor en cach (sin conexin)",lastUpdate:new Date(l.timestamp)}:{valor:0,fecha:"",loading:!1,error:a instanceof Error?a.message:"Error desconocido",lastUpdate:null})}},[e,n]);Le.useEffect(()=>{s()},[s]);const i=Le.useCallback(u=>!r.valor||r.valor===0?0:Math.round(u*r.valor),[r.valor]),o=Le.useCallback(u=>u.toLocaleString("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}),[]);return{...r,refresh:()=>s(!0),convertToClp:i,formatClp:o}}const HR="1.8.0",ag=[{key:"codigoSAP",label:"Cdigo SAP",visible:!0,required:!0},{key:"codigoBaader",label:"Cdigo Baader",visible:!0},{key:"textoBreve",label:"Desc. SAP",visible:!0},{key:"descripcion",label:"Desc. Extendida",visible:!0},{key:"nombreManual",label:"Nombre Manual",visible:!0},{key:"cantidadSolicitada",label:"Cant. Solicitada",visible:!0},{key:"cantidadStockBodega",label:"Stock Bodega",visible:!0},{key:"valorUnitario",label:"V. Unitario",visible:!0},{key:"totalUSD",label:"Total USD",visible:!0},{key:"totalCLP",label:"Total CLP",visible:!0},{key:"acciones",label:"Acciones",visible:!0,required:!0}],Nw="table_columns_config";function $R(){const[r,t]=Le.useState(()=>{try{const u=localStorage.getItem(Nw);if(u){const a=JSON.parse(u);return ag.map(l=>{const c=a.find(d=>d.key===l.key);return c?{...l,visible:c.visible}:l})}}catch(u){console.error("Error loading column config:",u)}return ag});Le.useEffect(()=>{try{localStorage.setItem(Nw,JSON.stringify(r))}catch(u){console.error("Error saving column config:",u)}},[r]);const e=Le.useCallback(u=>{t(a=>a.map(l=>l.key===u&&!l.required?{...l,visible:!l.visible}:l))},[]),n=Le.useCallback(()=>{t(u=>u.map(a=>({...a,visible:!0})))},[]),s=Le.useCallback(()=>{t(ag)},[]),i=Le.useCallback(u=>{const a=r.find(l=>l.key===u);return a?a.visible:!0},[r]),o=r.filter(u=>u.visible);return{columns:r,visibleColumns:o,toggleColumn:e,showAllColumns:n,resetColumns:s,isColumnVisible:i}}const Wd=15;function WR({isOpen:r,onClose:t,campo:e,historial:n}){if(!r)return null;const s=n.filter(i=>i.campo===e);return G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t,children:G.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[80vh] overflow-hidden",onClick:i=>i.stopPropagation(),children:[G.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[G.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Historial de ",e==="cantidadSolicitada"?"Cantidad Solicitada":"Stock Bodega"]}),G.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100",children:G.jsx(bi,{className:"w-5 h-5"})})]}),G.jsx("div",{className:"p-5 max-h-96 overflow-y-auto",children:s.length===0?G.jsx("p",{className:"text-gray-500 text-center py-8",children:"Sin cambios registrados"}):G.jsx("div",{className:"space-y-3",children:s.map((i,o)=>G.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[G.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G.jsx("span",{className:"text-sm font-medium text-gray-600",children:new Date(i.fecha).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),G.jsx("span",{className:"text-xs text-gray-400",children:new Date(i.fecha).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),G.jsxs("div",{className:"flex items-center gap-2 text-base",children:[G.jsx("span",{className:"text-red-500 line-through",children:i.valorAnterior??0}),G.jsx("span",{className:"text-gray-400",children:""}),G.jsx("span",{className:"text-green-600 font-semibold",children:i.valorNuevo??0})]})]},o))})})]})})}function XR({repuestos:r,selectedRepuesto:t,onSelect:e,onEdit:n,onDelete:s,onViewManual:i,onViewPhotos:o,onViewHistory:u,onAddNew:a,onMarkInManual:l,getHistorial:c,onManageTags:d,onFilteredChange:f}){const[h,g]=Le.useState(""),[v,p]=Le.useState(1),[y,m]=Le.useState(null),[b,k]=Le.useState([]),[N,F]=Le.useState("OR"),[j,T]=Le.useState(!1),[M,B]=Le.useState(!1),{columns:O,toggleColumn:R,resetColumns:E,isColumnVisible:I}=$R(),[A,w]=Le.useState({isOpen:!1,campo:"",historial:[]}),_=Le.useMemo(()=>{let W=r;if(h.trim()){const ee=h.toLowerCase();W=W.filter(oe=>{var ie,ae,le,ne,se;return((ie=oe.codigoSAP)==null?void 0:ie.toLowerCase().includes(ee))||((ae=oe.textoBreve)==null?void 0:ae.toLowerCase().includes(ee))||((le=oe.descripcion)==null?void 0:le.toLowerCase().includes(ee))||((ne=oe.nombreManual)==null?void 0:ne.toLowerCase().includes(ee))||((se=oe.codigoBaader)==null?void 0:se.toLowerCase().includes(ee))})}return b.length>0&&(N==="AND"?W=W.filter(ee=>b.every(oe=>{var ie;return(ie=ee.tags)==null?void 0:ie.includes(oe)})):W=W.filter(ee=>b.some(oe=>{var ie;return(ie=ee.tags)==null?void 0:ie.includes(oe)}))),W},[r,h,b,N]),x=Math.ceil(_.length/Wd),S=(v-1)*Wd,C=_.slice(S,S+Wd);Le.useEffect(()=>{p(1)},[h,b,N]),Le.useEffect(()=>{f==null||f(_)},[_,f]);const q=async(W,ee)=>{try{await navigator.clipboard.writeText(W),m(ee),setTimeout(()=>m(null),2e3)}catch(oe){console.error("Error al copiar:",oe)}},P=async(W,ee)=>{if(c)try{const oe=await c(W.id);w({isOpen:!0,campo:ee,historial:oe})}catch(oe){console.error("Error al cargar historial:",oe)}},H=r.filter(W=>!W.vinculosManual||W.vinculosManual.length===0).length,X=Le.useMemo(()=>{const W=new Set;return r.forEach(ee=>{var oe;return(oe=ee.tags)==null?void 0:oe.forEach(ie=>W.add(ie))}),Array.from(W)},[r]),{valor:Z,loading:V,formatClp:Q,convertToClp:z}=f8(),D=Le.useMemo(()=>{const W=_.reduce((ae,le)=>ae+(le.cantidadSolicitada||0),0),ee=_.reduce((ae,le)=>ae+(le.cantidadStockBodega||0),0),oe=_.reduce((ae,le)=>ae+(le.total||0),0),ie=z(oe);return{totalSolicitado:W,totalBodega:ee,totalUSD:oe,totalCLP:ie}},[_,z]);return G.jsxs("div",{className:"flex flex-col h-full bg-white",children:[G.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[G.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[G.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[G.jsx(Zl,{className:"w-6 h-6 text-primary-600"}),"Repuestos",G.jsxs("span",{className:"text-base font-normal text-gray-500",children:["(",_.length," de ",r.length,")"]})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsxs("div",{className:"relative",children:[G.jsxs("button",{onClick:()=>T(!j),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${b.length>0?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,children:[G.jsx(c8,{className:"w-4 h-4"}),G.jsx("span",{className:"hidden sm:inline text-sm",children:b.length>0?`${b.length} tag${b.length>1?"s":""}`:"Filtrar"}),b.length>0&&G.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-200 text-primary-800 rounded text-xs font-medium",children:N})]}),j&&G.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[G.jsxs("div",{className:"p-3 border-b border-gray-100",children:[G.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Modo de filtrado"}),G.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[G.jsx("button",{onClick:()=>F("OR"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${N==="OR"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra repuestos que tengan CUALQUIERA de los tags",children:"OR"}),G.jsx("button",{onClick:()=>F("AND"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${N==="AND"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra solo repuestos que tengan TODOS los tags",children:"AND"})]})]}),G.jsx("p",{className:"text-xs text-gray-400",children:N==="OR"?"Muestra si tiene cualquier tag seleccionado":"Muestra solo si tiene todos los tags"})]}),G.jsx("div",{className:"p-2 border-b border-gray-100",children:G.jsxs("button",{onClick:()=>{k([])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center justify-between ${b.length===0?"bg-gray-50 text-gray-400":"text-gray-600 hover:bg-gray-50"}`,disabled:b.length===0,children:[G.jsx("span",{children:"Todos los repuestos"}),b.length>0&&G.jsx(bi,{className:"w-4 h-4 text-gray-400"})]})}),G.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:X.map(W=>{const ee=b.includes(W),oe=r.filter(ie=>{var ae;return(ae=ie.tags)==null?void 0:ae.includes(W)}).length;return G.jsxs("button",{onClick:()=>{k(ee?b.filter(ie=>ie!==W):[...b,W])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${ee?"bg-primary-50 text-primary-700":"hover:bg-gray-50"}`,children:[G.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${ee?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:ee&&G.jsx(ws,{className:"w-3 h-3 text-white"})}),G.jsx(Jl,{className:"w-3 h-3 flex-shrink-0"}),G.jsx("span",{className:"flex-1 truncate",children:W}),G.jsxs("span",{className:"text-xs text-gray-400",children:["(",oe,")"]})]},W)})}),d&&G.jsx("div",{className:"p-2 border-t border-gray-100",children:G.jsxs("button",{onClick:()=>{T(!1),d()},className:"w-full px-3 py-2 text-left text-sm text-primary-600 hover:bg-primary-50 rounded flex items-center gap-2",children:[G.jsx(z1,{className:"w-3 h-3"}),"Gestionar Tags"]})})]})]}),G.jsxs("div",{className:"relative hidden lg:block",children:[G.jsx("button",{onClick:()=>B(!M),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${M?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Configurar columnas",children:G.jsx(wR,{className:"w-4 h-4"})}),M&&G.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[G.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[G.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Columnas visibles"}),G.jsx("button",{onClick:E,className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Restaurar por defecto",children:G.jsx(PR,{className:"w-4 h-4"})})]}),G.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:O.map(W=>G.jsxs("button",{onClick:()=>!W.required&&R(W.key),className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${W.required?"text-gray-400 cursor-not-allowed":W.visible?"text-gray-700 hover:bg-gray-50":"text-gray-400 hover:bg-gray-50"}`,disabled:W.required,children:[W.visible?G.jsx(xR,{className:"w-4 h-4 text-green-500"}):G.jsx(_R,{className:"w-4 h-4 text-gray-400"}),G.jsx("span",{className:W.visible?"":"line-through",children:W.label}),W.required&&G.jsx("span",{className:"text-[10px] text-gray-400 ml-auto",children:"requerido"})]},W.key))})]})]}),G.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white text-base font-medium rounded-lg hover:bg-primary-700 transition-colors",children:[G.jsx(_f,{className:"w-5 h-5"}),G.jsx("span",{className:"hidden sm:inline",children:"Agregar"})]})]})]}),G.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[G.jsxs("div",{className:"flex items-center gap-4 pr-4 border-r border-gray-300",children:[G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Solicitado"}),G.jsx("div",{className:"text-lg font-bold text-blue-600",children:D.totalSolicitado.toLocaleString()})]}),G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"En Bodega"}),G.jsx("div",{className:`text-lg font-bold ${D.totalBodega>0?"text-green-600":"text-gray-400"}`,children:D.totalBodega.toLocaleString()})]})]}),G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Total USD"}),G.jsxs("div",{className:"text-lg font-bold text-gray-800",children:["$",D.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),Z>0&&G.jsxs("div",{className:"text-center",children:[G.jsxs("div",{className:"text-xs text-gray-500 uppercase flex items-center gap-1 justify-center",children:["Total CLP",G.jsxs("span",{className:"text-[10px] text-gray-400",children:["(@",Z.toFixed(0),")"]})]}),G.jsx("div",{className:"text-lg font-bold text-green-700",children:Q(D.totalCLP)})]})]}),V&&G.jsx(NR,{className:"w-4 h-4 text-gray-400 animate-spin ml-auto"})]}),G.jsxs("div",{className:"relative",children:[G.jsx(RR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),G.jsx("input",{type:"text",value:h,onChange:W=>g(W.target.value),placeholder:"Buscar por cdigo SAP, Baader o descripcin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),b.length>0&&G.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[G.jsxs("span",{className:"text-sm text-gray-500",children:["Filtrado por (",N,"):"]}),b.map(W=>G.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[G.jsx(Jl,{className:"w-3 h-3"}),W,G.jsx("button",{onClick:()=>k(b.filter(ee=>ee!==W)),className:"ml-1 hover:text-primary-900",children:G.jsx(bi,{className:"w-4 h-4"})})]},W)),G.jsx("button",{onClick:()=>k([]),className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Limpiar filtros"})]}),H>0&&b.length===0&&G.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700",children:[G.jsx(sg,{className:"w-5 h-5"}),G.jsxs("span",{children:[H," repuestos sin ubicacin en el manual"]})]})]}),G.jsxs("div",{className:"flex-1 overflow-auto hidden lg:block",children:[G.jsxs("table",{className:"w-full",children:[G.jsx("thead",{className:"bg-gray-50 sticky top-0",children:G.jsxs("tr",{children:[I("codigoSAP")&&G.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Cdigo SAP"}),I("codigoBaader")&&G.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Cdigo Baader"}),I("textoBreve")&&G.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-xs uppercase tracking-wide",children:"Desc. SAP"}),I("descripcion")&&G.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-xs uppercase tracking-wide",children:"Desc. Extendida"}),I("nombreManual")&&G.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-xs uppercase tracking-wide",children:"Nombre Manual"}),I("cantidadSolicitada")&&G.jsx("th",{className:"px-4 py-4 text-center font-semibold text-gray-600 text-xs uppercase tracking-wide",children:"Cant. Solicitada"}),I("cantidadStockBodega")&&G.jsx("th",{className:"px-4 py-4 text-center font-semibold text-gray-600 text-xs uppercase tracking-wide",children:"Stock Bodega"}),I("valorUnitario")&&G.jsx("th",{className:"px-4 py-4 text-right font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"V. Unit."}),I("totalUSD")&&G.jsx("th",{className:"px-4 py-4 text-right font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Total USD"}),I("totalCLP")&&G.jsx("th",{className:"px-4 py-4 text-right font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Total CLP"}),I("acciones")&&G.jsx("th",{className:"px-4 py-4 text-center font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Acciones"})]})}),G.jsx("tbody",{children:C.map(W=>{var oe,ie,ae;const ee=W.vinculosManual&&W.vinculosManual.length>0;return G.jsxs("tr",{onClick:()=>e((t==null?void 0:t.id)===W.id?null:W),className:`
                    border-b border-gray-100 cursor-pointer transition-colors
                    ${(t==null?void 0:t.id)===W.id?"bg-primary-50 border-primary-200":"hover:bg-gray-50"}
                  `,children:[I("codigoSAP")&&G.jsx("td",{className:"px-4 py-4",children:G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"font-mono text-sm bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-gray-800",children:W.codigoSAP}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.codigoSAP,`sap-${W.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo SAP",children:y===`sap-${W.id}`?G.jsx(ws,{className:"w-4 h-4 text-green-500"}):G.jsx(Dl,{className:"w-4 h-4"})})]})}),I("codigoBaader")&&G.jsx("td",{className:"px-4 py-4",children:G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:W.codigoBaader}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.codigoBaader,`baader-${W.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo Baader",children:y===`baader-${W.id}`?G.jsx(ws,{className:"w-4 h-4 text-green-500"}):G.jsx(Dl,{className:"w-4 h-4"})})]})}),I("textoBreve")&&G.jsx("td",{className:"px-4 py-4",children:G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsx("span",{className:"text-sm text-gray-800 truncate max-w-[150px]",title:W.textoBreve,children:W.textoBreve}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.textoBreve,`sap-${W.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:y===`sap-${W.id}`?G.jsx(ws,{className:"w-3 h-3 text-green-500"}):G.jsx(Dl,{className:"w-3 h-3"})})]})}),I("descripcion")&&G.jsx("td",{className:"px-4 py-4",children:G.jsxs("div",{className:"space-y-1",children:[G.jsxs("div",{className:"flex items-center gap-1",children:[W.descripcion?G.jsxs(G.Fragment,{children:[G.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:W.descripcion,children:W.descripcion}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.descripcion,`desc-${W.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:y===`desc-${W.id}`?G.jsx(ws,{className:"w-3 h-3 text-green-500"}):G.jsx(Dl,{className:"w-3 h-3"})})]}):G.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"}),!ee&&l&&G.jsx("button",{onClick:le=>{le.stopPropagation(),l(W)},className:"flex-shrink-0 p-1 rounded bg-amber-100 text-amber-600 hover:bg-amber-200 transition-colors",title:"Marcar ubicacin en manual",children:G.jsx(sg,{className:"w-3 h-3"})})]}),W.tags&&W.tags.length>0&&G.jsxs("div",{className:"flex flex-wrap gap-1",children:[W.tags.slice(0,2).map(le=>G.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-blue-50 text-blue-600 rounded text-[10px] font-medium",children:le.length>12?le.substring(0,12)+"...":le},le)),W.tags.length>2&&G.jsxs("span",{className:"text-[10px] text-gray-400",children:["+",W.tags.length-2]})]})]})}),I("nombreManual")&&G.jsx("td",{className:"px-4 py-4",children:W.nombreManual?G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:W.nombreManual,children:W.nombreManual}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.nombreManual||"",`manual-${W.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:y===`manual-${W.id}`?G.jsx(ws,{className:"w-3 h-3 text-green-500"}):G.jsx(Dl,{className:"w-3 h-3"})})]}):G.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),I("cantidadSolicitada")&&G.jsx("td",{className:"px-4 py-4 text-center",children:G.jsx("button",{onClick:le=>{le.stopPropagation(),P(W,"cantidadSolicitada")},className:"text-base font-semibold px-3 py-1.5 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"Ver historial de cambios",children:W.cantidadSolicitada})}),I("cantidadStockBodega")&&G.jsx("td",{className:"px-4 py-4 text-center",children:G.jsx("button",{onClick:le=>{le.stopPropagation(),P(W,"cantidadStockBodega")},className:`
                        px-3 py-1.5 rounded-lg text-sm font-semibold transition-colors
                        ${W.cantidadStockBodega>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}
                      `,title:"Ver historial de cambios",children:W.cantidadStockBodega})}),I("valorUnitario")&&G.jsx("td",{className:"px-4 py-4 text-right",children:G.jsxs("span",{className:"text-base text-gray-600 font-medium",children:["$",((oe=W.valorUnitario)==null?void 0:oe.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),I("totalUSD")&&G.jsx("td",{className:"px-4 py-4 text-right",children:G.jsxs("span",{className:"text-base font-bold text-gray-800",children:["$",((ie=W.total)==null?void 0:ie.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),I("totalCLP")&&G.jsx("td",{className:"px-4 py-4 text-right",children:V?G.jsx("span",{className:"text-xs text-gray-400",children:"..."}):Z>0?G.jsx("span",{className:"text-sm font-medium text-green-700",children:Q(z(W.total||0))}):G.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),I("acciones")&&G.jsx("td",{className:"px-4 py-4",children:G.jsxs("div",{className:"flex items-center justify-center gap-1",children:[G.jsx("button",{onClick:le=>{le.stopPropagation(),i(W)},className:`p-2 rounded-lg transition-colors ${ee?"hover:bg-primary-100 text-primary-600":"hover:bg-gray-100 text-gray-400"}`,title:ee?"Ver en manual":"Ir al manual",children:G.jsx(um,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),o(W)},className:`p-2 rounded-lg transition-colors ${((ae=W.fotosReales)==null?void 0:ae.length)>0?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-100 text-gray-300"}`,title:"Fotos reales",children:G.jsx(Sw,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),u(W)},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors",title:"Ver historial completo",children:G.jsx(kw,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),n(W)},className:"p-2 rounded-lg hover:bg-blue-50 text-gray-500 hover:text-blue-600 transition-colors",title:"Editar",children:G.jsx(U1,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),s(W)},className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors",title:"Eliminar",children:G.jsx(xf,{className:"w-5 h-5"})})]})})]},W.id)})})]}),_.length===0&&G.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[G.jsx(Zl,{className:"w-16 h-16 mb-4 opacity-40"}),G.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),h&&G.jsx("button",{onClick:()=>g(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),G.jsxs("div",{className:"flex-1 overflow-auto lg:hidden",children:[G.jsx("div",{className:"p-3 space-y-3",children:C.map(W=>{var oe,ie,ae;const ee=W.vinculosManual&&W.vinculosManual.length>0;return G.jsxs("div",{onClick:()=>e((t==null?void 0:t.id)===W.id?null:W),className:`
                  bg-white rounded-xl border-2 p-4 cursor-pointer transition-all
                  ${(t==null?void 0:t.id)===W.id?"border-primary-500 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow"}
                `,children:[G.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[G.jsx("span",{className:"text-xs font-medium text-gray-500",children:"SAP:"}),G.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-0.5 rounded font-semibold text-gray-800",children:W.codigoSAP}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.codigoSAP,`sap-m-${W.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:y===`sap-m-${W.id}`?G.jsx(ws,{className:"w-3.5 h-3.5 text-green-500"}):G.jsx(Dl,{className:"w-3.5 h-3.5"})})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Baader:"}),G.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:W.codigoBaader}),G.jsx("button",{onClick:le=>{le.stopPropagation(),q(W.codigoBaader,`baader-m-${W.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:y===`baader-m-${W.id}`?G.jsx(ws,{className:"w-3.5 h-3.5 text-green-500"}):G.jsx(Dl,{className:"w-3.5 h-3.5"})})]})]}),!ee&&l&&G.jsx("button",{onClick:le=>{le.stopPropagation(),l(W)},className:"p-2 rounded-lg bg-amber-100 text-amber-600",title:"Marcar en manual",children:G.jsx(sg,{className:"w-4 h-4"})})]}),G.jsxs("div",{className:"space-y-2 mb-3",children:[W.textoBreve&&G.jsxs("div",{className:"flex items-start gap-2",children:[G.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"SAP:"}),G.jsx("span",{className:"text-sm text-gray-700 line-clamp-1 flex-1",children:W.textoBreve})]}),W.descripcion&&G.jsxs("div",{className:"flex items-start gap-2",children:[G.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Extendida:"}),G.jsx("span",{className:"text-sm text-gray-600 line-clamp-2 flex-1",children:W.descripcion})]}),W.nombreManual&&G.jsxs("div",{className:"flex items-start gap-2",children:[G.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Manual:"}),G.jsx("span",{className:"text-sm text-gray-600 line-clamp-1 flex-1",children:W.nombreManual})]}),!W.textoBreve&&!W.descripcion&&!W.nombreManual&&G.jsx("p",{className:"text-sm text-gray-400 italic",children:"Sin descripcin"})]}),W.tags&&W.tags.length>0&&G.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:W.tags.map(le=>G.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-xs font-medium",children:le},le))}),G.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[G.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[G.jsx("span",{className:"text-xs text-gray-500 block",children:"Cant. Solicitada"}),G.jsx("span",{className:"text-lg font-bold text-gray-800",children:W.cantidadSolicitada})]}),G.jsxs("div",{className:`rounded-lg p-2 ${W.cantidadStockBodega>0?"bg-green-50":"bg-gray-50"}`,children:[G.jsx("span",{className:"text-xs text-gray-500 block",children:"Stock Bodega"}),G.jsx("span",{className:`text-lg font-bold ${W.cantidadStockBodega>0?"text-green-700":"text-gray-500"}`,children:W.cantidadStockBodega})]}),G.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[G.jsx("span",{className:"text-xs text-gray-500 block",children:"V. Unitario"}),G.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["$",((oe=W.valorUnitario)==null?void 0:oe.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]}),G.jsxs("div",{className:"bg-primary-50 rounded-lg p-2",children:[G.jsx("span",{className:"text-xs text-gray-500 block",children:"Total USD"}),G.jsxs("span",{className:"text-sm font-bold text-primary-700",children:["$",((ie=W.total)==null?void 0:ie.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]})]}),G.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsx("button",{onClick:le=>{le.stopPropagation(),i(W)},className:`p-2 rounded-lg ${ee?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400"}`,title:"Ver en manual",children:G.jsx(um,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),o(W)},className:`p-2 rounded-lg ${((ae=W.fotosReales)==null?void 0:ae.length)>0?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-300"}`,title:"Fotos",children:G.jsx(Sw,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),u(W)},className:"p-2 rounded-lg bg-gray-100 text-gray-500",title:"Historial",children:G.jsx(kw,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsx("button",{onClick:le=>{le.stopPropagation(),n(W)},className:"p-2 rounded-lg bg-blue-50 text-blue-600",title:"Editar",children:G.jsx(U1,{className:"w-5 h-5"})}),G.jsx("button",{onClick:le=>{le.stopPropagation(),s(W)},className:"p-2 rounded-lg bg-red-50 text-red-600",title:"Eliminar",children:G.jsx(xf,{className:"w-5 h-5"})})]})]})]},W.id)})}),_.length===0&&G.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[G.jsx(Zl,{className:"w-16 h-16 mb-4 opacity-40"}),G.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),h&&G.jsx("button",{onClick:()=>g(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),x>1&&G.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[G.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Mostrando ",S+1,"-",Math.min(S+Wd,_.length)," de ",_.length]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("button",{onClick:()=>p(W=>Math.max(1,W-1)),disabled:v===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:G.jsx(s8,{className:"w-5 h-5"})}),G.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,x)},(W,ee)=>{let oe;return x<=5||v<=3?oe=ee+1:v>=x-2?oe=x-4+ee:oe=v-2+ee,G.jsx("button",{onClick:()=>p(oe),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-colors ${v===oe?"bg-primary-600 text-white":"hover:bg-white border border-gray-300"}`,children:oe},oe)})}),G.jsx("button",{onClick:()=>p(W=>Math.min(x,W+1)),disabled:v===x,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:G.jsx(o8,{className:"w-5 h-5"})})]})]}),G.jsx(WR,{isOpen:A.isOpen,onClose:()=>w({...A,isOpen:!1}),campo:A.campo,historial:A.historial})]})}const Vu=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo"],Pw="settings/tags";function d8(){const[r,t]=Le.useState(Vu),[e,n]=Le.useState(!0),[s,i]=Le.useState(null);Le.useEffect(()=>{const d=Ba(pi,Pw),f=Bx(d,h=>{if(h.exists()){const g=h.data();t(g.tags||Vu)}else pw(d,{tags:Vu,updatedAt:new Date}).catch(console.error),t(Vu);n(!1)},h=>{console.error("Error al obtener tags:",h),i(h.message),n(!1),t(Vu)});return()=>f()},[]);const o=Le.useCallback(async d=>{try{const f=Ba(pi,Pw);return await pw(f,{tags:d,updatedAt:new Date}),!0}catch(f){return console.error("Error al guardar tags:",f),i(f.message),!1}},[]),u=Le.useCallback(async d=>{const f=d.trim();if(!f||r.includes(f))return!1;const h=[...r,f].sort((g,v)=>g.localeCompare(v,"es",{sensitivity:"base"}));return await o(h)},[r,o]),a=Le.useCallback(async d=>{const f=r.filter(h=>h!==d);return await o(f)},[r,o]),l=Le.useCallback(async(d,f)=>{const h=f.trim();if(!h||r.includes(h)&&h!==d)return!1;const g=r.map(v=>v===d?h:v).sort((v,p)=>v.localeCompare(p,"es",{sensitivity:"base"}));return await o(g)},[r,o]),c=Le.useCallback(async d=>{const f=d.map(g=>g.trim()).filter(g=>g&&!r.includes(g));if(f.length===0)return!0;const h=[...r,...f].sort((g,v)=>g.localeCompare(v,"es",{sensitivity:"base"}));return await o(h)},[r,o]);return{tags:r,loading:e,error:s,addTag:u,removeTag:a,renameTag:l,addMultipleTags:c,saveTags:o,DEFAULT_TAGS:Vu}}function Wf({isOpen:r,onClose:t,children:e,title:n,size:s="md"}){const i=Le.useRef(null);Le.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return r&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[r,t]);const o=Le.useCallback(l=>{i.current=l.target},[]),u=Le.useCallback(l=>{if(i.current!==l.target)return;const c=window.getSelection();c&&c.toString().trim().length>0||t()},[t]);if(!r)return null;const a={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4 md:mx-8"};return G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onMouseDown:o,onClick:u,children:G.jsxs("div",{className:`
          modal-content bg-white rounded-lg shadow-xl w-full ${a[s]}
          max-h-[90vh] overflow-hidden flex flex-col animate-slideIn
          md:rounded-lg md:max-h-[85vh]
        `,onClick:l=>l.stopPropagation(),onMouseDown:l=>l.stopPropagation(),children:[n&&G.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[G.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:n}),G.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:G.jsx(bi,{className:"w-5 h-5 text-gray-500"})})]}),G.jsx("div",{className:"flex-1 overflow-auto p-6",children:e})]})})}function GR({toasts:r,onRemove:t}){return r.length===0?null:G.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:r.map(e=>G.jsx(KR,{toast:e,onRemove:t},e.id))})}function KR({toast:r,onRemove:t}){const e={success:G.jsx(lm,{className:"w-5 h-5 text-green-500"}),error:G.jsx(bR,{className:"w-5 h-5 text-red-500"}),warning:G.jsx(rv,{className:"w-5 h-5 text-yellow-500"}),info:G.jsx(kR,{className:"w-5 h-5 text-blue-500"})},n={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return G.jsxs("div",{className:`
        toast flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg
        ${n[r.type]}
      `,children:[e[r.type],G.jsx("p",{className:"flex-1 text-sm text-gray-700",children:r.message}),G.jsx("button",{onClick:()=>t(r.id),className:"p-1 rounded hover:bg-black/5 transition-colors",children:G.jsx(bi,{className:"w-4 h-4 text-gray-400"})})]})}function ks({children:r,variant:t="primary",size:e="md",loading:n=!1,icon:s,className:i="",disabled:o,...u}){const a="inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return G.jsxs("button",{className:`${a} ${l[t]} ${c[e]} ${i}`,disabled:o||n,...u,children:[n?G.jsx(Ql,{className:"w-4 h-4 animate-spin"}):s||null,r]})}const Pa=Le.forwardRef(({label:r,error:t,helperText:e,className:n="",...s},i)=>G.jsxs("div",{className:"w-full",children:[r&&G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),G.jsx("input",{ref:i,className:`
            w-full px-3 py-2 border rounded-lg text-sm
            transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
            ${t?"border-red-300 bg-red-50":"border-gray-300 bg-white"}
            ${n}
          `,...s}),t&&G.jsx("p",{className:"mt-1 text-xs text-red-500",children:t}),e&&!t&&G.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e})]}));Pa.displayName="Input";function YR({isOpen:r,onClose:t,onSave:e,repuesto:n}){const{tags:s,addTag:i}=d8(),[o,u]=Le.useState(!1),[a,l]=Le.useState({codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]}),[c,d]=Le.useState(!1),[f,h]=Le.useState("");Le.useEffect(()=>{l(n?{codigoSAP:n.codigoSAP,textoBreve:n.textoBreve,descripcion:n.descripcion||"",nombreManual:n.nombreManual||"",codigoBaader:n.codigoBaader,cantidadSolicitada:n.cantidadSolicitada,valorUnitario:n.valorUnitario,cantidadStockBodega:n.cantidadStockBodega,tags:n.tags||[]}:{codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]})},[n,r]);const g=async k=>{k.preventDefault(),u(!0);try{await e(a),t()}catch(N){console.error("Error al guardar:",N)}finally{u(!1)}},v=(k,N)=>{l(F=>({...F,[k]:N}))},p=k=>{if(!k.trim())return;const N=k.trim(),F=a.tags||[];F.includes(N)||(l(j=>({...j,tags:[...F,N]})),s.includes(N)||i(N)),h(""),d(!1)},y=k=>{l(N=>({...N,tags:(N.tags||[]).filter(F=>F!==k)}))},m=s.filter(k=>!(a.tags||[]).includes(k)),b=a.cantidadSolicitada*a.valorUnitario;return G.jsx(Wf,{isOpen:r,onClose:t,title:n?"Editar Repuesto":"Nuevo Repuesto",size:"lg",children:G.jsxs("form",{onSubmit:g,className:"space-y-6",children:[G.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[G.jsx(Pa,{label:"Cdigo SAP",value:a.codigoSAP,onChange:k=>v("codigoSAP",k.target.value),placeholder:"Ej: 10038163",required:!0}),G.jsx(Pa,{label:"Cdigo Baader",value:a.codigoBaader,onChange:k=>v("codigoBaader",k.target.value),placeholder:"Ej: 200.1234",required:!0})]}),G.jsx(Pa,{label:"Descripcin SAP (Texto Breve)",value:a.textoBreve,onChange:k=>v("textoBreve",k.target.value),placeholder:"Descripcin del repuesto segn SAP",required:!0}),G.jsx(Pa,{label:"Nombre segn Manual (opcional)",value:a.nombreManual||"",onChange:k=>v("nombreManual",k.target.value),placeholder:"Nombre del repuesto segn el manual Baader"}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin Extendida (opcional)"}),G.jsx("textarea",{value:a.descripcion||"",onChange:k=>v("descripcion",k.target.value),placeholder:"Notas adicionales, observaciones o detalles importantes...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",rows:2})]}),G.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[G.jsx(Pa,{label:"Cantidad Solicitada",type:"number",min:"0",value:a.cantidadSolicitada,onChange:k=>v("cantidadSolicitada",parseInt(k.target.value)||0),required:!0}),G.jsx(Pa,{label:"Valor Unitario (USD)",type:"number",min:"0",step:"0.01",value:a.valorUnitario,onChange:k=>v("valorUnitario",parseFloat(k.target.value)||0),required:!0}),G.jsx(Pa,{label:"Stock Bodega",type:"number",min:"0",value:a.cantidadStockBodega,onChange:k=>v("cantidadStockBodega",parseInt(k.target.value)||0)})]}),G.jsxs("div",{className:"space-y-3",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[G.jsx(Jl,{className:"w-4 h-4"}),"Tags / Etiquetas"]}),G.jsxs("button",{type:"button",onClick:()=>d(!c),className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[G.jsx(_f,{className:"w-4 h-4"}),"Agregar tag"]})]}),G.jsx("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:(a.tags||[]).length===0?G.jsx("span",{className:"text-sm text-gray-400 italic",children:"Sin tags asignados"}):(a.tags||[]).map(k=>G.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[k,G.jsx("button",{type:"button",onClick:()=>y(k),className:"hover:text-primary-900 transition-colors",children:G.jsx(bi,{className:"w-4 h-4"})})]},k))}),c&&G.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[G.jsxs("div",{children:[G.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Tags predefinidos:"}),G.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map(k=>G.jsx("button",{type:"button",onClick:()=>p(k),className:"px-3 py-1 bg-white border border-gray-300 rounded-full text-sm hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700 transition-colors",children:k},k)),m.length===0&&G.jsx("span",{className:"text-xs text-gray-400 italic",children:"Todos los tags predefinidos ya estn asignados"})]})]}),G.jsxs("div",{className:"flex gap-2",children:[G.jsx("input",{type:"text",value:f,onChange:k=>h(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),p(f))},placeholder:"Crear tag personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),G.jsx("button",{type:"button",onClick:()=>p(f),disabled:!f.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Agregar"})]})]})]}),G.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("span",{className:"text-gray-600",children:"Total:"}),G.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["$",b.toLocaleString("en-US",{minimumFractionDigits:2})]})]})}),G.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[G.jsx(ks,{type:"button",variant:"secondary",onClick:t,children:"Cancelar"}),G.jsx(ks,{type:"submit",loading:o,icon:G.jsx(IR,{className:"w-4 h-4"}),children:n?"Guardar Cambios":"Crear Repuesto"})]})]})})}function QR({isOpen:r,onClose:t,repuesto:e,getHistorial:n}){const[s,i]=Le.useState([]),[o,u]=Le.useState(!1);Le.useEffect(()=>{r&&e&&(u(!0),n(e.id).then(i).finally(()=>u(!1)))},[r,e,n]);const a=Le.useMemo(()=>{const v=new Map;return s.forEach(p=>{const y=new Date(p.fecha).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"});v.has(y)||v.set(y,[]),v.get(y).push(p)}),Array.from(v.entries()).map(([p,y])=>({fecha:p,items:y.sort((m,b)=>new Date(b.fecha).getTime()-new Date(m.fecha).getTime())}))},[s]),l=v=>new Intl.DateTimeFormat("es-CL",{hour:"2-digit",minute:"2-digit"}).format(v),c=v=>({codigoSAP:"Cdigo SAP",textoBreve:"Descripcin SAP",descripcion:"Descripcin Extendida",nombreManual:"Nombre Manual",codigoBaader:"Cdigo Baader",cantidadSolicitada:"Cantidad Solicitada",cantidadStockBodega:"Stock Bodega",valorUnitario:"Valor Unitario",total:"Total",tags:"Tags",creacion:"Creacin"})[v]||v,d=v=>{switch(v){case"cantidadSolicitada":case"cantidadStockBodega":return G.jsx(Zl,{className:"w-4 h-4"});case"valorUnitario":case"total":return G.jsx(u8,{className:"w-4 h-4"});case"codigoSAP":case"codigoBaader":return G.jsx(SR,{className:"w-4 h-4"});case"creacion":return G.jsx(vR,{className:"w-4 h-4"});default:return G.jsx(um,{className:"w-4 h-4"})}},f=v=>{switch(v){case"cantidadSolicitada":return"bg-blue-100 text-blue-700 border-blue-200";case"cantidadStockBodega":return"bg-green-100 text-green-700 border-green-200";case"valorUnitario":case"total":return"bg-amber-100 text-amber-700 border-amber-200";case"creacion":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},h=v=>{if(!["cantidadSolicitada","cantidadStockBodega","valorUnitario","total"].includes(v.campo))return null;const y=Number(v.valorAnterior)||0,m=Number(v.valorNuevo)||0;return m>y?G.jsx(V1,{className:"w-3 h-3 text-green-500"}):m<y?G.jsx(jR,{className:"w-3 h-3 text-red-500"}):G.jsx(CR,{className:"w-3 h-3 text-gray-400"})},g=(v,p)=>{if(p==null||p==="")return"-";if(v==="valorUnitario"||v==="total"){const y=Number(p);return isNaN(y)?String(p):`$${y.toLocaleString("en-US",{minimumFractionDigits:2})}`}return String(p)};return G.jsxs(Wf,{isOpen:r,onClose:t,title:"Historial de Cambios",size:"lg",children:[e&&G.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:G.jsx(Zl,{className:"w-5 h-5 text-primary-600"})}),G.jsxs("div",{children:[G.jsx("div",{className:"font-mono font-semibold text-gray-800",children:e.codigoBaader}),G.jsx("div",{className:"text-sm text-gray-500",children:e.textoBreve||e.descripcion})]})]})}),o?G.jsx("div",{className:"flex items-center justify-center py-12",children:G.jsx("div",{className:"spinner"})}):s.length===0?G.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[G.jsx(l8,{className:"w-16 h-16 mb-4 opacity-30"}),G.jsx("p",{className:"text-lg font-medium",children:"No hay cambios registrados"}),G.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Los cambios aparecern aqu cuando edites este repuesto"})]}):G.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:a.map(v=>G.jsxs("div",{children:[G.jsx("div",{className:"sticky top-0 bg-white py-2 z-10",children:G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("div",{className:"flex-1 h-px bg-gray-200"}),G.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2",children:v.fecha}),G.jsx("div",{className:"flex-1 h-px bg-gray-200"})]})}),G.jsxs("div",{className:"relative pl-6",children:[G.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),G.jsx("div",{className:"space-y-3",children:v.items.map(p=>G.jsxs("div",{className:"relative",children:[G.jsx("div",{className:`absolute -left-4 top-3 w-3 h-3 rounded-full border-2 bg-white ${p.campo==="creacion"?"border-purple-500":"border-primary-500"}`}),G.jsxs("div",{className:`rounded-lg border p-3 ${f(p.campo)}`,children:[G.jsxs("div",{className:"flex items-start justify-between mb-2",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[d(p.campo),G.jsx("span",{className:"font-medium text-sm",children:c(p.campo)}),h(p)]}),G.jsx("span",{className:"text-xs opacity-70",children:l(p.fecha)})]}),p.campo==="creacion"?G.jsx("div",{className:"text-sm",children:"Repuesto creado"}):G.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[G.jsx("span",{className:"px-2 py-0.5 bg-white/50 rounded line-through opacity-70",children:g(p.campo,p.valorAnterior)}),G.jsx(mR,{className:"w-4 h-4 opacity-50"}),G.jsx("span",{className:"px-2 py-0.5 bg-white/70 rounded font-medium",children:g(p.campo,p.valorNuevo)})]})]})]},p.id))})]})]},v.fecha))}),s.length>0&&G.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:G.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[s.length," cambio",s.length!==1?"s":""," registrado",s.length!==1?"s":""]})})]})}function ZR({isOpen:r,onClose:t,onConfirm:e,repuesto:n,loading:s}){return G.jsx(Wf,{isOpen:r,onClose:t,size:"sm",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:G.jsx(rv,{className:"w-6 h-6 text-red-600"})}),G.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Eliminar repuesto?"}),G.jsx("p",{className:"text-gray-600 mb-2",children:"Ests por eliminar el repuesto:"}),G.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[G.jsx("p",{className:"font-mono text-sm text-primary-600",children:n==null?void 0:n.codigoBaader}),G.jsx("p",{className:"text-sm text-gray-700 truncate",children:n==null?void 0:n.textoBreve})]}),G.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta accin no se puede deshacer."}),G.jsxs("div",{className:"flex gap-3",children:[G.jsx(ks,{variant:"secondary",onClick:t,className:"flex-1",children:"Cancelar"}),G.jsx(ks,{variant:"danger",onClick:e,loading:s,icon:G.jsx(xf,{className:"w-4 h-4"}),className:"flex-1",children:"Eliminar"})]})]})})}function JR({isOpen:r,onClose:t,repuestos:e,onRenameTag:n,onDeleteTag:s}){const{tags:i,addTag:o,removeTag:u,renameTag:a,loading:l}=d8(),[c,d]=Le.useState("en-uso"),[f,h]=Le.useState(null),[g,v]=Le.useState(""),[p,y]=Le.useState(null),[m,b]=Le.useState(!1),[k,N]=Le.useState(null),[F,j]=Le.useState(""),[T,M]=Le.useState(!1),B=Le.useMemo(()=>{const C=new Map;return e.forEach(q=>{var P;(P=q.tags)==null||P.forEach(H=>{C.set(H,(C.get(H)||0)+1)})}),Array.from(C.entries()).map(([q,P])=>({name:q,count:P})).sort((q,P)=>q.name.localeCompare(P.name))},[e]),O=C=>{h(C),v(C),N(null)},R=()=>{h(null),v("")},E=async(C=!1)=>{if(!f||!g.trim())return;const q=g.trim();if(q===f){R();return}const P=B.some(X=>X.name.toLowerCase()===q.toLowerCase()&&X.name!==f),H=i.some(X=>X.toLowerCase()===q.toLowerCase()&&X!==f);if(P||H){N({type:"error",text:"Ya existe un tag con ese nombre"});return}b(!0);try{if(C)await a(f,q),N({type:"success",text:"Tag predefinido actualizado"});else{const X=await n(f,q);await a(f,q),N({type:"success",text:`Tag renombrado en ${X} repuesto(s)`})}R()}catch{N({type:"error",text:"Error al renombrar el tag"})}finally{b(!1)}},I=C=>{y(C),N(null)},A=()=>{y(null)},w=async(C=!1)=>{if(p){b(!0);try{if(C)await u(p),N({type:"success",text:"Tag eliminado de la lista predefinida"});else{const q=await s(p);await u(p),N({type:"success",text:`Tag eliminado de ${q} repuesto(s)`})}y(null)}catch{N({type:"error",text:"Error al eliminar el tag"})}finally{b(!1)}}},_=async()=>{const C=F.trim();if(!C)return;const q=B.some(H=>H.name.toLowerCase()===C.toLowerCase()),P=i.some(H=>H.toLowerCase()===C.toLowerCase());if(q||P){N({type:"error",text:"Ya existe un tag con ese nombre"});return}b(!0);try{await o(C),j(""),M(!1),N({type:"success",text:"Tag agregado a la lista predefinida"})}catch{N({type:"error",text:"Error al agregar el tag"})}finally{b(!1)}},x=async C=>{if(i.includes(C)){N({type:"error",text:"Este tag ya est en la lista predefinida"});return}b(!0);try{await o(C),N({type:"success",text:"Tag agregado a la lista predefinida"})}catch{N({type:"error",text:"Error al agregar el tag"})}finally{b(!1)}};if(!r)return null;const S=(C,q,P,H)=>f===C?G.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[G.jsx("input",{type:"text",value:g,onChange:X=>v(X.target.value),className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&E(P),X.key==="Escape"&&R()}}),G.jsx("button",{onClick:()=>E(P),disabled:m,className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Guardar",children:G.jsx(ws,{className:"w-4 h-4"})}),G.jsx("button",{onClick:R,disabled:m,className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:G.jsx(bi,{className:"w-4 h-4"})})]}):p===C?G.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[G.jsx(rv,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),G.jsxs("span",{className:"text-sm text-gray-700",children:['Eliminar "',C,'"?']}),G.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[G.jsx("button",{onClick:()=>w(P),disabled:m,className:"px-3 py-1.5 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Eliminar"}),G.jsx("button",{onClick:A,disabled:m,className:"px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"})]})]}):G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx(Jl,{className:"w-4 h-4 text-primary-500"}),G.jsx("span",{className:"font-medium text-gray-800",children:C}),q!==null&&G.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:[q," repuesto",q!==1?"s":""]}),H&&q!==null&&G.jsx("span",{className:"text-xs text-primary-600 bg-primary-100 px-2 py-0.5 rounded-full",children:"predefinido"})]}),G.jsxs("div",{className:"flex items-center gap-1",children:[q!==null&&!H&&G.jsx("button",{onClick:()=>x(C),disabled:m,className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Agregar a predefinidos",children:G.jsx(_f,{className:"w-4 h-4"})}),G.jsx("button",{onClick:()=>O(C),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Editar",children:G.jsx(U1,{className:"w-4 h-4"})}),G.jsx("button",{onClick:()=>I(C),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Eliminar",children:G.jsx(xf,{className:"w-4 h-4"})})]})]});return G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:C=>{var q;C.target===C.currentTarget&&!((q=window.getSelection())!=null&&q.toString())&&t()},children:G.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 max-h-[85vh] overflow-hidden flex flex-col",onClick:C=>C.stopPropagation(),children:[G.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[G.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[G.jsx(Jl,{className:"w-5 h-5 text-primary-600"}),"Gestionar Tags"]}),G.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:G.jsx(bi,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"flex border-b border-gray-200 flex-shrink-0",children:[G.jsxs("button",{onClick:()=>d("en-uso"),className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${c==="en-uso"?"text-primary-600 border-b-2 border-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[G.jsx(ER,{className:"w-4 h-4"}),"En Uso (",B.length,")"]}),G.jsxs("button",{onClick:()=>d("predefinidos"),className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${c==="predefinidos"?"text-primary-600 border-b-2 border-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[G.jsx(z1,{className:"w-4 h-4"}),"Predefinidos (",i.length,")"]})]}),k&&G.jsx("div",{className:`px-5 py-3 flex-shrink-0 ${k.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:k.text}),G.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:c==="en-uso"?B.length===0?G.jsxs("div",{className:"text-center py-8 text-gray-500",children:[G.jsx(Jl,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),G.jsx("p",{children:"No hay tags en uso"}),G.jsx("p",{className:"text-sm",children:"Los tags se crean al asignarlos a los repuestos"})]}):G.jsx("div",{className:"space-y-2",children:B.map(({name:C,count:q})=>G.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:S(C,q,!1,i.includes(C))},C))}):G.jsxs("div",{className:"space-y-4",children:[T?G.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary-50 rounded-lg border border-primary-200",children:[G.jsx("input",{type:"text",value:F,onChange:C=>j(C.target.value),placeholder:"Nombre del nuevo tag...",className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:C=>{C.key==="Enter"&&_(),C.key==="Escape"&&(M(!1),j(""))}}),G.jsx("button",{onClick:_,disabled:m||!F.trim(),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50",title:"Guardar",children:G.jsx(ws,{className:"w-4 h-4"})}),G.jsx("button",{onClick:()=>{M(!1),j("")},className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:G.jsx(bi,{className:"w-4 h-4"})})]}):G.jsxs("button",{onClick:()=>M(!0),className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-primary-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",children:[G.jsx(_f,{className:"w-4 h-4"}),"Agregar nuevo tag predefinido"]}),l?G.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando tags..."}):i.length===0?G.jsxs("div",{className:"text-center py-8 text-gray-500",children:[G.jsx(z1,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),G.jsx("p",{children:"No hay tags predefinidos"}),G.jsx("p",{className:"text-sm",children:"Agrega tags para usarlos rpidamente"})]}):G.jsx("div",{className:"space-y-2",children:i.map(C=>{const q=B.find(P=>P.name===C);return G.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border ${q?"bg-primary-50 border-primary-200":"bg-gray-50 border-gray-200"}`,children:S(C,(q==null?void 0:q.count)??null,!q,!0)},C)})})]})}),G.jsx("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:G.jsx("p",{className:"text-xs text-gray-500",children:c==="en-uso"?"Edita o elimina tags de los repuestos. Usa + para agregar a predefinidos.":"Administra los tags predefinidos que aparecern para seleccin rpida."})})]})})}const Iw=[{label:"Mxima",value:.95,description:"Sin prdida visible, mayor tamao"},{label:"Alta",value:.85,description:"Excelente calidad, buen balance"},{label:"Media",value:.7,description:"Buena calidad, archivo ms pequeo"},{label:"Baja",value:.5,description:"Calidad aceptable, muy comprimido"},{label:"Mnima",value:.3,description:"Solo para previsualizaciones"}];async function Rw(r,t=.85,e=1920,n=1920){return new Promise((s,i)=>{const o=new Image,u=document.createElement("canvas"),a=u.getContext("2d");o.onload=()=>{let{width:c,height:d}=o;if(c>e&&(d=d*e/c,c=e),d>n&&(c=c*n/d,d=n),u.width=c,u.height=d,!a){i(new Error("No se pudo crear contexto de canvas"));return}a.drawImage(o,0,0,c,d),u.toBlob(f=>{if(!f){i(new Error("No se pudo convertir la imagen"));return}const h=r.name.replace(/\.[^.]+$/,""),g=new File([f],`${h}.webp`,{type:"image/webp",lastModified:Date.now()});s(g)},"image/webp",t)},o.onerror=()=>{i(new Error("Error al cargar la imagen"))};const l=new FileReader;l.onload=c=>{var d;o.src=(d=c.target)==null?void 0:d.result},l.onerror=()=>i(new Error("Error al leer el archivo")),l.readAsDataURL(r)})}function Mw(r){return r<1024?`${r} B`:r<1024*1024?`${(r/1024).toFixed(1)} KB`:`${(r/(1024*1024)).toFixed(2)} MB`}async function eM(r){return r?new Promise(t=>{const e=new Image;e.crossOrigin="anonymous";const n=setTimeout(()=>{console.warn("Timeout cargando imagen:",r.substring(0,50)+"..."),t(null)},15e3);e.onload=()=>{clearTimeout(n);try{const s=e.naturalWidth||e.width||200,i=e.naturalHeight||e.height||200;if(s===0||i===0){console.warn("Imagen con dimensiones 0"),t(null);return}const o=document.createElement("canvas");o.width=s,o.height=i;const u=o.getContext("2d");if(u){u.drawImage(e,0,0);const a=o.toDataURL("image/jpeg",.85);t({base64:a,width:s,height:i})}else console.warn("No se pudo obtener context 2d"),t(null)}catch(s){console.error("Error en canvas:",s),t(null)}},e.onerror=s=>{clearTimeout(n),console.warn("Error cargando imagen (onerror):",s),tM(r).then(t)},e.src=r}):(console.warn("URL vaca proporcionada"),null)}async function tM(r){try{const t=await fetch(r,{mode:"cors",credentials:"omit"});if(!t.ok)return console.warn("Fetch failed:",t.status),null;const e=await t.blob();return new Promise(n=>{const s=new FileReader;s.onloadend=()=>{const i=s.result,o=new Image;o.onload=()=>{n({base64:i,width:o.naturalWidth||200,height:o.naturalHeight||200})},o.onerror=()=>n({base64:i,width:200,height:200}),o.src=i},s.onerror=()=>n(null),s.readAsDataURL(e)})}catch(t){return console.error("Error en fetch:",t),null}}async function rM(r){const t=new Map,e=new Set;for(const u of r){for(const a of u.imagenesManual)a.url&&e.add(a.url);for(const a of u.fotosReales)a.url&&e.add(a.url)}console.log("URLs de imgenes encontradas:",e.size);const n=Array.from(e),s=3;let i=0,o=0;for(let u=0;u<n.length;u+=s){const a=n.slice(u,u+s),l=await Promise.all(a.map(async c=>{console.log("Procesando imagen:",c.substring(0,60)+"...");const d=await eM(c);return d?(console.log(` Imagen OK (${d.width}x${d.height})`),i++):(console.log(" Imagen fall"),o++),{url:c,data:d}}));for(const{url:c,data:d}of l)d&&t.set(c,d)}return console.log(`Imgenes convertidas: ${i} xito, ${o} fallos`),t}function nM({isOpen:r,onClose:t,file:e,onConfirm:n}){const[s,i]=Le.useState(Iw[1]),[o,u]=Le.useState(null),[a,l]=Le.useState(0),[c,d]=Le.useState(0),[f,h]=Le.useState(!1),[g,v]=Le.useState(!1);Le.useEffect(()=>{if(!e||!r)return;l(e.size);const m=new FileReader;m.onload=b=>{var k;u((k=b.target)==null?void 0:k.result)},m.readAsDataURL(e)},[e,r]),Le.useEffect(()=>{if(!e||!r)return;(async()=>{v(!0);try{const b=await Rw(e,s.value);d(b.size)}catch(b){console.error("Error estimando tamao:",b),d(0)}finally{v(!1)}})()},[e,s,r]);const p=async()=>{if(e){h(!0);try{const m=await Rw(e,s.value);n(m),t()}catch(m){console.error("Error optimizando imagen:",m)}finally{h(!1)}}},y=a>0&&c>0?Math.round((1-c/a)*100):0;return!r||!e?null:G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t,children:G.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",onClick:m=>m.stopPropagation(),children:[G.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-primary-50 to-white",children:[G.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[G.jsx(h8,{className:"w-5 h-5 text-primary-600"}),"Optimizar Imagen"]}),G.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:G.jsx(bi,{className:"w-5 h-5"})})]}),G.jsx("div",{className:"p-4 bg-gray-100 flex justify-center",children:o?G.jsx("img",{src:o,alt:"Preview",className:"max-h-40 max-w-full object-contain rounded-lg shadow"}):G.jsx("div",{className:"h-40 w-40 bg-gray-200 rounded-lg flex items-center justify-center",children:G.jsx(Ql,{className:"w-8 h-8 animate-spin text-gray-400"})})}),G.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-200",children:[G.jsxs("div",{className:"flex items-center justify-between text-sm",children:[G.jsx("span",{className:"text-gray-600",children:"Archivo original:"}),G.jsx("span",{className:"font-medium text-gray-800",children:e.name})]}),G.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[G.jsx("span",{className:"text-gray-600",children:"Tamao original:"}),G.jsx("span",{className:"font-medium text-gray-800",children:Mw(a)})]})]}),G.jsxs("div",{className:"p-5",children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecciona la calidad de compresin:"}),G.jsx("div",{className:"space-y-2",children:Iw.map(m=>G.jsxs("button",{onClick:()=>i(m),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${s.value===m.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[G.jsx("div",{className:"flex items-center justify-between",children:G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.value===m.value?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:s.value===m.value&&G.jsx(ws,{className:"w-3 h-3 text-white"})}),G.jsxs("div",{children:[G.jsx("span",{className:"font-medium text-gray-800",children:m.label}),G.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Math.round(m.value*100),"%)"]})]})]})}),G.jsx("p",{className:"text-xs text-gray-500 ml-8 mt-1",children:m.description})]},m.value))})]}),G.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-gray-200",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{children:[G.jsx("span",{className:"text-sm text-gray-600",children:"Tamao final (WebP):"}),g?G.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[G.jsx(Ql,{className:"w-4 h-4 animate-spin text-gray-400"}),G.jsx("span",{className:"text-sm text-gray-500",children:"Calculando..."})]}):G.jsx("p",{className:"text-lg font-bold text-green-600",children:Mw(c)})]}),!g&&y>0&&G.jsxs("div",{className:"text-right",children:[G.jsx("span",{className:"text-sm text-gray-600",children:"Ahorro:"}),G.jsxs("p",{className:"text-lg font-bold text-green-600",children:[y,"%"]})]})]})}),G.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex gap-3",children:[G.jsx("button",{onClick:t,disabled:f,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),G.jsx("button",{onClick:p,disabled:f||g,className:"flex-1 px-4 py-2.5 text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center gap-2",children:f?G.jsxs(G.Fragment,{children:[G.jsx(Ql,{className:"w-4 h-4 animate-spin"}),"Procesando..."]}):G.jsxs(G.Fragment,{children:[G.jsx(ws,{className:"w-4 h-4"}),"Subir Optimizada"]})})]})]})})}var Es=function(r,t){return Number(r.toFixed(t))},iM=function(r,t){return t},an=function(r,t,e){e&&typeof e=="function"&&e(r,t)},sM=function(r){return-Math.cos(r*Math.PI)/2+.5},oM=function(r){return r},aM=function(r){return r*r},lM=function(r){return r*(2-r)},uM=function(r){return r<.5?2*r*r:-1+(4-2*r)*r},cM=function(r){return r*r*r},hM=function(r){return--r*r*r+1},fM=function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},dM=function(r){return r*r*r*r},pM=function(r){return 1- --r*r*r*r},mM=function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},gM=function(r){return r*r*r*r*r},yM=function(r){return 1+--r*r*r*r*r},vM=function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r},p8={easeOut:sM,linear:oM,easeInQuad:aM,easeOutQuad:lM,easeInOutQuad:uM,easeInCubic:cM,easeOutCubic:hM,easeInOutCubic:fM,easeInQuart:dM,easeOutQuart:pM,easeInOutQuart:mM,easeInQuint:gM,easeOutQuint:yM,easeInOutQuint:vM},m8=function(r){typeof r=="number"&&cancelAnimationFrame(r)},$s=function(r){r.mounted&&(m8(r.animation),r.animate=!1,r.animation=null,r.velocity=null)};function g8(r,t,e,n){if(r.mounted){var s=new Date().getTime(),i=1;$s(r),r.animation=function(){if(!r.mounted)return m8(r.animation);var o=new Date().getTime()-s,u=o/e,a=p8[t],l=a(u);o>=e?(n(i),r.animation=null):r.animation&&(n(l),requestAnimationFrame(r.animation))},requestAnimationFrame(r.animation)}}function bM(r){var t=r.scale,e=r.positionX,n=r.positionY;return!(Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(n))}function Sl(r,t,e,n){var s=bM(t);if(!(!r.mounted||!s)){var i=r.setTransformState,o=r.transformState,u=o.scale,a=o.positionX,l=o.positionY,c=t.scale-u,d=t.positionX-a,f=t.positionY-l;e===0?i(t.scale,t.positionX,t.positionY):g8(r,n,e,function(h){var g=u+c*h,v=a+d*h,p=l+f*h;i(g,v,p)})}}function wM(r,t,e){var n=r.offsetWidth,s=r.offsetHeight,i=t.offsetWidth,o=t.offsetHeight,u=i*e,a=o*e,l=n-u,c=s-a;return{wrapperWidth:n,wrapperHeight:s,newContentWidth:u,newDiffWidth:l,newContentHeight:a,newDiffHeight:c}}var _M=function(r,t,e,n,s,i,o){var u=r>t?e*(o?1:.5):0,a=n>s?i*(o?1:.5):0,l=r-t-u,c=u,d=n-s-a,f=a;return{minPositionX:l,maxPositionX:c,minPositionY:d,maxPositionY:f}},iv=function(r,t){var e=r.wrapperComponent,n=r.contentComponent,s=r.setup.centerZoomedOut;if(!e||!n)throw new Error("Components are not mounted");var i=wM(e,n,t),o=i.wrapperWidth,u=i.wrapperHeight,a=i.newContentWidth,l=i.newDiffWidth,c=i.newContentHeight,d=i.newDiffHeight,f=_M(o,a,l,u,c,d,!!s);return f},q1=function(r,t,e,n){return n?r<t?Es(t,2):r>e?Es(e,2):Es(r,2):Es(r,2)},eu=function(r,t){var e=iv(r,t);return r.bounds=e,e};function Xf(r,t,e,n,s,i,o){var u=e.minPositionX,a=e.minPositionY,l=e.maxPositionX,c=e.maxPositionY,d=0,f=0;o&&(d=s,f=i);var h=q1(r,u-d,l+d,n),g=q1(t,a-f,c+f,n);return{x:h,y:g}}function Gm(r,t,e,n,s,i){var o=r.transformState,u=o.scale,a=o.positionX,l=o.positionY,c=n-u;if(typeof t!="number"||typeof e!="number")return console.error("Mouse X and Y position were not provided!"),{x:a,y:l};var d=a-t*c,f=l-e*c,h=Xf(d,f,s,i,0,0,null);return h}function Gf(r,t,e,n,s){var i=s?n:0,o=t-i;return!Number.isNaN(e)&&r>=e?e:!Number.isNaN(t)&&r<=o?o:r}var jw=function(r,t){var e=r.setup.panning.excluded,n=r.isInitialized,s=r.wrapperComponent,i=t.target,o="shadowRoot"in i&&"composedPath"in t,u=o?t.composedPath().some(function(c){return c instanceof Element?s==null?void 0:s.contains(c):!1}):s==null?void 0:s.contains(i),a=n&&i&&u;if(!a)return!1;var l=Km(i,e);return!l},Lw=function(r){var t=r.isInitialized,e=r.isPanning,n=r.setup,s=n.panning.disabled,i=t&&e&&!s;return!!i},xM=function(r,t){var e=r.transformState,n=e.positionX,s=e.positionY;r.isPanning=!0;var i=t.clientX,o=t.clientY;r.startCoords={x:i-n,y:o-s}},SM=function(r,t){var e=t.touches,n=r.transformState,s=n.positionX,i=n.positionY;r.isPanning=!0;var o=e.length===1;if(o){var u=e[0].clientX,a=e[0].clientY;r.startCoords={x:u-s,y:a-i}}};function kM(r){var t=r.transformState,e=t.positionX,n=t.positionY,s=t.scale,i=r.setup,o=i.disabled,u=i.limitToBounds,a=i.centerZoomedOut,l=r.wrapperComponent;if(!(o||!l||!r.bounds)){var c=r.bounds,d=c.maxPositionX,f=c.minPositionX,h=c.maxPositionY,g=c.minPositionY,v=e>d||e<f,p=n>h||n<g,y=e>d?l.offsetWidth:r.setup.minPositionX||0,m=n>h?l.offsetHeight:r.setup.minPositionY||0,b=Gm(r,y,m,s,r.bounds,u||a),k=b.x,N=b.y;return{scale:s,positionX:v?k:e,positionY:p?N:n}}}function y8(r,t,e,n,s){var i=r.setup.limitToBounds,o=r.wrapperComponent,u=r.bounds,a=r.transformState,l=a.scale,c=a.positionX,d=a.positionY;if(!(o===null||u===null||t===c&&e===d)){var f=Xf(t,e,u,i,n,s,o),h=f.x,g=f.y;r.setTransformState(l,h,g)}}var EM=function(r,t,e){var n=r.startCoords,s=r.transformState,i=r.setup.panning,o=i.lockAxisX,u=i.lockAxisY,a=s.positionX,l=s.positionY;if(!n)return{x:a,y:l};var c=t-n.x,d=e-n.y,f=o?a:c,h=u?l:d;return{x:f,y:h}},pl=function(r,t){var e=r.setup,n=r.transformState,s=n.scale,i=e.minScale,o=e.disablePadding;return t>0&&s>=i&&!o?t:0},AM=function(r){var t=r.mounted,e=r.setup,n=e.disabled,s=e.velocityAnimation,i=r.transformState.scale,o=s.disabled,u=!o||i>1||!n||t;return!!u},TM=function(r){var t=r.mounted,e=r.velocity,n=r.bounds,s=r.setup,i=s.disabled,o=s.velocityAnimation,u=r.transformState.scale,a=o.disabled,l=!a||u>1||!i||t;return!(!l||!e||!n)};function CM(r,t){var e=r.setup.velocityAnimation,n=e.equalToMove,s=e.animationTime,i=e.sensitivity;return n?s*t*i:s}function Ow(r,t,e,n,s,i,o,u,a,l){if(s){if(t>o&&e>o){var c=o+(r-o)*l;return c>a?a:c<o?o:c}if(t<i&&e<i){var c=i+(r-i)*l;return c<u?u:c>i?i:c}}return n?t:q1(r,i,o,s)}function NM(r,t){var e=1;return t?Math.min(e,r.offsetWidth/window.innerWidth):e}function PM(r,t){var e=AM(r);if(e){var n=r.lastMousePosition,s=r.velocityTime,i=r.setup,o=r.wrapperComponent,u=i.velocityAnimation.equalToMove,a=Date.now();if(n&&s&&o){var l=NM(o,u),c=t.x-n.x,d=t.y-n.y,f=c/l,h=d/l,g=a-s,v=c*c+d*d,p=Math.sqrt(v)/g;r.velocity={velocityX:f,velocityY:h,total:p}}r.lastMousePosition=t,r.velocityTime=a}}function IM(r){var t=r.velocity,e=r.bounds,n=r.setup,s=r.wrapperComponent,i=TM(r);if(!(!i||!t||!e||!s)){var o=t.velocityX,u=t.velocityY,a=t.total,l=e.maxPositionX,c=e.minPositionX,d=e.maxPositionY,f=e.minPositionY,h=n.limitToBounds,g=n.alignmentAnimation,v=n.zoomAnimation,p=n.panning,y=p.lockAxisY,m=p.lockAxisX,b=v.animationType,k=g.sizeX,N=g.sizeY,F=g.velocityAlignmentTime,j=F,T=CM(r,a),M=Math.max(T,j),B=pl(r,k),O=pl(r,N),R=B*s.offsetWidth/100,E=O*s.offsetHeight/100,I=l+R,A=c-R,w=d+E,_=f-E,x=r.transformState,S=new Date().getTime();g8(r,b,M,function(C){var q=r.transformState,P=q.scale,H=q.positionX,X=q.positionY,Z=new Date().getTime()-S,V=Z/j,Q=p8[g.animationType],z=1-Q(Math.min(1,V)),D=1-C,W=H+o*D,ee=X+u*D,oe=Ow(W,x.positionX,H,m,h,c,l,A,I,z),ie=Ow(ee,x.positionY,X,y,h,f,d,_,w,z);(H!==W||X!==ee)&&r.setTransformState(P,oe,ie)})}}function Dw(r,t){var e=r.transformState.scale;$s(r),eu(r,e),window.TouchEvent!==void 0&&t instanceof TouchEvent?SM(r,t):xM(r,t)}function sv(r,t){var e=r.transformState.scale,n=r.setup,s=n.minScale,i=n.alignmentAnimation,o=i.disabled,u=i.sizeX,a=i.sizeY,l=i.animationTime,c=i.animationType,d=o||e<s||!u&&!a;if(!d){var f=kM(r);f&&Sl(r,f,t??l,c)}}function Fw(r,t,e){var n=r.startCoords,s=r.setup,i=s.alignmentAnimation,o=i.sizeX,u=i.sizeY;if(n){var a=EM(r,t,e),l=a.x,c=a.y,d=pl(r,o),f=pl(r,u);PM(r,{x:l,y:c}),y8(r,l,c,d,f)}}function RM(r){if(r.isPanning){var t=r.setup.panning.velocityDisabled,e=r.velocity,n=r.wrapperComponent,s=r.contentComponent;r.isPanning=!1,r.animate=!1,r.animation=null;var i=n==null?void 0:n.getBoundingClientRect(),o=s==null?void 0:s.getBoundingClientRect(),u=(i==null?void 0:i.width)||0,a=(i==null?void 0:i.height)||0,l=(o==null?void 0:o.width)||0,c=(o==null?void 0:o.height)||0,d=u<l||a<c,f=!t&&e&&(e==null?void 0:e.total)>.1&&d;f?IM(r):sv(r)}}function ov(r,t,e,n){var s=r.setup,i=s.minScale,o=s.maxScale,u=s.limitToBounds,a=Gf(Es(t,2),i,o,0,!1),l=eu(r,a),c=Gm(r,e,n,a,l,u),d=c.x,f=c.y;return{scale:a,positionX:d,positionY:f}}function v8(r,t,e){var n=r.transformState.scale,s=r.wrapperComponent,i=r.setup,o=i.minScale,u=i.limitToBounds,a=i.zoomAnimation,l=a.disabled,c=a.animationTime,d=a.animationType,f=l||n>=o;if((n>=1||u)&&sv(r),!(f||!s||!r.mounted)){var h=t||s.offsetWidth/2,g=e||s.offsetHeight/2,v=ov(r,o,h,g);v&&Sl(r,v,c,d)}}var sl=function(){return sl=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sl.apply(this,arguments)};function Bw(r,t,e){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return r.concat(i||Array.prototype.slice.call(t))}var Xd={scale:1,positionX:0,positionY:0},ph={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},H1={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},b8=function(r){var t,e,n,s;return{previousScale:(t=r.initialScale)!==null&&t!==void 0?t:Xd.scale,scale:(e=r.initialScale)!==null&&e!==void 0?e:Xd.scale,positionX:(n=r.initialPositionX)!==null&&n!==void 0?n:Xd.positionX,positionY:(s=r.initialPositionY)!==null&&s!==void 0?s:Xd.positionY}},Uw=function(r){var t=sl({},ph);return Object.keys(r).forEach(function(e){var n=typeof r[e]<"u",s=typeof ph[e]<"u";if(s&&n){var i=Object.prototype.toString.call(ph[e]),o=i==="[object Object]",u=i==="[object Array]";o?t[e]=sl(sl({},ph[e]),r[e]):u?t[e]=Bw(Bw([],ph[e],!0),r[e]):t[e]=r[e]}}),t},w8=function(r,t,e){var n=r.transformState.scale,s=r.wrapperComponent,i=r.setup,o=i.maxScale,u=i.minScale,a=i.zoomAnimation,l=i.smooth,c=a.size;if(!s)throw new Error("Wrapper is not mounted");var d=l?n*Math.exp(t*e):n+t*e,f=Gf(Es(d,3),u,o,c,!1);return f};function _8(r,t,e,n,s){var i=r.wrapperComponent,o=r.transformState,u=o.scale,a=o.positionX,l=o.positionY;if(!i)return console.error("No WrapperComponent found");var c=i.offsetWidth,d=i.offsetHeight,f=(c/2-a)/u,h=(d/2-l)/u,g=w8(r,t,e),v=ov(r,g,f,h);if(!v)return console.error("Error during zoom event. New transformation state was not calculated.");Sl(r,v,n,s)}function x8(r,t,e,n){var s=r.setup,i=r.wrapperComponent,o=s.limitToBounds,u=b8(r.props),a=r.transformState,l=a.scale,c=a.positionX,d=a.positionY;if(i){var f=iv(r,u.scale),h=Xf(u.positionX,u.positionY,f,o,0,0,i),g={scale:u.scale,positionX:h.x,positionY:h.y};l===u.scale&&c===u.positionX&&d===u.positionY||(n==null||n(),Sl(r,g,t,e))}}function MM(r,t,e,n){var s=r.getBoundingClientRect(),i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),u=i.x*n.scale,a=i.y*n.scale;return{x:(s.x-o.x+u)/n.scale,y:(s.y-o.y+a)/n.scale}}function jM(r,t,e){var n=r.wrapperComponent,s=r.contentComponent,i=r.transformState,o=r.setup,u=o.limitToBounds,a=o.minScale,l=o.maxScale;if(!n||!s)return i;var c=n.getBoundingClientRect(),d=t.getBoundingClientRect(),f=MM(t,n,s,i),h=f.x,g=f.y,v=d.width/i.scale,p=d.height/i.scale,y=n.offsetWidth/v,m=n.offsetHeight/p,b=Gf(e||Math.min(y,m),a,l,0,!1),k=(c.width-v*b)/2,N=(c.height-p*b)/2,F=(c.left-h)*b+k,j=(c.top-g)*b+N,T=iv(r,b),M=Xf(F,j,T,u,0,0,n),B=M.x,O=M.y;return{positionX:B,positionY:O,scale:b}}var LM=function(r){return function(t,e,n){t===void 0&&(t=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),_8(r,1,t,e,n)}},OM=function(r){return function(t,e,n){t===void 0&&(t=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),_8(r,-1,t,e,n)}},DM=function(r){return function(t,e,n,s,i){s===void 0&&(s=300),i===void 0&&(i="easeOut");var o=r.transformState,u=o.positionX,a=o.positionY,l=o.scale,c=r.wrapperComponent,d=r.contentComponent,f=r.setup.disabled;if(!(f||!c||!d)){var h={positionX:Number.isNaN(t)?u:t,positionY:Number.isNaN(e)?a:e,scale:Number.isNaN(n)?l:n};Sl(r,h,s,i)}}},FM=function(r){return function(t,e){t===void 0&&(t=200),e===void 0&&(e="easeOut"),x8(r,t,e)}},BM=function(r){return function(t,e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut");var s=r.transformState,i=r.wrapperComponent,o=r.contentComponent;if(i&&o){var u=S8(t||s.scale,i,o);Sl(r,u,e,n)}}},UM=function(r){return function(t,e,n,s){n===void 0&&(n=600),s===void 0&&(s="easeOut"),$s(r);var i=r.wrapperComponent,o=typeof t=="string"?document.getElementById(t):t;if(i&&o&&i.contains(o)){var u=jM(r,o,e);Sl(r,u,n,s)}}},$1=function(r){return{instance:r,zoomIn:LM(r),zoomOut:OM(r),setTransform:DM(r),resetTransform:FM(r),centerView:BM(r),zoomToElement:UM(r)}},zM=function(r){return{instance:r,state:r.transformState}},Qr=function(r){var t={};return Object.assign(t,zM(r)),Object.assign(t,$1(r)),t},lg=!1;function ug(){try{var r={get passive(){return lg=!0,!1}};return r}catch{return lg=!1,lg}}var Gd=".".concat(H1.wrapperClass),Km=function(r,t){return t.some(function(e){return r.matches("".concat(Gd," ").concat(e,", ").concat(Gd," .").concat(e,", ").concat(Gd," ").concat(e," *, ").concat(Gd," .").concat(e," *"))})},W1=function(r){r&&clearTimeout(r)},VM=function(r,t,e){return"translate(".concat(r,"px, ").concat(t,"px) scale(").concat(e,")")},S8=function(r,t,e){var n=e.offsetWidth*r,s=e.offsetHeight*r,i=(t.offsetWidth-n)/2,o=(t.offsetHeight-s)/2;return{scale:r,positionX:i,positionY:o}};function qM(r){return function(t){r.forEach(function(e){typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var HM=function(r,t){var e=r.setup.wheel,n=e.disabled,s=e.wheelDisabled,i=e.touchPadDisabled,o=e.excluded,u=r.isInitialized,a=r.isPanning,l=t.target,c=u&&!a&&!n&&l;if(!c||s&&!t.ctrlKey||i&&t.ctrlKey)return!1;var d=Km(l,o);return!d},$M=function(r){return r?r.deltaY<0?1:-1:0};function WM(r,t){var e=$M(r),n=iM(t,e);return n}function k8(r,t,e){var n=t.getBoundingClientRect(),s=0,i=0;if("clientX"in r)s=(r.clientX-n.left)/e,i=(r.clientY-n.top)/e;else{var o=r.touches[0];s=(o.clientX-n.left)/e,i=(o.clientY-n.top)/e}return(Number.isNaN(s)||Number.isNaN(i))&&console.error("No mouse or touch offset found"),{x:s,y:i}}var XM=function(r,t,e,n,s){var i=r.transformState.scale,o=r.wrapperComponent,u=r.setup,a=u.maxScale,l=u.minScale,c=u.zoomAnimation,d=u.disablePadding,f=c.size,h=c.disabled;if(!o)throw new Error("Wrapper is not mounted");var g=i+t*e,v=n?!1:!h,p=Gf(Es(g,3),l,a,f,v&&!d);return p},GM=function(r,t){var e=r.previousWheelEvent,n=r.transformState.scale,s=r.setup,i=s.maxScale,o=s.minScale;return e?n<i||n>o||Math.sign(e.deltaY)!==Math.sign(t.deltaY)||e.deltaY>0&&e.deltaY<t.deltaY||e.deltaY<0&&e.deltaY>t.deltaY||Math.sign(e.deltaY)!==Math.sign(t.deltaY):!1},KM=function(r,t){var e=r.setup.pinch,n=e.disabled,s=e.excluded,i=r.isInitialized,o=t.target,u=i&&!n&&o;if(!u)return!1;var a=Km(o,s);return!a},YM=function(r){var t=r.setup.pinch.disabled,e=r.isInitialized,n=r.pinchStartDistance,s=e&&!t&&n;return!!s},QM=function(r,t,e){var n=e.getBoundingClientRect(),s=r.touches,i=Es(s[0].clientX-n.left,5),o=Es(s[0].clientY-n.top,5),u=Es(s[1].clientX-n.left,5),a=Es(s[1].clientY-n.top,5);return{x:(i+u)/2/t,y:(o+a)/2/t}},E8=function(r){return Math.sqrt(Math.pow(r.touches[0].pageX-r.touches[1].pageX,2)+Math.pow(r.touches[0].pageY-r.touches[1].pageY,2))},ZM=function(r,t){var e=r.pinchStartScale,n=r.pinchStartDistance,s=r.setup,i=s.maxScale,o=s.minScale,u=s.zoomAnimation,a=s.disablePadding,l=u.size,c=u.disabled;if(!e||n===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return r.transformState.scale;var d=t/n,f=d*e;return Gf(Es(f,2),o,i,l,!c&&!a)},JM=160,ej=100,tj=function(r,t){var e=r.props,n=e.onWheelStart,s=e.onZoomStart;r.wheelStopEventTimer||($s(r),an(Qr(r),t,n),an(Qr(r),t,s))},rj=function(r,t){var e=r.props,n=e.onWheel,s=e.onZoom,i=r.contentComponent,o=r.setup,u=r.transformState,a=u.scale,l=o.limitToBounds,c=o.centerZoomedOut,d=o.zoomAnimation,f=o.wheel,h=o.disablePadding,g=o.smooth,v=d.size,p=d.disabled,y=f.step,m=f.smoothStep;if(!i)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var b=WM(t,null),k=g?m*Math.abs(t.deltaY):y,N=XM(r,b,k,!t.ctrlKey);if(a!==N){var F=eu(r,N),j=k8(t,i,a),T=p||v===0||c||h,M=l&&T,B=Gm(r,j.x,j.y,N,F,M),O=B.x,R=B.y;r.previousWheelEvent=t,r.setTransformState(N,O,R),an(Qr(r),t,n),an(Qr(r),t,s)}},nj=function(r,t){var e=r.props,n=e.onWheelStop,s=e.onZoomStop;W1(r.wheelAnimationTimer),r.wheelAnimationTimer=setTimeout(function(){r.mounted&&(v8(r,t.x,t.y),r.wheelAnimationTimer=null)},ej);var i=GM(r,t);i&&(W1(r.wheelStopEventTimer),r.wheelStopEventTimer=setTimeout(function(){r.mounted&&(r.wheelStopEventTimer=null,an(Qr(r),t,n),an(Qr(r),t,s))},JM))},A8=function(r){for(var t=0,e=0,n=0;n<2;n+=1)t+=r.touches[n].clientX,e+=r.touches[n].clientY;var s=t/2,i=e/2;return{x:s,y:i}},ij=function(r,t){var e=E8(t);r.pinchStartDistance=e,r.lastDistance=e,r.pinchStartScale=r.transformState.scale,r.isPanning=!1;var n=A8(t);r.pinchLastCenterX=n.x,r.pinchLastCenterY=n.y,$s(r)},sj=function(r,t){var e=r.contentComponent,n=r.pinchStartDistance,s=r.wrapperComponent,i=r.transformState.scale,o=r.setup,u=o.limitToBounds,a=o.centerZoomedOut,l=o.zoomAnimation,c=o.alignmentAnimation,d=l.disabled,f=l.size;if(!(n===null||!e)){var h=QM(t,i,e);if(!(!Number.isFinite(h.x)||!Number.isFinite(h.y))){var g=E8(t),v=ZM(r,g),p=A8(t),y=p.x-(r.pinchLastCenterX||0),m=p.y-(r.pinchLastCenterY||0);if(!(v===i&&y===0&&m===0)){r.pinchLastCenterX=p.x,r.pinchLastCenterY=p.y;var b=eu(r,v),k=d||f===0||a,N=u&&k,F=Gm(r,h.x,h.y,v,b,N),j=F.x,T=F.y;r.pinchMidpoint=h,r.lastDistance=g;var M=c.sizeX,B=c.sizeY,O=pl(r,M),R=pl(r,B),E=j+y,I=T+m,A=Xf(E,I,b,u,O,R,s),w=A.x,_=A.y;r.setTransformState(v,w,_)}}}},oj=function(r){var t=r.pinchMidpoint;r.velocity=null,r.lastDistance=null,r.pinchMidpoint=null,r.pinchStartScale=null,r.pinchStartDistance=null,v8(r,t==null?void 0:t.x,t==null?void 0:t.y)},T8=function(r,t){var e=r.props.onZoomStop,n=r.setup.doubleClick.animationTime;W1(r.doubleClickStopEventTimer),r.doubleClickStopEventTimer=setTimeout(function(){r.doubleClickStopEventTimer=null,an(Qr(r),t,e)},n)},aj=function(r,t){var e=r.props,n=e.onZoomStart,s=e.onZoom,i=r.setup.doubleClick,o=i.animationTime,u=i.animationType;an(Qr(r),t,n),x8(r,o,u,function(){return an(Qr(r),t,s)}),T8(r,t)};function lj(r,t){return r==="toggle"?t===1?1:-1:r==="zoomOut"?-1:1}function uj(r,t){var e=r.setup,n=r.doubleClickStopEventTimer,s=r.transformState,i=r.contentComponent,o=s.scale,u=r.props,a=u.onZoomStart,l=u.onZoom,c=e.doubleClick,d=c.disabled,f=c.mode,h=c.step,g=c.animationTime,v=c.animationType;if(!d&&!n){if(f==="reset")return aj(r,t);if(!i)return console.error("No ContentComponent found");var p=lj(f,r.transformState.scale),y=w8(r,p,h);if(o!==y){an(Qr(r),t,a);var m=k8(t,i,o),b=ov(r,y,m.x,m.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");an(Qr(r),t,l),Sl(r,b,g,v),T8(r,t)}}}var cj=function(r,t){var e=r.isInitialized,n=r.setup,s=r.wrapperComponent,i=n.doubleClick,o=i.disabled,u=i.excluded,a=t.target,l=s==null?void 0:s.contains(a),c=e&&a&&l&&!o;if(!c)return!1;var d=Km(a,u);return!d},hj=function(){function r(t){var e=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(n){e.props=n,eu(e,e.transformState.scale),e.setup=Uw(n)},this.initializeWindowEvents=function(){var n,s,i=ug(),o=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,u=o==null?void 0:o.defaultView;(s=e.wrapperComponent)===null||s===void 0||s.addEventListener("wheel",e.onWheelPanning,i),u==null||u.addEventListener("mousedown",e.onPanningStart,i),u==null||u.addEventListener("mousemove",e.onPanning,i),u==null||u.addEventListener("mouseup",e.onPanningStop,i),o==null||o.addEventListener("mouseleave",e.clearPanning,i),u==null||u.addEventListener("keyup",e.setKeyUnPressed,i),u==null||u.addEventListener("keydown",e.setKeyPressed,i)},this.cleanupWindowEvents=function(){var n,s,i=ug(),o=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,u=o==null?void 0:o.defaultView;u==null||u.removeEventListener("mousedown",e.onPanningStart,i),u==null||u.removeEventListener("mousemove",e.onPanning,i),u==null||u.removeEventListener("mouseup",e.onPanningStop,i),o==null||o.removeEventListener("mouseleave",e.clearPanning,i),u==null||u.removeEventListener("keyup",e.setKeyUnPressed,i),u==null||u.removeEventListener("keydown",e.setKeyPressed,i),document.removeEventListener("mouseleave",e.clearPanning,i),$s(e),(s=e.observer)===null||s===void 0||s.disconnect()},this.handleInitializeWrapperEvents=function(n){var s=ug();n.addEventListener("wheel",e.onWheelZoom,s),n.addEventListener("dblclick",e.onDoubleClick,s),n.addEventListener("touchstart",e.onTouchPanningStart,s),n.addEventListener("touchmove",e.onTouchPanning,s),n.addEventListener("touchend",e.onTouchPanningStop,s)},this.handleInitialize=function(n,s){var i=!1,o=e.setup.centerOnInit,u=function(a,l){for(var c=0,d=a;c<d.length;c++){var f=d[c];if(f.target===l)return!0}return!1};e.applyTransformation(),e.onInitCallbacks.forEach(function(a){a(Qr(e))}),e.observer=new ResizeObserver(function(a){if(u(a,n)||u(a,s))if(o&&!i){var l=s.offsetWidth,c=s.offsetHeight;(l>0||c>0)&&(i=!0,e.setCenter())}else $s(e),eu(e,e.transformState.scale),sv(e,0)}),e.observer.observe(n),e.observer.observe(s)},this.onWheelZoom=function(n){var s=e.setup.disabled;if(!s){var i=HM(e,n);if(i){var o=e.isPressingKeys(e.setup.wheel.activationKeys);o&&(tj(e,n),rj(e,n),nj(e,n))}}},this.onWheelPanning=function(n){var s=e.setup,i=s.disabled,o=s.wheel,u=s.panning;if(!(!e.wrapperComponent||!e.contentComponent||i||!o.wheelDisabled||u.disabled||!u.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var a=e.transformState,l=a.positionX,c=a.positionY,d=l-n.deltaX,f=c-n.deltaY,h=u.lockAxisX?l:d,g=u.lockAxisY?c:f,v=e.setup.alignmentAnimation,p=v.sizeX,y=v.sizeY,m=pl(e,p),b=pl(e,y);h===l&&g===c||y8(e,h,g,m,b)}},this.onPanningStart=function(n){var s=e.setup.disabled,i=e.props.onPanningStart;if(!s){var o=jw(e,n);if(o){var u=e.isPressingKeys(e.setup.panning.activationKeys);u&&(n.button===0&&!e.setup.panning.allowLeftClickPan||n.button===1&&!e.setup.panning.allowMiddleClickPan||n.button===2&&!e.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),$s(e),Dw(e,n),an(Qr(e),n,i)))}}},this.onPanning=function(n){var s=e.setup.disabled,i=e.props.onPanning;if(!s){var o=Lw(e);if(o){var u=e.isPressingKeys(e.setup.panning.activationKeys);u&&(n.preventDefault(),n.stopPropagation(),Fw(e,n.clientX,n.clientY),an(Qr(e),n,i))}}},this.onPanningStop=function(n){var s=e.props.onPanningStop;e.isPanning&&(RM(e),an(Qr(e),n,s))},this.onPinchStart=function(n){var s=e.setup.disabled,i=e.props,o=i.onPinchingStart,u=i.onZoomStart;if(!s){var a=KM(e,n);a&&(ij(e,n),$s(e),an(Qr(e),n,o),an(Qr(e),n,u))}},this.onPinch=function(n){var s=e.setup.disabled,i=e.props,o=i.onPinching,u=i.onZoom;if(!s){var a=YM(e);a&&(n.preventDefault(),n.stopPropagation(),sj(e,n),an(Qr(e),n,o),an(Qr(e),n,u))}},this.onPinchStop=function(n){var s=e.props,i=s.onPinchingStop,o=s.onZoomStop;e.pinchStartScale&&(oj(e),an(Qr(e),n,i),an(Qr(e),n,o))},this.onTouchPanningStart=function(n){var s=e.setup.disabled,i=e.props.onPanningStart;if(!s){var o=jw(e,n);if(o){var u=e.lastTouch&&+new Date-e.lastTouch<200&&n.touches.length===1;if(!u){e.lastTouch=+new Date,$s(e);var a=n.touches,l=a.length===1,c=a.length===2;l&&($s(e),Dw(e,n),an(Qr(e),n,i)),c&&e.onPinchStart(n)}}}},this.onTouchPanning=function(n){var s=e.setup.disabled,i=e.props.onPanning;if(e.isPanning&&n.touches.length===1){if(s)return;var o=Lw(e);if(!o)return;n.preventDefault(),n.stopPropagation();var u=n.touches[0];Fw(e,u.clientX,u.clientY),an(Qr(e),n,i)}else n.touches.length>1&&e.onPinch(n)},this.onTouchPanningStop=function(n){e.onPanningStop(n),e.onPinchStop(n)},this.onDoubleClick=function(n){var s=e.setup.disabled;if(!s){var i=cj(e,n);i&&uj(e,n)}},this.clearPanning=function(n){e.isPanning&&e.onPanningStop(n)},this.setKeyPressed=function(n){e.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){e.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(s){return e.pressedKeys[s]}):!0},this.setTransformState=function(n,s,i){var o=e.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(s)&&!Number.isNaN(i)){n!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=n),e.transformState.positionX=s,e.transformState.positionY=i,e.applyTransformation();var u=Qr(e);e.onChangeCallbacks.forEach(function(a){return a(u)}),an(u,{scale:n,positionX:s,positionY:i},o)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var n=S8(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,s,i){return e.props.customTransform?e.props.customTransform(n,s,i):VM(n,s,i)},this.applyTransformation=function(){if(!(!e.mounted||!e.contentComponent)){var n=e.transformState,s=n.scale,i=n.positionX,o=n.positionY,u=e.handleTransformStyles(i,o,s);e.contentComponent.style.transform=u}},this.getContext=function(){return Qr(e)},this.onChange=function(n){return e.onChangeCallbacks.has(n)||e.onChangeCallbacks.add(n),function(){e.onChangeCallbacks.delete(n)}},this.onInit=function(n){return e.onInitCallbacks.has(n)||e.onInitCallbacks.add(n),function(){e.onInitCallbacks.delete(n)}},this.init=function(n,s){e.cleanupWindowEvents(),e.wrapperComponent=n,e.contentComponent=s,eu(e,e.transformState.scale),e.handleInitializeWrapperEvents(n),e.handleInitialize(n,s),e.initializeWindowEvents(),e.isInitialized=!0;var i=Qr(e);an(i,void 0,e.props.onInit)},this.props=t,this.setup=Uw(this.props),this.transformState=b8(this.props)}return r}(),av=al.createContext(null),fj=function(r,t){return typeof r=="function"?r(t):r},dj=al.forwardRef(function(r,t){var e=Le.useRef(new hj(r)).current,n=fj(r.children,$1(e));return Le.useImperativeHandle(t,function(){return $1(e)},[e]),Le.useEffect(function(){e.update(r)},[e,r]),al.createElement(av.Provider,{value:e},n)});al.forwardRef(function(r,t){var e=Le.useRef(null),n=Le.useContext(av);return Le.useEffect(function(){return n.onChange(function(s){if(e.current){var i=0,o=0;e.current.style.transform=n.handleTransformStyles(i,o,1/s.instance.transformState.scale)}})},[n]),al.createElement("div",sl({},r,{ref:qM([e,t])}))});function pj(r,t){t===void 0&&(t={});var e=t.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}}var mj=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,zw={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};pj(mj);var gj=function(r){var t=r.children,e=r.wrapperClass,n=e===void 0?"":e,s=r.contentClass,i=s===void 0?"":s,o=r.wrapperStyle,u=r.contentStyle,a=r.wrapperProps,l=a===void 0?{}:a,c=r.contentProps,d=c===void 0?{}:c,f=Le.useContext(av),h=f.init,g=f.cleanupWindowEvents,v=Le.useRef(null),p=Le.useRef(null);return Le.useEffect(function(){var y=v.current,m=p.current;return y!==null&&m!==null&&h&&(h==null||h(y,m)),function(){g==null||g()}},[]),al.createElement("div",sl({},l,{ref:v,className:"".concat(H1.wrapperClass," ").concat(zw.wrapper," ").concat(n),style:o}),al.createElement("div",sl({},d,{ref:p,className:"".concat(H1.contentClass," ").concat(zw.content," ").concat(i),style:u}),t))};function yj({repuesto:r,tipo:t,onUpload:e,onDelete:n,onSetPrimary:s}){var M,B,O,R,E;const[i,o]=Le.useState(0),[u,a]=Le.useState(null),[l,c]=Le.useState(!1),[d,f]=Le.useState([]),[h,g]=Le.useState(0),[v,p]=Le.useState(!1),y=Le.useRef(null),b=[...(t==="manual"?r==null?void 0:r.imagenesManual:r==null?void 0:r.fotosReales)||[]].sort((I,A)=>I.orden-A.orden),k=async I=>{const A=I.target.files;if(!A||!r||A.length===0)return;const w=Array.from(A);f(w),g(0),p(!0),y.current&&(y.current.value="")},N=async I=>{if(r){c(!0);try{await e(I,r.id,t),h<d.length-1?(g(A=>A+1),p(!0)):(f([]),g(0))}catch(A){console.error("Error al subir imagen:",A)}finally{c(!1)}}},F=()=>{p(!1),h<d.length-1?(g(I=>I+1),setTimeout(()=>p(!0),100)):(f([]),g(0))},j=()=>{o(I=>I>0?I-1:b.length-1)},T=()=>{o(I=>I<b.length-1?I+1:0)};return r?G.jsxs("div",{className:"h-full flex flex-col bg-white rounded-lg border border-gray-200 overflow-hidden animate-slideInRight",children:[G.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{children:[G.jsx("h3",{className:"font-semibold text-gray-800",children:t==="manual"?"Imgenes del Manual":"Fotos Reales"}),G.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[r.codigoBaader," - ",r.textoBreve.substring(0,30),"..."]})]}),G.jsx(ks,{size:"sm",onClick:()=>{var I;return(I=y.current)==null?void 0:I.click()},loading:l,icon:G.jsx(_f,{className:"w-4 h-4"}),children:"Agregar"}),G.jsx("input",{ref:y,type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden"})]})}),G.jsx("div",{className:"flex-1 flex flex-col",children:b.length===0?G.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 missing-image-indicator cursor-pointer",onClick:()=>{var I;return(I=y.current)==null?void 0:I.click()},children:[G.jsx(nv,{className:"w-12 h-12 text-amber-500 mb-3"}),G.jsx("p",{className:"text-amber-700 font-medium mb-1",children:"Sin imgenes"}),G.jsxs("p",{className:"text-sm text-amber-600 text-center",children:["Haz clic para agregar ",t==="manual"?"imgenes del manual":"fotos reales"]})]}):G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"relative flex-1 bg-gray-100 flex items-center justify-center min-h-[200px]",children:[G.jsx("img",{src:(M=b[i])==null?void 0:M.url,alt:((B=b[i])==null?void 0:B.descripcion)||"Imagen del repuesto",className:"max-w-full max-h-full object-contain cursor-zoom-in",onClick:()=>a(b[i])}),b.length>1&&G.jsxs(G.Fragment,{children:[G.jsx("button",{onClick:j,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:G.jsx(s8,{className:"w-5 h-5"})}),G.jsx("button",{onClick:T,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:G.jsx(o8,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[i+1," / ",b.length]}),G.jsx("button",{onClick:()=>a(b[i]),className:"absolute top-2 right-2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:G.jsx(LR,{className:"w-4 h-4"})}),((O=b[i])==null?void 0:O.esPrincipal)&&G.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs rounded-full flex items-center gap-1",children:[G.jsx(og,{className:"w-3 h-3 fill-current"}),"Principal"]})]}),G.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:G.jsx("div",{className:"flex gap-2 overflow-x-auto carousel-container pb-1",children:b.map((I,A)=>G.jsxs("div",{className:`
                      relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer
                      border-2 transition-all carousel-item
                      ${A===i?"border-primary-500":"border-transparent hover:border-gray-300"}
                    `,onClick:()=>o(A),children:[G.jsx("img",{src:I.url,alt:"",className:"w-full h-full object-cover"}),I.esPrincipal&&G.jsx(og,{className:"absolute top-1 right-1 w-3 h-3 text-yellow-400 fill-current"})]},I.id))})}),G.jsxs("div",{className:"p-3 border-t border-gray-200 flex items-center gap-2",children:[G.jsxs("button",{onClick:()=>r&&s(r,b[i]),className:`flex items-center gap-1 px-3 py-1.5 rounded text-sm transition-colors ${(R=b[i])!=null&&R.esPrincipal?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(E=b[i])!=null&&E.esPrincipal?G.jsx(og,{className:"w-4 h-4 fill-current"}):G.jsx(MR,{className:"w-4 h-4"}),"Principal"]}),G.jsxs("button",{onClick:()=>r&&n(r,b[i]),className:"flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-red-100 text-red-600 hover:bg-red-200 transition-colors ml-auto",children:[G.jsx(xf,{className:"w-4 h-4"}),"Eliminar"]})]})]})}),G.jsx(Wf,{isOpen:!!u,onClose:()=>a(null),size:"full",children:G.jsxs("div",{className:"relative w-full h-[70vh]",children:[G.jsx("button",{onClick:()=>a(null),className:"absolute top-2 right-2 z-10 p-2 bg-white rounded-full shadow hover:bg-gray-100",children:G.jsx(bi,{className:"w-5 h-5"})}),u&&G.jsx(dj,{children:G.jsx(gj,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:G.jsx("img",{src:u.url,alt:u.descripcion,className:"max-w-full max-h-full object-contain"})})}),G.jsx("p",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-gray-500 bg-white/80 px-3 py-1 rounded",children:"Usa el scroll para hacer zoom"})]})}),G.jsx(nM,{isOpen:v,onClose:F,file:d[h]||null,onConfirm:N})]}):null}function Kd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C8={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,s,i){function o(l,c){if(!s[l]){if(!n[l]){var d=typeof Kd=="function"&&Kd;if(!c&&d)return d(l,!0);if(u)return u(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[l]={exports:{}};n[l][0].call(h.exports,function(g){return o(n[l][1][g]||g)},h,h.exports,e,n,s,i)}return s[l].exports}for(var u=typeof Kd=="function"&&Kd,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,s){const i=e("fs"),o=e("fast-csv"),u=e("dayjs/plugin/customParseFormat"),a=e("dayjs/plugin/utc"),l=e("dayjs").extend(u).extend(a),c=e("../utils/stream-buf"),{fs:{exists:d}}=e("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await d(h))throw new Error("File not found: "+h);const v=i.createReadStream(h),p=await this.read(v,g);return v.close(),p}read(h,g){return g=g||{},new Promise((v,p)=>{const y=this.workbook.addWorksheet(g.sheetName),m=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=g.map||function(N){if(N==="")return null;const F=Number(N);if(!Number.isNaN(F)&&F!==1/0)return F;const j=m.reduce((M,B)=>{if(M)return M;const O=l(N,B,!0);return O.isValid()?O:null},null);if(j)return new Date(j.valueOf());const T=f[N];return T!==void 0?T:N},k=o.parse(g.parserOptions).on("data",N=>{y.addRow(N.map(b))}).on("end",()=>{k.emit("worksheet",y)});k.on("worksheet",v).on("error",p),h.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((v,p)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),m=o.format(g.formatterOptions);h.on("finish",()=>{v()}),m.on("error",p),m.pipe(h);const{dateFormat:b,dateUTC:k}=g,N=g.map||(T=>{if(T){if(T.text||T.hyperlink)return T.hyperlink||T.text||"";if(T.formula||T.result)return T.result||"";if(T instanceof Date)return b?k?l.utc(T).format(b):l(T).format(b):k?l.utc(T).format():l(T).format();if(T.error)return T.error;if(typeof T=="object")return JSON.stringify(T)}return T}),F=g.includeEmptyRows===void 0||g.includeEmptyRows;let j=1;y&&y.eachRow((T,M)=>{if(F)for(;j++<M-1;)m.write([]);const{values:B}=T;B.shift(),m.write(B.map(N)),j=M}),m.end()})}writeFile(h,g){const v={encoding:(g=g||{}).encoding||"utf8"},p=i.createWriteStream(h,v);return this.write(p,g)}async writeBuffer(h){const g=new c;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const i=e("../utils/col-cache");class o{constructor(a,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=a,l)if(typeof l=="string"){const d=i.decodeAddress(l);this.nativeCol=d.col+c,this.nativeColOff=0,this.nativeRow=d.row+c,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+c,this.row=l.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(a){return a instanceof o||a==null?a:new o(a)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(a){this.nativeCol=Math.floor(a),this.nativeColOff=Math.floor((a-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(a){this.nativeRow=Math.floor(a),this.nativeRowOff=Math.floor((a-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(a){this.nativeCol=a.nativeCol,this.nativeColOff=a.nativeColOff,this.nativeRow=a.nativeRow,this.nativeRowOff=a.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(e,n,s){const i=e("../utils/col-cache"),o=e("../utils/under-dash"),u=e("./enums"),{slideFormula:a}=e("../utils/shared-formula"),l=e("./note");class c{constructor(h,g,v){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,i.validateAddress(v),this._address=v,this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,v){const p=h&&h.numFmt||g&&g.numFmt;p&&(v.numFmt=p);const y=h&&h.font||g&&g.font;y&&(v.font=y);const m=h&&h.alignment||g&&g.alignment;m&&(v.alignment=m);const b=h&&h.border||g&&g.border;b&&(v.border=b);const k=h&&h.fill||g&&g.fill;k&&(v.fill=k);const N=h&&h.protection||g&&g.protection;return N&&(v.protection=N),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(h,g){this._value.release(),this._value=d.create(c.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===c.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==c.Types.Merge?(this._value.release(),this._value=d.create(d.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new l(h)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===c.Types.String&&(this._value=d.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(v=>{g.addEx(this.fullAddress,v)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=d.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=l.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}c.Types=u.ValueType;const d={getType:f=>f==null?c.Types.Null:f instanceof String||typeof f=="string"?c.Types.String:typeof f=="number"?c.Types.Number:typeof f=="boolean"?c.Types.Boolean:f instanceof Date?c.Types.Date:f.text&&f.hyperlink?c.Types.Hyperlink:f.formula||f.sharedFormula?c.Types.Formula:f.richText?c.Types.RichText:f.sharedString?c.Types.SharedString:f.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(f){this.model={address:f.address,type:c.Types.Null}}get value(){return null}set value(f){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:c.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},g=v=>{const p=f[v];p&&(h[v]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(d.getType(f)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return c.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?u.ValueType.Null:f instanceof String||typeof f=="string"?u.ValueType.String:typeof f=="number"?u.ValueType.Number:f instanceof Date?u.ValueType.Date:f.text&&f.hyperlink?u.ValueType.Hyperlink:f.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&a(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof c?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,g){const v=this.types[f];if(!v)throw new Error("Could not create Value of type "+f);return new v(h,g)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const i=e("../utils/under-dash"),o=e("./enums"),u=e("../utils/col-cache");class a{constructor(c,d,f){this._worksheet=c,this._number=d,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((d,f)=>{this._worksheet.getCell(f+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&i.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,d){const f=this.number;d||(d=c,c=null),this._worksheet.eachRow(c,(h,g)=>{d(h.getCell(f),g)})}get values(){const c=[];return this.eachCell((d,f)=>{d&&d.type!==o.ValueType.Null&&(c[f]=d.value)}),c}set values(c){if(!c)return;const d=this.number;let f=0;c.hasOwnProperty("0")&&(f=1),c.forEach((h,g)=>{this._worksheet.getCell(g+f,d).value=h})}_applyStyle(c,d){return this.style[c]=d,this.eachCell(f=>{f[c]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const d=[];let f=null;return c&&c.forEach((h,g)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},d.push(f))}),d.length?d:void 0}static fromModel(c,d){const f=[];let h=1,g=0;for(d=(d=d||[]).sort(function(v,p){return v.min-p.min});g<d.length;){const v=d[g++];for(;h<v.min;)f.push(new a(c,h++));for(;h<=v.max;)f.push(new a(c,h++,v))}return f.length?f:null}}n.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,o){return this.model[i]=o}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,s){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),u=e("../utils/cell-matrix"),a=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new u)}add(c,d){const f=o.decodeEx(c);this.addEx(f,d)}addEx(c,d){const f=this.getMatrix(d);if(c.top)for(let h=c.left;h<=c.right;h++)for(let g=c.top;g<=c.bottom;g++){const v={sheetName:c.sheetName,address:o.n2l(h)+g,row:g,col:h};f.addCellEx(v)}else f.addCellEx(c)}remove(c,d){const f=o.decodeEx(c);this.removeEx(f,d)}removeEx(c,d){this.getMatrix(d).removeCellEx(c)}removeAllNames(c){i.each(this.matrixMap,d=>{d.removeCellEx(c)})}forEach(c){i.each(this.matrixMap,(d,f)=>{d.forEach(h=>{c(f,h)})})}getNames(c){return this.getNamesEx(o.decodeEx(c))}getNamesEx(c){return i.map(this.matrixMap,(d,f)=>d.findCellEx(c)&&f).filter(Boolean)}_explore(c,d){d.mark=!1;const{sheetName:f}=d,h=new a(d.row,d.col,d.row,d.col,f);let g,v;function p(m,b){const k=c.findCellAt(f,m,d.col);return!(!k||!k.mark)&&(h[b]=m,k.mark=!1,!0)}for(v=d.row-1;p(v,"top");v--);for(v=d.row+1;p(v,"bottom");v++);function y(m,b){const k=[];for(v=h.top;v<=h.bottom;v++){const N=c.findCellAt(f,v,m);if(!N||!N.mark)return!1;k.push(N)}h[b]=m;for(let N=0;N<k.length;N++)k[N].mark=!1;return!0}for(g=d.col-1;y(g,"left");g--);for(g=d.col+1;y(g,"right");g++);return h}getRanges(c,d){return(d=d||this.matrixMap[c])?(d.forEach(f=>{f.mark=!0}),{name:c,ranges:d.map(f=>f.mark&&this._explore(d,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,d){c.forEachInSheet(d,(f,h,g)=>{f&&(f.row===h&&f.col===g||(f.row=h,f.col=g,f.address=o.n2l(g)+h))})}spliceRows(c,d,f,h){i.each(this.matrixMap,g=>{g.spliceRows(c,d,f,h),this.normaliseMatrix(g,c)})}spliceColumns(c,d,f,h){i.each(this.matrixMap,g=>{g.spliceColumns(c,d,f,h),this.normaliseMatrix(g,c)})}get model(){return i.map(this.matrixMap,(c,d)=>this.getRanges(d,c)).filter(c=>c.ranges.length)}set model(c){const d=this.matrixMap={};c.forEach(f=>{const h=d[f.name]=new u;f.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const i=e("../utils/col-cache"),o=e("./anchor");n.exports=class{constructor(u,a){this.worksheet=u,this.model=a}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:a,imageId:l,range:c,hyperlinks:d}=u;if(this.type=a,this.imageId=l,a==="image")if(typeof c=="string"){const f=i.decode(c);this.range={tl:new o(this.worksheet,{col:f.left,row:f.top},-1),br:new o(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,c.tl,0),br:c.br&&new o(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:d||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const i=e("../utils/under-dash");class o{constructor(a){this.note=a}get model(){let a=null;switch(typeof this.note){case"string":a={type:"note",note:{texts:[{text:this.note}]}};break;default:a={type:"note",note:this.note}}return i.deepMerge({},o.DEFAULT_CONFIGS,a)}set model(a){const{note:l}=a,{texts:c}=l;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=l}static fromModel(a){const l=new o;return l.model=a,l}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(e,n,s){const i=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(a,l,c,d,f){if(arguments.length<4){const h=i.decodeAddress(a),g=i.decodeAddress(l);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:c},this.setTLBR(h.row,h.col,g.row,g.col,f)}else this.model={top:Math.min(a,c),left:Math.min(l,d),bottom:Math.max(a,c),right:Math.max(l,d),sheetName:f}}decode(a){switch(a.length){case 5:this.setTLBR(a[0],a[1],a[2],a[3],a[4]);break;case 4:this.setTLBR(a[0],a[1],a[2],a[3]);break;case 3:this.setTLBR(a[0],a[1],a[2]);break;case 2:this.setTLBR(a[0],a[1]);break;case 1:{const l=a[0];if(l instanceof o)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const c=i.decodeEx(l);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+a.length)}}get top(){return this.model.top||1}set top(a){this.model.top=a}get left(){return this.model.left||1}set left(a){this.model.left=a}get bottom(){return this.model.bottom||1}set bottom(a){this.model.bottom=a}get right(){return this.model.right||1}set right(a){this.model.right=a}get sheetName(){return this.model.sheetName}set sheetName(a){this.model.sheetName=a}get _serialisedSheetName(){const{sheetName:a}=this.model;return a?/^[a-zA-Z0-9]*$/.test(a)?a+"!":`'${a}'!`:""}expand(a,l,c,d){(!this.model.top||a<this.top)&&(this.top=a),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(a){if(a){const{dimensions:l,number:c}=a;l&&this.expand(c,l.min,c,l.max)}}expandToAddress(a){const l=i.decodeEx(a);this.expand(l.row,l.col,l.row,l.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&!(a.bottom<this.top)&&!(a.top>this.bottom)&&!(a.right<this.left)&&!(a.left>this.right)}contains(a){const l=i.decodeEx(a);return this.containsEx(l)}containsEx(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&a.row>=this.top&&a.row<=this.bottom&&a.col>=this.left&&a.col<=this.right}forEachAddress(a){for(let l=this.left;l<=this.right;l++)for(let c=this.top;c<=this.bottom;c++)a(i.encodeAddress(c,l),c,l)}}n.exports=o},{"../utils/col-cache":19}],11:[function(e,n,s){const i=e("../utils/under-dash"),o=e("./enums"),u=e("../utils/col-cache"),a=e("./cell");n.exports=class{constructor(l,c){this._worksheet=l,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let c=this._cells[l.col-1];if(!c){const d=this._worksheet.getColumn(l.col);c=new a(this,d,l.address),this._cells[l.col-1]=c}return c}getCell(l){if(typeof l=="string"){const c=this._worksheet.getColumnKey(l);l=c?c.number:u.l2n(l)}return this._cells[l-1]||this.getCellEx({address:u.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,c){const d=l+c;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];const v=h.length-c,p=this._cells.length;let y,m,b;if(v<0)for(y=l+h.length;y<=p;y++)b=this._cells[y-1],m=this._cells[y-v-1],m?(b=this.getCell(y),b.value=m.value,b.style=m.style,b._comment=m._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(v>0)for(y=p;y>=d;y--)m=this._cells[y-1],m?(b=this.getCell(y+v),b.value=m.value,b.style=m.style,b._comment=m._comment):this._cells[y+v-1]=void 0;for(y=0;y<h.length;y++)b=this.getCell(l+y),b.value=h[y],b.style={},b._comment=void 0}eachCell(l,c){if(c||(c=l,l=null),l&&l.includeEmpty){const d=this._cells.length;for(let f=1;f<=d;f++)c(this.getCell(f),f)}else this._cells.forEach((d,f)=>{d&&d.type!==o.ValueType.Null&&c(d,f+1)})}addPageBreak(l,c){const d=this._worksheet,f=Math.max(0,l-1)||0,h=Math.max(0,c-1)||16838,g={id:this._number,max:h,man:1};f&&(g.min=f),d.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(c=>{c&&c.type!==o.ValueType.Null&&(l[c.col]=c.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let c=0;l.hasOwnProperty("0")&&(c=1),l.forEach((d,f)=>{d!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,f+c),row:this._number,col:f+c}).value=d)})}else this._worksheet.eachColumnKey((c,d)=>{l[d]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=l[d])})}get hasValues(){return i.some(this._cells,l=>l&&l.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,c=0;return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&((!l||l>d.col)&&(l=d.col),c<d.col&&(c=d.col))}),l>0?{min:l,max:c}:null}_applyStyle(l,c){return this.style[l]=c,this._cells.forEach(d=>{d&&(d[l]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let c=0,d=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!c||c>f.col)&&(c=f.col),d<f.col&&(d=f.col),l.push(h))}}),this.height||l.length?{cells:l,number:this.number,min:c,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],l.cells.forEach(d=>{switch(d.type){case a.Types.Merge:break;default:{let f;if(d.address)f=u.decodeAddress(d.address);else if(c){const{row:h}=c,g=c.col+1;f={row:h,col:g,address:u.encodeAddress(h,g),$col$row:`$${u.n2l(g)}$${h}`}}c=f,this.getCellEx(f).model=d;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const i=e("../utils/col-cache");class o{constructor(a,l,c){this.table=a,this.column=l,this.index=c}_set(a,l){this.table.cacheState(),this.column[a]=l}get name(){return this.column.name}set name(a){this._set("name",a)}get filterButton(){return this.column.filterButton}set filterButton(a){this.column.filterButton=a}get style(){return this.column.style}set style(a){this.column.style=a}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(a){this._set("totalsRowLabel",a)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(a){this._set("totalsRowFunction",a)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(a){this._set("totalsRowResult",a)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(a){this._set("totalsRowFormula",a)}}n.exports=class{constructor(u,a){this.worksheet=u,a&&(this.table=a,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,a=(v,p,y)=>{v[p]===void 0&&(v[p]=y)};a(u,"headerRow",!0),a(u,"totalsRow",!1),a(u,"style",{}),a(u.style,"theme","TableStyleMedium2"),a(u.style,"showFirstColumn",!1),a(u.style,"showLastColumn",!1),a(u.style,"showRowStripes",!1),a(u.style,"showColumnStripes",!1);const l=(v,p)=>{if(!v)throw new Error(p)};l(u.ref,"Table must have ref"),l(u.columns,"Table must have column definitions"),l(u.rows,"Table must have row definitions"),u.tl=i.decodeAddress(u.ref);const{row:c,col:d}=u.tl;l(c>0,"Table must be on valid row"),l(d>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:g}=this;u.autoFilterRef=i.encode(c,d,c+h-1,d+f-1),u.tableRef=i.encode(c,d,c+g-1,d+f-1),u.columns.forEach((v,p)=>{l(v.name,`Column ${p} must have a name`),p===0?a(v,"totalsRowLabel","Total"):(a(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const u=(h,g)=>{g&&Object.keys(g).forEach(v=>{h[v]=g[v]})},{worksheet:a,table:l}=this,{row:c,col:d}=l.tl;let f=0;if(l.headerRow){const h=a.getRow(c+f++);l.columns.forEach((g,v)=>{const{style:p,name:y}=g,m=h.getCell(d+v);m.value=y,u(m,p)})}if(l.rows.forEach(h=>{const g=a.getRow(c+f++);h.forEach((v,p)=>{const y=g.getCell(d+p);y.value=v,u(y,l.columns[p].style)})}),l.totalsRow){const h=a.getRow(c+f++);l.columns.forEach((g,v)=>{const p=h.getCell(d+v);if(v===0)p.value=g.totalsRowLabel;else{const y=this.getFormula(g);p.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}u(p,g.style)})}}load(u){const{table:a}=this,{row:l,col:c}=a.tl;let d=0;if(a.headerRow){const f=u.getRow(l+d++);a.columns.forEach((h,g)=>{f.getCell(c+g).value=h.name})}if(a.rows.forEach(f=>{const h=u.getRow(l+d++);f.forEach((g,v)=>{h.getCell(c+v).value=g})}),a.totalsRow){const f=u.getRow(l+d++);a.columns.forEach((h,g)=>{const v=f.getCell(c+g);g===0?v.value=h.totalsRowLabel:this.getFormula(h)&&(v.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let a=0;a<this._cache.tableHeight;a++){const l=this.worksheet.getRow(u.row+a);for(let c=0;c<this._cache.width;c++)l.getCell(u.col+c).value=null}else{for(let a=this.tableHeight;a<this._cache.tableHeight;a++){const l=this.worksheet.getRow(u.row+a);for(let c=0;c<this._cache.width;c++)l.getCell(u.col+c).value=null}for(let a=0;a<this.tableHeight;a++){const l=this.worksheet.getRow(u.row+a);for(let c=this.width;c<this._cache.width;c++)l.getCell(u.col+c).value=null}}this.store()}addRow(u,a){this.cacheState(),a===void 0?this.table.rows.push(u):this.table.rows.splice(a,0,u)}removeRows(u){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,a)}getColumn(u){const a=this.table.columns[u];return new o(this,a,u)}addColumn(u,a,l){this.cacheState(),l===void 0?(this.table.columns.push(u),this.table.rows.forEach((c,d)=>{c.push(a[d])})):(this.table.columns.splice(l,0,u),this.table.rows.forEach((c,d)=>{c.splice(l,0,a[d])}))}removeColumns(u){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,a),this.table.rows.forEach(l=>{l.splice(u,a)})}_assign(u,a,l){this.cacheState(),u[a]=l}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(e,n,s){const i=e("./worksheet"),o=e("./defined-names"),u=e("../xlsx/xlsx"),a=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new a(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,c){const d=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const f=this._worksheets.reduce((v,p)=>(p&&p.orderNo)>v?p.orderNo:v,0),h=Object.assign({},c,{id:d,name:l,orderNo:f+1,workbook:this}),g=new i(h);return this._worksheets[d]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const c=this.getWorksheet(l);c&&c.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(c=>c&&c.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,c)=>l.orderNo-c.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(c=>{l(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const c=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),c}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(c=>{const{id:d,name:f,state:h}=c,g=l.sheets&&l.sheets.findIndex(v=>v.id===d);(this._worksheets[d]=new i({id:d,name:f,orderNo:g,state:h,workbook:this})).model=c}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),u=e("./range"),a=e("./row"),l=e("./column"),c=e("./enums"),d=e("./image"),f=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:v}=e("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new h,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new u;return this._rows.forEach(y=>{if(y){const m=y.dimensions;m&&p.expand(y.number,m.min,y.number,m.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((b,k)=>{const N=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(b,N)},0);let y=1;const m=this._columns=[];p.forEach(b=>{const k=new l(this,y++,!1);m.push(k),k.defn=b})}getColumnKey(p){return this._keys[p]}setColumnKey(p,y){this._keys[p]=y}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){i.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const y=this._keys[p];if(y)return y;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let y=this._columns.length+1;for(;y<=p;)this._columns.push(new l(this,y++))}return this._columns[p-1]}spliceColumns(p,y){const m=this._rows.length;for(var b=arguments.length,k=new Array(b>2?b-2:0),N=2;N<b;N++)k[N-2]=arguments[N];if(k.length>0)for(let M=0;M<m;M++){const B=[p,y];k.forEach(R=>{B.push(R[M]||null)});const O=this.getRow(M+1);O.splice.apply(O,B)}else this._rows.forEach(M=>{M&&M.splice(p,y)});const F=k.length-y,j=p+y,T=this._columns.length;if(F<0)for(let M=p+k.length;M<=T;M++)this.getColumn(M).defn=this.getColumn(M-F).defn;else if(F>0)for(let M=T;M>=j;M--)this.getColumn(M+F).defn=this.getColumn(M).defn;for(let M=p;M<p+k.length;M++)this.getColumn(M).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,y,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(y=>{p=Math.max(p,y.cellCount)}),p}get actualColumnCount(){const p=[];let y=0;return this.eachRow(m=>{m.eachCell(b=>{let{col:k}=b;p[k]||(p[k]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const p=this._rows;let y=p.length;for(;y>0&&p[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,y){return this._rows.slice(p-1,p-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let y=this._rows[p-1];return y||(y=this._rows[p-1]=new a(this,p)),y}getRows(p,y){if(y<1)return;const m=[];for(let b=p;b<p+y;b++)m.push(this.getRow(b));return m}addRow(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,b=this.getRow(m);return b.values=p,this._setStyleOption(m,y[0]==="i"?y:"n"),b}addRows(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return p.forEach(b=>{m.push(this.addRow(b,y))}),m}insertRow(p,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,y),this._setStyleOption(p,m),this.getRow(p)}insertRows(p,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...y),m!=="n")for(let b=0;b<y.length;b++)m[0]==="o"&&this.findRow(y.length+p+b)!==void 0?this._copyStyle(y.length+p+b,p+b,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+b,m[1]==="+");return this.getRows(p,y.length)}_setStyleOption(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,y[1]==="+")}_copyStyle(p,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(p),k=this.getRow(y);k.style=v(b.style),b.eachCell({includeEmpty:m},(N,F)=>{k.getCell(F).style=v(N.style)}),k.height=b.height}duplicateRow(p,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[p-1],k=new Array(y).fill(b.values);this.spliceRows(p+1,m?0:y,...k);for(let N=0;N<y;N++){const F=this._rows[p+N];F.style=b.style,F.height=b.height,b.eachCell({includeEmpty:!0},(j,T)=>{F.getCell(T).style=j.style})}}spliceRows(p,y){const m=p+y;for(var b=arguments.length,k=new Array(b>2?b-2:0),N=2;N<b;N++)k[N-2]=arguments[N];const F=k.length,j=F-y,T=this._rows.length;let M,B;if(j<0)for(p===T&&(this._rows[T-1]=void 0),M=m;M<=T;M++)if(B=this._rows[M-1],B){const O=this.getRow(M+j);O.values=B.values,O.style=B.style,O.height=B.height,B.eachCell({includeEmpty:!0},(R,E)=>{O.getCell(E).style=R.style}),this._rows[M-1]=void 0}else this._rows[M+j-1]=void 0;else if(j>0)for(M=T;M>=m;M--)if(B=this._rows[M-1],B){const O=this.getRow(M+j);O.values=B.values,O.style=B.style,O.height=B.height,B.eachCell({includeEmpty:!0},(R,E)=>{if(O.getCell(E).style=R.style,R._value.constructor.name==="MergeValue"){const I=this.getRow(R._row._number+F).getCell(E),A=R._value._master,w=this.getRow(A._row._number+F).getCell(A._column._number);I.merge(w)}})}else this._rows[M+j-1]=void 0;for(M=0;M<F;M++){const O=this.getRow(p+M);O.style={},O.values=k[M]}this.workbook.definedNames.spliceRows(this.name,p,y,F)}eachRow(p,y){if(y||(y=p,p=void 0),p&&p.includeEmpty){const m=this._rows.length;for(let b=1;b<=m;b++)y(this.getRow(b),b)}else this._rows.forEach(m=>{m&&m.hasValues&&y(m,m.number)})}getSheetValues(){const p=[];return this._rows.forEach(y=>{y&&(p[y.number]=y.values)}),p}findCell(p,y){const m=o.getAddress(p,y),b=this._rows[m.row-1];return b?b.findCell(m.col):void 0}getCell(p,y){const m=o.getAddress(p,y);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new u(y);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new u(y);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(p,y){i.each(this._merges,b=>{if(b.intersects(p))throw new Error("Cannot merge already merged cells")});const m=this.getCell(p.top,p.left);for(let b=p.top;b<=p.bottom;b++)for(let k=p.left;k<=p.right;k++)(b>p.top||k>p.left)&&this.getCell(b,k).merge(m,y);this._merges[m.address]=p}_unMergeMaster(p){const y=this._merges[p.address];if(y){for(let m=y.top;m<=y.bottom;m++)for(let b=y.left;b<=y.right;b++)this.getCell(m,b).unmerge();delete this._merges[p.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new u(y);for(let k=b.top;k<=b.bottom;k++)for(let N=b.left;N<=b.right;N++){const F=this.findCell(k,N);F&&(F.type===c.ValueType.Merge?this._unMergeMaster(F.master):this._merges[F.address]&&this._unMergeMaster(F))}}fillFormula(p,y,m){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=o.decode(p),{top:N,left:F,bottom:j,right:T}=k,M=T-F+1,B=o.encodeAddress(N,F),O=b==="shared";let R;R=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(I,A)=>m[I-N][A-F]:(I,A)=>m[(I-N)*M+(A-F)]:()=>{};let E=!0;for(let I=N;I<=j;I++)for(let A=F;A<=T;A++)E?(this.getCell(I,A).value={shareType:b,formula:y,ref:p,result:R(I,A)},E=!1):this.getCell(I,A).value=O?{sharedFormula:B,result:R(I,A)}:R(I,A)}addImage(p,y){const m={type:"image",imageId:p,range:y};this._media.push(new d(this,m))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const y={type:"background",imageId:p};this._media.push(new d(this,y))}getBackgroundImageId(){const p=this._media.find(y=>y.type==="background");return p&&p.imageId}protect(p,y){return new Promise(m=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!p&&"spinCount"in y&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(p){const y=new f(this,p);return this.tables[p.name]=y,y}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};p.cols=l.toModel(this.columns);const y=p.rows=[],m=p.dimensions=new u;return this._rows.forEach(b=>{const k=b&&b.model;k&&(m.expand(k.number,k.min,k.number,k.max),y.push(k))}),p.merges=[],i.each(this._merges,b=>{p.merges.push(b.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(y=>{const m=new a(this,y.number);this._rows[m.number-1]=m,m.model=y})}_parseMergeCells(p){i.each(p.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(p){this.name=p.name,this._columns=l.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new h(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(y=>new d(this,y)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((y,m)=>{const b=new f;return b.model=m,y[m.name]=b,y},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(u=>{i[u]=o[u]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(o){return typeof o=="string"?o:i?i.decode(o):o.toString()}},{}],17:[function(e,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");s.stringToBuffer=function(u){return typeof u!="string"?u:i?o.from(i.encode(u).buffer):o.from(u)}},{buffer:220}],18:[function(e,n,s){const i=e("./under-dash"),o=e("./col-cache");n.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(o.decodeEx(u))}getCell(u){return this.findCellEx(o.decodeEx(u),!0)}findCell(u){return this.findCellEx(o.decodeEx(u),!1)}findCellAt(u,a,l){const c=this.sheets[u],d=c&&c[a];return d&&d[l]}addCellEx(u){if(u.top)for(let a=u.top;a<=u.bottom;a++)for(let l=u.left;l<=u.right;l++)this.getCellAt(u.sheetName,a,l);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,a){const l=this.findSheet(u,a),c=this.findSheetRow(l,u,a);return this.findRowCell(c,u,a)}getCellAt(u,a,l){const c=this.sheets[u]||(this.sheets[u]=[]),d=c[a]||(c[a]=[]);return d[l]||(d[l]={sheetName:u,address:o.n2l(l)+a,row:a,col:l})}removeCellEx(u){const a=this.findSheet(u);if(!a)return;const l=this.findSheetRow(a,u);l&&delete l[u.col]}forEachInSheet(u,a){const l=this.sheets[u];l&&l.forEach((c,d)=>{c&&c.forEach((f,h)=>{f&&a(f,d,h)})})}forEach(u){i.each(this.sheets,(a,l)=>{this.forEachInSheet(l,u)})}map(u){const a=[];return this.forEach(l=>{a.push(u(l))}),a}findSheet(u,a){const l=u.sheetName;return this.sheets[l]?this.sheets[l]:a?this.sheets[l]=[]:void 0}findSheetRow(u,a,l){const{row:c}=a;return u&&u[c]?u[c]:l?u[c]=[]:void 0}findRowCell(u,a,l){const{col:c}=a;return u&&u[c]?u[c]:l?u[c]=this.template?Object.assign(a,JSON.parse(JSON.stringify(this.template))):a:void 0}spliceRows(u,a,l,c){const d=this.sheets[u];if(d){const f=[];for(let h=0;h<c;h++)f.push([]);d.splice(a,l,...f)}}spliceColumns(u,a,l,c){const d=this.sheets[u];if(d){const f=[];for(let h=0;h<c;h++)f.push(null);i.each(d,h=>{h.splice(a,l,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const i=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let a,l,c,d,f,h=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;h<=26;)a=this._dictionary[h-1],this._n2l[h]=a,this._l2n[a]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(h=27;h<=702;)l=h-27,c=l%26,d=Math.floor(l/26),a=this._dictionary[d]+this._dictionary[c],this._n2l[h]=a,this._l2n[a]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(h=703;h<=16384;)l=h-703,c=l%26,d=Math.floor(l/26)%26,f=Math.floor(l/676),a=this._dictionary[f]+this._dictionary[d]+this._dictionary[c],this._n2l[h]=a,this._l2n[a]=h,h++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!i.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const a=u.length<5&&this._hash[u];if(a)return a;let l=!1,c="",d=0,f=!1,h="",g=0;for(let p,y=0;y<u.length;y++)if(p=u.charCodeAt(y),!f&&p>=65&&p<=90)l=!0,c+=u[y],d=26*d+p-64;else if(p>=48&&p<=57)f=!0,h+=u[y],g=10*g+p-48;else if(f&&l&&p!==36)break;if(l){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else d=void 0;f||(g=void 0);const v={address:u=c+h,col:d,row:g,$col$row:`$${c}$${h}`};return d<=100&&g<=100&&(this._hash[u]=v,this._hash[v.$col$row]=v),v},getAddress(u,a){if(a){const l=this.n2l(a)+u;return this.decodeAddress(l)}return this.decodeAddress(u)},decode(u){const a=u.split(":");if(a.length===2){const l=this.decodeAddress(a[0]),c=this.decodeAddress(a[1]),d={top:Math.min(l.row,c.row),left:Math.min(l.col,c.col),bottom:Math.max(l.row,c.row),right:Math.max(l.col,c.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(u)},decodeEx(u){const a=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=a[1]||a[2],c=a[3],d=c.split(":");if(d.length>1){let h=this.decodeAddress(d[0]),g=this.decodeAddress(d[1]);const v=Math.min(h.row,g.row),p=Math.min(h.col,g.col),y=Math.max(h.row,g.row),m=Math.max(h.col,g.col);return h=this.n2l(p)+v,g=this.n2l(m)+y,{top:v,left:p,bottom:y,right:m,sheetName:l,tl:{address:h,col:p,row:v,$col$row:`$${this.n2l(p)}$${v}`,sheetName:l},br:{address:g,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:l},dimensions:`${h}:${g}`}}if(c.startsWith("#"))return l?{sheetName:l,error:c}:{error:c};const f=this.decodeAddress(c);return l?{sheetName:l,...f}:f},encodeAddress:(u,a)=>o.n2l(a)+u,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,a){const[l,c,,d,f]=u,[h,g]=a;return h>=l&&h<=d&&g>=c&&g<=f}};n.exports=o},{}],20:[function(e,n,s){const i=(u,a)=>({...u,...a.reduce((l,c)=>(u[c]&&(l[c]={...u[c]}),l),{})}),o=function(u,a,l){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[l]&&(a[l]=i(u[l],c))};s.copyStyle=u=>{if(!u)return u;if(a=u,Object.keys(a).length===0)return{};var a;const l={...u};return o(u,l,"font",["color"]),o(u,l,"alignment"),o(u,l,"protection"),u.border&&(o(u,l,"border"),o(u.border,l.border,"top",["color"]),o(u.border,l.border,"left",["color"]),o(u.border,l.border,"bottom",["color"]),o(u.border,l.border,"right",["color"]),o(u.border,l.border,"diagonal",["color"])),u.fill&&(o(u,l,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(l.fill.stops=u.fill.stops.map(c=>i(c,["color"])))),l}},{}],21:[function(e,n,s){(function(i){(function(){const o=e("crypto"),u={hash(a){const l=o.createHash(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return l.update(i.concat(d)),l.digest()},convertPasswordToHash(a,l,c,d){if(l=l.toLowerCase(),o.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const f=i.from(a,"utf16le");let h=this.hash(l,i.from(c,"base64"),f);for(let g=0;g<d;g++){const v=i.alloc(4);v.writeUInt32LE(g,0),h=this.hash(l,h,v)}return h.toString("base64")},randomBytes:a=>o.randomBytes(a)};n.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:i}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:u}=e("./browser-buffer-decode");n.exports=async function*(a){a.pipe&&!a[Symbol.asyncIterator]&&(a=a.pipe(new o));const l=new i;let c;l.on("error",f=>{c=f});let d=[];l.on("opentag",f=>d.push({eventType:"opentag",value:f})),l.on("text",f=>d.push({eventType:"text",value:f})),l.on("closetag",f=>d.push({eventType:"closetag",value:f}));for await(const f of a){if(l.write(u(f)),c)throw c;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const i=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(a,l,c){const d=i.decode(l),f=i.decode(c);return a.replace(o,(h,g,v,p,y)=>{if(y)return h;const m=u.exec(p);if(m){const b=m[1],k=m[2].toUpperCase(),N=m[3],F=m[4];if(k.length>3||k.length===3&&k>"XFD")return h;let j=i.l2n(k),T=parseInt(F,10);return b||(j+=f.col-d.col),N||(T+=f.row-d.row),(g||"")+(b||"")+i.n2l(j)+(N||"")+T}return h})}}},{"./col-cache":19}],24:[function(e,n,s){(function(i,o){(function(){const u=e("readable-stream"),a=e("./utils"),l=e("./string-buf");class c{constructor(p,y){this._data=p,this._encoding=y}get length(){return this.toBuffer().length}copy(p,y,m,b){return this.toBuffer().copy(p,y,m,b)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,m,b){return this._data._buf.copy(p,y,m,b)}toBuffer(){return this._data.toBuffer()}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,m,b){this._data.copy(p,y,m,b)}toBuffer(){return this._data}}class h{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let y;return p===0?null:p===void 0||p>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=o.alloc(p),this.buffer.copy(y,0,this.iRead,p),this.iRead+=p,y)}write(p,y,m){const b=Math.min(m,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,y,y+b),this.iWrite+=b,b}}const g=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};a.inherits(g,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const v=new h(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map(function(p){return new Promise(y=>{p.write(v.toBuffer(),()=>{y()})})}))},_writeToBuffers(v){let p=0;const y=v.length;for(;p<y;)p+=this._getWritableBuffer().write(v,p,y-p)},async write(v,p,y){let m;if(p instanceof Function&&(y=p,p="utf8"),y=y||a.nop,v instanceof l)m=new d(v);else if(v instanceof o)m=new f(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new c(v,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),i.nextTick(y)):(await this._pipe(m),y());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,p,y){const m=b=>{b?y(b):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};v?this.write(v,p,m):m()},read(v){let p;if(v){for(p=[];v&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],m=y.read(v);v-=m.length,p.push(m),y.eod&&y.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(p=>p!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(i){(function(){n.exports=class{constructor(o){this._buf=i.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let u=2*this._buf.length;for(;u<o;)u*=2;const a=i.alloc(u);this._buf.copy(a,0),this._buf=a}addText(o){this._buffer=void 0;let u=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+o.length),u=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=u}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:i}=Object.prototype,o=/["&<>]/,u={each:function(a,l){a&&(Array.isArray(a)?a.forEach(l):Object.keys(a).forEach(c=>{l(a[c],c)}))},some:function(a,l){return!!a&&(Array.isArray(a)?a.some(l):Object.keys(a).some(c=>l(a[c],c)))},every:function(a,l){return!a||(Array.isArray(a)?a.every(l):Object.keys(a).every(c=>l(a[c],c)))},map:function(a,l){return a?Array.isArray(a)?a.map(l):Object.keys(a).map(c=>l(a[c],c)):[]},keyBy:(a,l)=>a.reduce((c,d)=>(c[d[l]]=d,c),{}),isEqual:function(a,l){const c=typeof a,d=typeof l,f=Array.isArray(a),h=Array.isArray(l);let g;if(c!==d)return!1;switch(typeof a){case"object":if(f||h)return!(!f||!h)&&a.length===l.length&&a.every((v,p)=>{const y=l[p];return u.isEqual(v,y)});if(a===null||l===null)return a===l;if(g=Object.keys(a),Object.keys(l).length!==g.length)return!1;for(const v of g)if(!l.hasOwnProperty(v))return!1;return u.every(a,(v,p)=>{const y=l[p];return u.isEqual(v,y)});default:return a===l}},escapeHtml(a){const l=o.exec(a);if(!l)return a;let c="",d="",f=0,h=l.index;for(;h<a.length;h++){switch(a.charAt(h)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}f!==h&&(c+=a.substring(f,h)),f=h+1,c+=d}return f!==h?c+a.substring(f,h):c},strcmp:(a,l)=>a<l?-1:a>l?1:0,isUndefined:a=>i.call(a)==="[object Undefined]",isObject:a=>i.call(a)==="[object Object]",deepMerge(){const a=arguments[0]||{},{length:l}=arguments;let c,d,f;function h(g,v){c=a[v],f=Array.isArray(g),u.isObject(g)||f?(f?(f=!1,d=c&&Array.isArray(c)?c:[]):d=c&&u.isObject(c)?c:{},a[v]=u.deepMerge(d,g)):u.isUndefined(g)||(a[v]=g)}for(let g=0;g<l;g++)u.each(arguments[g],h);return a}};n.exports=u},{}],27:[function(e,n,s){(function(i,o){(function(){const u=e("fs"),a=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:c=>new Promise(d=>{i.setImmediate?o(()=>{d(c)}):setTimeout(()=>{d(c)},1)}),inherits:function(c,d,f,h){c.super_=d,h||(h=f,f=null),f&&Object.keys(f).forEach(v=>{Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(f,v))});const g={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(v=>{g[v]=Object.getOwnPropertyDescriptor(h,v)}),c.prototype=Object.create(d.prototype,g)},dateToExcel:(c,d)=>25569+c.getTime()/864e5-(d?1462:0),excelToDate(c,d){const f=Math.round(24*(c-25569+(d?1462:0))*3600*1e3);return new Date(f)},parsePath(c){const d=c.lastIndexOf("/");return{path:c.substring(0,d),name:c.substring(d+1)}},getRelsPath(c){const d=l.parsePath(c);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(c){const d=a.exec(c);if(!d)return c;let f="",h="",g=0,v=d.index;for(;v<c.length;v++){const p=c.charCodeAt(v);switch(p){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){h="";break}continue}g!==v&&(f+=c.substring(g,v)),g=v+1,h&&(f+=h)}return g!==v?f+c.substring(g,v):f},xmlDecode:c=>c.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(c){const d=parseInt(c,10);return Number.isNaN(d)?0:d},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(d=>{u.access(c,u.constants.F_OK,f=>{d(!f)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=l}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const i=e("./under-dash"),o=e("./utils");function u(c,d,f){c.push(` ${d}="${o.xmlEncode(f.toString())}"`)}function a(c,d){if(d){const f=[];i.each(d,(h,g)=>{h!==void 0&&u(f,g,h)}),c.push(f.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const f=this._xml;f.push("<?xml"),a(f,d),f.push(`?>
`)}openNode(d,f){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(d),g.push("<"),g.push(d),a(g,f),this.leaf=!0,this.open=!0}addAttribute(d,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&u(this._xml,d,f)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,d)}writeText(d){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(o.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(d),f.push(">")),this.open=!1,this.leaf=!1}leafNode(d,f,h){this.openNode(d,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(i){(function(){const o=e("events"),u=e("jszip"),a=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class c extends o.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new u,this.stream=new a}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=l(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:c}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const i=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof u?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const c of l)for(const{eventType:d,value:f}of c)if(d==="opentag")this.parseOpen(f);else if(d==="text")this.parseText(f);else if(d==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(l){return this.parse(i(l))}get xml(){return this.toXml(this.model)}toXml(l){const c=new o;return this.render(c,l),c.xml}static toAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(d)return c}else if(d||l!==c)return l.toString()}static toStringAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,c,d)}static toStringValue(l,c){return l===void 0?c:l}static toBoolAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(d)return c}else if(d||l!==c)return l?"1":"0"}static toBoolValue(l,c){return l===void 0?c:l==="1"}static toIntAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,c,d)}static toIntValue(l,c){return l===void 0?c:parseInt(l,10)}static toFloatAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,c,d)}static toFloatValue(l,c){return l===void 0?c:parseFloat(l)}}n.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const i=e("../base-xform"),o=e("../../../utils/col-cache");function u(l){try{return o.decodeEx(l),!0}catch{return!1}}function a(l){const c=[];let d=!1,f="";return l.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(d?f+=h+",":u(h)&&c.push(h));const v=g%2==0;!d&&v&&u(h)?c.push(h):d&&!v?(d=!1,u(f+h)&&c.push(f+h),f=""):(d=!0,f+=h+",")}),c}n.exports=class extends i{render(l,c){l.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),l.writeText(c.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const i=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{render(u,a){u.leafNode("sheet",{sheetId:a.id,name:a.name,state:a.state,"r:id":a.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:i.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,u){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,u){o.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,u){const a={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(a.visibility=u.visibility),o.leafNode("workbookView",a)}parseOpen(o){if(o.name==="workbookView"){const u=this.model={},a=function(c,d,f){const h=d!==void 0?u[c]=d:f;h!==void 0&&(u[c]=h)},l=function(c,d,f){const h=d!==void 0?u[c]=parseInt(d,10):f;h!==void 0&&(u[c]=h)};return l("x",o.attributes.xWindow,0),l("y",o.attributes.yWindow,0),l("width",o.attributes.windowWidth,25e3),l("height",o.attributes.windowHeight,1e4),a("visibility",o.attributes.visibility,"visible"),l("activeTab",o.attributes.activeTab,void 0),l("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../static-xform"),c=e("../list-xform"),d=e("./defined-name-xform"),f=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),v=e("./workbook-calc-properties-xform");class p extends a{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new c({tag:"bookViews",count:!1,childXform:new h}),sheets:new c({tag:"sheets",count:!1,childXform:new f}),definedNames:new c({tag:"definedNames",count:!1,childXform:new d}),calcPr:new v}}prepare(m){m.sheets=m.worksheets;const b=[];let k=0;m.sheets.forEach(N=>{if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(F=>{const j=F.split(":"),T={name:"_xlnm.Print_Area",ranges:[`'${N.name}'!$${j[0]}:$${j[1]}`],localSheetId:k};b.push(T)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){const F=[];if(N.pageSetup.printTitlesColumn){const T=N.pageSetup.printTitlesColumn.split(":");F.push(`'${N.name}'!$${T[0]}:$${T[1]}`)}if(N.pageSetup.printTitlesRow){const T=N.pageSetup.printTitlesRow.split(":");F.push(`'${N.name}'!$${T[0]}:$${T[1]}`)}const j={name:"_xlnm.Print_Titles",ranges:F,localSheetId:k};b.push(j)}k++}),b.length&&(m.definedNames=m.definedNames.concat(b)),(m.media||[]).forEach((N,F)=>{N.name=N.type+(F+1)})}render(m,b){m.openXml(u.StdDocAttributes),m.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,b.properties),this.map.bookViews.render(m,b.views),this.map.sheets.render(m,b.sheets),this.map.definedNames.render(m,b.definedNames),this.map.calcPr.render(m,b.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const b=(m.workbookRels||[]).reduce((T,M)=>(T[M.Id]=M,T),{}),k=[];let N,F=0;(m.sheets||[]).forEach(T=>{const M=b[T.rId];M&&(N=m.worksheetHash["xl/"+M.Target.replace(/^(\s|\/xl\/)+/,"")],N&&(N.name=T.name,N.id=T.id,N.state=T.state,k[F++]=N))});const j=[];i.each(m.definedNames,T=>{if(T.name==="_xlnm.Print_Area"){if(N=k[T.localSheetId],N){N.pageSetup||(N.pageSetup={});const M=o.decodeEx(T.ranges[0]);N.pageSetup.printArea=N.pageSetup.printArea?`${N.pageSetup.printArea}&&${M.dimensions}`:M.dimensions}}else if(T.name==="_xlnm.Print_Titles"){if(N=k[T.localSheetId],N){N.pageSetup||(N.pageSetup={});const M=T.ranges.join(","),B=/\$/g,O=/\$\d+:\$\d+/,R=M.match(O);if(R&&R.length){const A=R[0];N.pageSetup.printTitlesRow=A.replace(B,"")}const E=/\$[A-Z]+:\$[A-Z]+/,I=M.match(E);if(I&&I.length){const A=I[0];N.pageSetup.printTitlesColumn=A.replace(B,"")}}}else j.push(T)}),m.definedNames=j,m.media.forEach((T,M)=>{T.index=M})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const i=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),u=e("../base-xform"),a=n.exports=function(l){this.model=l};o.inherits(a,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(l,c){c=c||this.model,l.openNode("comment",{ref:c.ref,authorId:0}),l.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(d=>{this.richTextXform.render(l,d)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),u=e("../base-xform"),a=e("./comment-xform"),l=n.exports=function(){this.map={comment:new a}};o.inherits(l,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,d){d=d||this.model,c.openXml(i.StdDocAttributes),c.openNode("comments",l.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),d.comments.forEach(f=>{this.map.comment.render(c,f)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,u,a){(u===a[2]||this.tag==="x:SizeWithCells"&&u===a[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(o){const u=Math.floor(o.left),a=Math.floor(68*(o.left-u)),l=Math.floor(o.top),c=Math.floor(18*(o.top-l)),d=Math.floor(o.right),f=Math.floor(68*(o.right-d)),h=Math.floor(o.bottom);return[u,a,l,c,d,f,h,Math.floor(18*(o.bottom-h))]}getDefaultRect(o){const u=o.col,a=Math.max(o.row-2,0);return[u,6,a,14,u+2,2,a+4,16]}render(o,u){const a=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);o.leafNode("x:Anchor",null,a.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const i=e("../base-xform"),o=e("./vml-anchor-xform"),u=e("./style/vml-protection-xform"),a=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,d){const{protection:f,editAs:h}=d.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,h,l),this.map["x:SizeWithCells"].render(c,h,l),this.map["x:Anchor"].render(c,d),this.map["x:Locked"].render(c,f.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,f.lockText),c.leafNode("x:Row",null,d.refAddress.row-1),c.leafNode("x:Column",null,d.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(c).length;this.model.editAs=l[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./vml-shape-xform");class a extends o{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(c,d){c.openXml(i.StdDocAttributes),c.openNode(this.tag,a.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),d.comments.forEach((f,h)=>{this.map["v:shape"].render(c,f,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,d){c.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const i=e("../base-xform"),o=e("./vml-textbox-xform"),u=e("./vml-client-data-xform");class a extends i{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new u}}get tag(){return"v:shape"}render(c,d,f){c.openNode("v:shape",a.V_SHAPE_ATTRIBUTES(d,f)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,d),this.map["x:ClientData"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}a.V_SHAPE_ATTRIBUTES=(l,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),n.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(o,u,a){return`${parseFloat(o)*u.toFixed(2)}${a}`}reverseConversionUnit(o){return(o||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(o,u){const a={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:l}=u.note&&u.note.margins;Array.isArray(l)&&(l=l.map(c=>this.conversionUnit(c,10,"mm")).join(",")),l&&(a.inset=l)}o.openNode("v:textbox",a),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,u){this.model[o]=u.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,u){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,u.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,u){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(a=>{o.leafNode("vt:lpstr",void 0,a.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../simple/string-xform"),a=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class c extends o{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new l}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("Properties",c.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform");class u extends o{render(l,c){l.openXml(i.StdDocAttributes),l.openNode("Types",u.PROPERTY_ATTRIBUTES);const d={};(c.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;d[h]||(d[h]=!0,l.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;l.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(f=>{l.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(f=>{l.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(f=>{let{commentName:h}=f;l.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../simple/date-xform"),a=e("../simple/string-xform"),l=e("../simple/integer-xform");class c extends o{constructor(){super(),this.map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(o,u){o.leafNode("Relationship",u)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./relationship-xform");class a extends o{constructor(){super(),this.map={Relationship:new u}}render(c,d){d=d||this._values,c.openXml(i.StdDocAttributes),c.openNode("Relationships",a.RELATIONSHIPS_ATTRIBUTES),d.forEach(f=>{this.map.Relationship.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,u){if(o&&o.rId){const a=u.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(a){const l=a[1],c=u.mediaIndex[l];return u.media[c]}}}}},{"../base-xform":32}],57:[function(e,n,s){const i=e("../base-xform"),o=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(u,a){u.openNode(this.tag),this.map["a:blip"].render(u,a),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(o,u){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const i=e("../base-xform"),o=e("./hlink-click-xform"),u=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(a,l){a.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(a,l),this.map["a:extLst"].render(a,l),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const i=e("../base-xform"),o=e("../simple/integer-xform");n.exports=class extends i{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(u,a){u.openNode(this.tag),this.map["xdr:col"].render(u,a.nativeCol),this.map["xdr:colOff"].render(u,a.nativeColOff),this.map["xdr:row"].render(u,a.nativeRow),this.map["xdr:rowOff"].render(u,a.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const i=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),u=e("../base-xform"),a=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class c extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new l}}prepare(f){f.anchors.forEach((h,g)=>{h.anchorType=function(v){return(typeof v.range=="string"?i.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(o.StdDocAttributes),f.openNode(this.tag,c.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,u){o.openNode(this.tag);const a=Math.floor(9525*u.width),l=Math.floor(9525*u.height);o.addAttribute("cx",a),o.addAttribute("cy",l),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(o,u){u.hyperlinks&&u.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const i=e("../base-xform"),o=e("./c-nv-pr-xform"),u=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(a,l){a.openNode(this.tag),this.map["xdr:cNvPr"].render(a,l),this.map["xdr:cNvPicPr"].render(a,l),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),u=e("./cell-position-xform"),a=e("./ext-xform"),l=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,d){this.map["xdr:pic"].prepare(c.picture,d)}render(c,d){c.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,d.range.tl),this.map["xdr:ext"].render(c,d.range.ext),this.map["xdr:pic"].render(c,d.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,d){c.medium=this.reconcilePicture(c.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const i=e("../base-xform"),o=e("../static-xform"),u=e("./blip-fill-xform"),a=e("./nv-pic-pr-xform"),l=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new a,"xdr:blipFill":new u,"xdr:spPr":new o(l)}}get tag(){return"xdr:pic"}prepare(c,d){c.index=d.index+1}render(c,d){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,d),this.map["xdr:blipFill"].render(c,d),this.map["xdr:spPr"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),u=e("./cell-position-xform"),a=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:to"].render(l,c.range.br),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,u){const{childXform:a}=this;o&&o.forEach((l,c)=>{u.index=c,a.prepare(l,u)})}render(o,u){if(this.always||u&&u.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,u&&u.length||0);const{childXform:a}=this;(u||[]).forEach((l,c)=>{a.render(o,l,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,u){if(o){const{childXform:a}=this;o.forEach(l=>{a.reconcile(l,u)})}}}},{"./base-xform":32}],72:[function(e,n,s){const i=e("../../../utils/col-cache"),o=e("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(u,a){if(a)if(typeof a=="string")u.leafNode("autoFilter",{ref:a});else{const l=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},c=l(a.from),d=l(a.to);c&&d&&u.leafNode("autoFilter",{ref:`${c}:${d}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const i=e("../../../utils/utils"),o=e("../base-xform"),u=e("../../../doc/range"),a=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function c(d){if(d==null)return a.ValueType.Null;if(d instanceof String||typeof d=="string")return a.ValueType.String;if(typeof d=="number")return a.ValueType.Number;if(typeof d=="boolean")return a.ValueType.Boolean;if(d instanceof Date)return a.ValueType.Date;if(d.text&&d.hyperlink)return a.ValueType.Hyperlink;if(d.formula)return a.ValueType.Formula;if(d.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(d,f){const h=f.styles.addStyleModel(d.style||{},function(g){switch(g.type){case a.ValueType.Formula:return c(g.result);default:return g.type}}(d));switch(h&&(d.styleId=h),d.comment&&f.comments.push({...d.comment,ref:d.address}),d.type){case a.ValueType.String:case a.ValueType.RichText:f.sharedStrings&&(d.ssId=f.sharedStrings.add(d.value));break;case a.ValueType.Date:f.date1904&&(d.date1904=!0);break;case a.ValueType.Hyperlink:f.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=f.sharedStrings.add(d.text)),f.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case a.ValueType.Merge:f.merges.add(d);break;case a.ValueType.Formula:if(f.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=f.siFormulae++),d.formula)f.formulae[d.address]=d;else if(d.sharedFormula){const g=f.formulae[d.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new u(g.address,d.address)):g.range&&g.range.expandToAddress(d.address),d.si=g.si}}}renderFormula(d,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(c(f.result)){case a.ValueType.Null:d.leafNode("f",h,f.formula);break;case a.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case a.ValueType.Number:d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case a.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result?1:0);break;case a.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result.error);break;case a.ValueType.Date:d.leafNode("f",h,f.formula),d.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,f){if(f.type!==a.ValueType.Null||f.styleId){switch(d.openNode("c"),d.addAttribute("r",f.address),f.styleId&&d.addAttribute("s",f.styleId),f.type){case a.ValueType.Null:break;case a.ValueType.Number:d.leafNode("v",null,f.value);break;case a.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,f.value?"1":"0");break;case a.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,f.value.error);break;case a.ValueType.String:case a.ValueType.RichText:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(d,h)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,f.value));break;case a.ValueType.Date:d.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case a.ValueType.Hyperlink:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,f.text));break;case a.ValueType.Formula:this.renderFormula(d,f);break;case a.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=a.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=a.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=a.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=a.ValueType.String;break;case"b":f.type=a.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=a.ValueType.Error,f.value={error:f.value};break;default:f.type=a.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=a.ValueType.Null:f.type=a.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,f){const h=d.styleId&&f.styles&&f.styles.getStyleModel(d.styleId);switch(h&&(d.style=h),d.styleId!==void 0&&(d.styleId=void 0),d.type){case a.ValueType.String:typeof d.value=="number"&&f.sharedStrings&&(d.value=f.sharedStrings.getString(d.value)),d.value.richText&&(d.type=a.ValueType.RichText);break;case a.ValueType.Number:h&&i.isDateFmt(h.numFmt)&&(d.type=a.ValueType.Date,d.value=i.excelToDate(d.value,f.date1904));break;case a.ValueType.Formula:d.result!==void 0&&h&&i.isDateFmt(h.numFmt)&&(d.result=i.excelToDate(d.result,f.date1904)),d.shareType==="shared"&&(d.ref?f.formulae[d.si]=d.address:(d.sharedFormula=f.formulae[d.si],delete d.shareType),delete d.si)}const g=f.hyperlinkMap[d.address];g&&(d.type===a.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=a.ValueType.Hyperlink,d.hyperlink=g);const v=f.commentsMap&&f.commentsMap[d.address];v&&(d.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(o,u){o.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(o){let{attributes:u}=o;this.model={iconSet:u.iconSet,iconId:i.toIntValue(u.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:i}=e("uuid"),o=e("../../base-xform"),u=e("../../composite-xform"),a=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new a,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?a.isExt(h):!(h.type!=="iconSet"||!h.custom&&!c[h.iconSet])}prepare(h){d.isExt(h)&&(h.x14Id=`{${i()}}`.toUpperCase())}render(h,g){if(d.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const i=e("../../composite-xform"),o=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(u,a){u.openNode(this.tag,{type:a.type}),a.value!==void 0&&this.fExtXform.render(u,a.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,a){switch(u){case"xm:f":this.model.value=a.model?parseFloat(a.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const i=e("../../composite-xform"),o=e("./sqref-ext-xform"),u=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(a,l){a.rules.forEach(c=>{this.cfRule.prepare(c,l)})}render(a,l){l.rules.some(u.isExt)&&(a.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(u.isExt).forEach(c=>this.cfRule.render(a,c)),this.sqRef.render(a,l.ref),a.closeNode())}createNewModel(){return{rules:[]}}onParserClose(a,l){switch(a){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const i=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),u=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(a){return a.hasExtContent===void 0&&(a.hasExtContent=a.some(l=>l.rules.some(o.isExt))),a.hasExtContent}prepare(a,l){a.forEach(c=>{this.cfXform.prepare(c,l)})}render(a,l){this.hasContent(l)&&(a.openNode(this.tag),l.forEach(c=>this.cfXform.render(a,c)),a.closeNode())}createNewModel(){return[]}onParserClose(a,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("../../style/color-xform"),a=e("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,c){l.openNode(this.tag,{minLength:i.toIntAttribute(c.minLength,0,!0),maxLength:i.toIntAttribute(c.maxLength,100,!0),border:i.toBoolAttribute(c.border,!1),gradient:i.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(c.axisPosition,"auto"),direction:i.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),this.borderColorXform.render(l,c.borderColor),this.negativeBorderColorXform.render(l,c.negativeBorderColor),this.negativeFillColorXform.render(l,c.negativeFillColor),this.axisColorXform.render(l,c.axisColor),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{cfvo:[],minLength:i.toIntValue(c.minLength,0),maxLength:i.toIntValue(c.maxLength,100),border:i.toBoolValue(c.border,!1),gradient:i.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(c.axisPosition,"auto"),direction:i.toStringValue(c.direction,"leftToRight")}}onParserClose(l,c){const[,d]=l.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("./cfvo-ext-xform"),a=e("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new a}}get tag(){return"x14:iconSet"}render(l,c){l.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0),custom:i.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),c.icons&&c.icons.forEach((d,f)=>{d.iconId=f,this.cfIconXform.render(l,d)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{cfvo:[],iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse,!1),showValue:i.toBoolValue(c.showValue,!0)}}onParserClose(l,c){const[,d]=l.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("../../../../doc/range"),a=e("./databar-xform"),l=e("./ext-lst-ref-xform"),c=e("./formula-xform"),d=e("./color-scale-xform"),f=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:y,operator:m}=p;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:m}}};class v extends o{constructor(){super(),this.map={dataBar:this.databarXform=new a,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!h[y.iconSet]}render(y,m){switch(m.type){case"expression":this.renderExpression(y,m);break;case"cellIs":this.renderCellIs(y,m);break;case"top10":this.renderTop10(y,m);break;case"aboveAverage":this.renderAboveAverage(y,m);break;case"dataBar":this.renderDataBar(y,m);break;case"colorScale":this.renderColorScale(y,m);break;case"iconSet":this.renderIconSet(y,m);break;case"containsText":this.renderText(y,m);break;case"timePeriod":this.renderTimePeriod(y,m)}}renderExpression(y,m){y.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(y,m.formulae[0]),y.closeNode()}renderCellIs(y,m){y.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(b=>{this.formulaXform.render(y,b)}),y.closeNode()}renderTop10(y,m){y.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:i.toBoolAttribute(m.percent,!1),bottom:i.toBoolAttribute(m.bottom,!1),rank:i.toIntValue(m.rank,10,!0)})}renderAboveAverage(y,m){y.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:i.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(y,m){y.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(y,m),this.extLstRefXform.render(y,m),y.closeNode()}renderColorScale(y,m){y.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(y,m),y.closeNode()}renderIconSet(y,m){v.isPrimitive(m)&&(y.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(y,m),y.closeNode())}renderText(y,m){y.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:i.toStringAttribute(m.operator,"containsText")});const b=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const N=new u(k.ref),{tl:F}=N;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${F})))`;case"containsBlanks":return`LEN(TRIM(${F}))=0`;case"notContainsBlanks":return`LEN(TRIM(${F}))>0`;case"containsErrors":return`ISERROR(${F})`;case"notContainsErrors":return`NOT(ISERROR(${F}))`;default:return}})(m);b&&this.formulaXform.render(y,b),y.closeNode()}renderTimePeriod(y,m){y.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const b=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const N=new u(k.ref),{tl:F}=N;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${F},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${F},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${F},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${F},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${F},1)=TODAY()-1`;case"today":return`FLOOR(${F},1)=TODAY()`;case"tomorrow":return`FLOOR(${F},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${F},1)<=6,FLOOR(${F},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0-1)),YEAR(${F})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${F})=MONTH(TODAY()),YEAR(${F})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0+1)),YEAR(${F})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);b&&this.formulaXform.render(y,b),y.closeNode()}createNewModel(y){let{attributes:m}=y;return{...g(m),dxfId:i.toIntValue(m.dxfId),priority:i.toIntValue(m.priority),timePeriod:m.timePeriod,percent:i.toBoolValue(m.percent),bottom:i.toBoolValue(m.bottom),rank:i.toIntValue(m.rank),aboveAverage:i.toBoolValue(m.aboveAverage)}}onParserClose(y,m){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}n.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(o,u){o.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(o){this.model={type:o.attributes.type,value:i.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const i=e("../../composite-xform"),o=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new o}}get tag(){return"colorScale"}render(a,l){a.openNode(this.tag),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),l.color.forEach(c=>{this.colorXform.render(a,c)}),a.closeNode()}createNewModel(a){return{cfvo:[],color:[]}}onParserClose(a,l){this.model[a].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const i=e("../../composite-xform"),o=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(u,a){a.rules.some(o.isPrimitive)&&(u.openNode(this.tag,{sqref:a.ref}),a.rules.forEach(l=>{o.isPrimitive(l)&&(l.ref=a.ref,this.map.cfRule.render(u,l))}),u.closeNode())}createNewModel(u){let{attributes:a}=u;return{ref:a.sqref,rules:[]}}onParserClose(u,a){this.model.rules.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const i=e("../../base-xform"),o=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,a){let l=u.reduce((c,d)=>Math.max(c,...d.rules.map(f=>f.priority||0)),1);u.forEach(c=>{c.rules.forEach(d=>{d.priority||(d.priority=l++),d.style&&(d.dxfId=a.styles.addDxfStyle(d.style))})})}render(u,a){a.forEach(l=>{this.cfXform.render(u,l)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,a){u.forEach(l=>{l.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=a.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const i=e("../../composite-xform"),o=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new o}}get tag(){return"dataBar"}render(a,l){a.openNode(this.tag),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.colorXform.render(a,l.color),a.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(a,l){switch(a){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform");class u extends i{get tag(){return"x14:id"}render(c,d){c.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class a extends o{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(c,d){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,d.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){this.model.x14Id=d.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new a}}get tag(){return"extLst"}render(l,c){l.openNode(this.tag),this.map.ext.render(l,c),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(a,l){a.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse),showValue:i.toBoolValue(l.showValue),cfvo:[]}}onParserClose(a,l){this.model[a].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const i=e("../../../utils/utils"),o=e("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(u,a){const l=a.styles.addStyleModel(u.style||{});l&&(u.styleId=l)}render(u,a){u.openNode("col"),u.addAttribute("min",a.min),u.addAttribute("max",a.max),a.width&&u.addAttribute("width",a.width),a.styleId&&u.addAttribute("style",a.styleId),a.hidden&&u.addAttribute("hidden","1"),a.bestFit&&u.addAttribute("bestFit","1"),a.outlineLevel&&u.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const a=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(a.styleId=parseInt(u.attributes.style,10)),i.parseBoolean(u.attributes.hidden)&&(a.hidden=!0),i.parseBoolean(u.attributes.bestFit)&&(a.bestFit=!0),u.attributes.outlineLevel&&(a.outlineLevel=parseInt(u.attributes.outlineLevel,10)),i.parseBoolean(u.attributes.collapsed)&&(a.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,a){u.styleId&&(u.style=a.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../utils/utils"),u=e("../../../utils/col-cache"),a=e("../base-xform"),l=e("../../../doc/range");function c(f,h,g,v){const p=h[g];p!==void 0?f[g]=p:v!==void 0&&(f[g]=v)}function d(f,h,g,v){const p=h[g];p!==void 0&&(f[g]=o.parseBoolean(p))}n.exports=class extends a{get tag(){return"dataValidations"}render(f,h){const g=function(v){const p=i.map(v,(b,k)=>({address:k,dataValidation:b,marked:!1})).sort((b,k)=>i.strcmp(b.address,k.address)),y=i.keyBy(p,"address"),m=(b,k,N)=>{for(let F=0;F<k;F++){const j=u.encodeAddress(b.row+F,N);if(!v[j]||!i.isEqual(v[b.address],v[j]))return!1}return!0};return p.map(b=>{if(!b.marked){const k=u.decodeEx(b.address);if(k.dimensions)return y[k.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let N=1,F=u.encodeAddress(k.row+N,k.col);for(;v[F]&&i.isEqual(b.dataValidation,v[F]);)N++,F=u.encodeAddress(k.row+N,k.col);let j=1;for(;m(k,N,k.col+j);)j++;for(let T=0;T<N;T++)for(let M=0;M<j;M++)F=u.encodeAddress(k.row+T,k.col+M),y[F].marked=!0;if(N>1||j>1){const T=k.row+(N-1),M=k.col+(j-1);return{...b.dataValidation,sqref:`${b.address}:${u.encodeAddress(T,M)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(h);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(v=>{f.openNode("dataValidation"),v.type!=="any"&&(f.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&f.addAttribute("operator",v.operator),v.allowBlank&&f.addAttribute("allowBlank","1")),v.showInputMessage&&f.addAttribute("showInputMessage","1"),v.promptTitle&&f.addAttribute("promptTitle",v.promptTitle),v.prompt&&f.addAttribute("prompt",v.prompt),v.showErrorMessage&&f.addAttribute("showErrorMessage","1"),v.errorStyle&&f.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&f.addAttribute("errorTitle",v.errorTitle),v.error&&f.addAttribute("error",v.error),f.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((p,y)=>{f.openNode("formula"+(y+1)),v.type==="date"?f.writeText(o.dateToExcel(new Date(p))):f.writeText(p),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&d(h,f.attributes,"allowBlank"),d(h,f.attributes,"showInputMessage"),d(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:c(h,f.attributes,"operator","between")}return c(h,f.attributes,"promptTitle"),c(h,f.attributes,"prompt"),c(h,f.attributes,"errorStyle"),c(h,f.attributes,"errorTitle"),c(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new l(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=o.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(o,u){u&&o.leafNode("dimension",{ref:u})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const i=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class u extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,c){this.conditionalFormattings.prepare(l.conditionalFormattings,c)}render(l,c){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,c.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model[l]=c.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(a,l){this.ext.prepare(a,l)}hasContent(a){return this.ext.hasContent(a)}render(a,l){this.hasContent(l)&&(a.openNode("extLst"),this.ext.render(a,l),a.closeNode())}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(o,u){if(u){o.addRollback();let a=!1;o.openNode("headerFooter"),u.differentFirst&&(o.addAttribute("differentFirst","1"),a=!0),u.differentOddEven&&(o.addAttribute("differentOddEven","1"),a=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(o.leafNode("oddHeader",null,u.oddHeader),a=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(o.leafNode("oddFooter",null,u.oddFooter),a=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(o.leafNode("evenHeader",null,u.evenHeader),a=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(o.leafNode("evenFooter",null,u.evenFooter),a=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(o.leafNode("firstHeader",null,u.firstHeader),a=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(o.leafNode("firstFooter",null,u.firstFooter),a=!0),a?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(o,u){this.isInternalLink(u)?o.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):o.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(o,u){o.leafNode("mergeCell",{ref:u})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../doc/range"),u=e("../../../utils/col-cache"),a=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const c=`${l.master}:${l.address}`;this.merges[l.master]=new o(c)}}get mergeCells(){return i.map(this.merges,l=>l.range)}reconcile(l,c){i.each(l,d=>{const f=u.decode(d);for(let h=f.top;h<=f.bottom;h++){const g=c[h-1];for(let v=f.left;v<=f.right;v++){const p=g.cells[v-1];p?p.type===a.ValueType.Merge&&(p.master=f.tl):g.cells[v]={type:a.ValueType.Null,address:u.encodeAddress(h,v)}}}})}getMasterAddress(l){const c=this.hash[l];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const i=e("../base-xform"),o=u=>u!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(u,a){return!(!a||!o(a.summaryBelow)&&!o(a.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:o(a.summaryBelow)?Number(a.summaryBelow):void 0,summaryRight:o(a.summaryRight)?Number(a.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:o(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:o(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(o,u){o.leafNode("brk",u)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(u,a){if(a){const l={left:a.left,right:a.right,top:a.top,bottom:a.bottom,header:a.header,footer:a.footer};i.some(l,c=>c!==void 0)&&u.leafNode(this.tag,l)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(o,u){return!(!u||!u.fitToPage)&&(o.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");function u(d){return d?"1":void 0}function a(d){switch(d){case"overThenDown":return d;default:return}}function l(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function c(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(d,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:a(f.pageOrder),blackAndWhite:u(f.blackAndWhite),draft:u(f.draft),cellComments:l(f.cellComments),errors:c(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:u(f.firstPageNumber),usePrinterDefaults:u(f.usePrinterDefaults),copies:f.copies};i.some(h,g=>g!==void 0)&&d.leafNode(this.tag,h)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(f=d.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");function u(a){return a?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(a,l){if(l){const c={headings:u(l.showRowColHeaders),gridLines:u(l.showGridLines),horizontalCentered:u(l.horizontalCentered),verticalCentered:u(l.verticalCentered)};i.some(c,d=>d!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={showRowColHeaders:a.attributes.headings==="1",showGridLines:a.attributes.gridLines==="1",horizontalCentered:a.attributes.horizontalCentered==="1",verticalCentered:a.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const i=e("./page-breaks-xform"),o=e("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(u,a){if(a&&a.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,a.length),u.addAttribute("manualBreakCount",a.length));const{childXform:l}=this;a.forEach(c=>{l.render(u,c)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const i=e("../base-xform"),o=e("../../../utils/utils"),u=e("./cell-xform");n.exports=class extends i{constructor(a){super(),this.maxItems=a&&a.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(a,l){const c=l.styles.addStyleModel(a.style);c&&(a.styleId=c);const d=this.map.c;a.cells.forEach(f=>{d.prepare(f,l)})}render(a,l,c){a.openNode("row"),a.addAttribute("r",l.number),l.height&&(a.addAttribute("ht",l.height),a.addAttribute("customHeight","1")),l.hidden&&a.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&a.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(a.addAttribute("s",l.styleId),a.addAttribute("customFormat","1")),a.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1");const d=this.map.c;l.cells.forEach(f=>{d.render(a,f,c)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;if(a.name==="row"){this.numRowsSeen+=1;const l=a.attributes.spans?a.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],c=this.model={number:parseInt(a.attributes.r,10),min:l[0],max:l[1],cells:[]};return a.attributes.s&&(c.styleId=parseInt(a.attributes.s,10)),o.parseBoolean(a.attributes.hidden)&&(c.hidden=!0),o.parseBoolean(a.attributes.bestFit)&&(c.bestFit=!0),a.attributes.ht&&(c.height=parseFloat(a.attributes.ht)),a.attributes.outlineLevel&&(c.outlineLevel=parseInt(a.attributes.outlineLevel,10)),o.parseBoolean(a.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(a,l){a.style=a.styleId?l.styles.getStyleModel(a.styleId):{},a.styleId!==void 0&&(a.styleId=void 0);const c=this.map.c;a.cells.forEach(d=>{c.reconcile(d,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(u,a){if(a){const l={defaultRowHeight:a.defaultRowHeight,outlineLevelRow:a.outlineLevelRow,outlineLevelCol:a.outlineLevelCol,"x14ac:dyDescent":a.dyDescent};a.defaultColWidth&&(l.defaultColWidth=a.defaultColWidth),a.defaultRowHeight&&a.defaultRowHeight===15||(l.customHeight="1"),i.some(l,c=>c!==void 0)&&u.leafNode("sheetFormatPr",l)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const i=e("../base-xform"),o=e("../style/color-xform"),u=e("./page-setup-properties-xform"),a=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new u,outlinePr:new a}}get tag(){return"sheetPr"}render(l,c){if(c){l.addRollback(),l.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(l,c.tabColor)||d,d=this.map.pageSetUpPr.render(l,c.pageSetup)||d,d=this.map.outlinePr.render(l,c.outlineProperties)||d,d?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../base-xform");function u(l,c){return l?c:void 0}function a(l,c){return l===c||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(l,c){if(c){const d={sheet:u(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:u(c.formatCells,"0"),formatColumns:u(c.formatColumns,"0"),formatRows:u(c.formatRows,"0"),insertColumns:u(c.insertColumns,"0"),insertRows:u(c.insertRows,"0"),insertHyperlinks:u(c.insertHyperlinks,"0"),deleteColumns:u(c.deleteColumns,"0"),deleteRows:u(c.deleteRows,"0"),sort:u(c.sort,"0"),autoFilter:u(c.autoFilter,"0"),pivotTables:u(c.pivotTables,"0")};c.sheet&&(d.algorithmName=c.algorithmName,d.hashValue=c.hashValue,d.saltValue=c.saltValue,d.spinCount=c.spinCount,d.objects=u(c.objects===!1,"1"),d.scenarios=u(c.scenarios===!1,"1")),i.some(d,f=>f!==void 0)&&l.leafNode(this.tag,d)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:a(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:a(l.attributes.formatCells,"0"),formatColumns:a(l.attributes.formatColumns,"0"),formatRows:a(l.attributes.formatRows,"0"),insertColumns:a(l.attributes.insertColumns,"0"),insertRows:a(l.attributes.insertRows,"0"),insertHyperlinks:a(l.attributes.insertHyperlinks,"0"),deleteColumns:a(l.attributes.deleteColumns,"0"),deleteRows:a(l.attributes.deleteRows,"0"),sort:a(l.attributes.sort,"0"),autoFilter:a(l.attributes.autoFilter,"0"),pivotTables:a(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const i=e("../../../utils/col-cache"),o=e("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(a){switch(a.state){case"frozen":case"split":break;default:a.state="normal"}}render(a,l){a.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const c=function(v,p,y){y&&a.addAttribute(v,p)};let d,f,h,g;switch(c("rightToLeft","1",l.rightToLeft===!0),c("tabSelected","1",l.tabSelected),c("showRuler","0",l.showRuler===!1),c("showRowColHeaders","0",l.showRowColHeaders===!1),c("showGridLines","0",l.showGridLines===!1),c("zoomScale",l.zoomScale,l.zoomScale),c("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),c("view",l.style,l.style),l.state){case"frozen":f=l.xSplit||0,h=l.ySplit||0,d=l.topLeftCell||i.getAddress(h+1,f+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",a.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:d,activePane:g,state:"frozen"}),a.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),a.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),a.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&a.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}a.closeNode()}parseOpen(a){switch(a.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(a.attributes.workbookViewId,10),rightToLeft:a.attributes.rightToLeft==="1",tabSelected:a.attributes.tabSelected==="1",showRuler:a.attributes.showRuler!=="0",showRowColHeaders:a.attributes.showRowColHeaders!=="0",showGridLines:a.attributes.showGridLines!=="0",zoomScale:parseInt(a.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(a.attributes.zoomScaleNormal||"100",10),style:a.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(a.attributes.xSplit||"0",10),ySplit:parseInt(a.attributes.ySplit||"0",10),topLeftCell:a.attributes.topLeftCell,activePane:a.attributes.activePane||"topLeft",state:a.attributes.state},!0;case"selection":{const l=a.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:a.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(a){let l,c;switch(a){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(l.activeCell=c.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(l.activeCell=c.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),a=e("../../rel-type"),l=e("./merges"),c=e("../base-xform"),d=e("../list-xform"),f=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),v=e("./hyperlink-xform"),p=e("./merge-cell-xform"),y=e("./data-validations-xform"),m=e("./sheet-properties-xform"),b=e("./sheet-format-properties-xform"),k=e("./sheet-view-xform"),N=e("./sheet-protection-xform"),F=e("./page-margins-xform"),j=e("./page-setup-xform"),T=e("./print-options-xform"),M=e("./auto-filter-xform"),B=e("./picture-xform"),O=e("./drawing-xform"),R=e("./table-part-xform"),E=e("./row-breaks-xform"),I=e("./header-footer-xform"),A=e("./cf/conditional-formattings-xform"),w=e("./ext-lst-xform"),_=(S,C)=>{if(!C||!C.length)return S;if(!S||!S.length)return C;const q={},P={};return S.forEach(H=>{q[H.ref]=H,H.rules.forEach(X=>{const{x14Id:Z}=X;Z&&(P[Z]=X)})}),C.forEach(H=>{H.rules.forEach(X=>{const Z=P[X.x14Id];Z?((V,Q)=>{Object.keys(Q).forEach(z=>{const D=V[z],W=Q[z];D===void 0&&W!==void 0&&(V[z]=W)})})(Z,X):q[H.ref]?q[H.ref].rules.push(X):S.push({ref:H.ref,rules:[X]})})}),S};class x extends c{constructor(C){super();const{maxRows:q,maxCols:P,ignoreNodes:H}=C||{};this.ignoreNodes=H||[],this.map={sheetPr:new m,dimension:new g,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new b,cols:new d({tag:"cols",count:!1,childXform:new h}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:P}),maxItems:q}),autoFilter:new M,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new E,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new F,dataValidations:new y,pageSetup:new j,headerFooter:new I,printOptions:new T,picture:new B,drawing:new O,sheetProtection:new N,tableParts:new d({tag:"tableParts",count:!0,childXform:new R}),conditionalFormatting:new A,extLst:new w}}prepare(C,q){q.merges=new l,C.hyperlinks=q.hyperlinks=[],C.comments=q.comments=[],q.formulae={},q.siFormulae=0,this.map.cols.prepare(C.cols,q),this.map.sheetData.prepare(C.rows,q),this.map.conditionalFormatting.prepare(C.conditionalFormattings,q),C.mergeCells=q.merges.mergeCells;const P=C.rels=[];function H(V){return"rId"+(V.length+1)}if(C.hyperlinks.forEach(V=>{const Q=H(P);V.rId=Q,P.push({Id:Q,Type:a.Hyperlink,Target:V.target,TargetMode:"External"})}),C.comments.length>0){const V={Id:H(P),Type:a.Comments,Target:`../comments${C.id}.xml`};P.push(V);const Q={Id:H(P),Type:a.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};P.push(Q),C.comments.forEach(z=>{z.refAddress=o.decodeAddress(z.ref)}),q.commentRefs.push({commentName:"comments"+C.id,vmlDrawing:"vmlDrawing"+C.id})}const X=[];let Z;C.media.forEach(V=>{if(V.type==="background"){const Q=H(P);Z=q.media[V.imageId],P.push({Id:Q,Type:a.Image,Target:`../media/${Z.name}.${Z.extension}`}),C.background={rId:Q},C.image=q.media[V.imageId]}else if(V.type==="image"){let{drawing:Q}=C;Z=q.media[V.imageId],Q||(Q=C.drawing={rId:H(P),name:"drawing"+ ++q.drawingsCount,anchors:[],rels:[]},q.drawings.push(Q),P.push({Id:Q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Q.name}.xml`}));let z=this.preImageId===V.imageId?X[V.imageId]:X[Q.rels.length];z||(z=H(Q.rels),X[Q.rels.length]=z,Q.rels.push({Id:z,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Z.name}.${Z.extension}`}));const D={picture:{rId:z},range:V.range};if(V.hyperlinks&&V.hyperlinks.hyperlink){const W=H(Q.rels);X[Q.rels.length]=W,D.picture.hyperlinks={tooltip:V.hyperlinks.tooltip,rId:W},Q.rels.push({Id:W,Type:a.Hyperlink,Target:V.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=V.imageId,Q.anchors.push(D)}}),C.tables.forEach(V=>{const Q=H(P);V.rId=Q,P.push({Id:Q,Type:a.Table,Target:"../tables/"+V.target}),V.columns.forEach(z=>{const{style:D}=z;D&&(z.dxfId=q.styles.addDxfStyle(D))})}),this.map.extLst.prepare(C,q)}render(C,q){C.openXml(u.StdDocAttributes),C.openNode("worksheet",x.WORKSHEET_ATTRIBUTES);const P=q.properties?{defaultRowHeight:q.properties.defaultRowHeight,dyDescent:q.properties.dyDescent,outlineLevelCol:q.properties.outlineLevelCol,outlineLevelRow:q.properties.outlineLevelRow}:void 0;q.properties&&q.properties.defaultColWidth&&(P.defaultColWidth=q.properties.defaultColWidth);const H={outlineProperties:q.properties&&q.properties.outlineProperties,tabColor:q.properties&&q.properties.tabColor,pageSetup:q.pageSetup&&q.pageSetup.fitToPage?{fitToPage:q.pageSetup.fitToPage}:void 0},X=q.pageSetup&&q.pageSetup.margins,Z={showRowColHeaders:q.pageSetup&&q.pageSetup.showRowColHeaders,showGridLines:q.pageSetup&&q.pageSetup.showGridLines,horizontalCentered:q.pageSetup&&q.pageSetup.horizontalCentered,verticalCentered:q.pageSetup&&q.pageSetup.verticalCentered},V=q.sheetProtection;this.map.sheetPr.render(C,H),this.map.dimension.render(C,q.dimensions),this.map.sheetViews.render(C,q.views),this.map.sheetFormatPr.render(C,P),this.map.cols.render(C,q.cols),this.map.sheetData.render(C,q.rows),this.map.sheetProtection.render(C,V),this.map.autoFilter.render(C,q.autoFilter),this.map.mergeCells.render(C,q.mergeCells),this.map.conditionalFormatting.render(C,q.conditionalFormattings),this.map.dataValidations.render(C,q.dataValidations),this.map.hyperlinks.render(C,q.hyperlinks),this.map.printOptions.render(C,Z),this.map.pageMargins.render(C,X),this.map.pageSetup.render(C,q.pageSetup),this.map.headerFooter.render(C,q.headerFooter),this.map.rowBreaks.render(C,q.rowBreaks),this.map.drawing.render(C,q.drawing),this.map.picture.render(C,q.background),this.map.tableParts.render(C,q.tables),this.map.extLst.render(C,q),q.rels&&q.rels.forEach(Q=>{Q.Type===a.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":Q.Id})}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name==="worksheet"?(i.each(this.map,q=>{q.reset()}),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"worksheet":{const q=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(q.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(q.outlineProperties=this.map.sheetPr.model.outlineProperties);const P={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},H=Object.assign(P,this.map.pageSetup.model,this.map.printOptions.model),X=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:q,views:this.map.sheetViews.model,pageSetup:H,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:X},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(C,q){const P=(C.relationships||[]).reduce((X,Z)=>{if(X[Z.Id]=Z,Z.Type===a.Comments&&(C.comments=q.comments[Z.Target].comments),Z.Type===a.VmlDrawing&&C.comments&&C.comments.length){const V=q.vmlDrawings[Z.Target].comments;C.comments.forEach((Q,z)=>{Q.note=Object.assign({},Q.note,V[z])})}return X},{});if(q.commentsMap=(C.comments||[]).reduce((X,Z)=>(Z.ref&&(X[Z.ref]=Z),X),{}),q.hyperlinkMap=(C.hyperlinks||[]).reduce((X,Z)=>(Z.rId&&(X[Z.address]=P[Z.rId].Target),X),{}),q.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach(X=>{X.cells=X.cells&&X.cells.filter(Boolean)||[]}),this.map.cols.reconcile(C.cols,q),this.map.sheetData.reconcile(C.rows,q),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,q),C.media=[],C.drawing){const X=P[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(X){const Z=X[1];q.drawings[Z].anchors.forEach(V=>{if(V.medium){const Q={type:"image",imageId:V.medium.index,range:V.range,hyperlinks:V.picture.hyperlinks};C.media.push(Q)}})}}const H=C.background&&P[C.background.rId];if(H){const X=H.Target.split("/media/")[1],Z=q.mediaIndex&&q.mediaIndex[X];Z!==void 0&&C.media.push({type:"background",imageId:Z})}C.tables=(C.tables||[]).map(X=>{const Z=P[X.rId];return q.tables[Z.Target]}),delete C.relationships,delete C.hyperlinks,delete C.comments}}x.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=x},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,u){u&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=o.parse||function(u){return new Date(u)}}render(o,u){u&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(u)):o.writeText(this._format(u)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,u){(u||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,u):o.writeText(u),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,u){u!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,u):o.writeText(u),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const i=e("./base-xform"),o=e("../../utils/xml-stream");n.exports=class extends i{constructor(u){super(),this._model=u}render(u){if(!this._xml){const a=new o;(function l(c,d){c.openNode(d.tag,d.$),d.c&&d.c.forEach(f=>{l(c,f)}),d.t&&c.writeText(d.t),c.closeNode()})(a,this._model),this._xml=a.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const i=e("./text-xform"),o=e("./rich-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(){super(),this.map={r:new o,t:new i}}get tag(){return"rPh"}render(a,l){if(a.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:c}=this.map;l.richText.forEach(d=>{c.render(a,d)})}else l&&this.map.t.render(a,l.text);a.closeNode()}parseOpen(a){const{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={sb:parseInt(a.attributes.sb,10),eb:parseInt(a.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const i=e("./text-xform"),o=e("../style/font-xform"),u=e("../base-xform");class a extends u{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new o(a.FONT_OPTIONS))}render(c,d){d=d||this.model,c.openNode("r"),d.font&&this.fontXform.render(c,d.font),this.textXform.render(c,d.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}a.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=a},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const i=e("./text-xform"),o=e("./rich-text-xform"),u=e("./phonetic-text-xform"),a=e("../base-xform");n.exports=class extends a{constructor(l){super(),this.model=l,this.map={r:new o,t:new i,rPh:new u}}get tag(){return"si"}render(l,c){l.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(d=>{this.map.r.render(l,d)}):this.map.t.render(l,""):c!=null&&this.map.t.render(l,c),l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./shared-string-xform");n.exports=class extends o{constructor(a){super(),this.model=a||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(a){return this.model.values[a]}add(a){return a.richText?this.addRichText(a):this.addText(a)}addText(a){let l=this.hash[a];return l===void 0&&(l=this.hash[a]=this.model.values.length,this.model.values.push(a)),this.model.count++,l}addRichText(a){const l=this.sharedStringXform.toXml(a);let c=this.rich[l];return c===void 0&&(c=this.rich[l]=this.model.values.length,this.model.values.push(a)),this.model.count++,c}render(a,l){l=l||this._values,a.openXml(i.StdDocAttributes),a.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const c=this.sharedStringXform;l.values.forEach(d=>{c.render(a,d)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(a),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(a){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(o,u){o.openNode("t"),/^\s|\n|\s$/.test(u)&&o.addAttribute("xml:space","preserve"),o.writeText(u),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const i=e("../../../doc/enums"),o=e("../../../utils/utils"),u=e("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=o.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=o.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},l={toXml(c){if(c=a.textRotation(c)){if(c==="vertical")return 255;const d=Math.round(c);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(c){const d=o.validInt(c);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends u{get tag(){return"alignment"}render(c,d){c.addRollback(),c.openNode("alignment");let f=!1;function h(g,v){v&&(c.addAttribute(g,v),f=!0)}h("horizontal",a.horizontal(d.horizontal)),h("vertical",a.vertical(d.vertical)),h("wrapText",!!a.wrapText(d.wrapText)&&"1"),h("shrinkToFit",!!a.shrinkToFit(d.shrinkToFit)&&"1"),h("indent",a.indent(d.indent)),h("textRotation",l.toXml(d.textRotation)),h("readingOrder",a.readingOrder(d.readingOrder)),c.closeNode(),f?c.commit():c.rollback()}parseOpen(c){const d={};let f=!1;function h(g,v,p){g&&(d[v]=p,f=!0)}h(c.attributes.horizontal,"horizontal",c.attributes.horizontal),h(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),h(c.attributes.wrapText,"wrapText",o.parseBoolean(c.attributes.wrapText)),h(c.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(c.attributes.shrinkToFit)),h(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),h(c.attributes.textRotation,"textRotation",l.toModel(c.attributes.textRotation)),h(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const i=e("../base-xform"),o=e("../../../utils/utils"),u=e("./color-xform");class a extends i{constructor(c){super(),this.name=c,this.map={color:new u}}get tag(){return this.name}render(c,d,f){const h=d&&d.color||f||this.defaultColor;c.openNode(this.name),d&&d.style&&(c.addAttribute("style",d.style),h&&this.map.color.render(c,h)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:d}=c.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return a.validStyleValues[c]}}a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,c)=>(l[c]=!0,l),{}),n.exports=class extends i{constructor(){super(),this.map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")}}render(l,c){const{color:d}=c;function f(h,g){h&&!h.color&&c.color&&(h={...h,color:c.color}),g.render(l,h,d)}l.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&l.addAttribute("diagonalUp","1"),c.diagonal.down&&l.addAttribute("diagonalDown","1")),f(c.left,this.map.left),f(c.right,this.map.right),f(c.top,this.map.top),f(c.bottom,this.map.bottom),f(c.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const c=this.model={},d=function(f,h,g){h&&(g&&Object.assign(h,g),c[f]=h)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,u){return!!u&&(o.openNode(this.name),u.argb?o.addAttribute("rgb",u.argb):u.theme!==void 0?(o.addAttribute("theme",u.theme),u.tint!==void 0&&o.addAttribute("tint",u.tint)):u.indexed!==void 0?o.addAttribute("indexed",u.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const i=e("../base-xform"),o=e("./alignment-xform"),u=e("./border-xform"),a=e("./fill-xform"),l=e("./font-xform"),c=e("./numfmt-xform"),d=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new o,border:new u,fill:new a,font:new l,numFmt:new c,protection:new d}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,g)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const i=e("../base-xform"),o=e("./color-xform");class u extends i{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(v=>{g.render(f,v)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={patternFill:new a,gradientFill:new l}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return c.validPatternValues[f]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,f)=>(d[f]=!0,d),{}),c.StopXform=u,c.PatternFillXform=a,c.GradientFillXform=l,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const i=e("./color-xform"),o=e("../simple/boolean-xform"),u=e("../simple/integer-xform"),a=e("../simple/string-xform"),l=e("./underline-xform"),c=e("../../../utils/under-dash"),d=e("../base-xform");class f extends d{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new a({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,v){const{map:p}=this;g.openNode(this.options.tagName),c.each(this.map,(y,m)=>{p[m].xform.render(g,v[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const v=this.map[g];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const i=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),u=e("../base-xform"),a=function(){const c={};return i.each(o,(d,f)=>{d.f&&(c[d.f]=parseInt(f,10))}),c}();class l extends u{constructor(d,f){super(),this.id=d,this.formatCode=f}get tag(){return"numFmt"}render(d,f){d.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(c){return a[c]},l.getDefaultFmtCode=function(c){return o[c]&&o[c].f},n.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const i=e("../base-xform"),o={boolean:(u,a)=>u===void 0?a:u};n.exports=class extends i{get tag(){return"protection"}render(u,a){u.addRollback(),u.openNode("protection");let l=!1;function c(d,f){f!==void 0&&(u.addAttribute(d,f),l=!0)}c("locked",o.boolean(a.locked,!0)?void 0:"0"),c("hidden",o.boolean(a.hidden,!1)?"1":void 0),u.closeNode(),l?u.commit():u.rollback()}parseOpen(u){const a={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},l=!a.locked||a.hidden;this.model=l?a:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const i=e("../base-xform"),o=e("./alignment-xform"),u=e("./protection-xform");n.exports=class extends i{constructor(a){super(),this.xfId=!(!a||!a.xfId),this.map={alignment:new o,protection:new u}}get tag(){return"xf"}render(a,l){a.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&a.addAttribute("xfId",l.xfId||0),l.numFmtId&&a.addAttribute("applyNumberFormat","1"),l.fontId&&a.addAttribute("applyFont","1"),l.fillId&&a.addAttribute("applyFill","1"),l.borderId&&a.addAttribute("applyBorder","1"),l.alignment&&a.addAttribute("applyAlignment","1"),l.protection&&a.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(a,l.alignment),l.protection&&this.map.protection.render(a,l.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"xf":return this.model={numFmtId:parseInt(a.attributes.numFmtId,10),fontId:parseInt(a.attributes.fontId,10),fillId:parseInt(a.attributes.fillId,10),borderId:parseInt(a.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(a.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(a),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):a!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const i=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),u=e("../base-xform"),a=e("../static-xform"),l=e("../list-xform"),c=e("./font-xform"),d=e("./fill-xform"),f=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),v=e("./dxf-xform");class p extends u{constructor(m){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new h}),fonts:new l({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new d}),borders:new l({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new h,font:new c,fill:new d,border:new f,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,b){b=b||this.model,m.openXml(o.StdDocAttributes),m.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(m.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(k=>{m.writeXml(k)}),m.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(k=>{m.writeXml(k)}),m.closeNode(),m.openNode("fills",{count:b.fills.length}),b.fills.forEach(k=>{m.writeXml(k)}),m.closeNode(),m.openNode("borders",{count:b.borders.length}),b.borders.forEach(k=>{m.writeXml(k)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(k=>{m.writeXml(k)}),m.closeNode()):(this.map.numFmts.render(m,b.numFmts),this.map.fonts.render(m,b.fonts),this.map.fills.render(m,b.fills),this.map.borders.render(m,b.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,b.styles)),p.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,b.dxfs),p.STATIC_XFORMS.tableStyles.render(m),p.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const b=(k,N)=>{N.model&&N.model.length&&(this.model[k]=N.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(N=>{k[N.id]=N.formatCode})}return!1}default:return!0}}addStyleModel(m,b){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const k={};if(b=b||i.ValueType.Number,m.numFmt)k.numFmtId=this._addNumFmtStr(m.numFmt);else switch(b){case i.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(k.fontId=this._addFont(m.font)),m.border&&(k.borderId=this._addBorder(m.border)),m.fill&&(k.fillId=this._addFill(m.fill)),m.alignment&&(k.alignment=m.alignment),m.protection&&(k.protection=m.protection);const N=this._addStyle(k);return this.weakMap&&this.weakMap.set(m,N),N}getStyleModel(m){const b=this.model.styles[m];if(!b)return null;let k=this.index.model[m];if(k)return k;if(k=this.index.model[m]={},b.numFmtId){const F=this.index.numFmt[b.numFmtId]||h.getDefaultFmtCode(b.numFmtId);F&&(k.numFmt=F)}function N(F,j,T){if(T||T===0){const M=j[T];M&&(k[F]=M)}}return N("font",this.model.fonts,b.fontId),N("border",this.model.borders,b.borderId),N("fill",this.model.fills,b.fillId),b.alignment&&(k.alignment=b.alignment),b.protection&&(k.protection=b.protection),k}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const b=this.map.style.toXml(m);let k=this.index.style[b];return k===void 0&&(k=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),k}_addNumFmtStr(m){let b=h.getDefaultFmtId(m);if(b!==void 0||(b=this.index.numFmt[m],b!==void 0))return b;b=this.index.numFmt[m]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:b,formatCode:m});return this.model.numFmts.push(k),b}_addFont(m){const b=this.map.font.toXml(m);let k=this.index.font[b];return k===void 0&&(k=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),k}_addBorder(m){const b=this.map.border.toXml(m);let k=this.index.border[b];return k===void 0&&(k=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),k}_addFill(m){const b=this.map.fill.toXml(m);let k=this.index.fill[b];return k===void 0&&(k=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),k}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,m){switch(m){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const i=e("../base-xform");class o extends i{constructor(a){super(),this.model=a}get tag(){return"u"}render(a,l){if((l=l||this.model)===!0)a.leafNode("u");else{const c=o.Attributes[l];c&&a.leafNode("u",c)}}parseOpen(a){a.name==="u"&&(this.model=a.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(e,n,s){const i=e("../base-xform"),o=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((a,l)=>{this.map.filterColumn.prepare(a,{index:l})})}render(u,a){return u.openNode(this.tag,{ref:a.autoFilterRef}),a.columns.forEach(l=>{this.map.filterColumn.render(u,l)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(o,u){o.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const i=e("../base-xform"),o=e("../list-xform"),u=e("./custom-filter-xform"),a=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new a})}}get tag(){return"filterColumn"}prepare(l,c){l.colId=c.index.toString()}render(l,c){return c.customFilters?(l.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(l,c.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:c}=l;switch(l.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(o,u){o.leafNode(this.tag,{val:u.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(o,u){o.id=u.index+1}render(o,u){return o.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:u}=o;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(o,u){return o.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:u}=o;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../list-xform"),a=e("./auto-filter-xform"),l=e("./table-column-xform"),c=e("./table-style-info-xform");class d extends o{constructor(){super(),this.map={autoFilter:new a,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new c}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(i.StdDocAttributes),h.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:v}=h;switch(g){case this.tag:this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,v)=>{this.model.columns[v].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=g.styles.getDxfStyle(v.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(i,o){(function(){const u=e("fs"),a=e("jszip"),{PassThrough:l}=e("readable-stream"),c=e("../utils/zip-stream"),d=e("../utils/stream-buf"),f=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),v=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),y=e("./xform/strings/shared-strings-xform"),m=e("./xform/core/relationships-xform"),b=e("./xform/core/content-types-xform"),k=e("./xform/core/app-xform"),N=e("./xform/book/workbook-xform"),F=e("./xform/sheet/worksheet-xform"),j=e("./xform/drawing/drawing-xform"),T=e("./xform/table/table-xform"),M=e("./xform/comment/comments-xform"),B=e("./xform/comment/vml-notes-xform"),O=e("./xml/theme1");class R{constructor(I){this.workbook=I}async readFile(I,A){if(!await f.fs.exists(I))throw new Error("File not found: "+I);const w=u.createReadStream(I);try{const _=await this.read(w,A);return w.close(),_}catch(_){throw w.close(),_}}parseRels(I){return new m().parseStream(I)}parseWorkbook(I){return new N().parseStream(I)}parseSharedStrings(I){return new y().parseStream(I)}reconcile(I,A){const w=new N,_=new F(A),x=new j,S=new T;w.reconcile(I);const C={media:I.media,mediaIndex:I.mediaIndex};Object.keys(I.drawings).forEach(H=>{const X=I.drawings[H],Z=I.drawingRels[H];Z&&(C.rels=Z.reduce((V,Q)=>(V[Q.Id]=Q,V),{}),(X.anchors||[]).forEach(V=>{const Q=V.picture&&V.picture.hyperlinks;Q&&C.rels[Q.rId]&&(Q.hyperlink=C.rels[Q.rId].Target,delete Q.rId)}),x.reconcile(X,C))});const q={styles:I.styles};Object.values(I.tables).forEach(H=>{S.reconcile(H,q)});const P={styles:I.styles,sharedStrings:I.sharedStrings,media:I.media,mediaIndex:I.mediaIndex,date1904:I.properties&&I.properties.date1904,drawings:I.drawings,comments:I.comments,tables:I.tables,vmlDrawings:I.vmlDrawings};I.worksheets.forEach(H=>{H.relationships=I.worksheetRels[H.sheetNo],_.reconcile(H,P)}),delete I.worksheetHash,delete I.worksheetRels,delete I.globalRels,delete I.sharedStrings,delete I.workbookRels,delete I.sheetDefs,delete I.styles,delete I.mediaIndex,delete I.drawings,delete I.drawingRels,delete I.vmlDrawings}async _processWorksheetEntry(I,A,w,_,x){const S=new F(_),C=await S.parseStream(I);C.sheetNo=w,A.worksheetHash[x]=C,A.worksheets.push(C)}async _processCommentEntry(I,A,w){const _=new M,x=await _.parseStream(I);A.comments[`../${w}.xml`]=x}async _processTableEntry(I,A,w){const _=new T,x=await _.parseStream(I);A.tables[`../tables/${w}.xml`]=x}async _processWorksheetRelsEntry(I,A,w){const _=new m,x=await _.parseStream(I);A.worksheetRels[w]=x}async _processMediaEntry(I,A,w){const _=w.lastIndexOf(".");if(_>=1){const x=w.substr(_+1),S=w.substr(0,_);await new Promise((C,q)=>{const P=new d;P.on("finish",()=>{A.mediaIndex[w]=A.media.length,A.mediaIndex[S]=A.media.length;const H={type:"image",name:S,extension:x,buffer:P.toBuffer()};A.media.push(H),C()}),I.on("error",H=>{q(H)}),I.pipe(P)})}}async _processDrawingEntry(I,A,w){const _=new j,x=await _.parseStream(I);A.drawings[w]=x}async _processDrawingRelsEntry(I,A,w){const _=new m,x=await _.parseStream(I);A.drawingRels[w]=x}async _processVmlDrawingEntry(I,A,w){const _=new B,x=await _.parseStream(I);A.vmlDrawings[`../drawings/${w}.vml`]=x}async _processThemeEntry(I,A,w){await new Promise((_,x)=>{const S=new d;I.on("error",x),S.on("error",x),S.on("finish",()=>{A.themes[w]=S.read().toString(),_()}),I.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(I,A){!I[Symbol.asyncIterator]&&I.pipe&&(I=I.pipe(new l));const w=[];for await(const _ of I)w.push(_);return this.load(o.concat(w),A)}async load(I,A){let w;w=A&&A.base64?o.from(I.toString(),"base64"):I;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},x=await a.loadAsync(w);for(const S of Object.values(x.files))if(!S.dir){let C,q=S.name;if(q[0]==="/"&&(q=q.substr(1)),q.match(/xl\/media\//)||q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))C=new l,C.write(await S.async("nodebuffer"));else{let P;C=new l({writableObjectMode:!0,readableObjectMode:!0}),P=i.browser?g(await S.async("nodebuffer")):await S.async("string");const H=16384;for(let X=0;X<P.length;X+=H)C.write(P.substring(X,X+H))}switch(C.end(),q){case"_rels/.rels":_.globalRels=await this.parseRels(C);break;case"xl/workbook.xml":{const P=await this.parseWorkbook(C);_.sheets=P.sheets,_.definedNames=P.definedNames,_.views=P.views,_.properties=P.properties,_.calcProperties=P.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(C);break;case"xl/sharedStrings.xml":_.sharedStrings=new y,await _.sharedStrings.parseStream(C);break;case"xl/styles.xml":_.styles=new v,await _.styles.parseStream(C);break;case"docProps/app.xml":{const P=new k,H=await P.parseStream(C);_.company=H.company,_.manager=H.manager;break}case"docProps/core.xml":{const P=new p,H=await P.parseStream(C);Object.assign(_,H);break}default:{let P=q.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(P){await this._processWorksheetEntry(C,_,P[1],A,q);break}if(P=q.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),P){await this._processWorksheetRelsEntry(C,_,P[1]);break}if(P=q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),P){await this._processThemeEntry(C,_,P[1]);break}if(P=q.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),P){await this._processMediaEntry(C,_,P[1]);break}if(P=q.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),P){await this._processDrawingEntry(C,_,P[1]);break}if(P=q.match(/xl\/(comments\d+)[.]xml/),P){await this._processCommentEntry(C,_,P[1]);break}if(P=q.match(/xl\/tables\/(table\d+)[.]xml/),P){await this._processTableEntry(C,_,P[1]);break}if(P=q.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),P){await this._processDrawingRelsEntry(C,_,P[1]);break}if(P=q.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),P){await this._processVmlDrawingEntry(C,_,P[1]);break}}}}return this.reconcile(_,A),this.workbook.model=_,this.workbook}async addMedia(I,A){await Promise.all(A.media.map(async w=>{if(w.type==="image"){const _=`xl/media/${w.name}.${w.extension}`;if(w.filename){const x=await function(S,C){return new Promise((q,P)=>{u.readFile(S,C,(H,X)=>{H?P(H):q(X)})})}(w.filename);return I.append(x,{name:_})}if(w.buffer)return I.append(w.buffer,{name:_});if(w.base64){const x=w.base64,S=x.substring(x.indexOf(",")+1);return I.append(S,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(I,A){const w=new j,_=new m;A.worksheets.forEach(x=>{const{drawing:S}=x;if(S){w.prepare(S,{});let C=w.toXml(S);I.append(C,{name:`xl/drawings/${S.name}.xml`}),C=_.toXml(S.rels),I.append(C,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(I,A){const w=new T;A.worksheets.forEach(_=>{const{tables:x}=_;x.forEach(S=>{w.prepare(S,{});const C=w.toXml(S);I.append(C,{name:"xl/tables/"+S.target})})})}async addContentTypes(I,A){const w=new b().toXml(A);I.append(w,{name:"[Content_Types].xml"})}async addApp(I,A){const w=new k().toXml(A);I.append(w,{name:"docProps/app.xml"})}async addCore(I,A){const w=new p;I.append(w.toXml(A),{name:"docProps/core.xml"})}async addThemes(I,A){const w=A.themes||{theme1:O};Object.keys(w).forEach(_=>{const x=w[_],S=`xl/theme/${_}.xml`;I.append(x,{name:S})})}async addOfficeRels(I){const A=new m().toXml([{Id:"rId1",Type:R.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:R.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:R.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);I.append(A,{name:"_rels/.rels"})}async addWorkbookRels(I,A){let w=1;const _=[{Id:"rId"+w++,Type:R.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:R.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&_.push({Id:"rId"+w++,Type:R.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(S=>{S.rId="rId"+w++,_.push({Id:S.rId,Type:R.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const x=new m().toXml(_);I.append(x,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(I,A){A.sharedStrings&&A.sharedStrings.count&&I.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(I,A){const{xml:w}=A.styles;w&&I.append(w,{name:"xl/styles.xml"})}async addWorkbook(I,A){const w=new N;I.append(w.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(I,A){const w=new F,_=new m,x=new M,S=new B;A.worksheets.forEach(C=>{let q=new h;w.render(q,C),I.append(q.xml,{name:`xl/worksheets/sheet${C.id}.xml`}),C.rels&&C.rels.length&&(q=new h,_.render(q,C.rels),I.append(q.xml,{name:`xl/worksheets/_rels/sheet${C.id}.xml.rels`})),C.comments.length>0&&(q=new h,x.render(q,C),I.append(q.xml,{name:`xl/comments${C.id}.xml`}),q=new h,S.render(q,C),I.append(q.xml,{name:`xl/drawings/vmlDrawing${C.id}.vml`}))})}_finalize(I){return new Promise((A,w)=>{I.on("finish",()=>{A(this)}),I.on("error",w),I.finalize()})}prepareModel(I,A){I.creator=I.creator||"ExcelJS",I.lastModifiedBy=I.lastModifiedBy||"ExcelJS",I.created=I.created||new Date,I.modified=I.modified||new Date,I.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,I.useStyles=A.useStyles===void 0||A.useStyles,I.sharedStrings=new y,I.styles=I.useStyles?new v(!0):new v.Mock;const w=new N,_=new F;w.prepare(I);const x={sharedStrings:I.sharedStrings,styles:I.styles,date1904:I.properties.date1904,drawingsCount:0,media:I.media};x.drawings=I.drawings=[],x.commentRefs=I.commentRefs=[];let S=0;I.tables=[],I.worksheets.forEach(C=>{C.tables.forEach(q=>{S++,q.target=`table${S}.xml`,q.id=S,I.tables.push(q)}),_.prepare(C,x)})}async write(I,A){A=A||{};const{model:w}=this.workbook,_=new c.ZipWriter(A.zip);return _.pipe(I),this.prepareModel(w,A),await this.addContentTypes(_,w),await this.addOfficeRels(_,w),await this.addWorkbookRels(_,w),await this.addWorksheets(_,w),await this.addSharedStrings(_,w),await this.addDrawings(_,w),await this.addTables(_,w),await Promise.all([this.addThemes(_,w),this.addStyles(_,w)]),await this.addMedia(_,w),await Promise.all([this.addApp(_,w),this.addCore(_,w)]),await this.addWorkbook(_,w),this._finalize(_)}writeFile(I,A){const w=u.createWriteStream(I);return new Promise((_,x)=>{w.on("finish",()=>{_()}),w.on("error",S=>{x(S)}),this.write(w,A).then(()=>{w.end()}).catch(S=>{x(S)})})}async writeBuffer(I){const A=new d;return await this.write(A,I),A.read()}}R.RelType=e("./rel-type"),n.exports=R}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const o=e("stream"),u=e("./formatter");class a extends o.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new u.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,d,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(g,v)=>g?(h=!0,f(g)):(v&&v.forEach(p=>{this.push(i.from(p,"utf8"))}),h=!0,f()))}catch(g){if(h)throw g;f(g)}}_flush(c){this.rowFormatter.finish((d,f)=>d?c(d):(f&&f.forEach(h=>{this.push(i.from(h,"utf8"))}),c()))}}s.CsvFormatterStream=a}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=i.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const o=i(e("lodash.isboolean")),u=i(e("lodash.isnil")),a=i(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const c=`[${l.delimiter}${a.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(l){this._headers=l}shouldQuote(l,c){const d=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(d)?d:Array.isArray(d)?d[l]:this._headers!==null&&d[this._headers[l]]}format(l,c,d){const f=(""+(u.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,d)?this.quoteField(f):f}quoteField(l){const{quote:c}=this.formatterOptions;return`${c}${l}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const o=i(e("lodash.isfunction")),u=i(e("lodash.isequal")),a=e("./FieldFormatter"),l=e("../types");class c{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new a.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return c.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return l.isSyncTransform(f)?(h,g)=>{let v=null;try{v=f(h)}catch(p){return g(p)}return g(null,v)}:(h,g)=>{f(h,g)}}set rowTransform(f){if(!o.default(f))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(f)}format(f,h){this.callTransformer(f,(g,v)=>{if(g)return h(g);if(!f)return h(null);const p=[];if(v){const{shouldFormatColumns:y,headers:m}=this.checkHeaders(v);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),y){const b=this.gatherColumns(v);p.push(this.formatColumns(b,!1))}}return h(null,p)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=c.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?c.isRowHashArray(f)?this.headers.map((h,g)=>{const v=f[g];return v?v[1]:""}):c.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,g)=>f[g]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const g=f.map((p,y)=>this.fieldFormatter.format(p,y,h)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(i){(function(){var o=Object.create?function(y,m,b,k){k===void 0&&(k=b),Object.defineProperty(y,k,{enumerable:!0,get:function(){return m[b]}})}:function(y,m,b,k){k===void 0&&(k=b),y[k]=m[b]},u=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},a=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&o(m,y,b);return u(m,y),m},l=function(y,m){for(var b in y)b==="default"||Object.prototype.hasOwnProperty.call(m,b)||o(m,y,b)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const c=e("util"),d=e("stream"),f=a(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");l(e("./types"),s);var v=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),s.format=y=>new g.CsvFormatterStream(new h.FormatterOptions(y)),s.write=(y,m)=>{const b=s.format(m),k=c.promisify((N,F)=>{b.write(N,void 0,F)});return y.reduce((N,F)=>N.then(()=>k(F)),Promise.resolve()).then(()=>b.end()).catch(N=>{b.emit("error",N)}),b},s.writeToStream=(y,m,b)=>s.write(m,b).pipe(y),s.writeToBuffer=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],k=new d.Writable({write(N,F,j){b.push(N),j()}});return new Promise((N,F)=>{k.on("error",F).on("finish",()=>N(i.concat(b))),s.write(y,m).pipe(k)})},s.writeToString=(y,m)=>s.writeToBuffer(y,m).then(b=>b.toString()),s.writeToPath=(y,m,b)=>{const k=f.createWriteStream(y,{encoding:"utf8"});return s.write(m,b).pipe(k)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const o=e("string_decoder"),u=e("stream"),a=e("./transforms"),l=e("./parser");class c extends u.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new l.Parser(f),this.headerTransformer=new a.HeaderTransformer(f),this.decoder=new o.StringDecoder(f.encoding),this.rowTransformerValidator=new a.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),v=1;v<h;v++)g[v-1]=arguments[v];return super.emit(f,...g)}_transform(f,h,g){if(this.hasHitRowLimit)return g();const v=c.wrapDoneCallback(g);try{const{lines:p}=this,y=p+this.decoder.write(f),m=this.parse(y,!0);return this.processRows(m,v)}catch(p){return v(p)}}_flush(f){const h=c.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),v=this.parse(g,!1);return this.processRows(v,h)}catch(g){return h(g)}}parse(f,h){if(!f)return[];const{line:g,rows:v}=this.parser.parse(f,h);return this.lines=g,v}processRows(f,h){const g=f.length,v=p=>{const y=k=>k?h(k):p%100!=0?v(p+1):void i(()=>v(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const m=f[p];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(m,(k,N)=>{if(k)return this.rowCount-=1,y(k);if(!N)return y(new Error("expected transform result"));if(N.isValid){if(N.row)return this.pushRow(N.row,y)}else this.emit("data-invalid",N.row,b,N.reason);return y()})};v(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(g,v)=>g?h(g):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(g){h(g)}}static wrapDoneCallback(f){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void f(g)}for(var v=arguments.length,p=new Array(v>1?v-1:0),y=1;y<v;y++)p[y-1]=arguments[y];f(...p)}}}s.CsvParserStream=c}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const o=i(e("lodash.escaperegexp")),u=i(e("lodash.isnil"));s.ParserOptions=class{constructor(a){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,a||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var i=Object.create?function(v,p,y,m){m===void 0&&(m=y),Object.defineProperty(v,m,{enumerable:!0,get:function(){return p[y]}})}:function(v,p,y,m){m===void 0&&(m=y),v[m]=p[y]},o=Object.create?function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}:function(v,p){v.default=p},u=function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&i(p,v,y);return o(p,v),p},a=function(v,p){for(var y in v)y==="default"||Object.prototype.hasOwnProperty.call(p,y)||i(p,v,y)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const l=u(e("fs")),c=e("stream"),d=e("./ParserOptions"),f=e("./CsvParserStream");a(e("./types"),s);var h=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=v=>new f.CsvParserStream(new d.ParserOptions(v)),s.parseStream=(v,p)=>v.pipe(new f.CsvParserStream(new d.ParserOptions(p))),s.parseFile=function(v){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(v).pipe(new f.CsvParserStream(new d.ParserOptions(p)))},s.parseString=(v,p)=>{const y=new c.Readable;return y.push(v),y.push(null),y.pipe(new f.CsvParserStream(new d.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=e("./Scanner"),o=e("./RowParser"),u=e("./Token");class a{constructor(c){this.parserOptions=c,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,d){const f=new i.Scanner({line:a.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(c){const d=[];let f=!0;for(;f;)f=this.parseRow(c,d);return{line:c.line,rows:d}}parseWithComments(c){const{parserOptions:d}=this,f=[];for(let h=c.nextCharacterToken;h!==null;h=c.nextCharacterToken)if(u.Token.isTokenComment(h,d)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:f};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:f};c.truncateToCursor()}else if(!this.parseRow(c,f))break;return{line:c.line,rows:f}}parseRow(c,d){if(!c.nextNonSpaceToken)return!1;const f=this.rowParser.parse(c);return f!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(f)||d.push(f),!0)}}s.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=e("./column"),o=e("./Token");s.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new i.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:a}=this,{hasMoreData:l}=u,c=u,d=[];let f=this.getStartToken(c,d);for(;f;){if(o.Token.isTokenRowDelimiter(f))return c.advancePastToken(f),!c.hasMoreCharacters&&o.Token.isTokenCarriageReturn(f,a)&&l?null:(c.truncateToCursor(),d);if(!this.shouldSkipColumnParse(c,f,d)){const h=this.columnParser.parse(c);if(h===null)return null;d.push(h)}f=c.nextNonSpaceToken}return l?null:(c.truncateToCursor(),d)}getStartToken(u,a){const l=u.nextNonSpaceToken;return l!==null&&o.Token.isTokenDelimiter(l,this.parserOptions)?(a.push(""),u.nextNonSpaceToken):l}shouldSkipColumnParse(u,a,l){const{parserOptions:c}=this;if(o.Token.isTokenDelimiter(a,c)){u.advancePastToken(a);const d=u.nextCharacterToken;if(!u.hasMoreCharacters||d!==null&&o.Token.isTokenRowDelimiter(d)||d!==null&&o.Token.isTokenDelimiter(d,c))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=e("./Token"),o=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,a=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(a)===-1)return null;const l=a.exec(u);if(l==null)return null;const c=l[1],d=this.cursor+(l.index||0);return new i.Token({token:c,startCursor:d,endCursor:d+c.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:a}=this;return a<=u?null:new i.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=o.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const o=i.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(i,o){return i.token===o.carriageReturn}static isTokenComment(i,o){return o.supportsComments&&!!i&&i.token===o.comment}static isTokenEscapeCharacter(i,o){return i.token===o.escapeChar}static isTokenQuote(i,o){return i.token===o.quote}static isTokenDelimiter(i,o){return i.token===o.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=o=>o.trim():i.ltrim?this.format=o=>o.trimLeft():i.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),u=e("../Token");s.ColumnParser=class{constructor(a){this.parserOptions=a,this.quotedColumnParser=new o.QuotedColumnParser(a),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(a)}parse(a){const{nextNonSpaceToken:l}=a;return l!==null&&u.Token.isTokenQuote(l,this.parserOptions)?(a.advanceToToken(l),this.quotedColumnParser.parse(a)):this.nonQuotedColumnParser.parse(a)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");s.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:a}=this,l=[];let c=u.nextCharacterToken;for(;c&&!o.Token.isTokenDelimiter(c,a)&&!o.Token.isTokenRowDelimiter(c);c=u.nextCharacterToken)l.push(c.token),u.advancePastToken(c);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");s.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const a=u.cursor,{foundClosingQuote:l,col:c}=this.gatherDataBetweenQuotes(u);if(!l){if(u.advanceTo(a),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),c}gatherDataBetweenQuotes(u){const{parserOptions:a}=this;let l=!1,c=!1;const d=[];let f=u.nextCharacterToken;for(;!c&&f!==null;f=u.nextCharacterToken){const h=o.Token.isTokenQuote(f,a);if(!l&&h)l=!0;else if(l)if(o.Token.isTokenEscapeCharacter(f,a)){u.advancePastToken(f);const g=u.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,a)||o.Token.isTokenEscapeCharacter(g,a))?(d.push(g.token),f=g):h?c=!0:d.push(f.token)}else h?c=!0:d.push(f.token);u.advancePastToken(f)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:c}}checkForMalformedColumn(u){const{parserOptions:a}=this,{nextNonSpaceToken:l}=u;if(l){const c=o.Token.isTokenDelimiter(l,a),d=o.Token.isTokenRowDelimiter(l);if(!c&&!d){const f=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${a.escapedDelimiter}' OR new line got: '${l.token}'. at '${f}`)}u.advanceToToken(l)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var u=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var a=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var u=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var a=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return a.Token}});var l=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const o=i(e("lodash.isundefined")),u=i(e("lodash.isfunction")),a=i(e("lodash.uniq")),l=i(e("lodash.groupby"));s.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):u.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,d){return this.shouldMapRow(c)?d(null,this.processRow(c)):d(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&c.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return d.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const d={},{headers:f,headersLength:h}=this;for(let g=0;g<h;g+=1){const v=f[g];if(!o.default(v)){const p=c[g];o.default(p)?d[v]="":d[v]=p}}return d}setHeaders(c){var d;const f=c.filter(h=>!!h);if(a.default(f).length!==f.length){const h=l.default(f),g=Object.keys(h).filter(v=>h[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const o=i(e("lodash.isfunction")),u=e("../types");class a{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return u.isSyncTransform(c)?(d,f)=>{let h=null;try{h=c(d)}catch(g){return f(g)}return f(null,h)}:c}static createValidator(c){return u.isSyncValidate(c)?(d,f)=>{f(null,{row:d,isValid:c(d)})}:(d,f)=>{c(d,(h,g,v)=>h?f(h):f(null,g?{row:d,isValid:g,reason:v}:{row:d,isValid:!1,reason:v}))}}set rowTransform(c){if(!o.default(c))throw new TypeError("The transform should be a function");this._rowTransform=a.createTransform(c)}set rowValidator(c){if(!o.default(c))throw new TypeError("The validate should be a function");this._rowValidator=a.createValidator(c)}transformAndValidate(c,d){return this.callTransformer(c,(f,h)=>f?d(f):h?this.callValidator(h,(g,v)=>g?d(g):v&&!v.isValid?d(null,{row:h,isValid:!1,reason:v.reason}):d(null,{row:h,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(c,d){return this._rowTransform?this._rowTransform(c,d):d(null,c)}callValidator(c,d){return this._rowValidator?this._rowValidator(c,d):d(null,{row:c,isValid:!0})}}s.RowTransformerValidator=a},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,s){const i=s;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const i=e("./encoders"),o=e("./decoders"),u=e("inherits");function a(l,c){this.name=l,this.body=c,this.decoders={},this.encoders={}}s.define=function(l,c){return new a(l,c)},a.prototype._createNamed=function(l){const c=this.name;function d(f){this._initNamed(f,c)}return u(d,l),d.prototype._initNamed=function(f,h){l.call(this,f,h)},new d(this)},a.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(o[l])),this.decoders[l]},a.prototype.decode=function(l,c,d){return this._getDecoder(c).decode(l,d)},a.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(i[l])),this.encoders[l]},a.prototype.encode=function(l,c,d){return this._getEncoder(c).encode(l,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const i=e("inherits"),o=e("../base/reporter").Reporter,u=e("safer-buffer").Buffer;function a(c,d){o.call(this,d),u.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function l(c,d){if(Array.isArray(c))this.length=0,this.value=c.map(function(f){return l.isEncoderBuffer(f)||(f=new l(f,d)),this.length+=f.length,f},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return d.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=u.byteLength(c);else{if(!u.isBuffer(c))return d.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}i(a,o),s.DecoderBuffer=a,a.isDecoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&u.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},a.prototype.restore=function(c){const d=new a(this.base);return d.offset=c.offset,d.length=this.offset,this.offset=c.offset,o.prototype.restore.call(this,c.reporter),d},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},a.prototype.skip=function(c,d){if(!(this.offset+c<=this.length))return this.error(d||"DecoderBuffer overrun");const f=new a(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+c,this.offset+=c,f},a.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},s.EncoderBuffer=l,l.isEncoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},l.prototype.join=function(c,d){return c||(c=u.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(c,d),d+=f.length}):(typeof this.value=="number"?c[d]=this.value:typeof this.value=="string"?c.write(this.value,d):u.isBuffer(this.value)&&this.value.copy(c,d),d+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const i=s;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const i=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,u=e("../base/buffer").DecoderBuffer,a=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function d(h,g,v){const p={};this._baseState=p,p.name=v,p.enc=h,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=d;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const h=this._baseState,g={};f.forEach(function(p){g[p]=h[p]});const v=new this.constructor(g.parent);return v._baseState=g,v},d.prototype._wrap=function(){const h=this._baseState;c.forEach(function(g){this[g]=function(){const v=new this.constructor(this);return h.children.push(v),v[g].apply(v,arguments)}},this)},d.prototype._init=function(h){const g=this._baseState;a(g.parent===null),h.call(this),g.children=g.children.filter(function(v){return v._baseState.parent===this},this),a.equal(g.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(h){const g=this._baseState,v=h.filter(function(p){return p instanceof this.constructor},this);h=h.filter(function(p){return!(p instanceof this.constructor)},this),v.length!==0&&(a(g.children===null),g.children=v,v.forEach(function(p){p._baseState.parent=this},this)),h.length!==0&&(a(g.args===null),g.args=h,g.reverseArgs=h.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach(function(m){m==(0|m)&&(m|=0);const b=p[m];y[b]=m}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){d.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),l.forEach(function(h){d.prototype[h]=function(){const g=this._baseState,v=Array.prototype.slice.call(arguments);return a(g.tag===null),g.tag=h,this._useArgs(v),this}}),d.prototype.use=function(h){a(h);const g=this._baseState;return a(g.use===null),g.use=h,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(h){const g=this._baseState;return a(g.default===null),g.default=h,g.optional=!0,this},d.prototype.explicit=function(h){const g=this._baseState;return a(g.explicit===null&&g.implicit===null),g.explicit=h,this},d.prototype.implicit=function(h){const g=this._baseState;return a(g.explicit===null&&g.implicit===null),g.implicit=h,this},d.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},d.prototype.key=function(h){const g=this._baseState;return a(g.key===null),g.key=h,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(h){const g=this._baseState;return a(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map(function(v){return h[v]})),this},d.prototype.contains=function(h){const g=this._baseState;return a(g.use===null),g.contains=h,this},d.prototype._decode=function(h,g){const v=this._baseState;if(v.parent===null)return h.wrapResult(v.children[0]._decode(h,g));let p,y=v.default,m=!0,b=null;if(v.key!==null&&(b=h.enterKey(v.key)),v.optional){let k=null;if(v.explicit!==null?k=v.explicit:v.implicit!==null?k=v.implicit:v.tag!==null&&(k=v.tag),k!==null||v.any){if(m=this._peekTag(h,k,v.any),h.isError(m))return m}else{const N=h.save();try{v.choice===null?this._decodeGeneric(v.tag,h,g):this._decodeChoice(h,g),m=!0}catch{m=!1}h.restore(N)}}if(v.obj&&m&&(p=h.enterObject()),m){if(v.explicit!==null){const N=this._decodeTag(h,v.explicit);if(h.isError(N))return N;h=N}const k=h.offset;if(v.use===null&&v.choice===null){let N;v.any&&(N=h.save());const F=this._decodeTag(h,v.implicit!==null?v.implicit:v.tag,v.any);if(h.isError(F))return F;v.any?y=h.raw(N):h=F}if(g&&g.track&&v.tag!==null&&g.track(h.path(),k,h.length,"tagged"),g&&g.track&&v.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),v.any||(y=v.choice===null?this._decodeGeneric(v.tag,h,g):this._decodeChoice(h,g)),h.isError(y))return y;if(v.any||v.choice!==null||v.children===null||v.children.forEach(function(N){N._decode(h,g)}),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const N=new u(y);y=this._getUse(v.contains,h._reporterState.obj)._decode(N,g)}}return v.obj&&m&&(y=h.leaveObject(p)),v.key===null||y===null&&m!==!0?b!==null&&h.exitKey(b):h.leaveKey(b,v.key,y),y},d.prototype._decodeGeneric=function(h,g,v){const p=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,p.args[0],v):/str$/.test(h)?this._decodeStr(g,h,v):h==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],v):h==="objid"?this._decodeObjid(g,null,null,v):h==="gentime"||h==="utctime"?this._decodeTime(g,h,v):h==="null_"?this._decodeNull(g,v):h==="bool"?this._decodeBool(g,v):h==="objDesc"?this._decodeStr(g,h,v):h==="int"||h==="enum"?this._decodeInt(g,p.args&&p.args[0],v):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,v):g.error("unknown tag: "+h)},d.prototype._getUse=function(h,g){const v=this._baseState;return v.useDecoder=this._use(h,g),a(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},d.prototype._decodeChoice=function(h,g){const v=this._baseState;let p=null,y=!1;return Object.keys(v.choice).some(function(m){const b=h.save(),k=v.choice[m];try{const N=k._decode(h,g);if(h.isError(N))return!1;p={type:m,value:N},y=!0}catch{return h.restore(b),!1}return!0},this),y?p:h.error("Choice not matched")},d.prototype._createEncoderBuffer=function(h){return new o(h,this.reporter)},d.prototype._encode=function(h,g,v){const p=this._baseState;if(p.default!==null&&p.default===h)return;const y=this._encodeValue(h,g,v);return y===void 0||this._skipDefault(y,g,v)?void 0:y},d.prototype._encodeValue=function(h,g,v){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(h,g||new i);let y=null;if(this.reporter=g,p.optional&&h===void 0){if(p.default===null)return;h=p.default}let m=null,b=!1;if(p.any)y=this._createEncoderBuffer(h);else if(p.choice)y=this._encodeChoice(h,g);else if(p.contains)m=this._getUse(p.contains,v)._encode(h,g),b=!0;else if(p.children)m=p.children.map(function(k){if(k._baseState.tag==="null_")return k._encode(null,g,h);if(k._baseState.key===null)return g.error("Child should have a key");const N=g.enterKey(k._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const F=k._encode(h[k._baseState.key],g,h);return g.leaveKey(N),F},this).filter(function(k){return k}),m=this._createEncoderBuffer(m);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,m=this._createEncoderBuffer(h.map(function(N){const F=this._baseState;return this._getUse(F.args[0],h)._encode(N,g)},k))}else p.use!==null?y=this._getUse(p.use,v)._encode(h,g):(m=this._encodePrimitive(p.tag,h),b=!0);if(!p.any&&p.choice===null){const k=p.implicit!==null?p.implicit:p.tag,N=p.implicit===null?"universal":"context";k===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(k,b,N,m))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},d.prototype._encodeChoice=function(h,g){const v=this._baseState,p=v.choice[h.type];return p||a(!1,h.type+" not found in "+JSON.stringify(Object.keys(v.choice))),p._encode(h.value,g)},d.prototype._encodePrimitive=function(h,g){const v=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&v.args)return this._encodeObjid(g,v.reverseArgs[0],v.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,v.args&&v.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},d.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},d.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const i=e("inherits");function o(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}function u(a,l){this.path=a,this.rethrow(l)}s.Reporter=o,o.prototype.isError=function(a){return a instanceof u},o.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},o.prototype.restore=function(a){const l=this._reporterState;l.obj=a.obj,l.path=l.path.slice(0,a.pathLen)},o.prototype.enterKey=function(a){return this._reporterState.path.push(a)},o.prototype.exitKey=function(a){const l=this._reporterState;l.path=l.path.slice(0,a-1)},o.prototype.leaveKey=function(a,l,c){const d=this._reporterState;this.exitKey(a),d.obj!==null&&(d.obj[l]=c)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const a=this._reporterState,l=a.obj;return a.obj={},l},o.prototype.leaveObject=function(a){const l=this._reporterState,c=l.obj;return l.obj=a,c},o.prototype.error=function(a){let l;const c=this._reporterState,d=a instanceof u;if(l=d?a:new u(c.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),a.message||a,a.stack),!c.options.partial)throw l;return d||c.errors.push(l),l},o.prototype.wrapResult=function(a){const l=this._reporterState;return l.options.partial?{result:this.isError(a)?null:a,errors:l.errors}:a},i(u,Error),u.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,n,s){function i(o){const u={};return Object.keys(o).forEach(function(a){(0|a)==a&&(a|=0);const l=o[a];u[l]=a}),u}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(e,n,s){const i=s;i._reverse=function(o){const u={};return Object.keys(o).forEach(function(a){(0|a)==a&&(a|=0);const l=o[a];u[l]=a}),u},i.der=e("./der")},{"./der":176}],178:[function(e,n,s){const i=e("inherits"),o=e("bn.js"),u=e("../base/buffer").DecoderBuffer,a=e("../base/node"),l=e("../constants/der");function c(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new d,this.tree._init(g.body)}function d(g){a.call(this,"der",g)}function f(g,v){let p=g.readUInt8(v);if(g.isError(p))return p;const y=l.tagClass[p>>6],m=(32&p)==0;if((31&p)==31){let b=p;for(p=0;(128&b)==128;){if(b=g.readUInt8(v),g.isError(b))return b;p<<=7,p|=127&b}}else p&=31;return{cls:y,primitive:m,tag:p,tagStr:l.tag[p]}}function h(g,v,p){let y=g.readUInt8(p);if(g.isError(y))return y;if(!v&&y===128)return null;if(!(128&y))return y;const m=127&y;if(m>4)return g.error("length octect is too long");y=0;for(let b=0;b<m;b++){y<<=8;const k=g.readUInt8(p);if(g.isError(k))return k;y|=k}return y}n.exports=c,c.prototype.decode=function(g,v){return u.isDecoderBuffer(g)||(g=new u(g,v)),this.tree._decode(g,v)},i(d,a),d.prototype._peekTag=function(g,v,p){if(g.isEmpty())return!1;const y=g.save(),m=f(g,'Failed to peek tag: "'+v+'"');return g.isError(m)?m:(g.restore(y),m.tag===v||m.tagStr===v||m.tagStr+"of"===v||p)},d.prototype._decodeTag=function(g,v,p){const y=f(g,'Failed to decode tag of "'+v+'"');if(g.isError(y))return y;let m=h(g,y.primitive,'Failed to get length of "'+v+'"');if(g.isError(m))return m;if(!p&&y.tag!==v&&y.tagStr!==v&&y.tagStr+"of"!==v)return g.error('Failed to match tag: "'+v+'"');if(y.primitive||m!==null)return g.skip(m,'Failed to match body of: "'+v+'"');const b=g.save(),k=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(k)?k:(m=g.offset-b.offset,g.restore(b),g.skip(m,'Failed to match body of: "'+v+'"'))},d.prototype._skipUntilEnd=function(g,v){for(;;){const p=f(g,v);if(g.isError(p))return p;const y=h(g,p.primitive,v);if(g.isError(y))return y;let m;if(m=p.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,v),g.isError(m))return m;if(p.tagStr==="end")break}},d.prototype._decodeList=function(g,v,p,y){const m=[];for(;!g.isEmpty();){const b=this._peekTag(g,"end");if(g.isError(b))return b;const k=p.decode(g,"der",y);if(g.isError(k)&&b)break;m.push(k)}return m},d.prototype._decodeStr=function(g,v){if(v==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(v==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let m=0;m<p.length/2;m++)y+=String.fromCharCode(p.readUInt16BE(2*m));return y}if(v==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return g.raw();if(v==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?g.raw().toString():g.error("Decoding of string type: "+v+" unsupported")},d.prototype._decodeObjid=function(g,v,p){let y;const m=[];let b=0,k=0;for(;!g.isEmpty();)k=g.readUInt8(),b<<=7,b|=127&k,!(128&k)&&(m.push(b),b=0);128&k&&m.push(b);const N=m[0]/40|0,F=m[0]%40;if(y=p?m:[N,F].concat(m.slice(1)),v){let j=v[y.join(" ")];j===void 0&&(j=v[y.join(".")]),j!==void 0&&(y=j)}return y},d.prototype._decodeTime=function(g,v){const p=g.raw().toString();let y,m,b,k,N,F;if(v==="gentime")y=0|p.slice(0,4),m=0|p.slice(4,6),b=0|p.slice(6,8),k=0|p.slice(8,10),N=0|p.slice(10,12),F=0|p.slice(12,14);else{if(v!=="utctime")return g.error("Decoding "+v+" time is not supported yet");y=0|p.slice(0,2),m=0|p.slice(2,4),b=0|p.slice(4,6),k=0|p.slice(6,8),N=0|p.slice(8,10),F=0|p.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,m-1,b,k,N,F,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(g){const v=g.readUInt8();return g.isError(v)?v:v!==0},d.prototype._decodeInt=function(g,v){const p=g.raw();let y=new o(p);return v&&(y=v[y.toString(10)]||y),y},d.prototype._use=function(g,v){return typeof g=="function"&&(g=g(v)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const i=e("inherits"),o=e("safer-buffer").Buffer,u=e("./der");function a(l){u.call(this,l),this.enc="pem"}i(a,u),n.exports=a,a.prototype.decode=function(l,c){const d=l.toString().split(/[\r\n]+/g),f=c.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,v=-1;for(let m=0;m<d.length;m++){const b=d[m].match(h);if(b!==null&&b[2]===f){if(g!==-1){if(b[1]!=="END")break;v=m;break}if(b[1]!=="BEGIN")break;g=m}}if(g===-1||v===-1)throw new Error("PEM section not found for: "+f);const p=d.slice(g+1,v).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const y=o.from(p,"base64");return u.prototype.decode.call(this,y,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const i=e("inherits"),o=e("safer-buffer").Buffer,u=e("../base/node"),a=e("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new c,this.tree._init(f.body)}function c(f){u.call(this,"der",f)}function d(f){return f<10?"0"+f:f}n.exports=l,l.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},i(c,u),c.prototype._encodeComposite=function(f,h,g,v){const p=function(b,k,N,F){let j;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),a.tagByName.hasOwnProperty(b))j=a.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return F.error("Unknown tag: "+b);j=b}return j>=31?F.error("Multi-octet tag encoding unsupported"):(k||(j|=32),j|=a.tagClassByName[N||"universal"]<<6,j)}(f,h,g,this.reporter);if(v.length<128){const b=o.alloc(2);return b[0]=p,b[1]=v.length,this._createEncoderBuffer([b,v])}let y=1;for(let b=v.length;b>=256;b>>=8)y++;const m=o.alloc(2+y);m[0]=p,m[1]=128|y;for(let b=1+y,k=v.length;k>0;b--,k>>=8)m[b]=255&k;return this._createEncoderBuffer([m,v])},c.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const g=o.alloc(2*f.length);for(let v=0;v<f.length;v++)g.writeUInt16BE(f.charCodeAt(v),2*v);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},c.prototype._encodeObjid=function(f,h,g){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let m=0;m<f.length;m++)f[m]|=0}else if(Array.isArray(f)){f=f.slice();for(let m=0;m<f.length;m++)f[m]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let v=0;for(let m=0;m<f.length;m++){let b=f[m];for(v++;b>=128;b>>=7)v++}const p=o.alloc(v);let y=p.length-1;for(let m=f.length-1;m>=0;m--){let b=f[m];for(p[y--]=127&b;(b>>=7)>0;)p[y--]=128|127&b}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(f,h){let g;const v=new Date(f);return h==="gentime"?g=[d(v.getUTCFullYear()),d(v.getUTCMonth()+1),d(v.getUTCDate()),d(v.getUTCHours()),d(v.getUTCMinutes()),d(v.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[d(v.getUTCFullYear()%100),d(v.getUTCMonth()+1),d(v.getUTCDate()),d(v.getUTCHours()),d(v.getUTCMinutes()),d(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!o.isBuffer(f)){const p=f.toArray();!f.sign&&128&p[0]&&p.unshift(0),f=o.from(p)}if(o.isBuffer(f)){let p=f.length;f.length===0&&p++;const y=o.alloc(p);return f.copy(y),f.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let p=f;p>=256;p>>=8)g++;const v=new Array(g);for(let p=v.length-1;p>=0;p--)v[p]=255&f,f>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(o.from(v))},c.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},c.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},c.prototype._skipDefault=function(f,h,g){const v=this._baseState;let p;if(v.default===null)return!1;const y=f.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,h,g).join()),y.length!==v.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==v.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const i=e("inherits"),o=e("./der");function u(a){o.call(this,a),this.enc="pem"}i(u,o),n.exports=u,u.prototype.encode=function(a,l){const c=o.prototype.encode.call(this,a).toString("base64"),d=["-----BEGIN "+l.label+"-----"];for(let f=0;f<c.length;f+=64)d.push(c.slice(f,f+64));return d.push("-----END "+l.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(i,o){function u(E,I){if(!E)throw new Error(I||"Assertion failed")}function a(E,I){E.super_=I;var A=function(){};A.prototype=I.prototype,E.prototype=new A,E.prototype.constructor=E}function l(E,I,A){if(l.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(I!=="le"&&I!=="be"||(A=I,I=10),this._init(E||0,I||10,A||"be"))}var c;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(E,I){var A=E.charCodeAt(I);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function f(E,I,A){var w=d(E,A);return A-1>=I&&(w|=d(E,A-1)<<4),w}function h(E,I,A,w){for(var _=0,x=Math.min(E.length,A),S=I;S<x;S++){var C=E.charCodeAt(S)-48;_*=w,_+=C>=49?C-49+10:C>=17?C-17+10:C}return _}l.isBN=function(E){return E instanceof l||E!==null&&typeof E=="object"&&E.constructor.wordSize===l.wordSize&&Array.isArray(E.words)},l.max=function(E,I){return E.cmp(I)>0?E:I},l.min=function(E,I){return E.cmp(I)<0?E:I},l.prototype._init=function(E,I,A){if(typeof E=="number")return this._initNumber(E,I,A);if(typeof E=="object")return this._initArray(E,I,A);I==="hex"&&(I=16),u(I===(0|I)&&I>=2&&I<=36);var w=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<E.length&&(I===16?this._parseHex(E,w,A):(this._parseBase(E,I,w),A==="le"&&this._initArray(this.toArray(),I,A)))},l.prototype._initNumber=function(E,I,A){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(u(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),I,A)},l.prototype._initArray=function(E,I,A){if(u(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,x,S=0;if(A==="be")for(w=E.length-1,_=0;w>=0;w-=3)x=E[w]|E[w-1]<<8|E[w-2]<<16,this.words[_]|=x<<S&67108863,this.words[_+1]=x>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);else if(A==="le")for(w=0,_=0;w<E.length;w+=3)x=E[w]|E[w+1]<<8|E[w+2]<<16,this.words[_]|=x<<S&67108863,this.words[_+1]=x>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);return this.strip()},l.prototype._parseHex=function(E,I,A){this.length=Math.ceil((E.length-I)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,x=0,S=0;if(A==="be")for(w=E.length-1;w>=I;w-=2)_=f(E,I,w)<<x,this.words[S]|=67108863&_,x>=18?(x-=18,S+=1,this.words[S]|=_>>>26):x+=8;else for(w=(E.length-I)%2==0?I+1:I;w<E.length;w+=2)_=f(E,I,w)<<x,this.words[S]|=67108863&_,x>=18?(x-=18,S+=1,this.words[S]|=_>>>26):x+=8;this.strip()},l.prototype._parseBase=function(E,I,A){this.words=[0],this.length=1;for(var w=0,_=1;_<=67108863;_*=I)w++;w--,_=_/I|0;for(var x=E.length-A,S=x%w,C=Math.min(x,x-S)+A,q=0,P=A;P<C;P+=w)q=h(E,P,P+w,I),this.imuln(_),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(S!==0){var H=1;for(q=h(E,P,E.length,I),P=0;P<S;P++)H*=I;this.imuln(H),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},l.prototype.copy=function(E){E.words=new Array(this.length);for(var I=0;I<this.length;I++)E.words[I]=this.words[I];E.length=this.length,E.negative=this.negative,E.red=this.red},l.prototype.clone=function(){var E=new l(null);return this.copy(E),E},l.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(E,I,A){A.negative=I.negative^E.negative;var w=E.length+I.length|0;A.length=w,w=w-1|0;var _=0|E.words[0],x=0|I.words[0],S=_*x,C=67108863&S,q=S/67108864|0;A.words[0]=C;for(var P=1;P<w;P++){for(var H=q>>>26,X=67108863&q,Z=Math.min(P,I.length-1),V=Math.max(0,P-E.length+1);V<=Z;V++){var Q=P-V|0;H+=(S=(_=0|E.words[Q])*(x=0|I.words[V])+X)/67108864|0,X=67108863&S}A.words[P]=0|X,q=0|H}return q!==0?A.words[P]=0|q:A.length--,A.strip()}l.prototype.toString=function(E,I){var A;if(I=0|I||1,(E=E||10)===16||E==="hex"){A="";for(var w=0,_=0,x=0;x<this.length;x++){var S=this.words[x],C=(16777215&(S<<w|_)).toString(16);A=(_=S>>>24-w&16777215)!==0||x!==this.length-1?g[6-C.length]+C+A:C+A,(w+=2)>=26&&(w-=26,x--)}for(_!==0&&(A=_.toString(16)+A);A.length%I!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(E===(0|E)&&E>=2&&E<=36){var q=v[E],P=p[E];A="";var H=this.clone();for(H.negative=0;!H.isZero();){var X=H.modn(P).toString(E);A=(H=H.idivn(P)).isZero()?X+A:g[q-X.length]+X+A}for(this.isZero()&&(A="0"+A);A.length%I!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}u(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(E,I){return u(c!==void 0),this.toArrayLike(c,E,I)},l.prototype.toArray=function(E,I){return this.toArrayLike(Array,E,I)},l.prototype.toArrayLike=function(E,I,A){var w=this.byteLength(),_=A||Math.max(1,w);u(w<=_,"byte array longer than desired length"),u(_>0,"Requested array length <= 0"),this.strip();var x,S,C=I==="le",q=new E(_),P=this.clone();if(C){for(S=0;!P.isZero();S++)x=P.andln(255),P.iushrn(8),q[S]=x;for(;S<_;S++)q[S]=0}else{for(S=0;S<_-w;S++)q[S]=0;for(S=0;!P.isZero();S++)x=P.andln(255),P.iushrn(8),q[_-S-1]=x}return q},Math.clz32?l.prototype._countBits=function(E){return 32-Math.clz32(E)}:l.prototype._countBits=function(E){var I=E,A=0;return I>=4096&&(A+=13,I>>>=13),I>=64&&(A+=7,I>>>=7),I>=8&&(A+=4,I>>>=4),I>=2&&(A+=2,I>>>=2),A+I},l.prototype._zeroBits=function(E){if(E===0)return 26;var I=E,A=0;return!(8191&I)&&(A+=13,I>>>=13),!(127&I)&&(A+=7,I>>>=7),!(15&I)&&(A+=4,I>>>=4),!(3&I)&&(A+=2,I>>>=2),!(1&I)&&A++,A},l.prototype.bitLength=function(){var E=this.words[this.length-1],I=this._countBits(E);return 26*(this.length-1)+I},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,I=0;I<this.length;I++){var A=this._zeroBits(this.words[I]);if(E+=A,A!==26)break}return E},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},l.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]|E.words[I];return this.strip()},l.prototype.ior=function(E){return u((this.negative|E.negative)==0),this.iuor(E)},l.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},l.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},l.prototype.iuand=function(E){var I;I=this.length>E.length?E:this;for(var A=0;A<I.length;A++)this.words[A]=this.words[A]&E.words[A];return this.length=I.length,this.strip()},l.prototype.iand=function(E){return u((this.negative|E.negative)==0),this.iuand(E)},l.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},l.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},l.prototype.iuxor=function(E){var I,A;this.length>E.length?(I=this,A=E):(I=E,A=this);for(var w=0;w<A.length;w++)this.words[w]=I.words[w]^A.words[w];if(this!==I)for(;w<I.length;w++)this.words[w]=I.words[w];return this.length=I.length,this.strip()},l.prototype.ixor=function(E){return u((this.negative|E.negative)==0),this.iuxor(E)},l.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},l.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},l.prototype.inotn=function(E){u(typeof E=="number"&&E>=0);var I=0|Math.ceil(E/26),A=E%26;this._expand(I),A>0&&I--;for(var w=0;w<I;w++)this.words[w]=67108863&~this.words[w];return A>0&&(this.words[w]=~this.words[w]&67108863>>26-A),this.strip()},l.prototype.notn=function(E){return this.clone().inotn(E)},l.prototype.setn=function(E,I){u(typeof E=="number"&&E>=0);var A=E/26|0,w=E%26;return this._expand(A+1),this.words[A]=I?this.words[A]|1<<w:this.words[A]&~(1<<w),this.strip()},l.prototype.iadd=function(E){var I,A,w;if(this.negative!==0&&E.negative===0)return this.negative=0,I=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,I=this.isub(E),E.negative=1,I._normSign();this.length>E.length?(A=this,w=E):(A=E,w=this);for(var _=0,x=0;x<w.length;x++)I=(0|A.words[x])+(0|w.words[x])+_,this.words[x]=67108863&I,_=I>>>26;for(;_!==0&&x<A.length;x++)I=(0|A.words[x])+_,this.words[x]=67108863&I,_=I>>>26;if(this.length=A.length,_!==0)this.words[this.length]=_,this.length++;else if(A!==this)for(;x<A.length;x++)this.words[x]=A.words[x];return this},l.prototype.add=function(E){var I;return E.negative!==0&&this.negative===0?(E.negative=0,I=this.sub(E),E.negative^=1,I):E.negative===0&&this.negative!==0?(this.negative=0,I=E.sub(this),this.negative=1,I):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},l.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var I=this.iadd(E);return E.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var A,w,_=this.cmp(E);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(A=this,w=E):(A=E,w=this);for(var x=0,S=0;S<w.length;S++)x=(I=(0|A.words[S])-(0|w.words[S])+x)>>26,this.words[S]=67108863&I;for(;x!==0&&S<A.length;S++)x=(I=(0|A.words[S])+x)>>26,this.words[S]=67108863&I;if(x===0&&S<A.length&&A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this.length=Math.max(this.length,S),A!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(E){return this.clone().isub(E)};var m=function(E,I,A){var w,_,x,S=E.words,C=I.words,q=A.words,P=0,H=0|S[0],X=8191&H,Z=H>>>13,V=0|S[1],Q=8191&V,z=V>>>13,D=0|S[2],W=8191&D,ee=D>>>13,oe=0|S[3],ie=8191&oe,ae=oe>>>13,le=0|S[4],ne=8191&le,se=le>>>13,ye=0|S[5],me=8191&ye,we=ye>>>13,_e=0|S[6],Se=8191&_e,Te=_e>>>13,je=0|S[7],Ue=8191&je,qe=je>>>13,We=0|S[8],Ke=8191&We,rt=We>>>13,ut=0|S[9],He=8191&ut,_t=ut>>>13,Qe=0|C[0],at=8191&Qe,nt=Qe>>>13,yt=0|C[1],xt=8191&yt,Ct=yt>>>13,ar=0|C[2],wt=8191&ar,Xt=ar>>>13,$t=0|C[3],At=8191&$t,vt=$t>>>13,Nt=0|C[4],Rt=8191&Nt,qt=Nt>>>13,er=0|C[5],Dt=8191&er,ct=er>>>13,ir=0|C[6],Ut=8191&ir,ke=ir>>>13,Ne=0|C[7],ze=8191&Ne,st=Ne>>>13,Ft=0|C[8],pt=8191&Ft,Mt=Ft>>>13,Ve=0|C[9],it=8191&Ve,St=Ve>>>13;A.negative=E.negative^I.negative,A.length=19;var bt=(P+(w=Math.imul(X,at))|0)+((8191&(_=(_=Math.imul(X,nt))+Math.imul(Z,at)|0))<<13)|0;P=((x=Math.imul(Z,nt))+(_>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(Q,at),_=(_=Math.imul(Q,nt))+Math.imul(z,at)|0,x=Math.imul(z,nt);var Lt=(P+(w=w+Math.imul(X,xt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Ct)|0)+Math.imul(Z,xt)|0))<<13)|0;P=((x=x+Math.imul(Z,Ct)|0)+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,w=Math.imul(W,at),_=(_=Math.imul(W,nt))+Math.imul(ee,at)|0,x=Math.imul(ee,nt),w=w+Math.imul(Q,xt)|0,_=(_=_+Math.imul(Q,Ct)|0)+Math.imul(z,xt)|0,x=x+Math.imul(z,Ct)|0;var or=(P+(w=w+Math.imul(X,wt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Xt)|0)+Math.imul(Z,wt)|0))<<13)|0;P=((x=x+Math.imul(Z,Xt)|0)+(_>>>13)|0)+(or>>>26)|0,or&=67108863,w=Math.imul(ie,at),_=(_=Math.imul(ie,nt))+Math.imul(ae,at)|0,x=Math.imul(ae,nt),w=w+Math.imul(W,xt)|0,_=(_=_+Math.imul(W,Ct)|0)+Math.imul(ee,xt)|0,x=x+Math.imul(ee,Ct)|0,w=w+Math.imul(Q,wt)|0,_=(_=_+Math.imul(Q,Xt)|0)+Math.imul(z,wt)|0,x=x+Math.imul(z,Xt)|0;var yr=(P+(w=w+Math.imul(X,At)|0)|0)+((8191&(_=(_=_+Math.imul(X,vt)|0)+Math.imul(Z,At)|0))<<13)|0;P=((x=x+Math.imul(Z,vt)|0)+(_>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(ne,at),_=(_=Math.imul(ne,nt))+Math.imul(se,at)|0,x=Math.imul(se,nt),w=w+Math.imul(ie,xt)|0,_=(_=_+Math.imul(ie,Ct)|0)+Math.imul(ae,xt)|0,x=x+Math.imul(ae,Ct)|0,w=w+Math.imul(W,wt)|0,_=(_=_+Math.imul(W,Xt)|0)+Math.imul(ee,wt)|0,x=x+Math.imul(ee,Xt)|0,w=w+Math.imul(Q,At)|0,_=(_=_+Math.imul(Q,vt)|0)+Math.imul(z,At)|0,x=x+Math.imul(z,vt)|0;var Mr=(P+(w=w+Math.imul(X,Rt)|0)|0)+((8191&(_=(_=_+Math.imul(X,qt)|0)+Math.imul(Z,Rt)|0))<<13)|0;P=((x=x+Math.imul(Z,qt)|0)+(_>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,w=Math.imul(me,at),_=(_=Math.imul(me,nt))+Math.imul(we,at)|0,x=Math.imul(we,nt),w=w+Math.imul(ne,xt)|0,_=(_=_+Math.imul(ne,Ct)|0)+Math.imul(se,xt)|0,x=x+Math.imul(se,Ct)|0,w=w+Math.imul(ie,wt)|0,_=(_=_+Math.imul(ie,Xt)|0)+Math.imul(ae,wt)|0,x=x+Math.imul(ae,Xt)|0,w=w+Math.imul(W,At)|0,_=(_=_+Math.imul(W,vt)|0)+Math.imul(ee,At)|0,x=x+Math.imul(ee,vt)|0,w=w+Math.imul(Q,Rt)|0,_=(_=_+Math.imul(Q,qt)|0)+Math.imul(z,Rt)|0,x=x+Math.imul(z,qt)|0;var Dr=(P+(w=w+Math.imul(X,Dt)|0)|0)+((8191&(_=(_=_+Math.imul(X,ct)|0)+Math.imul(Z,Dt)|0))<<13)|0;P=((x=x+Math.imul(Z,ct)|0)+(_>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(Se,at),_=(_=Math.imul(Se,nt))+Math.imul(Te,at)|0,x=Math.imul(Te,nt),w=w+Math.imul(me,xt)|0,_=(_=_+Math.imul(me,Ct)|0)+Math.imul(we,xt)|0,x=x+Math.imul(we,Ct)|0,w=w+Math.imul(ne,wt)|0,_=(_=_+Math.imul(ne,Xt)|0)+Math.imul(se,wt)|0,x=x+Math.imul(se,Xt)|0,w=w+Math.imul(ie,At)|0,_=(_=_+Math.imul(ie,vt)|0)+Math.imul(ae,At)|0,x=x+Math.imul(ae,vt)|0,w=w+Math.imul(W,Rt)|0,_=(_=_+Math.imul(W,qt)|0)+Math.imul(ee,Rt)|0,x=x+Math.imul(ee,qt)|0,w=w+Math.imul(Q,Dt)|0,_=(_=_+Math.imul(Q,ct)|0)+Math.imul(z,Dt)|0,x=x+Math.imul(z,ct)|0;var on=(P+(w=w+Math.imul(X,Ut)|0)|0)+((8191&(_=(_=_+Math.imul(X,ke)|0)+Math.imul(Z,Ut)|0))<<13)|0;P=((x=x+Math.imul(Z,ke)|0)+(_>>>13)|0)+(on>>>26)|0,on&=67108863,w=Math.imul(Ue,at),_=(_=Math.imul(Ue,nt))+Math.imul(qe,at)|0,x=Math.imul(qe,nt),w=w+Math.imul(Se,xt)|0,_=(_=_+Math.imul(Se,Ct)|0)+Math.imul(Te,xt)|0,x=x+Math.imul(Te,Ct)|0,w=w+Math.imul(me,wt)|0,_=(_=_+Math.imul(me,Xt)|0)+Math.imul(we,wt)|0,x=x+Math.imul(we,Xt)|0,w=w+Math.imul(ne,At)|0,_=(_=_+Math.imul(ne,vt)|0)+Math.imul(se,At)|0,x=x+Math.imul(se,vt)|0,w=w+Math.imul(ie,Rt)|0,_=(_=_+Math.imul(ie,qt)|0)+Math.imul(ae,Rt)|0,x=x+Math.imul(ae,qt)|0,w=w+Math.imul(W,Dt)|0,_=(_=_+Math.imul(W,ct)|0)+Math.imul(ee,Dt)|0,x=x+Math.imul(ee,ct)|0,w=w+Math.imul(Q,Ut)|0,_=(_=_+Math.imul(Q,ke)|0)+Math.imul(z,Ut)|0,x=x+Math.imul(z,ke)|0;var be=(P+(w=w+Math.imul(X,ze)|0)|0)+((8191&(_=(_=_+Math.imul(X,st)|0)+Math.imul(Z,ze)|0))<<13)|0;P=((x=x+Math.imul(Z,st)|0)+(_>>>13)|0)+(be>>>26)|0,be&=67108863,w=Math.imul(Ke,at),_=(_=Math.imul(Ke,nt))+Math.imul(rt,at)|0,x=Math.imul(rt,nt),w=w+Math.imul(Ue,xt)|0,_=(_=_+Math.imul(Ue,Ct)|0)+Math.imul(qe,xt)|0,x=x+Math.imul(qe,Ct)|0,w=w+Math.imul(Se,wt)|0,_=(_=_+Math.imul(Se,Xt)|0)+Math.imul(Te,wt)|0,x=x+Math.imul(Te,Xt)|0,w=w+Math.imul(me,At)|0,_=(_=_+Math.imul(me,vt)|0)+Math.imul(we,At)|0,x=x+Math.imul(we,vt)|0,w=w+Math.imul(ne,Rt)|0,_=(_=_+Math.imul(ne,qt)|0)+Math.imul(se,Rt)|0,x=x+Math.imul(se,qt)|0,w=w+Math.imul(ie,Dt)|0,_=(_=_+Math.imul(ie,ct)|0)+Math.imul(ae,Dt)|0,x=x+Math.imul(ae,ct)|0,w=w+Math.imul(W,Ut)|0,_=(_=_+Math.imul(W,ke)|0)+Math.imul(ee,Ut)|0,x=x+Math.imul(ee,ke)|0,w=w+Math.imul(Q,ze)|0,_=(_=_+Math.imul(Q,st)|0)+Math.imul(z,ze)|0,x=x+Math.imul(z,st)|0;var Oe=(P+(w=w+Math.imul(X,pt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Mt)|0)+Math.imul(Z,pt)|0))<<13)|0;P=((x=x+Math.imul(Z,Mt)|0)+(_>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,w=Math.imul(He,at),_=(_=Math.imul(He,nt))+Math.imul(_t,at)|0,x=Math.imul(_t,nt),w=w+Math.imul(Ke,xt)|0,_=(_=_+Math.imul(Ke,Ct)|0)+Math.imul(rt,xt)|0,x=x+Math.imul(rt,Ct)|0,w=w+Math.imul(Ue,wt)|0,_=(_=_+Math.imul(Ue,Xt)|0)+Math.imul(qe,wt)|0,x=x+Math.imul(qe,Xt)|0,w=w+Math.imul(Se,At)|0,_=(_=_+Math.imul(Se,vt)|0)+Math.imul(Te,At)|0,x=x+Math.imul(Te,vt)|0,w=w+Math.imul(me,Rt)|0,_=(_=_+Math.imul(me,qt)|0)+Math.imul(we,Rt)|0,x=x+Math.imul(we,qt)|0,w=w+Math.imul(ne,Dt)|0,_=(_=_+Math.imul(ne,ct)|0)+Math.imul(se,Dt)|0,x=x+Math.imul(se,ct)|0,w=w+Math.imul(ie,Ut)|0,_=(_=_+Math.imul(ie,ke)|0)+Math.imul(ae,Ut)|0,x=x+Math.imul(ae,ke)|0,w=w+Math.imul(W,ze)|0,_=(_=_+Math.imul(W,st)|0)+Math.imul(ee,ze)|0,x=x+Math.imul(ee,st)|0,w=w+Math.imul(Q,pt)|0,_=(_=_+Math.imul(Q,Mt)|0)+Math.imul(z,pt)|0,x=x+Math.imul(z,Mt)|0;var Ge=(P+(w=w+Math.imul(X,it)|0)|0)+((8191&(_=(_=_+Math.imul(X,St)|0)+Math.imul(Z,it)|0))<<13)|0;P=((x=x+Math.imul(Z,St)|0)+(_>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,w=Math.imul(He,xt),_=(_=Math.imul(He,Ct))+Math.imul(_t,xt)|0,x=Math.imul(_t,Ct),w=w+Math.imul(Ke,wt)|0,_=(_=_+Math.imul(Ke,Xt)|0)+Math.imul(rt,wt)|0,x=x+Math.imul(rt,Xt)|0,w=w+Math.imul(Ue,At)|0,_=(_=_+Math.imul(Ue,vt)|0)+Math.imul(qe,At)|0,x=x+Math.imul(qe,vt)|0,w=w+Math.imul(Se,Rt)|0,_=(_=_+Math.imul(Se,qt)|0)+Math.imul(Te,Rt)|0,x=x+Math.imul(Te,qt)|0,w=w+Math.imul(me,Dt)|0,_=(_=_+Math.imul(me,ct)|0)+Math.imul(we,Dt)|0,x=x+Math.imul(we,ct)|0,w=w+Math.imul(ne,Ut)|0,_=(_=_+Math.imul(ne,ke)|0)+Math.imul(se,Ut)|0,x=x+Math.imul(se,ke)|0,w=w+Math.imul(ie,ze)|0,_=(_=_+Math.imul(ie,st)|0)+Math.imul(ae,ze)|0,x=x+Math.imul(ae,st)|0,w=w+Math.imul(W,pt)|0,_=(_=_+Math.imul(W,Mt)|0)+Math.imul(ee,pt)|0,x=x+Math.imul(ee,Mt)|0;var et=(P+(w=w+Math.imul(Q,it)|0)|0)+((8191&(_=(_=_+Math.imul(Q,St)|0)+Math.imul(z,it)|0))<<13)|0;P=((x=x+Math.imul(z,St)|0)+(_>>>13)|0)+(et>>>26)|0,et&=67108863,w=Math.imul(He,wt),_=(_=Math.imul(He,Xt))+Math.imul(_t,wt)|0,x=Math.imul(_t,Xt),w=w+Math.imul(Ke,At)|0,_=(_=_+Math.imul(Ke,vt)|0)+Math.imul(rt,At)|0,x=x+Math.imul(rt,vt)|0,w=w+Math.imul(Ue,Rt)|0,_=(_=_+Math.imul(Ue,qt)|0)+Math.imul(qe,Rt)|0,x=x+Math.imul(qe,qt)|0,w=w+Math.imul(Se,Dt)|0,_=(_=_+Math.imul(Se,ct)|0)+Math.imul(Te,Dt)|0,x=x+Math.imul(Te,ct)|0,w=w+Math.imul(me,Ut)|0,_=(_=_+Math.imul(me,ke)|0)+Math.imul(we,Ut)|0,x=x+Math.imul(we,ke)|0,w=w+Math.imul(ne,ze)|0,_=(_=_+Math.imul(ne,st)|0)+Math.imul(se,ze)|0,x=x+Math.imul(se,st)|0,w=w+Math.imul(ie,pt)|0,_=(_=_+Math.imul(ie,Mt)|0)+Math.imul(ae,pt)|0,x=x+Math.imul(ae,Mt)|0;var Pt=(P+(w=w+Math.imul(W,it)|0)|0)+((8191&(_=(_=_+Math.imul(W,St)|0)+Math.imul(ee,it)|0))<<13)|0;P=((x=x+Math.imul(ee,St)|0)+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(He,At),_=(_=Math.imul(He,vt))+Math.imul(_t,At)|0,x=Math.imul(_t,vt),w=w+Math.imul(Ke,Rt)|0,_=(_=_+Math.imul(Ke,qt)|0)+Math.imul(rt,Rt)|0,x=x+Math.imul(rt,qt)|0,w=w+Math.imul(Ue,Dt)|0,_=(_=_+Math.imul(Ue,ct)|0)+Math.imul(qe,Dt)|0,x=x+Math.imul(qe,ct)|0,w=w+Math.imul(Se,Ut)|0,_=(_=_+Math.imul(Se,ke)|0)+Math.imul(Te,Ut)|0,x=x+Math.imul(Te,ke)|0,w=w+Math.imul(me,ze)|0,_=(_=_+Math.imul(me,st)|0)+Math.imul(we,ze)|0,x=x+Math.imul(we,st)|0,w=w+Math.imul(ne,pt)|0,_=(_=_+Math.imul(ne,Mt)|0)+Math.imul(se,pt)|0,x=x+Math.imul(se,Mt)|0;var ft=(P+(w=w+Math.imul(ie,it)|0)|0)+((8191&(_=(_=_+Math.imul(ie,St)|0)+Math.imul(ae,it)|0))<<13)|0;P=((x=x+Math.imul(ae,St)|0)+(_>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(He,Rt),_=(_=Math.imul(He,qt))+Math.imul(_t,Rt)|0,x=Math.imul(_t,qt),w=w+Math.imul(Ke,Dt)|0,_=(_=_+Math.imul(Ke,ct)|0)+Math.imul(rt,Dt)|0,x=x+Math.imul(rt,ct)|0,w=w+Math.imul(Ue,Ut)|0,_=(_=_+Math.imul(Ue,ke)|0)+Math.imul(qe,Ut)|0,x=x+Math.imul(qe,ke)|0,w=w+Math.imul(Se,ze)|0,_=(_=_+Math.imul(Se,st)|0)+Math.imul(Te,ze)|0,x=x+Math.imul(Te,st)|0,w=w+Math.imul(me,pt)|0,_=(_=_+Math.imul(me,Mt)|0)+Math.imul(we,pt)|0,x=x+Math.imul(we,Mt)|0;var mt=(P+(w=w+Math.imul(ne,it)|0)|0)+((8191&(_=(_=_+Math.imul(ne,St)|0)+Math.imul(se,it)|0))<<13)|0;P=((x=x+Math.imul(se,St)|0)+(_>>>13)|0)+(mt>>>26)|0,mt&=67108863,w=Math.imul(He,Dt),_=(_=Math.imul(He,ct))+Math.imul(_t,Dt)|0,x=Math.imul(_t,ct),w=w+Math.imul(Ke,Ut)|0,_=(_=_+Math.imul(Ke,ke)|0)+Math.imul(rt,Ut)|0,x=x+Math.imul(rt,ke)|0,w=w+Math.imul(Ue,ze)|0,_=(_=_+Math.imul(Ue,st)|0)+Math.imul(qe,ze)|0,x=x+Math.imul(qe,st)|0,w=w+Math.imul(Se,pt)|0,_=(_=_+Math.imul(Se,Mt)|0)+Math.imul(Te,pt)|0,x=x+Math.imul(Te,Mt)|0;var mr=(P+(w=w+Math.imul(me,it)|0)|0)+((8191&(_=(_=_+Math.imul(me,St)|0)+Math.imul(we,it)|0))<<13)|0;P=((x=x+Math.imul(we,St)|0)+(_>>>13)|0)+(mr>>>26)|0,mr&=67108863,w=Math.imul(He,Ut),_=(_=Math.imul(He,ke))+Math.imul(_t,Ut)|0,x=Math.imul(_t,ke),w=w+Math.imul(Ke,ze)|0,_=(_=_+Math.imul(Ke,st)|0)+Math.imul(rt,ze)|0,x=x+Math.imul(rt,st)|0,w=w+Math.imul(Ue,pt)|0,_=(_=_+Math.imul(Ue,Mt)|0)+Math.imul(qe,pt)|0,x=x+Math.imul(qe,Mt)|0;var Zt=(P+(w=w+Math.imul(Se,it)|0)|0)+((8191&(_=(_=_+Math.imul(Se,St)|0)+Math.imul(Te,it)|0))<<13)|0;P=((x=x+Math.imul(Te,St)|0)+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,w=Math.imul(He,ze),_=(_=Math.imul(He,st))+Math.imul(_t,ze)|0,x=Math.imul(_t,st),w=w+Math.imul(Ke,pt)|0,_=(_=_+Math.imul(Ke,Mt)|0)+Math.imul(rt,pt)|0,x=x+Math.imul(rt,Mt)|0;var nr=(P+(w=w+Math.imul(Ue,it)|0)|0)+((8191&(_=(_=_+Math.imul(Ue,St)|0)+Math.imul(qe,it)|0))<<13)|0;P=((x=x+Math.imul(qe,St)|0)+(_>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(He,pt),_=(_=Math.imul(He,Mt))+Math.imul(_t,pt)|0,x=Math.imul(_t,Mt);var zt=(P+(w=w+Math.imul(Ke,it)|0)|0)+((8191&(_=(_=_+Math.imul(Ke,St)|0)+Math.imul(rt,it)|0))<<13)|0;P=((x=x+Math.imul(rt,St)|0)+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863;var br=(P+(w=Math.imul(He,it))|0)+((8191&(_=(_=Math.imul(He,St))+Math.imul(_t,it)|0))<<13)|0;return P=((x=Math.imul(_t,St))+(_>>>13)|0)+(br>>>26)|0,br&=67108863,q[0]=bt,q[1]=Lt,q[2]=or,q[3]=yr,q[4]=Mr,q[5]=Dr,q[6]=on,q[7]=be,q[8]=Oe,q[9]=Ge,q[10]=et,q[11]=Pt,q[12]=ft,q[13]=mt,q[14]=mr,q[15]=Zt,q[16]=nr,q[17]=zt,q[18]=br,P!==0&&(q[19]=P,A.length++),A};function b(E,I,A){return new k().mulp(E,I,A)}function k(E,I){this.x=E,this.y=I}Math.imul||(m=y),l.prototype.mulTo=function(E,I){var A=this.length+E.length;return this.length===10&&E.length===10?m(this,E,I):A<63?y(this,E,I):A<1024?function(w,_,x){x.negative=_.negative^w.negative,x.length=w.length+_.length;for(var S=0,C=0,q=0;q<x.length-1;q++){var P=C;C=0;for(var H=67108863&S,X=Math.min(q,_.length-1),Z=Math.max(0,q-w.length+1);Z<=X;Z++){var V=q-Z,Q=(0|w.words[V])*(0|_.words[Z]),z=67108863&Q;H=67108863&(z=z+H|0),C+=(P=(P=P+(Q/67108864|0)|0)+(z>>>26)|0)>>>26,P&=67108863}x.words[q]=H,S=P,P=C}return S!==0?x.words[q]=S:x.length--,x.strip()}(this,E,I):b(this,E,I)},k.prototype.makeRBT=function(E){for(var I=new Array(E),A=l.prototype._countBits(E)-1,w=0;w<E;w++)I[w]=this.revBin(w,A,E);return I},k.prototype.revBin=function(E,I,A){if(E===0||E===A-1)return E;for(var w=0,_=0;_<I;_++)w|=(1&E)<<I-_-1,E>>=1;return w},k.prototype.permute=function(E,I,A,w,_,x){for(var S=0;S<x;S++)w[S]=I[E[S]],_[S]=A[E[S]]},k.prototype.transform=function(E,I,A,w,_,x){this.permute(x,E,I,A,w,_);for(var S=1;S<_;S<<=1)for(var C=S<<1,q=Math.cos(2*Math.PI/C),P=Math.sin(2*Math.PI/C),H=0;H<_;H+=C)for(var X=q,Z=P,V=0;V<S;V++){var Q=A[H+V],z=w[H+V],D=A[H+V+S],W=w[H+V+S],ee=X*D-Z*W;W=X*W+Z*D,D=ee,A[H+V]=Q+D,w[H+V]=z+W,A[H+V+S]=Q-D,w[H+V+S]=z-W,V!==C&&(ee=q*X-P*Z,Z=q*Z+P*X,X=ee)}},k.prototype.guessLen13b=function(E,I){var A=1|Math.max(I,E),w=1&A,_=0;for(A=A/2|0;A;A>>>=1)_++;return 1<<_+1+w},k.prototype.conjugate=function(E,I,A){if(!(A<=1))for(var w=0;w<A/2;w++){var _=E[w];E[w]=E[A-w-1],E[A-w-1]=_,_=I[w],I[w]=-I[A-w-1],I[A-w-1]=-_}},k.prototype.normalize13b=function(E,I){for(var A=0,w=0;w<I/2;w++){var _=8192*Math.round(E[2*w+1]/I)+Math.round(E[2*w]/I)+A;E[w]=67108863&_,A=_<67108864?0:_/67108864|0}return E},k.prototype.convert13b=function(E,I,A,w){for(var _=0,x=0;x<I;x++)_+=0|E[x],A[2*x]=8191&_,_>>>=13,A[2*x+1]=8191&_,_>>>=13;for(x=2*I;x<w;++x)A[x]=0;u(_===0),u((-8192&_)==0)},k.prototype.stub=function(E){for(var I=new Array(E),A=0;A<E;A++)I[A]=0;return I},k.prototype.mulp=function(E,I,A){var w=2*this.guessLen13b(E.length,I.length),_=this.makeRBT(w),x=this.stub(w),S=new Array(w),C=new Array(w),q=new Array(w),P=new Array(w),H=new Array(w),X=new Array(w),Z=A.words;Z.length=w,this.convert13b(E.words,E.length,S,w),this.convert13b(I.words,I.length,P,w),this.transform(S,x,C,q,w,_),this.transform(P,x,H,X,w,_);for(var V=0;V<w;V++){var Q=C[V]*H[V]-q[V]*X[V];q[V]=C[V]*X[V]+q[V]*H[V],C[V]=Q}return this.conjugate(C,q,w),this.transform(C,q,Z,x,w,_),this.conjugate(Z,x,w),this.normalize13b(Z,w),A.negative=E.negative^I.negative,A.length=E.length+I.length,A.strip()},l.prototype.mul=function(E){var I=new l(null);return I.words=new Array(this.length+E.length),this.mulTo(E,I)},l.prototype.mulf=function(E){var I=new l(null);return I.words=new Array(this.length+E.length),b(this,E,I)},l.prototype.imul=function(E){return this.clone().mulTo(E,this)},l.prototype.imuln=function(E){u(typeof E=="number"),u(E<67108864);for(var I=0,A=0;A<this.length;A++){var w=(0|this.words[A])*E,_=(67108863&w)+(67108863&I);I>>=26,I+=w/67108864|0,I+=_>>>26,this.words[A]=67108863&_}return I!==0&&(this.words[A]=I,this.length++),this},l.prototype.muln=function(E){return this.clone().imuln(E)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(E){var I=function(x){for(var S=new Array(x.bitLength()),C=0;C<S.length;C++){var q=C/26|0,P=C%26;S[C]=(x.words[q]&1<<P)>>>P}return S}(E);if(I.length===0)return new l(1);for(var A=this,w=0;w<I.length&&I[w]===0;w++,A=A.sqr());if(++w<I.length)for(var _=A.sqr();w<I.length;w++,_=_.sqr())I[w]!==0&&(A=A.mul(_));return A},l.prototype.iushln=function(E){u(typeof E=="number"&&E>=0);var I,A=E%26,w=(E-A)/26,_=67108863>>>26-A<<26-A;if(A!==0){var x=0;for(I=0;I<this.length;I++){var S=this.words[I]&_,C=(0|this.words[I])-S<<A;this.words[I]=C|x,x=S>>>26-A}x&&(this.words[I]=x,this.length++)}if(w!==0){for(I=this.length-1;I>=0;I--)this.words[I+w]=this.words[I];for(I=0;I<w;I++)this.words[I]=0;this.length+=w}return this.strip()},l.prototype.ishln=function(E){return u(this.negative===0),this.iushln(E)},l.prototype.iushrn=function(E,I,A){var w;u(typeof E=="number"&&E>=0),w=I?(I-I%26)/26:0;var _=E%26,x=Math.min((E-_)/26,this.length),S=67108863^67108863>>>_<<_,C=A;if(w-=x,w=Math.max(0,w),C){for(var q=0;q<x;q++)C.words[q]=this.words[q];C.length=x}if(x!==0)if(this.length>x)for(this.length-=x,q=0;q<this.length;q++)this.words[q]=this.words[q+x];else this.words[0]=0,this.length=1;var P=0;for(q=this.length-1;q>=0&&(P!==0||q>=w);q--){var H=0|this.words[q];this.words[q]=P<<26-_|H>>>_,P=H&S}return C&&P!==0&&(C.words[C.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(E,I,A){return u(this.negative===0),this.iushrn(E,I,A)},l.prototype.shln=function(E){return this.clone().ishln(E)},l.prototype.ushln=function(E){return this.clone().iushln(E)},l.prototype.shrn=function(E){return this.clone().ishrn(E)},l.prototype.ushrn=function(E){return this.clone().iushrn(E)},l.prototype.testn=function(E){u(typeof E=="number"&&E>=0);var I=E%26,A=(E-I)/26,w=1<<I;return!(this.length<=A)&&!!(this.words[A]&w)},l.prototype.imaskn=function(E){u(typeof E=="number"&&E>=0);var I=E%26,A=(E-I)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(I!==0&&A++,this.length=Math.min(A,this.length),I!==0){var w=67108863^67108863>>>I<<I;this.words[this.length-1]&=w}return this.strip()},l.prototype.maskn=function(E){return this.clone().imaskn(E)},l.prototype.iaddn=function(E){return u(typeof E=="number"),u(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},l.prototype._iaddn=function(E){this.words[0]+=E;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},l.prototype.isubn=function(E){if(u(typeof E=="number"),u(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},l.prototype.addn=function(E){return this.clone().iaddn(E)},l.prototype.subn=function(E){return this.clone().isubn(E)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(E,I,A){var w,_,x=E.length+A;this._expand(x);var S=0;for(w=0;w<E.length;w++){_=(0|this.words[w+A])+S;var C=(0|E.words[w])*I;S=((_-=67108863&C)>>26)-(C/67108864|0),this.words[w+A]=67108863&_}for(;w<this.length-A;w++)S=(_=(0|this.words[w+A])+S)>>26,this.words[w+A]=67108863&_;if(S===0)return this.strip();for(u(S===-1),S=0,w=0;w<this.length;w++)S=(_=-(0|this.words[w])+S)>>26,this.words[w]=67108863&_;return this.negative=1,this.strip()},l.prototype._wordDiv=function(E,I){var A=(this.length,E.length),w=this.clone(),_=E,x=0|_.words[_.length-1];(A=26-this._countBits(x))!==0&&(_=_.ushln(A),w.iushln(A),x=0|_.words[_.length-1]);var S,C=w.length-_.length;if(I!=="mod"){(S=new l(null)).length=C+1,S.words=new Array(S.length);for(var q=0;q<S.length;q++)S.words[q]=0}var P=w.clone()._ishlnsubmul(_,1,C);P.negative===0&&(w=P,S&&(S.words[C]=1));for(var H=C-1;H>=0;H--){var X=67108864*(0|w.words[_.length+H])+(0|w.words[_.length+H-1]);for(X=Math.min(X/x|0,67108863),w._ishlnsubmul(_,X,H);w.negative!==0;)X--,w.negative=0,w._ishlnsubmul(_,1,H),w.isZero()||(w.negative^=1);S&&(S.words[H]=X)}return S&&S.strip(),w.strip(),I!=="div"&&A!==0&&w.iushrn(A),{div:S||null,mod:w}},l.prototype.divmod=function(E,I,A){return u(!E.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&E.negative===0?(x=this.neg().divmod(E,I),I!=="mod"&&(w=x.div.neg()),I!=="div"&&(_=x.mod.neg(),A&&_.negative!==0&&_.iadd(E)),{div:w,mod:_}):this.negative===0&&E.negative!==0?(x=this.divmod(E.neg(),I),I!=="mod"&&(w=x.div.neg()),{div:w,mod:x.mod}):this.negative&E.negative?(x=this.neg().divmod(E.neg(),I),I!=="div"&&(_=x.mod.neg(),A&&_.negative!==0&&_.isub(E)),{div:x.div,mod:_}):E.length>this.length||this.cmp(E)<0?{div:new l(0),mod:this}:E.length===1?I==="div"?{div:this.divn(E.words[0]),mod:null}:I==="mod"?{div:null,mod:new l(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new l(this.modn(E.words[0]))}:this._wordDiv(E,I);var w,_,x},l.prototype.div=function(E){return this.divmod(E,"div",!1).div},l.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},l.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},l.prototype.divRound=function(E){var I=this.divmod(E);if(I.mod.isZero())return I.div;var A=I.div.negative!==0?I.mod.isub(E):I.mod,w=E.ushrn(1),_=E.andln(1),x=A.cmp(w);return x<0||_===1&&x===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},l.prototype.modn=function(E){u(E<=67108863);for(var I=(1<<26)%E,A=0,w=this.length-1;w>=0;w--)A=(I*A+(0|this.words[w]))%E;return A},l.prototype.idivn=function(E){u(E<=67108863);for(var I=0,A=this.length-1;A>=0;A--){var w=(0|this.words[A])+67108864*I;this.words[A]=w/E|0,I=w%E}return this.strip()},l.prototype.divn=function(E){return this.clone().idivn(E)},l.prototype.egcd=function(E){u(E.negative===0),u(!E.isZero());var I=this,A=E.clone();I=I.negative!==0?I.umod(E):I.clone();for(var w=new l(1),_=new l(0),x=new l(0),S=new l(1),C=0;I.isEven()&&A.isEven();)I.iushrn(1),A.iushrn(1),++C;for(var q=A.clone(),P=I.clone();!I.isZero();){for(var H=0,X=1;!(I.words[0]&X)&&H<26;++H,X<<=1);if(H>0)for(I.iushrn(H);H-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(q),_.isub(P)),w.iushrn(1),_.iushrn(1);for(var Z=0,V=1;!(A.words[0]&V)&&Z<26;++Z,V<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(q),S.isub(P)),x.iushrn(1),S.iushrn(1);I.cmp(A)>=0?(I.isub(A),w.isub(x),_.isub(S)):(A.isub(I),x.isub(w),S.isub(_))}return{a:x,b:S,gcd:A.iushln(C)}},l.prototype._invmp=function(E){u(E.negative===0),u(!E.isZero());var I=this,A=E.clone();I=I.negative!==0?I.umod(E):I.clone();for(var w,_=new l(1),x=new l(0),S=A.clone();I.cmpn(1)>0&&A.cmpn(1)>0;){for(var C=0,q=1;!(I.words[0]&q)&&C<26;++C,q<<=1);if(C>0)for(I.iushrn(C);C-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var P=0,H=1;!(A.words[0]&H)&&P<26;++P,H<<=1);if(P>0)for(A.iushrn(P);P-- >0;)x.isOdd()&&x.iadd(S),x.iushrn(1);I.cmp(A)>=0?(I.isub(A),_.isub(x)):(A.isub(I),x.isub(_))}return(w=I.cmpn(1)===0?_:x).cmpn(0)<0&&w.iadd(E),w},l.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var I=this.clone(),A=E.clone();I.negative=0,A.negative=0;for(var w=0;I.isEven()&&A.isEven();w++)I.iushrn(1),A.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;A.isEven();)A.iushrn(1);var _=I.cmp(A);if(_<0){var x=I;I=A,A=x}else if(_===0||A.cmpn(1)===0)break;I.isub(A)}return A.iushln(w)},l.prototype.invm=function(E){return this.egcd(E).a.umod(E)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(E){return this.words[0]&E},l.prototype.bincn=function(E){u(typeof E=="number");var I=E%26,A=(E-I)/26,w=1<<I;if(this.length<=A)return this._expand(A+1),this.words[A]|=w,this;for(var _=w,x=A;_!==0&&x<this.length;x++){var S=0|this.words[x];_=(S+=_)>>>26,S&=67108863,this.words[x]=S}return _!==0&&(this.words[x]=_,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(E){var I,A=E<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)I=1;else{A&&(E=-E),u(E<=67108863,"Number is too big");var w=0|this.words[0];I=w===E?0:w<E?-1:1}return this.negative!==0?0|-I:I},l.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var I=this.ucmp(E);return this.negative!==0?0|-I:I},l.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var I=0,A=this.length-1;A>=0;A--){var w=0|this.words[A],_=0|E.words[A];if(w!==_){w<_?I=-1:w>_&&(I=1);break}}return I},l.prototype.gtn=function(E){return this.cmpn(E)===1},l.prototype.gt=function(E){return this.cmp(E)===1},l.prototype.gten=function(E){return this.cmpn(E)>=0},l.prototype.gte=function(E){return this.cmp(E)>=0},l.prototype.ltn=function(E){return this.cmpn(E)===-1},l.prototype.lt=function(E){return this.cmp(E)===-1},l.prototype.lten=function(E){return this.cmpn(E)<=0},l.prototype.lte=function(E){return this.cmp(E)<=0},l.prototype.eqn=function(E){return this.cmpn(E)===0},l.prototype.eq=function(E){return this.cmp(E)===0},l.red=function(E){return new O(E)},l.prototype.toRed=function(E){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},l.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(E){return this.red=E,this},l.prototype.forceRed=function(E){return u(!this.red,"Already a number in reduction context"),this._forceRed(E)},l.prototype.redAdd=function(E){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},l.prototype.redIAdd=function(E){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},l.prototype.redSub=function(E){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},l.prototype.redISub=function(E){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},l.prototype.redShl=function(E){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},l.prototype.redMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},l.prototype.redIMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},l.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(E){return u(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var N={k256:null,p224:null,p192:null,p25519:null};function F(E,I){this.name=E,this.p=new l(I,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function T(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(E){if(typeof E=="string"){var I=l._prime(E);this.m=I.p,this.prime=I}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function R(E){O.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var E=new l(null);return E.words=new Array(Math.ceil(this.n/13)),E},F.prototype.ireduce=function(E){var I,A=E;do this.split(A,this.tmp),I=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(I>this.n);var w=I<this.n?-1:A.ucmp(this.p);return w===0?(A.words[0]=0,A.length=1):w>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},F.prototype.split=function(E,I){E.iushrn(this.n,0,I)},F.prototype.imulK=function(E){return E.imul(this.k)},a(j,F),j.prototype.split=function(E,I){for(var A=Math.min(E.length,9),w=0;w<A;w++)I.words[w]=E.words[w];if(I.length=A,E.length<=9)return E.words[0]=0,void(E.length=1);var _=E.words[9];for(I.words[I.length++]=4194303&_,w=10;w<E.length;w++){var x=0|E.words[w];E.words[w-10]=(4194303&x)<<4|_>>>22,_=x}_>>>=22,E.words[w-10]=_,_===0&&E.length>10?E.length-=10:E.length-=9},j.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var I=0,A=0;A<E.length;A++){var w=0|E.words[A];I+=977*w,E.words[A]=67108863&I,I=64*w+(I/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},a(T,F),a(M,F),a(B,F),B.prototype.imulK=function(E){for(var I=0,A=0;A<E.length;A++){var w=19*(0|E.words[A])+I,_=67108863&w;w>>>=26,E.words[A]=_,I=w}return I!==0&&(E.words[E.length++]=I),E},l._prime=function(E){if(N[E])return N[E];var I;if(E==="k256")I=new j;else if(E==="p224")I=new T;else if(E==="p192")I=new M;else{if(E!=="p25519")throw new Error("Unknown prime "+E);I=new B}return N[E]=I,I},O.prototype._verify1=function(E){u(E.negative===0,"red works only with positives"),u(E.red,"red works only with red numbers")},O.prototype._verify2=function(E,I){u((E.negative|I.negative)==0,"red works only with positives"),u(E.red&&E.red===I.red,"red works only with red numbers")},O.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},O.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},O.prototype.add=function(E,I){this._verify2(E,I);var A=E.add(I);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},O.prototype.iadd=function(E,I){this._verify2(E,I);var A=E.iadd(I);return A.cmp(this.m)>=0&&A.isub(this.m),A},O.prototype.sub=function(E,I){this._verify2(E,I);var A=E.sub(I);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},O.prototype.isub=function(E,I){this._verify2(E,I);var A=E.isub(I);return A.cmpn(0)<0&&A.iadd(this.m),A},O.prototype.shl=function(E,I){return this._verify1(E),this.imod(E.ushln(I))},O.prototype.imul=function(E,I){return this._verify2(E,I),this.imod(E.imul(I))},O.prototype.mul=function(E,I){return this._verify2(E,I),this.imod(E.mul(I))},O.prototype.isqr=function(E){return this.imul(E,E.clone())},O.prototype.sqr=function(E){return this.mul(E,E)},O.prototype.sqrt=function(E){if(E.isZero())return E.clone();var I=this.m.andln(3);if(u(I%2==1),I===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(E,A)}for(var w=this.m.subn(1),_=0;!w.isZero()&&w.andln(1)===0;)_++,w.iushrn(1);u(!w.isZero());var x=new l(1).toRed(this),S=x.redNeg(),C=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new l(2*q*q).toRed(this);this.pow(q,C).cmp(S)!==0;)q.redIAdd(S);for(var P=this.pow(q,w),H=this.pow(E,w.addn(1).iushrn(1)),X=this.pow(E,w),Z=_;X.cmp(x)!==0;){for(var V=X,Q=0;V.cmp(x)!==0;Q++)V=V.redSqr();u(Q<Z);var z=this.pow(P,new l(1).iushln(Z-Q-1));H=H.redMul(z),P=z.redSqr(),X=X.redMul(P),Z=Q}return H},O.prototype.invm=function(E){var I=E._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},O.prototype.pow=function(E,I){if(I.isZero())return new l(1).toRed(this);if(I.cmpn(1)===0)return E.clone();var A=new Array(16);A[0]=new l(1).toRed(this),A[1]=E;for(var w=2;w<A.length;w++)A[w]=this.mul(A[w-1],E);var _=A[0],x=0,S=0,C=I.bitLength()%26;for(C===0&&(C=26),w=I.length-1;w>=0;w--){for(var q=I.words[w],P=C-1;P>=0;P--){var H=q>>P&1;_!==A[0]&&(_=this.sqr(_)),H!==0||x!==0?(x<<=1,x|=H,(++S===4||w===0&&P===0)&&(_=this.mul(_,A[x]),S=0,x=0)):S=0}C=26}return _},O.prototype.convertTo=function(E){var I=E.umod(this.m);return I===E?I.clone():I},O.prototype.convertFrom=function(E){var I=E.clone();return I.red=null,I},l.mont=function(E){return new R(E)},a(R,O),R.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},R.prototype.convertFrom=function(E){var I=this.imod(E.mul(this.rinv));return I.red=null,I},R.prototype.imul=function(E,I){if(E.isZero()||I.isZero())return E.words[0]=0,E.length=1,E;var A=E.imul(I),w=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=A.isub(w).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},R.prototype.mul=function(E,I){if(E.isZero()||I.isZero())return new l(0)._forceRed(this);var A=E.mul(I),w=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=A.isub(w).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},R.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(h){var g=d(h),v=g[0],p=g[1];return 3*(v+p)/4-p},s.toByteArray=function(h){var g,v,p=d(h),y=p[0],m=p[1],b=new u(function(F,j,T){return 3*(j+T)/4-T}(0,y,m)),k=0,N=m>0?y-4:y;for(v=0;v<N;v+=4)g=o[h.charCodeAt(v)]<<18|o[h.charCodeAt(v+1)]<<12|o[h.charCodeAt(v+2)]<<6|o[h.charCodeAt(v+3)],b[k++]=g>>16&255,b[k++]=g>>8&255,b[k++]=255&g;return m===2&&(g=o[h.charCodeAt(v)]<<2|o[h.charCodeAt(v+1)]>>4,b[k++]=255&g),m===1&&(g=o[h.charCodeAt(v)]<<10|o[h.charCodeAt(v+1)]<<4|o[h.charCodeAt(v+2)]>>2,b[k++]=g>>8&255,b[k++]=255&g),b},s.fromByteArray=function(h){for(var g,v=h.length,p=v%3,y=[],m=0,b=v-p;m<b;m+=16383)y.push(f(h,m,m+16383>b?b:m+16383));return p===1?(g=h[v-1],y.push(i[g>>2]+i[g<<4&63]+"==")):p===2&&(g=(h[v-2]<<8)+h[v-1],y.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),y.join("")};for(var i=[],o=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=a.length;l<c;++l)i[l]=a[l],o[a.charCodeAt(l)]=l;function d(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=h.indexOf("=");return v===-1&&(v=g),[v,v===g?0:4-v%4]}function f(h,g,v){for(var p,y,m=[],b=g;b<v;b+=3)p=(h[b]<<16&16711680)+(h[b+1]<<8&65280)+(255&h[b+2]),m.push(i[(y=p)>>18&63]+i[y>>12&63]+i[y>>6&63]+i[63&y]);return m.join("")}o[45]=62,o[95]=63},{}],186:[function(e,n,s){(function(i,o){function u(A,w){if(!A)throw new Error(w||"Assertion failed")}function a(A,w){A.super_=w;var _=function(){};_.prototype=w.prototype,A.prototype=new _,A.prototype.constructor=A}function l(A,w,_){if(l.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(w!=="le"&&w!=="be"||(_=w,w=10),this._init(A||0,w||10,_||"be"))}var c;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(A,w){var _=A.charCodeAt(w);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void u(!1,"Invalid character in "+A)}function f(A,w,_){var x=d(A,_);return _-1>=w&&(x|=d(A,_-1)<<4),x}function h(A,w,_,x){for(var S=0,C=0,q=Math.min(A.length,_),P=w;P<q;P++){var H=A.charCodeAt(P)-48;S*=x,C=H>=49?H-49+10:H>=17?H-17+10:H,u(H>=0&&C<x,"Invalid character"),S+=C}return S}function g(A,w){A.words=w.words,A.length=w.length,A.negative=w.negative,A.red=w.red}if(l.isBN=function(A){return A instanceof l||A!==null&&typeof A=="object"&&A.constructor.wordSize===l.wordSize&&Array.isArray(A.words)},l.max=function(A,w){return A.cmp(w)>0?A:w},l.min=function(A,w){return A.cmp(w)<0?A:w},l.prototype._init=function(A,w,_){if(typeof A=="number")return this._initNumber(A,w,_);if(typeof A=="object")return this._initArray(A,w,_);w==="hex"&&(w=16),u(w===(0|w)&&w>=2&&w<=36);var x=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<A.length&&(w===16?this._parseHex(A,x,_):(this._parseBase(A,w,x),_==="le"&&this._initArray(this.toArray(),w,_)))},l.prototype._initNumber=function(A,w,_){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(u(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),w,_)},l.prototype._initArray=function(A,w,_){if(u(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,C,q=0;if(_==="be")for(x=A.length-1,S=0;x>=0;x-=3)C=A[x]|A[x-1]<<8|A[x-2]<<16,this.words[S]|=C<<q&67108863,this.words[S+1]=C>>>26-q&67108863,(q+=24)>=26&&(q-=26,S++);else if(_==="le")for(x=0,S=0;x<A.length;x+=3)C=A[x]|A[x+1]<<8|A[x+2]<<16,this.words[S]|=C<<q&67108863,this.words[S+1]=C>>>26-q&67108863,(q+=24)>=26&&(q-=26,S++);return this._strip()},l.prototype._parseHex=function(A,w,_){this.length=Math.ceil((A.length-w)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,C=0,q=0;if(_==="be")for(x=A.length-1;x>=w;x-=2)S=f(A,w,x)<<C,this.words[q]|=67108863&S,C>=18?(C-=18,q+=1,this.words[q]|=S>>>26):C+=8;else for(x=(A.length-w)%2==0?w+1:w;x<A.length;x+=2)S=f(A,w,x)<<C,this.words[q]|=67108863&S,C>=18?(C-=18,q+=1,this.words[q]|=S>>>26):C+=8;this._strip()},l.prototype._parseBase=function(A,w,_){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=w)x++;x--,S=S/w|0;for(var C=A.length-_,q=C%x,P=Math.min(C,C-q)+_,H=0,X=_;X<P;X+=x)H=h(A,X,X+x,w),this.imuln(S),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(q!==0){var Z=1;for(H=h(A,X,A.length,w),X=0;X<q;X++)Z*=w;this.imuln(Z),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this._strip()},l.prototype.copy=function(A){A.words=new Array(this.length);for(var w=0;w<this.length;w++)A.words[w]=this.words[w];A.length=this.length,A.negative=this.negative,A.red=this.red},l.prototype._move=function(A){g(A,this)},l.prototype.clone=function(){var A=new l(null);return this.copy(A),A},l.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{l.prototype.inspect=v}else l.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(A,w){var _;if(w=0|w||1,(A=A||10)===16||A==="hex"){_="";for(var x=0,S=0,C=0;C<this.length;C++){var q=this.words[C],P=(16777215&(q<<x|S)).toString(16);S=q>>>24-x&16777215,(x+=2)>=26&&(x-=26,C--),_=S!==0||C!==this.length-1?p[6-P.length]+P+_:P+_}for(S!==0&&(_=S.toString(16)+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(A===(0|A)&&A>=2&&A<=36){var H=y[A],X=m[A];_="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var V=Z.modrn(X).toString(A);_=(Z=Z.idivn(X)).isZero()?V+_:p[H-V.length]+V+_}for(this.isZero()&&(_="0"+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}u(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},l.prototype.toJSON=function(){return this.toString(16,2)},c&&(l.prototype.toBuffer=function(A,w){return this.toArrayLike(c,A,w)}),l.prototype.toArray=function(A,w){return this.toArrayLike(Array,A,w)};function b(A,w,_){_.negative=w.negative^A.negative;var x=A.length+w.length|0;_.length=x,x=x-1|0;var S=0|A.words[0],C=0|w.words[0],q=S*C,P=67108863&q,H=q/67108864|0;_.words[0]=P;for(var X=1;X<x;X++){for(var Z=H>>>26,V=67108863&H,Q=Math.min(X,w.length-1),z=Math.max(0,X-A.length+1);z<=Q;z++){var D=X-z|0;Z+=(q=(S=0|A.words[D])*(C=0|w.words[z])+V)/67108864|0,V=67108863&q}_.words[X]=0|V,H=0|Z}return H!==0?_.words[X]=0|H:_.length--,_._strip()}l.prototype.toArrayLike=function(A,w,_){this._strip();var x=this.byteLength(),S=_||Math.max(1,x);u(x<=S,"byte array longer than desired length"),u(S>0,"Requested array length <= 0");var C=function(q,P){return q.allocUnsafe?q.allocUnsafe(P):new q(P)}(A,S);return this["_toArrayLike"+(w==="le"?"LE":"BE")](C,x),C},l.prototype._toArrayLikeLE=function(A,w){for(var _=0,x=0,S=0,C=0;S<this.length;S++){var q=this.words[S]<<C|x;A[_++]=255&q,_<A.length&&(A[_++]=q>>8&255),_<A.length&&(A[_++]=q>>16&255),C===6?(_<A.length&&(A[_++]=q>>24&255),x=0,C=0):(x=q>>>24,C+=2)}if(_<A.length)for(A[_++]=x;_<A.length;)A[_++]=0},l.prototype._toArrayLikeBE=function(A,w){for(var _=A.length-1,x=0,S=0,C=0;S<this.length;S++){var q=this.words[S]<<C|x;A[_--]=255&q,_>=0&&(A[_--]=q>>8&255),_>=0&&(A[_--]=q>>16&255),C===6?(_>=0&&(A[_--]=q>>24&255),x=0,C=0):(x=q>>>24,C+=2)}if(_>=0)for(A[_--]=x;_>=0;)A[_--]=0},Math.clz32?l.prototype._countBits=function(A){return 32-Math.clz32(A)}:l.prototype._countBits=function(A){var w=A,_=0;return w>=4096&&(_+=13,w>>>=13),w>=64&&(_+=7,w>>>=7),w>=8&&(_+=4,w>>>=4),w>=2&&(_+=2,w>>>=2),_+w},l.prototype._zeroBits=function(A){if(A===0)return 26;var w=A,_=0;return!(8191&w)&&(_+=13,w>>>=13),!(127&w)&&(_+=7,w>>>=7),!(15&w)&&(_+=4,w>>>=4),!(3&w)&&(_+=2,w>>>=2),!(1&w)&&_++,_},l.prototype.bitLength=function(){var A=this.words[this.length-1],w=this._countBits(A);return 26*(this.length-1)+w},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,w=0;w<this.length;w++){var _=this._zeroBits(this.words[w]);if(A+=_,_!==26)break}return A},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},l.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var w=0;w<A.length;w++)this.words[w]=this.words[w]|A.words[w];return this._strip()},l.prototype.ior=function(A){return u((this.negative|A.negative)==0),this.iuor(A)},l.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},l.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},l.prototype.iuand=function(A){var w;w=this.length>A.length?A:this;for(var _=0;_<w.length;_++)this.words[_]=this.words[_]&A.words[_];return this.length=w.length,this._strip()},l.prototype.iand=function(A){return u((this.negative|A.negative)==0),this.iuand(A)},l.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},l.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},l.prototype.iuxor=function(A){var w,_;this.length>A.length?(w=this,_=A):(w=A,_=this);for(var x=0;x<_.length;x++)this.words[x]=w.words[x]^_.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this._strip()},l.prototype.ixor=function(A){return u((this.negative|A.negative)==0),this.iuxor(A)},l.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},l.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},l.prototype.inotn=function(A){u(typeof A=="number"&&A>=0);var w=0|Math.ceil(A/26),_=A%26;this._expand(w),_>0&&w--;for(var x=0;x<w;x++)this.words[x]=67108863&~this.words[x];return _>0&&(this.words[x]=~this.words[x]&67108863>>26-_),this._strip()},l.prototype.notn=function(A){return this.clone().inotn(A)},l.prototype.setn=function(A,w){u(typeof A=="number"&&A>=0);var _=A/26|0,x=A%26;return this._expand(_+1),this.words[_]=w?this.words[_]|1<<x:this.words[_]&~(1<<x),this._strip()},l.prototype.iadd=function(A){var w,_,x;if(this.negative!==0&&A.negative===0)return this.negative=0,w=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,w=this.isub(A),A.negative=1,w._normSign();this.length>A.length?(_=this,x=A):(_=A,x=this);for(var S=0,C=0;C<x.length;C++)w=(0|_.words[C])+(0|x.words[C])+S,this.words[C]=67108863&w,S=w>>>26;for(;S!==0&&C<_.length;C++)w=(0|_.words[C])+S,this.words[C]=67108863&w,S=w>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;C<_.length;C++)this.words[C]=_.words[C];return this},l.prototype.add=function(A){var w;return A.negative!==0&&this.negative===0?(A.negative=0,w=this.sub(A),A.negative^=1,w):A.negative===0&&this.negative!==0?(this.negative=0,w=A.sub(this),this.negative=1,w):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},l.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var w=this.iadd(A);return A.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var _,x,S=this.cmp(A);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,x=A):(_=A,x=this);for(var C=0,q=0;q<x.length;q++)C=(w=(0|_.words[q])-(0|x.words[q])+C)>>26,this.words[q]=67108863&w;for(;C!==0&&q<_.length;q++)C=(w=(0|_.words[q])+C)>>26,this.words[q]=67108863&w;if(C===0&&q<_.length&&_!==this)for(;q<_.length;q++)this.words[q]=_.words[q];return this.length=Math.max(this.length,q),_!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(A){return this.clone().isub(A)};var k=function(A,w,_){var x,S,C,q=A.words,P=w.words,H=_.words,X=0,Z=0|q[0],V=8191&Z,Q=Z>>>13,z=0|q[1],D=8191&z,W=z>>>13,ee=0|q[2],oe=8191&ee,ie=ee>>>13,ae=0|q[3],le=8191&ae,ne=ae>>>13,se=0|q[4],ye=8191&se,me=se>>>13,we=0|q[5],_e=8191&we,Se=we>>>13,Te=0|q[6],je=8191&Te,Ue=Te>>>13,qe=0|q[7],We=8191&qe,Ke=qe>>>13,rt=0|q[8],ut=8191&rt,He=rt>>>13,_t=0|q[9],Qe=8191&_t,at=_t>>>13,nt=0|P[0],yt=8191&nt,xt=nt>>>13,Ct=0|P[1],ar=8191&Ct,wt=Ct>>>13,Xt=0|P[2],$t=8191&Xt,At=Xt>>>13,vt=0|P[3],Nt=8191&vt,Rt=vt>>>13,qt=0|P[4],er=8191&qt,Dt=qt>>>13,ct=0|P[5],ir=8191&ct,Ut=ct>>>13,ke=0|P[6],Ne=8191&ke,ze=ke>>>13,st=0|P[7],Ft=8191&st,pt=st>>>13,Mt=0|P[8],Ve=8191&Mt,it=Mt>>>13,St=0|P[9],bt=8191&St,Lt=St>>>13;_.negative=A.negative^w.negative,_.length=19;var or=(X+(x=Math.imul(V,yt))|0)+((8191&(S=(S=Math.imul(V,xt))+Math.imul(Q,yt)|0))<<13)|0;X=((C=Math.imul(Q,xt))+(S>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(D,yt),S=(S=Math.imul(D,xt))+Math.imul(W,yt)|0,C=Math.imul(W,xt);var yr=(X+(x=x+Math.imul(V,ar)|0)|0)+((8191&(S=(S=S+Math.imul(V,wt)|0)+Math.imul(Q,ar)|0))<<13)|0;X=((C=C+Math.imul(Q,wt)|0)+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(oe,yt),S=(S=Math.imul(oe,xt))+Math.imul(ie,yt)|0,C=Math.imul(ie,xt),x=x+Math.imul(D,ar)|0,S=(S=S+Math.imul(D,wt)|0)+Math.imul(W,ar)|0,C=C+Math.imul(W,wt)|0;var Mr=(X+(x=x+Math.imul(V,$t)|0)|0)+((8191&(S=(S=S+Math.imul(V,At)|0)+Math.imul(Q,$t)|0))<<13)|0;X=((C=C+Math.imul(Q,At)|0)+(S>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,x=Math.imul(le,yt),S=(S=Math.imul(le,xt))+Math.imul(ne,yt)|0,C=Math.imul(ne,xt),x=x+Math.imul(oe,ar)|0,S=(S=S+Math.imul(oe,wt)|0)+Math.imul(ie,ar)|0,C=C+Math.imul(ie,wt)|0,x=x+Math.imul(D,$t)|0,S=(S=S+Math.imul(D,At)|0)+Math.imul(W,$t)|0,C=C+Math.imul(W,At)|0;var Dr=(X+(x=x+Math.imul(V,Nt)|0)|0)+((8191&(S=(S=S+Math.imul(V,Rt)|0)+Math.imul(Q,Nt)|0))<<13)|0;X=((C=C+Math.imul(Q,Rt)|0)+(S>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,x=Math.imul(ye,yt),S=(S=Math.imul(ye,xt))+Math.imul(me,yt)|0,C=Math.imul(me,xt),x=x+Math.imul(le,ar)|0,S=(S=S+Math.imul(le,wt)|0)+Math.imul(ne,ar)|0,C=C+Math.imul(ne,wt)|0,x=x+Math.imul(oe,$t)|0,S=(S=S+Math.imul(oe,At)|0)+Math.imul(ie,$t)|0,C=C+Math.imul(ie,At)|0,x=x+Math.imul(D,Nt)|0,S=(S=S+Math.imul(D,Rt)|0)+Math.imul(W,Nt)|0,C=C+Math.imul(W,Rt)|0;var on=(X+(x=x+Math.imul(V,er)|0)|0)+((8191&(S=(S=S+Math.imul(V,Dt)|0)+Math.imul(Q,er)|0))<<13)|0;X=((C=C+Math.imul(Q,Dt)|0)+(S>>>13)|0)+(on>>>26)|0,on&=67108863,x=Math.imul(_e,yt),S=(S=Math.imul(_e,xt))+Math.imul(Se,yt)|0,C=Math.imul(Se,xt),x=x+Math.imul(ye,ar)|0,S=(S=S+Math.imul(ye,wt)|0)+Math.imul(me,ar)|0,C=C+Math.imul(me,wt)|0,x=x+Math.imul(le,$t)|0,S=(S=S+Math.imul(le,At)|0)+Math.imul(ne,$t)|0,C=C+Math.imul(ne,At)|0,x=x+Math.imul(oe,Nt)|0,S=(S=S+Math.imul(oe,Rt)|0)+Math.imul(ie,Nt)|0,C=C+Math.imul(ie,Rt)|0,x=x+Math.imul(D,er)|0,S=(S=S+Math.imul(D,Dt)|0)+Math.imul(W,er)|0,C=C+Math.imul(W,Dt)|0;var be=(X+(x=x+Math.imul(V,ir)|0)|0)+((8191&(S=(S=S+Math.imul(V,Ut)|0)+Math.imul(Q,ir)|0))<<13)|0;X=((C=C+Math.imul(Q,Ut)|0)+(S>>>13)|0)+(be>>>26)|0,be&=67108863,x=Math.imul(je,yt),S=(S=Math.imul(je,xt))+Math.imul(Ue,yt)|0,C=Math.imul(Ue,xt),x=x+Math.imul(_e,ar)|0,S=(S=S+Math.imul(_e,wt)|0)+Math.imul(Se,ar)|0,C=C+Math.imul(Se,wt)|0,x=x+Math.imul(ye,$t)|0,S=(S=S+Math.imul(ye,At)|0)+Math.imul(me,$t)|0,C=C+Math.imul(me,At)|0,x=x+Math.imul(le,Nt)|0,S=(S=S+Math.imul(le,Rt)|0)+Math.imul(ne,Nt)|0,C=C+Math.imul(ne,Rt)|0,x=x+Math.imul(oe,er)|0,S=(S=S+Math.imul(oe,Dt)|0)+Math.imul(ie,er)|0,C=C+Math.imul(ie,Dt)|0,x=x+Math.imul(D,ir)|0,S=(S=S+Math.imul(D,Ut)|0)+Math.imul(W,ir)|0,C=C+Math.imul(W,Ut)|0;var Oe=(X+(x=x+Math.imul(V,Ne)|0)|0)+((8191&(S=(S=S+Math.imul(V,ze)|0)+Math.imul(Q,Ne)|0))<<13)|0;X=((C=C+Math.imul(Q,ze)|0)+(S>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(We,yt),S=(S=Math.imul(We,xt))+Math.imul(Ke,yt)|0,C=Math.imul(Ke,xt),x=x+Math.imul(je,ar)|0,S=(S=S+Math.imul(je,wt)|0)+Math.imul(Ue,ar)|0,C=C+Math.imul(Ue,wt)|0,x=x+Math.imul(_e,$t)|0,S=(S=S+Math.imul(_e,At)|0)+Math.imul(Se,$t)|0,C=C+Math.imul(Se,At)|0,x=x+Math.imul(ye,Nt)|0,S=(S=S+Math.imul(ye,Rt)|0)+Math.imul(me,Nt)|0,C=C+Math.imul(me,Rt)|0,x=x+Math.imul(le,er)|0,S=(S=S+Math.imul(le,Dt)|0)+Math.imul(ne,er)|0,C=C+Math.imul(ne,Dt)|0,x=x+Math.imul(oe,ir)|0,S=(S=S+Math.imul(oe,Ut)|0)+Math.imul(ie,ir)|0,C=C+Math.imul(ie,Ut)|0,x=x+Math.imul(D,Ne)|0,S=(S=S+Math.imul(D,ze)|0)+Math.imul(W,Ne)|0,C=C+Math.imul(W,ze)|0;var Ge=(X+(x=x+Math.imul(V,Ft)|0)|0)+((8191&(S=(S=S+Math.imul(V,pt)|0)+Math.imul(Q,Ft)|0))<<13)|0;X=((C=C+Math.imul(Q,pt)|0)+(S>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,x=Math.imul(ut,yt),S=(S=Math.imul(ut,xt))+Math.imul(He,yt)|0,C=Math.imul(He,xt),x=x+Math.imul(We,ar)|0,S=(S=S+Math.imul(We,wt)|0)+Math.imul(Ke,ar)|0,C=C+Math.imul(Ke,wt)|0,x=x+Math.imul(je,$t)|0,S=(S=S+Math.imul(je,At)|0)+Math.imul(Ue,$t)|0,C=C+Math.imul(Ue,At)|0,x=x+Math.imul(_e,Nt)|0,S=(S=S+Math.imul(_e,Rt)|0)+Math.imul(Se,Nt)|0,C=C+Math.imul(Se,Rt)|0,x=x+Math.imul(ye,er)|0,S=(S=S+Math.imul(ye,Dt)|0)+Math.imul(me,er)|0,C=C+Math.imul(me,Dt)|0,x=x+Math.imul(le,ir)|0,S=(S=S+Math.imul(le,Ut)|0)+Math.imul(ne,ir)|0,C=C+Math.imul(ne,Ut)|0,x=x+Math.imul(oe,Ne)|0,S=(S=S+Math.imul(oe,ze)|0)+Math.imul(ie,Ne)|0,C=C+Math.imul(ie,ze)|0,x=x+Math.imul(D,Ft)|0,S=(S=S+Math.imul(D,pt)|0)+Math.imul(W,Ft)|0,C=C+Math.imul(W,pt)|0;var et=(X+(x=x+Math.imul(V,Ve)|0)|0)+((8191&(S=(S=S+Math.imul(V,it)|0)+Math.imul(Q,Ve)|0))<<13)|0;X=((C=C+Math.imul(Q,it)|0)+(S>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(Qe,yt),S=(S=Math.imul(Qe,xt))+Math.imul(at,yt)|0,C=Math.imul(at,xt),x=x+Math.imul(ut,ar)|0,S=(S=S+Math.imul(ut,wt)|0)+Math.imul(He,ar)|0,C=C+Math.imul(He,wt)|0,x=x+Math.imul(We,$t)|0,S=(S=S+Math.imul(We,At)|0)+Math.imul(Ke,$t)|0,C=C+Math.imul(Ke,At)|0,x=x+Math.imul(je,Nt)|0,S=(S=S+Math.imul(je,Rt)|0)+Math.imul(Ue,Nt)|0,C=C+Math.imul(Ue,Rt)|0,x=x+Math.imul(_e,er)|0,S=(S=S+Math.imul(_e,Dt)|0)+Math.imul(Se,er)|0,C=C+Math.imul(Se,Dt)|0,x=x+Math.imul(ye,ir)|0,S=(S=S+Math.imul(ye,Ut)|0)+Math.imul(me,ir)|0,C=C+Math.imul(me,Ut)|0,x=x+Math.imul(le,Ne)|0,S=(S=S+Math.imul(le,ze)|0)+Math.imul(ne,Ne)|0,C=C+Math.imul(ne,ze)|0,x=x+Math.imul(oe,Ft)|0,S=(S=S+Math.imul(oe,pt)|0)+Math.imul(ie,Ft)|0,C=C+Math.imul(ie,pt)|0,x=x+Math.imul(D,Ve)|0,S=(S=S+Math.imul(D,it)|0)+Math.imul(W,Ve)|0,C=C+Math.imul(W,it)|0;var Pt=(X+(x=x+Math.imul(V,bt)|0)|0)+((8191&(S=(S=S+Math.imul(V,Lt)|0)+Math.imul(Q,bt)|0))<<13)|0;X=((C=C+Math.imul(Q,Lt)|0)+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,x=Math.imul(Qe,ar),S=(S=Math.imul(Qe,wt))+Math.imul(at,ar)|0,C=Math.imul(at,wt),x=x+Math.imul(ut,$t)|0,S=(S=S+Math.imul(ut,At)|0)+Math.imul(He,$t)|0,C=C+Math.imul(He,At)|0,x=x+Math.imul(We,Nt)|0,S=(S=S+Math.imul(We,Rt)|0)+Math.imul(Ke,Nt)|0,C=C+Math.imul(Ke,Rt)|0,x=x+Math.imul(je,er)|0,S=(S=S+Math.imul(je,Dt)|0)+Math.imul(Ue,er)|0,C=C+Math.imul(Ue,Dt)|0,x=x+Math.imul(_e,ir)|0,S=(S=S+Math.imul(_e,Ut)|0)+Math.imul(Se,ir)|0,C=C+Math.imul(Se,Ut)|0,x=x+Math.imul(ye,Ne)|0,S=(S=S+Math.imul(ye,ze)|0)+Math.imul(me,Ne)|0,C=C+Math.imul(me,ze)|0,x=x+Math.imul(le,Ft)|0,S=(S=S+Math.imul(le,pt)|0)+Math.imul(ne,Ft)|0,C=C+Math.imul(ne,pt)|0,x=x+Math.imul(oe,Ve)|0,S=(S=S+Math.imul(oe,it)|0)+Math.imul(ie,Ve)|0,C=C+Math.imul(ie,it)|0;var ft=(X+(x=x+Math.imul(D,bt)|0)|0)+((8191&(S=(S=S+Math.imul(D,Lt)|0)+Math.imul(W,bt)|0))<<13)|0;X=((C=C+Math.imul(W,Lt)|0)+(S>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(Qe,$t),S=(S=Math.imul(Qe,At))+Math.imul(at,$t)|0,C=Math.imul(at,At),x=x+Math.imul(ut,Nt)|0,S=(S=S+Math.imul(ut,Rt)|0)+Math.imul(He,Nt)|0,C=C+Math.imul(He,Rt)|0,x=x+Math.imul(We,er)|0,S=(S=S+Math.imul(We,Dt)|0)+Math.imul(Ke,er)|0,C=C+Math.imul(Ke,Dt)|0,x=x+Math.imul(je,ir)|0,S=(S=S+Math.imul(je,Ut)|0)+Math.imul(Ue,ir)|0,C=C+Math.imul(Ue,Ut)|0,x=x+Math.imul(_e,Ne)|0,S=(S=S+Math.imul(_e,ze)|0)+Math.imul(Se,Ne)|0,C=C+Math.imul(Se,ze)|0,x=x+Math.imul(ye,Ft)|0,S=(S=S+Math.imul(ye,pt)|0)+Math.imul(me,Ft)|0,C=C+Math.imul(me,pt)|0,x=x+Math.imul(le,Ve)|0,S=(S=S+Math.imul(le,it)|0)+Math.imul(ne,Ve)|0,C=C+Math.imul(ne,it)|0;var mt=(X+(x=x+Math.imul(oe,bt)|0)|0)+((8191&(S=(S=S+Math.imul(oe,Lt)|0)+Math.imul(ie,bt)|0))<<13)|0;X=((C=C+Math.imul(ie,Lt)|0)+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Qe,Nt),S=(S=Math.imul(Qe,Rt))+Math.imul(at,Nt)|0,C=Math.imul(at,Rt),x=x+Math.imul(ut,er)|0,S=(S=S+Math.imul(ut,Dt)|0)+Math.imul(He,er)|0,C=C+Math.imul(He,Dt)|0,x=x+Math.imul(We,ir)|0,S=(S=S+Math.imul(We,Ut)|0)+Math.imul(Ke,ir)|0,C=C+Math.imul(Ke,Ut)|0,x=x+Math.imul(je,Ne)|0,S=(S=S+Math.imul(je,ze)|0)+Math.imul(Ue,Ne)|0,C=C+Math.imul(Ue,ze)|0,x=x+Math.imul(_e,Ft)|0,S=(S=S+Math.imul(_e,pt)|0)+Math.imul(Se,Ft)|0,C=C+Math.imul(Se,pt)|0,x=x+Math.imul(ye,Ve)|0,S=(S=S+Math.imul(ye,it)|0)+Math.imul(me,Ve)|0,C=C+Math.imul(me,it)|0;var mr=(X+(x=x+Math.imul(le,bt)|0)|0)+((8191&(S=(S=S+Math.imul(le,Lt)|0)+Math.imul(ne,bt)|0))<<13)|0;X=((C=C+Math.imul(ne,Lt)|0)+(S>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Qe,er),S=(S=Math.imul(Qe,Dt))+Math.imul(at,er)|0,C=Math.imul(at,Dt),x=x+Math.imul(ut,ir)|0,S=(S=S+Math.imul(ut,Ut)|0)+Math.imul(He,ir)|0,C=C+Math.imul(He,Ut)|0,x=x+Math.imul(We,Ne)|0,S=(S=S+Math.imul(We,ze)|0)+Math.imul(Ke,Ne)|0,C=C+Math.imul(Ke,ze)|0,x=x+Math.imul(je,Ft)|0,S=(S=S+Math.imul(je,pt)|0)+Math.imul(Ue,Ft)|0,C=C+Math.imul(Ue,pt)|0,x=x+Math.imul(_e,Ve)|0,S=(S=S+Math.imul(_e,it)|0)+Math.imul(Se,Ve)|0,C=C+Math.imul(Se,it)|0;var Zt=(X+(x=x+Math.imul(ye,bt)|0)|0)+((8191&(S=(S=S+Math.imul(ye,Lt)|0)+Math.imul(me,bt)|0))<<13)|0;X=((C=C+Math.imul(me,Lt)|0)+(S>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,x=Math.imul(Qe,ir),S=(S=Math.imul(Qe,Ut))+Math.imul(at,ir)|0,C=Math.imul(at,Ut),x=x+Math.imul(ut,Ne)|0,S=(S=S+Math.imul(ut,ze)|0)+Math.imul(He,Ne)|0,C=C+Math.imul(He,ze)|0,x=x+Math.imul(We,Ft)|0,S=(S=S+Math.imul(We,pt)|0)+Math.imul(Ke,Ft)|0,C=C+Math.imul(Ke,pt)|0,x=x+Math.imul(je,Ve)|0,S=(S=S+Math.imul(je,it)|0)+Math.imul(Ue,Ve)|0,C=C+Math.imul(Ue,it)|0;var nr=(X+(x=x+Math.imul(_e,bt)|0)|0)+((8191&(S=(S=S+Math.imul(_e,Lt)|0)+Math.imul(Se,bt)|0))<<13)|0;X=((C=C+Math.imul(Se,Lt)|0)+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(Qe,Ne),S=(S=Math.imul(Qe,ze))+Math.imul(at,Ne)|0,C=Math.imul(at,ze),x=x+Math.imul(ut,Ft)|0,S=(S=S+Math.imul(ut,pt)|0)+Math.imul(He,Ft)|0,C=C+Math.imul(He,pt)|0,x=x+Math.imul(We,Ve)|0,S=(S=S+Math.imul(We,it)|0)+Math.imul(Ke,Ve)|0,C=C+Math.imul(Ke,it)|0;var zt=(X+(x=x+Math.imul(je,bt)|0)|0)+((8191&(S=(S=S+Math.imul(je,Lt)|0)+Math.imul(Ue,bt)|0))<<13)|0;X=((C=C+Math.imul(Ue,Lt)|0)+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(Qe,Ft),S=(S=Math.imul(Qe,pt))+Math.imul(at,Ft)|0,C=Math.imul(at,pt),x=x+Math.imul(ut,Ve)|0,S=(S=S+Math.imul(ut,it)|0)+Math.imul(He,Ve)|0,C=C+Math.imul(He,it)|0;var br=(X+(x=x+Math.imul(We,bt)|0)|0)+((8191&(S=(S=S+Math.imul(We,Lt)|0)+Math.imul(Ke,bt)|0))<<13)|0;X=((C=C+Math.imul(Ke,Lt)|0)+(S>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(Qe,Ve),S=(S=Math.imul(Qe,it))+Math.imul(at,Ve)|0,C=Math.imul(at,it);var Ht=(X+(x=x+Math.imul(ut,bt)|0)|0)+((8191&(S=(S=S+Math.imul(ut,Lt)|0)+Math.imul(He,bt)|0))<<13)|0;X=((C=C+Math.imul(He,Lt)|0)+(S>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var wr=(X+(x=Math.imul(Qe,bt))|0)+((8191&(S=(S=Math.imul(Qe,Lt))+Math.imul(at,bt)|0))<<13)|0;return X=((C=Math.imul(at,Lt))+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,H[0]=or,H[1]=yr,H[2]=Mr,H[3]=Dr,H[4]=on,H[5]=be,H[6]=Oe,H[7]=Ge,H[8]=et,H[9]=Pt,H[10]=ft,H[11]=mt,H[12]=mr,H[13]=Zt,H[14]=nr,H[15]=zt,H[16]=br,H[17]=Ht,H[18]=wr,X!==0&&(H[19]=X,_.length++),_};function N(A,w,_){_.negative=w.negative^A.negative,_.length=A.length+w.length;for(var x=0,S=0,C=0;C<_.length-1;C++){var q=S;S=0;for(var P=67108863&x,H=Math.min(C,w.length-1),X=Math.max(0,C-A.length+1);X<=H;X++){var Z=C-X,V=(0|A.words[Z])*(0|w.words[X]),Q=67108863&V;P=67108863&(Q=Q+P|0),S+=(q=(q=q+(V/67108864|0)|0)+(Q>>>26)|0)>>>26,q&=67108863}_.words[C]=P,x=q,q=S}return x!==0?_.words[C]=x:_.length--,_._strip()}function F(A,w,_){return N(A,w,_)}Math.imul||(k=b),l.prototype.mulTo=function(A,w){var _=this.length+A.length;return this.length===10&&A.length===10?k(this,A,w):_<63?b(this,A,w):_<1024?N(this,A,w):F(this,A,w)},l.prototype.mul=function(A){var w=new l(null);return w.words=new Array(this.length+A.length),this.mulTo(A,w)},l.prototype.mulf=function(A){var w=new l(null);return w.words=new Array(this.length+A.length),F(this,A,w)},l.prototype.imul=function(A){return this.clone().mulTo(A,this)},l.prototype.imuln=function(A){var w=A<0;w&&(A=-A),u(typeof A=="number"),u(A<67108864);for(var _=0,x=0;x<this.length;x++){var S=(0|this.words[x])*A,C=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=C>>>26,this.words[x]=67108863&C}return _!==0&&(this.words[x]=_,this.length++),w?this.ineg():this},l.prototype.muln=function(A){return this.clone().imuln(A)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(A){var w=function(C){for(var q=new Array(C.bitLength()),P=0;P<q.length;P++){var H=P/26|0,X=P%26;q[P]=C.words[H]>>>X&1}return q}(A);if(w.length===0)return new l(1);for(var _=this,x=0;x<w.length&&w[x]===0;x++,_=_.sqr());if(++x<w.length)for(var S=_.sqr();x<w.length;x++,S=S.sqr())w[x]!==0&&(_=_.mul(S));return _},l.prototype.iushln=function(A){u(typeof A=="number"&&A>=0);var w,_=A%26,x=(A-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var C=0;for(w=0;w<this.length;w++){var q=this.words[w]&S,P=(0|this.words[w])-q<<_;this.words[w]=P|C,C=q>>>26-_}C&&(this.words[w]=C,this.length++)}if(x!==0){for(w=this.length-1;w>=0;w--)this.words[w+x]=this.words[w];for(w=0;w<x;w++)this.words[w]=0;this.length+=x}return this._strip()},l.prototype.ishln=function(A){return u(this.negative===0),this.iushln(A)},l.prototype.iushrn=function(A,w,_){var x;u(typeof A=="number"&&A>=0),x=w?(w-w%26)/26:0;var S=A%26,C=Math.min((A-S)/26,this.length),q=67108863^67108863>>>S<<S,P=_;if(x-=C,x=Math.max(0,x),P){for(var H=0;H<C;H++)P.words[H]=this.words[H];P.length=C}if(C!==0)if(this.length>C)for(this.length-=C,H=0;H<this.length;H++)this.words[H]=this.words[H+C];else this.words[0]=0,this.length=1;var X=0;for(H=this.length-1;H>=0&&(X!==0||H>=x);H--){var Z=0|this.words[H];this.words[H]=X<<26-S|Z>>>S,X=Z&q}return P&&X!==0&&(P.words[P.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(A,w,_){return u(this.negative===0),this.iushrn(A,w,_)},l.prototype.shln=function(A){return this.clone().ishln(A)},l.prototype.ushln=function(A){return this.clone().iushln(A)},l.prototype.shrn=function(A){return this.clone().ishrn(A)},l.prototype.ushrn=function(A){return this.clone().iushrn(A)},l.prototype.testn=function(A){u(typeof A=="number"&&A>=0);var w=A%26,_=(A-w)/26,x=1<<w;return!(this.length<=_)&&!!(this.words[_]&x)},l.prototype.imaskn=function(A){u(typeof A=="number"&&A>=0);var w=A%26,_=(A-w)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(w!==0&&_++,this.length=Math.min(_,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this._strip()},l.prototype.maskn=function(A){return this.clone().imaskn(A)},l.prototype.iaddn=function(A){return u(typeof A=="number"),u(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},l.prototype._iaddn=function(A){this.words[0]+=A;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},l.prototype.isubn=function(A){if(u(typeof A=="number"),u(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},l.prototype.addn=function(A){return this.clone().iaddn(A)},l.prototype.subn=function(A){return this.clone().isubn(A)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(A,w,_){var x,S,C=A.length+_;this._expand(C);var q=0;for(x=0;x<A.length;x++){S=(0|this.words[x+_])+q;var P=(0|A.words[x])*w;q=((S-=67108863&P)>>26)-(P/67108864|0),this.words[x+_]=67108863&S}for(;x<this.length-_;x++)q=(S=(0|this.words[x+_])+q)>>26,this.words[x+_]=67108863&S;if(q===0)return this._strip();for(u(q===-1),q=0,x=0;x<this.length;x++)q=(S=-(0|this.words[x])+q)>>26,this.words[x]=67108863&S;return this.negative=1,this._strip()},l.prototype._wordDiv=function(A,w){var _=(this.length,A.length),x=this.clone(),S=A,C=0|S.words[S.length-1];(_=26-this._countBits(C))!==0&&(S=S.ushln(_),x.iushln(_),C=0|S.words[S.length-1]);var q,P=x.length-S.length;if(w!=="mod"){(q=new l(null)).length=P+1,q.words=new Array(q.length);for(var H=0;H<q.length;H++)q.words[H]=0}var X=x.clone()._ishlnsubmul(S,1,P);X.negative===0&&(x=X,q&&(q.words[P]=1));for(var Z=P-1;Z>=0;Z--){var V=67108864*(0|x.words[S.length+Z])+(0|x.words[S.length+Z-1]);for(V=Math.min(V/C|0,67108863),x._ishlnsubmul(S,V,Z);x.negative!==0;)V--,x.negative=0,x._ishlnsubmul(S,1,Z),x.isZero()||(x.negative^=1);q&&(q.words[Z]=V)}return q&&q._strip(),x._strip(),w!=="div"&&_!==0&&x.iushrn(_),{div:q||null,mod:x}},l.prototype.divmod=function(A,w,_){return u(!A.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&A.negative===0?(C=this.neg().divmod(A,w),w!=="mod"&&(x=C.div.neg()),w!=="div"&&(S=C.mod.neg(),_&&S.negative!==0&&S.iadd(A)),{div:x,mod:S}):this.negative===0&&A.negative!==0?(C=this.divmod(A.neg(),w),w!=="mod"&&(x=C.div.neg()),{div:x,mod:C.mod}):this.negative&A.negative?(C=this.neg().divmod(A.neg(),w),w!=="div"&&(S=C.mod.neg(),_&&S.negative!==0&&S.isub(A)),{div:C.div,mod:S}):A.length>this.length||this.cmp(A)<0?{div:new l(0),mod:this}:A.length===1?w==="div"?{div:this.divn(A.words[0]),mod:null}:w==="mod"?{div:null,mod:new l(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new l(this.modrn(A.words[0]))}:this._wordDiv(A,w);var x,S,C},l.prototype.div=function(A){return this.divmod(A,"div",!1).div},l.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},l.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},l.prototype.divRound=function(A){var w=this.divmod(A);if(w.mod.isZero())return w.div;var _=w.div.negative!==0?w.mod.isub(A):w.mod,x=A.ushrn(1),S=A.andln(1),C=_.cmp(x);return C<0||S===1&&C===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},l.prototype.modrn=function(A){var w=A<0;w&&(A=-A),u(A<=67108863);for(var _=(1<<26)%A,x=0,S=this.length-1;S>=0;S--)x=(_*x+(0|this.words[S]))%A;return w?-x:x},l.prototype.modn=function(A){return this.modrn(A)},l.prototype.idivn=function(A){var w=A<0;w&&(A=-A),u(A<=67108863);for(var _=0,x=this.length-1;x>=0;x--){var S=(0|this.words[x])+67108864*_;this.words[x]=S/A|0,_=S%A}return this._strip(),w?this.ineg():this},l.prototype.divn=function(A){return this.clone().idivn(A)},l.prototype.egcd=function(A){u(A.negative===0),u(!A.isZero());var w=this,_=A.clone();w=w.negative!==0?w.umod(A):w.clone();for(var x=new l(1),S=new l(0),C=new l(0),q=new l(1),P=0;w.isEven()&&_.isEven();)w.iushrn(1),_.iushrn(1),++P;for(var H=_.clone(),X=w.clone();!w.isZero();){for(var Z=0,V=1;!(w.words[0]&V)&&Z<26;++Z,V<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(H),S.isub(X)),x.iushrn(1),S.iushrn(1);for(var Q=0,z=1;!(_.words[0]&z)&&Q<26;++Q,z<<=1);if(Q>0)for(_.iushrn(Q);Q-- >0;)(C.isOdd()||q.isOdd())&&(C.iadd(H),q.isub(X)),C.iushrn(1),q.iushrn(1);w.cmp(_)>=0?(w.isub(_),x.isub(C),S.isub(q)):(_.isub(w),C.isub(x),q.isub(S))}return{a:C,b:q,gcd:_.iushln(P)}},l.prototype._invmp=function(A){u(A.negative===0),u(!A.isZero());var w=this,_=A.clone();w=w.negative!==0?w.umod(A):w.clone();for(var x,S=new l(1),C=new l(0),q=_.clone();w.cmpn(1)>0&&_.cmpn(1)>0;){for(var P=0,H=1;!(w.words[0]&H)&&P<26;++P,H<<=1);if(P>0)for(w.iushrn(P);P-- >0;)S.isOdd()&&S.iadd(q),S.iushrn(1);for(var X=0,Z=1;!(_.words[0]&Z)&&X<26;++X,Z<<=1);if(X>0)for(_.iushrn(X);X-- >0;)C.isOdd()&&C.iadd(q),C.iushrn(1);w.cmp(_)>=0?(w.isub(_),S.isub(C)):(_.isub(w),C.isub(S))}return(x=w.cmpn(1)===0?S:C).cmpn(0)<0&&x.iadd(A),x},l.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var w=this.clone(),_=A.clone();w.negative=0,_.negative=0;for(var x=0;w.isEven()&&_.isEven();x++)w.iushrn(1),_.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=w.cmp(_);if(S<0){var C=w;w=_,_=C}else if(S===0||_.cmpn(1)===0)break;w.isub(_)}return _.iushln(x)},l.prototype.invm=function(A){return this.egcd(A).a.umod(A)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(A){return this.words[0]&A},l.prototype.bincn=function(A){u(typeof A=="number");var w=A%26,_=(A-w)/26,x=1<<w;if(this.length<=_)return this._expand(_+1),this.words[_]|=x,this;for(var S=x,C=_;S!==0&&C<this.length;C++){var q=0|this.words[C];S=(q+=S)>>>26,q&=67108863,this.words[C]=q}return S!==0&&(this.words[C]=S,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(A){var w,_=A<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)w=1;else{_&&(A=-A),u(A<=67108863,"Number is too big");var x=0|this.words[0];w=x===A?0:x<A?-1:1}return this.negative!==0?0|-w:w},l.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var w=this.ucmp(A);return this.negative!==0?0|-w:w},l.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var w=0,_=this.length-1;_>=0;_--){var x=0|this.words[_],S=0|A.words[_];if(x!==S){x<S?w=-1:x>S&&(w=1);break}}return w},l.prototype.gtn=function(A){return this.cmpn(A)===1},l.prototype.gt=function(A){return this.cmp(A)===1},l.prototype.gten=function(A){return this.cmpn(A)>=0},l.prototype.gte=function(A){return this.cmp(A)>=0},l.prototype.ltn=function(A){return this.cmpn(A)===-1},l.prototype.lt=function(A){return this.cmp(A)===-1},l.prototype.lten=function(A){return this.cmpn(A)<=0},l.prototype.lte=function(A){return this.cmp(A)<=0},l.prototype.eqn=function(A){return this.cmpn(A)===0},l.prototype.eq=function(A){return this.cmp(A)===0},l.red=function(A){return new E(A)},l.prototype.toRed=function(A){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},l.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(A){return this.red=A,this},l.prototype.forceRed=function(A){return u(!this.red,"Already a number in reduction context"),this._forceRed(A)},l.prototype.redAdd=function(A){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},l.prototype.redIAdd=function(A){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},l.prototype.redSub=function(A){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},l.prototype.redISub=function(A){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},l.prototype.redShl=function(A){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},l.prototype.redMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},l.prototype.redIMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},l.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(A){return u(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var j={k256:null,p224:null,p192:null,p25519:null};function T(A,w){this.name=A,this.p=new l(w,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(A){if(typeof A=="string"){var w=l._prime(A);this.m=w.p,this.prime=w}else u(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function I(A){E.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var A=new l(null);return A.words=new Array(Math.ceil(this.n/13)),A},T.prototype.ireduce=function(A){var w,_=A;do this.split(_,this.tmp),w=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(w>this.n);var x=w<this.n?-1:_.ucmp(this.p);return x===0?(_.words[0]=0,_.length=1):x>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},T.prototype.split=function(A,w){A.iushrn(this.n,0,w)},T.prototype.imulK=function(A){return A.imul(this.k)},a(M,T),M.prototype.split=function(A,w){for(var _=Math.min(A.length,9),x=0;x<_;x++)w.words[x]=A.words[x];if(w.length=_,A.length<=9)return A.words[0]=0,void(A.length=1);var S=A.words[9];for(w.words[w.length++]=4194303&S,x=10;x<A.length;x++){var C=0|A.words[x];A.words[x-10]=(4194303&C)<<4|S>>>22,S=C}S>>>=22,A.words[x-10]=S,S===0&&A.length>10?A.length-=10:A.length-=9},M.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var w=0,_=0;_<A.length;_++){var x=0|A.words[_];w+=977*x,A.words[_]=67108863&w,w=64*x+(w/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},a(B,T),a(O,T),a(R,T),R.prototype.imulK=function(A){for(var w=0,_=0;_<A.length;_++){var x=19*(0|A.words[_])+w,S=67108863&x;x>>>=26,A.words[_]=S,w=x}return w!==0&&(A.words[A.length++]=w),A},l._prime=function(A){if(j[A])return j[A];var w;if(A==="k256")w=new M;else if(A==="p224")w=new B;else if(A==="p192")w=new O;else{if(A!=="p25519")throw new Error("Unknown prime "+A);w=new R}return j[A]=w,w},E.prototype._verify1=function(A){u(A.negative===0,"red works only with positives"),u(A.red,"red works only with red numbers")},E.prototype._verify2=function(A,w){u((A.negative|w.negative)==0,"red works only with positives"),u(A.red&&A.red===w.red,"red works only with red numbers")},E.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(g(A,A.umod(this.m)._forceRed(this)),A)},E.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},E.prototype.add=function(A,w){this._verify2(A,w);var _=A.add(w);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},E.prototype.iadd=function(A,w){this._verify2(A,w);var _=A.iadd(w);return _.cmp(this.m)>=0&&_.isub(this.m),_},E.prototype.sub=function(A,w){this._verify2(A,w);var _=A.sub(w);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},E.prototype.isub=function(A,w){this._verify2(A,w);var _=A.isub(w);return _.cmpn(0)<0&&_.iadd(this.m),_},E.prototype.shl=function(A,w){return this._verify1(A),this.imod(A.ushln(w))},E.prototype.imul=function(A,w){return this._verify2(A,w),this.imod(A.imul(w))},E.prototype.mul=function(A,w){return this._verify2(A,w),this.imod(A.mul(w))},E.prototype.isqr=function(A){return this.imul(A,A.clone())},E.prototype.sqr=function(A){return this.mul(A,A)},E.prototype.sqrt=function(A){if(A.isZero())return A.clone();var w=this.m.andln(3);if(u(w%2==1),w===3){var _=this.m.add(new l(1)).iushrn(2);return this.pow(A,_)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);u(!x.isZero());var C=new l(1).toRed(this),q=C.redNeg(),P=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new l(2*H*H).toRed(this);this.pow(H,P).cmp(q)!==0;)H.redIAdd(q);for(var X=this.pow(H,x),Z=this.pow(A,x.addn(1).iushrn(1)),V=this.pow(A,x),Q=S;V.cmp(C)!==0;){for(var z=V,D=0;z.cmp(C)!==0;D++)z=z.redSqr();u(D<Q);var W=this.pow(X,new l(1).iushln(Q-D-1));Z=Z.redMul(W),X=W.redSqr(),V=V.redMul(X),Q=D}return Z},E.prototype.invm=function(A){var w=A._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},E.prototype.pow=function(A,w){if(w.isZero())return new l(1).toRed(this);if(w.cmpn(1)===0)return A.clone();var _=new Array(16);_[0]=new l(1).toRed(this),_[1]=A;for(var x=2;x<_.length;x++)_[x]=this.mul(_[x-1],A);var S=_[0],C=0,q=0,P=w.bitLength()%26;for(P===0&&(P=26),x=w.length-1;x>=0;x--){for(var H=w.words[x],X=P-1;X>=0;X--){var Z=H>>X&1;S!==_[0]&&(S=this.sqr(S)),Z!==0||C!==0?(C<<=1,C|=Z,(++q===4||x===0&&X===0)&&(S=this.mul(S,_[C]),q=0,C=0)):q=0}P=26}return S},E.prototype.convertTo=function(A){var w=A.umod(this.m);return w===A?w.clone():w},E.prototype.convertFrom=function(A){var w=A.clone();return w.red=null,w},l.mont=function(A){return new I(A)},a(I,E),I.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},I.prototype.convertFrom=function(A){var w=this.imod(A.mul(this.rinv));return w.red=null,w},I.prototype.imul=function(A,w){if(A.isZero()||w.isZero())return A.words[0]=0,A.length=1,A;var _=A.imul(w),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(x).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},I.prototype.mul=function(A,w){if(A.isZero()||w.isZero())return new l(0)._forceRed(this);var _=A.mul(w),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(x).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},I.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var i;function o(a){this.rand=a}if(n.exports=function(a){return i||(i=new o(null)),i.generate(a)},n.exports.Rand=o,o.prototype.generate=function(a){return this._rand(a)},o.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var l=new Uint8Array(a),c=0;c<l.length;c++)l[c]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(a){var l=new Uint8Array(a);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(a){var l=new Uint8Array(a);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=e("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(a){return u.randomBytes(a)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(f){i.isBuffer(f)||(f=i.from(f));for(var h=f.length/4|0,g=new Array(h),v=0;v<h;v++)g[v]=f.readUInt32BE(4*v);return g}function u(f){for(;0<f.length;f++)f[0]=0}function a(f,h,g,v,p){for(var y,m,b,k,N=g[0],F=g[1],j=g[2],T=g[3],M=f[0]^h[0],B=f[1]^h[1],O=f[2]^h[2],R=f[3]^h[3],E=4,I=1;I<p;I++)y=N[M>>>24]^F[B>>>16&255]^j[O>>>8&255]^T[255&R]^h[E++],m=N[B>>>24]^F[O>>>16&255]^j[R>>>8&255]^T[255&M]^h[E++],b=N[O>>>24]^F[R>>>16&255]^j[M>>>8&255]^T[255&B]^h[E++],k=N[R>>>24]^F[M>>>16&255]^j[B>>>8&255]^T[255&O]^h[E++],M=y,B=m,O=b,R=k;return y=(v[M>>>24]<<24|v[B>>>16&255]<<16|v[O>>>8&255]<<8|v[255&R])^h[E++],m=(v[B>>>24]<<24|v[O>>>16&255]<<16|v[R>>>8&255]<<8|v[255&M])^h[E++],b=(v[O>>>24]<<24|v[R>>>16&255]<<16|v[M>>>8&255]<<8|v[255&B])^h[E++],k=(v[R>>>24]<<24|v[M>>>16&255]<<16|v[B>>>8&255]<<8|v[255&O])^h[E++],[y>>>=0,m>>>=0,b>>>=0,k>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var g=[],v=[],p=[[],[],[],[]],y=[[],[],[],[]],m=0,b=0,k=0;k<256;++k){var N=b^b<<1^b<<2^b<<3^b<<4;N=N>>>8^255&N^99,g[m]=N,v[N]=m;var F=f[m],j=f[F],T=f[j],M=257*f[N]^16843008*N;p[0][m]=M<<24|M>>>8,p[1][m]=M<<16|M>>>16,p[2][m]=M<<8|M>>>24,p[3][m]=M,M=16843009*T^65537*j^257*F^16843008*m,y[0][N]=M<<24|M>>>8,y[1][N]=M<<16|M>>>16,y[2][N]=M<<8|M>>>24,y[3][N]=M,m===0?m=b=1:(m=F^f[f[f[T^F]]],b^=f[f[b]])}return{SBOX:g,INV_SBOX:v,SUB_MIX:p,INV_SUB_MIX:y}}();function d(f){this._key=o(f),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var f=this._key,h=f.length,g=h+6,v=4*(g+1),p=[],y=0;y<h;y++)p[y]=f[y];for(y=h;y<v;y++){var m=p[y-1];y%h==0?(m=m<<8|m>>>24,m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m],m^=l[y/h|0]<<24):h>6&&y%h==4&&(m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m]),p[y]=p[y-h]^m}for(var b=[],k=0;k<v;k++){var N=v-k,F=p[N-(k%4?0:4)];b[k]=k<4||N<=4?F:c.INV_SUB_MIX[0][c.SBOX[F>>>24]]^c.INV_SUB_MIX[1][c.SBOX[F>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[F>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&F]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=b},d.prototype.encryptBlockRaw=function(f){return a(f=o(f),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},d.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),g=i.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},d.prototype.decryptBlock=function(f){var h=(f=o(f))[1];f[1]=f[3],f[3]=h;var g=a(f,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),v=i.allocUnsafe(16);return v.writeUInt32BE(g[0],0),v.writeUInt32BE(g[3],4),v.writeUInt32BE(g[2],8),v.writeUInt32BE(g[1],12),v},d.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(e,n,s){var i=e("./aes"),o=e("safe-buffer").Buffer,u=e("cipher-base"),a=e("inherits"),l=e("./ghash"),c=e("buffer-xor"),d=e("./incr32");function f(h,g,v,p){u.call(this);var y=o.alloc(4,0);this._cipher=new i.AES(g);var m=this._cipher.encryptBlock(y);this._ghash=new l(m),v=function(b,k,N){if(k.length===12)return b._finID=o.concat([k,o.from([0,0,0,1])]),o.concat([k,o.from([0,0,0,2])]);var F=new l(N),j=k.length,T=j%16;F.update(k),T&&(T=16-T,F.update(o.alloc(T,0))),F.update(o.alloc(8,0));var M=8*j,B=o.alloc(8);B.writeUIntBE(M,0,8),F.update(B),b._finID=F.state;var O=o.from(b._finID);return d(O),O}(this,v,m),this._prev=o.from(v),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}a(f,u),f.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var v=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(v),this._len+=h.length,v},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,v){var p=0;g.length!==v.length&&p++;for(var y=Math.min(g.length,v.length),m=0;m<y;++m)p+=g[m]^v[m];return p}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var i=e("./encrypter"),o=e("./decrypter"),u=e("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=o.createDecipher,s.createDecipheriv=s.Decipheriv=o.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var i=e("./authCipher"),o=e("safe-buffer").Buffer,u=e("./modes"),a=e("./streamCipher"),l=e("cipher-base"),c=e("./aes"),d=e("evp_bytestokey");function f(v,p,y){l.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(p),this._prev=o.from(y),this._mode=v,this._autopadding=!0}function h(){this.cache=o.allocUnsafe(0)}function g(v,p,y){var m=u[v.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=o.from(y)),m.mode!=="GCM"&&y.length!==m.iv)throw new TypeError("invalid iv length "+y.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==m.key/8)throw new TypeError("invalid key length "+p.length);return m.type==="stream"?new a(m.module,p,y,!0):m.type==="auth"?new i(m.module,p,y,!0):new f(m.module,p,y)}e("inherits")(f,l),f.prototype._update=function(v){var p,y;this._cache.add(v);for(var m=[];p=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,p),m.push(y);return o.concat(m)},f.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return function(p){var y=p[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var m=-1;++m<y;)if(p[m+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return p.slice(0,16-y)}(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},h.prototype.add=function(v){this.cache=o.concat([this.cache,v])},h.prototype.get=function(v){var p;if(v){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(v,p){var y=u[v.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var m=d(p,!1,y.key,y.iv);return g(v,m.key,m.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var i=e("./modes"),o=e("./authCipher"),u=e("safe-buffer").Buffer,a=e("./streamCipher"),l=e("cipher-base"),c=e("./aes"),d=e("evp_bytestokey");function f(p,y,m){l.call(this),this._cache=new g,this._cipher=new c.AES(y),this._prev=u.from(m),this._mode=p,this._autopadding=!0}e("inherits")(f,l),f.prototype._update=function(p){var y,m;this._cache.add(p);for(var b=[];y=this._cache.get();)m=this._mode.encrypt(this,y),b.push(m);return u.concat(b)};var h=u.alloc(16,16);function g(){this.cache=u.allocUnsafe(0)}function v(p,y,m){var b=i[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=u.from(y)),y.length!==b.key/8)throw new TypeError("invalid key length "+y.length);if(typeof m=="string"&&(m=u.from(m)),b.mode!=="GCM"&&m.length!==b.iv)throw new TypeError("invalid iv length "+m.length);return b.type==="stream"?new a(b.module,y,m):b.type==="auth"?new o(b.module,y,m):new f(b.module,y,m)}f.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=u.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,y=u.allocUnsafe(p),m=-1;++m<p;)y.writeUInt8(p,m);return u.concat([this.cache,y])},s.createCipheriv=v,s.createCipher=function(p,y){var m=i[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var b=d(y,!1,m.key,m.iv);return v(p,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var i=e("safe-buffer").Buffer,o=i.alloc(16,0);function u(l){var c=i.allocUnsafe(16);return c.writeUInt32BE(l[0]>>>0,0),c.writeUInt32BE(l[1]>>>0,4),c.writeUInt32BE(l[2]>>>0,8),c.writeUInt32BE(l[3]>>>0,12),c}function a(l){this.h=l,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}a.prototype.ghash=function(l){for(var c=-1;++c<l.length;)this.state[c]^=l[c];this._multiply()},a.prototype._multiply=function(){for(var l,c,d,f=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),d=(1&f[3])!=0,c=3;c>0;c--)f[c]=f[c]>>>1|(1&f[c-1])<<31;f[0]=f[0]>>>1,d&&(f[0]=f[0]^225<<24)}this.state=u(h)},a.prototype.update=function(l){var c;for(this.cache=i.concat([this.cache,l]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},a.prototype.final=function(l,c){return this.cache.length&&this.ghash(i.concat([this.cache,o],16)),this.ghash(u([0,l,0,c])),this.state},n.exports=a},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(i){for(var o,u=i.length;u--;){if((o=i.readUInt8(u))!==255){o++,i.writeUInt8(o,u);break}i.writeUInt8(0,u)}}},{}],196:[function(e,n,s){var i=e("buffer-xor");s.encrypt=function(o,u){var a=i(u,o._prev);return o._prev=o._cipher.encryptBlock(a),o._prev},s.decrypt=function(o,u){var a=o._prev;o._prev=u;var l=o._cipher.decryptBlock(u);return i(l,a)}},{"buffer-xor":219}],197:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("buffer-xor");function u(a,l,c){var d=l.length,f=o(l,a._cache);return a._cache=a._cache.slice(d),a._prev=i.concat([a._prev,c?l:f]),f}s.encrypt=function(a,l,c){for(var d,f=i.allocUnsafe(0);l.length;){if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=i.allocUnsafe(0)),!(a._cache.length<=l.length)){f=i.concat([f,u(a,l,c)]);break}d=a._cache.length,f=i.concat([f,u(a,l.slice(0,d),c)]),l=l.slice(d)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(a,l,c){for(var d,f,h=-1,g=0;++h<8;)d=l&1<<7-h?128:0,g+=(128&(f=a._cipher.encryptBlock(a._prev)[0]^d))>>h%8,a._prev=u(a._prev,c?d:f);return g}function u(a,l){var c=a.length,d=-1,f=i.allocUnsafe(a.length);for(a=i.concat([a,i.from([l])]);++d<c;)f[d]=a[d]<<1|a[d+1]>>7;return f}s.encrypt=function(a,l,c){for(var d=l.length,f=i.allocUnsafe(d),h=-1;++h<d;)f[h]=o(a,l[h],c);return f}},{"safe-buffer":494}],199:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(u,a,l){var c=u._cipher.encryptBlock(u._prev)[0]^a;return u._prev=i.concat([u._prev.slice(1),i.from([l?a:c])]),c}s.encrypt=function(u,a,l){for(var c=a.length,d=i.allocUnsafe(c),f=-1;++f<c;)d[f]=o(u,a[f],l);return d}},{"safe-buffer":494}],200:[function(e,n,s){var i=e("buffer-xor"),o=e("safe-buffer").Buffer,u=e("../incr32");function a(l){var c=l._cipher.encryptBlockRaw(l._prev);return u(l._prev),c}s.encrypt=function(l,c){var d=Math.ceil(c.length/16),f=l._cache.length;l._cache=o.concat([l._cache,o.allocUnsafe(16*d)]);for(var h=0;h<d;h++){var g=a(l),v=f+16*h;l._cache.writeUInt32BE(g[0],v+0),l._cache.writeUInt32BE(g[1],v+4),l._cache.writeUInt32BE(g[2],v+8),l._cache.writeUInt32BE(g[3],v+12)}var p=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),i(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(i,o){return i._cipher.encryptBlock(o)},s.decrypt=function(i,o){return i._cipher.decryptBlock(o)}},{}],202:[function(e,n,s){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var u in o)o[u].module=i[o[u].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(i){(function(){var o=e("buffer-xor");function u(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}s.encrypt=function(a,l){for(;a._cache.length<l.length;)a._cache=i.concat([a._cache,u(a)]);var c=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),o(l,c)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var i=e("./aes"),o=e("safe-buffer").Buffer,u=e("cipher-base");function a(l,c,d,f){u.call(this),this._cipher=new i.AES(c),this._prev=o.from(d),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._mode=l}e("inherits")(a,u),a.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},n.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var i=e("browserify-des"),o=e("browserify-aes/browser"),u=e("browserify-aes/modes"),a=e("browserify-des/modes"),l=e("evp_bytestokey");function c(f,h,g){if(f=f.toLowerCase(),u[f])return o.createCipheriv(f,h,g);if(a[f])return new i({key:h,iv:g,mode:f});throw new TypeError("invalid suite type")}function d(f,h,g){if(f=f.toLowerCase(),u[f])return o.createDecipheriv(f,h,g);if(a[f])return new i({key:h,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,h){var g,v;if(f=f.toLowerCase(),u[f])g=u[f].key,v=u[f].iv;else{if(!a[f])throw new TypeError("invalid suite type");g=8*a[f].key,v=a[f].iv}var p=l(h,!1,g,v);return c(f,p.key,p.iv)},s.createCipheriv=s.Cipheriv=c,s.createDecipher=s.Decipher=function(f,h){var g,v;if(f=f.toLowerCase(),u[f])g=u[f].key,v=u[f].iv;else{if(!a[f])throw new TypeError("invalid suite type");g=8*a[f].key,v=a[f].iv}var p=l(h,!1,g,v);return d(f,p.key,p.iv)},s.createDecipheriv=s.Decipheriv=d,s.listCiphers=s.getCiphers=function(){return Object.keys(a).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var i=e("cipher-base"),o=e("des.js"),u=e("inherits"),a=e("safe-buffer").Buffer,l={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function c(d){i.call(this);var f,h=d.mode.toLowerCase(),g=l[h];f=d.decrypt?"decrypt":"encrypt";var v=d.key;a.isBuffer(v)||(v=a.from(v)),h!=="des-ede"&&h!=="des-ede-cbc"||(v=a.concat([v,v.slice(0,8)]));var p=d.iv;a.isBuffer(p)||(p=a.from(p)),this._des=g.create({key:v,iv:p,type:f})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],n.exports=c,u(c,i),c.prototype._update=function(d){return a.from(this._des.update(d))},c.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(i){(function(){var o=e("bn.js"),u=e("randombytes");function a(c){var d,f=c.modulus.byteLength();do d=new o(u(f));while(d.cmp(c.modulus)>=0||!d.umod(c.prime1)||!d.umod(c.prime2));return d}function l(c,d){var f=function(j){var T=a(j);return{blinder:T.toRed(o.mont(j.modulus)).redPow(new o(j.publicExponent)).fromRed(),unblinder:T.invm(j.modulus)}}(d),h=d.modulus.byteLength(),g=new o(c).mul(f.blinder).umod(d.modulus),v=g.toRed(o.mont(d.prime1)),p=g.toRed(o.mont(d.prime2)),y=d.coefficient,m=d.prime1,b=d.prime2,k=v.redPow(d.exponent1).fromRed(),N=p.redPow(d.exponent2).fromRed(),F=k.isub(N).imul(y).umod(m).imul(b);return N.iadd(F).imul(f.unblinder).umod(d.modulus).toArrayLike(i,"be",h)}l.getr=a,n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("create-hash"),u=e("readable-stream"),a=e("inherits"),l=e("./sign"),c=e("./verify"),d=e("./algorithms.json");function f(p){u.Writable.call(this);var y=d[p];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=o(y.hash),this._tag=y.id,this._signType=y.sign}function h(p){u.Writable.call(this);var y=d[p];if(!y)throw new Error("Unknown message digest");this._hash=o(y.hash),this._tag=y.id,this._signType=y.sign}function g(p){return new f(p)}function v(p){return new h(p)}Object.keys(d).forEach(function(p){d[p].id=i.from(d[p].id,"hex"),d[p.toLowerCase()]=d[p]}),a(f,u.Writable),f.prototype._write=function(p,y,m){this._hash.update(p),m()},f.prototype.update=function(p,y){return typeof p=="string"&&(p=i.from(p,y)),this._hash.update(p),this},f.prototype.sign=function(p,y){this.end();var m=this._hash.digest(),b=l(m,p,this._hashType,this._signType,this._tag);return y?b.toString(y):b},a(h,u.Writable),h.prototype._write=function(p,y,m){this._hash.update(p),m()},h.prototype.update=function(p,y){return typeof p=="string"&&(p=i.from(p,y)),this._hash.update(p),this},h.prototype.verify=function(p,y,m){typeof y=="string"&&(y=i.from(y,m)),this.end();var b=this._hash.digest();return c(y,b,p,this._signType,this._tag)},n.exports={Sign:g,Verify:v,createSign:g,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("create-hmac"),u=e("browserify-rsa"),a=e("elliptic").ec,l=e("bn.js"),c=e("parse-asn1"),d=e("./curves.json");function f(p,y,m,b){if((p=i.from(p.toArray())).length<y.byteLength()){var k=i.alloc(y.byteLength()-p.length);p=i.concat([k,p])}var N=m.length,F=function(M,B){M=(M=h(M,B)).mod(B);var O=i.from(M.toArray());if(O.length<B.byteLength()){var R=i.alloc(B.byteLength()-O.length);O=i.concat([R,O])}return O}(m,y),j=i.alloc(N);j.fill(1);var T=i.alloc(N);return T=o(b,T).update(j).update(i.from([0])).update(p).update(F).digest(),j=o(b,T).update(j).digest(),{k:T=o(b,T).update(j).update(i.from([1])).update(p).update(F).digest(),v:j=o(b,T).update(j).digest()}}function h(p,y){var m=new l(p),b=(p.length<<3)-y.bitLength();return b>0&&m.ishrn(b),m}function g(p,y,m){var b,k;do{for(b=i.alloc(0);8*b.length<p.bitLength();)y.v=o(m,y.k).update(y.v).digest(),b=i.concat([b,y.v]);k=h(b,p),y.k=o(m,y.k).update(y.v).update(i.from([0])).digest(),y.v=o(m,y.k).update(y.v).digest()}while(k.cmp(p)!==-1);return k}function v(p,y,m,b){return p.toRed(l.mont(m)).redPow(y).fromRed().mod(b)}n.exports=function(p,y,m,b,k){var N=c(y);if(N.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(M,B){var O=d[B.curve.join(".")];if(!O)throw new Error("unknown curve "+B.curve.join("."));var R=new a(O).keyFromPrivate(B.privateKey).sign(M);return i.from(R.toDER())}(p,N)}if(N.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(M,B,O){for(var R,E=B.params.priv_key,I=B.params.p,A=B.params.q,w=B.params.g,_=new l(0),x=h(M,A).mod(A),S=!1,C=f(E,A,M,O);S===!1;)R=g(A,C,O),_=v(w,R,I,A),(S=R.invm(A).imul(x.add(E.mul(_))).mod(A)).cmpn(0)===0&&(S=!1,_=new l(0));return function(q,P){q=q.toArray(),P=P.toArray(),128&q[0]&&(q=[0].concat(q)),128&P[0]&&(P=[0].concat(P));var H=[48,q.length+P.length+4,2,q.length];return H=H.concat(q,[2,P.length],P),i.from(H)}(_,S)}(p,N,m)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");p=i.concat([k,p]);for(var F=N.modulus.byteLength(),j=[0,1];p.length+j.length+1<F;)j.push(255);j.push(0);for(var T=-1;++T<p.length;)j.push(p[T]);return u(j,N)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("bn.js"),u=e("elliptic").ec,a=e("parse-asn1"),l=e("./curves.json");function c(d,f){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(d,f,h,g,v){var p=a(h);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(j,T,M){var B=l[M.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var O=new u(B),R=M.data.subjectPrivateKey.data;return O.verify(T,j,R)}(d,f,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(j,T,M){var B=M.data.p,O=M.data.q,R=M.data.g,E=M.data.pub_key,I=a.signature.decode(j,"der"),A=I.s,w=I.r;c(A,O),c(w,O);var _=o.mont(B),x=A.invm(O);return R.toRed(_).redPow(new o(T).mul(x).mod(O)).fromRed().mul(E.toRed(_).redPow(w.mul(x).mod(O)).fromRed()).mod(B).mod(O).cmp(w)===0}(d,f,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([v,f]);for(var y=p.modulus.byteLength(),m=[1],b=0;f.length+m.length+2<y;)m.push(255),b++;m.push(0);for(var k=-1;++k<f.length;)m.push(f[k]);m=i.from(m);var N=o.mont(p.modulus);d=(d=new o(d).toRed(N)).redPow(new o(p.publicExponent)),d=i.from(d.fromRed().toArray());var F=b<8?1:0;for(y=Math.min(d.length,m.length),d.length!==m.length&&(F=1),k=-1;++k<y;)F|=d[k]^m[k];return F===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var i=e("buffer"),o=i.Buffer;function u(l,c){for(var d in l)c[d]=l[d]}function a(l,c,d){return o(l,c,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=i:(u(i,s),s.Buffer=a),u(o,a),a.from=function(l,c,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,c,d)},a.alloc=function(l,c,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=o(l);return c!==void 0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],218:[function(e,n,s){var i=e("safe-buffer").Buffer,o=i.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(p){var y;switch(this.encoding=function(m){var b=function(k){if(!k)return"utf8";for(var N;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(N)return;k=(""+k).toLowerCase(),N=!0}}(m);if(typeof b!="string"&&(i.isEncoding===o||!o(m)))throw new Error("Unknown encoding: "+m);return b||m}(p),this.encoding){case"utf16le":this.text=c,this.end=d,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=f,this.end=h,y=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(y)}function a(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function l(p){var y=this.lastTotal-this.lastNeed,m=function(b,k,N){if((192&k[0])!=128)return b.lastNeed=0,"";if(b.lastNeed>1&&k.length>1){if((192&k[1])!=128)return b.lastNeed=1,"";if(b.lastNeed>2&&k.length>2&&(192&k[2])!=128)return b.lastNeed=2,""}}(this,p);return m!==void 0?m:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function c(p,y){if((p.length-y)%2==0){var m=p.toString("utf16le",y);if(m){var b=m.charCodeAt(m.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function d(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,m)}return y}function f(p,y){var m=(p.length-y)%3;return m===0?p.toString("base64",y):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-m))}function h(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}s.StringDecoder=u,u.prototype.write=function(p){if(p.length===0)return"";var y,m;if(this.lastNeed){if((y=this.fillLast(p))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<p.length?y?y+this.text(p,m):this.text(p,m):y||""},u.prototype.end=function(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"":y},u.prototype.text=function(p,y){var m=function(k,N,F){var j=N.length-1;if(j<F)return 0;var T=a(N[j]);return T>=0?(T>0&&(k.lastNeed=T-1),T):--j<F||T===-2?0:(T=a(N[j]))>=0?(T>0&&(k.lastNeed=T-2),T):--j<F||T===-2?0:(T=a(N[j]))>=0?(T>0&&(T===2?T=0:k.lastNeed=T-3),T):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=m;var b=p.length-(m-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",y,b)},u.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(i){(function(){n.exports=function(o,u){for(var a=Math.min(o.length,u.length),l=new i(a),c=0;c<a;++c)l[c]=o[c]^u[c];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(i){(function(){var o=e("base64-js"),u=e("ieee754");s.Buffer=l,s.SlowBuffer=function(z){return+z!=z&&(z=0),l.alloc(+z)},s.INSPECT_MAX_BYTES=50;function a(z){if(z>2147483647)throw new RangeError('The value "'+z+'" is invalid for option "size"');var D=new Uint8Array(z);return D.__proto__=l.prototype,D}function l(z,D,W){if(typeof z=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(z)}return c(z,D,W)}function c(z,D,W){if(typeof z=="string")return function(ie,ae){if(typeof ae=="string"&&ae!==""||(ae="utf8"),!l.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);var le=0|v(ie,ae),ne=a(le),se=ne.write(ie,ae);return se!==le&&(ne=ne.slice(0,se)),ne}(z,D);if(ArrayBuffer.isView(z))return h(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(V(z,ArrayBuffer)||z&&V(z.buffer,ArrayBuffer))return function(ie,ae,le){if(ae<0||ie.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<ae+(le||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=ae===void 0&&le===void 0?new Uint8Array(ie):le===void 0?new Uint8Array(ie,ae):new Uint8Array(ie,ae,le),ne.__proto__=l.prototype,ne}(z,D,W);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=z.valueOf&&z.valueOf();if(ee!=null&&ee!==z)return l.from(ee,D,W);var oe=function(ie){if(l.isBuffer(ie)){var ae=0|g(ie.length),le=a(ae);return le.length===0||ie.copy(le,0,0,ae),le}if(ie.length!==void 0)return typeof ie.length!="number"||Q(ie.length)?a(0):h(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return h(ie.data)}(z);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return l.from(z[Symbol.toPrimitive]("string"),D,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}function d(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function f(z){return d(z),a(z<0?0:0|g(z))}function h(z){for(var D=z.length<0?0:0|g(z.length),W=a(D),ee=0;ee<D;ee+=1)W[ee]=255&z[ee];return W}function g(z){if(z>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|z}function v(z,D){if(l.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||V(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var W=z.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&W===0)return 0;for(var oe=!1;;)switch(D){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return H(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return X(z).length;default:if(oe)return ee?-1:H(z).length;D=(""+D).toLowerCase(),oe=!0}}function p(z,D,W){var ee=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(D>>>=0))return"";for(z||(z="utf8");;)switch(z){case"hex":return I(this,D,W);case"utf8":case"utf-8":return O(this,D,W);case"ascii":return R(this,D,W);case"latin1":case"binary":return E(this,D,W);case"base64":return B(this,D,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,D,W);default:if(ee)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),ee=!0}}function y(z,D,W){var ee=z[D];z[D]=z[W],z[W]=ee}function m(z,D,W,ee,oe){if(z.length===0)return-1;if(typeof W=="string"?(ee=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),Q(W=+W)&&(W=oe?0:z.length-1),W<0&&(W=z.length+W),W>=z.length){if(oe)return-1;W=z.length-1}else if(W<0){if(!oe)return-1;W=0}if(typeof D=="string"&&(D=l.from(D,ee)),l.isBuffer(D))return D.length===0?-1:b(z,D,W,ee,oe);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(z,D,W):Uint8Array.prototype.lastIndexOf.call(z,D,W):b(z,[D],W,ee,oe);throw new TypeError("val must be string, number or Buffer")}function b(z,D,W,ee,oe){var ie,ae=1,le=z.length,ne=D.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(z.length<2||D.length<2)return-1;ae=2,le/=2,ne/=2,W/=2}function se(_e,Se){return ae===1?_e[Se]:_e.readUInt16BE(Se*ae)}if(oe){var ye=-1;for(ie=W;ie<le;ie++)if(se(z,ie)===se(D,ye===-1?0:ie-ye)){if(ye===-1&&(ye=ie),ie-ye+1===ne)return ye*ae}else ye!==-1&&(ie-=ie-ye),ye=-1}else for(W+ne>le&&(W=le-ne),ie=W;ie>=0;ie--){for(var me=!0,we=0;we<ne;we++)if(se(z,ie+we)!==se(D,we)){me=!1;break}if(me)return ie}return-1}function k(z,D,W,ee){W=Number(W)||0;var oe=z.length-W;ee?(ee=Number(ee))>oe&&(ee=oe):ee=oe;var ie=D.length;ee>ie/2&&(ee=ie/2);for(var ae=0;ae<ee;++ae){var le=parseInt(D.substr(2*ae,2),16);if(Q(le))return ae;z[W+ae]=le}return ae}function N(z,D,W,ee){return Z(H(D,z.length-W),z,W,ee)}function F(z,D,W,ee){return Z(function(oe){for(var ie=[],ae=0;ae<oe.length;++ae)ie.push(255&oe.charCodeAt(ae));return ie}(D),z,W,ee)}function j(z,D,W,ee){return F(z,D,W,ee)}function T(z,D,W,ee){return Z(X(D),z,W,ee)}function M(z,D,W,ee){return Z(function(oe,ie){for(var ae,le,ne,se=[],ye=0;ye<oe.length&&!((ie-=2)<0);++ye)ae=oe.charCodeAt(ye),le=ae>>8,ne=ae%256,se.push(ne),se.push(le);return se}(D,z.length-W),z,W,ee)}function B(z,D,W){return D===0&&W===z.length?o.fromByteArray(z):o.fromByteArray(z.slice(D,W))}function O(z,D,W){W=Math.min(z.length,W);for(var ee=[],oe=D;oe<W;){var ie,ae,le,ne,se=z[oe],ye=null,me=se>239?4:se>223?3:se>191?2:1;if(oe+me<=W)switch(me){case 1:se<128&&(ye=se);break;case 2:(192&(ie=z[oe+1]))==128&&(ne=(31&se)<<6|63&ie)>127&&(ye=ne);break;case 3:ie=z[oe+1],ae=z[oe+2],(192&ie)==128&&(192&ae)==128&&(ne=(15&se)<<12|(63&ie)<<6|63&ae)>2047&&(ne<55296||ne>57343)&&(ye=ne);break;case 4:ie=z[oe+1],ae=z[oe+2],le=z[oe+3],(192&ie)==128&&(192&ae)==128&&(192&le)==128&&(ne=(15&se)<<18|(63&ie)<<12|(63&ae)<<6|63&le)>65535&&ne<1114112&&(ye=ne)}ye===null?(ye=65533,me=1):ye>65535&&(ye-=65536,ee.push(ye>>>10&1023|55296),ye=56320|1023&ye),ee.push(ye),oe+=me}return function(we){var _e=we.length;if(_e<=4096)return String.fromCharCode.apply(String,we);for(var Se="",Te=0;Te<_e;)Se+=String.fromCharCode.apply(String,we.slice(Te,Te+=4096));return Se}(ee)}s.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(z,D,W){return c(z,D,W)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(z,D,W){return function(ee,oe,ie){return d(ee),ee<=0?a(ee):oe!==void 0?typeof ie=="string"?a(ee).fill(oe,ie):a(ee).fill(oe):a(ee)}(z,D,W)},l.allocUnsafe=function(z){return f(z)},l.allocUnsafeSlow=function(z){return f(z)},l.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==l.prototype},l.compare=function(z,D){if(V(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),V(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(z)||!l.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===D)return 0;for(var W=z.length,ee=D.length,oe=0,ie=Math.min(W,ee);oe<ie;++oe)if(z[oe]!==D[oe]){W=z[oe],ee=D[oe];break}return W<ee?-1:ee<W?1:0},l.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(z,D){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return l.alloc(0);var W;if(D===void 0)for(D=0,W=0;W<z.length;++W)D+=z[W].length;var ee=l.allocUnsafe(D),oe=0;for(W=0;W<z.length;++W){var ie=z[W];if(V(ie,Uint8Array)&&(ie=l.from(ie)),!l.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(ee,oe),oe+=ie.length}return ee},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<z;D+=2)y(this,D,D+1);return this},l.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<z;D+=4)y(this,D,D+3),y(this,D+1,D+2);return this},l.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<z;D+=8)y(this,D,D+7),y(this,D+1,D+6),y(this,D+2,D+5),y(this,D+3,D+4);return this},l.prototype.toString=function(){var z=this.length;return z===0?"":arguments.length===0?O(this,0,z):p.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(z){if(!l.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||l.compare(this,z)===0},l.prototype.inspect=function(){var z="",D=s.INSPECT_MAX_BYTES;return z=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(z+=" ... "),"<Buffer "+z+">"},l.prototype.compare=function(z,D,W,ee,oe){if(V(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),!l.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(D===void 0&&(D=0),W===void 0&&(W=z?z.length:0),ee===void 0&&(ee=0),oe===void 0&&(oe=this.length),D<0||W>z.length||ee<0||oe>this.length)throw new RangeError("out of range index");if(ee>=oe&&D>=W)return 0;if(ee>=oe)return-1;if(D>=W)return 1;if(this===z)return 0;for(var ie=(oe>>>=0)-(ee>>>=0),ae=(W>>>=0)-(D>>>=0),le=Math.min(ie,ae),ne=this.slice(ee,oe),se=z.slice(D,W),ye=0;ye<le;++ye)if(ne[ye]!==se[ye]){ie=ne[ye],ae=se[ye];break}return ie<ae?-1:ae<ie?1:0},l.prototype.includes=function(z,D,W){return this.indexOf(z,D,W)!==-1},l.prototype.indexOf=function(z,D,W){return m(this,z,D,W,!0)},l.prototype.lastIndexOf=function(z,D,W){return m(this,z,D,W,!1)},l.prototype.write=function(z,D,W,ee){if(D===void 0)ee="utf8",W=this.length,D=0;else if(W===void 0&&typeof D=="string")ee=D,W=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(W)?(W>>>=0,ee===void 0&&(ee="utf8")):(ee=W,W=void 0)}var oe=this.length-D;if((W===void 0||W>oe)&&(W=oe),z.length>0&&(W<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ie=!1;;)switch(ee){case"hex":return k(this,z,D,W);case"utf8":case"utf-8":return N(this,z,D,W);case"ascii":return F(this,z,D,W);case"latin1":case"binary":return j(this,z,D,W);case"base64":return T(this,z,D,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,z,D,W);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(z,D,W){var ee="";W=Math.min(z.length,W);for(var oe=D;oe<W;++oe)ee+=String.fromCharCode(127&z[oe]);return ee}function E(z,D,W){var ee="";W=Math.min(z.length,W);for(var oe=D;oe<W;++oe)ee+=String.fromCharCode(z[oe]);return ee}function I(z,D,W){var ee=z.length;(!D||D<0)&&(D=0),(!W||W<0||W>ee)&&(W=ee);for(var oe="",ie=D;ie<W;++ie)oe+=P(z[ie]);return oe}function A(z,D,W){for(var ee=z.slice(D,W),oe="",ie=0;ie<ee.length;ie+=2)oe+=String.fromCharCode(ee[ie]+256*ee[ie+1]);return oe}function w(z,D,W){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+D>W)throw new RangeError("Trying to access beyond buffer length")}function _(z,D,W,ee,oe,ie){if(!l.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>oe||D<ie)throw new RangeError('"value" argument is out of bounds');if(W+ee>z.length)throw new RangeError("Index out of range")}function x(z,D,W,ee,oe,ie){if(W+ee>z.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function S(z,D,W,ee,oe){return D=+D,W>>>=0,oe||x(z,0,W,4),u.write(z,D,W,ee,23,4),W+4}function C(z,D,W,ee,oe){return D=+D,W>>>=0,oe||x(z,0,W,8),u.write(z,D,W,ee,52,8),W+8}l.prototype.slice=function(z,D){var W=this.length;(z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),(D=D===void 0?W:~~D)<0?(D+=W)<0&&(D=0):D>W&&(D=W),D<z&&(D=z);var ee=this.subarray(z,D);return ee.__proto__=l.prototype,ee},l.prototype.readUIntLE=function(z,D,W){z>>>=0,D>>>=0,W||w(z,D,this.length);for(var ee=this[z],oe=1,ie=0;++ie<D&&(oe*=256);)ee+=this[z+ie]*oe;return ee},l.prototype.readUIntBE=function(z,D,W){z>>>=0,D>>>=0,W||w(z,D,this.length);for(var ee=this[z+--D],oe=1;D>0&&(oe*=256);)ee+=this[z+--D]*oe;return ee},l.prototype.readUInt8=function(z,D){return z>>>=0,D||w(z,1,this.length),this[z]},l.prototype.readUInt16LE=function(z,D){return z>>>=0,D||w(z,2,this.length),this[z]|this[z+1]<<8},l.prototype.readUInt16BE=function(z,D){return z>>>=0,D||w(z,2,this.length),this[z]<<8|this[z+1]},l.prototype.readUInt32LE=function(z,D){return z>>>=0,D||w(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},l.prototype.readUInt32BE=function(z,D){return z>>>=0,D||w(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},l.prototype.readIntLE=function(z,D,W){z>>>=0,D>>>=0,W||w(z,D,this.length);for(var ee=this[z],oe=1,ie=0;++ie<D&&(oe*=256);)ee+=this[z+ie]*oe;return ee>=(oe*=128)&&(ee-=Math.pow(2,8*D)),ee},l.prototype.readIntBE=function(z,D,W){z>>>=0,D>>>=0,W||w(z,D,this.length);for(var ee=D,oe=1,ie=this[z+--ee];ee>0&&(oe*=256);)ie+=this[z+--ee]*oe;return ie>=(oe*=128)&&(ie-=Math.pow(2,8*D)),ie},l.prototype.readInt8=function(z,D){return z>>>=0,D||w(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},l.prototype.readInt16LE=function(z,D){z>>>=0,D||w(z,2,this.length);var W=this[z]|this[z+1]<<8;return 32768&W?4294901760|W:W},l.prototype.readInt16BE=function(z,D){z>>>=0,D||w(z,2,this.length);var W=this[z+1]|this[z]<<8;return 32768&W?4294901760|W:W},l.prototype.readInt32LE=function(z,D){return z>>>=0,D||w(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},l.prototype.readInt32BE=function(z,D){return z>>>=0,D||w(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},l.prototype.readFloatLE=function(z,D){return z>>>=0,D||w(z,4,this.length),u.read(this,z,!0,23,4)},l.prototype.readFloatBE=function(z,D){return z>>>=0,D||w(z,4,this.length),u.read(this,z,!1,23,4)},l.prototype.readDoubleLE=function(z,D){return z>>>=0,D||w(z,8,this.length),u.read(this,z,!0,52,8)},l.prototype.readDoubleBE=function(z,D){return z>>>=0,D||w(z,8,this.length),u.read(this,z,!1,52,8)},l.prototype.writeUIntLE=function(z,D,W,ee){z=+z,D>>>=0,W>>>=0,ee||_(this,z,D,W,Math.pow(2,8*W)-1,0);var oe=1,ie=0;for(this[D]=255&z;++ie<W&&(oe*=256);)this[D+ie]=z/oe&255;return D+W},l.prototype.writeUIntBE=function(z,D,W,ee){z=+z,D>>>=0,W>>>=0,ee||_(this,z,D,W,Math.pow(2,8*W)-1,0);var oe=W-1,ie=1;for(this[D+oe]=255&z;--oe>=0&&(ie*=256);)this[D+oe]=z/ie&255;return D+W},l.prototype.writeUInt8=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,1,255,0),this[D]=255&z,D+1},l.prototype.writeUInt16LE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,2,65535,0),this[D]=255&z,this[D+1]=z>>>8,D+2},l.prototype.writeUInt16BE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,2,65535,0),this[D]=z>>>8,this[D+1]=255&z,D+2},l.prototype.writeUInt32LE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,4,4294967295,0),this[D+3]=z>>>24,this[D+2]=z>>>16,this[D+1]=z>>>8,this[D]=255&z,D+4},l.prototype.writeUInt32BE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,4,4294967295,0),this[D]=z>>>24,this[D+1]=z>>>16,this[D+2]=z>>>8,this[D+3]=255&z,D+4},l.prototype.writeIntLE=function(z,D,W,ee){if(z=+z,D>>>=0,!ee){var oe=Math.pow(2,8*W-1);_(this,z,D,W,oe-1,-oe)}var ie=0,ae=1,le=0;for(this[D]=255&z;++ie<W&&(ae*=256);)z<0&&le===0&&this[D+ie-1]!==0&&(le=1),this[D+ie]=(z/ae>>0)-le&255;return D+W},l.prototype.writeIntBE=function(z,D,W,ee){if(z=+z,D>>>=0,!ee){var oe=Math.pow(2,8*W-1);_(this,z,D,W,oe-1,-oe)}var ie=W-1,ae=1,le=0;for(this[D+ie]=255&z;--ie>=0&&(ae*=256);)z<0&&le===0&&this[D+ie+1]!==0&&(le=1),this[D+ie]=(z/ae>>0)-le&255;return D+W},l.prototype.writeInt8=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,1,127,-128),z<0&&(z=255+z+1),this[D]=255&z,D+1},l.prototype.writeInt16LE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,2,32767,-32768),this[D]=255&z,this[D+1]=z>>>8,D+2},l.prototype.writeInt16BE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,2,32767,-32768),this[D]=z>>>8,this[D+1]=255&z,D+2},l.prototype.writeInt32LE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,4,2147483647,-2147483648),this[D]=255&z,this[D+1]=z>>>8,this[D+2]=z>>>16,this[D+3]=z>>>24,D+4},l.prototype.writeInt32BE=function(z,D,W){return z=+z,D>>>=0,W||_(this,z,D,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[D]=z>>>24,this[D+1]=z>>>16,this[D+2]=z>>>8,this[D+3]=255&z,D+4},l.prototype.writeFloatLE=function(z,D,W){return S(this,z,D,!0,W)},l.prototype.writeFloatBE=function(z,D,W){return S(this,z,D,!1,W)},l.prototype.writeDoubleLE=function(z,D,W){return C(this,z,D,!0,W)},l.prototype.writeDoubleBE=function(z,D,W){return C(this,z,D,!1,W)},l.prototype.copy=function(z,D,W,ee){if(!l.isBuffer(z))throw new TypeError("argument should be a Buffer");if(W||(W=0),ee||ee===0||(ee=this.length),D>=z.length&&(D=z.length),D||(D=0),ee>0&&ee<W&&(ee=W),ee===W||z.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),z.length-D<ee-W&&(ee=z.length-D+W);var oe=ee-W;if(this===z&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,W,ee);else if(this===z&&W<D&&D<ee)for(var ie=oe-1;ie>=0;--ie)z[ie+D]=this[ie+W];else Uint8Array.prototype.set.call(z,this.subarray(W,ee),D);return oe},l.prototype.fill=function(z,D,W,ee){if(typeof z=="string"){if(typeof D=="string"?(ee=D,D=0,W=this.length):typeof W=="string"&&(ee=W,W=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!l.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(z.length===1){var oe=z.charCodeAt(0);(ee==="utf8"&&oe<128||ee==="latin1")&&(z=oe)}}else typeof z=="number"&&(z&=255);if(D<0||this.length<D||this.length<W)throw new RangeError("Out of range index");if(W<=D)return this;var ie;if(D>>>=0,W=W===void 0?this.length:W>>>0,z||(z=0),typeof z=="number")for(ie=D;ie<W;++ie)this[ie]=z;else{var ae=l.isBuffer(z)?z:l.from(z,ee),le=ae.length;if(le===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(ie=0;ie<W-D;++ie)this[ie+D]=ae[ie%le]}return this};var q=/[^+/0-9A-Za-z-_]/g;function P(z){return z<16?"0"+z.toString(16):z.toString(16)}function H(z,D){var W;D=D||1/0;for(var ee=z.length,oe=null,ie=[],ae=0;ae<ee;++ae){if((W=z.charCodeAt(ae))>55295&&W<57344){if(!oe){if(W>56319){(D-=3)>-1&&ie.push(239,191,189);continue}if(ae+1===ee){(D-=3)>-1&&ie.push(239,191,189);continue}oe=W;continue}if(W<56320){(D-=3)>-1&&ie.push(239,191,189),oe=W;continue}W=65536+(oe-55296<<10|W-56320)}else oe&&(D-=3)>-1&&ie.push(239,191,189);if(oe=null,W<128){if((D-=1)<0)break;ie.push(W)}else if(W<2048){if((D-=2)<0)break;ie.push(W>>6|192,63&W|128)}else if(W<65536){if((D-=3)<0)break;ie.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;ie.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return ie}function X(z){return o.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(z))}function Z(z,D,W,ee){for(var oe=0;oe<ee&&!(oe+W>=D.length||oe>=z.length);++oe)D[oe+W]=z[oe];return oe}function V(z,D){return z instanceof D||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===D.name}function Q(z){return z!=z}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("stream").Transform,u=e("string_decoder").StringDecoder;function a(l){o.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(a,o),a.prototype.update=function(l,c,d){typeof l=="string"&&(l=i.from(l,c));var f=this._update(l);return this.hashMode?this:(d&&(f=this._toString(f,d)),f)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(l,c,d){var f;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(h){f=h}finally{d(f)}},a.prototype._flush=function(l){var c;try{this.push(this.__final())}catch(d){c=d}l(c)},a.prototype._finalOrDigest=function(l){var c=this.__final()||i.alloc(0);return l&&(c=this._toString(c,l,!0)),c},a.prototype._toString=function(l,c,d){if(this._decoder||(this._decoder=new u(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var f=this._decoder.write(l);return d&&(f+=this._decoder.end()),f},n.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var i=e("../internals/is-callable"),o=e("../internals/try-to-string"),u=TypeError;n.exports=function(a){if(i(a))return a;throw new u(o(a)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var i=e("../internals/is-constructor"),o=e("../internals/try-to-string"),u=TypeError;n.exports=function(a){if(i(a))return a;throw new u(o(a)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var i=e("../internals/is-callable"),o=String,u=TypeError;n.exports=function(a){if(typeof a=="object"||i(a))return a;throw new u("Can't set "+o(a)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var i=e("../internals/well-known-symbol"),o=e("../internals/object-create"),u=e("../internals/object-define-property").f,a=i("unscopables"),l=Array.prototype;l[a]===void 0&&u(l,a,{configurable:!0,value:o(null)}),n.exports=function(c){l[a][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var i=e("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(u,a){if(i(a,u))return u;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var i=e("../internals/is-object"),o=String,u=TypeError;n.exports=function(a){if(i(a))return a;throw new u(o(a)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var i=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),a=function(l){return function(c,d,f){var h,g=i(c),v=u(g),p=o(f,v);if(l&&d!=d){for(;v>p;)if((h=g[p++])!=h)return!0}else for(;v>p;p++)if((l||p in g)&&g[p]===d)return l||p||0;return!l&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var i=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),u=e("../internals/indexed-object"),a=e("../internals/to-object"),l=e("../internals/length-of-array-like"),c=e("../internals/array-species-create"),d=o([].push),f=function(h){var g=h===1,v=h===2,p=h===3,y=h===4,m=h===6,b=h===7,k=h===5||m;return function(N,F,j,T){for(var M,B,O=a(N),R=u(O),E=i(F,j),I=l(R),A=0,w=T||c,_=g?w(N,I):v||b?w(N,0):void 0;I>A;A++)if((k||A in R)&&(B=E(M=R[A],A,O),h))if(g)_[A]=B;else if(B)switch(h){case 3:return!0;case 5:return M;case 6:return A;case 2:d(_,M)}else switch(h){case 4:return!1;case 7:d(_,M)}return m?-1:p||y?y:_}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var i=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),u=e("../internals/create-property"),a=Array,l=Math.max;n.exports=function(c,d,f){for(var h=o(c),g=i(d,h),v=i(f===void 0?h:f,h),p=a(l(v-g,0)),y=0;g<v;g++,y++)u(p,y,c[g]);return p.length=y,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var i=e("../internals/is-array"),o=e("../internals/is-constructor"),u=e("../internals/is-object"),a=e("../internals/well-known-symbol")("species"),l=Array;n.exports=function(c){var d;return i(c)&&(d=c.constructor,(o(d)&&(d===l||i(d.prototype))||u(d)&&(d=d[a])===null)&&(d=void 0)),d===void 0?l:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var i=e("../internals/array-species-constructor");n.exports=function(o,u){return new(i(o))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var i=e("../internals/well-known-symbol")("iterator"),o=!1;try{var u=0,a={next:function(){return{done:!!u++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch{}n.exports=function(l,c){try{if(!c&&!o)return!1}catch{return!1}var d=!1;try{var f={};f[i]=function(){return{next:function(){return{done:d=!0}}}},l(f)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=i({}.toString),u=i("".slice);n.exports=function(a){return u(o(a),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var i=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),u=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("toStringTag"),l=Object,c=u(function(){return arguments}())==="Arguments";n.exports=i?u:function(d){var f,h,g;return d===void 0?"Undefined":d===null?"Null":typeof(h=function(v,p){try{return v[p]}catch{}}(f=l(d),a))=="string"?h:c?u(f):(g=u(f))==="Object"&&o(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var i=e("../internals/has-own-property"),o=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");n.exports=function(l,c,d){for(var f=o(c),h=a.f,g=u.f,v=0;v<f.length;v++){var p=f[v];i(l,p)||d&&i(d,p)||h(l,p,g(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var i=e("../internals/well-known-symbol")("match");n.exports=function(o){var u=/./;try{"/./"[o](u)}catch{try{return u[i]=!1,"/./"[o](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var i=e("../internals/fails");n.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(i,o){return{value:i,done:o}}},{}],241:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=i?function(a,l,c){return o.f(a,l,u(1,c))}:function(a,l,c){return a[l]=c,a}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},{}],243:[function(e,n,s){var i=e("../internals/to-property-key"),o=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=function(a,l,c){var d=i(l);d in a?o.f(a,d,u(0,c)):a[d]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var i=e("../internals/make-built-in"),o=e("../internals/object-define-property");n.exports=function(u,a,l){return l.get&&i(l.get,a,{getter:!0}),l.set&&i(l.set,a,{setter:!0}),o.f(u,a,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var i=e("../internals/is-callable"),o=e("../internals/object-define-property"),u=e("../internals/make-built-in"),a=e("../internals/define-global-property");n.exports=function(l,c,d,f){f||(f={});var h=f.enumerable,g=f.name!==void 0?f.name:c;if(i(d)&&u(d,g,f),f.global)h?l[c]=d:a(c,d);else{try{f.unsafe?l[c]&&(h=!0):delete l[c]}catch{}h?l[c]=d:o.f(l,c,{value:d,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var i=e("../internals/global"),o=Object.defineProperty;n.exports=function(u,a){try{o(i,u,{value:a,configurable:!0,writable:!0})}catch{i[u]=a}return a}},{"../internals/global":274}],247:[function(e,n,s){var i=e("../internals/fails");n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,s){var i=typeof document=="object"&&document.all,o=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:o}},{}],249:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/is-object"),u=i.document,a=o(u)&&o(u.createElement);n.exports=function(l){return a?u.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var i=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");n.exports=!i&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/classof-raw");n.exports=o(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var i,o,u=e("../internals/global"),a=e("../internals/engine-user-agent"),l=u.process,c=u.Deno,d=l&&l.versions||c&&c.version,f=d&&d.v8;f&&(o=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(o=+i[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),a=e("../internals/define-built-in"),l=e("../internals/define-global-property"),c=e("../internals/copy-constructor-properties"),d=e("../internals/is-forced");n.exports=function(f,h){var g,v,p,y,m,b=f.target,k=f.global,N=f.stat;if(g=k?i:N?i[b]||l(b,{}):(i[b]||{}).prototype)for(v in h){if(y=h[v],p=f.dontCallGetSet?(m=o(g,v))&&m.value:g[v],!d(k?v:b+(N?".":"#")+v,f.forced)&&p!==void 0){if(typeof y==typeof p)continue;c(y,p)}(f.sham||p&&p.sham)&&u(y,"sham",!0),a(g,v,y,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,s){var i=e("../internals/function-bind-native"),o=Function.prototype,u=o.apply,a=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?a.bind(u):function(){return a.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var i=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),u=e("../internals/function-bind-native"),a=i(i.bind);n.exports=function(l,c){return o(l),c===void 0?l:u?a(l,c):function(){return l.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var i=e("../internals/fails");n.exports=!i(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,s){var i=e("../internals/function-bind-native"),o=Function.prototype.call;n.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/has-own-property"),u=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,l=o(u,"name"),c=l&&(function(){}).name==="something",d=l&&(!i||i&&a(u,"name").configurable);n.exports={EXISTS:l,PROPER:c,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");n.exports=function(u,a,l){try{return i(o(Object.getOwnPropertyDescriptor(u,a)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var i=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");n.exports=function(u){if(i(u)==="Function")return o(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var i=e("../internals/function-bind-native"),o=Function.prototype,u=o.call,a=i&&o.bind.bind(u,u);n.exports=i?a:function(l){return function(){return u.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/is-callable"),u=function(a){return o(a)?a:void 0};n.exports=function(a,l){return arguments.length<2?u(i[a]):i[a]&&i[a][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var i=e("../internals/classof"),o=e("../internals/get-method"),u=e("../internals/is-null-or-undefined"),a=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!u(c))return o(c,l)||o(c,"@@iterator")||a[i(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/a-callable"),u=e("../internals/an-object"),a=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),c=TypeError;n.exports=function(d,f){var h=arguments.length<2?l(d):f;if(o(h))return u(i(h,d));throw new c(a(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),u=e("../internals/is-callable"),a=e("../internals/classof-raw"),l=e("../internals/to-string"),c=i([].push);n.exports=function(d){if(u(d))return d;if(o(d)){for(var f=d.length,h=[],g=0;g<f;g++){var v=d[g];typeof v=="string"?c(h,v):typeof v!="number"&&a(v)!=="Number"&&a(v)!=="String"||c(h,l(v))}var p=h.length,y=!0;return function(m,b){if(y)return y=!1,b;if(o(this))return b;for(var k=0;k<p;k++)if(h[k]===m)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var i=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");n.exports=function(u,a){var l=u[a];return o(l)?void 0:i(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(i){(function(){var o=function(u){return u&&u.Math===Math&&u};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),u=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(a,l){return u(o(a),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(i,o){try{arguments.length===1?console.error(i):console.error(i,o)}catch{}}},{}],278:[function(e,n,s){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/fails"),u=e("../internals/document-create-element");n.exports=!i&&!o(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/classof-raw"),a=Object,l=i("".split);n.exports=o(function(){return!a("z").propertyIsEnumerable(0)})?function(c){return u(c)==="String"?l(c,""):a(c)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),u=e("../internals/shared-store"),a=i(Function.toString);o(u.inspectSource)||(u.inspectSource=function(l){return a(l)}),n.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var i,o,u,a=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),c=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),f=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),v=e("../internals/hidden-keys"),p=l.TypeError,y=l.WeakMap;if(a||h.state){var m=h.state||(h.state=new y);m.get=m.get,m.has=m.has,m.set=m.set,i=function(k,N){if(m.has(k))throw new p("Object already initialized");return N.facade=k,m.set(k,N),N},o=function(k){return m.get(k)||{}},u=function(k){return m.has(k)}}else{var b=g("state");v[b]=!0,i=function(k,N){if(f(k,b))throw new p("Object already initialized");return N.facade=k,d(k,b,N),N},o=function(k){return f(k,b)?k[b]:{}},u=function(k){return f(k,b)}}n.exports={set:i,get:o,has:u,enforce:function(k){return u(k)?o(k):i(k,{})},getterFor:function(k){return function(N){var F;if(!c(N)||(F=o(N)).type!==k)throw new p("Incompatible receiver, "+k+" required");return F}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var i=e("../internals/well-known-symbol"),o=e("../internals/iterators"),u=i("iterator"),a=Array.prototype;n.exports=function(l){return l!==void 0&&(o.Array===l||a[u]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(o){return i(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var i=e("../internals/document-all"),o=i.all;n.exports=i.IS_HTMLDDA?function(u){return typeof u=="function"||u===o}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/is-callable"),a=e("../internals/classof"),l=e("../internals/get-built-in"),c=e("../internals/inspect-source"),d=function(){},f=[],h=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=i(g.exec),p=!g.test(d),y=function(b){if(!u(b))return!1;try{return h(d,f,b),!0}catch{return!1}},m=function(b){if(!u(b))return!1;switch(a(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!v(g,c(b))}catch{return!0}};m.sham=!0,n.exports=!h||o(function(){var b;return y(y.call)||!y(Object)||!y(function(){b=!0})||b})?m:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var i=e("../internals/fails"),o=e("../internals/is-callable"),u=/#|\.prototype\./,a=function(h,g){var v=c[l(h)];return v===f||v!==d&&(o(g)?i(g):!!g)},l=a.normalize=function(h){return String(h).replace(u,".").toLowerCase()},c=a.data={},d=a.NATIVE="N",f=a.POLYFILL="P";n.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(i){return i==null}},{}],289:[function(e,n,s){var i=e("../internals/is-callable"),o=e("../internals/document-all"),u=o.all;n.exports=o.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:i(a)||a===u}:function(a){return typeof a=="object"?a!==null:i(a)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var i=e("../internals/is-object"),o=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");n.exports=function(a){var l;return i(a)&&((l=a[u])!==void 0?!!l:o(a)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var i=e("../internals/get-built-in"),o=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),a=e("../internals/use-symbol-as-uid"),l=Object;n.exports=a?function(c){return typeof c=="symbol"}:function(c){var d=i("Symbol");return o(d)&&u(d.prototype,l(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var i=e("../internals/function-bind-context"),o=e("../internals/function-call"),u=e("../internals/an-object"),a=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),c=e("../internals/length-of-array-like"),d=e("../internals/object-is-prototype-of"),f=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),v=TypeError,p=function(m,b){this.stopped=m,this.result=b},y=p.prototype;n.exports=function(m,b,k){var N,F,j,T,M,B,O,R=k&&k.that,E=!(!k||!k.AS_ENTRIES),I=!(!k||!k.IS_RECORD),A=!(!k||!k.IS_ITERATOR),w=!(!k||!k.INTERRUPTED),_=i(b,R),x=function(C){return N&&g(N,"normal",C),new p(!0,C)},S=function(C){return E?(u(C),w?_(C[0],C[1],x):_(C[0],C[1])):w?_(C,x):_(C)};if(I)N=m.iterator;else if(A)N=m;else{if(!(F=h(m)))throw new v(a(m)+" is not iterable");if(l(F)){for(j=0,T=c(m);T>j;j++)if((M=S(m[j]))&&d(y,M))return M;return new p(!1)}N=f(m,F)}for(B=I?m.next:N.next;!(O=o(B,N)).done;){try{M=S(O.value)}catch(C){g(N,"throw",C)}if(typeof M=="object"&&M&&d(y,M))return M}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/an-object"),u=e("../internals/get-method");n.exports=function(a,l,c){var d,f;o(a);try{if(!(d=u(a,"return"))){if(l==="throw")throw c;return c}d=i(d,a)}catch(h){f=!0,d=h}if(l==="throw")throw c;if(f)throw d;return o(d),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var i=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),c=function(){return this};n.exports=function(d,f,h,g){var v=f+" Iterator";return d.prototype=o(i,{next:u(+!g,h)}),a(d,v,!1,!0),l[v]=c,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/is-pure"),a=e("../internals/function-name"),l=e("../internals/is-callable"),c=e("../internals/iterator-create-constructor"),d=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),v=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),y=e("../internals/iterators"),m=e("../internals/iterators-core"),b=a.PROPER,k=a.CONFIGURABLE,N=m.IteratorPrototype,F=m.BUGGY_SAFARI_ITERATORS,j=p("iterator"),T=function(){return this};n.exports=function(M,B,O,R,E,I,A){c(O,B,R);var w,_,x,S=function(V){if(V===E&&X)return X;if(!F&&V&&V in P)return P[V];switch(V){case"keys":case"values":case"entries":return function(){return new O(this,V)}}return function(){return new O(this)}},C=B+" Iterator",q=!1,P=M.prototype,H=P[j]||P["@@iterator"]||E&&P[E],X=!F&&H||S(E),Z=B==="Array"&&P.entries||H;if(Z&&(w=d(Z.call(new M)))!==Object.prototype&&w.next&&(u||d(w)===N||(f?f(w,N):l(w[j])||v(w,j,T)),h(w,C,!0,!0),u&&(y[C]=T)),b&&E==="values"&&H&&H.name!=="values"&&(!u&&k?g(P,"name","values"):(q=!0,X=function(){return o(H,this)})),E)if(_={values:S("values"),keys:I?X:S("keys"),entries:S("entries")},A)for(x in _)(F||q||!(x in P))&&v(P,x,_[x]);else i({target:B,proto:!0,forced:F||q},_);return u&&!A||P[j]===X||v(P,j,X,{name:E}),y[B]=X,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var i,o,u,a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/is-object"),d=e("../internals/object-create"),f=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),v=e("../internals/is-pure"),p=g("iterator"),y=!1;[].keys&&("next"in(u=[].keys())?(o=f(f(u)))!==Object.prototype&&(i=o):y=!0),!c(i)||a(function(){var m={};return i[p].call(m)!==m})?i={}:v&&(i=d(i)),l(i[p])||h(i,p,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var i=e("../internals/to-length");n.exports=function(o){return i(o.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/is-callable"),a=e("../internals/has-own-property"),l=e("../internals/descriptors"),c=e("../internals/function-name").CONFIGURABLE,d=e("../internals/inspect-source"),f=e("../internals/internal-state"),h=f.enforce,g=f.get,v=String,p=Object.defineProperty,y=i("".slice),m=i("".replace),b=i([].join),k=l&&!o(function(){return p(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),F=n.exports=function(j,T,M){y(v(T),0,7)==="Symbol("&&(T="["+m(v(T),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(T="get "+T),M&&M.setter&&(T="set "+T),(!a(j,"name")||c&&j.name!==T)&&(l?p(j,"name",{value:T,configurable:!0}):j.name=T),k&&M&&a(M,"arity")&&j.length!==M.arity&&p(j,"length",{value:M.arity});try{M&&a(M,"constructor")&&M.constructor?l&&p(j,"prototype",{writable:!1}):j.prototype&&(j.prototype=void 0)}catch{}var B=h(j);return a(B,"source")||(B.source=b(N,typeof T=="string"?T:"")),j};Function.prototype.toString=F(function(){return u(this)&&g(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var i=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(u){var a=+u;return(a>0?o:i)(a)}},{}],302:[function(e,n,s){var i,o,u,a,l,c=e("../internals/global"),d=e("../internals/function-bind-context"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),v=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),y=e("../internals/engine-is-webos-webkit"),m=e("../internals/engine-is-node"),b=c.MutationObserver||c.WebKitMutationObserver,k=c.document,N=c.process,F=c.Promise,j=f(c,"queueMicrotask"),T=j&&j.value;if(!T){var M=new g,B=function(){var O,R;for(m&&(O=N.domain)&&O.exit();R=M.get();)try{R()}catch(E){throw M.head&&i(),E}O&&O.enter()};v||m||y||!b||!k?!p&&F&&F.resolve?((a=F.resolve(void 0)).constructor=F,l=d(a.then,a),i=function(){l(B)}):m?i=function(){N.nextTick(B)}:(h=d(h,c),i=function(){h(B)}):(o=!0,u=k.createTextNode(""),new b(B).observe(u,{characterData:!0}),i=function(){u.data=o=!o}),T=function(O){M.head||i(),M.add(O)}}n.exports=T},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var i=e("../internals/a-callable"),o=TypeError,u=function(a){var l,c;this.promise=new a(function(d,f){if(l!==void 0||c!==void 0)throw new o("Bad Promise constructor");l=d,c=f}),this.resolve=i(l),this.reject=i(c)};n.exports.f=function(a){return new u(a)}},{"../internals/a-callable":222}],304:[function(e,n,s){var i=e("../internals/is-regexp"),o=TypeError;n.exports=function(u){if(i(u))throw new o("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),u=e("../internals/function-call"),a=e("../internals/fails"),l=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,v=Object.defineProperty,p=o([].concat);n.exports=!g||a(function(){if(i&&g({b:1},g(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},m={},b=Symbol("assign detection");return y[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(k){m[k]=k}),g({},y)[b]!==7||l(g({},m)).join("")!=="abcdefghijklmnopqrst"})?function(y,m){for(var b=f(y),k=arguments.length,N=1,F=c.f,j=d.f;k>N;)for(var T,M=h(arguments[N++]),B=F?p(l(M),F(M)):l(M),O=B.length,R=0;O>R;)T=B[R++],i&&!u(j,M,T)||(b[T]=M[T]);return b}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var i,o=e("../internals/an-object"),u=e("../internals/object-define-properties"),a=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),c=e("../internals/html"),d=e("../internals/document-create-element"),f=e("../internals/shared-key"),h=f("IE_PROTO"),g=function(){},v=function(m){return"<script>"+m+"<\/script>"},p=function(m){m.write(v("")),m.close();var b=m.parentWindow.Object;return m=null,b},y=function(){try{i=new ActiveXObject("htmlfile")}catch{}var m,b;y=typeof document<"u"?document.domain&&i?p(i):((b=d("iframe")).style.display="none",c.appendChild(b),b.src="javascript:",(m=b.contentWindow.document).open(),m.write(v("document.F=Object")),m.close(),m.F):p(i);for(var k=a.length;k--;)delete y.prototype[a[k]];return y()};l[h]=!0,n.exports=Object.create||function(m,b){var k;return m!==null?(g.prototype=o(m),k=new g,g.prototype=null,k[h]=m):k=y(),b===void 0?k:u.f(k,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),u=e("../internals/object-define-property"),a=e("../internals/an-object"),l=e("../internals/to-indexed-object"),c=e("../internals/object-keys");s.f=i&&!o?Object.defineProperties:function(d,f){a(d);for(var h,g=l(f),v=c(f),p=v.length,y=0;p>y;)u.f(d,h=v[y++],g[h]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),u=e("../internals/v8-prototype-define-bug"),a=e("../internals/an-object"),l=e("../internals/to-property-key"),c=TypeError,d=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=i?u?function(h,g,v){if(a(h),g=l(g),a(v),typeof h=="function"&&g==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var p=f(h,g);p&&p.writable&&(h[g]=v.value,v={configurable:"configurable"in v?v.configurable:p.configurable,enumerable:"enumerable"in v?v.enumerable:p.enumerable,writable:!1})}return d(h,g,v)}:d:function(h,g,v){if(a(h),g=l(g),a(v),o)try{return d(h,g,v)}catch{}if("get"in v||"set"in v)throw new c("Accessors not supported");return"value"in v&&(h[g]=v.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/function-call"),u=e("../internals/object-property-is-enumerable"),a=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),c=e("../internals/to-property-key"),d=e("../internals/has-own-property"),f=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=i?h:function(g,v){if(g=l(g),v=c(v),f)try{return h(g,v)}catch{}if(d(g,v))return a(!o(u.f,g,v),g[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var i=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),u=e("../internals/object-get-own-property-names").f,a=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return l&&i(c)==="Window"?function(d){try{return u(d)}catch{return a(l)}}(c):u(o(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(u){return i(u,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var i=e("../internals/has-own-property"),o=e("../internals/is-callable"),u=e("../internals/to-object"),a=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),c=a("IE_PROTO"),d=Object,f=d.prototype;n.exports=l?d.getPrototypeOf:function(h){var g=u(h);if(i(g,c))return g[c];var v=g.constructor;return o(v)&&g instanceof v?v.prototype:g instanceof d?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),u=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),c=i([].push);n.exports=function(d,f){var h,g=u(d),v=0,p=[];for(h in g)!o(l,h)&&o(g,h)&&c(p,h);for(;f.length>v;)o(g,h=f[v++])&&(~a(p,h)||c(p,h));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");n.exports=Object.keys||function(u){return i(u,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!i.call({1:2},1);s.f=u?function(a){var l=o(this,a);return!!l&&l.enumerable}:i},{}],318:[function(e,n,s){var i=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),u=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,l=!1,c={};try{(a=i(Object.prototype,"__proto__","set"))(c,[]),l=c instanceof Array}catch{}return function(d,f){return o(d),u(f),l?a(d,f):d.__proto__=f,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/fails"),u=e("../internals/function-uncurry-this"),a=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),d=u(e("../internals/object-property-is-enumerable").f),f=u([].push),h=i&&o(function(){var v=Object.create(null);return v[2]=2,!d(v,2)}),g=function(v){return function(p){for(var y,m=c(p),b=l(m),k=h&&a(m)===null,N=b.length,F=0,j=[];N>F;)y=b[F++],i&&!(k?y in m:d(m,y))||f(j,v?[y,m[y]]:m[y]);return j}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/is-callable"),u=e("../internals/is-object"),a=TypeError;n.exports=function(l,c){var d,f;if(c==="string"&&o(d=l.toString)&&!u(f=i(d,l))||o(d=l.valueOf)&&!u(f=i(d,l))||c!=="string"&&o(d=l.toString)&&!u(f=i(d,l)))return f;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var i=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),u=e("../internals/object-get-own-property-names"),a=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),c=o([].concat);n.exports=i("Reflect","ownKeys")||function(d){var f=u.f(l(d)),h=a.f;return h?c(f,h(d)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/promise-native-constructor"),u=e("../internals/is-callable"),a=e("../internals/is-forced"),l=e("../internals/inspect-source"),c=e("../internals/well-known-symbol"),d=e("../internals/engine-is-browser"),f=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),v=o&&o.prototype,p=c("species"),y=!1,m=u(i.PromiseRejectionEvent),b=a("Promise",function(){var k=l(o),N=k!==String(o);if(!N&&g===66||h&&(!v.catch||!v.finally))return!0;if(!g||g<51||!/native code/.test(k)){var F=new o(function(T){T(1)}),j=function(T){T(function(){},function(){})};if((F.constructor={})[p]=j,!(y=F.then(function(){})instanceof j))return!0}return!N&&(d||f)&&!m});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:m,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,s){var i=e("../internals/an-object"),o=e("../internals/is-object"),u=e("../internals/new-promise-capability");n.exports=function(a,l){if(i(a),o(l)&&l.constructor===a)return l;var c=u.f(a);return(0,c.resolve)(l),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var i=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=u||!o(function(a){i.all(a).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(o){var u={item:o,next:null},a=this.tail;a?a.next=u:this.head=u,this.tail=u},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=i},{}],329:[function(e,n,s){var i=e("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(u){if(i(u))throw new o("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var i=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),u=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),l=u("species");n.exports=function(c){var d=i(c);a&&d&&!d[l]&&o(d,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var i=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),u=e("../internals/well-known-symbol")("toStringTag");n.exports=function(a,l,c){a&&!c&&(a=a.prototype),a&&!o(a,u)&&i(a,u,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var i=e("../internals/shared"),o=e("../internals/uid"),u=i("keys");n.exports=function(a){return u[a]||(u[a]=o(a))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/define-global-property"),u=i["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var i=e("../internals/is-pure"),o=e("../internals/shared-store");(n.exports=function(u,a){return o[u]||(o[u]=a!==void 0?a:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var i=e("../internals/an-object"),o=e("../internals/a-constructor"),u=e("../internals/is-null-or-undefined"),a=e("../internals/well-known-symbol")("species");n.exports=function(l,c){var d,f=i(l).constructor;return f===void 0||u(d=i(f)[a])?c:o(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var i=e("../internals/engine-v8-version"),o=e("../internals/fails"),u=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var a=Symbol("symbol detection");return!u(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/get-built-in"),u=e("../internals/well-known-symbol"),a=e("../internals/define-built-in");n.exports=function(){var l=o("Symbol"),c=l&&l.prototype,d=c&&c.valueOf,f=u("toPrimitive");c&&!c[f]&&a(c,f,function(h){return i(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var i,o,u,a,l=e("../internals/global"),c=e("../internals/function-apply"),d=e("../internals/function-bind-context"),f=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),v=e("../internals/html"),p=e("../internals/array-slice"),y=e("../internals/document-create-element"),m=e("../internals/validate-arguments-length"),b=e("../internals/engine-is-ios"),k=e("../internals/engine-is-node"),N=l.setImmediate,F=l.clearImmediate,j=l.process,T=l.Dispatch,M=l.Function,B=l.MessageChannel,O=l.String,R=0,E={};g(function(){i=l.location});var I=function(x){if(h(E,x)){var S=E[x];delete E[x],S()}},A=function(x){return function(){I(x)}},w=function(x){I(x.data)},_=function(x){l.postMessage(O(x),i.protocol+"//"+i.host)};N&&F||(N=function(x){m(arguments.length,1);var S=f(x)?x:M(x),C=p(arguments,1);return E[++R]=function(){c(S,void 0,C)},o(R),R},F=function(x){delete E[x]},k?o=function(x){j.nextTick(A(x))}:T&&T.now?o=function(x){T.now(A(x))}:B&&!b?(a=(u=new B).port2,u.port1.onmessage=w,o=d(a.postMessage,a)):l.addEventListener&&f(l.postMessage)&&!l.importScripts&&i&&i.protocol!=="file:"&&!g(_)?(o=_,l.addEventListener("message",w,!1)):o="onreadystatechange"in y("script")?function(x){v.appendChild(y("script")).onreadystatechange=function(){v.removeChild(this),I(x)}}:function(x){setTimeout(A(x),0)}),n.exports={set:N,clear:F}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),o=Math.max,u=Math.min;n.exports=function(a,l){var c=i(a);return c<0?o(c+l,0):u(c,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var i=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");n.exports=function(u){return i(o(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var i=e("../internals/math-trunc");n.exports=function(o){var u=+o;return u!=u||u===0?0:i(u)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(u){return u>0?o(i(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var i=e("../internals/require-object-coercible"),o=Object;n.exports=function(u){return o(i(u))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var i=e("../internals/function-call"),o=e("../internals/is-object"),u=e("../internals/is-symbol"),a=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),c=e("../internals/well-known-symbol"),d=TypeError,f=c("toPrimitive");n.exports=function(h,g){if(!o(h)||u(h))return h;var v,p=a(h,f);if(p){if(g===void 0&&(g="default"),v=i(p,h,g),!o(v)||u(v))return v;throw new d("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var i=e("../internals/to-primitive"),o=e("../internals/is-symbol");n.exports=function(u){var a=i(u,"string");return o(a)?a:a+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var i=e("../internals/classof"),o=String;n.exports=function(u){if(i(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(u)}},{"../internals/classof":236}],349:[function(e,n,s){var i=String;n.exports=function(o){try{return i(o)}catch{return"Object"}}},{}],350:[function(e,n,s){var i=e("../internals/function-uncurry-this"),o=0,u=Math.random(),a=i(1 .toString);n.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+a(++o+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var i=e("../internals/descriptors"),o=e("../internals/fails");n.exports=i&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var i=TypeError;n.exports=function(o,u){if(o<u)throw new i("Not enough arguments");return o}},{}],354:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/is-callable"),u=i.WeakMap;n.exports=o(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var i=e("../internals/path"),o=e("../internals/has-own-property"),u=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;n.exports=function(l){var c=i.Symbol||(i.Symbol={});o(c,l)||a(c,l,{value:u.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var i=e("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var i=e("../internals/global"),o=e("../internals/shared"),u=e("../internals/has-own-property"),a=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),c=e("../internals/use-symbol-as-uid"),d=i.Symbol,f=o("wks"),h=c?d.for||d:d&&d.withoutSetter||a;n.exports=function(g){return u(f,g)||(f[g]=l&&u(d,g)?d[g]:h("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/array-iteration").findIndex,u=e("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{findIndex:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/array-iteration").find,u=e("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{find:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/array-includes").includes,u=e("../internals/fails"),a=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var i=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),a=e("../internals/internal-state"),l=e("../internals/object-define-property").f,c=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),f=e("../internals/is-pure"),h=e("../internals/descriptors"),g=a.set,v=a.getterFor("Array Iterator");n.exports=c(Array,"Array",function(y,m){g(this,{type:"Array Iterator",target:i(y),index:0,kind:m})},function(){var y=v(this),m=y.target,b=y.kind,k=y.index++;if(!m||k>=m.length)return y.target=void 0,d(void 0,!0);switch(b){case"keys":return d(k,!1);case"values":return d(m[k],!1)}return d([k,m[k]],!1)},"values");var p=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!f&&h&&p.name!=="values")try{l(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/function-apply"),a=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),c=e("../internals/fails"),d=e("../internals/is-callable"),f=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),v=e("../internals/symbol-constructor-detection"),p=String,y=o("JSON","stringify"),m=l(/./.exec),b=l("".charAt),k=l("".charCodeAt),N=l("".replace),F=l(1 .toString),j=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,B=!v||c(function(){var I=o("Symbol")("stringify detection");return y([I])!=="[null]"||y({a:I})!=="{}"||y(Object(I))!=="{}"}),O=c(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),R=function(I,A){var w=h(arguments),_=g(A);if(d(_)||I!==void 0&&!f(I))return w[1]=function(x,S){if(d(_)&&(S=a(_,this,p(x),S)),!f(S))return S},u(y,null,w)},E=function(I,A,w){var _=b(w,A-1),x=b(w,A+1);return m(T,I)&&!m(M,x)||m(M,I)&&!m(T,_)?"\\u"+F(k(I,0),16):I};y&&i({target:"JSON",stat:!0,arity:3,forced:B||O},{stringify:function(I,A,w){var _=h(arguments),x=u(B?R:y,null,_);return O&&typeof x=="string"?N(x,j,E):x}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),a=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");i({target:"Object",stat:!0,forced:!o||u(function(){a.f(1)})},{getOwnPropertySymbols:function(c){var d=a.f;return d?d(l(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/to-object"),u=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(a){return u(o(a))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(u){return o(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),l=e("../internals/perform"),c=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(d){var f=this,h=a.f(f),g=h.resolve,v=h.reject,p=l(function(){var y=u(f.resolve),m=[],b=0,k=1;c(d,function(N){var F=b++,j=!1;k++,o(y,f,N).then(function(T){j||(j=!0,m[F]=T,--k||g(m))},v)}),--k||g(m)});return p.error&&v(p.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,a=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),c=e("../internals/is-callable"),d=e("../internals/define-built-in"),f=a&&a.prototype;if(i({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&c(a)){var h=l("Promise").prototype.catch;f.catch!==h&&d(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var i,o,u,a=e("../internals/export"),l=e("../internals/is-pure"),c=e("../internals/engine-is-node"),d=e("../internals/global"),f=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),v=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),y=e("../internals/a-callable"),m=e("../internals/is-callable"),b=e("../internals/is-object"),k=e("../internals/an-instance"),N=e("../internals/species-constructor"),F=e("../internals/task").set,j=e("../internals/microtask"),T=e("../internals/host-report-errors"),M=e("../internals/perform"),B=e("../internals/queue"),O=e("../internals/internal-state"),R=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),I=e("../internals/new-promise-capability"),A=E.CONSTRUCTOR,w=E.REJECTION_EVENT,_=E.SUBCLASSING,x=O.getterFor("Promise"),S=O.set,C=R&&R.prototype,q=R,P=C,H=d.TypeError,X=d.document,Z=d.process,V=I.f,Q=V,z=!!(X&&X.createEvent&&d.dispatchEvent),D=function(me){var we;return!(!b(me)||!m(we=me.then))&&we},W=function(me,we){var _e,Se,Te,je=we.value,Ue=we.state===1,qe=Ue?me.ok:me.fail,We=me.resolve,Ke=me.reject,rt=me.domain;try{qe?(Ue||(we.rejection===2&&le(we),we.rejection=1),qe===!0?_e=je:(rt&&rt.enter(),_e=qe(je),rt&&(rt.exit(),Te=!0)),_e===me.promise?Ke(new H("Promise-chain cycle")):(Se=D(_e))?f(Se,_e,We,Ke):We(_e)):Ke(je)}catch(ut){rt&&!Te&&rt.exit(),Ke(ut)}},ee=function(me,we){me.notified||(me.notified=!0,j(function(){for(var _e,Se=me.reactions;_e=Se.get();)W(_e,me);me.notified=!1,we&&!me.rejection&&ie(me)}))},oe=function(me,we,_e){var Se,Te;z?((Se=X.createEvent("Event")).promise=we,Se.reason=_e,Se.initEvent(me,!1,!0),d.dispatchEvent(Se)):Se={promise:we,reason:_e},!w&&(Te=d["on"+me])?Te(Se):me==="unhandledrejection"&&T("Unhandled promise rejection",_e)},ie=function(me){f(F,d,function(){var we,_e=me.facade,Se=me.value;if(ae(me)&&(we=M(function(){c?Z.emit("unhandledRejection",Se,_e):oe("unhandledrejection",_e,Se)}),me.rejection=c||ae(me)?2:1,we.error))throw we.value})},ae=function(me){return me.rejection!==1&&!me.parent},le=function(me){f(F,d,function(){var we=me.facade;c?Z.emit("rejectionHandled",we):oe("rejectionhandled",we,me.value)})},ne=function(me,we,_e){return function(Se){me(we,Se,_e)}},se=function(me,we,_e){me.done||(me.done=!0,_e&&(me=_e),me.value=we,me.state=2,ee(me,!0))},ye=function(me,we,_e){if(!me.done){me.done=!0,_e&&(me=_e);try{if(me.facade===we)throw new H("Promise can't be resolved itself");var Se=D(we);Se?j(function(){var Te={done:!1};try{f(Se,we,ne(ye,Te,me),ne(se,Te,me))}catch(je){se(Te,je,me)}}):(me.value=we,me.state=1,ee(me,!1))}catch(Te){se({done:!1},Te,me)}}};if(A&&(P=(q=function(me){k(this,P),y(me),f(i,this);var we=x(this);try{me(ne(ye,we),ne(se,we))}catch(_e){se(we,_e)}}).prototype,(i=function(me){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=h(P,"then",function(me,we){var _e=x(this),Se=V(N(this,q));return _e.parent=!0,Se.ok=!m(me)||me,Se.fail=m(we)&&we,Se.domain=c?Z.domain:void 0,_e.state===0?_e.reactions.add(Se):j(function(){W(Se,_e)}),Se.promise}),o=function(){var me=new i,we=x(me);this.promise=me,this.resolve=ne(ye,we),this.reject=ne(se,we)},I.f=V=function(me){return me===q||me===void 0?new o(me):Q(me)},!l&&m(R)&&C!==Object.prototype)){u=C.then,_||h(C,"then",function(me,we){var _e=this;return new q(function(Se,Te){f(u,_e,Se,Te)}).then(me,we)},{unsafe:!0});try{delete C.constructor}catch{}g&&g(C,P)}a({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:q}),v(q,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),a=e("../internals/fails"),l=e("../internals/get-built-in"),c=e("../internals/is-callable"),d=e("../internals/species-constructor"),f=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=u&&u.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!u&&a(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(p){var y=d(this,l("Promise")),m=c(p);return this.then(m?function(b){return f(y,p()).then(function(){return b})}:p,m?function(b){return f(y,p()).then(function(){throw b})}:p)}}),!o&&c(u)){var v=l("Promise").prototype.finally;g.finally!==v&&h(g,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),l=e("../internals/perform"),c=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(d){var f=this,h=a.f(f),g=h.reject,v=l(function(){var p=u(f.resolve);c(d,function(y){o(p,f,y).then(h.resolve,g)})});return v.error&&g(v.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(a){var l=u.f(this);return o(l.reject,void 0,a),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/is-pure"),a=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-resolve"),d=o("Promise"),f=u&&!l;i({target:"Promise",stat:!0,forced:u||l},{resolve:function(h){return c(f&&this===d?a:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),u=e("../internals/to-absolute-index"),a=RangeError,l=String.fromCharCode,c=String.fromCodePoint,d=o([].join);i({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(f){for(var h,g=[],v=arguments.length,p=0;v>p;){if(h=+arguments[p++],u(h,1114111)!==h)throw new a(h+" is not a valid code point");g[p]=h<65536?l(h):l(55296+((h-=65536)>>10),h%1024+56320)}return d(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),u=e("../internals/not-a-regexp"),a=e("../internals/require-object-coercible"),l=e("../internals/to-string"),c=e("../internals/correct-is-regexp-logic"),d=o("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(f){return!!~d(l(a(this)),l(u(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/global"),u=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),c=e("../internals/descriptors"),d=e("../internals/symbol-constructor-detection"),f=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),v=e("../internals/an-object"),p=e("../internals/to-indexed-object"),y=e("../internals/to-property-key"),m=e("../internals/to-string"),b=e("../internals/create-property-descriptor"),k=e("../internals/object-create"),N=e("../internals/object-keys"),F=e("../internals/object-get-own-property-names"),j=e("../internals/object-get-own-property-names-external"),T=e("../internals/object-get-own-property-symbols"),M=e("../internals/object-get-own-property-descriptor"),B=e("../internals/object-define-property"),O=e("../internals/object-define-properties"),R=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),I=e("../internals/define-built-in-accessor"),A=e("../internals/shared"),w=e("../internals/shared-key"),_=e("../internals/hidden-keys"),x=e("../internals/uid"),S=e("../internals/well-known-symbol"),C=e("../internals/well-known-symbol-wrapped"),q=e("../internals/well-known-symbol-define"),P=e("../internals/symbol-define-to-primitive"),H=e("../internals/set-to-string-tag"),X=e("../internals/internal-state"),Z=e("../internals/array-iteration").forEach,V=w("hidden"),Q=X.set,z=X.getterFor("Symbol"),D=Object.prototype,W=o.Symbol,ee=W&&W.prototype,oe=o.RangeError,ie=o.TypeError,ae=o.QObject,le=M.f,ne=B.f,se=j.f,ye=R.f,me=a([].push),we=A("symbols"),_e=A("op-symbols"),Se=A("wks"),Te=!ae||!ae.prototype||!ae.prototype.findChild,je=function(Qe,at,nt){var yt=le(D,at);yt&&delete D[at],ne(Qe,at,nt),yt&&Qe!==D&&ne(D,at,yt)},Ue=c&&f(function(){return k(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!==7})?je:ne,qe=function(Qe,at){var nt=we[Qe]=k(ee);return Q(nt,{type:"Symbol",tag:Qe,description:at}),c||(nt.description=at),nt},We=function(Qe,at,nt){Qe===D&&We(_e,at,nt),v(Qe);var yt=y(at);return v(nt),h(we,yt)?(nt.enumerable?(h(Qe,V)&&Qe[V][yt]&&(Qe[V][yt]=!1),nt=k(nt,{enumerable:b(0,!1)})):(h(Qe,V)||ne(Qe,V,b(1,{})),Qe[V][yt]=!0),Ue(Qe,yt,nt)):ne(Qe,yt,nt)},Ke=function(Qe,at){v(Qe);var nt=p(at),yt=N(nt).concat(_t(nt));return Z(yt,function(xt){c&&!u(rt,nt,xt)||We(Qe,xt,nt[xt])}),Qe},rt=function(Qe){var at=y(Qe),nt=u(ye,this,at);return!(this===D&&h(we,at)&&!h(_e,at))&&(!(nt||!h(this,at)||!h(we,at)||h(this,V)&&this[V][at])||nt)},ut=function(Qe,at){var nt=p(Qe),yt=y(at);if(nt!==D||!h(we,yt)||h(_e,yt)){var xt=le(nt,yt);return!xt||!h(we,yt)||h(nt,V)&&nt[V][yt]||(xt.enumerable=!0),xt}},He=function(Qe){var at=se(p(Qe)),nt=[];return Z(at,function(yt){h(we,yt)||h(_,yt)||me(nt,yt)}),nt},_t=function(Qe){var at=Qe===D,nt=se(at?_e:p(Qe)),yt=[];return Z(nt,function(xt){!h(we,xt)||at&&!h(D,xt)||me(yt,we[xt])}),yt};d||(E(ee=(W=function(){if(g(ee,this))throw new ie("Symbol is not a constructor");var Qe=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,at=x(Qe),nt=function(yt){this===D&&u(nt,_e,yt),h(this,V)&&h(this[V],at)&&(this[V][at]=!1);var xt=b(1,yt);try{Ue(this,at,xt)}catch(Ct){if(!(Ct instanceof oe))throw Ct;je(this,at,xt)}};return c&&Te&&Ue(D,at,{configurable:!0,set:nt}),qe(at,Qe)}).prototype,"toString",function(){return z(this).tag}),E(W,"withoutSetter",function(Qe){return qe(x(Qe),Qe)}),R.f=rt,B.f=We,O.f=Ke,M.f=ut,F.f=j.f=He,T.f=_t,C.f=function(Qe){return qe(S(Qe),Qe)},c&&(I(ee,"description",{configurable:!0,get:function(){return z(this).description}}),l||E(D,"propertyIsEnumerable",rt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:W}),Z(N(Se),function(Qe){q(Qe)}),i({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),i({target:"Object",stat:!0,forced:!d,sham:!c},{create:function(Qe,at){return at===void 0?k(Qe):Ke(k(Qe),at)},defineProperty:We,defineProperties:Ke,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:He}),P(),H(W,"Symbol"),_[V]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/has-own-property"),a=e("../internals/to-string"),l=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),d=l("string-to-symbol-registry"),f=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(h){var g=a(h);if(u(d,g))return d[g];var v=o("Symbol")(g);return d[g]=v,f[v]=g,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var i=e("../internals/export"),o=e("../internals/has-own-property"),u=e("../internals/is-symbol"),a=e("../internals/try-to-string"),l=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),d=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(f){if(!u(f))throw new TypeError(a(f)+" is not a symbol");if(o(d,f))return d[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function i(o){return Object.prototype.toString.call(o)}s.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},s.isBoolean=function(o){return typeof o=="boolean"},s.isNull=function(o){return o===null},s.isNullOrUndefined=function(o){return o==null},s.isNumber=function(o){return typeof o=="number"},s.isString=function(o){return typeof o=="string"},s.isSymbol=function(o){return typeof o=="symbol"},s.isUndefined=function(o){return o===void 0},s.isRegExp=function(o){return i(o)==="[object RegExp]"},s.isObject=function(o){return typeof o=="object"&&o!==null},s.isDate=function(o){return i(o)==="[object Date]"},s.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},s.isFunction=function(o){return typeof o=="function"},s.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(i){(function(){var o=e("elliptic"),u=e("bn.js");n.exports=function(d){return new l(d)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(d){this.curveType=a[d],this.curveType||(this.curveType={name:d}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function c(d,f,h){Array.isArray(d)||(d=d.toArray());var g=new i(d);if(h&&g.length<h){var v=new i(h-g.length);v.fill(0),g=i.concat([v,g])}return f?g.toString(f):g}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,l.prototype.generateKeys=function(d,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,f)},l.prototype.computeSecret=function(d,f,h){return f=f||"utf8",i.isBuffer(d)||(d=new i(d,f)),c(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},l.prototype.getPublicKey=function(d,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),c(h,d)},l.prototype.getPrivateKey=function(d){return c(this.keys.getPrivate(),d)},l.prototype.setPublicKey=function(d,f){return f=f||"utf8",i.isBuffer(d)||(d=new i(d,f)),this.keys._importPublic(d),this},l.prototype.setPrivateKey=function(d,f){f=f||"utf8",i.isBuffer(d)||(d=new i(d,f));var h=new u(d);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var i=e("inherits"),o=e("md5.js"),u=e("ripemd160"),a=e("sha.js"),l=e("cipher-base");function c(d){l.call(this,"digest"),this._hash=d}i(c,l),c.prototype._update=function(d){this._hash.update(d)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new o:d==="rmd160"||d==="ripemd160"?new u:new c(a(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var i=e("md5.js");n.exports=function(o){return new i().update(o).digest()}},{"md5.js":450}],388:[function(e,n,s){var i=e("inherits"),o=e("./legacy"),u=e("cipher-base"),a=e("safe-buffer").Buffer,l=e("create-hash/md5"),c=e("ripemd160"),d=e("sha.js"),f=a.alloc(128);function h(g,v){u.call(this,"digest"),typeof v=="string"&&(v=a.from(v));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=v,v.length>p?v=(g==="rmd160"?new c:d(g)).update(v).digest():v.length<p&&(v=a.concat([v,f],p));for(var y=this._ipad=a.allocUnsafe(p),m=this._opad=a.allocUnsafe(p),b=0;b<p;b++)y[b]=54^v[b],m[b]=92^v[b];this._hash=g==="rmd160"?new c:d(g),this._hash.update(y)}i(h,u),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new c:d(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,v){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",v):g==="md5"?new o(l,v):new h(g,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var i=e("inherits"),o=e("safe-buffer").Buffer,u=e("cipher-base"),a=o.alloc(128);function l(c,d){u.call(this,"digest"),typeof d=="string"&&(d=o.from(d)),this._alg=c,this._key=d,d.length>64?d=c(d):d.length<64&&(d=o.concat([d,a],64));for(var f=this._ipad=o.allocUnsafe(64),h=this._opad=o.allocUnsafe(64),g=0;g<64;g++)f[g]=54^d[g],h[g]=92^d[g];this._hash=[f]}i(l,u),l.prototype._update=function(c){this._hash.push(c)},l.prototype._final=function(){var c=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,c]))},n.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),o=Object.keys(i),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);s.getHashes=function(){return u};var a=e("pbkdf2");s.pbkdf2=a.pbkdf2,s.pbkdf2Sync=a.pbkdf2Sync;var l=e("browserify-cipher");s.Cipher=l.Cipher,s.createCipher=l.createCipher,s.Cipheriv=l.Cipheriv,s.createCipheriv=l.createCipheriv,s.Decipher=l.Decipher,s.createDecipher=l.createDecipher,s.Decipheriv=l.Decipheriv,s.createDecipheriv=l.createDecipheriv,s.getCiphers=l.getCiphers,s.listCiphers=l.listCiphers;var c=e("diffie-hellman");s.DiffieHellmanGroup=c.DiffieHellmanGroup,s.createDiffieHellmanGroup=c.createDiffieHellmanGroup,s.getDiffieHellman=c.getDiffieHellman,s.createDiffieHellman=c.createDiffieHellman,s.DiffieHellman=c.DiffieHellman;var d=e("browserify-sign");s.createSign=d.createSign,s.Sign=d.Sign,s.createVerify=d.createVerify,s.Verify=d.Verify,s.createECDH=e("create-ecdh");var f=e("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var h=e("randomfill");s.randomFill=h.randomFill,s.randomFillSync=h.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(i,o){typeof s=="object"&&n!==void 0?n.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=o()})(void 0,function(){var i=6e4,o=36e5,u="millisecond",a="second",l="minute",c="hour",d="day",f="week",h="month",g="quarter",v="year",p="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var _=["th","st","nd","rd"],x=w%100;return"["+w+(_[(x-20)%10]||_[x]||_[0])+"]"}},N=function(w,_,x){var S=String(w);return!S||S.length>=_?w:""+Array(_+1-S.length).join(x)+w},F={s:N,z:function(w){var _=-w.utcOffset(),x=Math.abs(_),S=Math.floor(x/60),C=x%60;return(_<=0?"+":"-")+N(S,2,"0")+":"+N(C,2,"0")},m:function w(_,x){if(_.date()<x.date())return-w(x,_);var S=12*(x.year()-_.year())+(x.month()-_.month()),C=_.clone().add(S,h),q=x-C<0,P=_.clone().add(S+(q?-1:1),h);return+(-(S+(x-C)/(q?C-P:P-C))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:h,y:v,w:f,d,D:p,h:c,m:l,s:a,ms:u,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},j="en",T={};T[j]=k;var M="$isDayjsObject",B=function(w){return w instanceof I||!(!w||!w[M])},O=function w(_,x,S){var C;if(!_)return j;if(typeof _=="string"){var q=_.toLowerCase();T[q]&&(C=q),x&&(T[q]=x,C=q);var P=_.split("-");if(!C&&P.length>1)return w(P[0])}else{var H=_.name;T[H]=_,C=H}return!S&&C&&(j=C),C||!S&&j},R=function(w,_){if(B(w))return w.clone();var x=typeof _=="object"?_:{};return x.date=w,x.args=arguments,new I(x)},E=F;E.l=O,E.i=B,E.w=function(w,_){return R(w,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var I=function(){function w(x){this.$L=O(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[M]=!0}var _=w.prototype;return _.parse=function(x){this.$d=function(S){var C=S.date,q=S.utc;if(C===null)return new Date(NaN);if(E.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var P=C.match(m);if(P){var H=P[2]-1||0,X=(P[7]||"0").substring(0,3);return q?new Date(Date.UTC(P[1],H,P[3]||1,P[4]||0,P[5]||0,P[6]||0,X)):new Date(P[1],H,P[3]||1,P[4]||0,P[5]||0,P[6]||0,X)}}return new Date(C)}(x),this.init()},_.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},_.$utils=function(){return E},_.isValid=function(){return this.$d.toString()!==y},_.isSame=function(x,S){var C=R(x);return this.startOf(S)<=C&&C<=this.endOf(S)},_.isAfter=function(x,S){return R(x)<this.startOf(S)},_.isBefore=function(x,S){return this.endOf(S)<R(x)},_.$g=function(x,S,C){return E.u(x)?this[S]:this.set(C,x)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(x,S){var C=this,q=!!E.u(S)||S,P=E.p(x),H=function(ee,oe){var ie=E.w(C.$u?Date.UTC(C.$y,oe,ee):new Date(C.$y,oe,ee),C);return q?ie:ie.endOf(d)},X=function(ee,oe){return E.w(C.toDate()[ee].apply(C.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(oe)),C)},Z=this.$W,V=this.$M,Q=this.$D,z="set"+(this.$u?"UTC":"");switch(P){case v:return q?H(1,0):H(31,11);case h:return q?H(1,V):H(0,V+1);case f:var D=this.$locale().weekStart||0,W=(Z<D?Z+7:Z)-D;return H(q?Q-W:Q+(6-W),V);case d:case p:return X(z+"Hours",0);case c:return X(z+"Minutes",1);case l:return X(z+"Seconds",2);case a:return X(z+"Milliseconds",3);default:return this.clone()}},_.endOf=function(x){return this.startOf(x,!1)},_.$set=function(x,S){var C,q=E.p(x),P="set"+(this.$u?"UTC":""),H=(C={},C[d]=P+"Date",C[p]=P+"Date",C[h]=P+"Month",C[v]=P+"FullYear",C[c]=P+"Hours",C[l]=P+"Minutes",C[a]=P+"Seconds",C[u]=P+"Milliseconds",C)[q],X=q===d?this.$D+(S-this.$W):S;if(q===h||q===v){var Z=this.clone().set(p,1);Z.$d[H](X),Z.init(),this.$d=Z.set(p,Math.min(this.$D,Z.daysInMonth())).$d}else H&&this.$d[H](X);return this.init(),this},_.set=function(x,S){return this.clone().$set(x,S)},_.get=function(x){return this[E.p(x)]()},_.add=function(x,S){var C,q=this;x=Number(x);var P=E.p(S),H=function(V){var Q=R(q);return E.w(Q.date(Q.date()+Math.round(V*x)),q)};if(P===h)return this.set(h,this.$M+x);if(P===v)return this.set(v,this.$y+x);if(P===d)return H(1);if(P===f)return H(7);var X=(C={},C[l]=i,C[c]=o,C[a]=1e3,C)[P]||1,Z=this.$d.getTime()+x*X;return E.w(Z,this)},_.subtract=function(x,S){return this.add(-1*x,S)},_.format=function(x){var S=this,C=this.$locale();if(!this.isValid())return C.invalidDate||y;var q=x||"YYYY-MM-DDTHH:mm:ssZ",P=E.z(this),H=this.$H,X=this.$m,Z=this.$M,V=C.weekdays,Q=C.months,z=C.meridiem,D=function(oe,ie,ae,le){return oe&&(oe[ie]||oe(S,q))||ae[ie].slice(0,le)},W=function(oe){return E.s(H%12||12,oe,"0")},ee=z||function(oe,ie,ae){var le=oe<12?"AM":"PM";return ae?le.toLowerCase():le};return q.replace(b,function(oe,ie){return ie||function(ae){switch(ae){case"YY":return String(S.$y).slice(-2);case"YYYY":return E.s(S.$y,4,"0");case"M":return Z+1;case"MM":return E.s(Z+1,2,"0");case"MMM":return D(C.monthsShort,Z,Q,3);case"MMMM":return D(Q,Z);case"D":return S.$D;case"DD":return E.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return D(C.weekdaysMin,S.$W,V,2);case"ddd":return D(C.weekdaysShort,S.$W,V,3);case"dddd":return V[S.$W];case"H":return String(H);case"HH":return E.s(H,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return ee(H,X,!0);case"A":return ee(H,X,!1);case"m":return String(X);case"mm":return E.s(X,2,"0");case"s":return String(S.$s);case"ss":return E.s(S.$s,2,"0");case"SSS":return E.s(S.$ms,3,"0");case"Z":return P}return null}(oe)||P.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(x,S,C){var q,P=this,H=E.p(S),X=R(x),Z=(X.utcOffset()-this.utcOffset())*i,V=this-X,Q=function(){return E.m(P,X)};switch(H){case v:q=Q()/12;break;case h:q=Q();break;case g:q=Q()/3;break;case f:q=(V-Z)/6048e5;break;case d:q=(V-Z)/864e5;break;case c:q=V/o;break;case l:q=V/i;break;case a:q=V/1e3;break;default:q=V}return C?q:E.a(q)},_.daysInMonth=function(){return this.endOf(h).$D},_.$locale=function(){return T[this.$L]},_.locale=function(x,S){if(!x)return this.$L;var C=this.clone(),q=O(x,S,!0);return q&&(C.$L=q),C},_.clone=function(){return E.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},w}(),A=I.prototype;return R.prototype=A,[["$ms",u],["$s",a],["$m",l],["$H",c],["$W",d],["$M",h],["$y",v],["$D",p]].forEach(function(w){A[w[1]]=function(_){return this.$g(_,w[0],w[1])}}),R.extend=function(w,_){return w.$i||(w(_,I,R),w.$i=!0),R},R.locale=O,R.isDayjs=B,R.unix=function(w){return R(1e3*w)},R.en=T[j],R.Ls=T,R.p={},R})},{}],392:[function(e,n,s){(function(i,o){typeof s=="object"&&n!==void 0?n.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,a=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},d=function(m){return(m=+m)+(m>68?1900:2e3)},f=function(m){return function(b){this[m]=+b}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var k=b.match(/([+-]|\d\d)/g),N=60*k[1]+(+k[2]||0);return N===0?0:k[0]==="+"?-N:N}(m)}],g=function(m){var b=c[m];return b&&(b.indexOf?b:b.s.concat(b.f))},v=function(m,b){var k,N=c.meridiem;if(N){for(var F=1;F<=24;F+=1)if(m.indexOf(N(F,0,b))>-1){k=F>12;break}}else k=m===(b?"pm":"PM");return k},p={A:[l,function(m){this.afternoon=v(m,!1)}],a:[l,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[u,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[a,f("seconds")],ss:[a,f("seconds")],m:[a,f("minutes")],mm:[a,f("minutes")],H:[a,f("hours")],h:[a,f("hours")],HH:[a,f("hours")],hh:[a,f("hours")],D:[a,f("day")],DD:[u,f("day")],Do:[l,function(m){var b=c.ordinal,k=m.match(/\d+/);if(this.day=k[0],b)for(var N=1;N<=31;N+=1)b(N).replace(/\[|\]/g,"")===m&&(this.day=N)}],M:[a,f("month")],MM:[u,f("month")],MMM:[l,function(m){var b=g("months"),k=(g("monthsShort")||b.map(function(N){return N.slice(0,3)})).indexOf(m)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[l,function(m){var b=g("months").indexOf(m)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,f("year")],YY:[u,function(m){this.year=d(m)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function y(m){var b,k;b=m,k=c&&c.formats;for(var N=(m=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,E,I){var A=I&&I.toUpperCase();return E||k[I]||i[I]||k[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,_,x){return _||x.slice(1)})})).match(o),F=N.length,j=0;j<F;j+=1){var T=N[j],M=p[T],B=M&&M[0],O=M&&M[1];N[j]=O?{regex:B,parser:O}:T.replace(/^\[|\]$/g,"")}return function(R){for(var E={},I=0,A=0;I<F;I+=1){var w=N[I];if(typeof w=="string")A+=w.length;else{var _=w.regex,x=w.parser,S=R.slice(A),C=_.exec(S)[0];x.call(E,C),R=R.replace(C,"")}}return function(q){var P=q.afternoon;if(P!==void 0){var H=q.hours;P?H<12&&(q.hours+=12):H===12&&(q.hours=0),delete q.afternoon}}(E),E}}return function(m,b,k){k.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(d=m.parseTwoDigitYear);var N=b.prototype,F=N.parse;N.parse=function(j){var T=j.date,M=j.utc,B=j.args;this.$u=M;var O=B[1];if(typeof O=="string"){var R=B[2]===!0,E=B[3]===!0,I=R||E,A=B[2];E&&(A=B[2]),c=this.$locale(),!R&&A&&(c=k.Ls[A]),this.$d=function(S,C,q){try{if(["x","X"].indexOf(C)>-1)return new Date((C==="X"?1e3:1)*S);var P=y(C)(S),H=P.year,X=P.month,Z=P.day,V=P.hours,Q=P.minutes,z=P.seconds,D=P.milliseconds,W=P.zone,ee=new Date,oe=Z||(H||X?1:ee.getDate()),ie=H||ee.getFullYear(),ae=0;H&&!X||(ae=X>0?X-1:ee.getMonth());var le=V||0,ne=Q||0,se=z||0,ye=D||0;return W?new Date(Date.UTC(ie,ae,oe,le,ne,se,ye+60*W.offset*1e3)):q?new Date(Date.UTC(ie,ae,oe,le,ne,se,ye)):new Date(ie,ae,oe,le,ne,se,ye)}catch{return new Date("")}}(T,O,M),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),I&&T!=this.format(O)&&(this.$d=new Date("")),c={}}else if(O instanceof Array)for(var w=O.length,_=1;_<=w;_+=1){B[1]=O[_-1];var x=k.apply(this,B);if(x.isValid()){this.$d=x.$d,this.$L=x.$L,this.init();break}_===w&&(this.$d=new Date(""))}else F.call(this,j)}}})},{}],393:[function(e,n,s){(function(i,o){typeof s=="object"&&n!==void 0?n.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=o()})(void 0,function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(a,l,c){var d=l.prototype;c.utc=function(m){var b={date:m,utc:!0,args:arguments};return new l(b)},d.utc=function(m){var b=c(this.toDate(),{locale:this.$L,utc:!0});return m?b.add(this.utcOffset(),i):b},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var f=d.parse;d.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),f.call(this,m)};var h=d.init;d.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else h.call(this)};var g=d.utcOffset;d.utcOffset=function(m,b){var k=this.$utils().u;if(k(m))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof m=="string"&&(m=function(T){T===void 0&&(T="");var M=T.match(o);if(!M)return null;var B=(""+M[0]).match(u)||["-",0,0],O=B[0],R=60*+B[1]+ +B[2];return R===0?0:O==="+"?R:-R}(m))===null)return this;var N=Math.abs(m)<=16?60*m:m,F=this;if(b)return F.$offset=N,F.$u=m===0,F;if(m!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(N+j,i)).$offset=N,F.$x.$localOffset=j}else F=this.utc();return F};var v=d.format;d.format=function(m){var b=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,b)},d.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var p=d.toDate;d.toDate=function(m){return m==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=d.diff;d.diff=function(m,b,k){if(m&&this.$u===m.$u)return y.call(this,m,b,k);var N=this.local(),F=c(m).local();return y.call(N,F,b,k)}}})},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits"),u={};function a(l){i.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=l[c]}s.instantiate=function(l){function c(g){l.call(this,g),this._cbcInit()}o(c,l);for(var d=Object.keys(u),f=0;f<d.length;f++){var h=d[f];c.prototype[h]=u[h]}return c.create=function(g){return new c(g)},c},u._cbcInit=function(){var l=new a(this.options.iv);this._cbcState=l},u._update=function(l,c,d,f){var h=this._cbcState,g=this.constructor.super_.prototype,v=h.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)v[p]^=l[c+p];for(g._update.call(this,v,0,d,f),p=0;p<this.blockSize;p++)v[p]=d[f+p]}else{for(g._update.call(this,l,c,d,f),p=0;p<this.blockSize;p++)d[f+p]^=v[p];for(p=0;p<this.blockSize;p++)v[p]=l[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var i=e("minimalistic-assert");function o(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},o.prototype._buffer=function(u,a){for(var l=Math.min(this.buffer.length-this.bufferOff,u.length-a),c=0;c<l;c++)this.buffer[this.bufferOff+c]=u[a+c];return this.bufferOff+=l,l},o.prototype._flushBuffer=function(u,a){return this._update(this.buffer,0,u,a),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(u){var a=0,l=0,c=(this.bufferOff+u.length)/this.blockSize|0,d=new Array(c*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(u,a),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(d,l)));for(var f=u.length-(u.length-a)%this.blockSize;a<f;a+=this.blockSize)this._update(u,a,d,l),l+=this.blockSize;for(;a<u.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=u[a];return d},o.prototype._updateDecrypt=function(u){for(var a=0,l=0,c=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,d=new Array(c*this.blockSize);c>0;c--)a+=this._buffer(u,a),l+=this._flushBuffer(d,l);return a+=this._buffer(u,a),d},o.prototype.final=function(u){var a,l;return u&&(a=this.update(u)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),a?a.concat(l):l},o.prototype._pad=function(u,a){if(a===0)return!1;for(;a<u.length;)u[a++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},o.prototype._unpad=function(u){return u},o.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits"),u=e("./utils"),a=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function c(f){a.call(this,f);var h=new l;this._desState=h,this.deriveKeys(h,f.key)}o(c,a),n.exports=c,c.create=function(f){return new c(f)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(f,h){f.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var g=u.readUInt32BE(h,0),v=u.readUInt32BE(h,4);u.pc1(g,v,f.tmp,0),g=f.tmp[0],v=f.tmp[1];for(var p=0;p<f.keys.length;p+=2){var y=d[p>>>1];g=u.r28shl(g,y),v=u.r28shl(v,y),u.pc2(g,v,f.keys,p)}},c.prototype._update=function(f,h,g,v){var p=this._desState,y=u.readUInt32BE(f,h),m=u.readUInt32BE(f,h+4);u.ip(y,m,p.tmp,0),y=p.tmp[0],m=p.tmp[1],this.type==="encrypt"?this._encrypt(p,y,m,p.tmp,0):this._decrypt(p,y,m,p.tmp,0),y=p.tmp[0],m=p.tmp[1],u.writeUInt32BE(g,y,v),u.writeUInt32BE(g,m,v+4)},c.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var g=f.length-h,v=h;v<f.length;v++)f[v]=g;return!0},c.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],g=f.length-h;g<f.length;g++)i.equal(f[g],h);return f.slice(0,f.length-h)},c.prototype._encrypt=function(f,h,g,v,p){for(var y=h,m=g,b=0;b<f.keys.length;b+=2){var k=f.keys[b],N=f.keys[b+1];u.expand(m,f.tmp,0),k^=f.tmp[0],N^=f.tmp[1];var F=u.substitute(k,N),j=m;m=(y^u.permute(F))>>>0,y=j}u.rip(m,y,v,p)},c.prototype._decrypt=function(f,h,g,v,p){for(var y=g,m=h,b=f.keys.length-2;b>=0;b-=2){var k=f.keys[b],N=f.keys[b+1];u.expand(y,f.tmp,0),k^=f.tmp[0],N^=f.tmp[1];var F=u.substitute(k,N),j=y;y=(m^u.permute(F))>>>0,m=j}u.rip(y,m,v,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits"),u=e("./cipher"),a=e("./des");function l(d,f){i.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),g=f.slice(8,16),v=f.slice(16,24);this.ciphers=d==="encrypt"?[a.create({type:"encrypt",key:h}),a.create({type:"decrypt",key:g}),a.create({type:"encrypt",key:v})]:[a.create({type:"decrypt",key:v}),a.create({type:"encrypt",key:g}),a.create({type:"decrypt",key:h})]}function c(d){u.call(this,d);var f=new l(this.type,this.options.key);this._edeState=f}o(c,u),n.exports=c,c.create=function(d){return new c(d)},c.prototype._update=function(d,f,h,g){var v=this._edeState;v.ciphers[0]._update(d,f,h,g),v.ciphers[1]._update(h,g,h,g),v.ciphers[2]._update(h,g,h,g)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(a,l){return(a[0+l]<<24|a[1+l]<<16|a[2+l]<<8|a[3+l])>>>0},s.writeUInt32BE=function(a,l,c){a[0+c]=l>>>24,a[1+c]=l>>>16&255,a[2+c]=l>>>8&255,a[3+c]=255&l},s.ip=function(a,l,c,d){for(var f=0,h=0,g=6;g>=0;g-=2){for(var v=0;v<=24;v+=8)f<<=1,f|=l>>>v+g&1;for(v=0;v<=24;v+=8)f<<=1,f|=a>>>v+g&1}for(g=6;g>=0;g-=2){for(v=1;v<=25;v+=8)h<<=1,h|=l>>>v+g&1;for(v=1;v<=25;v+=8)h<<=1,h|=a>>>v+g&1}c[d+0]=f>>>0,c[d+1]=h>>>0},s.rip=function(a,l,c,d){for(var f=0,h=0,g=0;g<4;g++)for(var v=24;v>=0;v-=8)f<<=1,f|=l>>>v+g&1,f<<=1,f|=a>>>v+g&1;for(g=4;g<8;g++)for(v=24;v>=0;v-=8)h<<=1,h|=l>>>v+g&1,h<<=1,h|=a>>>v+g&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.pc1=function(a,l,c,d){for(var f=0,h=0,g=7;g>=5;g--){for(var v=0;v<=24;v+=8)f<<=1,f|=l>>v+g&1;for(v=0;v<=24;v+=8)f<<=1,f|=a>>v+g&1}for(v=0;v<=24;v+=8)f<<=1,f|=l>>v+g&1;for(g=1;g<=3;g++){for(v=0;v<=24;v+=8)h<<=1,h|=l>>v+g&1;for(v=0;v<=24;v+=8)h<<=1,h|=a>>v+g&1}for(v=0;v<=24;v+=8)h<<=1,h|=a>>v+g&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.r28shl=function(a,l){return a<<l&268435455|a>>>28-l};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(a,l,c,d){for(var f=0,h=0,g=i.length>>>1,v=0;v<g;v++)f<<=1,f|=a>>>i[v]&1;for(v=g;v<i.length;v++)h<<=1,h|=l>>>i[v]&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.expand=function(a,l,c){var d=0,f=0;d=(1&a)<<5|a>>>27;for(var h=23;h>=15;h-=4)d<<=6,d|=a>>>h&63;for(h=11;h>=3;h-=4)f|=a>>>h&63,f<<=6;f|=(31&a)<<1|a>>>31,l[c+0]=d>>>0,l[c+1]=f>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(a,l){for(var c=0,d=0;d<4;d++)c<<=4,c|=o[64*d+(a>>>18-6*d&63)];for(d=0;d<4;d++)c<<=4,c|=o[256+64*d+(l>>>18-6*d&63)];return c>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(a){for(var l=0,c=0;c<u.length;c++)l<<=1,l|=a>>>u[c]&1;return l>>>0},s.padSplit=function(a,l,c){for(var d=a.toString(2);d.length<l;)d="0"+d;for(var f=[],h=0;h<l;h+=c)f.push(d.slice(h,h+c));return f.join(" ")}},{}],400:[function(e,n,s){(function(i){(function(){var o=e("./lib/generatePrime"),u=e("./lib/primes.json"),a=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(c){var d=new i(u[c].prime,"hex"),f=new i(u[c].gen,"hex");return new a(d,f)},s.createDiffieHellman=s.DiffieHellman=function c(d,f,h,g){return i.isBuffer(f)||l[f]===void 0?c(d,"binary",f,h):(f=f||"binary",g=g||"binary",h=h||new i([2]),i.isBuffer(h)||(h=new i(h,g)),typeof d=="number"?new a(o(d,h),h,!0):(i.isBuffer(d)||(d=new i(d,f)),new a(d,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(i){(function(){var o=e("bn.js"),u=new(e("miller-rabin")),a=new o(24),l=new o(11),c=new o(10),d=new o(3),f=new o(7),h=e("./generatePrime"),g=e("randombytes");function v(k,N){return N=N||"utf8",i.isBuffer(k)||(k=new i(k,N)),this._pub=new o(k),this}function p(k,N){return N=N||"utf8",i.isBuffer(k)||(k=new i(k,N)),this._priv=new o(k),this}n.exports=m;var y={};function m(k,N,F){this.setGenerator(N),this.__prime=new o(k),this._prime=o.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=v,this.setPrivateKey=p):this._primeCode=8}function b(k,N){var F=new i(k.toArray());return N?F.toString(N):F}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(k,N){var F=N.toString("hex"),j=[F,k.toString(16)].join("_");if(j in y)return y[j];var T,M=0;if(k.isEven()||!h.simpleSieve||!h.fermatTest(k)||!u.test(k))return M+=1,M+=F==="02"||F==="05"?8:4,y[j]=M,M;switch(u.test(k.shrn(1))||(M+=2),F){case"02":k.mod(a).cmp(l)&&(M+=8);break;case"05":(T=k.mod(c)).cmp(d)&&T.cmp(f)&&(M+=8);break;default:M+=4}return y[j]=M,M}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(k){var N=(k=(k=new o(k)).toRed(this._prime)).redPow(this._priv).fromRed(),F=new i(N.toArray()),j=this.getPrime();if(F.length<j.length){var T=new i(j.length-F.length);T.fill(0),F=i.concat([T,F])}return F},m.prototype.getPublicKey=function(k){return b(this._pub,k)},m.prototype.getPrivateKey=function(k){return b(this._priv,k)},m.prototype.getPrime=function(k){return b(this.__prime,k)},m.prototype.getGenerator=function(k){return b(this._gen,k)},m.prototype.setGenerator=function(k,N){return N=N||"utf8",i.isBuffer(k)||(k=new i(k,N)),this.__gen=k,this._gen=new o(k),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var i=e("randombytes");n.exports=k,k.simpleSieve=m,k.fermatTest=b;var o=e("bn.js"),u=new o(24),a=new(e("miller-rabin")),l=new o(1),c=new o(2),d=new o(5),f=(new o(16),new o(8),new o(10)),h=new o(3),g=(new o(7),new o(11)),v=new o(4),p=(new o(12),null);function y(){if(p!==null)return p;var N=[];N[0]=2;for(var F=1,j=3;j<1048576;j+=2){for(var T=Math.ceil(Math.sqrt(j)),M=0;M<F&&N[M]<=T&&j%N[M]!=0;M++);F!==M&&N[M]<=T||(N[F++]=j)}return p=N,N}function m(N){for(var F=y(),j=0;j<F.length;j++)if(N.modn(F[j])===0)return N.cmpn(F[j])===0;return!0}function b(N){var F=o.mont(N);return c.toRed(F).redPow(N.subn(1)).fromRed().cmpn(1)===0}function k(N,F){if(N<16)return new o(F===2||F===5?[140,123]:[140,39]);var j,T;for(F=new o(F);;){for(j=new o(i(Math.ceil(N/8)));j.bitLength()>N;)j.ishrn(1);if(j.isEven()&&j.iadd(l),j.testn(1)||j.iadd(c),F.cmp(c)){if(!F.cmp(d))for(;j.mod(f).cmp(h);)j.iadd(v)}else for(;j.mod(u).cmp(g);)j.iadd(v);if(m(T=j.shrn(1))&&m(j)&&b(T)&&b(j)&&a.test(T)&&a.test(j))return j}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var i=s;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var i=e("bn.js"),o=e("../utils"),u=o.getNAF,a=o.getJSF,l=o.assert;function c(f,h){this.type=f,this.p=new i(h.p,16),this.red=h.prime?i.red(h.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=h.n&&new i(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(f,h){this.curve=f,this.type=h,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(f,h){l(f.precomputed);var g=f._getDoubles(),v=u(h,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var y,m,b=[];for(y=0;y<v.length;y+=g.step){m=0;for(var k=y+g.step-1;k>=y;k--)m=(m<<1)+v[k];b.push(m)}for(var N=this.jpoint(null,null,null),F=this.jpoint(null,null,null),j=p;j>0;j--){for(y=0;y<b.length;y++)(m=b[y])===j?F=F.mixedAdd(g.points[y]):m===-j&&(F=F.mixedAdd(g.points[y].neg()));N=N.add(F)}return N.toP()},c.prototype._wnafMul=function(f,h){var g=4,v=f._getNAFPoints(g);g=v.wnd;for(var p=v.points,y=u(h,g,this._bitLength),m=this.jpoint(null,null,null),b=y.length-1;b>=0;b--){for(var k=0;b>=0&&y[b]===0;b--)k++;if(b>=0&&k++,m=m.dblp(k),b<0)break;var N=y[b];l(N!==0),m=f.type==="affine"?N>0?m.mixedAdd(p[N-1>>1]):m.mixedAdd(p[-N-1>>1].neg()):N>0?m.add(p[N-1>>1]):m.add(p[-N-1>>1].neg())}return f.type==="affine"?m.toP():m},c.prototype._wnafMulAdd=function(f,h,g,v,p){var y,m,b,k=this._wnafT1,N=this._wnafT2,F=this._wnafT3,j=0;for(y=0;y<v;y++){var T=(b=h[y])._getNAFPoints(f);k[y]=T.wnd,N[y]=T.points}for(y=v-1;y>=1;y-=2){var M=y-1,B=y;if(k[M]===1&&k[B]===1){var O=[h[M],null,null,h[B]];h[M].y.cmp(h[B].y)===0?(O[1]=h[M].add(h[B]),O[2]=h[M].toJ().mixedAdd(h[B].neg())):h[M].y.cmp(h[B].y.redNeg())===0?(O[1]=h[M].toJ().mixedAdd(h[B]),O[2]=h[M].add(h[B].neg())):(O[1]=h[M].toJ().mixedAdd(h[B]),O[2]=h[M].toJ().mixedAdd(h[B].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],E=a(g[M],g[B]);for(j=Math.max(E[0].length,j),F[M]=new Array(j),F[B]=new Array(j),m=0;m<j;m++){var I=0|E[0][m],A=0|E[1][m];F[M][m]=R[3*(I+1)+(A+1)],F[B][m]=0,N[M]=O}}else F[M]=u(g[M],k[M],this._bitLength),F[B]=u(g[B],k[B],this._bitLength),j=Math.max(F[M].length,j),j=Math.max(F[B].length,j)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(y=j;y>=0;y--){for(var x=0;y>=0;){var S=!0;for(m=0;m<v;m++)_[m]=0|F[m][y],_[m]!==0&&(S=!1);if(!S)break;x++,y--}if(y>=0&&x++,w=w.dblp(x),y<0)break;for(m=0;m<v;m++){var C=_[m];C!==0&&(C>0?b=N[m][C-1>>1]:C<0&&(b=N[m][-C-1>>1].neg()),w=b.type==="affine"?w.mixedAdd(b):w.add(b))}}for(y=0;y<v;y++)N[y]=null;return p?w:w.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(f,h){f=o.toArray(f,h);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?l(f[f.length-1]%2==0):f[0]===7&&l(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(f){return this.encode(f,!0)},d.prototype._encode=function(f){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},d.prototype.encode=function(f,h){return o.encode(this._encode(h),f)},d.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},d.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},d.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],v=this,p=0;p<h;p+=f){for(var y=0;y<f;y++)v=v.dbl();g.push(v)}return{step:f,points:g}},d.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<f)-1,v=g===1?null:this.dbl(),p=1;p<g;p++)h[p]=h[p-1].add(v);return{wnd:f,points:h}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(f){for(var h=this,g=0;g<f;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var i=e("../utils"),o=e("bn.js"),u=e("inherits"),a=e("./base"),l=i.assert;function c(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",f),this.a=new o(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function d(f,h,g,v,p){a.BasePoint.call(this,f,"projective"),h===null&&g===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(h,16),this.y=new o(g,16),this.z=v?new o(v,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(c,a),n.exports=c,c.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},c.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},c.prototype.jpoint=function(f,h,g,v){return this.point(f,h,g,v)},c.prototype.pointFromX=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),v=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=v.redMul(p.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var b=m.fromRed().isOdd();return(h&&!b||!h&&b)&&(m=m.redNeg()),this.point(f,m)},c.prototype.pointFromY=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),v=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=v.redMul(p.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==h&&(m=m.redNeg()),this.point(m,f)},c.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),g=f.y.redSqr(),v=h.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return v.cmp(p)===0},u(d,a.BasePoint),c.prototype.pointFromJSON=function(f){return d.fromJSON(this,f)},c.prototype.point=function(f,h,g,v){return new d(this,f,h,g,v)},d.fromJSON=function(f,h){return new d(f,h[0],h[1],h[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var v=this.curve._mulA(f),p=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),y=v.redAdd(h),m=y.redSub(g),b=v.redSub(h),k=p.redMul(m),N=y.redMul(b),F=p.redMul(b),j=m.redMul(y);return this.curve.point(k,N,j,F)},d.prototype._projDbl=function(){var f,h,g,v,p,y,m=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var N=(v=this.curve._mulA(b)).redAdd(k);this.zOne?(f=m.redSub(b).redSub(k).redMul(N.redSub(this.curve.two)),h=N.redMul(v.redSub(k)),g=N.redSqr().redSub(N).redSub(N)):(p=this.z.redSqr(),y=N.redSub(p).redISub(p),f=m.redSub(b).redISub(k).redMul(y),h=N.redMul(v.redSub(k)),g=N.redMul(y))}else v=b.redAdd(k),p=this.curve._mulC(this.z).redSqr(),y=v.redSub(p).redSub(p),f=this.curve._mulC(m.redISub(v)).redMul(y),h=this.curve._mulC(v).redMul(b.redISub(k)),g=v.redMul(y);return this.curve.point(f,h,g)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),v=this.t.redMul(this.curve.dd).redMul(f.t),p=this.z.redMul(f.z.redAdd(f.z)),y=g.redSub(h),m=p.redSub(v),b=p.redAdd(v),k=g.redAdd(h),N=y.redMul(m),F=b.redMul(k),j=y.redMul(k),T=m.redMul(b);return this.curve.point(N,F,T,j)},d.prototype._projAdd=function(f){var h,g,v=this.z.redMul(f.z),p=v.redSqr(),y=this.x.redMul(f.x),m=this.y.redMul(f.y),b=this.curve.d.redMul(y).redMul(m),k=p.redSub(b),N=p.redAdd(b),F=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(y).redISub(m),j=v.redMul(k).redMul(F);return this.curve.twisted?(h=v.redMul(N).redMul(m.redSub(this.curve._mulA(y))),g=k.redMul(N)):(h=v.redMul(N).redMul(m.redSub(y)),g=this.curve._mulC(k).redMul(N)),this.curve.point(j,h,g)},d.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},d.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!1)},d.prototype.jmulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},d.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=f.clone(),v=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(v),this.x.cmp(h)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var i=s;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var i=e("bn.js"),o=e("inherits"),u=e("./base"),a=e("../utils");function l(d){u.call(this,"mont",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(d,f,h){u.BasePoint.call(this,d,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(l,u),n.exports=l,l.prototype.validate=function(d){var f=d.normalize().x,h=f.redSqr(),g=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},o(c,u.BasePoint),l.prototype.decodePoint=function(d,f){return this.point(a.toArray(d,f),1)},l.prototype.point=function(d,f){return new c(this,d,f)},l.prototype.pointFromJSON=function(d){return c.fromJSON(this,d)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(d,f){return new c(d,f[0],f[1]||d.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=d.redSub(f),g=d.redMul(f),v=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,v)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(d,f){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),v=d.x.redAdd(d.z),p=d.x.redSub(d.z).redMul(h),y=v.redMul(g),m=f.z.redMul(p.redAdd(y).redSqr()),b=f.x.redMul(p.redISub(y).redSqr());return this.curve.point(m,b)},c.prototype.mul=function(d){for(var f=d.clone(),h=this,g=this.curve.point(null,null),v=[];f.cmpn(0)!==0;f.iushrn(1))v.push(f.andln(1));for(var p=v.length-1;p>=0;p--)v[p]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var i=e("../utils"),o=e("bn.js"),u=e("inherits"),a=e("./base"),l=i.assert;function c(h){a.call(this,"short",h),this.a=new o(h.a,16).toRed(this.red),this.b=new o(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(h,g,v,p){a.BasePoint.call(this,h,"affine"),g===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(v,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,g,v,p){a.BasePoint.call(this,h,"jacobian"),g===null&&v===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(v,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(c,a),n.exports=c,c.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,v;if(h.beta)g=new o(h.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(h.lambda)v=new o(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?v=y[0]:(v=y[1],l(this.g.mul(v).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:v,basis:h.basis?h.basis.map(function(m){return{a:new o(m.a,16),b:new o(m.b,16)}}):this._getEndoBasis(v)}}},c.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:o.mont(h),v=new o(2).toRed(g).redInvm(),p=v.redNeg(),y=new o(3).toRed(g).redNeg().redSqrt().redMul(v);return[p.redAdd(y).fromRed(),p.redSub(y).fromRed()]},c.prototype._getEndoBasis=function(h){for(var g,v,p,y,m,b,k,N,F,j=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=h,M=this.n.clone(),B=new o(1),O=new o(0),R=new o(0),E=new o(1),I=0;T.cmpn(0)!==0;){var A=M.div(T);N=M.sub(A.mul(T)),F=R.sub(A.mul(B));var w=E.sub(A.mul(O));if(!p&&N.cmp(j)<0)g=k.neg(),v=B,p=N.neg(),y=F;else if(p&&++I==2)break;k=N,M=T,T=N,R=B,B=F,E=O,O=w}m=N.neg(),b=F;var _=p.sqr().add(y.sqr());return m.sqr().add(b.sqr()).cmp(_)>=0&&(m=g,b=v),p.negative&&(p=p.neg(),y=y.neg()),m.negative&&(m=m.neg(),b=b.neg()),[{a:p,b:y},{a:m,b}]},c.prototype._endoSplit=function(h){var g=this.endo.basis,v=g[0],p=g[1],y=p.b.mul(h).divRound(this.n),m=v.b.neg().mul(h).divRound(this.n),b=y.mul(v.a),k=m.mul(p.a),N=y.mul(v.b),F=m.mul(p.b);return{k1:h.sub(b).sub(k),k2:N.add(F).neg()}},c.prototype.pointFromX=function(h,g){(h=new o(h,16)).red||(h=h.toRed(this.red));var v=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),p=v.redSqrt();if(p.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var y=p.fromRed().isOdd();return(g&&!y||!g&&y)&&(p=p.redNeg()),this.point(h,p)},c.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,v=h.y,p=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return v.redSqr().redISub(y).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(h,g,v){for(var p=this._endoWnafT1,y=this._endoWnafT2,m=0;m<h.length;m++){var b=this._endoSplit(g[m]),k=h[m],N=k._getBeta();b.k1.negative&&(b.k1.ineg(),k=k.neg(!0)),b.k2.negative&&(b.k2.ineg(),N=N.neg(!0)),p[2*m]=k,p[2*m+1]=N,y[2*m]=b.k1,y[2*m+1]=b.k2}for(var F=this._wnafMulAdd(1,p,y,2*m,v),j=0;j<2*m;j++)p[j]=null,y[j]=null;return F},u(d,a.BasePoint),c.prototype.point=function(h,g,v){return new d(this,h,g,v)},c.prototype.pointFromJSON=function(h,g){return d.fromJSON(this,h,g)},d.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var v=this.curve,p=function(y){return v.point(y.x.redMul(v.endo.beta),y.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return g}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(h,g,v){typeof g=="string"&&(g=JSON.parse(g));var p=h.point(g[0],g[1],v);if(!g[2])return p;function y(b){return h.point(b[0],b[1],v)}var m=g[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(y))}},p},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var v=g.redSqr().redISub(this.x).redISub(h.x),p=g.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,p)},d.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,v=this.x.redSqr(),p=h.redInvm(),y=v.redAdd(v).redIAdd(v).redIAdd(g).redMul(p),m=y.redSqr().redISub(this.x.redAdd(this.x)),b=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,b)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(h){return h=new o(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,g,v){var p=[this,g],y=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(p,y):this.curve._wnafMulAdd(1,p,y,2)},d.prototype.jmulAdd=function(h,g,v){var p=[this,g],y=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(p,y,!0):this.curve._wnafMulAdd(1,p,y,2,!0)},d.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},d.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var v=this.precomputed,p=function(y){return y.neg()};g.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(p)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(p)}}}return g},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(f,a.BasePoint),c.prototype.jpoint=function(h,g,v){return new f(this,h,g,v)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),v=this.x.redMul(g),p=this.y.redMul(g).redMul(h);return this.curve.point(v,p)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),v=this.z.redSqr(),p=this.x.redMul(g),y=h.x.redMul(v),m=this.y.redMul(g.redMul(h.z)),b=h.y.redMul(v.redMul(this.z)),k=p.redSub(y),N=m.redSub(b);if(k.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=k.redSqr(),j=F.redMul(k),T=p.redMul(F),M=N.redSqr().redIAdd(j).redISub(T).redISub(T),B=N.redMul(T.redISub(M)).redISub(m.redMul(j)),O=this.z.redMul(h.z).redMul(k);return this.curve.jpoint(M,B,O)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),v=this.x,p=h.x.redMul(g),y=this.y,m=h.y.redMul(g).redMul(this.z),b=v.redSub(p),k=y.redSub(m);if(b.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=b.redSqr(),F=N.redMul(b),j=v.redMul(N),T=k.redSqr().redIAdd(F).redISub(j).redISub(j),M=k.redMul(j.redISub(T)).redISub(y.redMul(F)),B=this.z.redMul(b);return this.curve.jpoint(T,M,B)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var v=this;for(g=0;g<h;g++)v=v.dbl();return v}var p=this.curve.a,y=this.curve.tinv,m=this.x,b=this.y,k=this.z,N=k.redSqr().redSqr(),F=b.redAdd(b);for(g=0;g<h;g++){var j=m.redSqr(),T=F.redSqr(),M=T.redSqr(),B=j.redAdd(j).redIAdd(j).redIAdd(p.redMul(N)),O=m.redMul(T),R=B.redSqr().redISub(O.redAdd(O)),E=O.redISub(R),I=B.redMul(E);I=I.redIAdd(I).redISub(M);var A=F.redMul(k);g+1<h&&(N=N.redMul(M)),m=R,k=A,F=I}return this.curve.jpoint(m,F.redMul(y),k)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,g,v;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var k=p.redAdd(p).redIAdd(p),N=k.redSqr().redISub(b).redISub(b),F=m.redIAdd(m);F=(F=F.redIAdd(F)).redIAdd(F),h=N,g=k.redMul(b.redISub(N)).redISub(F),v=this.y.redAdd(this.y)}else{var j=this.x.redSqr(),T=this.y.redSqr(),M=T.redSqr(),B=this.x.redAdd(T).redSqr().redISub(j).redISub(M);B=B.redIAdd(B);var O=j.redAdd(j).redIAdd(j),R=O.redSqr(),E=M.redIAdd(M);E=(E=E.redIAdd(E)).redIAdd(E),h=R.redISub(B).redISub(B),g=O.redMul(B.redISub(h)).redISub(E),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(h,g,v)},f.prototype._threeDbl=function(){var h,g,v;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var k=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),N=k.redSqr().redISub(b).redISub(b);h=N;var F=m.redIAdd(m);F=(F=F.redIAdd(F)).redIAdd(F),g=k.redMul(b.redISub(N)).redISub(F),v=this.y.redAdd(this.y)}else{var j=this.z.redSqr(),T=this.y.redSqr(),M=this.x.redMul(T),B=this.x.redSub(j).redMul(this.x.redAdd(j));B=B.redAdd(B).redIAdd(B);var O=M.redIAdd(M),R=(O=O.redIAdd(O)).redAdd(O);h=B.redSqr().redISub(R),v=this.y.redAdd(this.z).redSqr().redISub(T).redISub(j);var E=T.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),g=B.redMul(O.redISub(h)).redISub(E)}return this.curve.jpoint(h,g,v)},f.prototype._dbl=function(){var h=this.curve.a,g=this.x,v=this.y,p=this.z,y=p.redSqr().redSqr(),m=g.redSqr(),b=v.redSqr(),k=m.redAdd(m).redIAdd(m).redIAdd(h.redMul(y)),N=g.redAdd(g),F=(N=N.redIAdd(N)).redMul(b),j=k.redSqr().redISub(F.redAdd(F)),T=F.redISub(j),M=b.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var B=k.redMul(T).redISub(M),O=v.redAdd(v).redMul(p);return this.curve.jpoint(j,B,O)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),v=this.z.redSqr(),p=g.redSqr(),y=h.redAdd(h).redIAdd(h),m=y.redSqr(),b=this.x.redAdd(g).redSqr().redISub(h).redISub(p),k=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(m)).redSqr(),N=p.redIAdd(p);N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var F=y.redIAdd(b).redSqr().redISub(m).redISub(k).redISub(N),j=g.redMul(F);j=(j=j.redIAdd(j)).redIAdd(j);var T=this.x.redMul(k).redISub(j);T=(T=T.redIAdd(T)).redIAdd(T);var M=this.y.redMul(F.redMul(N.redISub(F)).redISub(b.redMul(k)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var B=this.z.redAdd(b).redSqr().redISub(v).redISub(k);return this.curve.jpoint(T,M,B)},f.prototype.mul=function(h,g){return h=new o(h,g),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),v=h.z.redSqr();if(this.x.redMul(v).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),y=v.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(p)).cmpn(0)===0},f.prototype.eqXToP=function(h){var g=this.z.redSqr(),v=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(v)===0)return!0;for(var p=h.clone(),y=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(y),this.x.cmp(v)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var i,o=s,u=e("hash.js"),a=e("./curve"),l=e("./utils").assert;function c(f){f.type==="short"?this.curve=new a.short(f):f.type==="edwards"?this.curve=new a.edwards(f):this.curve=new a.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(f,h){Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:function(){var g=new c(h);return Object.defineProperty(o,f,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=c,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var i=e("bn.js"),o=e("hmac-drbg"),u=e("../utils"),a=e("../curves"),l=e("brorand"),c=u.assert,d=e("./key"),f=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(c(Object.prototype.hasOwnProperty.call(a,g),"Unknown curve "+g),g=a[g]),g instanceof a.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new d(this,g)},h.prototype.keyFromPrivate=function(g,v){return d.fromPrivate(this,g,v)},h.prototype.keyFromPublic=function(g,v){return d.fromPublic(this,g,v)},h.prototype.genKeyPair=function(g){g||(g={});for(var v=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),y=this.n.sub(new i(2));;){var m=new i(v.generate(p));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},h.prototype._truncateToN=function(g,v){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!v&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,v,p,y){typeof p=="object"&&(y=p,p=null),y||(y={}),v=this.keyFromPrivate(v,p),g=this._truncateToN(new i(g,16));for(var m=this.n.byteLength(),b=v.getPrivate().toArray("be",m),k=g.toArray("be",m),N=new o({hash:this.hash,entropy:b,nonce:k,pers:y.pers,persEnc:y.persEnc||"utf8"}),F=this.n.sub(new i(1)),j=0;;j++){var T=y.k?y.k(j):new i(N.generate(this.n.byteLength()));if(!((T=this._truncateToN(T,!0)).cmpn(1)<=0||T.cmp(F)>=0)){var M=this.g.mul(T);if(!M.isInfinity()){var B=M.getX(),O=B.umod(this.n);if(O.cmpn(0)!==0){var R=T.invm(this.n).mul(O.mul(v.getPrivate()).iadd(g));if((R=R.umod(this.n)).cmpn(0)!==0){var E=(M.getY().isOdd()?1:0)|(B.cmp(O)!==0?2:0);return y.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),E^=1),new f({r:O,s:R,recoveryParam:E})}}}}}},h.prototype.verify=function(g,v,p,y){g=this._truncateToN(new i(g,16)),p=this.keyFromPublic(p,y);var m=(v=new f(v,"hex")).r,b=v.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var k,N=b.invm(this.n),F=N.mul(g).umod(this.n),j=N.mul(m).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(F,p.getPublic(),j)).isInfinity()&&k.eqXToP(m):!(k=this.g.mulAdd(F,p.getPublic(),j)).isInfinity()&&k.getX().umod(this.n).cmp(m)===0},h.prototype.recoverPubKey=function(g,v,p,y){c((3&p)===p,"The recovery param is more than two bits"),v=new f(v,y);var m=this.n,b=new i(g),k=v.r,N=v.s,F=1&p,j=p>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&j)throw new Error("Unable to find sencond key candinate");k=j?this.curve.pointFromX(k.add(this.curve.n),F):this.curve.pointFromX(k,F);var T=v.r.invm(m),M=m.sub(b).mul(T).umod(m),B=N.mul(T).umod(m);return this.g.mulAdd(M,k,B)},h.prototype.getKeyRecoveryParam=function(g,v,p,y){if((v=new f(v,y)).recoveryParam!==null)return v.recoveryParam;for(var m=0;m<4;m++){var b;try{b=this.recoverPubKey(g,v,m)}catch{continue}if(b.eq(p))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var i=e("bn.js"),o=e("../utils").assert;function u(a,l){this.ec=a,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}n.exports=u,u.fromPublic=function(a,l,c){return l instanceof u?l:new u(a,{pub:l,pubEnc:c})},u.fromPrivate=function(a,l,c){return l instanceof u?l:new u(a,{priv:l,privEnc:c})},u.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(a,l){return typeof a=="string"&&(l=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,a):this.pub},u.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(a,l){this.priv=new i(a,l||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(a,l){if(a.x||a.y)return this.ec.curve.type==="mont"?o(a.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(a.x&&a.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(a.x,a.y));this.pub=this.ec.curve.decodePoint(a,l)},u.prototype.derive=function(a){return a.validate()||o(a.validate(),"public point not validated"),a.mul(this.priv).getX()},u.prototype.sign=function(a,l,c){return this.ec.sign(a,this,l,c)},u.prototype.verify=function(a,l){return this.ec.verify(a,l,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var i=e("bn.js"),o=e("../utils"),u=o.assert;function a(h,g){if(h instanceof a)return h;this._importDER(h,g)||(u(h.r&&h.s,"Signature without r or s"),this.r=new i(h.r,16),this.s=new i(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function l(){this.place=0}function c(h,g){var v=h[g.place++];if(!(128&v))return v;var p=15&v;if(p===0||p>4)return!1;for(var y=0,m=0,b=g.place;m<p;m++,b++)y<<=8,y|=h[b],y>>>=0;return!(y<=127)&&(g.place=b,y)}function d(h){for(var g=0,v=h.length-1;!h[g]&&!(128&h[g+1])&&g<v;)g++;return g===0?h:h.slice(g)}function f(h,g){if(g<128)h.push(g);else{var v=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|v);--v;)h.push(g>>>(v<<3)&255);h.push(g)}}n.exports=a,a.prototype._importDER=function(h,g){h=o.toArray(h,g);var v=new l;if(h[v.place++]!==48)return!1;var p=c(h,v);if(p===!1||p+v.place!==h.length||h[v.place++]!==2)return!1;var y=c(h,v);if(y===!1)return!1;var m=h.slice(v.place,y+v.place);if(v.place+=y,h[v.place++]!==2)return!1;var b=c(h,v);if(b===!1||h.length!==b+v.place)return!1;var k=h.slice(v.place,b+v.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new i(m),this.s=new i(k),this.recoveryParam=null,!0},a.prototype.toDER=function(h){var g=this.r.toArray(),v=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&v[0]&&(v=[0].concat(v)),g=d(g),v=d(v);!(v[0]||128&v[1]);)v=v.slice(1);var p=[2];f(p,g.length),(p=p.concat(g)).push(2),f(p,v.length);var y=p.concat(v),m=[48];return f(m,y.length),m=m.concat(y),o.encode(m,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var i=e("hash.js"),o=e("../curves"),u=e("../utils"),a=u.assert,l=u.parseBytes,c=e("./key"),d=e("./signature");function f(h){if(a(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=o[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=i.sha512}n.exports=f,f.prototype.sign=function(h,g){h=l(h);var v=this.keyFromSecret(g),p=this.hashInt(v.messagePrefix(),h),y=this.g.mul(p),m=this.encodePoint(y),b=this.hashInt(m,v.pubBytes(),h).mul(v.priv()),k=p.add(b).umod(this.curve.n);return this.makeSignature({R:y,S:k,Rencoded:m})},f.prototype.verify=function(h,g,v){h=l(h),g=this.makeSignature(g);var p=this.keyFromPublic(v),y=this.hashInt(g.Rencoded(),p.pubBytes(),h),m=this.g.mul(g.S());return g.R().add(p.pub().mul(y)).eq(m)},f.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return u.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return c.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return c.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof d?h:new d(this,h)},f.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(h){var g=(h=u.parseBytes(h)).length-1,v=h.slice(0,g).concat(-129&h[g]),p=(128&h[g])!=0,y=u.intFromLE(v);return this.curve.pointFromY(y,p)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return u.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var i=e("../utils"),o=i.assert,u=i.parseBytes,a=i.cachedProperty;function l(c,d){this.eddsa=c,this._secret=u(d.secret),c.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=u(d.pub)}l.fromPublic=function(c,d){return d instanceof l?d:new l(c,{pub:d})},l.fromSecret=function(c,d){return d instanceof l?d:new l(c,{secret:d})},l.prototype.secret=function(){return this._secret},a(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(l,"privBytes",function(){var c=this.eddsa,d=this.hash(),f=c.encodingLength-1,h=d.slice(0,c.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h}),a(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(c){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},l.prototype.verify=function(c,d){return this.eddsa.verify(c,d,this)},l.prototype.getSecret=function(c){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),c)},l.prototype.getPublic=function(c){return i.encode(this.pubBytes(),c)},n.exports=l},{"../utils":419}],417:[function(e,n,s){var i=e("bn.js"),o=e("../utils"),u=o.assert,a=o.cachedProperty,l=o.parseBytes;function c(d,f){this.eddsa=d,typeof f!="object"&&(f=l(f)),Array.isArray(f)&&(f={R:f.slice(0,d.encodingLength),S:f.slice(d.encodingLength)}),u(f.R&&f.S,"Signature without R or S"),d.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}a(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var i=s,o=e("bn.js"),u=e("minimalistic-assert"),a=e("minimalistic-crypto-utils");i.assert=u,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function(l,c,d){var f=new Array(Math.max(l.bitLength(),d)+1);f.fill(0);for(var h=1<<c+1,g=l.clone(),v=0;v<f.length;v++){var p,y=g.andln(h-1);g.isOdd()?(p=y>(h>>1)-1?(h>>1)-y:y,g.isubn(p)):p=0,f[v]=p,g.iushrn(1)}return f},i.getJSF=function(l,c){var d=[[],[]];l=l.clone(),c=c.clone();for(var f,h=0,g=0;l.cmpn(-h)>0||c.cmpn(-g)>0;){var v,p,y=l.andln(3)+h&3,m=c.andln(3)+g&3;y===3&&(y=-1),m===3&&(m=-1),v=1&y?(f=l.andln(7)+h&7)!==3&&f!==5||m!==2?y:-y:0,d[0].push(v),p=1&m?(f=c.andln(7)+g&7)!==3&&f!==5||y!==2?m:-m:0,d[1].push(p),2*h===v+1&&(h=1-h),2*g===p+1&&(g=1-g),l.iushrn(1),c.iushrn(1)}return d},i.cachedProperty=function(l,c,d){var f="_"+c;l.prototype[c]=function(){return this[f]!==void 0?this[f]:this[f]=d.call(this)}},i.parseBytes=function(l){return typeof l=="string"?i.toArray(l,"hex"):l},i.intFromLE=function(l){return new o(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var i=Object.create||function(T){var M=function(){};return M.prototype=T,new M},o=Object.keys||function(T){var M=[];for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&M.push(B);return B},u=Function.prototype.bind||function(T){var M=this;return function(){return M.apply(T,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var l,c=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),l=d.x===0}catch{l=!1}function f(T){return T._maxListeners===void 0?a.defaultMaxListeners:T._maxListeners}function h(T,M,B){if(M)T.call(B);else for(var O=T.length,R=j(T,O),E=0;E<O;++E)R[E].call(B)}function g(T,M,B,O){if(M)T.call(B,O);else for(var R=T.length,E=j(T,R),I=0;I<R;++I)E[I].call(B,O)}function v(T,M,B,O,R){if(M)T.call(B,O,R);else for(var E=T.length,I=j(T,E),A=0;A<E;++A)I[A].call(B,O,R)}function p(T,M,B,O,R,E){if(M)T.call(B,O,R,E);else for(var I=T.length,A=j(T,I),w=0;w<I;++w)A[w].call(B,O,R,E)}function y(T,M,B,O){if(M)T.apply(B,O);else for(var R=T.length,E=j(T,R),I=0;I<R;++I)E[I].apply(B,O)}function m(T,M,B,O){var R,E,I;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if((E=T._events)?(E.newListener&&(T.emit("newListener",M,B.listener?B.listener:B),E=T._events),I=E[M]):(E=T._events=i(null),T._eventsCount=0),I){if(typeof I=="function"?I=E[M]=O?[B,I]:[I,B]:O?I.unshift(B):I.push(B),!I.warned&&(R=f(T))&&R>0&&I.length>R){I.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=T,A.type=M,A.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else I=E[M]=B,++T._eventsCount;return T}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),M=0;M<T.length;++M)T[M]=arguments[M];this.listener.apply(this.target,T)}}function k(T,M,B){var O={fired:!1,wrapFn:void 0,target:T,type:M,listener:B},R=u.call(b,O);return R.listener=B,O.wrapFn=R,R}function N(T,M,B){var O=T._events;if(!O)return[];var R=O[M];return R?typeof R=="function"?B?[R.listener||R]:[R]:B?function(E){for(var I=new Array(E.length),A=0;A<I.length;++A)I[A]=E[A].listener||E[A];return I}(R):j(R,R.length):[]}function F(T){var M=this._events;if(M){var B=M[T];if(typeof B=="function")return 1;if(B)return B.length}return 0}function j(T,M){for(var B=new Array(M),O=0;O<M;++O)B[O]=T[O];return B}l?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(T){if(typeof T!="number"||T<0||T!=T)throw new TypeError('"defaultMaxListeners" must be a positive number');c=T}}):a.defaultMaxListeners=c,a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||isNaN(T))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=T,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(T){var M,B,O,R,E,I,A=T==="error";if(I=this._events)A=A&&I.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(M=arguments[1]),M instanceof Error)throw M;var w=new Error('Unhandled "error" event. ('+M+")");throw w.context=M,w}if(!(B=I[T]))return!1;var _=typeof B=="function";switch(O=arguments.length){case 1:h(B,_,this);break;case 2:g(B,_,this,arguments[1]);break;case 3:v(B,_,this,arguments[1],arguments[2]);break;case 4:p(B,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(R=new Array(O-1),E=1;E<O;E++)R[E-1]=arguments[E];y(B,_,this,R)}return!0},a.prototype.addListener=function(T,M){return m(this,T,M,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,M){return m(this,T,M,!0)},a.prototype.once=function(T,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.on(T,k(this,T,M)),this},a.prototype.prependOnceListener=function(T,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(T,k(this,T,M)),this},a.prototype.removeListener=function(T,M){var B,O,R,E,I;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if(!(O=this._events))return this;if(!(B=O[T]))return this;if(B===M||B.listener===M)--this._eventsCount==0?this._events=i(null):(delete O[T],O.removeListener&&this.emit("removeListener",T,B.listener||M));else if(typeof B!="function"){for(R=-1,E=B.length-1;E>=0;E--)if(B[E]===M||B[E].listener===M){I=B[E].listener,R=E;break}if(R<0)return this;R===0?B.shift():function(A,w){for(var _=w,x=_+1,S=A.length;x<S;_+=1,x+=1)A[_]=A[x];A.pop()}(B,R),B.length===1&&(O[T]=B[0]),O.removeListener&&this.emit("removeListener",T,I||M)}return this},a.prototype.removeAllListeners=function(T){var M,B,O;if(!(B=this._events))return this;if(!B.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):B[T]&&(--this._eventsCount==0?this._events=i(null):delete B[T]),this;if(arguments.length===0){var R,E=o(B);for(O=0;O<E.length;++O)(R=E[O])!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(M=B[T])=="function")this.removeListener(T,M);else if(M)for(O=M.length-1;O>=0;O--)this.removeListener(T,M[O]);return this},a.prototype.listeners=function(T){return N(this,T,!0)},a.prototype.rawListeners=function(T){return N(this,T,!1)},a.listenerCount=function(T,M){return typeof T.listenerCount=="function"?T.listenerCount(M):F.call(T,M)},a.prototype.listenerCount=F,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("md5.js");n.exports=function(u,a,l,c){if(i.isBuffer(u)||(u=i.from(u,"binary")),a&&(i.isBuffer(a)||(a=i.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=l/8,f=i.alloc(d),h=i.alloc(c||0),g=i.alloc(0);d>0||c>0;){var v=new o;v.update(g),v.update(u),a&&v.update(a),g=v.digest();var p=0;if(d>0){var y=f.length-d;p=Math.min(d,g.length),g.copy(f,y,0,p),d-=p}if(p<g.length&&c>0){var m=h.length-c,b=Math.min(c,g.length-p);g.copy(h,m,p,p+b),c-=b}}return g.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function u(a){o.call(this),this._block=i.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(u,o),u.prototype._transform=function(a,l,c){var d=null;try{this.update(a,l)}catch(f){d=f}c(d)},u.prototype._flush=function(a){var l=null;try{this.push(this.digest())}catch(c){l=c}a(l)},u.prototype.update=function(a,l){if(function(v,p){if(!i.isBuffer(v)&&typeof v!="string")throw new TypeError(p+" must be a string or a buffer")}(a,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(a)||(a=i.from(a,l));for(var c=this._block,d=0;this._blockOffset+a.length-d>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)c[f++]=a[d++];this._update(),this._blockOffset=0}for(;d<a.length;)c[this._blockOffset++]=a[d++];for(var h=0,g=8*a.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();a!==void 0&&(l=l.toString(a)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return l},u.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var i=s;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var i=e("./utils"),o=e("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=u,u.prototype.update=function(a,l){if(a=i.toArray(a,l),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var c=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-c,a.length),this.pending.length===0&&(this.pending=null),a=i.join32(a,0,a.length-c,this.endian);for(var d=0;d<a.length;d+=this._delta32)this._update(a,d,d+this._delta32)}return this},u.prototype.digest=function(a){return this.update(this._pad()),o(this.pending===null),this._digest(a)},u.prototype._pad=function(){var a=this.pendingTotal,l=this._delta8,c=l-(a+this.padLength)%l,d=new Array(c+this.padLength);d[0]=128;for(var f=1;f<c;f++)d[f]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)d[f++]=0;d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=a>>>24&255,d[f++]=a>>>16&255,d[f++]=a>>>8&255,d[f++]=255&a}else for(d[f++]=255&a,d[f++]=a>>>8&255,d[f++]=a>>>16&255,d[f++]=a>>>24&255,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,h=8;h<this.padLength;h++)d[f++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var i=e("./utils"),o=e("minimalistic-assert");function u(a,l,c){if(!(this instanceof u))return new u(a,l,c);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(l,c))}n.exports=u,u.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),o(a.length<=this.blockSize);for(var l=a.length;l<this.blockSize;l++)a.push(0);for(l=0;l<a.length;l++)a[l]^=54;for(this.inner=new this.Hash().update(a),l=0;l<a.length;l++)a[l]^=106;this.outer=new this.Hash().update(a)},u.prototype.update=function(a,l){return this.inner.update(a,l),this},u.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var i=e("./utils"),o=e("./common"),u=i.rotl32,a=i.sum32,l=i.sum32_3,c=i.sum32_4,d=o.BlockHash;function f(){if(!(this instanceof f))return new f;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(k,N,F,j){return k<=15?N^F^j:k<=31?N&F|~N&j:k<=47?(N|~F)^j:k<=63?N&j|F&~j:N^(F|~j)}function g(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function v(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}i.inherits(f,d),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(k,N){for(var F=this.h[0],j=this.h[1],T=this.h[2],M=this.h[3],B=this.h[4],O=F,R=j,E=T,I=M,A=B,w=0;w<80;w++){var _=a(u(c(F,h(w,j,T,M),k[p[w]+N],g(w)),m[w]),B);F=B,B=M,M=u(T,10),T=j,j=_,_=a(u(c(O,h(79-w,R,E,I),k[y[w]+N],v(w)),b[w]),A),O=A,A=I,I=u(E,10),E=R,R=_}_=l(this.h[1],T,I),this.h[1]=l(this.h[2],M,A),this.h[2]=l(this.h[3],B,O),this.h[3]=l(this.h[4],F,R),this.h[4]=l(this.h[0],j,E),this.h[0]=_},f.prototype._digest=function(k){return k==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var i=e("../utils"),o=e("../common"),u=e("./common"),a=i.rotl32,l=i.sum32,c=i.sum32_5,d=u.ft_1,f=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(v,p){for(var y=this.W,m=0;m<16;m++)y[m]=v[p+m];for(;m<y.length;m++)y[m]=a(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var b=this.h[0],k=this.h[1],N=this.h[2],F=this.h[3],j=this.h[4];for(m=0;m<y.length;m++){var T=~~(m/20),M=c(a(b,5),d(T,k,N,F),j,y[m],h[T]);j=F,F=N,N=a(k,30),k=b,b=M}this.h[0]=l(this.h[0],b),this.h[1]=l(this.h[1],k),this.h[2]=l(this.h[2],N),this.h[3]=l(this.h[3],F),this.h[4]=l(this.h[4],j)},g.prototype._digest=function(v){return v==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var i=e("../utils"),o=e("./256");function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(u,o),n.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(a){return a==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var i=e("../utils"),o=e("../common"),u=e("./common"),a=e("minimalistic-assert"),l=i.sum32,c=i.sum32_4,d=i.sum32_5,f=u.ch32,h=u.maj32,g=u.s0_256,v=u.s1_256,p=u.g0_256,y=u.g1_256,m=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}i.inherits(k,m),n.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(N,F){for(var j=this.W,T=0;T<16;T++)j[T]=N[F+T];for(;T<j.length;T++)j[T]=c(y(j[T-2]),j[T-7],p(j[T-15]),j[T-16]);var M=this.h[0],B=this.h[1],O=this.h[2],R=this.h[3],E=this.h[4],I=this.h[5],A=this.h[6],w=this.h[7];for(a(this.k.length===j.length),T=0;T<j.length;T++){var _=d(w,v(E),f(E,I,A),this.k[T],j[T]),x=l(g(M),h(M,B,O));w=A,A=I,I=E,E=l(R,_),R=O,O=B,B=M,M=l(_,x)}this.h[0]=l(this.h[0],M),this.h[1]=l(this.h[1],B),this.h[2]=l(this.h[2],O),this.h[3]=l(this.h[3],R),this.h[4]=l(this.h[4],E),this.h[5]=l(this.h[5],I),this.h[6]=l(this.h[6],A),this.h[7]=l(this.h[7],w)},k.prototype._digest=function(N){return N==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var i=e("../utils"),o=e("./512");function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(u,o),n.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(a){return a==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var i=e("../utils"),o=e("../common"),u=e("minimalistic-assert"),a=i.rotr64_hi,l=i.rotr64_lo,c=i.shr64_hi,d=i.shr64_lo,f=i.sum64,h=i.sum64_hi,g=i.sum64_lo,v=i.sum64_4_hi,p=i.sum64_4_lo,y=i.sum64_5_hi,m=i.sum64_5_lo,b=o.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function F(x,S,C,q,P){var H=x&C^~x&P;return H<0&&(H+=4294967296),H}function j(x,S,C,q,P,H){var X=S&q^~S&H;return X<0&&(X+=4294967296),X}function T(x,S,C,q,P){var H=x&C^x&P^C&P;return H<0&&(H+=4294967296),H}function M(x,S,C,q,P,H){var X=S&q^S&H^q&H;return X<0&&(X+=4294967296),X}function B(x,S){var C=a(x,S,28)^a(S,x,2)^a(S,x,7);return C<0&&(C+=4294967296),C}function O(x,S){var C=l(x,S,28)^l(S,x,2)^l(S,x,7);return C<0&&(C+=4294967296),C}function R(x,S){var C=a(x,S,14)^a(x,S,18)^a(S,x,9);return C<0&&(C+=4294967296),C}function E(x,S){var C=l(x,S,14)^l(x,S,18)^l(S,x,9);return C<0&&(C+=4294967296),C}function I(x,S){var C=a(x,S,1)^a(x,S,8)^c(x,S,7);return C<0&&(C+=4294967296),C}function A(x,S){var C=l(x,S,1)^l(x,S,8)^d(x,S,7);return C<0&&(C+=4294967296),C}function w(x,S){var C=a(x,S,19)^a(S,x,29)^c(x,S,6);return C<0&&(C+=4294967296),C}function _(x,S){var C=l(x,S,19)^l(S,x,29)^d(x,S,6);return C<0&&(C+=4294967296),C}i.inherits(N,b),n.exports=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(x,S){for(var C=this.W,q=0;q<32;q++)C[q]=x[S+q];for(;q<C.length;q+=2){var P=w(C[q-4],C[q-3]),H=_(C[q-4],C[q-3]),X=C[q-14],Z=C[q-13],V=I(C[q-30],C[q-29]),Q=A(C[q-30],C[q-29]),z=C[q-32],D=C[q-31];C[q]=v(P,H,X,Z,V,Q,z,D),C[q+1]=p(P,H,X,Z,V,Q,z,D)}},N.prototype._update=function(x,S){this._prepareBlock(x,S);var C=this.W,q=this.h[0],P=this.h[1],H=this.h[2],X=this.h[3],Z=this.h[4],V=this.h[5],Q=this.h[6],z=this.h[7],D=this.h[8],W=this.h[9],ee=this.h[10],oe=this.h[11],ie=this.h[12],ae=this.h[13],le=this.h[14],ne=this.h[15];u(this.k.length===C.length);for(var se=0;se<C.length;se+=2){var ye=le,me=ne,we=R(D,W),_e=E(D,W),Se=F(D,W,ee,oe,ie),Te=j(D,W,ee,oe,ie,ae),je=this.k[se],Ue=this.k[se+1],qe=C[se],We=C[se+1],Ke=y(ye,me,we,_e,Se,Te,je,Ue,qe,We),rt=m(ye,me,we,_e,Se,Te,je,Ue,qe,We);ye=B(q,P),me=O(q,P),we=T(q,P,H,X,Z),_e=M(q,P,H,X,Z,V);var ut=h(ye,me,we,_e),He=g(ye,me,we,_e);le=ie,ne=ae,ie=ee,ae=oe,ee=D,oe=W,D=h(Q,z,Ke,rt),W=g(z,z,Ke,rt),Q=Z,z=V,Z=H,V=X,H=q,X=P,q=h(Ke,rt,ut,He),P=g(Ke,rt,ut,He)}f(this.h,0,q,P),f(this.h,2,H,X),f(this.h,4,Z,V),f(this.h,6,Q,z),f(this.h,8,D,W),f(this.h,10,ee,oe),f(this.h,12,ie,ae),f(this.h,14,le,ne)},N.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var i=e("../utils").rotr32;function o(l,c,d){return l&c^~l&d}function u(l,c,d){return l&c^l&d^c&d}function a(l,c,d){return l^c^d}s.ft_1=function(l,c,d,f){return l===0?o(c,d,f):l===1||l===3?a(c,d,f):l===2?u(c,d,f):void 0},s.ch32=o,s.maj32=u,s.p32=a,s.s0_256=function(l){return i(l,2)^i(l,13)^i(l,22)},s.s1_256=function(l){return i(l,6)^i(l,11)^i(l,25)},s.g0_256=function(l){return i(l,7)^i(l,18)^l>>>3},s.g1_256=function(l){return i(l,17)^i(l,19)^l>>>10}},{"../utils":437}],437:[function(e,n,s){var i=e("minimalistic-assert"),o=e("inherits");function u(d,f){return(64512&d.charCodeAt(f))==55296&&!(f<0||f+1>=d.length)&&(64512&d.charCodeAt(f+1))==56320}function a(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function l(d){return d.length===1?"0"+d:d}function c(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}s.inherits=o,s.toArray=function(d,f){if(Array.isArray(d))return d.slice();if(!d)return[];var h=[];if(typeof d=="string")if(f){if(f==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),v=0;v<d.length;v+=2)h.push(parseInt(d[v]+d[v+1],16))}else for(var g=0,v=0;v<d.length;v++){var p=d.charCodeAt(v);p<128?h[g++]=p:p<2048?(h[g++]=p>>6|192,h[g++]=63&p|128):u(d,v)?(p=65536+((1023&p)<<10)+(1023&d.charCodeAt(++v)),h[g++]=p>>18|240,h[g++]=p>>12&63|128,h[g++]=p>>6&63|128,h[g++]=63&p|128):(h[g++]=p>>12|224,h[g++]=p>>6&63|128,h[g++]=63&p|128)}else for(v=0;v<d.length;v++)h[v]=0|d[v];return h},s.toHex=function(d){for(var f="",h=0;h<d.length;h++)f+=l(d[h].toString(16));return f},s.htonl=a,s.toHex32=function(d,f){for(var h="",g=0;g<d.length;g++){var v=d[g];f==="little"&&(v=a(v)),h+=c(v.toString(16))}return h},s.zero2=l,s.zero8=c,s.join32=function(d,f,h,g){var v=h-f;i(v%4==0);for(var p=new Array(v/4),y=0,m=f;y<p.length;y++,m+=4){var b;b=g==="big"?d[m]<<24|d[m+1]<<16|d[m+2]<<8|d[m+3]:d[m+3]<<24|d[m+2]<<16|d[m+1]<<8|d[m],p[y]=b>>>0}return p},s.split32=function(d,f){for(var h=new Array(4*d.length),g=0,v=0;g<d.length;g++,v+=4){var p=d[g];f==="big"?(h[v]=p>>>24,h[v+1]=p>>>16&255,h[v+2]=p>>>8&255,h[v+3]=255&p):(h[v+3]=p>>>24,h[v+2]=p>>>16&255,h[v+1]=p>>>8&255,h[v]=255&p)}return h},s.rotr32=function(d,f){return d>>>f|d<<32-f},s.rotl32=function(d,f){return d<<f|d>>>32-f},s.sum32=function(d,f){return d+f>>>0},s.sum32_3=function(d,f,h){return d+f+h>>>0},s.sum32_4=function(d,f,h,g){return d+f+h+g>>>0},s.sum32_5=function(d,f,h,g,v){return d+f+h+g+v>>>0},s.sum64=function(d,f,h,g){var v=d[f],p=g+d[f+1]>>>0,y=(p<g?1:0)+h+v;d[f]=y>>>0,d[f+1]=p},s.sum64_hi=function(d,f,h,g){return(f+g>>>0<f?1:0)+d+h>>>0},s.sum64_lo=function(d,f,h,g){return f+g>>>0},s.sum64_4_hi=function(d,f,h,g,v,p,y,m){var b=0,k=f;return b+=(k=k+g>>>0)<f?1:0,b+=(k=k+p>>>0)<p?1:0,d+h+v+y+(b+=(k=k+m>>>0)<m?1:0)>>>0},s.sum64_4_lo=function(d,f,h,g,v,p,y,m){return f+g+p+m>>>0},s.sum64_5_hi=function(d,f,h,g,v,p,y,m,b,k){var N=0,F=f;return N+=(F=F+g>>>0)<f?1:0,N+=(F=F+p>>>0)<p?1:0,N+=(F=F+m>>>0)<m?1:0,d+h+v+y+b+(N+=(F=F+k>>>0)<k?1:0)>>>0},s.sum64_5_lo=function(d,f,h,g,v,p,y,m,b,k){return f+g+p+m+k>>>0},s.rotr64_hi=function(d,f,h){return(f<<32-h|d>>>h)>>>0},s.rotr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0},s.shr64_hi=function(d,f,h){return d>>>h},s.shr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var i=e("hash.js"),o=e("minimalistic-crypto-utils"),u=e("minimalistic-assert");function a(l){if(!(this instanceof a))return new a(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=o.toArray(l.entropy,l.entropyEnc||"hex"),d=o.toArray(l.nonce,l.nonceEnc||"hex"),f=o.toArray(l.pers,l.persEnc||"hex");u(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,d,f)}n.exports=a,a.prototype._init=function(l,c,d){var f=l.concat(c).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(l){var c=this._hmac().update(this.V).update([0]);l&&(c=c.update(l)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(l,c,d,f){typeof c!="string"&&(f=d,d=c,c=null),l=o.toArray(l,c),d=o.toArray(d,f),u(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(d||[])),this._reseed=1},a.prototype.generate=function(l,c,d,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(f=d,d=c,c=null),d&&(d=o.toArray(d,f||"hex"),this._update(d));for(var h=[];h.length<l;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,l);return this._update(d),this._reseed++,o.encode(g,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,o,u,a,l){var c,d,f=8*l-a-1,h=(1<<f)-1,g=h>>1,v=-7,p=u?l-1:0,y=u?-1:1,m=i[o+p];for(p+=y,c=m&(1<<-v)-1,m>>=-v,v+=f;v>0;c=256*c+i[o+p],p+=y,v-=8);for(d=c&(1<<-v)-1,c>>=-v,v+=a;v>0;d=256*d+i[o+p],p+=y,v-=8);if(c===0)c=1-g;else{if(c===h)return d?NaN:1/0*(m?-1:1);d+=Math.pow(2,a),c-=g}return(m?-1:1)*d*Math.pow(2,c-a)},s.write=function(i,o,u,a,l,c){var d,f,h,g=8*c-l-1,v=(1<<g)-1,p=v>>1,y=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:c-1,b=a?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,d=v):(d=Math.floor(Math.log(o)/Math.LN2),o*(h=Math.pow(2,-d))<1&&(d--,h*=2),(o+=d+p>=1?y/h:y*Math.pow(2,1-p))*h>=2&&(d++,h/=2),d+p>=v?(f=0,d=v):d+p>=1?(f=(o*h-1)*Math.pow(2,l),d+=p):(f=o*Math.pow(2,p-1)*Math.pow(2,l),d=0));l>=8;i[u+m]=255&f,m+=b,f/=256,l-=8);for(d=d<<l|f,g+=l;g>0;i[u+m]=255&d,m+=b,d/=256,g-=8);i[u+m-b]|=128*k}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,o){if(o){i.super_=o;var u=function(){};u.prototype=o.prototype,i.prototype=new u,i.prototype.constructor=i}}},{}],441:[function(e,n,s){(function(i,o,u,a,l,c,d,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof s=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(g,v,p){function y(k,N){if(!v[k]){if(!g[k]){var F=typeof e=="function"&&e;if(!N&&F)return F(k,!0);if(m)return m(k,!0);var j=new Error("Cannot find module '"+k+"'");throw j.code="MODULE_NOT_FOUND",j}var T=v[k]={exports:{}};g[k][0].call(T.exports,function(M){return y(g[k][1][M]||M)},T,T.exports,h,g,v,p)}return v[k].exports}for(var m=typeof e=="function"&&e,b=0;b<p.length;b++)y(p[b]);return y}({1:[function(h,g,v){var p=h("./utils"),y=h("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(b){for(var k,N,F,j,T,M,B,O=[],R=0,E=b.length,I=E,A=p.getTypeOf(b)!=="string";R<b.length;)I=E-R,F=A?(k=b[R++],N=R<E?b[R++]:0,R<E?b[R++]:0):(k=b.charCodeAt(R++),N=R<E?b.charCodeAt(R++):0,R<E?b.charCodeAt(R++):0),j=k>>2,T=(3&k)<<4|N>>4,M=1<I?(15&N)<<2|F>>6:64,B=2<I?63&F:64,O.push(m.charAt(j)+m.charAt(T)+m.charAt(M)+m.charAt(B));return O.join("")},v.decode=function(b){var k,N,F,j,T,M,B=0,O=0,R="data:";if(b.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var E,I=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===m.charAt(64)&&I--,b.charAt(b.length-2)===m.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=y.uint8array?new Uint8Array(0|I):new Array(0|I);B<b.length;)k=m.indexOf(b.charAt(B++))<<2|(j=m.indexOf(b.charAt(B++)))>>4,N=(15&j)<<4|(T=m.indexOf(b.charAt(B++)))>>2,F=(3&T)<<6|(M=m.indexOf(b.charAt(B++))),E[O++]=k,T!==64&&(E[O++]=N),M!==64&&(E[O++]=F);return E}},{"./support":30,"./utils":32}],2:[function(h,g,v){var p=h("./external"),y=h("./stream/DataWorker"),m=h("./stream/Crc32Probe"),b=h("./stream/DataLengthProbe");function k(N,F,j,T,M){this.compressedSize=N,this.uncompressedSize=F,this.crc32=j,this.compression=T,this.compressedContent=M}k.prototype={getContentWorker:function(){var N=new y(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),F=this;return N.on("end",function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),N},getCompressedWorker:function(){return new y(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(N,F,j){return N.pipe(new m).pipe(new b("uncompressedSize")).pipe(F.compressWorker(j)).pipe(new b("compressedSize")).withStreamInfo("compression",F)},g.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,v){var p=h("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},v.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,v){var p=h("./utils"),y=function(){for(var m,b=[],k=0;k<256;k++){m=k;for(var N=0;N<8;N++)m=1&m?3988292384^m>>>1:m>>>1;b[k]=m}return b}();g.exports=function(m,b){return m!==void 0&&m.length?p.getTypeOf(m)!=="string"?function(k,N,F,j){var T=y,M=0+F;k^=-1;for(var B=0;B<M;B++)k=k>>>8^T[255&(k^N[B])];return-1^k}(0|b,m,m.length):function(k,N,F,j){var T=y,M=0+F;k^=-1;for(var B=0;B<M;B++)k=k>>>8^T[255&(k^N.charCodeAt(B))];return-1^k}(0|b,m,m.length):0}},{"./utils":32}],5:[function(h,g,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(h,g,v){var p;p=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:p}},{lie:37}],7:[function(h,g,v){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=h("pako"),m=h("./utils"),b=h("./stream/GenericWorker"),k=p?"uint8array":"array";function N(F,j){b.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=j,this.meta={}}v.magic="\b\0",m.inherits(N,b),N.prototype.processChunk=function(F){this.meta=F.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(k,F.data),!1)},N.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},N.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},N.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(j){F.push({data:j,meta:F.meta})}},v.compressWorker=function(F){return new N("Deflate",F)},v.uncompressWorker=function(){return new N("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,v){function p(T,M){var B,O="";for(B=0;B<M;B++)O+=String.fromCharCode(255&T),T>>>=8;return O}function y(T,M,B,O,R,E){var I,A,w=T.file,_=T.compression,x=E!==k.utf8encode,S=m.transformTo("string",E(w.name)),C=m.transformTo("string",k.utf8encode(w.name)),q=w.comment,P=m.transformTo("string",E(q)),H=m.transformTo("string",k.utf8encode(q)),X=C.length!==w.name.length,Z=H.length!==q.length,V="",Q="",z="",D=w.dir,W=w.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};M&&!B||(ee.crc32=T.crc32,ee.compressedSize=T.compressedSize,ee.uncompressedSize=T.uncompressedSize);var oe=0;M&&(oe|=8),x||!X&&!Z||(oe|=2048);var ie=0,ae=0;D&&(ie|=16),R==="UNIX"?(ae=798,ie|=function(ne,se){var ye=ne;return ne||(ye=se?16893:33204),(65535&ye)<<16}(w.unixPermissions,D)):(ae=20,ie|=function(ne){return 63&(ne||0)}(w.dosPermissions)),I=W.getUTCHours(),I<<=6,I|=W.getUTCMinutes(),I<<=5,I|=W.getUTCSeconds()/2,A=W.getUTCFullYear()-1980,A<<=4,A|=W.getUTCMonth()+1,A<<=5,A|=W.getUTCDate(),X&&(Q=p(1,1)+p(N(S),4)+C,V+="up"+p(Q.length,2)+Q),Z&&(z=p(1,1)+p(N(P),4)+H,V+="uc"+p(z.length,2)+z);var le="";return le+=`
\0`,le+=p(oe,2),le+=_.magic,le+=p(I,2),le+=p(A,2),le+=p(ee.crc32,4),le+=p(ee.compressedSize,4),le+=p(ee.uncompressedSize,4),le+=p(S.length,2),le+=p(V.length,2),{fileRecord:F.LOCAL_FILE_HEADER+le+S+V,dirRecord:F.CENTRAL_FILE_HEADER+p(ae,2)+le+p(P.length,2)+"\0\0\0\0"+p(ie,4)+p(O,4)+S+V+P}}var m=h("../utils"),b=h("../stream/GenericWorker"),k=h("../utf8"),N=h("../crc32"),F=h("../signature");function j(T,M,B,O){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=B,this.encodeFileName=O,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(j,b),j.prototype.push=function(T){var M=T.meta.percent||0,B=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,b.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:B?(M+100*(B-O-1))/B:100}}))},j.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var M=this.streamFiles&&!T.file.dir;if(M){var B=y(T,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},j.prototype.closedSource=function(T){this.accumulate=!1;var M=this.streamFiles&&!T.file.dir,B=y(T,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),M)this.push({data:function(O){return F.DATA_DESCRIPTOR+p(O.crc32,4)+p(O.compressedSize,4)+p(O.uncompressedSize,4)}(T),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},j.prototype.flush=function(){for(var T=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var B=this.bytesWritten-T,O=function(R,E,I,A,w){var _=m.transformTo("string",w(A));return F.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(R,2)+p(R,2)+p(E,4)+p(I,4)+p(_.length,2)+_}(this.dirRecords.length,B,T,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},j.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},j.prototype.registerPrevious=function(T){this._sources.push(T);var M=this;return T.on("data",function(B){M.processChunk(B)}),T.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),T.on("error",function(B){M.error(B)}),this},j.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},j.prototype.error=function(T){var M=this._sources;if(!b.prototype.error.call(this,T))return!1;for(var B=0;B<M.length;B++)try{M[B].error(T)}catch{}return!0},j.prototype.lock=function(){b.prototype.lock.call(this);for(var T=this._sources,M=0;M<T.length;M++)T[M].lock()},g.exports=j},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,v){var p=h("../compressions"),y=h("./ZipFileWorker");v.generateWorker=function(m,b,k){var N=new y(b.streamFiles,k,b.platform,b.encodeFileName),F=0;try{m.forEach(function(j,T){F++;var M=function(E,I){var A=E||I,w=p[A];if(!w)throw new Error(A+" is not a valid compression method !");return w}(T.options.compression,b.compression),B=T.options.compressionOptions||b.compressionOptions||{},O=T.dir,R=T.date;T._compressWorker(M,B).withStreamInfo("file",{name:j,dir:O,date:R,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(N)}),N.entriesCount=F}catch(j){N.error(j)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,v){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new p;for(var m in this)typeof this[m]!="function"&&(y[m]=this[m]);return y}}(p.prototype=h("./object")).loadAsync=h("./load"),p.support=h("./support"),p.defaults=h("./defaults"),p.version="3.10.1",p.loadAsync=function(y,m){return new p().loadAsync(y,m)},p.external=h("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,v){var p=h("./utils"),y=h("./external"),m=h("./utf8"),b=h("./zipEntries"),k=h("./stream/Crc32Probe"),N=h("./nodejsUtils");function F(j){return new y.Promise(function(T,M){var B=j.decompressed.getContentWorker().pipe(new k);B.on("error",function(O){M(O)}).on("end",function(){B.streamInfo.crc32!==j.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}g.exports=function(j,T){var M=this;return T=p.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),N.isNode&&N.isStream(j)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",j,!0,T.optimizedBinaryString,T.base64).then(function(B){var O=new b(T);return O.load(B),O}).then(function(B){var O=[y.Promise.resolve(B)],R=B.files;if(T.checkCRC32)for(var E=0;E<R.length;E++)O.push(F(R[E]));return y.Promise.all(O)}).then(function(B){for(var O=B.shift(),R=O.files,E=0;E<R.length;E++){var I=R[E],A=I.fileNameStr,w=p.resolve(I.fileNameStr);M.file(w,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:T.createFolders}),I.dir||(M.file(w).unsafeOriginalName=A)}return O.zipComment.length&&(M.comment=O.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,v){var p=h("../utils"),y=h("../stream/GenericWorker");function m(b,k){y.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(k)}p.inherits(m,y),m.prototype._bindStream=function(b){var k=this;(this._stream=b).pause(),b.on("data",function(N){k.push({data:N,meta:{percent:0}})}).on("error",function(N){k.isPaused?this.generatedError=N:k.error(N)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},m.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,v){var p=h("readable-stream").Readable;function y(m,b,k){p.call(this,b),this._helper=m;var N=this;m.on("data",function(F,j){N.push(F)||N._helper.pause(),k&&k(j)}).on("error",function(F){N.emit("error",F)}).on("end",function(){N.push(null)})}h("../utils").inherits(y,p),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(h,g,v){g.exports={isNode:u!==void 0,newBufferFrom:function(p,y){if(u.from&&u.from!==Uint8Array.from)return u.from(p,y);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new u(p,y)},allocBuffer:function(p){if(u.alloc)return u.alloc(p);var y=new u(p);return y.fill(0),y},isBuffer:function(p){return u.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(h,g,v){function p(w,_,x){var S,C=m.getTypeOf(_),q=m.extend(x||{},N);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(w=R(w)),q.createFolders&&(S=O(w))&&E.call(this,S,!0);var P=C==="string"&&q.binary===!1&&q.base64===!1;x&&x.binary!==void 0||(q.binary=!P),(_ instanceof F&&_.uncompressedSize===0||q.dir||!_||_.length===0)&&(q.base64=!1,q.binary=!0,_="",q.compression="STORE",C="string");var H;H=_ instanceof F||_ instanceof b?_:M.isNode&&M.isStream(_)?new B(w,_):m.prepareContent(w,_,q.binary,q.optimizedBinaryString,q.base64);var X=new j(w,H,q);this.files[w]=X}var y=h("./utf8"),m=h("./utils"),b=h("./stream/GenericWorker"),k=h("./stream/StreamHelper"),N=h("./defaults"),F=h("./compressedObject"),j=h("./zipObject"),T=h("./generate"),M=h("./nodejsUtils"),B=h("./nodejs/NodejsStreamInputAdapter"),O=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var _=w.lastIndexOf("/");return 0<_?w.substring(0,_):""},R=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},E=function(w,_){return _=_!==void 0?_:N.createFolders,w=R(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:_}),this.files[w]};function I(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var _,x,S;for(_ in this.files)S=this.files[_],(x=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&w(x,S)},filter:function(w){var _=[];return this.forEach(function(x,S){w(x,S)&&_.push(S)}),_},file:function(w,_,x){if(arguments.length!==1)return w=this.root+w,p.call(this,w,_,x),this;if(I(w)){var S=w;return this.filter(function(q,P){return!P.dir&&S.test(q)})}var C=this.files[this.root+w];return C&&!C.dir?C:null},folder:function(w){if(!w)return this;if(I(w))return this.filter(function(C,q){return q.dir&&w.test(C)});var _=this.root+w,x=E.call(this,_),S=this.clone();return S.root=x.name,S},remove:function(w){w=this.root+w;var _=this.files[w];if(_||(w.slice(-1)!=="/"&&(w+="/"),_=this.files[w]),_&&!_.dir)delete this.files[w];else for(var x=this.filter(function(C,q){return q.name.slice(0,w.length)===w}),S=0;S<x.length;S++)delete this.files[x[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var _,x={};try{if((x=m.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");m.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var S=x.comment||this.comment||"";_=T.generateWorker(this,x,S)}catch(C){(_=new b("error")).error(C)}return new k(_,x.type||"string",x.mimeType)},generateAsync:function(w,_){return this.generateInternalStream(w).accumulate(_)},generateNodeStream:function(w,_){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(_)}};g.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,v){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,v){var p=h("./DataReader");function y(m){p.call(this,m);for(var b=0;b<this.data.length;b++)m[b]=255&m[b]}h("../utils").inherits(y,p),y.prototype.byteAt=function(m){return this.data[this.zero+m]},y.prototype.lastIndexOfSignature=function(m){for(var b=m.charCodeAt(0),k=m.charCodeAt(1),N=m.charCodeAt(2),F=m.charCodeAt(3),j=this.length-4;0<=j;--j)if(this.data[j]===b&&this.data[j+1]===k&&this.data[j+2]===N&&this.data[j+3]===F)return j-this.zero;return-1},y.prototype.readAndCheckSignature=function(m){var b=m.charCodeAt(0),k=m.charCodeAt(1),N=m.charCodeAt(2),F=m.charCodeAt(3),j=this.readData(4);return b===j[0]&&k===j[1]&&N===j[2]&&F===j[3]},y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(h,g,v){var p=h("../utils");function y(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var b,k=0;for(this.checkOffset(m),b=this.index+m-1;b>=this.index;b--)k=(k<<8)+this.byteAt(b);return this.index+=m,k},readString:function(m){return p.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},g.exports=y},{"../utils":32}],19:[function(h,g,v){var p=h("./Uint8ArrayReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.readData=function(m){this.checkOffset(m);var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,v){var p=h("./DataReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},y.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},y.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},y.prototype.readData=function(m){this.checkOffset(m);var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(h,g,v){var p=h("./ArrayReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,v){var p=h("../utils"),y=h("../support"),m=h("./ArrayReader"),b=h("./StringReader"),k=h("./NodeBufferReader"),N=h("./Uint8ArrayReader");g.exports=function(F){var j=p.getTypeOf(F);return p.checkSupport(j),j!=="string"||y.uint8array?j==="nodebuffer"?new k(F):y.uint8array?new N(p.transformTo("uint8array",F)):new m(p.transformTo("array",F)):new b(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,v){var p=h("./GenericWorker"),y=h("../utils");function m(b){p.call(this,"ConvertWorker to "+b),this.destType=b}y.inherits(m,p),m.prototype.processChunk=function(b){this.push({data:y.transformTo(this.destType,b.data),meta:b.meta})},g.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,v){var p=h("./GenericWorker"),y=h("../crc32");function m(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(m,p),m.prototype.processChunk=function(b){this.streamInfo.crc32=y(b.data,this.streamInfo.crc32||0),this.push(b)},g.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,v){var p=h("../utils"),y=h("./GenericWorker");function m(b){y.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}p.inherits(m,y),m.prototype.processChunk=function(b){if(b){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+b.data.length}y.prototype.processChunk.call(this,b)},g.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,v){var p=h("../utils"),y=h("./GenericWorker");function m(b){y.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(N){k.dataIsReady=!0,k.data=N,k.max=N&&N.length||0,k.type=p.getTypeOf(N),k.isPaused||k._tickAndRepeat()},function(N){k.error(N)})}p.inherits(m,y),m.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,k);break;case"uint8array":b=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":b=this.data.slice(this.index,k)}return this.index=k,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,v){function p(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,m){return this._listeners[y].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,m){if(this._listeners[y])for(var b=0;b<this._listeners[y].length;b++)this._listeners[y][b].call(this,m)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var m=this;return y.on("data",function(b){m.processChunk(b)}),y.on("end",function(){m.end()}),y.on("error",function(b){m.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,m){return this.extraStreamInfo[y]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=p},{}],29:[function(h,g,v){var p=h("../utils"),y=h("./ConvertWorker"),m=h("./GenericWorker"),b=h("../base64"),k=h("../support"),N=h("../external"),F=null;if(k.nodestream)try{F=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function j(T,M,B){var O=M;switch(M){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=M,this._mimeType=B,p.checkSupport(O),this._worker=T.pipe(new y(O)),T.lock()}catch(R){this._worker=new m("error"),this._worker.error(R)}}j.prototype={accumulate:function(T){return function(M,B){return new N.Promise(function(O,R){var E=[],I=M._internalType,A=M._outputType,w=M._mimeType;M.on("data",function(_,x){E.push(_),B&&B(x)}).on("error",function(_){E=[],R(_)}).on("end",function(){try{var _=function(x,S,C){switch(x){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),C);case"base64":return b.encode(S);default:return p.transformTo(x,S)}}(A,function(x,S){var C,q=0,P=null,H=0;for(C=0;C<S.length;C++)H+=S[C].length;switch(x){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(P=new Uint8Array(H),C=0;C<S.length;C++)P.set(S[C],q),q+=S[C].length;return P;case"nodebuffer":return u.concat(S);default:throw new Error("concat : unsupported type '"+x+"'")}}(I,E),w);O(_)}catch(x){R(x)}E=[]}).resume()})}(this,T)},on:function(T,M){var B=this;return T==="data"?this._worker.on(T,function(O){M.call(B,O.data,O.meta)}):this._worker.on(T,function(){p.delay(M,arguments,B)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:this._outputType!=="nodebuffer"},T)}},g.exports=j},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=u!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var p=new ArrayBuffer(0);try{v.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(p),v.blob=y.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!h("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,v){for(var p=h("./utils"),y=h("./support"),m=h("./nodejsUtils"),b=h("./stream/GenericWorker"),k=new Array(256),N=0;N<256;N++)k[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function F(){b.call(this,"utf-8 decode"),this.leftOver=null}function j(){b.call(this,"utf-8 encode")}k[254]=k[254]=1,v.utf8encode=function(T){return y.nodebuffer?m.newBufferFrom(T,"utf-8"):function(M){var B,O,R,E,I,A=M.length,w=0;for(E=0;E<A;E++)(64512&(O=M.charCodeAt(E)))==55296&&E+1<A&&(64512&(R=M.charCodeAt(E+1)))==56320&&(O=65536+(O-55296<<10)+(R-56320),E++),w+=O<128?1:O<2048?2:O<65536?3:4;for(B=y.uint8array?new Uint8Array(w):new Array(w),E=I=0;I<w;E++)(64512&(O=M.charCodeAt(E)))==55296&&E+1<A&&(64512&(R=M.charCodeAt(E+1)))==56320&&(O=65536+(O-55296<<10)+(R-56320),E++),O<128?B[I++]=O:(O<2048?B[I++]=192|O>>>6:(O<65536?B[I++]=224|O>>>12:(B[I++]=240|O>>>18,B[I++]=128|O>>>12&63),B[I++]=128|O>>>6&63),B[I++]=128|63&O);return B}(T)},v.utf8decode=function(T){return y.nodebuffer?p.transformTo("nodebuffer",T).toString("utf-8"):function(M){var B,O,R,E,I=M.length,A=new Array(2*I);for(B=O=0;B<I;)if((R=M[B++])<128)A[O++]=R;else if(4<(E=k[R]))A[O++]=65533,B+=E-1;else{for(R&=E===2?31:E===3?15:7;1<E&&B<I;)R=R<<6|63&M[B++],E--;1<E?A[O++]=65533:R<65536?A[O++]=R:(R-=65536,A[O++]=55296|R>>10&1023,A[O++]=56320|1023&R)}return A.length!==O&&(A.subarray?A=A.subarray(0,O):A.length=O),p.applyFromCharCode(A)}(T=p.transformTo(y.uint8array?"uint8array":"array",T))},p.inherits(F,b),F.prototype.processChunk=function(T){var M=p.transformTo(y.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var B=M;(M=new Uint8Array(B.length+this.leftOver.length)).set(this.leftOver,0),M.set(B,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var O=function(E,I){var A;for((I=I||E.length)>E.length&&(I=E.length),A=I-1;0<=A&&(192&E[A])==128;)A--;return A<0||A===0?I:A+k[E[A]]>I?A:I}(M),R=M;O!==M.length&&(y.uint8array?(R=M.subarray(0,O),this.leftOver=M.subarray(O,M.length)):(R=M.slice(0,O),this.leftOver=M.slice(O,M.length))),this.push({data:v.utf8decode(R),meta:T.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=F,p.inherits(j,b),j.prototype.processChunk=function(T){this.push({data:v.utf8encode(T.data),meta:T.meta})},v.Utf8EncodeWorker=j},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,v){var p=h("./support"),y=h("./base64"),m=h("./nodejsUtils"),b=h("./external");function k(B){return B}function N(B,O){for(var R=0;R<B.length;++R)O[R]=255&B.charCodeAt(R);return O}h("setimmediate"),v.newBlob=function(B,O){v.checkSupport("blob");try{return new Blob([B],{type:O})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(B),R.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var F={stringifyByChunk:function(B,O,R){var E=[],I=0,A=B.length;if(A<=R)return String.fromCharCode.apply(null,B);for(;I<A;)O==="array"||O==="nodebuffer"?E.push(String.fromCharCode.apply(null,B.slice(I,Math.min(I+R,A)))):E.push(String.fromCharCode.apply(null,B.subarray(I,Math.min(I+R,A)))),I+=R;return E.join("")},stringifyByChar:function(B){for(var O="",R=0;R<B.length;R++)O+=String.fromCharCode(B[R]);return O},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function j(B){var O=65536,R=v.getTypeOf(B),E=!0;if(R==="uint8array"?E=F.applyCanBeUsed.uint8array:R==="nodebuffer"&&(E=F.applyCanBeUsed.nodebuffer),E)for(;1<O;)try{return F.stringifyByChunk(B,R,O)}catch{O=Math.floor(O/2)}return F.stringifyByChar(B)}function T(B,O){for(var R=0;R<B.length;R++)O[R]=B[R];return O}v.applyFromCharCode=j;var M={};M.string={string:k,array:function(B){return N(B,new Array(B.length))},arraybuffer:function(B){return M.string.uint8array(B).buffer},uint8array:function(B){return N(B,new Uint8Array(B.length))},nodebuffer:function(B){return N(B,m.allocBuffer(B.length))}},M.array={string:j,array:k,arraybuffer:function(B){return new Uint8Array(B).buffer},uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return m.newBufferFrom(B)}},M.arraybuffer={string:function(B){return j(new Uint8Array(B))},array:function(B){return T(new Uint8Array(B),new Array(B.byteLength))},arraybuffer:k,uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return m.newBufferFrom(new Uint8Array(B))}},M.uint8array={string:j,array:function(B){return T(B,new Array(B.length))},arraybuffer:function(B){return B.buffer},uint8array:k,nodebuffer:function(B){return m.newBufferFrom(B)}},M.nodebuffer={string:j,array:function(B){return T(B,new Array(B.length))},arraybuffer:function(B){return M.nodebuffer.uint8array(B).buffer},uint8array:function(B){return T(B,new Uint8Array(B.length))},nodebuffer:k},v.transformTo=function(B,O){if(O=O||"",!B)return O;v.checkSupport(B);var R=v.getTypeOf(O);return M[R][B](O)},v.resolve=function(B){for(var O=B.split("/"),R=[],E=0;E<O.length;E++){var I=O[E];I==="."||I===""&&E!==0&&E!==O.length-1||(I===".."?R.pop():R.push(I))}return R.join("/")},v.getTypeOf=function(B){return typeof B=="string"?"string":Object.prototype.toString.call(B)==="[object Array]"?"array":p.nodebuffer&&m.isBuffer(B)?"nodebuffer":p.uint8array&&B instanceof Uint8Array?"uint8array":p.arraybuffer&&B instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(B){if(!p[B.toLowerCase()])throw new Error(B+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(B){var O,R,E="";for(R=0;R<(B||"").length;R++)E+="\\x"+((O=B.charCodeAt(R))<16?"0":"")+O.toString(16).toUpperCase();return E},v.delay=function(B,O,R){f(function(){B.apply(R||null,O||[])})},v.inherits=function(B,O){function R(){}R.prototype=O.prototype,B.prototype=new R},v.extend=function(){var B,O,R={};for(B=0;B<arguments.length;B++)for(O in arguments[B])Object.prototype.hasOwnProperty.call(arguments[B],O)&&R[O]===void 0&&(R[O]=arguments[B][O]);return R},v.prepareContent=function(B,O,R,E,I){return b.Promise.resolve(O).then(function(A){return p.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new b.Promise(function(w,_){var x=new FileReader;x.onload=function(S){w(S.target.result)},x.onerror=function(S){_(S.target.error)},x.readAsArrayBuffer(A)}):A}).then(function(A){var w=v.getTypeOf(A);return w?(w==="arraybuffer"?A=v.transformTo("uint8array",A):w==="string"&&(I?A=y.decode(A):R&&E!==!0&&(A=function(_){return N(_,p.uint8array?new Uint8Array(_.length):new Array(_.length))}(A))),A):b.Promise.reject(new Error("Can't read the data of '"+B+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,v){var p=h("./reader/readerFor"),y=h("./utils"),m=h("./signature"),b=h("./zipEntry"),k=h("./support");function N(F){this.files=[],this.loadOptions=F}N.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var j=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(j)+", expected "+y.pretty(F)+")")}},isSignature:function(F,j){var T=this.reader.index;this.reader.setIndex(F);var M=this.reader.readString(4)===j;return this.reader.setIndex(T),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),j=k.uint8array?"uint8array":"array",T=y.transformTo(j,F);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var F,j,T,M=this.zip64EndOfCentralSize-44;0<M;)F=this.reader.readInt(2),j=this.reader.readInt(4),T=this.reader.readData(j),this.zip64ExtensibleData[F]={id:F,length:j,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,j;for(F=0;F<this.files.length;F++)j=this.files[F],this.reader.setIndex(j.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),j.readLocalPart(this.reader),j.handleUTF8(),j.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(F=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var j=F;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var M=j-T;if(0<M)this.isSignature(j,m.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(F){this.reader=p(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,v){var p=h("./reader/readerFor"),y=h("./utils"),m=h("./compressedObject"),b=h("./crc32"),k=h("./utf8"),N=h("./compressions"),F=h("./support");function j(T,M){this.options=T,this.loadOptions=M}j.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var M,B;if(T.skip(22),this.fileNameLength=T.readInt(2),B=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(B),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=function(O){for(var R in N)if(Object.prototype.hasOwnProperty.call(N,R)&&N[R].magic===O)return N[R];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,M,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var M=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(M),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=p(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var M,B,O,R=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<R;)M=T.readInt(2),B=T.readInt(2),O=T.readData(B),this.extraFields[M]={id:M,length:B,value:O};T.setIndex(R)},handleUTF8:function(){var T=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var B=y.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var R=y.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var M=p(T.value);return M.readInt(1)!==1||b(this.fileName)!==M.readInt(4)?null:k.utf8decode(M.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var M=p(T.value);return M.readInt(1)!==1||b(this.fileComment)!==M.readInt(4)?null:k.utf8decode(M.readData(T.length-5))}return null}},g.exports=j},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,v){function p(M,B,O){this.name=M,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=B,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var y=h("./stream/StreamHelper"),m=h("./stream/DataWorker"),b=h("./utf8"),k=h("./compressedObject"),N=h("./stream/GenericWorker");p.prototype={internalStream:function(M){var B=null,O="string";try{if(!M)throw new Error("No output type specified.");var R=(O=M.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),B=this._decompressWorker();var E=!this._dataBinary;E&&!R&&(B=B.pipe(new b.Utf8EncodeWorker)),!E&&R&&(B=B.pipe(new b.Utf8DecodeWorker))}catch(I){(B=new N("error")).error(I)}return new y(B,O,"")},async:function(M,B){return this.internalStream(M).accumulate(B)},nodeStream:function(M,B){return this.internalStream(M||"nodebuffer").toNodejsStream(B)},_compressWorker:function(M,B){if(this._data instanceof k&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new b.Utf8EncodeWorker)),k.createWorkerFrom(O,M,B)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof N?this._data:new m(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],j=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<F.length;T++)p.prototype[F[T]]=j;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,v){(function(p){var y,m,b=p.MutationObserver||p.WebKitMutationObserver;if(b){var k=0,N=new b(M),F=p.document.createTextNode("");N.observe(F,{characterData:!0}),y=function(){F.data=k=++k%2}}else if(p.setImmediate||p.MessageChannel===void 0)y="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var B=p.document.createElement("script");B.onreadystatechange=function(){M(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},p.document.documentElement.appendChild(B)}:function(){setTimeout(M,0)};else{var j=new p.MessageChannel;j.port1.onmessage=M,y=function(){j.port2.postMessage(0)}}var T=[];function M(){var B,O;m=!0;for(var R=T.length;R;){for(O=T,T=[],B=-1;++B<R;)O[B]();R=T.length}m=!1}g.exports=function(B){T.push(B)!==1||m||y()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,v){var p=h("immediate");function y(){}var m={},b=["REJECTED"],k=["FULFILLED"],N=["PENDING"];function F(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,R!==y&&B(this,R)}function j(R,E,I){this.promise=R,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function T(R,E,I){p(function(){var A;try{A=E(I)}catch(w){return m.reject(R,w)}A===R?m.reject(R,new TypeError("Cannot resolve promise with itself")):m.resolve(R,A)})}function M(R){var E=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof E=="function")return function(){E.apply(R,arguments)}}function B(R,E){var I=!1;function A(x){I||(I=!0,m.reject(R,x))}function w(x){I||(I=!0,m.resolve(R,x))}var _=O(function(){E(w,A)});_.status==="error"&&A(_.value)}function O(R,E){var I={};try{I.value=R(E),I.status="success"}catch(A){I.status="error",I.value=A}return I}(g.exports=F).prototype.finally=function(R){if(typeof R!="function")return this;var E=this.constructor;return this.then(function(I){return E.resolve(R()).then(function(){return I})},function(I){return E.resolve(R()).then(function(){throw I})})},F.prototype.catch=function(R){return this.then(null,R)},F.prototype.then=function(R,E){if(typeof R!="function"&&this.state===k||typeof E!="function"&&this.state===b)return this;var I=new this.constructor(y);return this.state!==N?T(I,this.state===k?R:E,this.outcome):this.queue.push(new j(I,R,E)),I},j.prototype.callFulfilled=function(R){m.resolve(this.promise,R)},j.prototype.otherCallFulfilled=function(R){T(this.promise,this.onFulfilled,R)},j.prototype.callRejected=function(R){m.reject(this.promise,R)},j.prototype.otherCallRejected=function(R){T(this.promise,this.onRejected,R)},m.resolve=function(R,E){var I=O(M,E);if(I.status==="error")return m.reject(R,I.value);var A=I.value;if(A)B(R,A);else{R.state=k,R.outcome=E;for(var w=-1,_=R.queue.length;++w<_;)R.queue[w].callFulfilled(E)}return R},m.reject=function(R,E){R.state=b,R.outcome=E;for(var I=-1,A=R.queue.length;++I<A;)R.queue[I].callRejected(E);return R},F.resolve=function(R){return R instanceof this?R:m.resolve(new this(y),R)},F.reject=function(R){var E=new this(y);return m.reject(E,R)},F.all=function(R){var E=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=R.length,A=!1;if(!I)return this.resolve([]);for(var w=new Array(I),_=0,x=-1,S=new this(y);++x<I;)C(R[x],x);return S;function C(q,P){E.resolve(q).then(function(H){w[P]=H,++_!==I||A||(A=!0,m.resolve(S,w))},function(H){A||(A=!0,m.reject(S,H))})}},F.race=function(R){if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=R.length,I=!1;if(!E)return this.resolve([]);for(var A,w=-1,_=new this(y);++w<E;)A=R[w],this.resolve(A).then(function(x){I||(I=!0,m.resolve(_,x))},function(x){I||(I=!0,m.reject(_,x))});return _}},{immediate:36}],38:[function(h,g,v){var p={};(0,h("./lib/utils/common").assign)(p,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,v){var p=h("./zlib/deflate"),y=h("./utils/common"),m=h("./utils/strings"),b=h("./zlib/messages"),k=h("./zlib/zstream"),N=Object.prototype.toString;function F(T){if(!(this instanceof F))return new F(T);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},T||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var B=p.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(B!==0)throw new Error(b[B]);if(M.header&&p.deflateSetHeader(this.strm,M.header),M.dictionary){var O;if(O=typeof M.dictionary=="string"?m.string2buf(M.dictionary):N.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(B=p.deflateSetDictionary(this.strm,O))!==0)throw new Error(b[B]);this._dict_set=!0}}function j(T,M){var B=new F(M);if(B.push(T,!0),B.err)throw B.msg||b[B.err];return B.result}F.prototype.push=function(T,M){var B,O,R=this.strm,E=this.options.chunkSize;if(this.ended)return!1;O=M===~~M?M:M===!0?4:0,typeof T=="string"?R.input=m.string2buf(T):N.call(T)==="[object ArrayBuffer]"?R.input=new Uint8Array(T):R.input=T,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new y.Buf8(E),R.next_out=0,R.avail_out=E),(B=p.deflate(R,O))!==1&&B!==0)return this.onEnd(B),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(y.shrinkBuf(R.output,R.next_out))):this.onData(y.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&B!==1);return O===4?(B=p.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===0):O!==2||(this.onEnd(0),!(R.avail_out=0))},F.prototype.onData=function(T){this.chunks.push(T)},F.prototype.onEnd=function(T){T===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},v.Deflate=F,v.deflate=j,v.deflateRaw=function(T,M){return(M=M||{}).raw=!0,j(T,M)},v.gzip=function(T,M){return(M=M||{}).gzip=!0,j(T,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,v){var p=h("./zlib/inflate"),y=h("./utils/common"),m=h("./utils/strings"),b=h("./zlib/constants"),k=h("./zlib/messages"),N=h("./zlib/zstream"),F=h("./zlib/gzheader"),j=Object.prototype.toString;function T(B){if(!(this instanceof T))return new T(B);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},B||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||B&&B.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&!(15&O.windowBits)&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var R=p.inflateInit2(this.strm,O.windowBits);if(R!==b.Z_OK)throw new Error(k[R]);this.header=new F,p.inflateGetHeader(this.strm,this.header)}function M(B,O){var R=new T(O);if(R.push(B,!0),R.err)throw R.msg||k[R.err];return R.result}T.prototype.push=function(B,O){var R,E,I,A,w,_,x=this.strm,S=this.options.chunkSize,C=this.options.dictionary,q=!1;if(this.ended)return!1;E=O===~~O?O:O===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof B=="string"?x.input=m.binstring2buf(B):j.call(B)==="[object ArrayBuffer]"?x.input=new Uint8Array(B):x.input=B,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new y.Buf8(S),x.next_out=0,x.avail_out=S),(R=p.inflate(x,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&C&&(_=typeof C=="string"?m.string2buf(C):j.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,R=p.inflateSetDictionary(this.strm,_)),R===b.Z_BUF_ERROR&&q===!0&&(R=b.Z_OK,q=!1),R!==b.Z_STREAM_END&&R!==b.Z_OK)return this.onEnd(R),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&R!==b.Z_STREAM_END&&(x.avail_in!==0||E!==b.Z_FINISH&&E!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=m.utf8border(x.output,x.next_out),A=x.next_out-I,w=m.buf2string(x.output,I),x.next_out=A,x.avail_out=S-A,A&&y.arraySet(x.output,x.output,I,A,0),this.onData(w)):this.onData(y.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(q=!0)}while((0<x.avail_in||x.avail_out===0)&&R!==b.Z_STREAM_END);return R===b.Z_STREAM_END&&(E=b.Z_FINISH),E===b.Z_FINISH?(R=p.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===b.Z_OK):E!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(x.avail_out=0))},T.prototype.onData=function(B){this.chunks.push(B)},T.prototype.onEnd=function(B){B===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},v.Inflate=T,v.inflate=M,v.inflateRaw=function(B,O){return(O=O||{}).raw=!0,M(B,O)},v.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,v){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(b){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var N=k.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var F in N)N.hasOwnProperty(F)&&(b[F]=N[F])}}return b},v.shrinkBuf=function(b,k){return b.length===k?b:b.subarray?b.subarray(0,k):(b.length=k,b)};var y={arraySet:function(b,k,N,F,j){if(k.subarray&&b.subarray)b.set(k.subarray(N,N+F),j);else for(var T=0;T<F;T++)b[j+T]=k[N+T]},flattenChunks:function(b){var k,N,F,j,T,M;for(k=F=0,N=b.length;k<N;k++)F+=b[k].length;for(M=new Uint8Array(F),k=j=0,N=b.length;k<N;k++)T=b[k],M.set(T,j),j+=T.length;return M}},m={arraySet:function(b,k,N,F,j){for(var T=0;T<F;T++)b[j+T]=k[N+T]},flattenChunks:function(b){return[].concat.apply([],b)}};v.setTyped=function(b){b?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,y)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,m))},v.setTyped(p)},{}],42:[function(h,g,v){var p=h("./common"),y=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var b=new p.Buf8(256),k=0;k<256;k++)b[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function N(F,j){if(j<65537&&(F.subarray&&m||!F.subarray&&y))return String.fromCharCode.apply(null,p.shrinkBuf(F,j));for(var T="",M=0;M<j;M++)T+=String.fromCharCode(F[M]);return T}b[254]=b[254]=1,v.string2buf=function(F){var j,T,M,B,O,R=F.length,E=0;for(B=0;B<R;B++)(64512&(T=F.charCodeAt(B)))==55296&&B+1<R&&(64512&(M=F.charCodeAt(B+1)))==56320&&(T=65536+(T-55296<<10)+(M-56320),B++),E+=T<128?1:T<2048?2:T<65536?3:4;for(j=new p.Buf8(E),B=O=0;O<E;B++)(64512&(T=F.charCodeAt(B)))==55296&&B+1<R&&(64512&(M=F.charCodeAt(B+1)))==56320&&(T=65536+(T-55296<<10)+(M-56320),B++),T<128?j[O++]=T:(T<2048?j[O++]=192|T>>>6:(T<65536?j[O++]=224|T>>>12:(j[O++]=240|T>>>18,j[O++]=128|T>>>12&63),j[O++]=128|T>>>6&63),j[O++]=128|63&T);return j},v.buf2binstring=function(F){return N(F,F.length)},v.binstring2buf=function(F){for(var j=new p.Buf8(F.length),T=0,M=j.length;T<M;T++)j[T]=F.charCodeAt(T);return j},v.buf2string=function(F,j){var T,M,B,O,R=j||F.length,E=new Array(2*R);for(T=M=0;T<R;)if((B=F[T++])<128)E[M++]=B;else if(4<(O=b[B]))E[M++]=65533,T+=O-1;else{for(B&=O===2?31:O===3?15:7;1<O&&T<R;)B=B<<6|63&F[T++],O--;1<O?E[M++]=65533:B<65536?E[M++]=B:(B-=65536,E[M++]=55296|B>>10&1023,E[M++]=56320|1023&B)}return N(E,M)},v.utf8border=function(F,j){var T;for((j=j||F.length)>F.length&&(j=F.length),T=j-1;0<=T&&(192&F[T])==128;)T--;return T<0||T===0?j:T+b[F[T]]>j?T:j}},{"./common":41}],43:[function(h,g,v){g.exports=function(p,y,m,b){for(var k=65535&p|0,N=p>>>16&65535|0,F=0;m!==0;){for(m-=F=2e3<m?2e3:m;N=N+(k=k+y[b++]|0)|0,--F;);k%=65521,N%=65521}return k|N<<16|0}},{}],44:[function(h,g,v){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,v){var p=function(){for(var y,m=[],b=0;b<256;b++){y=b;for(var k=0;k<8;k++)y=1&y?3988292384^y>>>1:y>>>1;m[b]=y}return m}();g.exports=function(y,m,b,k){var N=p,F=k+b;y^=-1;for(var j=k;j<F;j++)y=y>>>8^N[255&(y^m[j])];return-1^y}},{}],46:[function(h,g,v){var p,y=h("../utils/common"),m=h("./trees"),b=h("./adler32"),k=h("./crc32"),N=h("./messages"),F=-2,j=258,T=262,M=113;function B(V,Q){return V.msg=N[Q],Q}function O(V){return(V<<1)-(4<V?9:0)}function R(V){for(var Q=V.length;0<=--Q;)V[Q]=0}function E(V){var Q=V.state,z=Q.pending;z>V.avail_out&&(z=V.avail_out),z!==0&&(y.arraySet(V.output,Q.pending_buf,Q.pending_out,z,V.next_out),V.next_out+=z,Q.pending_out+=z,V.total_out+=z,V.avail_out-=z,Q.pending-=z,Q.pending===0&&(Q.pending_out=0))}function I(V,Q){m._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Q),V.block_start=V.strstart,E(V.strm)}function A(V,Q){V.pending_buf[V.pending++]=Q}function w(V,Q){V.pending_buf[V.pending++]=Q>>>8&255,V.pending_buf[V.pending++]=255&Q}function _(V,Q){var z,D,W=V.max_chain_length,ee=V.strstart,oe=V.prev_length,ie=V.nice_match,ae=V.strstart>V.w_size-T?V.strstart-(V.w_size-T):0,le=V.window,ne=V.w_mask,se=V.prev,ye=V.strstart+j,me=le[ee+oe-1],we=le[ee+oe];V.prev_length>=V.good_match&&(W>>=2),ie>V.lookahead&&(ie=V.lookahead);do if(le[(z=Q)+oe]===we&&le[z+oe-1]===me&&le[z]===le[ee]&&le[++z]===le[ee+1]){ee+=2,z++;do;while(le[++ee]===le[++z]&&le[++ee]===le[++z]&&le[++ee]===le[++z]&&le[++ee]===le[++z]&&le[++ee]===le[++z]&&le[++ee]===le[++z]&&le[++ee]===le[++z]&&le[++ee]===le[++z]&&ee<ye);if(D=j-(ye-ee),ee=ye-j,oe<D){if(V.match_start=Q,ie<=(oe=D))break;me=le[ee+oe-1],we=le[ee+oe]}}while((Q=se[Q&ne])>ae&&--W!=0);return oe<=V.lookahead?oe:V.lookahead}function x(V){var Q,z,D,W,ee,oe,ie,ae,le,ne,se=V.w_size;do{if(W=V.window_size-V.lookahead-V.strstart,V.strstart>=se+(se-T)){for(y.arraySet(V.window,V.window,se,se,0),V.match_start-=se,V.strstart-=se,V.block_start-=se,Q=z=V.hash_size;D=V.head[--Q],V.head[Q]=se<=D?D-se:0,--z;);for(Q=z=se;D=V.prev[--Q],V.prev[Q]=se<=D?D-se:0,--z;);W+=se}if(V.strm.avail_in===0)break;if(oe=V.strm,ie=V.window,ae=V.strstart+V.lookahead,ne=void 0,(le=W)<(ne=oe.avail_in)&&(ne=le),z=ne===0?0:(oe.avail_in-=ne,y.arraySet(ie,oe.input,oe.next_in,ne,ae),oe.state.wrap===1?oe.adler=b(oe.adler,ie,ne,ae):oe.state.wrap===2&&(oe.adler=k(oe.adler,ie,ne,ae)),oe.next_in+=ne,oe.total_in+=ne,ne),V.lookahead+=z,V.lookahead+V.insert>=3)for(ee=V.strstart-V.insert,V.ins_h=V.window[ee],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+3-1])&V.hash_mask,V.prev[ee&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ee,ee++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<T&&V.strm.avail_in!==0)}function S(V,Q){for(var z,D;;){if(V.lookahead<T){if(x(V),V.lookahead<T&&Q===0)return 1;if(V.lookahead===0)break}if(z=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),z!==0&&V.strstart-z<=V.w_size-T&&(V.match_length=_(V,z)),V.match_length>=3)if(D=m._tr_tally(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else D=m._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(D&&(I(V,!1),V.strm.avail_out===0))return 1}return V.insert=V.strstart<2?V.strstart:2,Q===4?(I(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(I(V,!1),V.strm.avail_out===0)?1:2}function C(V,Q){for(var z,D,W;;){if(V.lookahead<T){if(x(V),V.lookahead<T&&Q===0)return 1;if(V.lookahead===0)break}if(z=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,z!==0&&V.prev_length<V.max_lazy_match&&V.strstart-z<=V.w_size-T&&(V.match_length=_(V,z),V.match_length<=5&&(V.strategy===1||V.match_length===3&&4096<V.strstart-V.match_start)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){for(W=V.strstart+V.lookahead-3,D=m._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=W&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,z=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=2,V.strstart++,D&&(I(V,!1),V.strm.avail_out===0))return 1}else if(V.match_available){if((D=m._tr_tally(V,0,V.window[V.strstart-1]))&&I(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(D=m._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,Q===4?(I(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(I(V,!1),V.strm.avail_out===0)?1:2}function q(V,Q,z,D,W){this.good_length=V,this.max_lazy=Q,this.nice_length=z,this.max_chain=D,this.func=W}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(V){var Q;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,(Q=V.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?42:M,V.adler=Q.wrap===2?0:1,Q.last_flush=0,m._tr_init(Q),0):B(V,F)}function X(V){var Q=H(V);return Q===0&&function(z){z.window_size=2*z.w_size,R(z.head),z.max_lazy_match=p[z.level].max_lazy,z.good_match=p[z.level].good_length,z.nice_match=p[z.level].nice_length,z.max_chain_length=p[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0}(V.state),Q}function Z(V,Q,z,D,W,ee){if(!V)return F;var oe=1;if(Q===-1&&(Q=6),D<0?(oe=0,D=-D):15<D&&(oe=2,D-=16),W<1||9<W||z!==8||D<8||15<D||Q<0||9<Q||ee<0||4<ee)return B(V,F);D===8&&(D=9);var ie=new P;return(V.state=ie).strm=V,ie.wrap=oe,ie.gzhead=null,ie.w_bits=D,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=W+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new y.Buf8(2*ie.w_size),ie.head=new y.Buf16(ie.hash_size),ie.prev=new y.Buf16(ie.w_size),ie.lit_bufsize=1<<W+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new y.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=Q,ie.strategy=ee,ie.method=z,X(V)}p=[new q(0,0,0,0,function(V,Q){var z=65535;for(z>V.pending_buf_size-5&&(z=V.pending_buf_size-5);;){if(V.lookahead<=1){if(x(V),V.lookahead===0&&Q===0)return 1;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var D=V.block_start+z;if((V.strstart===0||V.strstart>=D)&&(V.lookahead=V.strstart-D,V.strstart=D,I(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-T&&(I(V,!1),V.strm.avail_out===0))return 1}return V.insert=0,Q===4?(I(V,!0),V.strm.avail_out===0?3:4):(V.strstart>V.block_start&&(I(V,!1),V.strm.avail_out),1)}),new q(4,4,8,4,S),new q(4,5,16,8,S),new q(4,6,32,32,S),new q(4,4,16,16,C),new q(8,16,32,32,C),new q(8,16,128,128,C),new q(8,32,128,256,C),new q(32,128,258,1024,C),new q(32,258,258,4096,C)],v.deflateInit=function(V,Q){return Z(V,Q,8,15,8,0)},v.deflateInit2=Z,v.deflateReset=X,v.deflateResetKeep=H,v.deflateSetHeader=function(V,Q){return V&&V.state?V.state.wrap!==2?F:(V.state.gzhead=Q,0):F},v.deflate=function(V,Q){var z,D,W,ee;if(!V||!V.state||5<Q||Q<0)return V?B(V,F):F;if(D=V.state,!V.output||!V.input&&V.avail_in!==0||D.status===666&&Q!==4)return B(V,V.avail_out===0?-5:F);if(D.strm=V,z=D.last_flush,D.last_flush=Q,D.status===42)if(D.wrap===2)V.adler=0,A(D,31),A(D,139),A(D,8),D.gzhead?(A(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),A(D,255&D.gzhead.time),A(D,D.gzhead.time>>8&255),A(D,D.gzhead.time>>16&255),A(D,D.gzhead.time>>24&255),A(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),A(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(A(D,255&D.gzhead.extra.length),A(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(V.adler=k(V.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(A(D,0),A(D,0),A(D,0),A(D,0),A(D,0),A(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),A(D,3),D.status=M);else{var oe=8+(D.w_bits-8<<4)<<8;oe|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(oe|=32),oe+=31-oe%31,D.status=M,w(D,oe),D.strstart!==0&&(w(D,V.adler>>>16),w(D,65535&V.adler)),V.adler=1}if(D.status===69)if(D.gzhead.extra){for(W=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>W&&(V.adler=k(V.adler,D.pending_buf,D.pending-W,W)),E(V),W=D.pending,D.pending!==D.pending_buf_size));)A(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>W&&(V.adler=k(V.adler,D.pending_buf,D.pending-W,W)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){W=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>W&&(V.adler=k(V.adler,D.pending_buf,D.pending-W,W)),E(V),W=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,A(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>W&&(V.adler=k(V.adler,D.pending_buf,D.pending-W,W)),ee===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){W=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>W&&(V.adler=k(V.adler,D.pending_buf,D.pending-W,W)),E(V),W=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,A(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>W&&(V.adler=k(V.adler,D.pending_buf,D.pending-W,W)),ee===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&E(V),D.pending+2<=D.pending_buf_size&&(A(D,255&V.adler),A(D,V.adler>>8&255),V.adler=0,D.status=M)):D.status=M),D.pending!==0){if(E(V),V.avail_out===0)return D.last_flush=-1,0}else if(V.avail_in===0&&O(Q)<=O(z)&&Q!==4)return B(V,-5);if(D.status===666&&V.avail_in!==0)return B(V,-5);if(V.avail_in!==0||D.lookahead!==0||Q!==0&&D.status!==666){var ie=D.strategy===2?function(ae,le){for(var ne;;){if(ae.lookahead===0&&(x(ae),ae.lookahead===0)){if(le===0)return 1;break}if(ae.match_length=0,ne=m._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ne&&(I(ae,!1),ae.strm.avail_out===0))return 1}return ae.insert=0,le===4?(I(ae,!0),ae.strm.avail_out===0?3:4):ae.last_lit&&(I(ae,!1),ae.strm.avail_out===0)?1:2}(D,Q):D.strategy===3?function(ae,le){for(var ne,se,ye,me,we=ae.window;;){if(ae.lookahead<=j){if(x(ae),ae.lookahead<=j&&le===0)return 1;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=3&&0<ae.strstart&&(se=we[ye=ae.strstart-1])===we[++ye]&&se===we[++ye]&&se===we[++ye]){me=ae.strstart+j;do;while(se===we[++ye]&&se===we[++ye]&&se===we[++ye]&&se===we[++ye]&&se===we[++ye]&&se===we[++ye]&&se===we[++ye]&&se===we[++ye]&&ye<me);ae.match_length=j-(me-ye),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=3?(ne=m._tr_tally(ae,1,ae.match_length-3),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ne=m._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ne&&(I(ae,!1),ae.strm.avail_out===0))return 1}return ae.insert=0,le===4?(I(ae,!0),ae.strm.avail_out===0?3:4):ae.last_lit&&(I(ae,!1),ae.strm.avail_out===0)?1:2}(D,Q):p[D.level].func(D,Q);if(ie!==3&&ie!==4||(D.status=666),ie===1||ie===3)return V.avail_out===0&&(D.last_flush=-1),0;if(ie===2&&(Q===1?m._tr_align(D):Q!==5&&(m._tr_stored_block(D,0,0,!1),Q===3&&(R(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),E(V),V.avail_out===0))return D.last_flush=-1,0}return Q!==4?0:D.wrap<=0?1:(D.wrap===2?(A(D,255&V.adler),A(D,V.adler>>8&255),A(D,V.adler>>16&255),A(D,V.adler>>24&255),A(D,255&V.total_in),A(D,V.total_in>>8&255),A(D,V.total_in>>16&255),A(D,V.total_in>>24&255)):(w(D,V.adler>>>16),w(D,65535&V.adler)),E(V),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},v.deflateEnd=function(V){var Q;return V&&V.state?(Q=V.state.status)!==42&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==M&&Q!==666?B(V,F):(V.state=null,Q===M?B(V,-3):0):F},v.deflateSetDictionary=function(V,Q){var z,D,W,ee,oe,ie,ae,le,ne=Q.length;if(!V||!V.state||(ee=(z=V.state).wrap)===2||ee===1&&z.status!==42||z.lookahead)return F;for(ee===1&&(V.adler=b(V.adler,Q,ne,0)),z.wrap=0,ne>=z.w_size&&(ee===0&&(R(z.head),z.strstart=0,z.block_start=0,z.insert=0),le=new y.Buf8(z.w_size),y.arraySet(le,Q,ne-z.w_size,z.w_size,0),Q=le,ne=z.w_size),oe=V.avail_in,ie=V.next_in,ae=V.input,V.avail_in=ne,V.next_in=0,V.input=Q,x(z);z.lookahead>=3;){for(D=z.strstart,W=z.lookahead-2;z.ins_h=(z.ins_h<<z.hash_shift^z.window[D+3-1])&z.hash_mask,z.prev[D&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=D,D++,--W;);z.strstart=D,z.lookahead=2,x(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=2,z.match_available=0,V.next_in=ie,V.input=ae,V.avail_in=oe,z.wrap=ee,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,v){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,v){g.exports=function(p,y){var m,b,k,N,F,j,T,M,B,O,R,E,I,A,w,_,x,S,C,q,P,H,X,Z,V;m=p.state,b=p.next_in,Z=p.input,k=b+(p.avail_in-5),N=p.next_out,V=p.output,F=N-(y-p.avail_out),j=N+(p.avail_out-257),T=m.dmax,M=m.wsize,B=m.whave,O=m.wnext,R=m.window,E=m.hold,I=m.bits,A=m.lencode,w=m.distcode,_=(1<<m.lenbits)-1,x=(1<<m.distbits)-1;e:do{I<15&&(E+=Z[b++]<<I,I+=8,E+=Z[b++]<<I,I+=8),S=A[E&_];t:for(;;){if(E>>>=C=S>>>24,I-=C,(C=S>>>16&255)==0)V[N++]=65535&S;else{if(!(16&C)){if(!(64&C)){S=A[(65535&S)+(E&(1<<C)-1)];continue t}if(32&C){m.mode=12;break e}p.msg="invalid literal/length code",m.mode=30;break e}q=65535&S,(C&=15)&&(I<C&&(E+=Z[b++]<<I,I+=8),q+=E&(1<<C)-1,E>>>=C,I-=C),I<15&&(E+=Z[b++]<<I,I+=8,E+=Z[b++]<<I,I+=8),S=w[E&x];r:for(;;){if(E>>>=C=S>>>24,I-=C,!(16&(C=S>>>16&255))){if(!(64&C)){S=w[(65535&S)+(E&(1<<C)-1)];continue r}p.msg="invalid distance code",m.mode=30;break e}if(P=65535&S,I<(C&=15)&&(E+=Z[b++]<<I,(I+=8)<C&&(E+=Z[b++]<<I,I+=8)),T<(P+=E&(1<<C)-1)){p.msg="invalid distance too far back",m.mode=30;break e}if(E>>>=C,I-=C,(C=N-F)<P){if(B<(C=P-C)&&m.sane){p.msg="invalid distance too far back",m.mode=30;break e}if(X=R,(H=0)===O){if(H+=M-C,C<q){for(q-=C;V[N++]=R[H++],--C;);H=N-P,X=V}}else if(O<C){if(H+=M+O-C,(C-=O)<q){for(q-=C;V[N++]=R[H++],--C;);if(H=0,O<q){for(q-=C=O;V[N++]=R[H++],--C;);H=N-P,X=V}}}else if(H+=O-C,C<q){for(q-=C;V[N++]=R[H++],--C;);H=N-P,X=V}for(;2<q;)V[N++]=X[H++],V[N++]=X[H++],V[N++]=X[H++],q-=3;q&&(V[N++]=X[H++],1<q&&(V[N++]=X[H++]))}else{for(H=N-P;V[N++]=V[H++],V[N++]=V[H++],V[N++]=V[H++],2<(q-=3););q&&(V[N++]=V[H++],1<q&&(V[N++]=V[H++]))}break}}break}}while(b<k&&N<j);b-=q=I>>3,E&=(1<<(I-=q<<3))-1,p.next_in=b,p.next_out=N,p.avail_in=b<k?k-b+5:5-(b-k),p.avail_out=N<j?j-N+257:257-(N-j),m.hold=E,m.bits=I}},{}],49:[function(h,g,v){var p=h("../utils/common"),y=h("./adler32"),m=h("./crc32"),b=h("./inffast"),k=h("./inftrees"),N=-2;function F(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(_){var x;return _&&_.state?(x=_.state,_.total_in=_.total_out=x.total=0,_.msg="",x.wrap&&(_.adler=1&x.wrap),x.mode=1,x.last=0,x.havedict=0,x.dmax=32768,x.head=null,x.hold=0,x.bits=0,x.lencode=x.lendyn=new p.Buf32(852),x.distcode=x.distdyn=new p.Buf32(592),x.sane=1,x.back=-1,0):N}function M(_){var x;return _&&_.state?((x=_.state).wsize=0,x.whave=0,x.wnext=0,T(_)):N}function B(_,x){var S,C;return _&&_.state?(C=_.state,x<0?(S=0,x=-x):(S=1+(x>>4),x<48&&(x&=15)),x&&(x<8||15<x)?N:(C.window!==null&&C.wbits!==x&&(C.window=null),C.wrap=S,C.wbits=x,M(_))):N}function O(_,x){var S,C;return _?(C=new j,(_.state=C).window=null,(S=B(_,x))!==0&&(_.state=null),S):N}var R,E,I=!0;function A(_){if(I){var x;for(R=new p.Buf32(512),E=new p.Buf32(32),x=0;x<144;)_.lens[x++]=8;for(;x<256;)_.lens[x++]=9;for(;x<280;)_.lens[x++]=7;for(;x<288;)_.lens[x++]=8;for(k(1,_.lens,0,288,R,0,_.work,{bits:9}),x=0;x<32;)_.lens[x++]=5;k(2,_.lens,0,32,E,0,_.work,{bits:5}),I=!1}_.lencode=R,_.lenbits=9,_.distcode=E,_.distbits=5}function w(_,x,S,C){var q,P=_.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new p.Buf8(P.wsize)),C>=P.wsize?(p.arraySet(P.window,x,S-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(C<(q=P.wsize-P.wnext)&&(q=C),p.arraySet(P.window,x,S-C,q,P.wnext),(C-=q)?(p.arraySet(P.window,x,S-C,C,0),P.wnext=C,P.whave=P.wsize):(P.wnext+=q,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=q))),0}v.inflateReset=M,v.inflateReset2=B,v.inflateResetKeep=T,v.inflateInit=function(_){return O(_,15)},v.inflateInit2=O,v.inflate=function(_,x){var S,C,q,P,H,X,Z,V,Q,z,D,W,ee,oe,ie,ae,le,ne,se,ye,me,we,_e,Se,Te=0,je=new p.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return N;(S=_.state).mode===12&&(S.mode=13),H=_.next_out,q=_.output,Z=_.avail_out,P=_.next_in,C=_.input,X=_.avail_in,V=S.hold,Q=S.bits,z=X,D=Z,we=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(2&S.wrap&&V===35615){je[S.check=0]=255&V,je[1]=V>>>8&255,S.check=m(S.check,je,2,0),Q=V=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&V)<<8)+(V>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&V)!=8){_.msg="unknown compression method",S.mode=30;break}if(Q-=4,me=8+(15&(V>>>=4)),S.wbits===0)S.wbits=me;else if(me>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<me,_.adler=S.check=1,S.mode=512&V?10:12,Q=V=0;break;case 2:for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(S.flags=V,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=V>>8&1),512&S.flags&&(je[0]=255&V,je[1]=V>>>8&255,S.check=m(S.check,je,2,0)),Q=V=0,S.mode=3;case 3:for(;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.head&&(S.head.time=V),512&S.flags&&(je[0]=255&V,je[1]=V>>>8&255,je[2]=V>>>16&255,je[3]=V>>>24&255,S.check=m(S.check,je,4,0)),Q=V=0,S.mode=4;case 4:for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.head&&(S.head.xflags=255&V,S.head.os=V>>8),512&S.flags&&(je[0]=255&V,je[1]=V>>>8&255,S.check=m(S.check,je,2,0)),Q=V=0,S.mode=5;case 5:if(1024&S.flags){for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.length=V,S.head&&(S.head.extra_len=V),512&S.flags&&(je[0]=255&V,je[1]=V>>>8&255,S.check=m(S.check,je,2,0)),Q=V=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(X<(W=S.length)&&(W=X),W&&(S.head&&(me=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,C,P,W,me)),512&S.flags&&(S.check=m(S.check,C,W,P)),X-=W,P+=W,S.length-=W),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(X===0)break e;for(W=0;me=C[P+W++],S.head&&me&&S.length<65536&&(S.head.name+=String.fromCharCode(me)),me&&W<X;);if(512&S.flags&&(S.check=m(S.check,C,W,P)),X-=W,P+=W,me)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(X===0)break e;for(W=0;me=C[P+W++],S.head&&me&&S.length<65536&&(S.head.comment+=String.fromCharCode(me)),me&&W<X;);if(512&S.flags&&(S.check=m(S.check,C,W,P)),X-=W,P+=W,me)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(V!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}Q=V=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}_.adler=S.check=F(V),Q=V=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=H,_.avail_out=Z,_.next_in=P,_.avail_in=X,S.hold=V,S.bits=Q,2;_.adler=S.check=1,S.mode=12;case 12:if(x===5||x===6)break e;case 13:if(S.last){V>>>=7&Q,Q-=7&Q,S.mode=27;break}for(;Q<3;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}switch(S.last=1&V,Q-=1,3&(V>>>=1)){case 0:S.mode=14;break;case 1:if(A(S),S.mode=20,x!==6)break;V>>>=2,Q-=2;break e;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}V>>>=2,Q-=2;break;case 14:for(V>>>=7&Q,Q-=7&Q;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if((65535&V)!=(V>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&V,Q=V=0,S.mode=15,x===6)break e;case 15:S.mode=16;case 16:if(W=S.length){if(X<W&&(W=X),Z<W&&(W=Z),W===0)break e;p.arraySet(q,C,P,W,H),X-=W,P+=W,Z-=W,H+=W,S.length-=W;break}S.mode=12;break;case 17:for(;Q<14;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(S.nlen=257+(31&V),V>>>=5,Q-=5,S.ndist=1+(31&V),V>>>=5,Q-=5,S.ncode=4+(15&V),V>>>=4,Q-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;Q<3;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.lens[Ue[S.have++]]=7&V,V>>>=3,Q-=3}for(;S.have<19;)S.lens[Ue[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,_e={bits:S.lenbits},we=k(0,S.lens,0,19,S.lencode,0,S.work,_e),S.lenbits=_e.bits,we){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ae=(Te=S.lencode[V&(1<<S.lenbits)-1])>>>16&255,le=65535&Te,!((ie=Te>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(le<16)V>>>=ie,Q-=ie,S.lens[S.have++]=le;else{if(le===16){for(Se=ie+2;Q<Se;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(V>>>=ie,Q-=ie,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}me=S.lens[S.have-1],W=3+(3&V),V>>>=2,Q-=2}else if(le===17){for(Se=ie+3;Q<Se;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}Q-=ie,me=0,W=3+(7&(V>>>=ie)),V>>>=3,Q-=3}else{for(Se=ie+7;Q<Se;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}Q-=ie,me=0,W=11+(127&(V>>>=ie)),V>>>=7,Q-=7}if(S.have+W>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;W--;)S.lens[S.have++]=me}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,_e={bits:S.lenbits},we=k(1,S.lens,0,S.nlen,S.lencode,0,S.work,_e),S.lenbits=_e.bits,we){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,_e={bits:S.distbits},we=k(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,_e),S.distbits=_e.bits,we){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,x===6)break e;case 20:S.mode=21;case 21:if(6<=X&&258<=Z){_.next_out=H,_.avail_out=Z,_.next_in=P,_.avail_in=X,S.hold=V,S.bits=Q,b(_,D),H=_.next_out,q=_.output,Z=_.avail_out,P=_.next_in,C=_.input,X=_.avail_in,V=S.hold,Q=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ae=(Te=S.lencode[V&(1<<S.lenbits)-1])>>>16&255,le=65535&Te,!((ie=Te>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(ae&&!(240&ae)){for(ne=ie,se=ae,ye=le;ae=(Te=S.lencode[ye+((V&(1<<ne+se)-1)>>ne)])>>>16&255,le=65535&Te,!(ne+(ie=Te>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}V>>>=ne,Q-=ne,S.back+=ne}if(V>>>=ie,Q-=ie,S.back+=ie,S.length=le,ae===0){S.mode=26;break}if(32&ae){S.back=-1,S.mode=12;break}if(64&ae){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ae,S.mode=22;case 22:if(S.extra){for(Se=S.extra;Q<Se;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.length+=V&(1<<S.extra)-1,V>>>=S.extra,Q-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ae=(Te=S.distcode[V&(1<<S.distbits)-1])>>>16&255,le=65535&Te,!((ie=Te>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(!(240&ae)){for(ne=ie,se=ae,ye=le;ae=(Te=S.distcode[ye+((V&(1<<ne+se)-1)>>ne)])>>>16&255,le=65535&Te,!(ne+(ie=Te>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}V>>>=ne,Q-=ne,S.back+=ne}if(V>>>=ie,Q-=ie,S.back+=ie,64&ae){_.msg="invalid distance code",S.mode=30;break}S.offset=le,S.extra=15&ae,S.mode=24;case 24:if(S.extra){for(Se=S.extra;Q<Se;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.offset+=V&(1<<S.extra)-1,V>>>=S.extra,Q-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Z===0)break e;if(W=D-Z,S.offset>W){if((W=S.offset-W)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}ee=W>S.wnext?(W-=S.wnext,S.wsize-W):S.wnext-W,W>S.length&&(W=S.length),oe=S.window}else oe=q,ee=H-S.offset,W=S.length;for(Z<W&&(W=Z),Z-=W,S.length-=W;q[H++]=oe[ee++],--W;);S.length===0&&(S.mode=21);break;case 26:if(Z===0)break e;q[H++]=S.length,Z--,S.mode=21;break;case 27:if(S.wrap){for(;Q<32;){if(X===0)break e;X--,V|=C[P++]<<Q,Q+=8}if(D-=Z,_.total_out+=D,S.total+=D,D&&(_.adler=S.check=S.flags?m(S.check,q,D,H-D):y(S.check,q,D,H-D)),D=Z,(S.flags?V:F(V))!==S.check){_.msg="incorrect data check",S.mode=30;break}Q=V=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(V!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}Q=V=0}S.mode=29;case 29:we=1;break e;case 30:we=-3;break e;case 31:return-4;case 32:default:return N}return _.next_out=H,_.avail_out=Z,_.next_in=P,_.avail_in=X,S.hold=V,S.bits=Q,(S.wsize||D!==_.avail_out&&S.mode<30&&(S.mode<27||x!==4))&&w(_,_.output,_.next_out,D-_.avail_out)?(S.mode=31,-4):(z-=_.avail_in,D-=_.avail_out,_.total_in+=z,_.total_out+=D,S.total+=D,S.wrap&&D&&(_.adler=S.check=S.flags?m(S.check,q,D,_.next_out-D):y(S.check,q,D,_.next_out-D)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(z==0&&D===0||x===4)&&we===0&&(we=-5),we)},v.inflateEnd=function(_){if(!_||!_.state)return N;var x=_.state;return x.window&&(x.window=null),_.state=null,0},v.inflateGetHeader=function(_,x){var S;return _&&_.state&&2&(S=_.state).wrap?((S.head=x).done=!1,0):N},v.inflateSetDictionary=function(_,x){var S,C=x.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?N:S.mode===11&&y(1,x,C,0)!==S.check?-3:w(_,x,C,C)?(S.mode=31,-4):(S.havedict=1,0):N},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,v){var p=h("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(N,F,j,T,M,B,O,R){var E,I,A,w,_,x,S,C,q,P=R.bits,H=0,X=0,Z=0,V=0,Q=0,z=0,D=0,W=0,ee=0,oe=0,ie=null,ae=0,le=new p.Buf16(16),ne=new p.Buf16(16),se=null,ye=0;for(H=0;H<=15;H++)le[H]=0;for(X=0;X<T;X++)le[F[j+X]]++;for(Q=P,V=15;1<=V&&le[V]===0;V--);if(V<Q&&(Q=V),V===0)return M[B++]=20971520,M[B++]=20971520,R.bits=1,0;for(Z=1;Z<V&&le[Z]===0;Z++);for(Q<Z&&(Q=Z),H=W=1;H<=15;H++)if(W<<=1,(W-=le[H])<0)return-1;if(0<W&&(N===0||V!==1))return-1;for(ne[1]=0,H=1;H<15;H++)ne[H+1]=ne[H]+le[H];for(X=0;X<T;X++)F[j+X]!==0&&(O[ne[F[j+X]]++]=X);if(x=N===0?(ie=se=O,19):N===1?(ie=y,ae-=257,se=m,ye-=257,256):(ie=b,se=k,-1),H=Z,_=B,D=X=oe=0,A=-1,w=(ee=1<<(z=Q))-1,N===1&&852<ee||N===2&&592<ee)return 1;for(;;){for(S=H-D,q=O[X]<x?(C=0,O[X]):O[X]>x?(C=se[ye+O[X]],ie[ae+O[X]]):(C=96,0),E=1<<H-D,Z=I=1<<z;M[_+(oe>>D)+(I-=E)]=S<<24|C<<16|q|0,I!==0;);for(E=1<<H-1;oe&E;)E>>=1;if(E!==0?(oe&=E-1,oe+=E):oe=0,X++,--le[H]==0){if(H===V)break;H=F[j+O[X]]}if(Q<H&&(oe&w)!==A){for(D===0&&(D=Q),_+=Z,W=1<<(z=H-D);z+D<V&&!((W-=le[z+D])<=0);)z++,W<<=1;if(ee+=1<<z,N===1&&852<ee||N===2&&592<ee)return 1;M[A=oe&w]=Q<<24|z<<16|_-B|0}}return oe!==0&&(M[_+oe]=H-D<<24|64<<16|0),R.bits=Q,0}},{"../utils/common":41}],51:[function(h,g,v){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,v){var p=h("../utils/common");function y(se){for(var ye=se.length;0<=--ye;)se[ye]=0}var m=256,b=286,k=30,N=15,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);y(B);var O=new Array(60);y(O);var R=new Array(512);y(R);var E=new Array(256);y(E);var I=new Array(29);y(I);var A,w,_,x=new Array(k);function S(se,ye,me,we,_e){this.static_tree=se,this.extra_bits=ye,this.extra_base=me,this.elems=we,this.max_length=_e,this.has_stree=se&&se.length}function C(se,ye){this.dyn_tree=se,this.max_code=0,this.stat_desc=ye}function q(se){return se<256?R[se]:R[256+(se>>>7)]}function P(se,ye){se.pending_buf[se.pending++]=255&ye,se.pending_buf[se.pending++]=ye>>>8&255}function H(se,ye,me){se.bi_valid>16-me?(se.bi_buf|=ye<<se.bi_valid&65535,P(se,se.bi_buf),se.bi_buf=ye>>16-se.bi_valid,se.bi_valid+=me-16):(se.bi_buf|=ye<<se.bi_valid&65535,se.bi_valid+=me)}function X(se,ye,me){H(se,me[2*ye],me[2*ye+1])}function Z(se,ye){for(var me=0;me|=1&se,se>>>=1,me<<=1,0<--ye;);return me>>>1}function V(se,ye,me){var we,_e,Se=new Array(16),Te=0;for(we=1;we<=N;we++)Se[we]=Te=Te+me[we-1]<<1;for(_e=0;_e<=ye;_e++){var je=se[2*_e+1];je!==0&&(se[2*_e]=Z(Se[je]++,je))}}function Q(se){var ye;for(ye=0;ye<b;ye++)se.dyn_ltree[2*ye]=0;for(ye=0;ye<k;ye++)se.dyn_dtree[2*ye]=0;for(ye=0;ye<19;ye++)se.bl_tree[2*ye]=0;se.dyn_ltree[512]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function z(se){8<se.bi_valid?P(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function D(se,ye,me,we){var _e=2*ye,Se=2*me;return se[_e]<se[Se]||se[_e]===se[Se]&&we[ye]<=we[me]}function W(se,ye,me){for(var we=se.heap[me],_e=me<<1;_e<=se.heap_len&&(_e<se.heap_len&&D(ye,se.heap[_e+1],se.heap[_e],se.depth)&&_e++,!D(ye,we,se.heap[_e],se.depth));)se.heap[me]=se.heap[_e],me=_e,_e<<=1;se.heap[me]=we}function ee(se,ye,me){var we,_e,Se,Te,je=0;if(se.last_lit!==0)for(;we=se.pending_buf[se.d_buf+2*je]<<8|se.pending_buf[se.d_buf+2*je+1],_e=se.pending_buf[se.l_buf+je],je++,we===0?X(se,_e,ye):(X(se,(Se=E[_e])+m+1,ye),(Te=F[Se])!==0&&H(se,_e-=I[Se],Te),X(se,Se=q(--we),me),(Te=j[Se])!==0&&H(se,we-=x[Se],Te)),je<se.last_lit;);X(se,256,ye)}function oe(se,ye){var me,we,_e,Se=ye.dyn_tree,Te=ye.stat_desc.static_tree,je=ye.stat_desc.has_stree,Ue=ye.stat_desc.elems,qe=-1;for(se.heap_len=0,se.heap_max=573,me=0;me<Ue;me++)Se[2*me]!==0?(se.heap[++se.heap_len]=qe=me,se.depth[me]=0):Se[2*me+1]=0;for(;se.heap_len<2;)Se[2*(_e=se.heap[++se.heap_len]=qe<2?++qe:0)]=1,se.depth[_e]=0,se.opt_len--,je&&(se.static_len-=Te[2*_e+1]);for(ye.max_code=qe,me=se.heap_len>>1;1<=me;me--)W(se,Se,me);for(_e=Ue;me=se.heap[1],se.heap[1]=se.heap[se.heap_len--],W(se,Se,1),we=se.heap[1],se.heap[--se.heap_max]=me,se.heap[--se.heap_max]=we,Se[2*_e]=Se[2*me]+Se[2*we],se.depth[_e]=(se.depth[me]>=se.depth[we]?se.depth[me]:se.depth[we])+1,Se[2*me+1]=Se[2*we+1]=_e,se.heap[1]=_e++,W(se,Se,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(We,Ke){var rt,ut,He,_t,Qe,at,nt=Ke.dyn_tree,yt=Ke.max_code,xt=Ke.stat_desc.static_tree,Ct=Ke.stat_desc.has_stree,ar=Ke.stat_desc.extra_bits,wt=Ke.stat_desc.extra_base,Xt=Ke.stat_desc.max_length,$t=0;for(_t=0;_t<=N;_t++)We.bl_count[_t]=0;for(nt[2*We.heap[We.heap_max]+1]=0,rt=We.heap_max+1;rt<573;rt++)Xt<(_t=nt[2*nt[2*(ut=We.heap[rt])+1]+1]+1)&&(_t=Xt,$t++),nt[2*ut+1]=_t,yt<ut||(We.bl_count[_t]++,Qe=0,wt<=ut&&(Qe=ar[ut-wt]),at=nt[2*ut],We.opt_len+=at*(_t+Qe),Ct&&(We.static_len+=at*(xt[2*ut+1]+Qe)));if($t!==0){do{for(_t=Xt-1;We.bl_count[_t]===0;)_t--;We.bl_count[_t]--,We.bl_count[_t+1]+=2,We.bl_count[Xt]--,$t-=2}while(0<$t);for(_t=Xt;_t!==0;_t--)for(ut=We.bl_count[_t];ut!==0;)yt<(He=We.heap[--rt])||(nt[2*He+1]!==_t&&(We.opt_len+=(_t-nt[2*He+1])*nt[2*He],nt[2*He+1]=_t),ut--)}}(se,ye),V(Se,qe,se.bl_count)}function ie(se,ye,me){var we,_e,Se=-1,Te=ye[1],je=0,Ue=7,qe=4;for(Te===0&&(Ue=138,qe=3),ye[2*(me+1)+1]=65535,we=0;we<=me;we++)_e=Te,Te=ye[2*(we+1)+1],++je<Ue&&_e===Te||(je<qe?se.bl_tree[2*_e]+=je:_e!==0?(_e!==Se&&se.bl_tree[2*_e]++,se.bl_tree[32]++):je<=10?se.bl_tree[34]++:se.bl_tree[36]++,Se=_e,qe=(je=0)===Te?(Ue=138,3):_e===Te?(Ue=6,3):(Ue=7,4))}function ae(se,ye,me){var we,_e,Se=-1,Te=ye[1],je=0,Ue=7,qe=4;for(Te===0&&(Ue=138,qe=3),we=0;we<=me;we++)if(_e=Te,Te=ye[2*(we+1)+1],!(++je<Ue&&_e===Te)){if(je<qe)for(;X(se,_e,se.bl_tree),--je!=0;);else _e!==0?(_e!==Se&&(X(se,_e,se.bl_tree),je--),X(se,16,se.bl_tree),H(se,je-3,2)):je<=10?(X(se,17,se.bl_tree),H(se,je-3,3)):(X(se,18,se.bl_tree),H(se,je-11,7));Se=_e,qe=(je=0)===Te?(Ue=138,3):_e===Te?(Ue=6,3):(Ue=7,4)}}y(x);var le=!1;function ne(se,ye,me,we){H(se,0+(we?1:0),3),function(_e,Se,Te,je){z(_e),P(_e,Te),P(_e,~Te),p.arraySet(_e.pending_buf,_e.window,Se,Te,_e.pending),_e.pending+=Te}(se,ye,me)}v._tr_init=function(se){le||(function(){var ye,me,we,_e,Se,Te=new Array(16);for(_e=we=0;_e<28;_e++)for(I[_e]=we,ye=0;ye<1<<F[_e];ye++)E[we++]=_e;for(E[we-1]=_e,_e=Se=0;_e<16;_e++)for(x[_e]=Se,ye=0;ye<1<<j[_e];ye++)R[Se++]=_e;for(Se>>=7;_e<k;_e++)for(x[_e]=Se<<7,ye=0;ye<1<<j[_e]-7;ye++)R[256+Se++]=_e;for(me=0;me<=N;me++)Te[me]=0;for(ye=0;ye<=143;)B[2*ye+1]=8,ye++,Te[8]++;for(;ye<=255;)B[2*ye+1]=9,ye++,Te[9]++;for(;ye<=279;)B[2*ye+1]=7,ye++,Te[7]++;for(;ye<=287;)B[2*ye+1]=8,ye++,Te[8]++;for(V(B,287,Te),ye=0;ye<k;ye++)O[2*ye+1]=5,O[2*ye]=Z(ye,5);A=new S(B,F,257,b,N),w=new S(O,j,0,k,N),_=new S(new Array(0),T,0,19,7)}(),le=!0),se.l_desc=new C(se.dyn_ltree,A),se.d_desc=new C(se.dyn_dtree,w),se.bl_desc=new C(se.bl_tree,_),se.bi_buf=0,se.bi_valid=0,Q(se)},v._tr_stored_block=ne,v._tr_flush_block=function(se,ye,me,we){var _e,Se,Te=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(je){var Ue,qe=4093624447;for(Ue=0;Ue<=31;Ue++,qe>>>=1)if(1&qe&&je.dyn_ltree[2*Ue]!==0)return 0;if(je.dyn_ltree[18]!==0||je.dyn_ltree[20]!==0||je.dyn_ltree[26]!==0)return 1;for(Ue=32;Ue<m;Ue++)if(je.dyn_ltree[2*Ue]!==0)return 1;return 0}(se)),oe(se,se.l_desc),oe(se,se.d_desc),Te=function(je){var Ue;for(ie(je,je.dyn_ltree,je.l_desc.max_code),ie(je,je.dyn_dtree,je.d_desc.max_code),oe(je,je.bl_desc),Ue=18;3<=Ue&&je.bl_tree[2*M[Ue]+1]===0;Ue--);return je.opt_len+=3*(Ue+1)+5+5+4,Ue}(se),_e=se.opt_len+3+7>>>3,(Se=se.static_len+3+7>>>3)<=_e&&(_e=Se)):_e=Se=me+5,me+4<=_e&&ye!==-1?ne(se,ye,me,we):se.strategy===4||Se===_e?(H(se,2+(we?1:0),3),ee(se,B,O)):(H(se,4+(we?1:0),3),function(je,Ue,qe,We){var Ke;for(H(je,Ue-257,5),H(je,qe-1,5),H(je,We-4,4),Ke=0;Ke<We;Ke++)H(je,je.bl_tree[2*M[Ke]+1],3);ae(je,je.dyn_ltree,Ue-1),ae(je,je.dyn_dtree,qe-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Te+1),ee(se,se.dyn_ltree,se.dyn_dtree)),Q(se),we&&z(se)},v._tr_tally=function(se,ye,me){return se.pending_buf[se.d_buf+2*se.last_lit]=ye>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&ye,se.pending_buf[se.l_buf+se.last_lit]=255&me,se.last_lit++,ye===0?se.dyn_ltree[2*me]++:(se.matches++,ye--,se.dyn_ltree[2*(E[me]+m+1)]++,se.dyn_dtree[2*q(ye)]++),se.last_lit===se.lit_bufsize-1},v._tr_align=function(se){H(se,2,3),X(se,256,B),function(ye){ye.bi_valid===16?(P(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(h,g,v){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,v){(function(p){(function(y,m){if(!y.setImmediate){var b,k,N,F,j=1,T={},M=!1,B=y.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(y);O=O&&O.setTimeout?O:y,b={}.toString.call(y.process)==="[object process]"?function(A){i.nextTick(function(){E(A)})}:function(){if(y.postMessage&&!y.importScripts){var A=!0,w=y.onmessage;return y.onmessage=function(){A=!1},y.postMessage("","*"),y.onmessage=w,A}}()?(F="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",I,!1):y.attachEvent("onmessage",I),function(A){y.postMessage(F+A,"*")}):y.MessageChannel?((N=new MessageChannel).port1.onmessage=function(A){E(A.data)},function(A){N.port2.postMessage(A)}):B&&"onreadystatechange"in B.createElement("script")?(k=B.documentElement,function(A){var w=B.createElement("script");w.onreadystatechange=function(){E(A),w.onreadystatechange=null,k.removeChild(w),w=null},k.appendChild(w)}):function(A){setTimeout(E,0,A)},O.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var w=new Array(arguments.length-1),_=0;_<w.length;_++)w[_]=arguments[_+1];var x={callback:A,args:w};return T[j]=x,b(j),j++},O.clearImmediate=R}function R(A){delete T[A]}function E(A){if(M)setTimeout(E,0,A);else{var w=T[A];if(w){M=!0;try{(function(_){var x=_.callback,S=_.args;switch(S.length){case 0:x();break;case 1:x(S[0]);break;case 2:x(S[0],S[1]);break;case 3:x(S[0],S[1],S[2]);break;default:x.apply(void 0,S)}})(w)}finally{R(A),M=!1}}}}function I(A){A.source===y&&typeof A.data=="string"&&A.data.indexOf(F)===0&&E(+A.data.slice(F.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(i){(function(){var o=/[\\^$.*+?()[\]{}|]/g,u=RegExp(o.source),a=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),d=Object.prototype.toString,f=c.Symbol,h=f?f.prototype:void 0,g=h?h.toString:void 0;function v(p){if(typeof p=="string")return p;if(function(m){return typeof m=="symbol"||function(b){return!!b&&typeof b=="object"}(m)&&d.call(m)=="[object Symbol]"}(p))return g?g.call(p):"";var y=p+"";return y=="0"&&1/p==-1/0?"-0":y}n.exports=function(p){var y;return(p=(y=p)==null?"":v(y))&&u.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(i){(function(){var o="[object Arguments]",u="[object Map]",a="[object Object]",l="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[o]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[u]=y["[object Number]"]=y[a]=y["[object RegExp]"]=y[l]=y["[object String]"]=y["[object WeakMap]"]=!1;var m=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,k=m||b||Function("return this")(),N=typeof s=="object"&&s&&!s.nodeType&&s,F=N&&typeof n=="object"&&n&&!n.nodeType&&n,j=F&&F.exports===N&&m.process,T=function(){try{return j&&j.binding("util")}catch{}}(),M=T&&T.isTypedArray;function B(be,Oe,Ge,et){for(var Pt=-1,ft=be?be.length:0;++Pt<ft;){var mt=be[Pt];Oe(et,mt,Ge(mt),be)}return et}function O(be,Oe){for(var Ge=-1,et=be?be.length:0;++Ge<et;)if(Oe(be[Ge],Ge,be))return!0;return!1}function R(be){var Oe=!1;if(be!=null&&typeof be.toString!="function")try{Oe=!!(be+"")}catch{}return Oe}function E(be){var Oe=-1,Ge=Array(be.size);return be.forEach(function(et,Pt){Ge[++Oe]=[Pt,et]}),Ge}function I(be){var Oe=-1,Ge=Array(be.size);return be.forEach(function(et){Ge[++Oe]=et}),Ge}var A,w,_,x=Array.prototype,S=Function.prototype,C=Object.prototype,q=k["__core-js_shared__"],P=(A=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",H=S.toString,X=C.hasOwnProperty,Z=C.toString,V=RegExp("^"+H.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=k.Symbol,z=k.Uint8Array,D=C.propertyIsEnumerable,W=x.splice,ee=(w=Object.keys,_=Object,function(be){return w(_(be))}),oe=Rt(k,"DataView"),ie=Rt(k,"Map"),ae=Rt(k,"Promise"),le=Rt(k,"Set"),ne=Rt(k,"WeakMap"),se=Rt(Object,"create"),ye=Ne(oe),me=Ne(ie),we=Ne(ae),_e=Ne(le),Se=Ne(ne),Te=Q?Q.prototype:void 0,je=Te?Te.valueOf:void 0,Ue=Te?Te.toString:void 0;function qe(be){var Oe=-1,Ge=be?be.length:0;for(this.clear();++Oe<Ge;){var et=be[Oe];this.set(et[0],et[1])}}function We(be){var Oe=-1,Ge=be?be.length:0;for(this.clear();++Oe<Ge;){var et=be[Oe];this.set(et[0],et[1])}}function Ke(be){var Oe=-1,Ge=be?be.length:0;for(this.clear();++Oe<Ge;){var et=be[Oe];this.set(et[0],et[1])}}function rt(be){var Oe=-1,Ge=be?be.length:0;for(this.__data__=new Ke;++Oe<Ge;)this.add(be[Oe])}function ut(be){this.__data__=new We(be)}function He(be,Oe){var Ge=Ve(be)||Mt(be)?function(mt,mr){for(var Zt=-1,nr=Array(mt);++Zt<mt;)nr[Zt]=mr(Zt);return nr}(be.length,String):[],et=Ge.length,Pt=!!et;for(var ft in be)!X.call(be,ft)||Pt&&(ft=="length"||er(ft,et))||Ge.push(ft);return Ge}function _t(be,Oe){for(var Ge=be.length;Ge--;)if(pt(be[Ge][0],Oe))return Ge;return-1}function Qe(be,Oe,Ge,et){return nt(be,function(Pt,ft,mt){Oe(et,Pt,Ge(Pt),mt)}),et}qe.prototype.clear=function(){this.__data__=se?se(null):{}},qe.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},qe.prototype.get=function(be){var Oe=this.__data__;if(se){var Ge=Oe[be];return Ge==="__lodash_hash_undefined__"?void 0:Ge}return X.call(Oe,be)?Oe[be]:void 0},qe.prototype.has=function(be){var Oe=this.__data__;return se?Oe[be]!==void 0:X.call(Oe,be)},qe.prototype.set=function(be,Oe){return this.__data__[be]=se&&Oe===void 0?"__lodash_hash_undefined__":Oe,this},We.prototype.clear=function(){this.__data__=[]},We.prototype.delete=function(be){var Oe=this.__data__,Ge=_t(Oe,be);return!(Ge<0)&&(Ge==Oe.length-1?Oe.pop():W.call(Oe,Ge,1),!0)},We.prototype.get=function(be){var Oe=this.__data__,Ge=_t(Oe,be);return Ge<0?void 0:Oe[Ge][1]},We.prototype.has=function(be){return _t(this.__data__,be)>-1},We.prototype.set=function(be,Oe){var Ge=this.__data__,et=_t(Ge,be);return et<0?Ge.push([be,Oe]):Ge[et][1]=Oe,this},Ke.prototype.clear=function(){this.__data__={hash:new qe,map:new(ie||We),string:new qe}},Ke.prototype.delete=function(be){return Nt(this,be).delete(be)},Ke.prototype.get=function(be){return Nt(this,be).get(be)},Ke.prototype.has=function(be){return Nt(this,be).has(be)},Ke.prototype.set=function(be,Oe){return Nt(this,be).set(be,Oe),this},rt.prototype.add=rt.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},rt.prototype.has=function(be){return this.__data__.has(be)},ut.prototype.clear=function(){this.__data__=new We},ut.prototype.delete=function(be){return this.__data__.delete(be)},ut.prototype.get=function(be){return this.__data__.get(be)},ut.prototype.has=function(be){return this.__data__.has(be)},ut.prototype.set=function(be,Oe){var Ge=this.__data__;if(Ge instanceof We){var et=Ge.__data__;if(!ie||et.length<199)return et.push([be,Oe]),this;Ge=this.__data__=new Ke(et)}return Ge.set(be,Oe),this};var at,nt=(at=function(be,Oe){return be&&yt(be,Oe,Dr)},function(be,Oe){if(be==null)return be;if(!it(be))return at(be,Oe);for(var Ge=be.length,et=-1,Pt=Object(be);++et<Ge&&Oe(Pt[et],et,Pt)!==!1;);return be}),yt=function(be){return function(Oe,Ge,et){for(var Pt=-1,ft=Object(Oe),mt=et(Oe),mr=mt.length;mr--;){var Zt=mt[++Pt];if(Ge(ft[Zt],Zt,ft)===!1)break}return Oe}}();function xt(be,Oe){for(var Ge=0,et=(Oe=Dt(Oe,be)?[Oe]:At(Oe)).length;be!=null&&Ge<et;)be=be[ke(Oe[Ge++])];return Ge&&Ge==et?be:void 0}function Ct(be,Oe){return be!=null&&Oe in Object(be)}function ar(be,Oe,Ge,et,Pt){return be===Oe||(be==null||Oe==null||!Lt(be)&&!or(Oe)?be!=be&&Oe!=Oe:function(ft,mt,mr,Zt,nr,zt){var br=Ve(ft),Ht=Ve(mt),wr="[object Array]",Ir="[object Array]";br||(wr=(wr=qt(ft))==o?a:wr),Ht||(Ir=(Ir=qt(mt))==o?a:Ir);var en=wr==a&&!R(ft),un=Ir==a&&!R(mt),Un=wr==Ir;if(Un&&!en)return zt||(zt=new ut),br||Mr(ft)?vt(ft,mt,mr,Zt,nr,zt):function(vr,pr,si,_r,Li,cn,xn){switch(si){case"[object DataView]":if(vr.byteLength!=pr.byteLength||vr.byteOffset!=pr.byteOffset)return!1;vr=vr.buffer,pr=pr.buffer;case"[object ArrayBuffer]":return!(vr.byteLength!=pr.byteLength||!_r(new z(vr),new z(pr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+vr,+pr);case"[object Error]":return vr.name==pr.name&&vr.message==pr.message;case"[object RegExp]":case"[object String]":return vr==pr+"";case u:var Oi=E;case l:var cs=2&cn;if(Oi||(Oi=I),vr.size!=pr.size&&!cs)return!1;var Js=xn.get(vr);if(Js)return Js==pr;cn|=1,xn.set(vr,pr);var zn=vt(Oi(vr),Oi(pr),_r,Li,cn,xn);return xn.delete(vr),zn;case"[object Symbol]":if(je)return je.call(vr)==je.call(pr)}return!1}(ft,mt,wr,mr,Zt,nr,zt);if(!(2&nr)){var mn=en&&X.call(ft,"__wrapped__"),xi=un&&X.call(mt,"__wrapped__");if(mn||xi){var Fr=mn?ft.value():ft,gn=xi?mt.value():mt;return zt||(zt=new ut),mr(Fr,gn,Zt,nr,zt)}}return Un?(zt||(zt=new ut),function(vr,pr,si,_r,Li,cn){var xn=2&Li,Oi=Dr(vr),cs=Oi.length,Js=Dr(pr).length;if(cs!=Js&&!xn)return!1;for(var zn=cs;zn--;){var Xn=Oi[zn];if(!(xn?Xn in pr:X.call(pr,Xn)))return!1}var Ns=cn.get(vr);if(Ns&&cn.get(pr))return Ns==pr;var Si=!0;cn.set(vr,pr),cn.set(pr,vr);for(var Br=xn;++zn<cs;){Xn=Oi[zn];var Ps=vr[Xn],hs=pr[Xn];if(_r)var Qt=xn?_r(hs,Ps,Xn,pr,vr,cn):_r(Ps,hs,Xn,vr,pr,cn);if(!(Qt===void 0?Ps===hs||si(Ps,hs,_r,Li,cn):Qt)){Si=!1;break}Br||(Br=Xn=="constructor")}if(Si&&!Br){var ki=vr.constructor,eo=pr.constructor;ki==eo||!("constructor"in vr)||!("constructor"in pr)||typeof ki=="function"&&ki instanceof ki&&typeof eo=="function"&&eo instanceof eo||(Si=!1)}return cn.delete(vr),cn.delete(pr),Si}(ft,mt,mr,Zt,nr,zt)):!1}(be,Oe,ar,Ge,et,Pt))}function wt(be){return!(!Lt(be)||function(Oe){return!!P&&P in Oe}(be))&&(St(be)||R(be)?V:v).test(Ne(be))}function Xt(be){return typeof be=="function"?be:be==null?on:typeof be=="object"?Ve(be)?function(et,Pt){return Dt(et)&&ct(Pt)?ir(ke(et),Pt):function(ft){var mt=function(mr,Zt,nr){var zt=mr==null?void 0:xt(mr,Zt);return zt===void 0?nr:zt}(ft,et);return mt===void 0&&mt===Pt?function(mr,Zt){return mr!=null&&function(nr,zt,br){zt=Dt(zt,nr)?[zt]:At(zt);for(var Ht,wr=-1,Ir=zt.length;++wr<Ir;){var en=ke(zt[wr]);if(!(Ht=nr!=null&&br(nr,en)))break;nr=nr[en]}return Ht||!!(Ir=nr?nr.length:0)&&bt(Ir)&&er(en,Ir)&&(Ve(nr)||Mt(nr))}(mr,Zt,Ct)}(ft,et):ar(Pt,mt,void 0,3)}}(be[0],be[1]):function(et){var Pt=function(ft){for(var mt=Dr(ft),mr=mt.length;mr--;){var Zt=mt[mr],nr=ft[Zt];mt[mr]=[Zt,nr,ct(nr)]}return mt}(et);return Pt.length==1&&Pt[0][2]?ir(Pt[0][0],Pt[0][1]):function(ft){return ft===et||function(mt,mr,Zt,nr){var zt=Zt.length,br=zt;if(mt==null)return!br;for(mt=Object(mt);zt--;){var Ht=Zt[zt];if(Ht[2]?Ht[1]!==mt[Ht[0]]:!(Ht[0]in mt))return!1}for(;++zt<br;){var wr=(Ht=Zt[zt])[0],Ir=mt[wr],en=Ht[1];if(Ht[2]){if(Ir===void 0&&!(wr in mt))return!1}else{var un=new ut,Un;if(!(Un===void 0?ar(en,Ir,nr,3,un):Un))return!1}}return!0}(ft,et,Pt)}}(be):Dt(Oe=be)?(Ge=ke(Oe),function(et){return et==null?void 0:et[Ge]}):function(et){return function(Pt){return xt(Pt,et)}}(Oe);var Oe,Ge}function $t(be){if(Ge=(Oe=be)&&Oe.constructor,et=typeof Ge=="function"&&Ge.prototype||C,Oe!==et)return ee(be);var Oe,Ge,et,Pt=[];for(var ft in Object(be))X.call(be,ft)&&ft!="constructor"&&Pt.push(ft);return Pt}function At(be){return Ve(be)?be:Ut(be)}function vt(be,Oe,Ge,et,Pt,ft){var mt=2&Pt,mr=be.length,Zt=Oe.length;if(mr!=Zt&&!(mt&&Zt>mr))return!1;var nr=ft.get(be);if(nr&&ft.get(Oe))return nr==Oe;var zt=-1,br=!0,Ht=1&Pt?new rt:void 0;for(ft.set(be,Oe),ft.set(Oe,be);++zt<mr;){var wr=be[zt],Ir=Oe[zt];if(et)var en=mt?et(Ir,wr,zt,Oe,be,ft):et(wr,Ir,zt,be,Oe,ft);if(en!==void 0){if(en)continue;br=!1;break}if(Ht){if(!O(Oe,function(un,Un){if(!Ht.has(Un)&&(wr===un||Ge(wr,un,et,Pt,ft)))return Ht.add(Un)})){br=!1;break}}else if(wr!==Ir&&!Ge(wr,Ir,et,Pt,ft)){br=!1;break}}return ft.delete(be),ft.delete(Oe),br}function Nt(be,Oe){var Ge,et,Pt=be.__data__;return((et=typeof(Ge=Oe))=="string"||et=="number"||et=="symbol"||et=="boolean"?Ge!=="__proto__":Ge===null)?Pt[typeof Oe=="string"?"string":"hash"]:Pt.map}function Rt(be,Oe){var Ge=function(et,Pt){return et==null?void 0:et[Pt]}(be,Oe);return wt(Ge)?Ge:void 0}var qt=function(be){return Z.call(be)};function er(be,Oe){return!!(Oe=Oe??9007199254740991)&&(typeof be=="number"||p.test(be))&&be>-1&&be%1==0&&be<Oe}function Dt(be,Oe){if(Ve(be))return!1;var Ge=typeof be;return!(Ge!="number"&&Ge!="symbol"&&Ge!="boolean"&&be!=null&&!yr(be))||d.test(be)||!c.test(be)||Oe!=null&&be in Object(Oe)}function ct(be){return be==be&&!Lt(be)}function ir(be,Oe){return function(Ge){return Ge!=null&&Ge[be]===Oe&&(Oe!==void 0||be in Object(Ge))}}(oe&&qt(new oe(new ArrayBuffer(1)))!="[object DataView]"||ie&&qt(new ie)!=u||ae&&qt(ae.resolve())!="[object Promise]"||le&&qt(new le)!=l||ne&&qt(new ne)!="[object WeakMap]")&&(qt=function(be){var Oe=Z.call(be),Ge=Oe==a?be.constructor:void 0,et=Ge?Ne(Ge):void 0;if(et)switch(et){case ye:return"[object DataView]";case me:return u;case we:return"[object Promise]";case _e:return l;case Se:return"[object WeakMap]"}return Oe});var Ut=Ft(function(be){var Oe;be=(Oe=be)==null?"":function(et){if(typeof et=="string")return et;if(yr(et))return Ue?Ue.call(et):"";var Pt=et+"";return Pt=="0"&&1/et==-1/0?"-0":Pt}(Oe);var Ge=[];return f.test(be)&&Ge.push(""),be.replace(h,function(et,Pt,ft,mt){Ge.push(ft?mt.replace(g,"$1"):Pt||et)}),Ge});function ke(be){if(typeof be=="string"||yr(be))return be;var Oe=be+"";return Oe=="0"&&1/be==-1/0?"-0":Oe}function Ne(be){if(be!=null){try{return H.call(be)}catch{}try{return be+""}catch{}}return""}var ze,st=(ze=function(be,Oe,Ge){X.call(be,Ge)?be[Ge].push(Oe):be[Ge]=[Oe]},function(be,Oe){var Ge=Ve(be)?B:Qe,et={};return Ge(be,ze,Xt(Oe),et)});function Ft(be,Oe){if(typeof be!="function"||Oe&&typeof Oe!="function")throw new TypeError("Expected a function");var Ge=function(){var et=arguments,Pt=Oe?Oe.apply(this,et):et[0],ft=Ge.cache;if(ft.has(Pt))return ft.get(Pt);var mt=be.apply(this,et);return Ge.cache=ft.set(Pt,mt),mt};return Ge.cache=new(Ft.Cache||Ke),Ge}function pt(be,Oe){return be===Oe||be!=be&&Oe!=Oe}function Mt(be){return function(Oe){return or(Oe)&&it(Oe)}(be)&&X.call(be,"callee")&&(!D.call(be,"callee")||Z.call(be)==o)}Ft.Cache=Ke;var Ve=Array.isArray;function it(be){return be!=null&&bt(be.length)&&!St(be)}function St(be){var Oe=Lt(be)?Z.call(be):"";return Oe=="[object Function]"||Oe=="[object GeneratorFunction]"}function bt(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function Lt(be){var Oe=typeof be;return!!be&&(Oe=="object"||Oe=="function")}function or(be){return!!be&&typeof be=="object"}function yr(be){return typeof be=="symbol"||or(be)&&Z.call(be)=="[object Symbol]"}var Mr=M?function(be){return function(Oe){return be(Oe)}}(M):function(be){return or(be)&&bt(be.length)&&!!y[Z.call(be)]};function Dr(be){return it(be)?He(be):$t(be)}function on(be){return be}n.exports=st}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var i=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(u){return!!u&&typeof u=="object"}(o)&&i.call(o)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(i){(function(){var o="[object Arguments]",u="[object Map]",a="[object Object]",l="[object Set]",c=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[u]=f["[object Number]"]=f[a]=f["[object RegExp]"]=f[l]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,v=h||g||Function("return this")(),p=typeof s=="object"&&s&&!s.nodeType&&s,y=p&&typeof n=="object"&&n&&!n.nodeType&&n,m=y&&y.exports===p,b=m&&h.process,k=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),N=k&&k.isTypedArray;function F(ke,Ne){for(var ze=-1,st=ke==null?0:ke.length;++ze<st;)if(Ne(ke[ze],ze,ke))return!0;return!1}function j(ke){var Ne=-1,ze=Array(ke.size);return ke.forEach(function(st,Ft){ze[++Ne]=[Ft,st]}),ze}function T(ke){var Ne=-1,ze=Array(ke.size);return ke.forEach(function(st){ze[++Ne]=st}),ze}var M,B,O,R=Array.prototype,E=Function.prototype,I=Object.prototype,A=v["__core-js_shared__"],w=E.toString,_=I.hasOwnProperty,x=(M=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",S=I.toString,C=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=m?v.Buffer:void 0,P=v.Symbol,H=v.Uint8Array,X=I.propertyIsEnumerable,Z=R.splice,V=P?P.toStringTag:void 0,Q=Object.getOwnPropertySymbols,z=q?q.isBuffer:void 0,D=(B=Object.keys,O=Object,function(ke){return B(O(ke))}),W=Ct(v,"DataView"),ee=Ct(v,"Map"),oe=Ct(v,"Promise"),ie=Ct(v,"Set"),ae=Ct(v,"WeakMap"),le=Ct(Object,"create"),ne=$t(W),se=$t(ee),ye=$t(oe),me=$t(ie),we=$t(ae),_e=P?P.prototype:void 0,Se=_e?_e.valueOf:void 0;function Te(ke){var Ne=-1,ze=ke==null?0:ke.length;for(this.clear();++Ne<ze;){var st=ke[Ne];this.set(st[0],st[1])}}function je(ke){var Ne=-1,ze=ke==null?0:ke.length;for(this.clear();++Ne<ze;){var st=ke[Ne];this.set(st[0],st[1])}}function Ue(ke){var Ne=-1,ze=ke==null?0:ke.length;for(this.clear();++Ne<ze;){var st=ke[Ne];this.set(st[0],st[1])}}function qe(ke){var Ne=-1,ze=ke==null?0:ke.length;for(this.__data__=new Ue;++Ne<ze;)this.add(ke[Ne])}function We(ke){var Ne=this.__data__=new je(ke);this.size=Ne.size}function Ke(ke,Ne){var ze=Nt(ke),st=!ze&&vt(ke),Ft=!ze&&!st&&Rt(ke),pt=!ze&&!st&&!Ft&&ir(ke),Mt=ze||st||Ft||pt,Ve=Mt?function(bt,Lt){for(var or=-1,yr=Array(bt);++or<bt;)yr[or]=Lt(or);return yr}(ke.length,String):[],it=Ve.length;for(var St in ke)!_.call(ke,St)||Mt&&(St=="length"||Ft&&(St=="offset"||St=="parent")||pt&&(St=="buffer"||St=="byteLength"||St=="byteOffset")||Xt(St,it))||Ve.push(St);return Ve}function rt(ke,Ne){for(var ze=ke.length;ze--;)if(At(ke[ze][0],Ne))return ze;return-1}function ut(ke){return ke==null?ke===void 0?"[object Undefined]":"[object Null]":V&&V in Object(ke)?function(Ne){var ze=_.call(Ne,V),st=Ne[V];try{Ne[V]=void 0;var Ft=!0}catch{}var pt=S.call(Ne);return Ft&&(ze?Ne[V]=st:delete Ne[V]),pt}(ke):function(Ne){return S.call(Ne)}(ke)}function He(ke){return ct(ke)&&ut(ke)==o}function _t(ke,Ne,ze,st,Ft){return ke===Ne||(ke==null||Ne==null||!ct(ke)&&!ct(Ne)?ke!=ke&&Ne!=Ne:function(pt,Mt,Ve,it,St,bt){var Lt=Nt(pt),or=Nt(Mt),yr=Lt?"[object Array]":wt(pt),Mr=or?"[object Array]":wt(Mt),Dr=(yr=yr==o?a:yr)==a,on=(Mr=Mr==o?a:Mr)==a,be=yr==Mr;if(be&&Rt(pt)){if(!Rt(Mt))return!1;Lt=!0,Dr=!1}if(be&&!Dr)return bt||(bt=new We),Lt||ir(pt)?nt(pt,Mt,Ve,it,St,bt):function(ft,mt,mr,Zt,nr,zt,br){switch(mr){case"[object DataView]":if(ft.byteLength!=mt.byteLength||ft.byteOffset!=mt.byteOffset)return!1;ft=ft.buffer,mt=mt.buffer;case"[object ArrayBuffer]":return!(ft.byteLength!=mt.byteLength||!zt(new H(ft),new H(mt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+ft,+mt);case"[object Error]":return ft.name==mt.name&&ft.message==mt.message;case"[object RegExp]":case"[object String]":return ft==mt+"";case u:var Ht=j;case l:var wr=1&Zt;if(Ht||(Ht=T),ft.size!=mt.size&&!wr)return!1;var Ir=br.get(ft);if(Ir)return Ir==mt;Zt|=2,br.set(ft,mt);var en=nt(Ht(ft),Ht(mt),Zt,nr,zt,br);return br.delete(ft),en;case"[object Symbol]":if(Se)return Se.call(ft)==Se.call(mt)}return!1}(pt,Mt,yr,Ve,it,St,bt);if(!(1&Ve)){var Oe=Dr&&_.call(pt,"__wrapped__"),Ge=on&&_.call(Mt,"__wrapped__");if(Oe||Ge){var et=Oe?pt.value():pt,Pt=Ge?Mt.value():Mt;return bt||(bt=new We),St(et,Pt,Ve,it,bt)}}return be?(bt||(bt=new We),function(ft,mt,mr,Zt,nr,zt){var br=1&mr,Ht=yt(ft),wr=Ht.length,Ir=yt(mt).length;if(wr!=Ir&&!br)return!1;for(var en=wr;en--;){var un=Ht[en];if(!(br?un in mt:_.call(mt,un)))return!1}var Un=zt.get(ft);if(Un&&zt.get(mt))return Un==mt;var mn=!0;zt.set(ft,mt),zt.set(mt,ft);for(var xi=br;++en<wr;){un=Ht[en];var Fr=ft[un],gn=mt[un];if(Zt)var vr=br?Zt(gn,Fr,un,mt,ft,zt):Zt(Fr,gn,un,ft,mt,zt);if(!(vr===void 0?Fr===gn||nr(Fr,gn,mr,Zt,zt):vr)){mn=!1;break}xi||(xi=un=="constructor")}if(mn&&!xi){var pr=ft.constructor,si=mt.constructor;pr==si||!("constructor"in ft)||!("constructor"in mt)||typeof pr=="function"&&pr instanceof pr&&typeof si=="function"&&si instanceof si||(mn=!1)}return zt.delete(ft),zt.delete(mt),mn}(pt,Mt,Ve,it,St,bt)):!1}(ke,Ne,ze,st,_t,Ft))}function Qe(ke){return!(!Dt(ke)||function(Ne){return!!x&&x in Ne}(ke))&&(qt(ke)?C:c).test($t(ke))}function at(ke){if(ze=(Ne=ke)&&Ne.constructor,st=typeof ze=="function"&&ze.prototype||I,Ne!==st)return D(ke);var Ne,ze,st,Ft=[];for(var pt in Object(ke))_.call(ke,pt)&&pt!="constructor"&&Ft.push(pt);return Ft}function nt(ke,Ne,ze,st,Ft,pt){var Mt=1&ze,Ve=ke.length,it=Ne.length;if(Ve!=it&&!(Mt&&it>Ve))return!1;var St=pt.get(ke);if(St&&pt.get(Ne))return St==Ne;var bt=-1,Lt=!0,or=2&ze?new qe:void 0;for(pt.set(ke,Ne),pt.set(Ne,ke);++bt<Ve;){var yr=ke[bt],Mr=Ne[bt];if(st)var Dr=Mt?st(Mr,yr,bt,Ne,ke,pt):st(yr,Mr,bt,ke,Ne,pt);if(Dr!==void 0){if(Dr)continue;Lt=!1;break}if(or){if(!F(Ne,function(on,be){if(Oe=be,!or.has(Oe)&&(yr===on||Ft(yr,on,ze,st,pt)))return or.push(be);var Oe})){Lt=!1;break}}else if(yr!==Mr&&!Ft(yr,Mr,ze,st,pt)){Lt=!1;break}}return pt.delete(ke),pt.delete(Ne),Lt}function yt(ke){return function(Ne,ze,st){var Ft=ze(Ne);return Nt(Ne)?Ft:function(pt,Mt){for(var Ve=-1,it=Mt.length,St=pt.length;++Ve<it;)pt[St+Ve]=Mt[Ve];return pt}(Ft,st(Ne))}(ke,Ut,ar)}function xt(ke,Ne){var ze,st,Ft=ke.__data__;return((st=typeof(ze=Ne))=="string"||st=="number"||st=="symbol"||st=="boolean"?ze!=="__proto__":ze===null)?Ft[typeof Ne=="string"?"string":"hash"]:Ft.map}function Ct(ke,Ne){var ze=function(st,Ft){return st==null?void 0:st[Ft]}(ke,Ne);return Qe(ze)?ze:void 0}Te.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},Te.prototype.delete=function(ke){var Ne=this.has(ke)&&delete this.__data__[ke];return this.size-=Ne?1:0,Ne},Te.prototype.get=function(ke){var Ne=this.__data__;if(le){var ze=Ne[ke];return ze==="__lodash_hash_undefined__"?void 0:ze}return _.call(Ne,ke)?Ne[ke]:void 0},Te.prototype.has=function(ke){var Ne=this.__data__;return le?Ne[ke]!==void 0:_.call(Ne,ke)},Te.prototype.set=function(ke,Ne){var ze=this.__data__;return this.size+=this.has(ke)?0:1,ze[ke]=le&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},je.prototype.clear=function(){this.__data__=[],this.size=0},je.prototype.delete=function(ke){var Ne=this.__data__,ze=rt(Ne,ke);return!(ze<0)&&(ze==Ne.length-1?Ne.pop():Z.call(Ne,ze,1),--this.size,!0)},je.prototype.get=function(ke){var Ne=this.__data__,ze=rt(Ne,ke);return ze<0?void 0:Ne[ze][1]},je.prototype.has=function(ke){return rt(this.__data__,ke)>-1},je.prototype.set=function(ke,Ne){var ze=this.__data__,st=rt(ze,ke);return st<0?(++this.size,ze.push([ke,Ne])):ze[st][1]=Ne,this},Ue.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(ee||je),string:new Te}},Ue.prototype.delete=function(ke){var Ne=xt(this,ke).delete(ke);return this.size-=Ne?1:0,Ne},Ue.prototype.get=function(ke){return xt(this,ke).get(ke)},Ue.prototype.has=function(ke){return xt(this,ke).has(ke)},Ue.prototype.set=function(ke,Ne){var ze=xt(this,ke),st=ze.size;return ze.set(ke,Ne),this.size+=ze.size==st?0:1,this},qe.prototype.add=qe.prototype.push=function(ke){return this.__data__.set(ke,"__lodash_hash_undefined__"),this},qe.prototype.has=function(ke){return this.__data__.has(ke)},We.prototype.clear=function(){this.__data__=new je,this.size=0},We.prototype.delete=function(ke){var Ne=this.__data__,ze=Ne.delete(ke);return this.size=Ne.size,ze},We.prototype.get=function(ke){return this.__data__.get(ke)},We.prototype.has=function(ke){return this.__data__.has(ke)},We.prototype.set=function(ke,Ne){var ze=this.__data__;if(ze instanceof je){var st=ze.__data__;if(!ee||st.length<199)return st.push([ke,Ne]),this.size=++ze.size,this;ze=this.__data__=new Ue(st)}return ze.set(ke,Ne),this.size=ze.size,this};var ar=Q?function(ke){return ke==null?[]:(ke=Object(ke),function(Ne,ze){for(var st=-1,Ft=Ne==null?0:Ne.length,pt=0,Mt=[];++st<Ft;){var Ve=Ne[st];ze(Ve,st,Ne)&&(Mt[pt++]=Ve)}return Mt}(Q(ke),function(Ne){return X.call(ke,Ne)}))}:function(){return[]},wt=ut;function Xt(ke,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof ke=="number"||d.test(ke))&&ke>-1&&ke%1==0&&ke<Ne}function $t(ke){if(ke!=null){try{return w.call(ke)}catch{}try{return ke+""}catch{}}return""}function At(ke,Ne){return ke===Ne||ke!=ke&&Ne!=Ne}(W&&wt(new W(new ArrayBuffer(1)))!="[object DataView]"||ee&&wt(new ee)!=u||oe&&wt(oe.resolve())!="[object Promise]"||ie&&wt(new ie)!=l||ae&&wt(new ae)!="[object WeakMap]")&&(wt=function(ke){var Ne=ut(ke),ze=Ne==a?ke.constructor:void 0,st=ze?$t(ze):"";if(st)switch(st){case ne:return"[object DataView]";case se:return u;case ye:return"[object Promise]";case me:return l;case we:return"[object WeakMap]"}return Ne});var vt=He(function(){return arguments}())?He:function(ke){return ct(ke)&&_.call(ke,"callee")&&!X.call(ke,"callee")},Nt=Array.isArray,Rt=z||function(){return!1};function qt(ke){if(!Dt(ke))return!1;var Ne=ut(ke);return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"||Ne=="[object AsyncFunction]"||Ne=="[object Proxy]"}function er(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=9007199254740991}function Dt(ke){var Ne=typeof ke;return ke!=null&&(Ne=="object"||Ne=="function")}function ct(ke){return ke!=null&&typeof ke=="object"}var ir=N?function(ke){return function(Ne){return ke(Ne)}}(N):function(ke){return ct(ke)&&er(ke.length)&&!!f[ut(ke)]};function Ut(ke){return(Ne=ke)!=null&&er(Ne.length)&&!qt(Ne)?Ke(ke):at(ke);var Ne}n.exports=function(ke,Ne){return _t(ke,Ne)}}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(i){(function(){var o=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,a=o||u||Function("return this")(),l=Object.prototype,c=l.hasOwnProperty,d=l.toString,f=a.Symbol,h=f?f.toStringTag:void 0;function g(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":h&&h in Object(v)?function(p){var y=c.call(p,h),m=p[h];try{p[h]=void 0;var b=!0}catch{}var k=d.call(p);return b&&(y?p[h]=m:delete p[h]),k}(v):function(p){return d.call(p)}(v)}n.exports=function(v){if(!function(y){var m=typeof y;return y!=null&&(m=="object"||m=="function")}(v))return!1;var p=g(v);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(i){return i==null}},{}],448:[function(e,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,s){(function(i){(function(){var o=/^\[object .+?Constructor\]$/,u=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,l=u||a||Function("return this")();function c(P,H){return!!(P&&P.length)&&function(X,Z,V){if(Z!=Z)return function(D,W,ee,oe){for(var ie=D.length,ae=ee+-1;++ae<ie;)if(W(D[ae],ae,D))return ae;return-1}(X,d,V);for(var Q=V-1,z=X.length;++Q<z;)if(X[Q]===Z)return Q;return-1}(P,H,0)>-1}function d(P){return P!=P}function f(P,H){return P.has(H)}function h(P){var H=-1,X=Array(P.size);return P.forEach(function(Z){X[++H]=Z}),X}var g,v=Array.prototype,p=Function.prototype,y=Object.prototype,m=l["__core-js_shared__"],b=(g=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",k=p.toString,N=y.hasOwnProperty,F=y.toString,j=RegExp("^"+k.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=v.splice,M=C(l,"Map"),B=C(l,"Set"),O=C(Object,"create");function R(P){var H=-1,X=P?P.length:0;for(this.clear();++H<X;){var Z=P[H];this.set(Z[0],Z[1])}}function E(P){var H=-1,X=P?P.length:0;for(this.clear();++H<X;){var Z=P[H];this.set(Z[0],Z[1])}}function I(P){var H=-1,X=P?P.length:0;for(this.clear();++H<X;){var Z=P[H];this.set(Z[0],Z[1])}}function A(P){var H=-1,X=P?P.length:0;for(this.__data__=new I;++H<X;)this.add(P[H])}function w(P,H){for(var X,Z,V=P.length;V--;)if((X=P[V][0])===(Z=H)||X!=X&&Z!=Z)return V;return-1}function _(P){return!(!q(P)||(H=P,b&&b in H))&&(function(X){var Z=q(X)?F.call(X):"";return Z=="[object Function]"||Z=="[object GeneratorFunction]"}(P)||function(X){var Z=!1;if(X!=null&&typeof X.toString!="function")try{Z=!!(X+"")}catch{}return Z}(P)?j:o).test(function(X){if(X!=null){try{return k.call(X)}catch{}try{return X+""}catch{}}return""}(P));var H}R.prototype.clear=function(){this.__data__=O?O(null):{}},R.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},R.prototype.get=function(P){var H=this.__data__;if(O){var X=H[P];return X==="__lodash_hash_undefined__"?void 0:X}return N.call(H,P)?H[P]:void 0},R.prototype.has=function(P){var H=this.__data__;return O?H[P]!==void 0:N.call(H,P)},R.prototype.set=function(P,H){return this.__data__[P]=O&&H===void 0?"__lodash_hash_undefined__":H,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(P){var H=this.__data__,X=w(H,P);return!(X<0)&&(X==H.length-1?H.pop():T.call(H,X,1),!0)},E.prototype.get=function(P){var H=this.__data__,X=w(H,P);return X<0?void 0:H[X][1]},E.prototype.has=function(P){return w(this.__data__,P)>-1},E.prototype.set=function(P,H){var X=this.__data__,Z=w(X,P);return Z<0?X.push([P,H]):X[Z][1]=H,this},I.prototype.clear=function(){this.__data__={hash:new R,map:new(M||E),string:new R}},I.prototype.delete=function(P){return S(this,P).delete(P)},I.prototype.get=function(P){return S(this,P).get(P)},I.prototype.has=function(P){return S(this,P).has(P)},I.prototype.set=function(P,H){return S(this,P).set(P,H),this},A.prototype.add=A.prototype.push=function(P){return this.__data__.set(P,"__lodash_hash_undefined__"),this},A.prototype.has=function(P){return this.__data__.has(P)};var x=B&&1/h(new B([,-0]))[1]==1/0?function(P){return new B(P)}:function(){};function S(P,H){var X,Z,V=P.__data__;return((Z=typeof(X=H))=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?X!=="__proto__":X===null)?V[typeof H=="string"?"string":"hash"]:V.map}function C(P,H){var X=function(Z,V){return Z==null?void 0:Z[V]}(P,H);return _(X)?X:void 0}function q(P){var H=typeof P;return!!P&&(H=="object"||H=="function")}n.exports=function(P){return P&&P.length?function(H,X,Z){var V=-1,Q=c,z=H.length,D=!0,W=[],ee=W;if(z>=200){var oe=x(H);if(oe)return h(oe);D=!1,Q=f,ee=new A}else ee=W;e:for(;++V<z;){var ie=H[V],ae=ie;if(ie=ie!==0?ie:0,D&&ae==ae){for(var le=ee.length;le--;)if(ee[le]===ae)continue e;W.push(ie)}else Q(ee,ae,Z)||(ee!==W&&ee.push(ae),W.push(ie))}return W}(P):[]}}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var i=e("inherits"),o=e("hash-base"),u=e("safe-buffer").Buffer,a=new Array(16);function l(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(v,p){return v<<p|v>>>32-p}function d(v,p,y,m,b,k,N){return c(v+(p&y|~p&m)+b+k|0,N)+p|0}function f(v,p,y,m,b,k,N){return c(v+(p&m|y&~m)+b+k|0,N)+p|0}function h(v,p,y,m,b,k,N){return c(v+(p^y^m)+b+k|0,N)+p|0}function g(v,p,y,m,b,k,N){return c(v+(y^(p|~m))+b+k|0,N)+p|0}i(l,o),l.prototype._update=function(){for(var v=a,p=0;p<16;++p)v[p]=this._block.readInt32LE(4*p);var y=this._a,m=this._b,b=this._c,k=this._d;y=d(y,m,b,k,v[0],3614090360,7),k=d(k,y,m,b,v[1],3905402710,12),b=d(b,k,y,m,v[2],606105819,17),m=d(m,b,k,y,v[3],3250441966,22),y=d(y,m,b,k,v[4],4118548399,7),k=d(k,y,m,b,v[5],1200080426,12),b=d(b,k,y,m,v[6],2821735955,17),m=d(m,b,k,y,v[7],4249261313,22),y=d(y,m,b,k,v[8],1770035416,7),k=d(k,y,m,b,v[9],2336552879,12),b=d(b,k,y,m,v[10],4294925233,17),m=d(m,b,k,y,v[11],2304563134,22),y=d(y,m,b,k,v[12],1804603682,7),k=d(k,y,m,b,v[13],4254626195,12),b=d(b,k,y,m,v[14],2792965006,17),y=f(y,m=d(m,b,k,y,v[15],1236535329,22),b,k,v[1],4129170786,5),k=f(k,y,m,b,v[6],3225465664,9),b=f(b,k,y,m,v[11],643717713,14),m=f(m,b,k,y,v[0],3921069994,20),y=f(y,m,b,k,v[5],3593408605,5),k=f(k,y,m,b,v[10],38016083,9),b=f(b,k,y,m,v[15],3634488961,14),m=f(m,b,k,y,v[4],3889429448,20),y=f(y,m,b,k,v[9],568446438,5),k=f(k,y,m,b,v[14],3275163606,9),b=f(b,k,y,m,v[3],4107603335,14),m=f(m,b,k,y,v[8],1163531501,20),y=f(y,m,b,k,v[13],2850285829,5),k=f(k,y,m,b,v[2],4243563512,9),b=f(b,k,y,m,v[7],1735328473,14),y=h(y,m=f(m,b,k,y,v[12],2368359562,20),b,k,v[5],4294588738,4),k=h(k,y,m,b,v[8],2272392833,11),b=h(b,k,y,m,v[11],1839030562,16),m=h(m,b,k,y,v[14],4259657740,23),y=h(y,m,b,k,v[1],2763975236,4),k=h(k,y,m,b,v[4],1272893353,11),b=h(b,k,y,m,v[7],4139469664,16),m=h(m,b,k,y,v[10],3200236656,23),y=h(y,m,b,k,v[13],681279174,4),k=h(k,y,m,b,v[0],3936430074,11),b=h(b,k,y,m,v[3],3572445317,16),m=h(m,b,k,y,v[6],76029189,23),y=h(y,m,b,k,v[9],3654602809,4),k=h(k,y,m,b,v[12],3873151461,11),b=h(b,k,y,m,v[15],530742520,16),y=g(y,m=h(m,b,k,y,v[2],3299628645,23),b,k,v[0],4096336452,6),k=g(k,y,m,b,v[7],1126891415,10),b=g(b,k,y,m,v[14],2878612391,15),m=g(m,b,k,y,v[5],4237533241,21),y=g(y,m,b,k,v[12],1700485571,6),k=g(k,y,m,b,v[3],2399980690,10),b=g(b,k,y,m,v[10],4293915773,15),m=g(m,b,k,y,v[1],2240044497,21),y=g(y,m,b,k,v[8],1873313359,6),k=g(k,y,m,b,v[15],4264355552,10),b=g(b,k,y,m,v[6],2734768916,15),m=g(m,b,k,y,v[13],1309151649,21),y=g(y,m,b,k,v[4],4149444226,6),k=g(k,y,m,b,v[11],3174756917,10),b=g(b,k,y,m,v[2],718787259,15),m=g(m,b,k,y,v[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+m|0,this._c=this._c+b|0,this._d=this._d+k|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=u.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},n.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var i=e("bn.js"),o=e("brorand");function u(a){this.rand=a||new o.Rand}n.exports=u,u.create=function(a){return new u(a)},u.prototype._randbelow=function(a){var l=a.bitLength(),c=Math.ceil(l/8);do var d=new i(this.rand.generate(c));while(d.cmp(a)>=0);return d},u.prototype._randrange=function(a,l){var c=l.sub(a);return a.add(this._randbelow(c))},u.prototype.test=function(a,l,c){var d=a.bitLength(),f=i.mont(a),h=new i(1).toRed(f);l||(l=Math.max(1,d/48|0));for(var g=a.subn(1),v=0;!g.testn(v);v++);for(var p=a.shrn(v),y=g.toRed(f);l>0;l--){var m=this._randrange(new i(2),g);c&&c(m);var b=m.toRed(f).redPow(p);if(b.cmp(h)!==0&&b.cmp(y)!==0){for(var k=1;k<v;k++){if((b=b.redSqr()).cmp(h)===0)return!1;if(b.cmp(y)===0)break}if(k===v)return!1}}return!0},u.prototype.getDivisor=function(a,l){var c=a.bitLength(),d=i.mont(a),f=new i(1).toRed(d);l||(l=Math.max(1,c/48|0));for(var h=a.subn(1),g=0;!h.testn(g);g++);for(var v=a.shrn(g),p=h.toRed(d);l>0;l--){var y=this._randrange(new i(2),h),m=a.gcd(y);if(m.cmpn(1)!==0)return m;var b=y.toRed(d).redPow(v);if(b.cmp(f)!==0&&b.cmp(p)!==0){for(var k=1;k<g;k++){if((b=b.redSqr()).cmp(f)===0)return b.fromRed().subn(1).gcd(a);if(b.cmp(p)===0)break}if(k===g)return(b=b.redSqr()).fromRed().subn(1).gcd(a)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function i(o,u){if(!o)throw new Error(u||"Assertion failed")}n.exports=i,i.equal=function(o,u,a){if(o!=u)throw new Error(a||"Assertion failed: "+o+" != "+u)}},{}],454:[function(e,n,s){var i=s;function o(a){return a.length===1?"0"+a:a}function u(a){for(var l="",c=0;c<a.length;c++)l+=o(a[c].toString(16));return l}i.toArray=function(a,l){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var d=0;d<a.length;d++)c[d]=0|a[d];return c}if(l==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),d=0;d<a.length;d+=2)c.push(parseInt(a[d]+a[d+1],16));else for(d=0;d<a.length;d++){var f=a.charCodeAt(d),h=f>>8,g=255&f;h?c.push(h,g):c.push(g)}return c},i.zero2=o,i.toHex=u,i.encode=function(a,l){return l==="hex"?u(a):a}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var i=e("asn1.js");s.certificate=e("./certificate");var o=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=o;var u=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=u;var a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});s.PublicKey=a;var l=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});s.PrivateKey=c;var d=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=d;var f=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=f,s.DSAparam=i.define("DSAparam",function(){this.int()});var h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=h;var g=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var i=e("asn1.js"),o=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(u)}),d=i.define("RDNSequence",function(){this.seqof(c)}),f=i.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),g=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(e,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=e("evp_bytestokey"),l=e("browserify-aes"),c=e("safe-buffer").Buffer;n.exports=function(d,f){var h,g=d.toString(),v=g.match(i);if(v){var p="aes"+v[1],y=c.from(v[2],"hex"),m=c.from(v[3].replace(/[\r\n]/g,""),"base64"),b=a(f,y.slice(0,8),parseInt(v[1],10)).key,k=[],N=l.createDecipheriv(p,b,y);k.push(N.update(m)),k.push(N.final()),h=c.concat(k)}else{var F=g.match(u);h=c.from(F[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var i=e("./asn1"),o=e("./aesid.json"),u=e("./fixProc"),a=e("browserify-aes"),l=e("pbkdf2"),c=e("safe-buffer").Buffer;function d(f){var h;typeof f!="object"||c.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=c.from(f));var g,v,p=u(f,h),y=p.tag,m=p.data;switch(y){case"CERTIFICATE":v=i.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=i.PublicKey.decode(m,"der")),g=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=i.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=function(b,k){var N=b.algorithm.decrypt.kde.kdeparams.salt,F=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=o[b.algorithm.decrypt.cipher.algo.join(".")],T=b.algorithm.decrypt.cipher.iv,M=b.subjectPrivateKey,B=parseInt(j.split("-")[1],10)/8,O=l.pbkdf2Sync(k,N,F,B,"sha1"),R=a.createDecipheriv(j,O,T),E=[];return E.push(R.update(M)),E.push(R.final()),c.concat(E)}(m=i.EncryptedPrivateKey.decode(m,"der"),h);case"PRIVATE KEY":switch(g=(v=i.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:i.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=i.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=i.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=d,d.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(i){(function(){var o,u,a=e("safe-buffer").Buffer,l=e("./precondition"),c=e("./default-encoding"),d=e("./sync"),f=e("./to-buffer"),h=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function p(){return u||(u=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function y(m,b,k,N,F){return h.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(j){return h.deriveBits({name:"PBKDF2",salt:b,iterations:k,hash:{name:F}},j,N<<3)}).then(function(j){return a.from(j)})}n.exports=function(m,b,k,N,F,j){typeof F=="function"&&(j=F,F=void 0);var T=g[(F=F||"sha1").toLowerCase()];if(T&&typeof i.Promise=="function"){if(l(k,N),m=f(m,c,"Password"),b=f(b,c,"Salt"),typeof j!="function")throw new Error("No callback provided to pbkdf2");(function(M,B){M.then(function(O){p()(function(){B(null,O)})},function(O){p()(function(){B(O)})})})(function(M){if(i.process&&!i.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(v[M]!==void 0)return v[M];var B=y(o=o||a.alloc(8),o,10,128,M).then(function(){return!0}).catch(function(){return!1});return v[M]=B,B}(T).then(function(M){return M?y(m,b,k,N,T):d(m,b,k,N,F)}),j)}else p()(function(){var M;try{M=d(m,b,k,N,F)}catch(B){return j(B)}j(null,M)})}}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(i,o){(function(){var u;o.process&&o.process.browser?u="utf-8":o.process&&o.process.version?u=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",n.exports=u}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var i=Math.pow(2,30)-1;n.exports=function(o,u){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>i||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var i=e("create-hash/md5"),o=e("ripemd160"),u=e("sha.js"),a=e("safe-buffer").Buffer,l=e("./precondition"),c=e("./default-encoding"),d=e("./to-buffer"),f=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(v,p,y){var m=function(T){function M(B){return u(T).update(B).digest()}return T==="rmd160"||T==="ripemd160"?function(B){return new o().update(B).digest()}:T==="md5"?i:M}(v),b=v==="sha512"||v==="sha384"?128:64;p.length>b?p=m(p):p.length<b&&(p=a.concat([p,f],b));for(var k=a.allocUnsafe(b+h[v]),N=a.allocUnsafe(b+h[v]),F=0;F<b;F++)k[F]=54^p[F],N[F]=92^p[F];var j=a.allocUnsafe(b+y+4);k.copy(j,0,0,b),this.ipad1=j,this.ipad2=k,this.opad=N,this.alg=v,this.blocksize=b,this.hash=m,this.size=h[v]}g.prototype.run=function(v,p){return v.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(v,p,y,m,b){l(y,m);var k=new g(b=b||"sha1",v=d(v,c,"Password"),(p=d(p,c,"Salt")).length),N=a.allocUnsafe(m),F=a.allocUnsafe(p.length+4);p.copy(F,0,0,p.length);for(var j=0,T=h[b],M=Math.ceil(m/T),B=1;B<=M;B++){F.writeUInt32BE(B,p.length);for(var O=k.run(F,k.ipad1),R=O,E=1;E<y;E++){R=k.run(R,k.ipad2);for(var I=0;I<T;I++)O[I]^=R[I]}O.copy(N,j),j+=T}return N}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var i=e("safe-buffer").Buffer;n.exports=function(o,u,a){if(i.isBuffer(o))return o;if(typeof o=="string")return i.from(o,u);if(ArrayBuffer.isView(o))return i.from(o.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,u,a,l){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c,d,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick(function(){o.call(null,u)});case 3:return i.nextTick(function(){o.call(null,u,a)});case 4:return i.nextTick(function(){o.call(null,u,a,l)});default:for(c=new Array(f-1),d=0;d<c.length;)c[d++]=arguments[d];return i.nextTick(function(){o.apply(null,c)})}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var i,o,u=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(b){if(i===setTimeout)return setTimeout(b,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var d,f=[],h=!1,g=-1;function v(){h&&d&&(h=!1,d.length?f=d.concat(f):g=-1,f.length&&p())}function p(){if(!h){var b=c(v);h=!0;for(var k=f.length;k;){for(d=f,f=[];++g<k;)d&&d[g].run();g=-1,k=f.length}d=null,h=!1,function(N){if(o===clearTimeout)return clearTimeout(N);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(N);try{o(N)}catch{try{return o.call(null,N)}catch{return o.call(this,N)}}}(b)}}function y(b,k){this.fun=b,this.array=k}function m(){}u.nextTick=function(b){var k=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)k[N-1]=arguments[N];f.push(new y(b,k)),f.length!==1||h||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=m,u.addListener=m,u.once=m,u.off=m,u.removeListener=m,u.removeAllListeners=m,u.emit=m,u.prependListener=m,u.prependOnceListener=m,u.listeners=function(b){return[]},u.binding=function(b){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(b){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(i,o){return s.publicEncrypt(i,o,!0)},s.publicDecrypt=function(i,o){return s.privateDecrypt(i,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var i=e("create-hash"),o=e("safe-buffer").Buffer;function u(a){var l=o.allocUnsafe(4);return l.writeUInt32BE(a,0),l}n.exports=function(a,l){for(var c,d=o.alloc(0),f=0;d.length<l;)c=u(f++),d=o.concat([d,i("sha1").update(a).update(c).digest()]);return d.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var i=e("parse-asn1"),o=e("./mgf"),u=e("./xor"),a=e("bn.js"),l=e("browserify-rsa"),c=e("create-hash"),d=e("./withPublic"),f=e("safe-buffer").Buffer;n.exports=function(h,g,v){var p;p=h.padding?h.padding:v?1:4;var y,m=i(h),b=m.modulus.byteLength();if(g.length>b||new a(g).cmp(m.modulus)>=0)throw new Error("decryption error");y=v?d(new a(g),m):l(g,m);var k=f.alloc(b-y.length);if(y=f.concat([k,y],b),p===4)return function(N,F){var j=N.modulus.byteLength(),T=c("sha1").update(f.alloc(0)).digest(),M=T.length;if(F[0]!==0)throw new Error("decryption error");var B=F.slice(1,M+1),O=F.slice(M+1),R=u(B,o(O,M)),E=u(O,o(R,j-M-1));if(function(A,w){A=f.from(A),w=f.from(w);var _=0,x=A.length;A.length!==w.length&&(_++,x=Math.min(A.length,w.length));for(var S=-1;++S<x;)_+=A[S]^w[S];return _}(T,E.slice(0,M)))throw new Error("decryption error");for(var I=M;E[I]===0;)I++;if(E[I++]!==1)throw new Error("decryption error");return E.slice(I)}(m,y);if(p===1)return function(N,F,j){for(var T=F.slice(0,2),M=2,B=0;F[M++]!==0;)if(M>=F.length){B++;break}var O=F.slice(2,M-1);if((T.toString("hex")!=="0002"&&!j||T.toString("hex")!=="0001"&&j)&&B++,O.length<8&&B++,B)throw new Error("decryption error");return F.slice(M)}(0,y,v);if(p===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var i=e("parse-asn1"),o=e("randombytes"),u=e("create-hash"),a=e("./mgf"),l=e("./xor"),c=e("bn.js"),d=e("./withPublic"),f=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,v,p){var y;y=g.padding?g.padding:p?1:4;var m,b=i(g);if(y===4)m=function(k,N){var F=k.modulus.byteLength(),j=N.length,T=u("sha1").update(h.alloc(0)).digest(),M=T.length,B=2*M;if(j>F-B-2)throw new Error("message too long");var O=h.alloc(F-j-B-2),R=F-M-1,E=o(M),I=l(h.concat([T,O,h.alloc(1,1),N],R),a(E,R)),A=l(E,a(I,M));return new c(h.concat([h.alloc(1),A,I],F))}(b,v);else if(y===1)m=function(k,N,F){var j,T=N.length,M=k.modulus.byteLength();if(T>M-11)throw new Error("message too long");return j=F?h.alloc(M-T-3,255):function(B){for(var O,R=h.allocUnsafe(B),E=0,I=o(2*B),A=0;E<B;)A===I.length&&(I=o(2*B),A=0),(O=I[A++])&&(R[E++]=O);return R}(M-T-3),new c(h.concat([h.from([0,F?1:2]),j,h.alloc(1),N],M))}(b,v,p);else{if(y!==3)throw new Error("unknown padding");if((m=new c(v)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return p?f(m,b):d(m,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var i=e("bn.js"),o=e("safe-buffer").Buffer;n.exports=function(u,a){return o.from(u.toRed(i.mont(a.modulus)).redPow(new i(a.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(i,o){for(var u=i.length,a=-1;++a<u;)i[a]^=o[a];return i}},{}],475:[function(e,n,s){(function(i,o){(function(){var u=e("safe-buffer").Buffer,a=o.crypto||o.msCrypto;a&&a.getRandomValues?n.exports=function(l,c){if(l>4294967295)throw new RangeError("requested too many random bytes");var d=u.allocUnsafe(l);if(l>0)if(l>65536)for(var f=0;f<l;f+=65536)a.getRandomValues(d.slice(f,f+65536));else a.getRandomValues(d);return typeof c=="function"?i.nextTick(function(){c(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(i,o){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=e("safe-buffer"),l=e("randombytes"),c=a.Buffer,d=a.kMaxLength,f=o.crypto||o.msCrypto,h=Math.pow(2,32)-1;function g(y,m){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>h||y<0)throw new TypeError("offset must be a uint32");if(y>d||y>m)throw new RangeError("offset out of range")}function v(y,m,b){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>h||y<0)throw new TypeError("size must be a uint32");if(y+m>b||y>d)throw new RangeError("buffer too small")}function p(y,m,b,k){if(i.browser){var N=y.buffer,F=new Uint8Array(N,m,b);return f.getRandomValues(F),k?void i.nextTick(function(){k(null,y)}):y}if(!k)return l(b).copy(y,m),y;l(b,function(j,T){if(j)return k(j);T.copy(y,m),k(null,y)})}f&&f.getRandomValues||!i.browser?(s.randomFill=function(y,m,b,k){if(!(c.isBuffer(y)||y instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")k=m,m=0,b=y.length;else if(typeof b=="function")k=b,b=y.length-m;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return g(m,y.length),v(b,m,y.length),p(y,m,b,k)},s.randomFillSync=function(y,m,b){if(m===void 0&&(m=0),!(c.isBuffer(y)||y instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(m,y.length),b===void 0&&(b=y.length-m),v(b,m,y.length),p(y,m,b)}):(s.randomFill=u,s.randomFillSync=u)}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var i={};function o(a,l,c){c||(c=Error);var d=function(f){var h,g;function v(p,y,m){return f.call(this,function(b,k,N){return typeof l=="string"?l:l(b,k,N)}(p,y,m))||this}return g=f,(h=v).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,v}(c);d.prototype.name=c.name,d.prototype.code=a,i[a]=d}function u(a,l){if(Array.isArray(a)){var c=a.length;return a=a.map(function(d){return String(d)}),c>2?"one of ".concat(l," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}return"of ".concat(l," ").concat(String(a))}o("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(a,l,c){var d,f,h;if(typeof l=="string"&&(f="not ",l.substr(0,f.length)===f)?(d="must not be",l=l.replace(/^not /,"")):d="must be",function(v,p,y){return(y===void 0||y>v.length)&&(y=v.length),v.substring(y-p.length,y)===p}(a," argument"))h="The ".concat(a," ").concat(d," ").concat(u(l,"type"));else{var g=function(v,p,y){return typeof y!="number"&&(y=0),!(y+p.length>v.length)&&v.indexOf(p,y)!==-1}(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(g," ").concat(d," ").concat(u(l,"type"))}return h+=". Received type ".concat(typeof c)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,s){(function(i){(function(){var o=Object.keys||function(v){var p=[];for(var y in v)p.push(y);return p};n.exports=f;var u=e("./_stream_readable"),a=e("./_stream_writable");e("inherits")(f,u);for(var l=o(a.prototype),c=0;c<l.length;c++){var d=l[c];f.prototype[d]||(f.prototype[d]=a.prototype[d])}function f(v){if(!(this instanceof f))return new f(v);u.call(this,v),a.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(g,this)}function g(v){v.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=o;var i=e("./_stream_transform");function o(u){if(!(this instanceof o))return new o(u);i.call(this,u)}e("inherits")(o,i),o.prototype._transform=function(u,a,l){l(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(i,o){(function(){var u;n.exports=R,R.ReadableState=O,e("events").EventEmitter;var a=function(z,D){return z.listeners(D).length},l=e("./internal/streams/stream"),c=e("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,v,p,y=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,k=e("../errors").codes,N=k.ERR_INVALID_ARG_TYPE,F=k.ERR_STREAM_PUSH_AFTER_EOF,j=k.ERR_METHOD_NOT_IMPLEMENTED,T=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(R,l);var M=m.errorOrDestroy,B=["error","close","destroy","pause","resume"];function O(z,D,W){u=u||e("./_stream_duplex"),z=z||{},typeof W!="boolean"&&(W=D instanceof u),this.objectMode=!!z.objectMode,W&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=b(this,z,"readableHighWaterMark",W),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(z.encoding),this.encoding=z.encoding)}function R(z){if(u=u||e("./_stream_duplex"),!(this instanceof R))return new R(z);var D=this instanceof u;this._readableState=new O(z,this,D),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),l.call(this)}function E(z,D,W,ee,oe){f("readableAddChunk",D);var ie,ae=z._readableState;if(D===null)ae.reading=!1,function(le,ne){if(f("onEofChunk"),!ne.ended){if(ne.decoder){var se=ne.decoder.end();se&&se.length&&(ne.buffer.push(se),ne.length+=ne.objectMode?1:se.length)}ne.ended=!0,ne.sync?w(le):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,_(le)))}}(z,ae);else if(oe||(ie=function(le,ne){var se;ye=ne,c.isBuffer(ye)||ye instanceof d||typeof ne=="string"||ne===void 0||le.objectMode||(se=new N("chunk",["string","Buffer","Uint8Array"],ne));var ye;return se}(ae,D)),ie)M(z,ie);else if(ae.objectMode||D&&D.length>0)if(typeof D=="string"||ae.objectMode||Object.getPrototypeOf(D)===c.prototype||(D=function(le){return c.from(le)}(D)),ee)ae.endEmitted?M(z,new T):I(z,ae,D,!0);else if(ae.ended)M(z,new F);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!W?(D=ae.decoder.write(D),ae.objectMode||D.length!==0?I(z,ae,D,!1):x(z,ae)):I(z,ae,D,!1)}else ee||(ae.reading=!1,x(z,ae));return!ae.ended&&(ae.length<ae.highWaterMark||ae.length===0)}function I(z,D,W,ee){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,z.emit("data",W)):(D.length+=D.objectMode?1:W.length,ee?D.buffer.unshift(W):D.buffer.push(W),D.needReadable&&w(z)),x(z,D)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),R.prototype.destroy=m.destroy,R.prototype._undestroy=m.undestroy,R.prototype._destroy=function(z,D){D(z)},R.prototype.push=function(z,D){var W,ee=this._readableState;return ee.objectMode?W=!0:typeof z=="string"&&((D=D||ee.defaultEncoding)!==ee.encoding&&(z=c.from(z,D),D=""),W=!0),E(this,z,D,!1,W)},R.prototype.unshift=function(z){return E(this,z,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(z){g||(g=e("string_decoder/").StringDecoder);var D=new g(z);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,ee="";W!==null;)ee+=D.write(W.data),W=W.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};function A(z,D){return z<=0||D.length===0&&D.ended?0:D.objectMode?1:z!=z?D.flowing&&D.length?D.buffer.head.data.length:D.length:(z>D.highWaterMark&&(D.highWaterMark=function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(z)),z<=D.length?z:D.ended?D.length:(D.needReadable=!0,0))}function w(z){var D=z._readableState;f("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(f("emitReadable",D.flowing),D.emittedReadable=!0,i.nextTick(_,z))}function _(z){var D=z._readableState;f("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(z.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,H(z)}function x(z,D){D.readingMore||(D.readingMore=!0,i.nextTick(S,z,D))}function S(z,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var W=D.length;if(f("maybeReadMore read 0"),z.read(0),W===D.length)break}D.readingMore=!1}function C(z){var D=z._readableState;D.readableListening=z.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:z.listenerCount("data")>0&&z.resume()}function q(z){f("readable nexttick read 0"),z.read(0)}function P(z,D){f("resume",D.reading),D.reading||z.read(0),D.resumeScheduled=!1,z.emit("resume"),H(z),D.flowing&&!D.reading&&z.read(0)}function H(z){var D=z._readableState;for(f("flow",D.flowing);D.flowing&&z.read()!==null;);}function X(z,D){return D.length===0?null:(D.objectMode?W=D.buffer.shift():!z||z>=D.length?(W=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):W=D.buffer.consume(z,D.decoder),W);var W}function Z(z){var D=z._readableState;f("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,i.nextTick(V,D,z))}function V(z,D){if(f("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,D.readable=!1,D.emit("end"),z.autoDestroy)){var W=D._writableState;(!W||W.autoDestroy&&W.finished)&&D.destroy()}}function Q(z,D){for(var W=0,ee=z.length;W<ee;W++)if(z[W]===D)return W;return-1}R.prototype.read=function(z){f("read",z),z=parseInt(z,10);var D=this._readableState,W=z;if(z!==0&&(D.emittedReadable=!1),z===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return f("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?Z(this):w(this),null;if((z=A(z,D))===0&&D.ended)return D.length===0&&Z(this),null;var ee,oe=D.needReadable;return f("need readable",oe),(D.length===0||D.length-z<D.highWaterMark)&&f("length less than watermark",oe=!0),D.ended||D.reading?f("reading or ended",oe=!1):oe&&(f("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(z=A(W,D))),(ee=z>0?X(z,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,z=0):(D.length-=z,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),W!==z&&D.ended&&Z(this)),ee!==null&&this.emit("data",ee),ee},R.prototype._read=function(z){M(this,new j("_read()"))},R.prototype.pipe=function(z,D){var W=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=z;break;case 1:ee.pipes=[ee.pipes,z];break;default:ee.pipes.push(z)}ee.pipesCount+=1,f("pipe count=%d opts=%j",ee.pipesCount,D);var oe=(!D||D.end!==!1)&&z!==i.stdout&&z!==i.stderr?ae:_e;function ie(Se,Te){f("onunpipe"),Se===W&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,f("cleanup"),z.removeListener("close",me),z.removeListener("finish",we),z.removeListener("drain",le),z.removeListener("error",ye),z.removeListener("unpipe",ie),W.removeListener("end",ae),W.removeListener("end",_e),W.removeListener("data",se),ne=!0,!ee.awaitDrain||z._writableState&&!z._writableState.needDrain||le())}function ae(){f("onend"),z.end()}ee.endEmitted?i.nextTick(oe):W.once("end",oe),z.on("unpipe",ie);var le=function(Se){return function(){var Te=Se._readableState;f("pipeOnDrain",Te.awaitDrain),Te.awaitDrain&&Te.awaitDrain--,Te.awaitDrain===0&&a(Se,"data")&&(Te.flowing=!0,H(Se))}}(W);z.on("drain",le);var ne=!1;function se(Se){f("ondata");var Te=z.write(Se);f("dest.write",Te),Te===!1&&((ee.pipesCount===1&&ee.pipes===z||ee.pipesCount>1&&Q(ee.pipes,z)!==-1)&&!ne&&(f("false write response, pause",ee.awaitDrain),ee.awaitDrain++),W.pause())}function ye(Se){f("onerror",Se),_e(),z.removeListener("error",ye),a(z,"error")===0&&M(z,Se)}function me(){z.removeListener("finish",we),_e()}function we(){f("onfinish"),z.removeListener("close",me),_e()}function _e(){f("unpipe"),W.unpipe(z)}return W.on("data",se),function(Se,Te,je){if(typeof Se.prependListener=="function")return Se.prependListener(Te,je);Se._events&&Se._events[Te]?Array.isArray(Se._events[Te])?Se._events[Te].unshift(je):Se._events[Te]=[je,Se._events[Te]]:Se.on(Te,je)}(z,"error",ye),z.once("close",me),z.once("finish",we),z.emit("pipe",W),ee.flowing||(f("pipe resume"),W.resume()),z},R.prototype.unpipe=function(z){var D=this._readableState,W={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return z&&z!==D.pipes||(z||(z=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,z&&z.emit("unpipe",this,W)),this;if(!z){var ee=D.pipes,oe=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var ie=0;ie<oe;ie++)ee[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=Q(D.pipes,z);return ae===-1||(D.pipes.splice(ae,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),z.emit("unpipe",this,W)),this},R.prototype.on=function(z,D){var W=l.prototype.on.call(this,z,D),ee=this._readableState;return z==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):z==="readable"&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,f("on readable",ee.length,ee.reading),ee.length?w(this):ee.reading||i.nextTick(q,this))),W},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(z,D){var W=l.prototype.removeListener.call(this,z,D);return z==="readable"&&i.nextTick(C,this),W},R.prototype.removeAllListeners=function(z){var D=l.prototype.removeAllListeners.apply(this,arguments);return z!=="readable"&&z!==void 0||i.nextTick(C,this),D},R.prototype.resume=function(){var z=this._readableState;return z.flowing||(f("resume"),z.flowing=!z.readableListening,function(D,W){W.resumeScheduled||(W.resumeScheduled=!0,i.nextTick(P,D,W))}(this,z)),z.paused=!1,this},R.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(z){var D=this,W=this._readableState,ee=!1;for(var oe in z.on("end",function(){if(f("wrapped end"),W.decoder&&!W.ended){var ae=W.decoder.end();ae&&ae.length&&D.push(ae)}D.push(null)}),z.on("data",function(ae){f("wrapped data"),W.decoder&&(ae=W.decoder.write(ae)),W.objectMode&&ae==null||(W.objectMode||ae&&ae.length)&&(D.push(ae)||(ee=!0,z.pause()))}),z)this[oe]===void 0&&typeof z[oe]=="function"&&(this[oe]=function(ae){return function(){return z[ae].apply(z,arguments)}}(oe));for(var ie=0;ie<B.length;ie++)z.on(B[ie],this.emit.bind(this,B[ie]));return this._read=function(ae){f("wrapped _read",ae),ee&&(ee=!1,z.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=e("./internal/streams/async_iterator")),v(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}}),R._fromList=X,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(R.from=function(z,D){return p===void 0&&(p=e("./internal/streams/from")),p(R,z,D)})}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=f;var i=e("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=i.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function d(v,p){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new u);y.writechunk=null,y.writecb=null,p!=null&&this.push(p),m(v);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function f(v){if(!(this instanceof f))return new f(v);c.call(this,v),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",h)}function h(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(p,y){g(v,p,y)})}function g(v,p,y){if(p)return v.emit("error",p);if(y!=null&&v.push(y),v._writableState.length)throw new l;if(v._transformState.transforming)throw new a;return v.push(null)}e("inherits")(f,c),f.prototype.push=function(v,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,v,p)},f.prototype._transform=function(v,p,y){y(new o("_transform()"))},f.prototype._write=function(v,p,y){var m=this._transformState;if(m.writecb=y,m.writechunk=v,m.writeencoding=p,!m.transforming){var b=this._readableState;(m.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},f.prototype._read=function(v){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},f.prototype._destroy=function(v,p){c.prototype._destroy.call(this,v,function(y){p(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(i,o){(function(){function u(S){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(q,P,H){var X=q.entry;for(q.entry=null;X;){var Z=X.callback;P.pendingcb--,Z(H),X=X.next}P.corkedRequestsFree.next=q})(C,S)}}var a;n.exports=R,R.WritableState=O;var l={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),d=e("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,k=p.ERR_STREAM_CANNOT_PIPE,N=p.ERR_STREAM_DESTROYED,F=p.ERR_STREAM_NULL_VALUES,j=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,M=g.errorOrDestroy;function B(){}function O(S,C,q){a=a||e("./_stream_duplex"),S=S||{},typeof q!="boolean"&&(q=C instanceof a),this.objectMode=!!S.objectMode,q&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=v(this,S,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=S.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){(function(X,Z){var V=X._writableState,Q=V.sync,z=V.writecb;if(typeof z!="function")throw new b;if(function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}(V),Z)(function(W,ee,oe,ie,ae){--ee.pendingcb,oe?(i.nextTick(ae,ie),i.nextTick(x,W,ee),W._writableState.errorEmitted=!0,M(W,ie)):(ae(ie),W._writableState.errorEmitted=!0,M(W,ie),x(W,ee))})(X,V,Q,Z,z);else{var D=w(V)||X.destroyed;D||V.corked||V.bufferProcessing||!V.bufferedRequest||A(X,V),Q?i.nextTick(I,X,V,D,z):I(X,V,D,z)}})(C,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function R(S){var C=this instanceof(a=a||e("./_stream_duplex"));if(!C&&!h.call(R,this))return new R(S);this._writableState=new O(S,this,C),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function E(S,C,q,P,H,X,Z){C.writelen=P,C.writecb=Z,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new N("write")):q?S._writev(H,C.onwrite):S._write(H,X,C.onwrite),C.sync=!1}function I(S,C,q,P){q||function(H,X){X.length===0&&X.needDrain&&(X.needDrain=!1,H.emit("drain"))}(S,C),C.pendingcb--,P(),x(S,C)}function A(S,C){C.bufferProcessing=!0;var q=C.bufferedRequest;if(S._writev&&q&&q.next){var P=C.bufferedRequestCount,H=new Array(P),X=C.corkedRequestsFree;X.entry=q;for(var Z=0,V=!0;q;)H[Z]=q,q.isBuf||(V=!1),q=q.next,Z+=1;H.allBuffers=V,E(S,C,!0,C.length,H,"",X.finish),C.pendingcb++,C.lastBufferedRequest=null,X.next?(C.corkedRequestsFree=X.next,X.next=null):C.corkedRequestsFree=new u(C),C.bufferedRequestCount=0}else{for(;q;){var Q=q.chunk,z=q.encoding,D=q.callback;if(E(S,C,!1,C.objectMode?1:Q.length,Q,z,D),q=q.next,C.bufferedRequestCount--,C.writing)break}q===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=q,C.bufferProcessing=!1}function w(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function _(S,C){S._final(function(q){C.pendingcb--,q&&M(S,q),C.prefinished=!0,S.emit("prefinish"),x(S,C)})}function x(S,C){var q=w(C);if(q&&(function(H,X){X.prefinished||X.finalCalled||(typeof H._final!="function"||X.destroyed?(X.prefinished=!0,H.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,i.nextTick(_,H,X)))}(S,C),C.pendingcb===0&&(C.finished=!0,S.emit("finish"),C.autoDestroy))){var P=S._readableState;(!P||P.autoDestroy&&P.endEmitted)&&S.destroy()}return q}e("inherits")(R,c),O.prototype.getBuffer=function(){for(var S=this.bufferedRequest,C=[];S;)C.push(S),S=S.next;return C},function(){try{Object.defineProperty(O.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(S){return!!h.call(this,S)||this===R&&S&&S._writableState instanceof O}})):h=function(S){return S instanceof this},R.prototype.pipe=function(){M(this,new k)},R.prototype.write=function(S,C,q){var P,H=this._writableState,X=!1,Z=!H.objectMode&&(P=S,d.isBuffer(P)||P instanceof f);return Z&&!d.isBuffer(S)&&(S=function(V){return d.from(V)}(S)),typeof C=="function"&&(q=C,C=null),Z?C="buffer":C||(C=H.defaultEncoding),typeof q!="function"&&(q=B),H.ending?function(V,Q){var z=new j;M(V,z),i.nextTick(Q,z)}(this,q):(Z||function(V,Q,z,D){var W;return z===null?W=new F:typeof z=="string"||Q.objectMode||(W=new y("chunk",["string","Buffer"],z)),!W||(M(V,W),i.nextTick(D,W),!1)}(this,H,S,q))&&(H.pendingcb++,X=function(V,Q,z,D,W,ee){if(!z){var oe=function(ne,se,ye){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=d.from(se,ye)),se}(Q,D,W);D!==oe&&(z=!0,W="buffer",D=oe)}var ie=Q.objectMode?1:D.length;Q.length+=ie;var ae=Q.length<Q.highWaterMark;if(ae||(Q.needDrain=!0),Q.writing||Q.corked){var le=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:D,encoding:W,isBuf:z,callback:ee,next:null},le?le.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else E(V,Q,!1,ie,D,W,ee);return ae}(this,H,Z,S,C,q)),X},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||A(this,S))},R.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new T(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(S,C,q){q(new m("_write()"))},R.prototype._writev=null,R.prototype.end=function(S,C,q){var P=this._writableState;return typeof S=="function"?(q=S,S=null,C=null):typeof C=="function"&&(q=C,C=null),S!=null&&this.write(S,C),P.corked&&(P.corked=1,this.uncork()),P.ending||function(H,X,Z){X.ending=!0,x(H,X),Z&&(X.finished?i.nextTick(Z):H.once("finish",Z)),X.ended=!0,H.writable=!1}(this,P,q),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),R.prototype.destroy=g.destroy,R.prototype._undestroy=g.undestroy,R.prototype._destroy=function(S,C){C(S)}}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(i){(function(){var o;function u(N,F,j){return(F=function(T){var M=function(B,O){if(typeof B!="object"||B===null)return B;var R=B[Symbol.toPrimitive];if(R!==void 0){var E=R.call(B,O);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(B)}(T,"string");return typeof M=="symbol"?M:String(M)}(F))in N?Object.defineProperty(N,F,{value:j,enumerable:!0,configurable:!0,writable:!0}):N[F]=j,N}var a=e("./end-of-stream"),l=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream");function p(N,F){return{value:N,done:F}}function y(N){var F=N[l];if(F!==null){var j=N[v].read();j!==null&&(N[h]=null,N[l]=null,N[c]=null,F(p(j,!1)))}}function m(N){i.nextTick(y,N)}var b=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((u(o={get stream(){return this[v]},next:function(){var N=this,F=this[d];if(F!==null)return Promise.reject(F);if(this[f])return Promise.resolve(p(void 0,!0));if(this[v].destroyed)return new Promise(function(B,O){i.nextTick(function(){N[d]?O(N[d]):B(p(void 0,!0))})});var j,T=this[h];if(T)j=new Promise(function(B,O){return function(R,E){B.then(function(){O[f]?R(p(void 0,!0)):O[g](R,E)},E)}}(T,this));else{var M=this[v].read();if(M!==null)return Promise.resolve(p(M,!1));j=new Promise(this[g])}return this[h]=j,j}},Symbol.asyncIterator,function(){return this}),u(o,"return",function(){var N=this;return new Promise(function(F,j){N[v].destroy(null,function(T){T?j(T):F(p(void 0,!0))})})}),o),b);n.exports=function(N){var F,j=Object.create(k,(u(F={},v,{value:N,writable:!0}),u(F,l,{value:null,writable:!0}),u(F,c,{value:null,writable:!0}),u(F,d,{value:null,writable:!0}),u(F,f,{value:N._readableState.endEmitted,writable:!0}),u(F,g,{value:function(T,M){var B=j[v].read();B?(j[h]=null,j[l]=null,j[c]=null,T(p(B,!1))):(j[l]=T,j[c]=M)},writable:!0}),F));return j[h]=null,a(N,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=j[c];return M!==null&&(j[h]=null,j[l]=null,j[c]=null,M(T)),void(j[d]=T)}var B=j[l];B!==null&&(j[h]=null,j[l]=null,j[c]=null,B(p(void 0,!0))),j[f]=!0}),N.on("readable",m.bind(null,j)),j}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function i(h,g){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);g&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),v.push.apply(v,p)}return v}function o(h){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?i(Object(v),!0).forEach(function(p){u(h,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):i(Object(v)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(v,p))})}return h}function u(h,g,v){return(g=l(g))in h?Object.defineProperty(h,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[g]=v,h}function a(h,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,l(p.key),p)}}function l(h){var g=function(v,p){if(typeof v!="object"||v===null)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,p);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(v)}(h,"string");return typeof g=="symbol"?g:String(g)}var c=e("buffer").Buffer,d=e("util").inspect,f=d&&d.custom||"inspect";n.exports=function(){function h(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,v;return g=h,(v=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=p+y.data;return m}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var y,m,b,k=c.allocUnsafe(p>>>0),N=this.head,F=0;N;)y=N.data,m=k,b=F,c.prototype.copy.call(y,m,b),F+=N.data.length,N=N.next;return k}},{key:"consume",value:function(p,y){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):m=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,m=1,b=y.data;for(p-=b.length;y=y.next;){var k=y.data,N=p>k.length?k.length:p;if(N===k.length?b+=k:b+=k.slice(0,p),(p-=N)==0){N===k.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=k.slice(N));break}++m}return this.length-=m,b}},{key:"_getBuffer",value:function(p){var y=c.allocUnsafe(p),m=this.head,b=1;for(m.data.copy(y),p-=m.data.length;m=m.next;){var k=m.data,N=p>k.length?k.length:p;if(k.copy(y,y.length-p,0,N),(p-=N)==0){N===k.length?(++b,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=k.slice(N));break}++b}return this.length-=b,y}},{key:f,value:function(p,y){return d(this,o(o({},y),{},{depth:0,customInspect:!1}))}}])&&a(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,n,s){(function(i){(function(){function o(l,c){a(l,c),u(l)}function u(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function a(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var d=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,l)):i.nextTick(a,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(g){!c&&g?d._writableState?d._writableState.errorEmitted?i.nextTick(u,d):(d._writableState.errorEmitted=!0,i.nextTick(o,d,g)):i.nextTick(o,d,g):c?(i.nextTick(u,d),c(g)):i.nextTick(u,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,c){var d=l._readableState,f=l._writableState;d&&d.autoDestroy||f&&f.autoDestroy?l.destroy(c):l.emit("error",c)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function u(a,l,c){if(typeof l=="function")return u(a,null,l);l||(l={}),c=function(N){var F=!1;return function(){if(!F){F=!0;for(var j=arguments.length,T=new Array(j),M=0;M<j;M++)T[M]=arguments[M];N.apply(this,T)}}}(c||o);var d=l.readable||l.readable!==!1&&a.readable,f=l.writable||l.writable!==!1&&a.writable,h=function(){a.writable||v()},g=a._writableState&&a._writableState.finished,v=function(){f=!1,g=!0,d||c.call(a)},p=a._readableState&&a._readableState.endEmitted,y=function(){d=!1,p=!0,f||c.call(a)},m=function(N){c.call(a,N)},b=function(){var N;return d&&!p?(a._readableState&&a._readableState.ended||(N=new i),c.call(a,N)):f&&!g?(a._writableState&&a._writableState.ended||(N=new i),c.call(a,N)):void 0},k=function(){a.req.on("finish",v)};return function(N){return N.setHeader&&typeof N.abort=="function"}(a)?(a.on("complete",v),a.on("abort",b),a.req?k():a.on("request",k)):f&&!a._writableState&&(a.on("end",h),a.on("close",h)),a.on("end",y),a.on("finish",v),l.error!==!1&&a.on("error",m),a.on("close",b),function(){a.removeListener("complete",v),a.removeListener("abort",b),a.removeListener("request",k),a.req&&a.req.removeListener("finish",v),a.removeListener("end",h),a.removeListener("close",h),a.removeListener("finish",v),a.removeListener("end",y),a.removeListener("error",m),a.removeListener("close",b)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var i,o=e("../../../errors").codes,u=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function c(g,v,p,y){y=function(k){var N=!1;return function(){N||(N=!0,k.apply(void 0,arguments))}}(y);var m=!1;g.on("close",function(){m=!0}),i===void 0&&(i=e("./end-of-stream")),i(g,{readable:v,writable:p},function(k){if(k)return y(k);m=!0,y()});var b=!1;return function(k){if(!m&&!b)return b=!0,function(N){return N.setHeader&&typeof N.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(k||new a("pipe"))}}function d(g){g()}function f(g,v){return g.pipe(v)}function h(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}n.exports=function(){for(var g=arguments.length,v=new Array(g),p=0;p<g;p++)v[p]=arguments[p];var y,m=h(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new u("streams");var b=v.map(function(k,N){var F=N<v.length-1;return c(k,F,N>0,function(j){y||(y=j),j&&b.forEach(d),F||(b.forEach(d),m(y))})});return v.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,u,a,l){var c=function(d,f,h){return d.highWaterMark!=null?d.highWaterMark:f?d[h]:null}(u,l,a);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new i(l?a:"highWaterMark",c);return Math.floor(c)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var i=function(o){var u=Object.prototype,a=u.hasOwnProperty,l=Object.defineProperty||function(x,S,C){x[S]=C.value},c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function g(x,S,C){return Object.defineProperty(x,S,{value:C,enumerable:!0,configurable:!0,writable:!0}),x[S]}try{g({},"")}catch{g=function(S,C,q){return S[C]=q}}function v(x,S,C,q){var P=S&&S.prototype instanceof m?S:m,H=Object.create(P.prototype),X=new A(q||[]);return l(H,"_invoke",{value:O(x,C,X)}),H}function p(x,S,C){try{return{type:"normal",arg:x.call(S,C)}}catch(q){return{type:"throw",arg:q}}}o.wrap=v;var y={};function m(){}function b(){}function k(){}var N={};g(N,d,function(){return this});var F=Object.getPrototypeOf,j=F&&F(F(w([])));j&&j!==u&&a.call(j,d)&&(N=j);var T=k.prototype=m.prototype=Object.create(N);function M(x){["next","throw","return"].forEach(function(S){g(x,S,function(C){return this._invoke(S,C)})})}function B(x,S){var C;l(this,"_invoke",{value:function(q,P){function H(){return new S(function(X,Z){(function V(Q,z,D,W){var ee=p(x[Q],x,z);if(ee.type!=="throw"){var oe=ee.arg,ie=oe.value;return ie&&typeof ie=="object"&&a.call(ie,"__await")?S.resolve(ie.__await).then(function(ae){V("next",ae,D,W)},function(ae){V("throw",ae,D,W)}):S.resolve(ie).then(function(ae){oe.value=ae,D(oe)},function(ae){return V("throw",ae,D,W)})}W(ee.arg)})(q,P,X,Z)})}return C=C?C.then(H,H):H()}})}function O(x,S,C){var q="suspendedStart";return function(P,H){if(q==="executing")throw new Error("Generator is already running");if(q==="completed"){if(P==="throw")throw H;return _()}for(C.method=P,C.arg=H;;){var X=C.delegate;if(X){var Z=R(X,C);if(Z){if(Z===y)continue;return Z}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(q==="suspendedStart")throw q="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);q="executing";var V=p(x,S,C);if(V.type==="normal"){if(q=C.done?"completed":"suspendedYield",V.arg===y)continue;return{value:V.arg,done:C.done}}V.type==="throw"&&(q="completed",C.method="throw",C.arg=V.arg)}}}function R(x,S){var C=S.method,q=x.iterator[C];if(q===void 0)return S.delegate=null,C==="throw"&&x.iterator.return&&(S.method="return",S.arg=void 0,R(x,S),S.method==="throw")||C!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+C+"' method")),y;var P=p(q,x.iterator,S.arg);if(P.type==="throw")return S.method="throw",S.arg=P.arg,S.delegate=null,y;var H=P.arg;return H?H.done?(S[x.resultName]=H.value,S.next=x.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,y):H:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,y)}function E(x){var S={tryLoc:x[0]};1 in x&&(S.catchLoc=x[1]),2 in x&&(S.finallyLoc=x[2],S.afterLoc=x[3]),this.tryEntries.push(S)}function I(x){var S=x.completion||{};S.type="normal",delete S.arg,x.completion=S}function A(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(E,this),this.reset(!0)}function w(x){if(x){var S=x[d];if(S)return S.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var C=-1,q=function P(){for(;++C<x.length;)if(a.call(x,C))return P.value=x[C],P.done=!1,P;return P.value=void 0,P.done=!0,P};return q.next=q}}return{next:_}}function _(){return{value:void 0,done:!0}}return b.prototype=k,l(T,"constructor",{value:k,configurable:!0}),l(k,"constructor",{value:b,configurable:!0}),b.displayName=g(k,h,"GeneratorFunction"),o.isGeneratorFunction=function(x){var S=typeof x=="function"&&x.constructor;return!!S&&(S===b||(S.displayName||S.name)==="GeneratorFunction")},o.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,k):(x.__proto__=k,g(x,h,"GeneratorFunction")),x.prototype=Object.create(T),x},o.awrap=function(x){return{__await:x}},M(B.prototype),g(B.prototype,f,function(){return this}),o.AsyncIterator=B,o.async=function(x,S,C,q,P){P===void 0&&(P=Promise);var H=new B(v(x,S,C,q),P);return o.isGeneratorFunction(S)?H:H.next().then(function(X){return X.done?X.value:H.next()})},M(T),g(T,h,"Generator"),g(T,d,function(){return this}),g(T,"toString",function(){return"[object Generator]"}),o.keys=function(x){var S=Object(x),C=[];for(var q in S)C.push(q);return C.reverse(),function P(){for(;C.length;){var H=C.pop();if(H in S)return P.value=H,P.done=!1,P}return P.done=!0,P}},o.values=w,A.prototype={constructor:A,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!x)for(var S in this)S.charAt(0)==="t"&&a.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var S=this;function C(V,Q){return H.type="throw",H.arg=x,S.next=V,Q&&(S.method="next",S.arg=void 0),!!Q}for(var q=this.tryEntries.length-1;q>=0;--q){var P=this.tryEntries[q],H=P.completion;if(P.tryLoc==="root")return C("end");if(P.tryLoc<=this.prev){var X=a.call(P,"catchLoc"),Z=a.call(P,"finallyLoc");if(X&&Z){if(this.prev<P.catchLoc)return C(P.catchLoc,!0);if(this.prev<P.finallyLoc)return C(P.finallyLoc)}else if(X){if(this.prev<P.catchLoc)return C(P.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return C(P.finallyLoc)}}}},abrupt:function(x,S){for(var C=this.tryEntries.length-1;C>=0;--C){var q=this.tryEntries[C];if(q.tryLoc<=this.prev&&a.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var P=q;break}}P&&(x==="break"||x==="continue")&&P.tryLoc<=S&&S<=P.finallyLoc&&(P=null);var H=P?P.completion:{};return H.type=x,H.arg=S,P?(this.method="next",this.next=P.finallyLoc,y):this.complete(H)},complete:function(x,S){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&S&&(this.next=S),y},finish:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.finallyLoc===x)return this.complete(C.completion,C.afterLoc),I(C),y}},catch:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.tryLoc===x){var q=C.completion;if(q.type==="throw"){var P=q.arg;I(C)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(x,S,C){return this.delegate={iterator:w(x),resultName:S,nextLoc:C},this.method==="next"&&(this.arg=void 0),y}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,s){var i=e("buffer").Buffer,o=e("inherits"),u=e("hash-base"),a=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function v(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(F,j){return F<<j|F>>>32-j}function y(F,j,T,M,B,O,R,E){return p(F+(j^T^M)+O+R|0,E)+B|0}function m(F,j,T,M,B,O,R,E){return p(F+(j&T|~j&M)+O+R|0,E)+B|0}function b(F,j,T,M,B,O,R,E){return p(F+((j|~T)^M)+O+R|0,E)+B|0}function k(F,j,T,M,B,O,R,E){return p(F+(j&M|T&~M)+O+R|0,E)+B|0}function N(F,j,T,M,B,O,R,E){return p(F+(j^(T|~M))+O+R|0,E)+B|0}o(v,u),v.prototype._update=function(){for(var F=a,j=0;j<16;++j)F[j]=this._block.readInt32LE(4*j);for(var T=0|this._a,M=0|this._b,B=0|this._c,O=0|this._d,R=0|this._e,E=0|this._a,I=0|this._b,A=0|this._c,w=0|this._d,_=0|this._e,x=0;x<80;x+=1){var S,C;x<16?(S=y(T,M,B,O,R,F[l[x]],h[0],d[x]),C=N(E,I,A,w,_,F[c[x]],g[0],f[x])):x<32?(S=m(T,M,B,O,R,F[l[x]],h[1],d[x]),C=k(E,I,A,w,_,F[c[x]],g[1],f[x])):x<48?(S=b(T,M,B,O,R,F[l[x]],h[2],d[x]),C=b(E,I,A,w,_,F[c[x]],g[2],f[x])):x<64?(S=k(T,M,B,O,R,F[l[x]],h[3],d[x]),C=m(E,I,A,w,_,F[c[x]],g[3],f[x])):(S=N(T,M,B,O,R,F[l[x]],h[4],d[x]),C=y(E,I,A,w,_,F[c[x]],g[4],f[x])),T=R,R=O,O=p(B,10),B=M,M=S,E=_,_=w,w=p(A,10),A=I,I=C}var q=this._b+B+w|0;this._b=this._c+O+_|0,this._c=this._d+R+E|0,this._d=this._e+T+I|0,this._e=this._a+M+A|0,this._a=q},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=i.alloc?i.alloc(20):new i(20);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F.writeInt32LE(this._e,16),F},n.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),o=i.Buffer;function u(l,c){for(var d in l)c[d]=l[d]}function a(l,c,d){return o(l,c,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=i:(u(i,s),s.Buffer=a),a.prototype=Object.create(o.prototype),u(o,a),a.from=function(l,c,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,c,d)},a.alloc=function(l,c,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=o(l);return c!==void 0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],495:[function(e,n,s){(function(i){(function(){var o,u=e("buffer"),a=u.Buffer,l={};for(o in u)u.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(l[o]=u[o]);var c=l.Buffer={};for(o in a)a.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(c[o]=a[o]);if(l.Buffer.prototype=a.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(d,f,h){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return a(d,f,h)}),c.alloc||(c.alloc=function(d,f,h){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var g=a(d);return f&&f.length!==0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),n.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),u=e("xmlchars/xmlns/1.0/ed3");var a=i.isS,l=i.isChar,c=i.isNameStartChar,d=i.isNameChar,f=i.S_LIST,h=i.NAME_RE,g=o.isChar,v=u.isNCNameStartChar,p=u.isNCNameChar,y=u.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:m,xmlns:b},N={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},F=w=>w===34||w===39,j=[34,39],T=[...j,91,62],M=[...j,60,93],B=[61,63,...f],O=[...f,62,38,60];function R(w,_,x){switch(_){case"xml":x!==m&&w.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":x!==b&&w.fail(`xmlns prefix must be bound to ${b}.`)}switch(x){case b:w.fail(_===""?`the default namespace may not be set to ${x}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case m:switch(_){case"xml":break;case"":w.fail(`the default namespace may not be set to ${x}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const E=w=>y.test(w),I=w=>h.test(w);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=v,this.nameCheck=p,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const x=this.opt.additionalNamespaces;x!=null&&(function(S,C){for(const q of Object.keys(C))R(S,q,C[q])}(this,x),Object.assign(this.ns,x))}else this.nameStartCheck=c,this.nameCheck=d,this.isName=I,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:x}=this.opt;if(x===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");x="1.0"}this.setXMLVersion(x),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(N),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,_){this[A[w]]=_}off(w){this[A[w]]=void 0}makeError(w){var _;let x=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(x.length>0&&(x+=":"),x+=`${this.line}:${this.column}`),x.length>0&&(x+=": "),new Error(x+w)}fail(w){const _=this.makeError(w),x=this.errorHandler;if(x===void 0)throw _;return x(_),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;w===null?(_=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let x=w.length;const S=w.charCodeAt(x-1);!_&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=w[x-1],x--,w=w.slice(0,x));const{stateTable:C}=this;for(this.chunk=w,this.i=0;this.i<x;)C[this.state].call(this);return this.chunkPosition+=x,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const x=w.charCodeAt(_);if(this.column++,x<55296){if(x>=32||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const S=65536+1024*(x-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const x=w.charCodeAt(_);if(this.column++,x<55296){if(x>31&&x<127||x>159&&x!==8232||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const C=w.charCodeAt(_+1);C!==10&&C!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const S=65536+1024*(x-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:_}=this;const{chunk:x}=this;for(;;){const S=this.getCode(),C=S===-2,q=C?10:S;if(q===-1||w.includes(q))return this.text+=x.slice(_,this.prevI),q;C&&(this.text+=x.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(w){let{i:_}=this;const{chunk:x}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=x.slice(_,this.prevI)+`
`,_=this.i,S=10;break;case-1:return this.text+=x.slice(_),!1}if(S===w)return this.text+=x.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:w,i:_}=this;for(;;){const x=this.getCode();if(x===-1)return this.name+=w.slice(_),-1;if(!d(x))return this.name+=w.slice(_,this.prevI),x===-2?10:x}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!a(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,_=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const _=this.captureTo(T);switch(_){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:F(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(M);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:F(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=w;this.text+=w,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:x}=this,S=this.entity+_.slice(w,this.prevI);let C;this.state=x,S===""?(this.fail("empty entity name."),C="&;"):(C=this.parseEntity(S),this.entity=""),x===13&&this.textHandler===void 0||(this.text+=C);break e}case-1:this.entity+=_.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(c(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const _=this.getCodeNorm();_===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const _=this.getCodeNorm();switch(_){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||a(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:_}=this;for(;;){const x=this.getCodeNorm();if(x===-1)return void(this.piTarget+=w.slice(_));if(!this.nameCheck(x)){this.piTarget+=w.slice(_,this.prevI);const S=x===63;S||a(x)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:a(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const _=this.getCodeNorm();if(_===62){const{piTarget:x}=this;x.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:x,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(B);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(w)||(F(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const x=_;this.xmlDecl.version=x,/^1\.[0-9]+$/.test(x)?this.opt.forceXMLVersion||this.setXMLVersion(x):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(a(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const _=this.captureNameChars();if(_===-1)return;const x=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=x.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,x),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:a(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(c(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:a(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():c(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();F(w)?(this.q=w,this.state=40):a(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:_}=this;let{i:x}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+_.slice(x,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(x,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(x,this.prevI)+" ",x=this.i;break;case 60:return this.text+=_.slice(x,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(x))}}sAttribValueClosed(){const w=this.getCodeNorm();a(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:c(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(O);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():a(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:_}=this;const{chunk:x,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:C}=this,q=x.slice(w,this.prevI);C.length!==0?(S(C+q),this.text=""):q.length!==0&&S(q)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=x.slice(w,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:S!==void 0&&(this.text+=x.slice(w,this.prevI)+`
`),w=this.i,_=0;break;case-1:S!==void 0&&(this.text+=x.slice(w));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:w}=this;const{chunk:_,textHandler:x}=this;let S=!1;e:for(;;){const C=this.getCode();switch(C){case 60:if(this.state=15,x!==void 0){const{text:q}=this,P=_.slice(w,this.prevI);q.length!==0?(x(q+P),this.text=""):P.length!==0&&x(P)}break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=_.slice(w,this.prevI)),S=!0;break e;case-2:x!==void 0&&(this.text+=_.slice(w,this.prevI)+`
`),w=this.i;break;case-1:x!==void 0&&(this.text+=_.slice(w));break e;default:a(C)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,_){var x;const{prefix:S,local:C}=this.qname(w),q={name:w,prefix:S,local:C,value:_};if(this.attribList.push(q),(x=this.attributeHandler)===null||x===void 0||x.call(this,q),S==="xmlns"){const P=_.trim();this.currentXMLVersion==="1.0"&&P===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[C]=P,R(this,C,P)}else if(w==="xmlns"){const P=_.trim();this.topNS[""]=P,R(this,"",P)}}pushAttribPlain(w,_){var x;const S={name:w,value:_};this.attribList.push(S),(x=this.attributeHandler)===null||x===void 0||x.call(this,S)}end(){var w,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:x}=this;for(;x.length>0;){const C=x.pop();this.fail("unclosed tag: "+C.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,S),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(w){var _,x;let S=this.topNS[w];if(S!==void 0)return S;const{tags:C}=this;for(let q=C.length-1;q>=0;q--)if(S=C[q].ns[w],S!==void 0)return S;return S=this.ns[w],S!==void 0?S:(x=(_=this.opt).resolvePrefix)===null||x===void 0?void 0:x.call(_,w)}qname(w){const _=w.indexOf(":");if(_===-1)return{prefix:"",local:w};const x=w.slice(_+1),S=w.slice(0,_);return(S===""||x===""||x.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:S,local:x}}processAttribsNS(){var w;const{attribList:_}=this,x=this.tag;{const{prefix:q,local:P}=this.qname(x.name);x.prefix=q,x.local=P;const H=x.uri=(w=this.resolve(q))!==null&&w!==void 0?w:"";q!==""&&(q==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),H===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),x.uri=q))}if(_.length===0)return;const{attributes:S}=x,C=new Set;for(const q of _){const{name:P,prefix:H,local:X}=q;let Z,V;H===""?(Z=P==="xmlns"?b:"",V=P):(Z=this.resolve(H),Z===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(H)}.`),Z=H),V=`{${Z}}${X}`),C.has(V)&&this.fail(`duplicate attribute: ${V}.`),C.add(V),q.uri=Z,S[P]=q}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,_=this.tag.attributes;for(const{name:x,value:S}of w)_[x]!==void 0&&this.fail(`duplicate attribute: ${x}.`),_[x]=S;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:_}=this,x=this.tag;x.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,x),_.push(x),this.state=13,this.name=""}openSelfClosingTag(){var w,_,x;this.processAttribs();const{tags:S}=this,C=this.tag;C.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,C),(_=this.closeTagHandler)===null||_===void 0||_.call(this,C),(this.tag=(x=S[S.length-1])!==null&&x!==void 0?x:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const x=this.closeTagHandler;let S=w.length;for(;S-- >0;){const C=this.tag=w.pop();if(this.topNS=C.ns,x==null||x(C),C.name===_)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(w){if(w[0]!=="#"){const x=this.ENTITIES[w];return x!==void 0?x:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let _=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?_=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(_=parseInt(w.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var i=e("safe-buffer").Buffer;function o(u,a){this._block=i.alloc(u),this._finalSize=a,this._blockSize=u,this._len=0}o.prototype.update=function(u,a){typeof u=="string"&&(a=a||"utf8",u=i.from(u,a));for(var l=this._block,c=this._blockSize,d=u.length,f=this._len,h=0;h<d;){for(var g=f%c,v=Math.min(d-h,c-g),p=0;p<v;p++)l[g+p]=u[h+p];h+=v,(f+=v)%c==0&&this._update(l)}return this._len+=d,this},o.prototype.digest=function(u){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var c=(4294967295&l)>>>0,d=(l-c)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var f=this._hash();return u?f.toString(u):f},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(e,n,s){var i=n.exports=function(o){o=o.toLowerCase();var u=i[o];if(!u)throw new Error(o+" is not supported (we accept pull requests)");return new u};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function c(){this.init(),this._w=l,o.call(this,64,56)}function d(h){return h<<30|h>>>2}function f(h,g,v,p){return h===0?g&v|~g&p:h===2?g&v|g&p|v&p:g^v^p}i(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(h){for(var g,v=this._w,p=0|this._a,y=0|this._b,m=0|this._c,b=0|this._d,k=0|this._e,N=0;N<16;++N)v[N]=h.readInt32BE(4*N);for(;N<80;++N)v[N]=v[N-3]^v[N-8]^v[N-14]^v[N-16];for(var F=0;F<80;++F){var j=~~(F/20),T=0|((g=p)<<5|g>>>27)+f(j,y,m,b)+k+v[F]+a[j];k=b,b=m,m=d(y),y=p,p=T}this._a=p+this._a|0,this._b=y+this._b|0,this._c=m+this._c|0,this._d=b+this._d|0,this._e=k+this._e|0},c.prototype._hash=function(){var h=u.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function c(){this.init(),this._w=l,o.call(this,64,56)}function d(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function h(g,v,p,y){return g===0?v&p|~v&y:g===2?v&p|v&y|p&y:v^p^y}i(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(g){for(var v,p=this._w,y=0|this._a,m=0|this._b,b=0|this._c,k=0|this._d,N=0|this._e,F=0;F<16;++F)p[F]=g.readInt32BE(4*F);for(;F<80;++F)p[F]=(v=p[F-3]^p[F-8]^p[F-14]^p[F-16])<<1|v>>>31;for(var j=0;j<80;++j){var T=~~(j/20),M=d(y)+h(T,m,b,k)+N+p[j]+a[T]|0;N=k,k=b,b=f(m),m=y,y=M}this._a=y+this._a|0,this._b=m+this._b|0,this._c=b+this._c|0,this._d=k+this._d|0,this._e=N+this._e|0},c.prototype._hash=function(){var g=u.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var i=e("inherits"),o=e("./sha256"),u=e("./hash"),a=e("safe-buffer").Buffer,l=new Array(64);function c(){this.init(),this._w=l,u.call(this,64,56)}i(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var d=a.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function c(){this.init(),this._w=l,o.call(this,64,56)}function d(p,y,m){return m^p&(y^m)}function f(p,y,m){return p&y|m&(p|y)}function h(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function v(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}i(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var y,m=this._w,b=0|this._a,k=0|this._b,N=0|this._c,F=0|this._d,j=0|this._e,T=0|this._f,M=0|this._g,B=0|this._h,O=0;O<16;++O)m[O]=p.readInt32BE(4*O);for(;O<64;++O)m[O]=0|(((y=m[O-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+m[O-7]+v(m[O-15])+m[O-16];for(var R=0;R<64;++R){var E=B+g(j)+d(j,T,M)+a[R]+m[R]|0,I=h(b)+f(b,k,N)|0;B=M,M=T,T=j,j=F+E|0,F=N,N=k,k=b,b=E+I|0}this._a=b+this._a|0,this._b=k+this._b|0,this._c=N+this._c|0,this._d=F+this._d|0,this._e=j+this._e|0,this._f=T+this._f|0,this._g=M+this._g|0,this._h=B+this._h|0},c.prototype._hash=function(){var p=u.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var i=e("inherits"),o=e("./sha512"),u=e("./hash"),a=e("safe-buffer").Buffer,l=new Array(160);function c(){this.init(),this._w=l,u.call(this,128,112)}i(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var d=a.allocUnsafe(48);function f(h,g,v){d.writeInt32BE(h,v),d.writeInt32BE(g,v+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),d},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function c(){this.init(),this._w=l,o.call(this,128,112)}function d(k,N,F){return F^k&(N^F)}function f(k,N,F){return k&N|F&(k|N)}function h(k,N){return(k>>>28|N<<4)^(N>>>2|k<<30)^(N>>>7|k<<25)}function g(k,N){return(k>>>14|N<<18)^(k>>>18|N<<14)^(N>>>9|k<<23)}function v(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^k>>>7}function p(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^(k>>>7|N<<25)}function y(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^k>>>6}function m(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^(k>>>6|N<<26)}function b(k,N){return k>>>0<N>>>0?1:0}i(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(k){for(var N=this._w,F=0|this._ah,j=0|this._bh,T=0|this._ch,M=0|this._dh,B=0|this._eh,O=0|this._fh,R=0|this._gh,E=0|this._hh,I=0|this._al,A=0|this._bl,w=0|this._cl,_=0|this._dl,x=0|this._el,S=0|this._fl,C=0|this._gl,q=0|this._hl,P=0;P<32;P+=2)N[P]=k.readInt32BE(4*P),N[P+1]=k.readInt32BE(4*P+4);for(;P<160;P+=2){var H=N[P-30],X=N[P-30+1],Z=v(H,X),V=p(X,H),Q=y(H=N[P-4],X=N[P-4+1]),z=m(X,H),D=N[P-14],W=N[P-14+1],ee=N[P-32],oe=N[P-32+1],ie=V+W|0,ae=Z+D+b(ie,V)|0;ae=(ae=ae+Q+b(ie=ie+z|0,z)|0)+ee+b(ie=ie+oe|0,oe)|0,N[P]=ae,N[P+1]=ie}for(var le=0;le<160;le+=2){ae=N[le],ie=N[le+1];var ne=f(F,j,T),se=f(I,A,w),ye=h(F,I),me=h(I,F),we=g(B,x),_e=g(x,B),Se=a[le],Te=a[le+1],je=d(B,O,R),Ue=d(x,S,C),qe=q+_e|0,We=E+we+b(qe,q)|0;We=(We=(We=We+je+b(qe=qe+Ue|0,Ue)|0)+Se+b(qe=qe+Te|0,Te)|0)+ae+b(qe=qe+ie|0,ie)|0;var Ke=me+se|0,rt=ye+ne+b(Ke,me)|0;E=R,q=C,R=O,C=S,O=B,S=x,B=M+We+b(x=_+qe|0,_)|0,M=T,_=w,T=j,w=A,j=F,A=I,F=We+rt+b(I=qe+Ke|0,qe)|0}this._al=this._al+I|0,this._bl=this._bl+A|0,this._cl=this._cl+w|0,this._dl=this._dl+_|0,this._el=this._el+x|0,this._fl=this._fl+S|0,this._gl=this._gl+C|0,this._hl=this._hl+q|0,this._ah=this._ah+F+b(this._al,I)|0,this._bh=this._bh+j+b(this._bl,A)|0,this._ch=this._ch+T+b(this._cl,w)|0,this._dh=this._dh+M+b(this._dl,_)|0,this._eh=this._eh+B+b(this._el,x)|0,this._fh=this._fh+O+b(this._fl,S)|0,this._gh=this._gh+R+b(this._gl,C)|0,this._hh=this._hh+E+b(this._hl,q)|0},c.prototype._hash=function(){var k=u.allocUnsafe(64);function N(F,j,T){k.writeInt32BE(F,T),k.writeInt32BE(j,T+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),k},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=o;var i=e("events").EventEmitter;function o(){i.call(this)}e("inherits")(o,i),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(u,a){var l=this;function c(y){u.writable&&u.write(y)===!1&&l.pause&&l.pause()}function d(){l.readable&&l.resume&&l.resume()}l.on("data",c),u.on("drain",d),u._isStdio||a&&a.end===!1||(l.on("end",h),l.on("close",g));var f=!1;function h(){f||(f=!0,u.end())}function g(){f||(f=!0,typeof u.destroy=="function"&&u.destroy())}function v(y){if(p(),i.listenerCount(this,"error")===0)throw y}function p(){l.removeListener("data",c),u.removeListener("drain",d),l.removeListener("end",h),l.removeListener("close",g),l.removeListener("error",v),u.removeListener("error",v),l.removeListener("end",p),l.removeListener("close",p),u.removeListener("close",p)}return l.on("error",v),u.on("error",v),l.on("end",p),l.on("close",p),u.on("close",p),u.emit("pipe",l),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var i={}.toString;n.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var i=e("process-nextick-args"),o=Object.keys||function(p){var y=[];for(var m in p)y.push(m);return y};n.exports=h;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var a=e("./_stream_readable"),l=e("./_stream_writable");u.inherits(h,a);for(var c=o(l.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(p){if(!(this instanceof h))return new h(p);a.call(this,p),l.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(v,this)}function v(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),h.prototype._destroy=function(p,y){this.push(null),this.end(),i.nextTick(y,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=u;var i=e("./_stream_transform"),o=Object.create(e("core-util-is"));function u(a){if(!(this instanceof u))return new u(a);i.call(this,a)}o.inherits=e("inherits"),o.inherits(u,i),u.prototype._transform=function(a,l,c){c(null,a)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(i,o){(function(){var u=e("process-nextick-args");n.exports=F;var a,l=e("isarray");F.ReadableState=N,e("events").EventEmitter;var c=function(q,P){return q.listeners(P).length},d=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var v=e("util"),p=void 0;p=v&&v.debuglog?v.debuglog("stream"):function(){};var y,m=e("./internal/streams/BufferList"),b=e("./internal/streams/destroy");g.inherits(F,d);var k=["error","close","destroy","pause","resume"];function N(q,P){q=q||{};var H=P instanceof(a=a||e("./_stream_duplex"));this.objectMode=!!q.objectMode,H&&(this.objectMode=this.objectMode||!!q.readableObjectMode);var X=q.highWaterMark,Z=q.readableHighWaterMark,V=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:H&&(Z||Z===0)?Z:V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(q.encoding),this.encoding=q.encoding)}function F(q){if(a=a||e("./_stream_duplex"),!(this instanceof F))return new F(q);this._readableState=new N(q,this),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),d.call(this)}function j(q,P,H,X,Z){var V,Q=q._readableState;return P===null?(Q.reading=!1,function(z,D){if(!D.ended){if(D.decoder){var W=D.decoder.end();W&&W.length&&(D.buffer.push(W),D.length+=D.objectMode?1:W.length)}D.ended=!0,B(z)}}(q,Q)):(Z||(V=function(z,D){var W;ee=D,f.isBuffer(ee)||ee instanceof h||typeof D=="string"||D===void 0||z.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var ee;return W}(Q,P)),V?q.emit("error",V):Q.objectMode||P&&P.length>0?(typeof P=="string"||Q.objectMode||Object.getPrototypeOf(P)===f.prototype||(P=function(z){return f.from(z)}(P)),X?Q.endEmitted?q.emit("error",new Error("stream.unshift() after end event")):T(q,Q,P,!0):Q.ended?q.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!H?(P=Q.decoder.write(P),Q.objectMode||P.length!==0?T(q,Q,P,!1):R(q,Q)):T(q,Q,P,!1))):X||(Q.reading=!1)),function(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}(Q)}function T(q,P,H,X){P.flowing&&P.length===0&&!P.sync?(q.emit("data",H),q.read(0)):(P.length+=P.objectMode?1:H.length,X?P.buffer.unshift(H):P.buffer.push(H),P.needReadable&&B(q)),R(q,P)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),F.prototype.destroy=b.destroy,F.prototype._undestroy=b.undestroy,F.prototype._destroy=function(q,P){this.push(null),P(q)},F.prototype.push=function(q,P){var H,X=this._readableState;return X.objectMode?H=!0:typeof q=="string"&&((P=P||X.defaultEncoding)!==X.encoding&&(q=f.from(q,P),P=""),H=!0),j(this,q,P,!1,H)},F.prototype.unshift=function(q){return j(this,q,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(q){return y||(y=e("string_decoder/").StringDecoder),this._readableState.decoder=new y(q),this._readableState.encoding=q,this};function M(q,P){return q<=0||P.length===0&&P.ended?0:P.objectMode?1:q!=q?P.flowing&&P.length?P.buffer.head.data.length:P.length:(q>P.highWaterMark&&(P.highWaterMark=function(H){return H>=8388608?H=8388608:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(q)),q<=P.length?q:P.ended?P.length:(P.needReadable=!0,0))}function B(q){var P=q._readableState;P.needReadable=!1,P.emittedReadable||(p("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?u.nextTick(O,q):O(q))}function O(q){p("emit readable"),q.emit("readable"),w(q)}function R(q,P){P.readingMore||(P.readingMore=!0,u.nextTick(E,q,P))}function E(q,P){for(var H=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(p("maybeReadMore read 0"),q.read(0),H!==P.length);)H=P.length;P.readingMore=!1}function I(q){p("readable nexttick read 0"),q.read(0)}function A(q,P){P.reading||(p("resume read 0"),q.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,q.emit("resume"),w(q),P.flowing&&!P.reading&&q.read(0)}function w(q){var P=q._readableState;for(p("flow",P.flowing);P.flowing&&q.read()!==null;);}function _(q,P){return P.length===0?null:(P.objectMode?H=P.buffer.shift():!q||q>=P.length?(H=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):H=function(X,Z,V){var Q;return X<Z.head.data.length?(Q=Z.head.data.slice(0,X),Z.head.data=Z.head.data.slice(X)):Q=X===Z.head.data.length?Z.shift():V?function(z,D){var W=D.head,ee=1,oe=W.data;for(z-=oe.length;W=W.next;){var ie=W.data,ae=z>ie.length?ie.length:z;if(ae===ie.length?oe+=ie:oe+=ie.slice(0,z),(z-=ae)===0){ae===ie.length?(++ee,W.next?D.head=W.next:D.head=D.tail=null):(D.head=W,W.data=ie.slice(ae));break}++ee}return D.length-=ee,oe}(X,Z):function(z,D){var W=f.allocUnsafe(z),ee=D.head,oe=1;for(ee.data.copy(W),z-=ee.data.length;ee=ee.next;){var ie=ee.data,ae=z>ie.length?ie.length:z;if(ie.copy(W,W.length-z,0,ae),(z-=ae)===0){ae===ie.length?(++oe,ee.next?D.head=ee.next:D.head=D.tail=null):(D.head=ee,ee.data=ie.slice(ae));break}++oe}return D.length-=oe,W}(X,Z),Q}(q,P.buffer,P.decoder),H);var H}function x(q){var P=q._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,u.nextTick(S,P,q))}function S(q,P){q.endEmitted||q.length!==0||(q.endEmitted=!0,P.readable=!1,P.emit("end"))}function C(q,P){for(var H=0,X=q.length;H<X;H++)if(q[H]===P)return H;return-1}F.prototype.read=function(q){p("read",q),q=parseInt(q,10);var P=this._readableState,H=q;if(q!==0&&(P.emittedReadable=!1),q===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return p("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?x(this):B(this),null;if((q=M(q,P))===0&&P.ended)return P.length===0&&x(this),null;var X,Z=P.needReadable;return p("need readable",Z),(P.length===0||P.length-q<P.highWaterMark)&&p("length less than watermark",Z=!0),P.ended||P.reading?p("reading or ended",Z=!1):Z&&(p("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(q=M(H,P))),(X=q>0?_(q,P):null)===null?(P.needReadable=!0,q=0):P.length-=q,P.length===0&&(P.ended||(P.needReadable=!0),H!==q&&P.ended&&x(this)),X!==null&&this.emit("data",X),X},F.prototype._read=function(q){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(q,P){var H=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=q;break;case 1:X.pipes=[X.pipes,q];break;default:X.pipes.push(q)}X.pipesCount+=1,p("pipe count=%d opts=%j",X.pipesCount,P);var Z=(!P||P.end!==!1)&&q!==i.stdout&&q!==i.stderr?Q:le;function V(ne,se){p("onunpipe"),ne===H&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,p("cleanup"),q.removeListener("close",ie),q.removeListener("finish",ae),q.removeListener("drain",z),q.removeListener("error",oe),q.removeListener("unpipe",V),H.removeListener("end",Q),H.removeListener("end",le),H.removeListener("data",ee),D=!0,!X.awaitDrain||q._writableState&&!q._writableState.needDrain||z())}function Q(){p("onend"),q.end()}X.endEmitted?u.nextTick(Z):H.once("end",Z),q.on("unpipe",V);var z=function(ne){return function(){var se=ne._readableState;p("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&c(ne,"data")&&(se.flowing=!0,w(ne))}}(H);q.on("drain",z);var D=!1,W=!1;function ee(ne){p("ondata"),W=!1,q.write(ne)!==!1||W||((X.pipesCount===1&&X.pipes===q||X.pipesCount>1&&C(X.pipes,q)!==-1)&&!D&&(p("false write response, pause",X.awaitDrain),X.awaitDrain++,W=!0),H.pause())}function oe(ne){p("onerror",ne),le(),q.removeListener("error",oe),c(q,"error")===0&&q.emit("error",ne)}function ie(){q.removeListener("finish",ae),le()}function ae(){p("onfinish"),q.removeListener("close",ie),le()}function le(){p("unpipe"),H.unpipe(q)}return H.on("data",ee),function(ne,se,ye){if(typeof ne.prependListener=="function")return ne.prependListener(se,ye);ne._events&&ne._events[se]?l(ne._events[se])?ne._events[se].unshift(ye):ne._events[se]=[ye,ne._events[se]]:ne.on(se,ye)}(q,"error",oe),q.once("close",ie),q.once("finish",ae),q.emit("pipe",H),X.flowing||(p("pipe resume"),H.resume()),q},F.prototype.unpipe=function(q){var P=this._readableState,H={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return q&&q!==P.pipes||(q||(q=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,q&&q.emit("unpipe",this,H)),this;if(!q){var X=P.pipes,Z=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var V=0;V<Z;V++)X[V].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=C(P.pipes,q);return Q===-1||(P.pipes.splice(Q,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),q.emit("unpipe",this,H)),this},F.prototype.on=function(q,P){var H=d.prototype.on.call(this,q,P);if(q==="data")this._readableState.flowing!==!1&&this.resume();else if(q==="readable"){var X=this._readableState;X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&B(this):u.nextTick(I,this))}return H},F.prototype.addListener=F.prototype.on,F.prototype.resume=function(){var q=this._readableState;return q.flowing||(p("resume"),q.flowing=!0,function(P,H){H.resumeScheduled||(H.resumeScheduled=!0,u.nextTick(A,P,H))}(this,q)),this},F.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},F.prototype.wrap=function(q){var P=this,H=this._readableState,X=!1;for(var Z in q.on("end",function(){if(p("wrapped end"),H.decoder&&!H.ended){var Q=H.decoder.end();Q&&Q.length&&P.push(Q)}P.push(null)}),q.on("data",function(Q){p("wrapped data"),H.decoder&&(Q=H.decoder.write(Q)),H.objectMode&&Q==null||(H.objectMode||Q&&Q.length)&&(P.push(Q)||(X=!0,q.pause()))}),q)this[Z]===void 0&&typeof q[Z]=="function"&&(this[Z]=function(Q){return function(){return q[Q].apply(q,arguments)}}(Z));for(var V=0;V<k.length;V++)q.on(k[V],this.emit.bind(this,k[V]));return this._read=function(Q){p("wrapped _read",Q),X&&(X=!1,q.resume())},this},Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),F._fromList=_}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=a;var i=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function u(d,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(d);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function a(d){if(!(this instanceof a))return new a(d);i.call(this,d),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function l(){var d=this;typeof this._flush=="function"?this._flush(function(f,h){c(d,f,h)}):c(this,null,null)}function c(d,f,h){if(f)return d.emit("error",f);if(h!=null&&d.push(h),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}o.inherits=e("inherits"),o.inherits(a,i),a.prototype.push=function(d,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,d,f)},a.prototype._transform=function(d,f,h){throw new Error("_transform() is not implemented")},a.prototype._write=function(d,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=d,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},a.prototype._read=function(d){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(d,f){var h=this;i.prototype._destroy.call(this,d,function(g){f(g),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(i,o,u){(function(){var a=e("process-nextick-args");function l(R){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(I,A,w){var _=I.entry;for(I.entry=null;_;){var x=_.callback;A.pendingcb--,x(w),_=_.next}A.corkedRequestsFree.next=I})(E,R)}}n.exports=N;var c,d=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?u:a.nextTick;N.WritableState=k;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),v=e("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,m=e("./internal/streams/destroy");function b(){}function k(R,E){c=c||e("./_stream_duplex"),R=R||{};var I=E instanceof c;this.objectMode=!!R.objectMode,I&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var A=R.highWaterMark,w=R.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:I&&(w||w===0)?w:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var x=R.decodeStrings===!1;this.decodeStrings=!x,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(C,q){var P=C._writableState,H=P.sync,X=P.writecb;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(P),q)(function(V,Q,z,D,W){--Q.pendingcb,z?(a.nextTick(W,D),a.nextTick(O,V,Q),V._writableState.errorEmitted=!0,V.emit("error",D)):(W(D),V._writableState.errorEmitted=!0,V.emit("error",D),O(V,Q))})(C,P,H,q,X);else{var Z=M(P);Z||P.corked||P.bufferProcessing||!P.bufferedRequest||T(C,P),H?d(j,C,P,Z,X):j(C,P,Z,X)}})(E,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function N(R){if(c=c||e("./_stream_duplex"),!(y.call(N,this)||this instanceof c))return new N(R);this._writableState=new k(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),g.call(this)}function F(R,E,I,A,w,_,x){E.writelen=A,E.writecb=x,E.writing=!0,E.sync=!0,I?R._writev(w,E.onwrite):R._write(w,_,E.onwrite),E.sync=!1}function j(R,E,I,A){I||function(w,_){_.length===0&&_.needDrain&&(_.needDrain=!1,w.emit("drain"))}(R,E),E.pendingcb--,A(),O(R,E)}function T(R,E){E.bufferProcessing=!0;var I=E.bufferedRequest;if(R._writev&&I&&I.next){var A=E.bufferedRequestCount,w=new Array(A),_=E.corkedRequestsFree;_.entry=I;for(var x=0,S=!0;I;)w[x]=I,I.isBuf||(S=!1),I=I.next,x+=1;w.allBuffers=S,F(R,E,!0,E.length,w,"",_.finish),E.pendingcb++,E.lastBufferedRequest=null,_.next?(E.corkedRequestsFree=_.next,_.next=null):E.corkedRequestsFree=new l(E),E.bufferedRequestCount=0}else{for(;I;){var C=I.chunk,q=I.encoding,P=I.callback;if(F(R,E,!1,E.objectMode?1:C.length,C,q,P),I=I.next,E.bufferedRequestCount--,E.writing)break}I===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=I,E.bufferProcessing=!1}function M(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function B(R,E){R._final(function(I){E.pendingcb--,I&&R.emit("error",I),E.prefinished=!0,R.emit("prefinish"),O(R,E)})}function O(R,E){var I=M(E);return I&&(function(A,w){w.prefinished||w.finalCalled||(typeof A._final=="function"?(w.pendingcb++,w.finalCalled=!0,a.nextTick(B,A,w)):(w.prefinished=!0,A.emit("prefinish")))}(R,E),E.pendingcb===0&&(E.finished=!0,R.emit("finish"))),I}f.inherits(N,g),k.prototype.getBuffer=function(){for(var R=this.bufferedRequest,E=[];R;)E.push(R),R=R.next;return E},function(){try{Object.defineProperty(k.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(R){return!!y.call(this,R)||this===N&&R&&R._writableState instanceof k}})):y=function(R){return R instanceof this},N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},N.prototype.write=function(R,E,I){var A,w=this._writableState,_=!1,x=!w.objectMode&&(A=R,v.isBuffer(A)||A instanceof p);return x&&!v.isBuffer(R)&&(R=function(S){return v.from(S)}(R)),typeof E=="function"&&(I=E,E=null),x?E="buffer":E||(E=w.defaultEncoding),typeof I!="function"&&(I=b),w.ended?function(S,C){var q=new Error("write after end");S.emit("error",q),a.nextTick(C,q)}(this,I):(x||function(S,C,q,P){var H=!0,X=!1;return q===null?X=new TypeError("May not write null values to stream"):typeof q=="string"||q===void 0||C.objectMode||(X=new TypeError("Invalid non-string/buffer chunk")),X&&(S.emit("error",X),a.nextTick(P,X),H=!1),H}(this,w,R,I))&&(w.pendingcb++,_=function(S,C,q,P,H,X){if(!q){var Z=function(D,W,ee){return D.objectMode||D.decodeStrings===!1||typeof W!="string"||(W=v.from(W,ee)),W}(C,P,H);P!==Z&&(q=!0,H="buffer",P=Z)}var V=C.objectMode?1:P.length;C.length+=V;var Q=C.length<C.highWaterMark;if(Q||(C.needDrain=!0),C.writing||C.corked){var z=C.lastBufferedRequest;C.lastBufferedRequest={chunk:P,encoding:H,isBuf:q,callback:X,next:null},z?z.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else F(S,C,!1,V,P,H,X);return Q}(this,w,x,R,E,I)),_},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,R.writing||R.corked||R.bufferProcessing||!R.bufferedRequest||T(this,R))},N.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(R,E,I){I(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(R,E,I){var A=this._writableState;typeof R=="function"?(I=R,R=null,E=null):typeof E=="function"&&(I=E,E=null),R!=null&&this.write(R,E),A.corked&&(A.corked=1,this.uncork()),A.ending||function(w,_,x){_.ending=!0,O(w,_),x&&(_.finished?a.nextTick(x):w.once("finish",x)),_.ended=!0,w.writable=!1}(this,A,I)},Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),N.prototype.destroy=m.destroy,N.prototype._undestroy=m.undestroy,N.prototype._destroy=function(R,E){this.end(),E(R)}}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var i=e("safe-buffer").Buffer,o=e("util");n.exports=function(){function u(){(function(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(a){var l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},u.prototype.unshift=function(a){var l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},u.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(a){if(this.length===0)return"";for(var l=this.head,c=""+l.data;l=l.next;)c+=a+l.data;return c},u.prototype.concat=function(a){if(this.length===0)return i.alloc(0);for(var l,c,d,f=i.allocUnsafe(a>>>0),h=this.head,g=0;h;)l=h.data,c=f,d=g,l.copy(c,d),g+=h.data.length,h=h.next;return f},u}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var u=o.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var i=e("process-nextick-args");function o(u,a){u.emit("error",a)}n.exports={destroy:function(u,a){var l=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(a?a(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,u)):i.nextTick(o,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(f){!a&&f?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,i.nextTick(o,l,f)):i.nextTick(o,l,f):a&&a(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(i,o){(function(){var u=e("process/browser.js").nextTick,a=Function.prototype.apply,l=Array.prototype.slice,c={},d=0;function f(h,g){this._id=h,this._clearFn=g}s.setTimeout=function(){return new f(a.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(a.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},s.setImmediate=typeof i=="function"?i:function(h){var g=d++,v=!(arguments.length<2)&&l.call(arguments,1);return c[g]=!0,u(function(){c[g]&&(v?h.apply(null,v):h.call(null),s.clearImmediate(g))}),g},s.clearImmediate=typeof o=="function"?o:function(h){delete c[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(i){(function(){function o(u){try{if(!i.localStorage)return!1}catch{return!1}var a=i.localStorage[u];return a!=null&&String(a).toLowerCase()==="true"}n.exports=function(u,a){if(o("noDeprecation"))return u;var l=!1;return function(){if(!l){if(o("throwDeprecation"))throw new Error(a);o("traceDeprecation")?console.trace(a):console.warn(a),l=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,o){i.super_=o;var u=function(){};u.prototype=o.prototype,i.prototype=new u,i.prototype.constructor=i}},{}],526:[function(e,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,s){(function(i,o){(function(){var u=/%[sdj%]/g;s.format=function(w){if(!k(w)){for(var _=[],x=0;x<arguments.length;x++)_.push(c(arguments[x]));return _.join(" ")}x=1;for(var S=arguments,C=S.length,q=String(w).replace(u,function(H){if(H==="%%")return"%";if(x>=C)return H;switch(H){case"%s":return String(S[x++]);case"%d":return Number(S[x++]);case"%j":try{return JSON.stringify(S[x++])}catch{return"[Circular]"}default:return H}}),P=S[x];x<C;P=S[++x])m(P)||!j(P)?q+=" "+P:q+=" "+c(P);return q},s.deprecate=function(w,_){if(N(o.process))return function(){return s.deprecate(w,_).apply(this,arguments)};if(i.noDeprecation===!0)return w;var x=!1;return function(){if(!x){if(i.throwDeprecation)throw new Error(_);i.traceDeprecation?console.trace(_):console.error(_),x=!0}return w.apply(this,arguments)}};var a,l={};function c(w,_){var x={seen:[],stylize:f};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),y(_)?x.showHidden=_:_&&s._extend(x,_),N(x.showHidden)&&(x.showHidden=!1),N(x.depth)&&(x.depth=2),N(x.colors)&&(x.colors=!1),N(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=d),h(x,w,x.depth)}function d(w,_){var x=c.styles[_];return x?"\x1B["+c.colors[x][0]+"m"+w+"\x1B["+c.colors[x][1]+"m":w}function f(w,_){return w}function h(w,_,x){if(w.customInspect&&_&&B(_.inspect)&&_.inspect!==s.inspect&&(!_.constructor||_.constructor.prototype!==_)){var S=_.inspect(x,w);return k(S)||(S=h(w,S,x)),S}var C=function(z,D){if(N(D))return z.stylize("undefined","undefined");if(k(D)){var W="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(W,"string")}if(b(D))return z.stylize(""+D,"number");if(y(D))return z.stylize(""+D,"boolean");if(m(D))return z.stylize("null","null")}(w,_);if(C)return C;var q=Object.keys(_),P=function(z){var D={};return z.forEach(function(W,ee){D[W]=!0}),D}(q);if(w.showHidden&&(q=Object.getOwnPropertyNames(_)),M(_)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return g(_);if(q.length===0){if(B(_)){var H=_.name?": "+_.name:"";return w.stylize("[Function"+H+"]","special")}if(F(_))return w.stylize(RegExp.prototype.toString.call(_),"regexp");if(T(_))return w.stylize(Date.prototype.toString.call(_),"date");if(M(_))return g(_)}var X,Z="",V=!1,Q=["{","}"];return p(_)&&(V=!0,Q=["[","]"]),B(_)&&(Z=" [Function"+(_.name?": "+_.name:"")+"]"),F(_)&&(Z=" "+RegExp.prototype.toString.call(_)),T(_)&&(Z=" "+Date.prototype.toUTCString.call(_)),M(_)&&(Z=" "+g(_)),q.length!==0||V&&_.length!=0?x<0?F(_)?w.stylize(RegExp.prototype.toString.call(_),"regexp"):w.stylize("[Object]","special"):(w.seen.push(_),X=V?function(z,D,W,ee,oe){for(var ie=[],ae=0,le=D.length;ae<le;++ae)A(D,String(ae))?ie.push(v(z,D,W,ee,String(ae),!0)):ie.push("");return oe.forEach(function(ne){ne.match(/^\d+$/)||ie.push(v(z,D,W,ee,ne,!0))}),ie}(w,_,x,P,q):q.map(function(z){return v(w,_,x,P,z,V)}),w.seen.pop(),function(z,D,W){return z.reduce(function(ee,oe){return oe.indexOf(`
`)>=0,ee+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?W[0]+(D===""?"":D+`
 `)+" "+z.join(`,
  `)+" "+W[1]:W[0]+D+" "+z.join(", ")+" "+W[1]}(X,Z,Q)):Q[0]+Z+Q[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function v(w,_,x,S,C,q){var P,H,X;if((X=Object.getOwnPropertyDescriptor(_,C)||{value:_[C]}).get?H=X.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):X.set&&(H=w.stylize("[Setter]","special")),A(S,C)||(P="["+C+"]"),H||(w.seen.indexOf(X.value)<0?(H=m(x)?h(w,X.value,null):h(w,X.value,x-1)).indexOf(`
`)>-1&&(H=q?H.split(`
`).map(function(Z){return"  "+Z}).join(`
`).substr(2):`
`+H.split(`
`).map(function(Z){return"   "+Z}).join(`
`)):H=w.stylize("[Circular]","special")),N(P)){if(q&&C.match(/^\d+$/))return H;(P=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.substr(1,P.length-2),P=w.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=w.stylize(P,"string"))}return P+": "+H}function p(w){return Array.isArray(w)}function y(w){return typeof w=="boolean"}function m(w){return w===null}function b(w){return typeof w=="number"}function k(w){return typeof w=="string"}function N(w){return w===void 0}function F(w){return j(w)&&O(w)==="[object RegExp]"}function j(w){return typeof w=="object"&&w!==null}function T(w){return j(w)&&O(w)==="[object Date]"}function M(w){return j(w)&&(O(w)==="[object Error]"||w instanceof Error)}function B(w){return typeof w=="function"}function O(w){return Object.prototype.toString.call(w)}function R(w){return w<10?"0"+w.toString(10):w.toString(10)}s.debuglog=function(w){if(N(a)&&(a=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!l[w])if(new RegExp("\\b"+w+"\\b","i").test(a)){var _=i.pid;l[w]=function(){var x=s.format.apply(s,arguments);console.error("%s %d: %s",w,_,x)}}else l[w]=function(){};return l[w]},s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=p,s.isBoolean=y,s.isNull=m,s.isNullOrUndefined=function(w){return w==null},s.isNumber=b,s.isString=k,s.isSymbol=function(w){return typeof w=="symbol"},s.isUndefined=N,s.isRegExp=F,s.isObject=j,s.isDate=T,s.isError=M,s.isFunction=B,s.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},s.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var w=new Date,_=[R(w.getHours()),R(w.getMinutes()),R(w.getSeconds())].join(":");return[w.getDate(),E[w.getMonth()],_].join(" ")}function A(w,_){return Object.prototype.hasOwnProperty.call(w,_)}s.log=function(){console.log("%s - %s",I(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(w,_){if(!_||!j(_))return w;for(var x=Object.keys(_),S=x.length;S--;)w[x[S]]=_[x[S]];return w}}).call(this)}).call(this,e("_process"),typeof cr<"u"?cr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return h.default}});var i=g(e("./v1.js")),o=g(e("./v3.js")),u=g(e("./v4.js")),a=g(e("./v5.js")),l=g(e("./nil.js")),c=g(e("./version.js")),d=g(e("./validate.js")),f=g(e("./stringify.js")),h=g(e("./parse.js"));function g(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function i(h){return 14+(h+64>>>9<<4)+1}function o(h,g){const v=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(v>>16)<<16|65535&v}function u(h,g,v,p,y,m){return o((b=o(o(g,h),o(p,m)))<<(k=y)|b>>>32-k,v);var b,k}function a(h,g,v,p,y,m,b){return u(g&v|~g&p,h,g,y,m,b)}function l(h,g,v,p,y,m,b){return u(g&p|v&~p,h,g,y,m,b)}function c(h,g,v,p,y,m,b){return u(g^v^p,h,g,y,m,b)}function d(h,g,v,p,y,m,b){return u(v^(g|~p),h,g,y,m,b)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let v=0;v<g.length;++v)h[v]=g.charCodeAt(v)}return function(g){const v=[],p=32*g.length;for(let y=0;y<p;y+=8){const m=g[y>>5]>>>y%32&255,b=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);v.push(b)}return v}(function(g,v){g[v>>5]|=128<<v%32,g[i(v)-1]=v;let p=1732584193,y=-271733879,m=-1732584194,b=271733878;for(let k=0;k<g.length;k+=16){const N=p,F=y,j=m,T=b;p=a(p,y,m,b,g[k],7,-680876936),b=a(b,p,y,m,g[k+1],12,-389564586),m=a(m,b,p,y,g[k+2],17,606105819),y=a(y,m,b,p,g[k+3],22,-1044525330),p=a(p,y,m,b,g[k+4],7,-176418897),b=a(b,p,y,m,g[k+5],12,1200080426),m=a(m,b,p,y,g[k+6],17,-1473231341),y=a(y,m,b,p,g[k+7],22,-45705983),p=a(p,y,m,b,g[k+8],7,1770035416),b=a(b,p,y,m,g[k+9],12,-1958414417),m=a(m,b,p,y,g[k+10],17,-42063),y=a(y,m,b,p,g[k+11],22,-1990404162),p=a(p,y,m,b,g[k+12],7,1804603682),b=a(b,p,y,m,g[k+13],12,-40341101),m=a(m,b,p,y,g[k+14],17,-1502002290),y=a(y,m,b,p,g[k+15],22,1236535329),p=l(p,y,m,b,g[k+1],5,-165796510),b=l(b,p,y,m,g[k+6],9,-1069501632),m=l(m,b,p,y,g[k+11],14,643717713),y=l(y,m,b,p,g[k],20,-373897302),p=l(p,y,m,b,g[k+5],5,-701558691),b=l(b,p,y,m,g[k+10],9,38016083),m=l(m,b,p,y,g[k+15],14,-660478335),y=l(y,m,b,p,g[k+4],20,-405537848),p=l(p,y,m,b,g[k+9],5,568446438),b=l(b,p,y,m,g[k+14],9,-1019803690),m=l(m,b,p,y,g[k+3],14,-187363961),y=l(y,m,b,p,g[k+8],20,1163531501),p=l(p,y,m,b,g[k+13],5,-1444681467),b=l(b,p,y,m,g[k+2],9,-51403784),m=l(m,b,p,y,g[k+7],14,1735328473),y=l(y,m,b,p,g[k+12],20,-1926607734),p=c(p,y,m,b,g[k+5],4,-378558),b=c(b,p,y,m,g[k+8],11,-2022574463),m=c(m,b,p,y,g[k+11],16,1839030562),y=c(y,m,b,p,g[k+14],23,-35309556),p=c(p,y,m,b,g[k+1],4,-1530992060),b=c(b,p,y,m,g[k+4],11,1272893353),m=c(m,b,p,y,g[k+7],16,-155497632),y=c(y,m,b,p,g[k+10],23,-1094730640),p=c(p,y,m,b,g[k+13],4,681279174),b=c(b,p,y,m,g[k],11,-358537222),m=c(m,b,p,y,g[k+3],16,-722521979),y=c(y,m,b,p,g[k+6],23,76029189),p=c(p,y,m,b,g[k+9],4,-640364487),b=c(b,p,y,m,g[k+12],11,-421815835),m=c(m,b,p,y,g[k+15],16,530742520),y=c(y,m,b,p,g[k+2],23,-995338651),p=d(p,y,m,b,g[k],6,-198630844),b=d(b,p,y,m,g[k+7],10,1126891415),m=d(m,b,p,y,g[k+14],15,-1416354905),y=d(y,m,b,p,g[k+5],21,-57434055),p=d(p,y,m,b,g[k+12],6,1700485571),b=d(b,p,y,m,g[k+3],10,-1894986606),m=d(m,b,p,y,g[k+10],15,-1051523),y=d(y,m,b,p,g[k+1],21,-2054922799),p=d(p,y,m,b,g[k+8],6,1873313359),b=d(b,p,y,m,g[k+15],10,-30611744),m=d(m,b,p,y,g[k+6],15,-1560198380),y=d(y,m,b,p,g[k+13],21,1309151649),p=d(p,y,m,b,g[k+4],6,-145523070),b=d(b,p,y,m,g[k+11],10,-1120210379),m=d(m,b,p,y,g[k+2],15,718787259),y=d(y,m,b,p,g[k+9],21,-343485551),p=o(p,N),y=o(y,F),m=o(m,j),b=o(b,T)}return[p,y,m,b]}(function(g){if(g.length===0)return[];const v=8*g.length,p=new Uint32Array(i(v));for(let y=0;y<v;y+=8)p[y>>5]|=(255&g[y/8])<<y%32;return p}(h),8*h.length))};s.default=f},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(a){if(!(0,o.default)(a))throw TypeError("Invalid UUID");let l;const c=new Uint8Array(16);return c[0]=(l=parseInt(a.slice(0,8),16))>>>24,c[1]=l>>>16&255,c[2]=l>>>8&255,c[3]=255&l,c[4]=(l=parseInt(a.slice(9,13),16))>>>8,c[5]=255&l,c[6]=(l=parseInt(a.slice(14,18),16))>>>8,c[7]=255&l,c[8]=(l=parseInt(a.slice(19,23),16))>>>8,c[9]=255&l,c[10]=(l=parseInt(a.slice(24,36),16))/1099511627776&255,c[11]=l/4294967296&255,c[12]=l>>>24&255,c[13]=l>>>16&255,c[14]=l>>>8&255,c[15]=255&l,c};s.default=u},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)};const o=new Uint8Array(16)},{}],534:[function(e,n,s){function i(a,l,c,d){switch(a){case 0:return l&c^~l&d;case 1:return l^c^d;case 2:return l&c^l&d^c&d;case 3:return l^c^d}}function o(a,l){return a<<l|a>>>32-l}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=function(a){const l=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const g=unescape(encodeURIComponent(a));a=[];for(let v=0;v<g.length;++v)a.push(g.charCodeAt(v))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const d=a.length/4+2,f=Math.ceil(d/16),h=new Array(f);for(let g=0;g<f;++g){const v=new Uint32Array(16);for(let p=0;p<16;++p)v[p]=a[64*g+4*p]<<24|a[64*g+4*p+1]<<16|a[64*g+4*p+2]<<8|a[64*g+4*p+3];h[g]=v}h[f-1][14]=8*(a.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(a.length-1)&4294967295;for(let g=0;g<f;++g){const v=new Uint32Array(80);for(let N=0;N<16;++N)v[N]=h[g][N];for(let N=16;N<80;++N)v[N]=o(v[N-3]^v[N-8]^v[N-14]^v[N-16],1);let p=c[0],y=c[1],m=c[2],b=c[3],k=c[4];for(let N=0;N<80;++N){const F=Math.floor(N/20),j=o(p,5)+i(F,y,m,b)+k+l[F]+v[N]>>>0;k=b,b=m,m=o(y,30)>>>0,y=p,p=j}c[0]=c[0]+p>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+m>>>0,c[3]=c[3]+b>>>0,c[4]=c[4]+k>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};s.default=u},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const u=[];for(let l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var a=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(u[l[c+0]]+u[l[c+1]]+u[l[c+2]]+u[l[c+3]]+"-"+u[l[c+4]]+u[l[c+5]]+"-"+u[l[c+6]]+u[l[c+7]]+"-"+u[l[c+8]]+u[l[c+9]]+"-"+u[l[c+10]]+u[l[c+11]]+u[l[c+12]]+u[l[c+13]]+u[l[c+14]]+u[l[c+15]]).toLowerCase();if(!(0,o.default)(d))throw TypeError("Stringified UUID is invalid");return d};s.default=a},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./rng.js")),o=u(e("./stringify.js"));function u(h){return h&&h.__esModule?h:{default:h}}let a,l,c=0,d=0;var f=function(h,g,v){let p=g&&v||0;const y=g||new Array(16);let m=(h=h||{}).node||a,b=h.clockseq!==void 0?h.clockseq:l;if(m==null||b==null){const M=h.random||(h.rng||i.default)();m==null&&(m=a=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),b==null&&(b=l=16383&(M[6]<<8|M[7]))}let k=h.msecs!==void 0?h.msecs:Date.now(),N=h.nsecs!==void 0?h.nsecs:d+1;const F=k-c+(N-d)/1e4;if(F<0&&h.clockseq===void 0&&(b=b+1&16383),(F<0||k>c)&&h.nsecs===void 0&&(N=0),N>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=k,d=N,l=b,k+=122192928e5;const j=(1e4*(268435455&k)+N)%4294967296;y[p++]=j>>>24&255,y[p++]=j>>>16&255,y[p++]=j>>>8&255,y[p++]=255&j;const T=k/4294967296*1e4&268435455;y[p++]=T>>>8&255,y[p++]=255&T,y[p++]=T>>>24&15|16,y[p++]=T>>>16&255,y[p++]=b>>>8|128,y[p++]=255&b;for(let M=0;M<6;++M)y[p+M]=m[M];return g||(0,o.default)(y)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./v35.js")),o=u(e("./md5.js"));function u(l){return l&&l.__esModule?l:{default:l}}var a=(0,i.default)("v3",48,o.default);s.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(c,d,f){function h(g,v,p,y){if(typeof g=="string"&&(g=function(b){b=unescape(encodeURIComponent(b));const k=[];for(let N=0;N<b.length;++N)k.push(b.charCodeAt(N));return k}(g)),typeof v=="string"&&(v=(0,o.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+g.length);if(m.set(v),m.set(g,v.length),m=f(m),m[6]=15&m[6]|d,m[8]=63&m[8]|128,p){y=y||0;for(let b=0;b<16;++b)p[y+b]=m[b];return p}return(0,i.default)(m)}try{h.name=c}catch{}return h.DNS=a,h.URL=l,h},s.URL=s.DNS=void 0;var i=u(e("./stringify.js")),o=u(e("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=a;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./rng.js")),o=u(e("./stringify.js"));function u(l){return l&&l.__esModule?l:{default:l}}var a=function(l,c,d){const f=(l=l||{}).random||(l.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,c){d=d||0;for(let h=0;h<16;++h)c[d+h]=f[h];return c}return(0,o.default)(f)};s.default=a},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./v35.js")),o=u(e("./sha1.js"));function u(l){return l&&l.__esModule?l:{default:l}}var a=(0,i.default)("v5",80,o.default);s.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./regex.js"))&&i.__esModule?i:{default:i},u=function(a){return typeof a=="string"&&o.default.test(a)};s.default=u},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(a){if(!(0,o.default)(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)};s.default=u},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=i,s.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},s.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=i,s.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(o){return i(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(C8);var vj=C8.exports;const lv=i2(vj);function bj({isOpen:r,onClose:t,onImport:e}){const[n,s]=Le.useState(null),[i,o]=Le.useState([]),[u,a]=Le.useState(!1),[l,c]=Le.useState(!1),[d,f]=Le.useState(null),h=Le.useRef(null),g=async b=>{a(!0),f(null);try{const k=await b.arrayBuffer(),N=new lv.Workbook;await N.xlsx.load(k);const F=N.worksheets[0];if(!F)throw new Error("No se encontr ninguna hoja en el archivo");const j=[];F.getRow(1).eachCell((M,B)=>{j[B]=String(M.value||"").trim()});const T=[];F.eachRow((M,B)=>{if(B===1)return;const O={};M.eachCell((E,I)=>{const A=j[I];A&&(O[A]=E.value)});const R={codigoSAP:String(O["Cdigo SAP"]||O["CODIGO SAP"]||O.Material||""),textoBreve:String(O["Texto Breve"]||O["TEXTO BREVE"]||O.Descripcin||O.Descripcion||""),codigoBaader:String(O["Cdigo Baader"]||O["CODIGO BAADER"]||O["Cdigo proveedor"]||O["N Parte"]||""),cantidadSolicitada:Number(O.Cantidad||O["Cant."]||O["Cantidad Solicitada"]||0),valorUnitario:Number(O["Valor Unitario"]||O.Precio||O["Valor Unit."]||O.USD||0),cantidadStockBodega:Number(O.Stock||O["Stock Bodega"]||0)};(R.codigoSAP||R.codigoBaader)&&T.push(R)}),o(T),s(b)}catch(k){console.error("Error al parsear Excel:",k),f("Error al leer el archivo Excel. Verifica que el formato sea correcto.")}finally{a(!1)}},v=b=>{var N;const k=(N=b.target.files)==null?void 0:N[0];k&&g(k)},p=b=>{b.preventDefault();const k=b.dataTransfer.files[0];k&&(k.name.endsWith(".xlsx")||k.name.endsWith(".xls"))?g(k):f("Por favor selecciona un archivo Excel (.xlsx o .xls)")},y=async()=>{if(i.length!==0){c(!0);try{await e(i),t(),s(null),o([])}catch{f("Error al importar los datos")}finally{c(!1)}}},m=()=>{s(null),o([]),f(null),h.current&&(h.current.value="")};return G.jsx(Wf,{isOpen:r,onClose:t,title:"Importar Repuestos desde Excel",size:"xl",children:G.jsxs("div",{className:"space-y-6",children:[!n&&G.jsxs("div",{onDrop:p,onDragOver:b=>b.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var b;return(b=h.current)==null?void 0:b.click()},children:[G.jsx("input",{ref:h,type:"file",accept:".xlsx,.xls",onChange:v,className:"hidden"}),u?G.jsx(Ql,{className:"w-12 h-12 mx-auto text-primary-600 animate-spin"}):G.jsxs(G.Fragment,{children:[G.jsx(_p,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),G.jsx("p",{className:"text-gray-600 mb-2",children:"Arrastra tu archivo Excel aqu o haz clic para seleccionar"}),G.jsx("p",{className:"text-sm text-gray-400",children:"Formatos aceptados: .xlsx, .xls"})]})]}),d&&G.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[G.jsx(a8,{className:"w-5 h-5 flex-shrink-0"}),G.jsx("p",{children:d})]}),i.length>0&&G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[G.jsx(lm,{className:"w-5 h-5"}),G.jsxs("span",{className:"font-medium",children:[i.length," repuestos encontrados"]})]}),G.jsx(ks,{variant:"ghost",size:"sm",onClick:m,children:"Cambiar archivo"})]}),G.jsxs("div",{className:"max-h-64 overflow-auto border border-gray-200 rounded-lg",children:[G.jsxs("table",{className:"w-full text-sm",children:[G.jsx("thead",{className:"bg-gray-50 sticky top-0",children:G.jsxs("tr",{children:[G.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"SAP"}),G.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Baader"}),G.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Descripcin"}),G.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Cant."}),G.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"USD"})]})}),G.jsx("tbody",{children:i.slice(0,20).map((b,k)=>G.jsxs("tr",{className:"border-t border-gray-100",children:[G.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:b.codigoSAP}),G.jsx("td",{className:"px-3 py-2 font-mono text-xs text-primary-600",children:b.codigoBaader}),G.jsx("td",{className:"px-3 py-2 truncate max-w-[200px]",children:b.textoBreve}),G.jsx("td",{className:"px-3 py-2 text-right",children:b.cantidadSolicitada}),G.jsxs("td",{className:"px-3 py-2 text-right",children:["$",b.valorUnitario.toFixed(2)]})]},k))})]}),i.length>20&&G.jsxs("div",{className:"px-3 py-2 text-center text-sm text-gray-500 bg-gray-50 border-t",children:["... y ",i.length-20," ms"]})]}),G.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[G.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Mapeo de columnas detectado:"}),G.jsxs("ul",{className:"text-blue-700 space-y-1",children:[G.jsx("li",{children:' Cdigo SAP: "Cdigo SAP", "Material"'}),G.jsx("li",{children:' Cdigo Baader: "Cdigo Baader", "Cdigo proveedor", "N Parte"'}),G.jsx("li",{children:' Descripcin: "Texto Breve", "Descripcin"'}),G.jsx("li",{children:' Cantidad: "Cantidad", "Cant."'}),G.jsx("li",{children:' Valor: "Valor Unitario", "Precio", "USD"'})]})]})]}),G.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[G.jsx(ks,{variant:"secondary",onClick:t,children:"Cancelar"}),G.jsxs(ks,{onClick:y,disabled:i.length===0,loading:l,icon:G.jsx(nv,{className:"w-4 h-4"}),children:["Importar ",i.length," repuestos"]})]})]})})}const Vw=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo"];function wj({repuestos:r}){const[t,e]=Le.useState(null),[n,s]=Le.useState("valorTotal"),[i,o]=Le.useState("desc"),[u,a]=Le.useState(10),l=Le.useMemo(()=>t?r.filter(m=>{var b;return(b=m.tags)==null?void 0:b.includes(t)}):r,[r,t]),c=Le.useMemo(()=>{const m=l.reduce((R,E)=>R+(E.total||0),0),b=l.reduce((R,E)=>R+(E.cantidadSolicitada||0),0),k=l.reduce((R,E)=>R+(E.cantidadStockBodega||0),0),N=l.length>0?l.reduce((R,E)=>R+(E.valorUnitario||0),0)/l.length:0,F=Math.max(...l.map(R=>R.valorUnitario||0)),j=Math.min(...l.filter(R=>R.valorUnitario>0).map(R=>R.valorUnitario)),T=l.filter(R=>R.cantidadStockBodega>0).length,M=l.filter(R=>R.cantidadStockBodega===0).length,B=l.filter(R=>{var E,I;return(((E=R.imagenesManual)==null?void 0:E.length)||0)>0||(((I=R.fotosReales)==null?void 0:I.length)||0)>0}).length,O=l.filter(R=>{var E;return(((E=R.vinculosManual)==null?void 0:E.length)||0)>0}).length;return{totalSolicitado:m,totalUnidades:b,totalStock:k,promedioValorUnitario:N,maxValorUnitario:F,minValorUnitario:j,conStock:T,sinStock:M,conImagenes:B,conMarcador:O,total:l.length}},[l]),d=Le.useMemo(()=>{const m=new Map;return r.forEach(b=>{(b.tags||[]).forEach(k=>{const N=m.get(k)||{count:0,total:0,unidades:0};m.set(k,{count:N.count+1,total:N.total+(b.total||0),unidades:N.unidades+(b.cantidadSolicitada||0)})})}),Array.from(m.entries()).map(([b,k])=>({tag:b,...k})).sort((b,k)=>k.total-b.total)},[r]),f=Le.useMemo(()=>[...l].sort((b,k)=>{let N=0,F=0;switch(n){case"valorTotal":N=b.total||0,F=k.total||0;break;case"valorUnitario":N=b.valorUnitario||0,F=k.valorUnitario||0;break;case"cantidad":N=b.cantidadSolicitada||0,F=k.cantidadSolicitada||0;break;case"stock":N=b.cantidadStockBodega||0,F=k.cantidadStockBodega||0;break}return i==="desc"?F-N:N-F}).slice(0,u),[l,n,i,u]),h=Le.useMemo(()=>{const m=new Set;return r.forEach(b=>{var k;return(k=b.tags)==null?void 0:k.forEach(N=>m.add(N))}),[...Vw,...Array.from(m).filter(b=>!Vw.includes(b))]},[r]),g=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(m),v=m=>new Intl.NumberFormat("es-CL").format(m),p=(m,b)=>b>0?Math.max(5,m/b*100):0,y=Math.max(...f.map(m=>m.total||0));return G.jsxs("div",{className:"h-full flex flex-col bg-gray-50 overflow-hidden",children:[G.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:G.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:G.jsx(i8,{className:"w-6 h-6 text-primary-600"})}),G.jsxs("div",{children:[G.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Estadsticas"}),G.jsx("p",{className:"text-sm text-gray-500",children:t?`Filtrado: ${t}`:"Todos los repuestos"})]})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(c8,{className:"w-4 h-4 text-gray-400"}),G.jsxs("select",{value:t||"",onChange:m=>e(m.target.value||null),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[G.jsx("option",{value:"",children:"Todos los tags"}),h.map(m=>G.jsx("option",{value:m,children:m},m))]}),t&&G.jsx("button",{onClick:()=>e(null),className:"p-2 text-gray-400 hover:text-gray-600",children:G.jsx(bi,{className:"w-4 h-4"})})]})]})}),G.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:[G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[G.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[G.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:G.jsx(u8,{className:"w-5 h-5 text-green-600"})}),G.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Solicitado"})]}),G.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.totalSolicitado)}),G.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"})]}),G.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[G.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:G.jsx(Zl,{className:"w-5 h-5 text-blue-600"})}),G.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unidades Solicitadas"})]}),G.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(c.totalUnidades)}),G.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.total," tems diferentes"]})]}),G.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[G.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:G.jsx(lm,{className:"w-5 h-5 text-purple-600"})}),G.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Stock en Bodega"})]}),G.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(c.totalStock)}),G.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.conStock," tems con stock"]})]}),G.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[G.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:G.jsx(V1,{className:"w-5 h-5 text-amber-600"})}),G.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Promedio Unitario"})]}),G.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.promedioValorUnitario)}),G.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Rango: ",g(c.minValorUnitario)," - ",g(c.maxValorUnitario)]})]})]}),G.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[G.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:G.jsx(lm,{className:"w-5 h-5 text-green-600"})}),G.jsxs("div",{children:[G.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conStock}),G.jsx("p",{className:"text-xs text-gray-500",children:"Con stock"})]})]}),G.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:G.jsx(a8,{className:"w-5 h-5 text-red-600"})}),G.jsxs("div",{children:[G.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.sinStock}),G.jsx("p",{className:"text-xs text-gray-500",children:"Sin stock"})]})]}),G.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:G.jsx(yR,{className:"w-5 h-5 text-blue-600"})}),G.jsxs("div",{children:[G.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conImagenes}),G.jsx("p",{className:"text-xs text-gray-500",children:"Con imgenes"})]})]}),G.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:G.jsx(l8,{className:"w-5 h-5 text-amber-600"})}),G.jsxs("div",{children:[G.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conMarcador}),G.jsx("p",{className:"text-xs text-gray-500",children:"Marcados en PDF"})]})]})]}),d.length>0&&G.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[G.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[G.jsx(Jl,{className:"w-5 h-5 text-primary-600"}),G.jsx("h3",{className:"font-semibold text-gray-800",children:"Distribucin por Tags"})]}),G.jsx("div",{className:"space-y-3",children:d.map(({tag:m,count:b,total:k})=>{var N;return G.jsxs("div",{className:"group",children:[G.jsxs("div",{className:"flex items-center justify-between mb-1",children:[G.jsx("button",{onClick:()=>e(t===m?null:m),className:`text-sm font-medium hover:text-primary-600 transition-colors ${t===m?"text-primary-600":"text-gray-700"}`,children:m}),G.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[G.jsxs("span",{className:"text-gray-500",children:[b," tems"]}),G.jsx("span",{className:"font-semibold text-gray-900",children:g(k)})]})]}),G.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:G.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all group-hover:bg-primary-600",style:{width:`${p(k,((N=d[0])==null?void 0:N.total)||1)}%`}})})]},m)})})]}),G.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[G.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-4",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(V1,{className:"w-5 h-5 text-primary-600"}),G.jsx("h3",{className:"font-semibold text-gray-800",children:"Top Repuestos"})]}),G.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[G.jsxs("select",{value:n,onChange:m=>s(m.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[G.jsx("option",{value:"valorTotal",children:"Por Valor Total"}),G.jsx("option",{value:"valorUnitario",children:"Por Valor Unitario"}),G.jsx("option",{value:"cantidad",children:"Por Cantidad"}),G.jsx("option",{value:"stock",children:"Por Stock"})]}),G.jsx("button",{onClick:()=>o(i==="desc"?"asc":"desc"),className:`p-2 rounded-lg border border-gray-300 hover:bg-gray-50 ${i==="desc"?"text-primary-600":"text-gray-400"}`,title:i==="desc"?"Mayor a menor":"Menor a mayor",children:G.jsx(gR,{className:"w-4 h-4"})}),G.jsxs("select",{value:u,onChange:m=>a(Number(m.target.value)),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[G.jsx("option",{value:5,children:"Top 5"}),G.jsx("option",{value:10,children:"Top 10"}),G.jsx("option",{value:20,children:"Top 20"}),G.jsx("option",{value:50,children:"Top 50"}),G.jsx("option",{value:9999,children:"Todos"})]})]})]}),G.jsx("div",{className:"space-y-3",children:f.map((m,b)=>{const k=n==="valorTotal"?m.total:n==="valorUnitario"?m.valorUnitario:n==="cantidad"?m.cantidadSolicitada:m.cantidadStockBodega;return G.jsxs("div",{className:"group",children:[G.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[G.jsx("span",{className:`
                      w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                      ${b<3?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-500"}
                    `,children:b+1}),G.jsx("div",{className:"flex-1 min-w-0",children:G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:m.codigoSAP}),G.jsx("span",{className:"text-sm text-gray-800 truncate",children:m.descripcion||m.textoBreve})]})}),G.jsxs("div",{className:"text-right",children:[G.jsx("p",{className:"text-sm font-bold text-gray-900",children:n==="cantidad"||n==="stock"?v(k||0):g(k||0)}),G.jsxs("p",{className:"text-xs text-gray-400",children:[n==="valorTotal"&&`${m.cantidadSolicitada} unid.`,n==="valorUnitario"&&`Total: ${g(m.total||0)}`,n==="cantidad"&&g(m.total||0),n==="stock"&&`Solicitado: ${m.cantidadSolicitada}`]})]})]}),G.jsx("div",{className:"ml-9 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:G.jsx("div",{className:`h-full rounded-full transition-all ${b===0?"bg-primary-600":b===1?"bg-primary-500":b===2?"bg-primary-400":"bg-primary-300"}`,style:{width:`${p(k||0,y)}%`}})})]},m.id)})})]}),G.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:[G.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Resumen Rpido"}),G.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[G.jsxs("div",{children:[G.jsx("p",{className:"text-primary-200",children:"Inversin total en repuestos"}),G.jsx("p",{className:"text-2xl font-bold",children:g(c.totalSolicitado)})]}),G.jsxs("div",{children:[G.jsx("p",{className:"text-primary-200",children:"Repuesto ms costoso (unit.)"}),G.jsx("p",{className:"text-2xl font-bold",children:g(c.maxValorUnitario)})]}),G.jsxs("div",{children:[G.jsx("p",{className:"text-primary-200",children:"Cobertura de stock"}),G.jsxs("p",{className:"text-2xl font-bold",children:[c.total>0?Math.round(c.conStock/c.total*100):0,"%"]})]})]})]})]})]})}var N8={exports:{}};(function(r,t){(function(e,n){n()})(cr,function(){function e(l,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function n(l,c,d){var f=new XMLHttpRequest;f.open("GET",l),f.responseType="blob",f.onload=function(){a(f.response,c,d)},f.onerror=function(){console.error("could not download file")},f.send()}function s(l){var c=new XMLHttpRequest;c.open("HEAD",l,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cr=="object"&&cr.global===cr?cr:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(l,c,d){var f=o.URL||o.webkitURL,h=document.createElement("a");c=c||l.name||"download",h.download=c,h.rel="noopener",typeof l=="string"?(h.href=l,h.origin===location.origin?i(h):s(h.href)?n(l,c,d):i(h,h.target="_blank")):(h.href=f.createObjectURL(l),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(l,c,d){if(c=c||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,d),c);else if(s(l))n(l,c,d);else{var f=document.createElement("a");f.href=l,f.target="_blank",setTimeout(function(){i(f)})}}:function(l,c,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof l=="string")return n(l,c,d);var h=l.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||h&&g||u)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var b=p.result;b=v?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=b:location=b,f=null},p.readAsDataURL(l)}else{var y=o.URL||o.webkitURL,m=y.createObjectURL(l);f?f.location=m:location.href=m,f=null,setTimeout(function(){y.revokeObjectURL(m)},4e4)}});o.saveAs=a.saveAs=a,r.exports=a})})(N8);var P8=N8.exports;function Vr(r){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(r)}var vi=Uint8Array,is=Uint16Array,uv=Int32Array,Ym=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qm=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),X1=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I8=function(r,t){for(var e=new is(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var s=new uv(e[30]),n=1;n<30;++n)for(var i=e[n];i<e[n+1];++i)s[i]=i-e[n]<<5|n;return{b:e,r:s}},R8=I8(Ym,2),M8=R8.b,G1=R8.r;M8[28]=258,G1[258]=28;var j8=I8(Qm,0),_j=j8.b,qw=j8.r,K1=new is(32768);for(var nn=0;nn<32768;++nn){var Ca=(nn&43690)>>1|(nn&21845)<<1;Ca=(Ca&52428)>>2|(Ca&13107)<<2,Ca=(Ca&61680)>>4|(Ca&3855)<<4,K1[nn]=((Ca&65280)>>8|(Ca&255)<<8)>>1}var xo=function(r,t,e){for(var n=r.length,s=0,i=new is(t);s<n;++s)r[s]&&++i[r[s]-1];var o=new is(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var u;if(e){u=new is(1<<t);var a=15-t;for(s=0;s<n;++s)if(r[s])for(var l=s<<4|r[s],c=t-r[s],d=o[r[s]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)u[K1[d]>>a]=l}else for(u=new is(n),s=0;s<n;++s)r[s]&&(u[s]=K1[o[r[s]-1]++]>>15-r[s]);return u},ml=new vi(288);for(var nn=0;nn<144;++nn)ml[nn]=8;for(var nn=144;nn<256;++nn)ml[nn]=9;for(var nn=256;nn<280;++nn)ml[nn]=7;for(var nn=280;nn<288;++nn)ml[nn]=8;var kf=new vi(32);for(var nn=0;nn<32;++nn)kf[nn]=5;var xj=xo(ml,9,0),Sj=xo(ml,9,1),kj=xo(kf,5,0),Ej=xo(kf,5,1),cg=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},Bs=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},hg=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},cv=function(r){return(r+7)/8|0},L8=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new vi(r.subarray(t,e))},Aj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vs=function(r,t,e){var n=new Error(t||Aj[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Vs),!e)throw n;return n},Tj=function(r,t,e,n){var s=r.length,i=0;if(!s||t.f&&!t.l)return e||new vi(0);var o=!e,u=o||t.i!=2,a=t.i;o&&(e=new vi(s*3));var l=function(ee){var oe=e.length;if(ee>oe){var ie=new vi(Math.max(oe*2,ee));ie.set(e),e=ie}},c=t.f||0,d=t.p||0,f=t.b||0,h=t.l,g=t.d,v=t.m,p=t.n,y=s*8;do{if(!h){c=Bs(r,d,1);var m=Bs(r,d+1,3);if(d+=3,m)if(m==1)h=Sj,g=Ej,v=9,p=5;else if(m==2){var F=Bs(r,d,31)+257,j=Bs(r,d+10,15)+4,T=F+Bs(r,d+5,31)+1;d+=14;for(var M=new vi(T),B=new vi(19),O=0;O<j;++O)B[X1[O]]=Bs(r,d+O*3,7);d+=j*3;for(var R=cg(B),E=(1<<R)-1,I=xo(B,R,1),O=0;O<T;){var A=I[Bs(r,d,E)];d+=A&15;var b=A>>4;if(b<16)M[O++]=b;else{var w=0,_=0;for(b==16?(_=3+Bs(r,d,3),d+=2,w=M[O-1]):b==17?(_=3+Bs(r,d,7),d+=3):b==18&&(_=11+Bs(r,d,127),d+=7);_--;)M[O++]=w}}var x=M.subarray(0,F),S=M.subarray(F);v=cg(x),p=cg(S),h=xo(x,v,1),g=xo(S,p,1)}else Vs(1);else{var b=cv(d)+4,k=r[b-4]|r[b-3]<<8,N=b+k;if(N>s){a&&Vs(0);break}u&&l(f+k),e.set(r.subarray(b,N),f),t.b=f+=k,t.p=d=N*8,t.f=c;continue}if(d>y){a&&Vs(0);break}}u&&l(f+131072);for(var C=(1<<v)-1,q=(1<<p)-1,P=d;;P=d){var w=h[hg(r,d)&C],H=w>>4;if(d+=w&15,d>y){a&&Vs(0);break}if(w||Vs(2),H<256)e[f++]=H;else if(H==256){P=d,h=null;break}else{var X=H-254;if(H>264){var O=H-257,Z=Ym[O];X=Bs(r,d,(1<<Z)-1)+M8[O],d+=Z}var V=g[hg(r,d)&q],Q=V>>4;V||Vs(3),d+=V&15;var S=_j[Q];if(Q>3){var Z=Qm[Q];S+=hg(r,d)&(1<<Z)-1,d+=Z}if(d>y){a&&Vs(0);break}u&&l(f+131072);var z=f+X;if(f<S){var D=i-S,W=Math.min(S,z);for(D+f<0&&Vs(3);f<W;++f)e[f]=n[D+f]}for(;f<z;++f)e[f]=e[f-S]}}t.l=h,t.p=P,t.b=f,t.f=c,h&&(c=1,t.m=v,t.d=g,t.n=p)}while(!c);return f!=e.length&&o?L8(e,0,f):e.subarray(0,f)},Do=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},mh=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},fg=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var s=e.length,i=e.slice();if(!s)return{t:D8,l:0};if(s==1){var o=new vi(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(N,F){return N.f-F.f}),e.push({s:-1,f:25001});var u=e[0],a=e[1],l=0,c=1,d=2;for(e[0]={s:-1,f:u.f+a.f,l:u,r:a};c!=s-1;)u=e[e[l].f<e[d].f?l++:d++],a=e[l!=c&&e[l].f<e[d].f?l++:d++],e[c++]={s:-1,f:u.f+a.f,l:u,r:a};for(var f=i[0].s,n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var h=new is(f+1),g=Y1(e[c-1],h,0);if(g>t){var n=0,v=0,p=g-t,y=1<<p;for(i.sort(function(F,j){return h[j.s]-h[F.s]||F.f-j.f});n<s;++n){var m=i[n].s;if(h[m]>t)v+=y-(1<<g-h[m]),h[m]=t;else break}for(v>>=p;v>0;){var b=i[n].s;h[b]<t?v-=1<<t-h[b]++-1:++n}for(;n>=0&&v;--n){var k=i[n].s;h[k]==t&&(--h[k],++v)}g=t}return{t:new vi(h),l:g}},Y1=function(r,t,e){return r.s==-1?Math.max(Y1(r.l,t,e+1),Y1(r.r,t,e+1)):t[r.s]=e},Hw=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new is(++t),n=0,s=r[0],i=1,o=function(a){e[n++]=a},u=1;u<=t;++u)if(r[u]==s&&u!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=r[u]}return{c:e.subarray(0,n),n:t}},gh=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},O8=function(r,t,e){var n=e.length,s=cv(t+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=e[i];return(s+4+n)*8},$w=function(r,t,e,n,s,i,o,u,a,l,c){Do(t,c++,e),++s[256];for(var d=fg(s,15),f=d.t,h=d.l,g=fg(i,15),v=g.t,p=g.l,y=Hw(f),m=y.c,b=y.n,k=Hw(v),N=k.c,F=k.n,j=new is(19),T=0;T<m.length;++T)++j[m[T]&31];for(var T=0;T<N.length;++T)++j[N[T]&31];for(var M=fg(j,7),B=M.t,O=M.l,R=19;R>4&&!B[X1[R-1]];--R);var E=l+5<<3,I=gh(s,ml)+gh(i,kf)+o,A=gh(s,f)+gh(i,v)+o+14+3*R+gh(j,B)+2*j[16]+3*j[17]+7*j[18];if(a>=0&&E<=I&&E<=A)return O8(t,c,r.subarray(a,a+l));var w,_,x,S;if(Do(t,c,1+(A<I)),c+=2,A<I){w=xo(f,h,0),_=f,x=xo(v,p,0),S=v;var C=xo(B,O,0);Do(t,c,b-257),Do(t,c+5,F-1),Do(t,c+10,R-4),c+=14;for(var T=0;T<R;++T)Do(t,c+3*T,B[X1[T]]);c+=3*R;for(var q=[m,N],P=0;P<2;++P)for(var H=q[P],T=0;T<H.length;++T){var X=H[T]&31;Do(t,c,C[X]),c+=B[X],X>15&&(Do(t,c,H[T]>>5&127),c+=H[T]>>12)}}else w=xj,_=ml,x=kj,S=kf;for(var T=0;T<u;++T){var Z=n[T];if(Z>255){var X=Z>>18&31;mh(t,c,w[X+257]),c+=_[X+257],X>7&&(Do(t,c,Z>>23&31),c+=Ym[X]);var V=Z&31;mh(t,c,x[V]),c+=S[V],V>3&&(mh(t,c,Z>>5&8191),c+=Qm[V])}else mh(t,c,w[Z]),c+=_[Z]}return mh(t,c,w[256]),c+_[256]},Cj=new uv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),D8=new vi(0),Nj=function(r,t,e,n,s,i){var o=i.z||r.length,u=new vi(n+o+5*(1+Math.ceil(o/7e3))+s),a=u.subarray(n,u.length-s),l=i.l,c=(i.r||0)&7;if(t){c&&(a[0]=i.r>>3);for(var d=Cj[t-1],f=d>>13,h=d&8191,g=(1<<e)-1,v=i.p||new is(32768),p=i.h||new is(g+1),y=Math.ceil(e/3),m=2*y,b=function(ae){return(r[ae]^r[ae+1]<<y^r[ae+2]<<m)&g},k=new uv(25e3),N=new is(288),F=new is(32),j=0,T=0,M=i.i||0,B=0,O=i.w||0,R=0;M+2<o;++M){var E=b(M),I=M&32767,A=p[E];if(v[I]=A,p[E]=I,O<=M){var w=o-M;if((j>7e3||B>24576)&&(w>423||!l)){c=$w(r,a,0,k,N,F,T,B,R,M-R,c),B=j=T=0,R=M;for(var _=0;_<286;++_)N[_]=0;for(var _=0;_<30;++_)F[_]=0}var x=2,S=0,C=h,q=I-A&32767;if(w>2&&E==b(M-q))for(var P=Math.min(f,w)-1,H=Math.min(32767,M),X=Math.min(258,w);q<=H&&--C&&I!=A;){if(r[M+x]==r[M+x-q]){for(var Z=0;Z<X&&r[M+Z]==r[M+Z-q];++Z);if(Z>x){if(x=Z,S=q,Z>P)break;for(var V=Math.min(q,Z-2),Q=0,_=0;_<V;++_){var z=M-q+_&32767,D=v[z],W=z-D&32767;W>Q&&(Q=W,A=z)}}}I=A,A=v[I],q+=I-A&32767}if(S){k[B++]=268435456|G1[x]<<18|qw[S];var ee=G1[x]&31,oe=qw[S]&31;T+=Ym[ee]+Qm[oe],++N[257+ee],++F[oe],O=M+x,++j}else k[B++]=r[M],++N[r[M]]}}for(M=Math.max(M,O);M<o;++M)k[B++]=r[M],++N[r[M]];c=$w(r,a,l,k,N,F,T,B,R,M-R,c),l||(i.r=c&7|a[c/8|0]<<3,c-=7,i.h=p,i.p=v,i.i=M,i.w=O)}else{for(var M=i.w||0;M<o+l;M+=65535){var ie=M+65535;ie>=o&&(a[c/8|0]=l,ie=o),c=O8(a,c+1,r.subarray(M,ie))}i.i=o}return L8(u,0,n+cv(c)+s)},F8=function(){var r=1,t=0;return{p:function(e){for(var n=r,s=t,i=e.length|0,o=0;o!=i;){for(var u=Math.min(o+2655,i);o<u;++o)s+=n+=e[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,t=s},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},Pj=function(r,t,e,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new vi(i.length+r.length);o.set(i),o.set(r,i.length),r=o,s.w=i.length}return Nj(r,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,s)},B8=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},Ij=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var s=F8();s.p(t.dictionary),B8(r,2,s.d())}},Rj=function(r,t){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Vs(6,"invalid zlib data"),(r[1]>>5&1)==1&&Vs(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function Q1(r,t){t||(t={});var e=F8();e.p(r);var n=Pj(r,t,t.dictionary?6:2,4);return Ij(n,t),B8(n,n.length-4,e.d()),n}function Mj(r,t){return Tj(r.subarray(Rj(r),-4),{i:2},t,t)}var jj=typeof TextDecoder<"u"&&new TextDecoder,Lj=0;try{jj.decode(D8,{stream:!0}),Lj=1}catch{}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function dg(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var Gr={log:dg,warn:function(r){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):dg.call(null,arguments))},error:function(r){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):dg(r))}};function pg(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){zl(n.response,t,e)},n.onerror=function(){Gr.error("could not download file")},n.send()}function Ww(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var Vh,Z1,zl=Jt.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Jt.URL||Jt.webkitURL,s=document.createElement("a");t=t||r.name||"download",s.download=t,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?Ww(s.href)?pg(r,t,e):Yd(s,s.target="_blank"):Yd(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Yd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(Ww(r))pg(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Yd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Vr(i)!=="object"&&(Gr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return pg(r,t,e);var s=r.type==="application/octet-stream",i=/constructor/i.test(Jt.HTMLElement)||Jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var c=u.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},u.readAsDataURL(r)}else{var a=Jt.URL||Jt.webkitURL,l=a.createObjectURL(r);n?n.location=l:location.href=l,n=null,setTimeout(function(){a.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function U8(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<e.length;n++){var s=e[n].re,i=e[n].process,o=s.exec(r);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),a=this.g.toString(16),l=this.b.toString(16);return u.length==1&&(u="0"+u),a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),"#"+u+a+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mg(r,t){var e=r[0],n=r[1],s=r[2],i=r[3];e=ci(e,n,s,i,t[0],7,-680876936),i=ci(i,e,n,s,t[1],12,-389564586),s=ci(s,i,e,n,t[2],17,606105819),n=ci(n,s,i,e,t[3],22,-1044525330),e=ci(e,n,s,i,t[4],7,-176418897),i=ci(i,e,n,s,t[5],12,1200080426),s=ci(s,i,e,n,t[6],17,-1473231341),n=ci(n,s,i,e,t[7],22,-45705983),e=ci(e,n,s,i,t[8],7,1770035416),i=ci(i,e,n,s,t[9],12,-1958414417),s=ci(s,i,e,n,t[10],17,-42063),n=ci(n,s,i,e,t[11],22,-1990404162),e=ci(e,n,s,i,t[12],7,1804603682),i=ci(i,e,n,s,t[13],12,-40341101),s=ci(s,i,e,n,t[14],17,-1502002290),e=hi(e,n=ci(n,s,i,e,t[15],22,1236535329),s,i,t[1],5,-165796510),i=hi(i,e,n,s,t[6],9,-1069501632),s=hi(s,i,e,n,t[11],14,643717713),n=hi(n,s,i,e,t[0],20,-373897302),e=hi(e,n,s,i,t[5],5,-701558691),i=hi(i,e,n,s,t[10],9,38016083),s=hi(s,i,e,n,t[15],14,-660478335),n=hi(n,s,i,e,t[4],20,-405537848),e=hi(e,n,s,i,t[9],5,568446438),i=hi(i,e,n,s,t[14],9,-1019803690),s=hi(s,i,e,n,t[3],14,-187363961),n=hi(n,s,i,e,t[8],20,1163531501),e=hi(e,n,s,i,t[13],5,-1444681467),i=hi(i,e,n,s,t[2],9,-51403784),s=hi(s,i,e,n,t[7],14,1735328473),e=fi(e,n=hi(n,s,i,e,t[12],20,-1926607734),s,i,t[5],4,-378558),i=fi(i,e,n,s,t[8],11,-2022574463),s=fi(s,i,e,n,t[11],16,1839030562),n=fi(n,s,i,e,t[14],23,-35309556),e=fi(e,n,s,i,t[1],4,-1530992060),i=fi(i,e,n,s,t[4],11,1272893353),s=fi(s,i,e,n,t[7],16,-155497632),n=fi(n,s,i,e,t[10],23,-1094730640),e=fi(e,n,s,i,t[13],4,681279174),i=fi(i,e,n,s,t[0],11,-358537222),s=fi(s,i,e,n,t[3],16,-722521979),n=fi(n,s,i,e,t[6],23,76029189),e=fi(e,n,s,i,t[9],4,-640364487),i=fi(i,e,n,s,t[12],11,-421815835),s=fi(s,i,e,n,t[15],16,530742520),e=di(e,n=fi(n,s,i,e,t[2],23,-995338651),s,i,t[0],6,-198630844),i=di(i,e,n,s,t[7],10,1126891415),s=di(s,i,e,n,t[14],15,-1416354905),n=di(n,s,i,e,t[5],21,-57434055),e=di(e,n,s,i,t[12],6,1700485571),i=di(i,e,n,s,t[3],10,-1894986606),s=di(s,i,e,n,t[10],15,-1051523),n=di(n,s,i,e,t[1],21,-2054922799),e=di(e,n,s,i,t[8],6,1873313359),i=di(i,e,n,s,t[15],10,-30611744),s=di(s,i,e,n,t[6],15,-1560198380),n=di(n,s,i,e,t[13],21,1309151649),e=di(e,n,s,i,t[4],6,-145523070),i=di(i,e,n,s,t[11],10,-1120210379),s=di(s,i,e,n,t[2],15,718787259),n=di(n,s,i,e,t[9],21,-343485551),r[0]=$a(e,r[0]),r[1]=$a(n,r[1]),r[2]=$a(s,r[2]),r[3]=$a(i,r[3])}function Zm(r,t,e,n,s,i){return t=$a($a(t,r),$a(n,i)),$a(t<<s|t>>>32-s,e)}function ci(r,t,e,n,s,i,o){return Zm(t&e|~t&n,r,t,s,i,o)}function hi(r,t,e,n,s,i,o){return Zm(t&n|e&~n,r,t,s,i,o)}function fi(r,t,e,n,s,i,o){return Zm(t^e^n,r,t,s,i,o)}function di(r,t,e,n,s,i,o){return Zm(e^(t|~n),r,t,s,i,o)}function z8(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)mg(n,Oj(r.substring(t-64,t)));r=r.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(mg(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,mg(n,s),n}function Oj(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}Vh=Jt.atob.bind(Jt),Z1=Jt.btoa.bind(Jt);var Xw="0123456789abcdef".split("");function Dj(r){for(var t="",e=0;e<4;e++)t+=Xw[r>>8*e+4&15]+Xw[r>>8*e&15];return t}function Fj(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function J1(r){return z8(r).map(Fj).join("")}var Bj=function(r){for(var t=0;t<r.length;t++)r[t]=Dj(r[t]);return r.join("")}(z8("hello"))!="5d41402abc4b2a76b9719d911017c592";function $a(r,t){if(Bj){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e2(r,t){var e,n,s,i;if(r!==e){for(var o=(s=r,i=1+(256/r.length>>0),new Array(i+1).join(s)),u=[],a=0;a<256;a++)u[a]=a;var l=0;for(a=0;a<256;a++){var c=u[a];l=(l+c+o.charCodeAt(a))%256,u[a]=u[l],u[l]=c}e=r,n=u}else u=n;var d=t.length,f=0,h=0,g="";for(a=0;a<d;a++)h=(h+(c=u[f=(f+1)%256]))%256,u[f]=u[h],u[h]=c,o=u[(u[f]+u[h])%256],g+=String.fromCharCode(t.charCodeAt(a)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Gw={print:4,modify:8,copy:16,"annot-forms":32};function Gu(r,t,e,n){this.v=1,this.r=2;var s=192;r.forEach(function(u){if(Gw.perm!==void 0)throw new Error("Invalid permission: "+u);s+=Gw[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=J1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=e2(this.encryptionKey,this.padding)}function Ku(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=r[n]}return t}function Kw(r){if(Vr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,s){if(s=s||!1,typeof e!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!s],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[e]){var o=t[e][i];try{o[0].apply(r,n)}catch(u){Jt.console&&Gr.error("jsPDF PubSub Error",u.message,u)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ef(r){if(!(this instanceof Ef))return new Ef(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function V8(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function za(r,t,e,n,s){if(!(this instanceof za))return new za(r,t,e,n,s);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,V8.call(this,n,s)}function Wl(r,t,e,n,s){if(!(this instanceof Wl))return new Wl(r,t,e,n,s);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,V8.call(this,n,s)}function Kt(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],u=1,a=16,l="S",c=null;Vr(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(a=r.floatPrecision),l=r.defaultPathOperation||"S"),o=r.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",e=(""+(e||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=Kw;var g="1.3",v=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(K){g=K};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var y=h.__private__.getPageFormat=function(K){return p[K]};s=s||"a4";var m={COMPAT:"compat",ADVANCED:"advanced"},b=m.COMPAT;function k(){this.saveGraphicsState(),ne(new ct(He,0,0,-He,0,oi()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),l="n",b=m.ADVANCED}function N(){this.restoreGraphicsState(),l="S",b=m.COMPAT}var F=h.__private__.combineFontStyleAndFontWeight=function(K,ue){if(K=="bold"&&ue=="normal"||K=="bold"&&ue==400||K=="normal"&&ue=="italic"||K=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(K=ue==400||ue==="normal"?K==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||K!=="normal"?(ue==700?"bold":ue)+""+K:"bold"),K};h.advancedAPI=function(K){var ue=b===m.COMPAT;return ue&&k.call(this),typeof K!="function"||(K(this),ue&&N.call(this)),this},h.compatAPI=function(K){var ue=b===m.ADVANCED;return ue&&N.call(this),typeof K!="function"||(K(this),ue&&k.call(this)),this},h.isAdvancedAPI=function(){return b===m.ADVANCED};var j,T=function(K){if(b!==m.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=h.roundToPrecision=h.__private__.roundToPrecision=function(K,ue){var xe=t||ue;if(isNaN(K)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(xe).replace(/0+$/,"")};j=h.hpf=h.__private__.hpf=typeof a=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return M(K,a)}:a==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return M(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return M(K,16)};var B=h.f2=h.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return M(K,2)},O=h.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return M(K,3)},R=h.scale=h.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return b===m.COMPAT?K*He:b===m.ADVANCED?K:void 0},E=function(K){return b===m.COMPAT?oi()-K:b===m.ADVANCED?K:void 0},I=function(K){return R(E(K))};h.__private__.setPrecision=h.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var A,w="00000000000000000000000000000000",_=h.__private__.getFileId=function(){return w},x=h.__private__.setFileId=function(K){return w=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Br=new Gu(c.userPermissions,c.userPassword,c.ownerPassword,w)),w};h.setFileId=function(K){return x(K),this},h.getFileId=function(){return _()};var S=h.__private__.convertDateToPDFDate=function(K){var ue=K.getTimezoneOffset(),xe=ue<0?"+":"-",Ee=Math.floor(Math.abs(ue/60)),Re=Math.abs(ue%60),Xe=[xe,X(Ee),"'",X(Re),"'"].join("");return["D:",K.getFullYear(),X(K.getMonth()+1),X(K.getDate()),X(K.getHours()),X(K.getMinutes()),X(K.getSeconds()),Xe].join("")},C=h.__private__.convertPDFDateToDate=function(K){var ue=parseInt(K.substr(2,4),10),xe=parseInt(K.substr(6,2),10)-1,Ee=parseInt(K.substr(8,2),10),Re=parseInt(K.substr(10,2),10),Xe=parseInt(K.substr(12,2),10),lt=parseInt(K.substr(14,2),10);return new Date(ue,xe,Ee,Re,Xe,lt,0)},q=h.__private__.setCreationDate=function(K){var ue;if(K===void 0&&(K=new Date),K instanceof Date)ue=S(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=K}return A=ue},P=h.__private__.getCreationDate=function(K){var ue=A;return K==="jsDate"&&(ue=C(A)),ue};h.setCreationDate=function(K){return q(K),this},h.getCreationDate=function(K){return P(K)};var H,X=h.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},Z=h.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},V=0,Q=[],z=[],D=0,W=[],ee=[],oe=!1,ie=z,ae=function(){V=0,D=0,z=[],Q=[],W=[],pt=ze(),Mt=ze()};h.__private__.setCustomOutputDestination=function(K){oe=!0,ie=K};var le=function(K){oe||(ie=K)};h.__private__.resetCustomOutputDestination=function(){oe=!1,ie=z};var ne=h.__private__.out=function(K){return K=K.toString(),D+=K.length+1,ie.push(K),ie},se=h.__private__.write=function(K){return ne(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},ye=h.__private__.getArrayBuffer=function(K){for(var ue=K.length,xe=new ArrayBuffer(ue),Ee=new Uint8Array(xe);ue--;)Ee[ue]=K.charCodeAt(ue);return xe},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return me};var we=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(K){return we=b===m.ADVANCED?K/He:K,this};var _e,Se=h.__private__.getFontSize=h.getFontSize=function(){return b===m.COMPAT?we:we*He},Te=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(K){return Te=K,this},h.__private__.getR2L=h.getR2L=function(){return Te};var je,Ue=h.__private__.setZoomMode=function(K){var ue=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))_e=K;else if(isNaN(K)){if(ue.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');_e=K}else _e=parseInt(K,10)};h.__private__.getZoomMode=function(){return _e};var qe,We=h.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');je=K};h.__private__.getPageMode=function(){return je};var Ke=h.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');qe=K};h.__private__.getLayoutMode=function(){return qe},h.__private__.setDisplayMode=h.setDisplayMode=function(K,ue,xe){return Ue(K),Ke(ue),We(xe),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(K){if(Object.keys(rt).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[K]},h.__private__.getDocumentProperties=function(){return rt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(K){for(var ue in rt)rt.hasOwnProperty(ue)&&K[ue]&&(rt[ue]=K[ue]);return this},h.__private__.setDocumentProperty=function(K,ue){if(Object.keys(rt).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[K]=ue};var ut,He,_t,Qe,at,nt={},yt={},xt=[],Ct={},ar={},wt={},Xt={},$t=null,At=0,vt=[],Nt=new Kw(h),Rt=r.hotfixes||[],qt={},er={},Dt=[],ct=function K(ue,xe,Ee,Re,Xe,lt){if(!(this instanceof K))return new K(ue,xe,Ee,Re,Xe,lt);isNaN(ue)&&(ue=1),isNaN(xe)&&(xe=0),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=1),isNaN(Xe)&&(Xe=0),isNaN(lt)&&(lt=0),this._matrix=[ue,xe,Ee,Re,Xe,lt]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(K)},ct.prototype.multiply=function(K){var ue=K.sx*this.sx+K.shy*this.shx,xe=K.sx*this.shy+K.shy*this.sy,Ee=K.shx*this.sx+K.sy*this.shx,Re=K.shx*this.shy+K.sy*this.sy,Xe=K.tx*this.sx+K.ty*this.shx+this.tx,lt=K.tx*this.shy+K.ty*this.sy+this.ty;return new ct(ue,xe,Ee,Re,Xe,lt)},ct.prototype.decompose=function(){var K=this.sx,ue=this.shy,xe=this.shx,Ee=this.sy,Re=this.tx,Xe=this.ty,lt=Math.sqrt(K*K+ue*ue),Et=(K/=lt)*xe+(ue/=lt)*Ee;xe-=K*Et,Ee-=ue*Et;var U=Math.sqrt(xe*xe+Ee*Ee);return Et/=U,K*(Ee/=U)<ue*(xe/=U)&&(K=-K,ue=-ue,Et=-Et,lt=-lt),{scale:new ct(lt,0,0,U,0,0),translate:new ct(1,0,0,1,Re,Xe),rotate:new ct(K,ue,-ue,K,0,0),skew:new ct(1,0,Et,1,0,0)}},ct.prototype.toString=function(K){return this.join(" ")},ct.prototype.inversed=function(){var K=this.sx,ue=this.shy,xe=this.shx,Ee=this.sy,Re=this.tx,Xe=this.ty,lt=1/(K*Ee-ue*xe),Et=Ee*lt,U=-ue*lt,J=-xe*lt,re=K*lt;return new ct(Et,U,J,re,-Et*Re-J*Xe,-U*Re-re*Xe)},ct.prototype.applyToPoint=function(K){var ue=K.x*this.sx+K.y*this.shx+this.tx,xe=K.x*this.shy+K.y*this.sy+this.ty;return new Co(ue,xe)},ct.prototype.applyToRectangle=function(K){var ue=this.applyToPoint(K),xe=this.applyToPoint(new Co(K.x+K.w,K.y+K.h));return new ha(ue.x,ue.y,xe.x-ue.x,xe.y-ue.y)},ct.prototype.clone=function(){var K=this.sx,ue=this.shy,xe=this.shx,Ee=this.sy,Re=this.tx,Xe=this.ty;return new ct(K,ue,xe,Ee,Re,Xe)},h.Matrix=ct;var ir=h.matrixMult=function(K,ue){return ue.multiply(K)},Ut=new ct(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ut;var ke=function(K,ue){if(!ar[K]){var xe=(ue instanceof za?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);ue.id=xe,ar[K]=xe,Ct[xe]=ue,Nt.publish("addPattern",ue)}};h.ShadingPattern=za,h.TilingPattern=Wl,h.addShadingPattern=function(K,ue){return T("addShadingPattern()"),ke(K,ue),this},h.beginTilingPattern=function(K){T("beginTilingPattern()"),fa(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},h.endTilingPattern=function(K,ue){T("endTilingPattern()"),ue.stream=ee[H].join(`
`),ke(K,ue),Nt.publish("endTilingPattern",ue),Dt.pop().restore()};var Ne=h.__private__.newObject=function(){var K=ze();return st(K,!0),K},ze=h.__private__.newObjectDeferred=function(){return V++,Q[V]=function(){return D},V},st=function(K,ue){return ue=typeof ue=="boolean"&&ue,Q[K]=D,ue&&ne(K+" 0 obj"),K},Ft=h.__private__.newAdditionalObject=function(){var K={objId:ze(),content:""};return W.push(K),K},pt=ze(),Mt=ze(),Ve=h.__private__.decodeColorString=function(K){var ue=K.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length===5&&(ue[4]==="k"||ue[4]==="K")&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var xe=parseFloat(ue[0]);ue=[xe,xe,xe,"r"]}for(var Ee="#",Re=0;Re<3;Re++)Ee+=("0"+Math.floor(255*parseFloat(ue[Re])).toString(16)).slice(-2);return Ee},it=h.__private__.encodeColorString=function(K){var ue;typeof K=="string"&&(K={ch1:K});var xe=K.ch1,Ee=K.ch2,Re=K.ch3,Xe=K.ch4,lt=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var Et=new U8(xe);if(Et.ok)xe=Et.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var U=parseInt(xe.substr(1),16);xe=U>>16&255,Ee=U>>8&255,Re=255&U}if(Ee===void 0||Xe===void 0&&xe===Ee&&Ee===Re)if(typeof xe=="string")ue=xe+" "+lt[0];else switch(K.precision){case 2:ue=B(xe/255)+" "+lt[0];break;case 3:default:ue=O(xe/255)+" "+lt[0]}else if(Xe===void 0||Vr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return ue=["1.","1.","1.",lt[1]].join(" ");if(typeof xe=="string")ue=[xe,Ee,Re,lt[1]].join(" ");else switch(K.precision){case 2:ue=[B(xe/255),B(Ee/255),B(Re/255),lt[1]].join(" ");break;default:case 3:ue=[O(xe/255),O(Ee/255),O(Re/255),lt[1]].join(" ")}}else if(typeof xe=="string")ue=[xe,Ee,Re,Xe,lt[2]].join(" ");else switch(K.precision){case 2:ue=[B(xe),B(Ee),B(Re),B(Xe),lt[2]].join(" ");break;case 3:default:ue=[O(xe),O(Ee),O(Re),O(Xe),lt[2]].join(" ")}return ue},St=h.__private__.getFilters=function(){return o},bt=h.__private__.putStream=function(K){var ue=(K=K||{}).data||"",xe=K.filters||St(),Ee=K.alreadyAppliedFilters||[],Re=K.addLength1||!1,Xe=ue.length,lt=K.objectId,Et=function(lr){return lr};if(c!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Et=Br.encryptor(lt,0));var U={};xe===!0&&(xe=["FlateEncode"]);var J=K.additionalKeyValues||[],re=(U=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(ue,xe):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(U.data.length!==0&&(J.push({key:"Length",value:U.data.length}),Re===!0&&J.push({key:"Length1",value:Xe})),re.length!=0)if(re.split("/").length-1==1)J.push({key:"Filter",value:re});else{J.push({key:"Filter",value:"["+re+"]"});for(var de=0;de<J.length;de+=1)if(J[de].key==="DecodeParms"){for(var Ie=[],Be=0;Be<U.reverseChain.split("/").length-1;Be+=1)Ie.push("null");Ie.push(J[de].value),J[de].value="["+Ie.join(" ")+"]"}}ne("<<");for(var ht=0;ht<J.length;ht++)ne("/"+J[ht].key+" "+J[ht].value);ne(">>"),U.data.length!==0&&(ne("stream"),ne(Et(U.data)),ne("endstream"))},Lt=h.__private__.putPage=function(K){var ue=K.number,xe=K.data,Ee=K.objId,Re=K.contentsObjId;st(Ee,!0),ne("<</Type /Page"),ne("/Parent "+K.rootDictionaryObjId+" 0 R"),ne("/Resources "+K.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(j(K.mediaBox.bottomLeftX))+" "+parseFloat(j(K.mediaBox.bottomLeftY))+" "+j(K.mediaBox.topRightX)+" "+j(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&ne("/CropBox ["+j(K.cropBox.bottomLeftX)+" "+j(K.cropBox.bottomLeftY)+" "+j(K.cropBox.topRightX)+" "+j(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&ne("/BleedBox ["+j(K.bleedBox.bottomLeftX)+" "+j(K.bleedBox.bottomLeftY)+" "+j(K.bleedBox.topRightX)+" "+j(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&ne("/TrimBox ["+j(K.trimBox.bottomLeftX)+" "+j(K.trimBox.bottomLeftY)+" "+j(K.trimBox.topRightX)+" "+j(K.trimBox.topRightY)+"]"),K.artBox!==null&&ne("/ArtBox ["+j(K.artBox.bottomLeftX)+" "+j(K.artBox.bottomLeftY)+" "+j(K.artBox.topRightX)+" "+j(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&ne("/UserUnit "+K.userUnit),Nt.publish("putPage",{objId:Ee,pageContext:vt[ue],pageNumber:ue,page:xe}),ne("/Contents "+Re+" 0 R"),ne(">>"),ne("endobj");var Xe=xe.join(`
`);return b===m.ADVANCED&&(Xe+=`
Q`),st(Re,!0),bt({data:Xe,filters:St(),objectId:Re}),ne("endobj"),Ee},or=h.__private__.putPages=function(){var K,ue,xe=[];for(K=1;K<=At;K++)vt[K].objId=ze(),vt[K].contentsObjId=ze();for(K=1;K<=At;K++)xe.push(Lt({number:K,data:ee[K],objId:vt[K].objId,contentsObjId:vt[K].contentsObjId,mediaBox:vt[K].mediaBox,cropBox:vt[K].cropBox,bleedBox:vt[K].bleedBox,trimBox:vt[K].trimBox,artBox:vt[K].artBox,userUnit:vt[K].userUnit,rootDictionaryObjId:pt,resourceDictionaryObjId:Mt}));st(pt,!0),ne("<</Type /Pages");var Ee="/Kids [";for(ue=0;ue<At;ue++)Ee+=xe[ue]+" 0 R ";ne(Ee+"]"),ne("/Count "+At),ne(">>"),ne("endobj"),Nt.publish("postPutPages")},yr=function(K){Nt.publish("putFont",{font:K,out:ne,newObject:Ne,putStream:bt}),K.isAlreadyPutted!==!0&&(K.objectNumber=Ne(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Ku(K.postScriptName)),ne("/Subtype /Type1"),typeof K.encoding=="string"&&ne("/Encoding /"+K.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Mr=function(){for(var K in nt)nt.hasOwnProperty(K)&&(d===!1||d===!0&&f.hasOwnProperty(K))&&yr(nt[K])},Dr=function(K){K.objectNumber=Ne();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[j(K.x),j(K.y),j(K.x+K.width),j(K.y+K.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var xe=K.pages[1].join(`
`);bt({data:xe,additionalKeyValues:ue,objectId:K.objectNumber}),ne("endobj")},on=function(){for(var K in qt)qt.hasOwnProperty(K)&&Dr(qt[K])},be=function(K,ue){var xe,Ee=[],Re=1/(ue-1);for(xe=0;xe<1;xe+=Re)Ee.push(xe);if(Ee.push(1),K[0].offset!=0){var Xe={offset:0,color:K[0].color};K.unshift(Xe)}if(K[K.length-1].offset!=1){var lt={offset:1,color:K[K.length-1].color};K.push(lt)}for(var Et="",U=0,J=0;J<Ee.length;J++){for(xe=Ee[J];xe>K[U+1].offset;)U++;var re=K[U].offset,de=(xe-re)/(K[U+1].offset-re),Ie=K[U].color,Be=K[U+1].color;Et+=Z(Math.round((1-de)*Ie[0]+de*Be[0]).toString(16))+Z(Math.round((1-de)*Ie[1]+de*Be[1]).toString(16))+Z(Math.round((1-de)*Ie[2]+de*Be[2]).toString(16))}return Et.trim()},Oe=function(K,ue){ue||(ue=21);var xe=Ne(),Ee=be(K.colors,ue),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+ue+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt({data:Ee,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),ne("endobj"),K.objectNumber=Ne(),ne("<< /ShadingType "+K.type),ne("/ColorSpace /DeviceRGB");var Xe="/Coords ["+j(parseFloat(K.coords[0]))+" "+j(parseFloat(K.coords[1]))+" ";K.type===2?Xe+=j(parseFloat(K.coords[2]))+" "+j(parseFloat(K.coords[3])):Xe+=j(parseFloat(K.coords[2]))+" "+j(parseFloat(K.coords[3]))+" "+j(parseFloat(K.coords[4]))+" "+j(parseFloat(K.coords[5])),ne(Xe+="]"),K.matrix&&ne("/Matrix ["+K.matrix.toString()+"]"),ne("/Function "+xe+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ge=function(K,ue){var xe=ze(),Ee=Ne();ue.push({resourcesOid:xe,objectOid:Ee}),K.objectNumber=Ee;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+K.boundingBox.map(j).join(" ")+"]"}),Re.push({key:"XStep",value:j(K.xStep)}),Re.push({key:"YStep",value:j(K.yStep)}),Re.push({key:"Resources",value:xe+" 0 R"}),K.matrix&&Re.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),bt({data:K.stream,additionalKeyValues:Re,objectId:K.objectNumber}),ne("endobj")},et=function(K){var ue;for(ue in Ct)Ct.hasOwnProperty(ue)&&(Ct[ue]instanceof za?Oe(Ct[ue]):Ct[ue]instanceof Wl&&Ge(Ct[ue],K))},Pt=function(K){for(var ue in K.objectNumber=Ne(),ne("<<"),K)switch(ue){case"opacity":ne("/ca "+B(K[ue]));break;case"stroke-opacity":ne("/CA "+B(K[ue]))}ne(">>"),ne("endobj")},ft=function(){var K;for(K in wt)wt.hasOwnProperty(K)&&Pt(wt[K])},mt=function(){for(var K in ne("/XObject <<"),qt)qt.hasOwnProperty(K)&&qt[K].objectNumber>=0&&ne("/"+K+" "+qt[K].objectNumber+" 0 R");Nt.publish("putXobjectDict"),ne(">>")},mr=function(){Br.oid=Ne(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Br.v),ne("/R "+Br.r),ne("/U <"+Br.toHexString(Br.U)+">"),ne("/O <"+Br.toHexString(Br.O)+">"),ne("/P "+Br.P),ne(">>"),ne("endobj")},Zt=function(){for(var K in ne("/Font <<"),nt)nt.hasOwnProperty(K)&&(d===!1||d===!0&&f.hasOwnProperty(K))&&ne("/"+K+" "+nt[K].objectNumber+" 0 R");ne(">>")},nr=function(){if(Object.keys(Ct).length>0){for(var K in ne("/Shading <<"),Ct)Ct.hasOwnProperty(K)&&Ct[K]instanceof za&&Ct[K].objectNumber>=0&&ne("/"+K+" "+Ct[K].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),ne(">>")}},zt=function(K){if(Object.keys(Ct).length>0){for(var ue in ne("/Pattern <<"),Ct)Ct.hasOwnProperty(ue)&&Ct[ue]instanceof h.TilingPattern&&Ct[ue].objectNumber>=0&&Ct[ue].objectNumber<K&&ne("/"+ue+" "+Ct[ue].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),ne(">>")}},br=function(){if(Object.keys(wt).length>0){var K;for(K in ne("/ExtGState <<"),wt)wt.hasOwnProperty(K)&&wt[K].objectNumber>=0&&ne("/"+K+" "+wt[K].objectNumber+" 0 R");Nt.publish("putGStateDict"),ne(">>")}},Ht=function(K){st(K.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zt(),nr(),zt(K.objectOid),br(),mt(),ne(">>"),ne("endobj")},wr=function(){var K=[];Mr(),ft(),on(),et(K),Nt.publish("putResources"),K.forEach(Ht),Ht({resourcesOid:Mt,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources")},Ir=function(){Nt.publish("putAdditionalObjects");for(var K=0;K<W.length;K++){var ue=W[K];st(ue.objId,!0),ne(ue.content),ne("endobj")}Nt.publish("postPutAdditionalObjects")},en=function(K){yt[K.fontName]=yt[K.fontName]||{},yt[K.fontName][K.fontStyle]=K.id},un=function(K,ue,xe,Ee,Re){var Xe={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:K,fontName:ue,fontStyle:xe,encoding:Ee,isStandardFont:Re||!1,metadata:{}};return Nt.publish("addFont",{font:Xe,instance:this}),nt[Xe.id]=Xe,en(Xe),Xe.id},Un=function(K){for(var ue=0,xe=me.length;ue<xe;ue++){var Ee=un.call(this,K[ue][0],K[ue][1],K[ue][2],me[ue][3],!0);d===!1&&(f[Ee]=!0);var Re=K[ue][0].split("-");en({id:Ee,fontName:Re[0],fontStyle:Re[1]||""})}Nt.publish("addFonts",{fonts:nt,dictionary:yt})},mn=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(Ee){var ue=Ee.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var xe="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Jt.console)throw new Error(xe);Jt.console.error(xe,Ee),Jt.alert&&alert(xe)}},K.foo.bar=K,K.foo},xi=function(K,ue){var xe,Ee,Re,Xe,lt,Et,U,J,re;if(Re=(ue=ue||{}).sourceEncoding||"Unicode",lt=ue.outputEncoding,(ue.autoencode||lt)&&nt[ut].metadata&&nt[ut].metadata[Re]&&nt[ut].metadata[Re].encoding&&(Xe=nt[ut].metadata[Re].encoding,!lt&&nt[ut].encoding&&(lt=nt[ut].encoding),!lt&&Xe.codePages&&(lt=Xe.codePages[0]),typeof lt=="string"&&(lt=Xe[lt]),lt)){for(U=!1,Et=[],xe=0,Ee=K.length;xe<Ee;xe++)(J=lt[K.charCodeAt(xe)])?Et.push(String.fromCharCode(J)):Et.push(K[xe]),Et[xe].charCodeAt(0)>>8&&(U=!0);K=Et.join("")}for(xe=K.length;U===void 0&&xe!==0;)K.charCodeAt(xe-1)>>8&&(U=!0),xe--;if(!U)return K;for(Et=ue.noBOM?[]:[254,255],xe=0,Ee=K.length;xe<Ee;xe++){if((re=(J=K.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(re),Et.push(J-(re<<8))}return String.fromCharCode.apply(void 0,Et)},Fr=h.__private__.pdfEscape=h.pdfEscape=function(K,ue){return xi(K,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gn=h.__private__.beginPage=function(K){ee[++At]=[],vt[At]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},si(At),le(ee[H])},vr=function(K,ue){var xe,Ee,Re;switch(e=ue||e,typeof K=="string"&&(xe=y(K.toLowerCase()),Array.isArray(xe)&&(Ee=xe[0],Re=xe[1])),Array.isArray(K)&&(Ee=K[0]*He,Re=K[1]*He),isNaN(Ee)&&(Ee=s[0],Re=s[1]),(Ee>14400||Re>14400)&&(Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Re=Math.min(14400,Re)),s=[Ee,Re],e.substr(0,1)){case"l":Re>Ee&&(s=[Re,Ee]);break;case"p":Ee>Re&&(s=[Re,Ee])}gn(s),Tl(Al),ne(Gn),Pl!==0&&ne(Pl+" J"),ca!==0&&ne(ca+" j"),Nt.publish("addPage",{pageNumber:At})},pr=function(K){K>0&&K<=At&&(ee.splice(K,1),vt.splice(K,1),At--,H>At&&(H=At),this.setPage(H))},si=function(K){K>0&&K<=At&&(H=K)},_r=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ee.length-1},Li=function(K,ue,xe){var Ee,Re=void 0;return xe=xe||{},K=K!==void 0?K:nt[ut].fontName,ue=ue!==void 0?ue:nt[ut].fontStyle,Ee=K.toLowerCase(),yt[Ee]!==void 0&&yt[Ee][ue]!==void 0?Re=yt[Ee][ue]:yt[K]!==void 0&&yt[K][ue]!==void 0?Re=yt[K][ue]:xe.disableWarning===!1&&Gr.warn("Unable to look up font label for font '"+K+"', '"+ue+"'. Refer to getFontList() for available fonts."),Re||xe.noFallback||(Re=yt.times[ue])==null&&(Re=yt.times.normal),Re},cn=h.__private__.putInfo=function(){var K=Ne(),ue=function(Ee){return Ee};for(var xe in c!==null&&(ue=Br.encryptor(K,0)),ne("<<"),ne("/Producer ("+Fr(ue("jsPDF "+Kt.version))+")"),rt)rt.hasOwnProperty(xe)&&rt[xe]&&ne("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+Fr(ue(rt[xe]))+")");ne("/CreationDate ("+Fr(ue(A))+")"),ne(">>"),ne("endobj")},xn=h.__private__.putCatalog=function(K){var ue=(K=K||{}).rootDictionaryObjId||pt;switch(Ne(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+ue+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+_e;xe.substr(xe.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+B(_e)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}je&&ne("/PageMode /"+je),Nt.publish("putCatalog"),ne(">>"),ne("endobj")},Oi=h.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(V+1)),ne("/Root "+V+" 0 R"),ne("/Info "+(V-1)+" 0 R"),c!==null&&ne("/Encrypt "+Br.oid+" 0 R"),ne("/ID [ <"+w+"> <"+w+"> ]"),ne(">>")},cs=h.__private__.putHeader=function(){ne("%PDF-"+g),ne("%")},Js=h.__private__.putXRef=function(){var K="0000000000";ne("xref"),ne("0 "+(V+1)),ne("0000000000 65535 f ");for(var ue=1;ue<=V;ue++)typeof Q[ue]=="function"?ne((K+Q[ue]()).slice(-10)+" 00000 n "):Q[ue]!==void 0?ne((K+Q[ue]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},zn=h.__private__.buildDocument=function(){ae(),le(z),Nt.publish("buildDocument"),cs(),or(),Ir(),wr(),c!==null&&mr(),cn(),xn();var K=D;return Js(),Oi(),ne("startxref"),ne(""+K),ne("%%EOF"),le(ee[H]),z.join(`
`)},Xn=h.__private__.getBlob=function(K){return new Blob([ye(K)],{type:"application/pdf"})},Ns=h.output=h.__private__.output=mn(function(K,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",K){case void 0:return zn();case"save":h.save(ue.filename);break;case"arraybuffer":return ye(zn());case"blob":return Xn(zn());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(Xn(zn()))||void 0;Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",Ee=zn();try{xe=Z1(Ee)}catch{xe=Z1(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+ue.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(Re=ue.pdfObjectUrl,Xe="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Et=Jt.open();return Et!==null&&Et.document.write(lt),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var U='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',J=Jt.open();if(J!==null){J.document.write(U);var re=this;J.document.documentElement.querySelector("#pdfViewer").onload=function(){J.document.title=ue.filename,J.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(re.output("bloburl"))}}return J}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Ie=Jt.open();if(Ie!==null&&(Ie.document.write(de),Ie.document.title=ue.filename),Ie||typeof safari>"u")return Ie;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",ue);default:return null}}),Si=function(K){return Array.isArray(Rt)===!0&&Rt.indexOf(K)>-1};switch(n){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);He=n}var Br=null;q(),x();var Ps=function(K){return c!==null?Br.encryptor(K,0):function(ue){return ue}},hs=h.__private__.getPageInfo=h.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[K].objId,pageNumber:K,pageContext:vt[K]}},Qt=h.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in vt)if(vt[ue].objId===K)break;return hs(ue)},ki=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:vt[H].objId,pageNumber:H,pageContext:vt[H]}};h.addPage=function(){return vr.apply(this,arguments),this},h.setPage=function(){return si.apply(this,arguments),le.call(this,ee[H]),this},h.insertPage=function(K){return this.addPage(),this.movePage(H,K),this},h.movePage=function(K,ue){var xe,Ee;if(K>ue){xe=ee[K],Ee=vt[K];for(var Re=K;Re>ue;Re--)ee[Re]=ee[Re-1],vt[Re]=vt[Re-1];ee[ue]=xe,vt[ue]=Ee,this.setPage(ue)}else if(K<ue){xe=ee[K],Ee=vt[K];for(var Xe=K;Xe<ue;Xe++)ee[Xe]=ee[Xe+1],vt[Xe]=vt[Xe+1];ee[ue]=xe,vt[ue]=Ee,this.setPage(ue)}return this},h.deletePage=function(){return pr.apply(this,arguments),this},h.__private__.text=h.text=function(K,ue,xe,Ee,Re){var Xe,lt,Et,U,J,re,de,Ie,Be,ht=(Ee=Ee||{}).scope||this;if(typeof K=="number"&&typeof ue=="number"&&(typeof xe=="string"||Array.isArray(xe))){var lr=xe;xe=ue,ue=K,K=lr}if(arguments[3]instanceof ct?(T("The transform parameter of text() with a Matrix value"),Be=Re):(Et=arguments[4],U=arguments[5],Vr(de=arguments[3])==="object"&&de!==null||(typeof Et=="string"&&(U=Et,Et=null),typeof de=="string"&&(U=de,de=null),typeof de=="number"&&(Et=de,de=null),Ee={flags:de,angle:Et,align:U})),isNaN(ue)||isNaN(xe)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return ht;var Sr="",ur=!1,Lr=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:jr,Wr=ht.internal.scaleFactor;function Ls(Kr){return Kr=Kr.split("	").join(Array(Ee.TabLen||9).join(" ")),Fr(Kr,de)}function Kn(Kr){for(var Yr,kn=Kr.concat(),On=[],Mo=kn.length;Mo--;)typeof(Yr=kn.shift())=="string"?On.push(Yr):Array.isArray(Kr)&&(Yr.length===1||Yr[1]===void 0&&Yr[2]===void 0)?On.push(Yr[0]):On.push([Yr[0],Yr[1],Yr[2]]);return On}function io(Kr,Yr){var kn;if(typeof Kr=="string")kn=Yr(Kr)[0];else if(Array.isArray(Kr)){for(var On,Mo,Yc=Kr.concat(),Lu=[],Jf=Yc.length;Jf--;)typeof(On=Yc.shift())=="string"?Lu.push(Yr(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(Mo=Yr(On[0],On[1],On[2]),Lu.push([Mo[0],Mo[1],Mo[2]]));kn=Lu}return kn}var so=!1,qc=!0;if(typeof K=="string")so=!0;else if(Array.isArray(K)){var Hc=K.concat();lt=[];for(var Tu,Yn=Hc.length;Yn--;)(typeof(Tu=Hc.shift())!="string"||Array.isArray(Tu)&&typeof Tu[0]!="string")&&(qc=!1);so=qc}if(so===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Cu=we/ht.internal.scaleFactor,Nu=Cu*(Lr-1);switch(Ee.baseline){case"bottom":xe-=Nu;break;case"top":xe+=Cu-Nu;break;case"hanging":xe+=Cu-2*Nu;break;case"middle":xe+=Cu/2-Nu}if((re=Ee.maxWidth||0)>0&&(typeof K=="string"?K=ht.splitTextToSize(K,re):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Kr,Yr){return Kr.concat(ht.splitTextToSize(Yr,re))},[]))),Xe={text:K,x:ue,y:xe,options:Ee,mutex:{pdfEscape:Fr,activeFontKey:ut,fonts:nt,activeFontSize:we}},Nt.publish("preProcessText",Xe),K=Xe.text,Et=(Ee=Xe.options).angle,!(Be instanceof ct)&&Et&&typeof Et=="number"){Et*=Math.PI/180,Ee.rotationDirection===0&&(Et=-Et),b===m.ADVANCED&&(Et=-Et);var Pu=Math.cos(Et),$c=Math.sin(Et);Be=new ct(Pu,$c,-$c,Pu,0,0)}else Et&&Et instanceof ct&&(Be=Et);b!==m.ADVANCED||Be||(Be=Ut),(J=Ee.charSpace||To)!==void 0&&(Sr+=j(R(J))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ie=Ee.horizontalScale)!==void 0&&(Sr+=j(100*Ie)+` Tz
`),Ee.lang;var Di=-1,Jm=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Wc=ht.internal.getCurrentPageInfo().pageContext;switch(Jm){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var Kf=Wc.usedRenderingMode!==void 0?Wc.usedRenderingMode:-1;Di!==-1?Sr+=Di+` Tr
`:Kf!==-1&&(Sr+=`0 Tr
`),Di!==-1&&(Wc.usedRenderingMode=Di),U=Ee.align||"left";var ds,Iu=we*Lr,Yf=ht.internal.pageSize.getWidth(),Qf=nt[ut];J=Ee.charSpace||To,re=Ee.maxWidth||0,de=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var ma=[],Il=function(Kr){return ht.getStringUnitWidth(Kr,{font:Qf,charSpace:J,fontSize:we,doKerning:!1})*we/Wr};if(Object.prototype.toString.call(K)==="[object Array]"){var Fi;lt=Kn(K),U!=="left"&&(ds=lt.map(Il));var Ei,ga=0;if(U==="right"){ue-=ds[0],K=[],Yn=lt.length;for(var Po=0;Po<Yn;Po++)Po===0?(Ei=Yi(ue),Fi=Ln(xe)):(Ei=R(ga-ds[Po]),Fi=-Iu),K.push([lt[Po],Ei,Fi]),ga=ds[Po]}else if(U==="center"){ue-=ds[0]/2,K=[],Yn=lt.length;for(var Io=0;Io<Yn;Io++)Io===0?(Ei=Yi(ue),Fi=Ln(xe)):(Ei=R((ga-ds[Io])/2),Fi=-Iu),K.push([lt[Io],Ei,Fi]),ga=ds[Io]}else if(U==="left"){K=[],Yn=lt.length;for(var Ru=0;Ru<Yn;Ru++)K.push(lt[Ru])}else if(U==="justify"&&Qf.encoding==="Identity-H"){K=[],Yn=lt.length,re=re!==0?re:Yf;for(var Ro=0,Sn=0;Sn<Yn;Sn++)if(Fi=Sn===0?Ln(xe):-Iu,Ei=Sn===0?Yi(ue):Ro,Sn<Yn-1){var Xc=R((re-ds[Sn])/(lt[Sn].split(" ").length-1)),Ai=lt[Sn].split(" ");K.push([Ai[0]+" ",Ei,Fi]),Ro=0;for(var ps=1;ps<Ai.length;ps++){var Mu=(Il(Ai[ps-1]+" "+Ai[ps])-Il(Ai[ps]))*Wr+Xc;ps==Ai.length-1?K.push([Ai[ps],Mu,0]):K.push([Ai[ps]+" ",Mu,0]),Ro-=Mu}}else K.push([lt[Sn],Ei,Fi]);K.push(["",Ro,0])}else{if(U!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],Yn=lt.length,re=re!==0?re:Yf,Sn=0;Sn<Yn;Sn++)Fi=Sn===0?Ln(xe):-Iu,Ei=Sn===0?Yi(ue):0,Sn<Yn-1?ma.push(j(R((re-ds[Sn])/(lt[Sn].split(" ").length-1)))):ma.push(0),K.push([lt[Sn],Ei,Fi])}}var Zf=typeof Ee.R2L=="boolean"?Ee.R2L:Te;Zf===!0&&(K=io(K,function(Kr,Yr,kn){return[Kr.split("").reverse().join(""),Yr,kn]})),Xe={text:K,x:ue,y:xe,options:Ee,mutex:{pdfEscape:Fr,activeFontKey:ut,fonts:nt,activeFontSize:we}},Nt.publish("postProcessText",Xe),K=Xe.text,ur=Xe.mutex.isHex||!1;var Gc=nt[ut].encoding;Gc!=="WinAnsiEncoding"&&Gc!=="StandardEncoding"||(K=io(K,function(Kr,Yr,kn){return[Ls(Kr),Yr,kn]})),lt=Kn(K),K=[];for(var Rl,Ml,ya,jl=0,ju=1,Ll=Array.isArray(lt[0])?ju:jl,va="",Kc=function(Kr,Yr,kn){var On="";return kn instanceof ct?(kn=typeof Ee.angle=="number"?ir(kn,new ct(1,0,0,1,Kr,Yr)):ir(new ct(1,0,0,1,Kr,Yr),kn),b===m.ADVANCED&&(kn=ir(new ct(1,0,0,-1,0,0),kn)),On=kn.join(" ")+` Tm
`):On=j(Kr)+" "+j(Yr)+` Td
`,On},ms=0;ms<lt.length;ms++){switch(va="",Ll){case ju:ya=(ur?"<":"(")+lt[ms][0]+(ur?">":")"),Rl=parseFloat(lt[ms][1]),Ml=parseFloat(lt[ms][2]);break;case jl:ya=(ur?"<":"(")+lt[ms]+(ur?">":")"),Rl=Yi(ue),Ml=Ln(xe)}ma!==void 0&&ma[ms]!==void 0&&(va=ma[ms]+` Tw
`),ms===0?K.push(va+Kc(Rl,Ml,Be)+ya):Ll===jl?K.push(va+ya):Ll===ju&&K.push(va+Kc(Rl,Ml,Be)+ya)}K=Ll===jl?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var gs=`BT
/`;return gs+=ut+" "+we+` Tf
`,gs+=j(we*Lr)+` TL
`,gs+=Ms+`
`,gs+=Sr,gs+=K,ne(gs+="ET"),f[ut]=!0,ht};var eo=h.__private__.clip=h.clip=function(K){return ne(K==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return eo("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ne("n"),this};var fs=h.__private__.isValidStyle=function(K){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(ue=!0),ue};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(K){return fs(K)&&(l=K),this};var Su=h.__private__.getStyle=h.getStyle=function(K){var ue=l;switch(K){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=K}return ue},Gi=h.close=function(){return ne("h"),this};h.stroke=function(){return ne("S"),this},h.fill=function(K){return na("f",K),this},h.fillEvenOdd=function(K){return na("f*",K),this},h.fillStroke=function(K){return na("B",K),this},h.fillStrokeEvenOdd=function(K){return na("B*",K),this};var na=function(K,ue){Vr(ue)==="object"?sa(ue,K):ne(K)},kl=function(K){K===null||b===m.ADVANCED&&K===void 0||(K=Su(K),ne(K))};function ia(K,ue,xe,Ee,Re){var Xe=new Wl(ue||this.boundingBox,xe||this.xStep,Ee||this.yStep,this.gState,Re||this.matrix);Xe.stream=this.stream;var lt=K+"$$"+this.cloneIndex+++"$$";return ke(lt,Xe),Xe}var sa=function(K,ue){var xe=ar[K.key],Ee=Ct[xe];if(Ee instanceof za)ne("q"),ne(ku(ue)),Ee.gState&&h.setGState(Ee.gState),ne(K.matrix.toString()+" cm"),ne("/"+xe+" sh"),ne("Q");else if(Ee instanceof Wl){var Re=new ct(1,0,0,-1,0,oi());K.matrix&&(Re=Re.multiply(K.matrix||Ut),xe=ia.call(Ee,K.key,K.boundingBox,K.xStep,K.yStep,Re).id),ne("q"),ne("/Pattern cs"),ne("/"+xe+" scn"),Ee.gState&&h.setGState(Ee.gState),ne(ue),ne("Q")}},ku=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Is=h.moveTo=function(K,ue){return ne(j(R(K))+" "+j(I(ue))+" m"),this},Ki=h.lineTo=function(K,ue){return ne(j(R(K))+" "+j(I(ue))+" l"),this},Rs=h.curveTo=function(K,ue,xe,Ee,Re,Xe){return ne([j(R(K)),j(I(ue)),j(R(xe)),j(I(Ee)),j(R(Re)),j(I(Xe)),"c"].join(" ")),this};h.__private__.line=h.line=function(K,ue,xe,Ee,Re){if(isNaN(K)||isNaN(ue)||isNaN(xe)||isNaN(Ee)||!fs(Re))throw new Error("Invalid arguments passed to jsPDF.line");return b===m.COMPAT?this.lines([[xe-K,Ee-ue]],K,ue,[1,1],Re||"S"):this.lines([[xe-K,Ee-ue]],K,ue,[1,1]).stroke()},h.__private__.lines=h.lines=function(K,ue,xe,Ee,Re,Xe){var lt,Et,U,J,re,de,Ie,Be,ht,lr,Sr,ur;if(typeof K=="number"&&(ur=xe,xe=ue,ue=K,K=ur),Ee=Ee||[1,1],Xe=Xe||!1,isNaN(ue)||isNaN(xe)||!Array.isArray(K)||!Array.isArray(Ee)||!fs(Re)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Is(ue,xe),lt=Ee[0],Et=Ee[1],J=K.length,lr=ue,Sr=xe,U=0;U<J;U++)(re=K[U]).length===2?(lr=re[0]*lt+lr,Sr=re[1]*Et+Sr,Ki(lr,Sr)):(de=re[0]*lt+lr,Ie=re[1]*Et+Sr,Be=re[2]*lt+lr,ht=re[3]*Et+Sr,lr=re[4]*lt+lr,Sr=re[5]*Et+Sr,Rs(de,Ie,Be,ht,lr,Sr));return Xe&&Gi(),kl(Re),this},h.path=function(K){for(var ue=0;ue<K.length;ue++){var xe=K[ue],Ee=xe.c;switch(xe.op){case"m":Is(Ee[0],Ee[1]);break;case"l":Ki(Ee[0],Ee[1]);break;case"c":Rs.apply(this,Ee);break;case"h":Gi()}}return this},h.__private__.rect=h.rect=function(K,ue,xe,Ee,Re){if(isNaN(K)||isNaN(ue)||isNaN(xe)||isNaN(Ee)||!fs(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return b===m.COMPAT&&(Ee=-Ee),ne([j(R(K)),j(I(ue)),j(R(xe)),j(R(Ee)),"re"].join(" ")),kl(Re),this},h.__private__.triangle=h.triangle=function(K,ue,xe,Ee,Re,Xe,lt){if(isNaN(K)||isNaN(ue)||isNaN(xe)||isNaN(Ee)||isNaN(Re)||isNaN(Xe)||!fs(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-K,Ee-ue],[Re-xe,Xe-Ee],[K-Re,ue-Xe]],K,ue,[1,1],lt,!0),this},h.__private__.roundedRect=h.roundedRect=function(K,ue,xe,Ee,Re,Xe,lt){if(isNaN(K)||isNaN(ue)||isNaN(xe)||isNaN(Ee)||isNaN(Re)||isNaN(Xe)||!fs(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*xe),Xe=Math.min(Xe,.5*Ee),this.lines([[xe-2*Re,0],[Re*Et,0,Re,Xe-Xe*Et,Re,Xe],[0,Ee-2*Xe],[0,Xe*Et,-Re*Et,Xe,-Re,Xe],[2*Re-xe,0],[-Re*Et,0,-Re,-Xe*Et,-Re,-Xe],[0,2*Xe-Ee],[0,-Xe*Et,Re*Et,-Xe,Re,-Xe]],K+Re,ue,[1,1],lt,!0),this},h.__private__.ellipse=h.ellipse=function(K,ue,xe,Ee,Re){if(isNaN(K)||isNaN(ue)||isNaN(xe)||isNaN(Ee)||!fs(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*xe,lt=4/3*(Math.SQRT2-1)*Ee;return Is(K+xe,ue),Rs(K+xe,ue-lt,K+Xe,ue-Ee,K,ue-Ee),Rs(K-Xe,ue-Ee,K-xe,ue-lt,K-xe,ue),Rs(K-xe,ue+lt,K-Xe,ue+Ee,K,ue+Ee),Rs(K+Xe,ue+Ee,K+xe,ue+lt,K+xe,ue),kl(Re),this},h.__private__.circle=h.circle=function(K,ue,xe,Ee){if(isNaN(K)||isNaN(ue)||isNaN(xe)||!fs(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,ue,xe,xe,Ee)},h.setFont=function(K,ue,xe){return xe&&(ue=F(ue,xe)),ut=Li(K,ue,{disableWarning:!1}),this};var El=h.__private__.getFont=h.getFont=function(){return nt[Li.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var K,ue,xe={};for(K in yt)if(yt.hasOwnProperty(K))for(ue in xe[K]=[],yt[K])yt[K].hasOwnProperty(ue)&&xe[K].push(ue);return xe},h.addFont=function(K,ue,xe,Ee,Re){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(xe=F(xe,Ee)),Re=Re||"Identity-H",un.call(this,K,ue,xe,Re)};var jr,Al=r.lineWidth||.200025,oa=h.__private__.getLineWidth=h.getLineWidth=function(){return Al},Tl=h.__private__.setLineWidth=h.setLineWidth=function(K){return Al=K,ne(j(R(K))+" w"),this};h.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(K,ue){if(K=K||[],ue=ue||0,isNaN(ue)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(xe){return j(R(xe))}).join(" "),ue=j(R(ue)),ne("["+K+"] "+ue+" d"),this};var Cl=h.__private__.getLineHeight=h.getLineHeight=function(){return we*jr};h.__private__.getLineHeight=h.getLineHeight=function(){return we*jr};var Nl=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(jr=K),this},Ao=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return jr};Nl(r.lineHeight);var Yi=h.__private__.getHorizontalCoordinate=function(K){return R(K)},Ln=h.__private__.getVerticalCoordinate=function(K){return b===m.ADVANCED?K:vt[H].mediaBox.topRightY-vt[H].mediaBox.bottomLeftY-R(K)},Eu=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(K){return j(Yi(K))},to=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(K){return j(Ln(K))},Gn=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ve(Gn)},h.__private__.setStrokeColor=h.setDrawColor=function(K,ue,xe,Ee){return Gn=it({ch1:K,ch2:ue,ch3:xe,ch4:Ee,pdfColorType:"draw",precision:2}),ne(Gn),this};var aa=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ve(aa)},h.__private__.setFillColor=h.setFillColor=function(K,ue,xe,Ee){return aa=it({ch1:K,ch2:ue,ch3:xe,ch4:Ee,pdfColorType:"fill",precision:2}),ne(aa),this};var Ms=r.textColor||"0 g",la=h.__private__.getTextColor=h.getTextColor=function(){return Ve(Ms)};h.__private__.setTextColor=h.setTextColor=function(K,ue,xe,Ee){return Ms=it({ch1:K,ch2:ue,ch3:xe,ch4:Ee,pdfColorType:"text",precision:3}),this};var To=r.charSpace,ua=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(To||0)};h.__private__.setCharSpace=h.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return To=K,this};var Pl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(K){var ue=h.CapJoinStyles[K];if(ue===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=ue,ne(ue+" J"),this};var ca=0;h.__private__.setLineJoin=h.setLineJoin=function(K){var ue=h.CapJoinStyles[K];if(ue===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ca=ue,ne(ue+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(j(R(K))+" M"),this},h.GState=Ef,h.setGState=function(K){(K=typeof K=="string"?wt[Xt[K]]:ro(null,K)).equals($t)||(ne("/"+K.id+" gs"),$t=K)};var ro=function(K,ue){if(!K||!Xt[K]){var xe=!1;for(var Ee in wt)if(wt.hasOwnProperty(Ee)&&wt[Ee].equals(ue)){xe=!0;break}if(xe)ue=wt[Ee];else{var Re="GS"+(Object.keys(wt).length+1).toString(10);wt[Re]=ue,ue.id=Re}return K&&(Xt[K]=ue.id),Nt.publish("addGState",ue),ue}};h.addGState=function(K,ue){return ro(K,ue),this},h.saveGraphicsState=function(){return ne("q"),xt.push({key:ut,size:we,color:Ms}),this},h.restoreGraphicsState=function(){ne("Q");var K=xt.pop();return ut=K.key,we=K.size,Ms=K.color,$t=null,this},h.setCurrentTransformationMatrix=function(K){return ne(K.toString()+" cm"),this},h.comment=function(K){return ne("#"+K),this};var Co=function(K,ue){var xe=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Xe){isNaN(Xe)||(xe=parseFloat(Xe))}});var Ee=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Xe){isNaN(Xe)||(Ee=parseFloat(Xe))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(Xe){Re=Xe.toString()}}),this},ha=function(K,ue,xe,Ee){Co.call(this,K,ue),this.type="rect";var Re=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(lt){isNaN(lt)||(Re=parseFloat(lt))}});var Xe=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(lt){isNaN(lt)||(Xe=parseFloat(lt))}}),this},No=function(){this.page=At,this.currentPage=H,this.pages=ee.slice(0),this.pagesContext=vt.slice(0),this.x=_t,this.y=Qe,this.matrix=at,this.width=no(H),this.height=oi(H),this.outputDestination=ie,this.id="",this.objectNumber=-1};No.prototype.restore=function(){At=this.page,H=this.currentPage,vt=this.pagesContext,ee=this.pages,_t=this.x,Qe=this.y,at=this.matrix,da(H,this.width),pa(H,this.height),ie=this.outputDestination};var fa=function(K,ue,xe,Ee,Re){Dt.push(new No),At=H=0,ee=[],_t=K,Qe=ue,at=Re,gn([xe,Ee])},Au=function(K){if(er[K])Dt.pop().restore();else{var ue=new No,xe="Xo"+(Object.keys(qt).length+1).toString(10);ue.id=xe,er[K]=xe,qt[xe]=ue,Nt.publish("addFormObject",ue),Dt.pop().restore()}};for(var js in h.beginFormObject=function(K,ue,xe,Ee,Re){return fa(K,ue,xe,Ee,Re),this},h.endFormObject=function(K){return Au(K),this},h.doFormObject=function(K,ue){var xe=qt[er[K]];return ne("q"),ne(ue.toString()+" cm"),ne("/"+xe.id+" Do"),ne("Q"),this},h.getFormObject=function(K){var ue=qt[er[K]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},h.save=function(K,ue){return K=K||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(zl(Xn(zn()),K),typeof zl.unload=="function"&&Jt.setTimeout&&setTimeout(zl.unload,911),this):new Promise(function(xe,Ee){try{var Re=zl(Xn(zn()),K);typeof zl.unload=="function"&&Jt.setTimeout&&setTimeout(zl.unload,911),xe(Re)}catch(Xe){Ee(Xe.message)}})},Kt.API)Kt.API.hasOwnProperty(js)&&(js==="events"&&Kt.API.events.length?function(K,ue){var xe,Ee,Re;for(Re=ue.length-1;Re!==-1;Re--)xe=ue[Re][0],Ee=ue[Re][1],K.subscribe.apply(K,[xe].concat(typeof Ee=="function"?[Ee]:Ee))}(Nt,Kt.API.events):h[js]=Kt.API[js]);var no=h.getPageWidth=function(K){return(vt[K=K||H].mediaBox.topRightX-vt[K].mediaBox.bottomLeftX)/He},da=h.setPageWidth=function(K,ue){vt[K].mediaBox.topRightX=ue*He+vt[K].mediaBox.bottomLeftX},oi=h.getPageHeight=function(K){return(vt[K=K||H].mediaBox.topRightY-vt[K].mediaBox.bottomLeftY)/He},pa=h.setPageHeight=function(K,ue){vt[K].mediaBox.topRightY=ue*He+vt[K].mediaBox.bottomLeftY};return h.internal={pdfEscape:Fr,getStyle:Su,getFont:El,getFontSize:Se,getCharSpace:ua,getTextColor:la,getLineHeight:Cl,getLineHeightFactor:Ao,getLineWidth:oa,write:se,getHorizontalCoordinate:Yi,getVerticalCoordinate:Ln,getCoordinateString:Eu,getVerticalCoordinateString:to,collections:{},newObject:Ne,newAdditionalObject:Ft,newObjectDeferred:ze,newObjectDeferredBegin:st,getFilters:St,putStream:bt,events:Nt,scaleFactor:He,pageSize:{getWidth:function(){return no(H)},setWidth:function(K){da(H,K)},getHeight:function(){return oi(H)},setHeight:function(K){pa(H,K)}},encryptionOptions:c,encryption:Br,getEncryptor:Ps,output:Ns,getNumberOfPages:_r,pages:ee,out:ne,f2:B,f3:O,getPageInfo:hs,getPageInfoByObjId:Qt,getCurrentPageInfo:ki,getPDFVersion:v,Point:Co,Rectangle:ha,Matrix:ct,hasHotfix:Si},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return no(H)},set:function(K){da(H,K)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return oi(H)},set:function(K){pa(H,K)},enumerable:!0,configurable:!0}),Un.call(h,me),ut="F1",vr(s,e),Nt.publish("initialized"),h}Gu.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Gu.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gu.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},Gu.prototype.processOwnerPassword=function(r,t){return e2(J1(t).substr(0,5),r)},Gu.prototype.encryptor=function(r,t){var e=J1(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return e2(e,n)}},Ef.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Vr(r)!==Vr(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Kt.API={events:[]},Kt.version="2.5.2";var vn=Kt.API,hv=1,xu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hr=function(r){return r.toFixed(2)},Na=function(r){return r.toFixed(5)};vn.__acroform__={};var Xi=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},Yw=function(r){return r*hv},uo=function(r){var t=new H8,e=Bt.internal.getHeight(r)||0,n=Bt.internal.getWidth(r)||0;return t.BBox=[0,0,Number(hr(n)),Number(hr(e))],t},Uj=vn.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<t},zj=vn.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<t)},Vj=vn.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},Tn=vn.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vj(r,t-1)},Cn=vn.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uj(r,t-1)},Nn=vn.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zj(r,t-1)},qj=vn.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=r[0],i=r[1],o=r[2],u=r[3],a={};return a.lowerLeft_X=e(s)||0,a.lowerLeft_Y=n(i+u)||0,a.upperRight_X=e(s+o)||0,a.upperRight_Y=n(i)||0,[Number(hr(a.lowerLeft_X)),Number(hr(a.lowerLeft_Y)),Number(hr(a.upperRight_X)),Number(hr(a.upperRight_Y))]},Hj=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=t2(r,e),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+s+" "+hr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=uo(r);return i.scope=r.scope,i.stream=t.join(`
`),i}},t2=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=r.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var i=e,o=Bt.internal.getHeight(r)||0;o=o<0?-o:o;var u=Bt.internal.getWidth(r)||0;u=u<0?-u:u;var a=function(O,R,E){if(O+1<s.length){var I=R+" "+s[O+1][0];return Qd(I,r,E).width<=u-4}return!1};i++;e:for(;i>0;){t="",i--;var l,c,d=Qd("3",r,i).height,f=r.multiline?o-i:(o-d)/2,h=f+=2,g=0,v=0,p=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Qd(t,r,i=12).width+", FieldWidth:"+u+`
`;break}for(var y="",m=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var k=!1;if(s[b].length!==1&&p!==s[b].length-1){if((d+2)*(m+2)+2>o)continue e;y+=s[b][p],k=!0,v=b,b--}else{y=(y+=s[b][p]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(b),F=a(N,y,i),j=b>=s.length-1;if(F&&!j){y+=" ",p=0;continue}if(F||j){if(j)v=N;else if(r.multiline&&(d+2)*(m+2)+2>o)continue e}else{if(!r.multiline||(d+2)*(m+2)+2>o)continue e;v=N}}for(var T="",M=g;M<=v;M++){var B=s[M];if(r.multiline){if(M===v){T+=B[p]+" ",p=(p+1)%B.length;continue}if(M===g){T+=B[B.length-1]+" ";continue}}T+=B[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,c=Qd(T,r,i).width,r.textAlign){case"right":l=u-c-2;break;case"center":l=(u-c)/2;break;case"left":default:l=2}t+=hr(l)+" "+hr(h)+` Td
`,t+="("+xu(T)+`) Tj
`,t+=-hr(l)+` 0 Td
`,h=-(i+2),c=0,g=k?v:v+1,m++,y=""}break}return n.text=t,n.fontSize=i,n},Qd=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},$j={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Wj=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},Xj=function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var n=e,s=r[e];t.internal.newObjectDeferredBegin(s.objId,!0),Vr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},Gj=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Qs.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify($j)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hv=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new $8,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Wj(i,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var u=n[o],a=[],l=u.Rect;if(u.Rect&&(u.Rect=qj(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Bt.createDefaultAppearanceStream(u),Vr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(a=u.getKeyValueListForStream()),u.Rect=l,u.hasAppearanceStream&&!u.appearanceStreamContent){var c=Hj(u);a.push({key:"AP",value:"<</N "+c+">>"}),s.internal.acroformPlugin.xForms.push(c)}if(u.appearanceStreamContent){var d="";for(var f in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(f)){var h=u.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(s,u)),d+="/"+o+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(s,u)),d+="/"+o+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);d+=">>"}a.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:a,objectId:u.objId}),s.internal.out("endobj")}i&&Xj(s.internal.acroformPlugin.xForms,s)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},q8=vn.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(o){return o};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),Vr(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),s+="("+xu(n(r[i].toString()))+")"):s+=r[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gg=function(r,t,e){var n=function(s){return s};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),r="("+xu(n(r))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:q8(s,this.objId,this.scope)}):s instanceof po?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var H8=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};Xi(H8,po);var $8=function(){po.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+xu(e(r))+")"}},set:function(e){r=e}})};Xi($8,po);var Qs=function r(){po.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(t,3)},set:function(y){y?this.F=Cn(t,3):this.F=Nn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');e=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof cm)return;i="FieldObject"+r.FieldNum++}var y=function(m){return m};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+xu(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/hv:l},set:function(y){l=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof cm||this instanceof ol))return gg(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fn?f:gg(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Fn?y:y.substr(0,1)==="("?qu(y.substr(1,y.length-2)):qu(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?qu(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Fn?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Fn?h:gg(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Fn?y:y.substr(0,1)==="("?qu(y.substr(1,y.length-2)):qu(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?qu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Fn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(y){y?this.Ff=Cn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(y){y?this.Ff=Cn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(y){y?this.Ff=Cn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');p=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(p){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Xi(Qs,po);var tu=function(){Qs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return q8(t,this.objId,this.scope)},set:function(e){var n,s;s=[],typeof(n=e)=="string"&&(s=function(i,o,u){u||(u=1);for(var a,l=[];a=o.exec(i);)l.push(a[u]);return l}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(e){e?this.Ff=Cn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Cn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(e){e?(this.Ff=Cn(this.Ff,20),t.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(e){e?this.Ff=Cn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(e){e?this.Ff=Cn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(e){e?this.Ff=Cn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Xi(tu,Qs);var ru=function(){tu.call(this),this.fontName="helvetica",this.combo=!1};Xi(ru,tu);var nu=function(){ru.call(this),this.combo=!0};Xi(nu,ru);var qh=function(){nu.call(this),this.edit=!0};Xi(qh,nu);var Fn=function(){Qs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(e){e?this.Ff=Cn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(e){e?this.Ff=Cn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(e){e?this.Ff=Cn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(e){e?this.Ff=Cn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(i){return i};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+xu(e(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){Vr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};Xi(Fn,Qs);var Hh=function(){Fn.call(this),this.pushButton=!0};Xi(Hh,Fn);var iu=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};Xi(iu,Fn);var cm=function(){var r,t;Qs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+xu(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Vr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xi(cm,Qs),iu.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},iu.prototype.createOption=function(r){var t=new cm;return t.Parent=this,t.optionName=r,this.Kids.push(t),Kj.call(this.scope,t),t};var $h=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};Xi($h,Fn);var ol=function(){Qs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(t){t?this.Ff=Cn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(t){t?this.Ff=Cn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(t){t?this.Ff=Cn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(t){t?this.Ff=Cn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(t){t?this.Ff=Cn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(t){t?this.Ff=Cn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xi(ol,Qs);var Wh=function(){ol.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(r){r?this.Ff=Cn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Xi(Wh,ol);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=uo(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=t2(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+hr(Bt.internal.getWidth(r))+" "+hr(Bt.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+hr(i.fontSize)+" Tf "+s),e.push("BT"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=uo(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=Bt.internal.getHeight(r),o=Bt.internal.getWidth(r),u=t2(r,r.caption);return s.push("1 g"),s.push("0 0 "+hr(o)+" "+hr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+hr(o-1)+" "+hr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+hr(u.fontSize)+" Tf "+n),s.push(u.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(r){var t=uo(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+hr(Bt.internal.getWidth(r))+" "+hr(Bt.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=Bt.RadioButton.Circle.YesNormal,t.D[r]=Bt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=uo(r);t.scope=r.scope;var e=[],n=Bt.internal.getWidth(r)<=Bt.internal.getHeight(r)?Bt.internal.getWidth(r)/4:Bt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Bt.internal.Bezier_C,i=Number((n*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Na(Bt.internal.getWidth(r)/2)+" "+Na(Bt.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),e.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),e.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),e.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=uo(r);t.scope=r.scope;var e=[],n=Bt.internal.getWidth(r)<=Bt.internal.getHeight(r)?Bt.internal.getWidth(r)/4:Bt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Bt.internal.Bezier_C).toFixed(5)),o=Number((n*Bt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Na(Bt.internal.getWidth(r)/2)+" "+Na(Bt.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),e.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),e.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),e.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Na(Bt.internal.getWidth(r)/2)+" "+Na(Bt.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=uo(r);t.scope=r.scope;var e=[],n=Bt.internal.getWidth(r)<=Bt.internal.getHeight(r)?Bt.internal.getWidth(r)/4:Bt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Bt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Na(Bt.internal.getWidth(r)/2)+" "+Na(Bt.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),e.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),e.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),e.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=Bt.RadioButton.Cross.YesNormal,t.D[r]=Bt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=uo(r);t.scope=r.scope;var e=[],n=Bt.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+hr(Bt.internal.getWidth(r)-2)+" "+hr(Bt.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(hr(n.x1.x)+" "+hr(n.x1.y)+" m"),e.push(hr(n.x2.x)+" "+hr(n.x2.y)+" l"),e.push(hr(n.x4.x)+" "+hr(n.x4.y)+" m"),e.push(hr(n.x3.x)+" "+hr(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=uo(r);t.scope=r.scope;var e=Bt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+hr(Bt.internal.getWidth(r))+" "+hr(Bt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+hr(Bt.internal.getWidth(r)-2)+" "+hr(Bt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(hr(e.x1.x)+" "+hr(e.x1.y)+" m"),n.push(hr(e.x2.x)+" "+hr(e.x2.y)+" l"),n.push(hr(e.x4.x)+" "+hr(e.x4.y)+" m"),n.push(hr(e.x3.x)+" "+hr(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=uo(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+hr(Bt.internal.getWidth(r))+" "+hr(Bt.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=Bt.internal.getWidth(r),e=Bt.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},Bt.internal.getWidth=function(r){var t=0;return Vr(r)==="object"&&(t=Yw(r.Rect[2])),t},Bt.internal.getHeight=function(r){var t=0;return Vr(r)==="object"&&(t=Yw(r.Rect[3])),t};var Kj=vn.addField=function(r){if(Gj(this,r),!(r instanceof Qs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=tu,vn.AcroFormListBox=ru,vn.AcroFormComboBox=nu,vn.AcroFormEditBox=qh,vn.AcroFormButton=Fn,vn.AcroFormPushButton=Hh,vn.AcroFormRadioButton=iu,vn.AcroFormCheckBox=$h,vn.AcroFormTextField=ol,vn.AcroFormPasswordField=Wh,vn.AcroFormAppearance=Bt,vn.AcroForm={ChoiceField:tu,ListBox:ru,ComboBox:nu,EditBox:qh,Button:Fn,PushButton:Hh,RadioButton:iu,CheckBox:$h,TextField:ol,PasswordField:Wh,Appearance:Bt},Kt.AcroForm={ChoiceField:tu,ListBox:ru,ComboBox:nu,EditBox:qh,Button:Fn,PushButton:Hh,RadioButton:iu,CheckBox:$h,TextField:ol,PasswordField:Wh,Appearance:Bt};var Yj=Kt.AcroForm;function W8(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){r.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(O,R){var E,I,A,w,_,x=t;if((R=R||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(F(O))for(_ in e)for(A=e[_],E=0;E<A.length;E+=1){for(w=!0,I=0;I<A[E].length;I+=1)if(A[E][I]!==void 0&&A[E][I]!==O[I]){w=!1;break}if(w===!0){x=_;break}}else for(_ in e)for(A=e[_],E=0;E<A.length;E+=1){for(w=!0,I=0;I<A[E].length;I+=1)if(A[E][I]!==void 0&&A[E][I]!==O.charCodeAt(I)){w=!1;break}if(w===!0){x=_;break}}return x===t&&R!==t&&(x=R),x},s=function O(R){for(var E=this.internal.write,I=this.internal.putStream,A=(0,this.internal.getFilters)();A.indexOf("FlateEncode")!==-1;)A.splice(A.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:R.width}),w.push({key:"Height",value:R.height}),R.colorSpace===p.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===p.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var _="",x=0,S=R.transparency.length;x<S;x++)_+=R.transparency[x]+" "+R.transparency[x]+" ";w.push({key:"Mask",value:"["+_+"]"})}R.sMask!==void 0&&w.push({key:"SMask",value:R.objectId+1+" 0 R"});var C=R.filter!==void 0?["/"+R.filter]:void 0;if(I({data:R.data,additionalKeyValues:w,alreadyAppliedFilters:C,objectId:R.objectId}),E("endobj"),"sMask"in R&&R.sMask!==void 0){var q="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,P={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:q,data:R.sMask};"filter"in R&&(P.filter=R.filter),O.call(this,P)}if(R.colorSpace===p.INDEXED){var H=this.internal.newObject();I({data:T(new Uint8Array(R.palette)),objectId:H}),E("endobj")}},i=function(){var O=this.internal.collections.addImage_images;for(var R in O)s.call(this,O[R])},o=function(){var O,R=this.internal.collections.addImage_images,E=this.internal.write;for(var I in R)E("/I"+(O=R[I]).index,O.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},a=function(){var O=this.internal.collections.addImage_images;return u.call(this),O},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof r["process"+O.toUpperCase()]=="function"},d=function(O){return Vr(O)==="object"&&O.nodeType===1},f=function(O,R){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var E=""+O.getAttribute("src");if(E.indexOf("data:image/")===0)return Vh(unescape(E).split("base64,").pop());var I=r.loadFile(E,!0);if(I!==void 0)return I}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var A;switch(R){case"PNG":A="image/png";break;case"WEBP":A="image/webp";break;case"JPEG":case"JPG":default:A="image/jpeg"}return Vh(O.toDataURL(A,1).split("base64,").pop())}},h=function(O){var R=this.internal.collections.addImage_images;if(R){for(var E in R)if(O===R[E].alias)return R[E]}},g=function(O,R,E){return O||R||(O=-96,R=-96),O<0&&(O=-1*E.width*72/O/this.internal.scaleFactor),R<0&&(R=-1*E.height*72/R/this.internal.scaleFactor),O===0&&(O=R*E.width/E.height),R===0&&(R=O*E.height/E.width),[O,R]},v=function(O,R,E,I,A,w){var _=g.call(this,E,I,A),x=this.internal.getCoordinateString,S=this.internal.getVerticalCoordinateString,C=a.call(this);if(E=_[0],I=_[1],C[A.index]=A,w){w*=Math.PI/180;var q=Math.cos(w),P=Math.sin(w),H=function(Z){return Z.toFixed(4)},X=[H(q),H(P),H(-1*P),H(q),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,x(O),S(R+I),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([x(E),"0","0",x(I),"0","0","cm"].join(" "))):this.internal.write([x(E),"0","0",x(I),x(O),S(R+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+A.index+" Do"),this.internal.write("Q")},p=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},m=r.__addimage__.sHashCode=function(O){var R,E,I=0;if(typeof O=="string")for(E=O.length,R=0;R<E;R++)I=(I<<5)-I+O.charCodeAt(R),I|=0;else if(F(O))for(E=O.byteLength/2,R=0;R<E;R++)I=(I<<5)-I+O[R],I|=0;return I},b=r.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var R=!0;return O.length===0&&(R=!1),O.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(R=!1),R},k=r.__addimage__.extractImageFromDataUrl=function(O){var R=(O=O||"").split("base64,"),E=null;if(R.length===2){var I=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(I)&&(E={mimeType:I[1],charset:I[2],data:R[1]})}return E},N=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(O){return N()&&O instanceof ArrayBuffer};var F=r.__addimage__.isArrayBufferView=function(O){return N()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},j=r.__addimage__.binaryStringToUint8Array=function(O){for(var R=O.length,E=new Uint8Array(R),I=0;I<R;I++)E[I]=O.charCodeAt(I);return E},T=r.__addimage__.arrayBufferToBinaryString=function(O){for(var R="",E=F(O)?O:new Uint8Array(O),I=0;I<E.length;I+=8192)R+=String.fromCharCode.apply(null,E.subarray(I,I+8192));return R};r.addImage=function(){var O,R,E,I,A,w,_,x,S;if(typeof arguments[1]=="number"?(R=t,E=arguments[1],I=arguments[2],A=arguments[3],w=arguments[4],_=arguments[5],x=arguments[6],S=arguments[7]):(R=arguments[1],E=arguments[2],I=arguments[3],A=arguments[4],w=arguments[5],_=arguments[6],x=arguments[7],S=arguments[8]),Vr(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var C=O;O=C.imageData,R=C.format||R||t,E=C.x||E||0,I=C.y||I||0,A=C.w||C.width||A,w=C.h||C.height||w,_=C.alias||_,x=C.compression||x,S=C.rotation||C.angle||S}var q=this.internal.getFilters();if(x===void 0&&q.indexOf("FlateEncode")!==-1&&(x="SLOW"),isNaN(E)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=M.call(this,O,R,_,x);return v.call(this,E,I,A,w,P,S),this};var M=function(O,R,E,I){var A,w,_;if(typeof O=="string"&&n(O)===t){O=unescape(O);var x=B(O,!1);(x!==""||(x=r.loadFile(O,!0))!==void 0)&&(O=x)}if(d(O)&&(O=f(O,R)),R=n(O,R),!c(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((_=E)==null||_.length===0)&&(E=function(S){return typeof S=="string"||F(S)?m(S):F(S.data)?m(S.data):null}(O)),(A=h.call(this,E))||(N()&&(O instanceof Uint8Array||R==="RGBA"||(w=O,O=j(O))),A=this["process"+R.toUpperCase()](O,l.call(this),E,function(S){return S&&typeof S=="string"&&(S=S.toUpperCase()),S in r.image_compression?S:y.NONE}(I),w)),!A)throw new Error("An unknown error occurred whilst processing the image.");return A},B=r.__addimage__.convertBase64ToBinaryString=function(O,R){var E;R=typeof R!="boolean"||R;var I,A="";if(typeof O=="string"){I=(E=k(O))!==null?E.data:O;try{A=Vh(I)}catch(w){if(R)throw b(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return A};r.getImageProperties=function(O){var R,E,I="";if(d(O)&&(O=f(O)),typeof O=="string"&&n(O)===t&&((I=B(O,!1))===""&&(I=r.loadFile(O)||""),O=I),E=n(O),!c(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(!N()||O instanceof Uint8Array||(O=j(O)),!(R=this["process"+E.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=E,R}})(Kt.API),function(r){var t=function(e){if(e!==void 0&&e!="")return!0};Kt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,s,i,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<l.length;f++){n=l[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+h(y(m))+") >>",v.content=i;var b=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(v.objId,"0 R",p.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+u(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var F=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,s,i,o){var u=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:a(e),y:l(n),w:a(e+s),h:l(n+i)},options:o,type:"link"})},r.textWithLink=function(e,n,s,i){var o,u,a=this.getTextWidth(e),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var c=this.splitTextToSize(e,u).length;o=Math.ceil(l*c)}else u=a,o=l;return this.text(e,n,s,i),s+=.2*l,i.align==="center"&&(n-=a/2),i.align==="right"&&(n-=a),this.link(n,s-l,u,o,i),a},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Kt.API),function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},u=r.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},a=r.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var l=r.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(v){var p=0,y=e,m="",b=0;for(p=0;p<v.length;p+=1)y[v.charCodeAt(p)]!==void 0?(b++,typeof(y=y[v.charCodeAt(p)])=="number"&&(m+=String.fromCharCode(y),y=e,b=0),p===v.length-1&&(y=e,m+=v.charAt(p-(b-1)),p-=b-1,b=0)):(y=e,m+=v.charAt(p-b),p-=b,b=0);return m};r.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var f=r.__arabicParser__.getCorrectForm=function(v,p,y){return o(v)?i(v)===!1?-1:!l(v)||!o(p)&&!o(y)||!o(y)&&u(p)||u(v)&&!o(p)||u(v)&&a(p)||u(v)&&u(p)?0:c(v)&&o(p)&&!u(p)&&o(y)&&l(y)?3:u(v)||!o(y)?1:2:-1},h=function(v){var p=0,y=0,m=0,b="",k="",N="",F=(v=v||"").split("\\s+"),j=[];for(p=0;p<F.length;p+=1){for(j.push(""),y=0;y<F[p].length;y+=1)b=F[p][y],k=F[p][y-1],N=F[p][y+1],o(b)?(m=f(b,k,N),j[p]+=m!==-1?String.fromCharCode(t[b.charCodeAt(0)][m]):b):j[p]+=b;j[p]=d(j[p])}return j.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var v,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(p)){var m=0;for(y=[],m=0;m<p.length;m+=1)Array.isArray(p[m])?y.push([h(p[m][0]),p[m][1],p[m][2]]):y.push([h(p[m])]);v=y}else v=h(p);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};r.events.push(["preProcessText",g])}(Kt.API),Kt.API.autoPrint=function(r){var t;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var s;if((e=e||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Kt.API),function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(v){a=v}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(a){return n.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},r.getTextDimensions=function(a,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),f=l.scaleFactor||this.internal.scaleFactor,h=0,g=0,v=0,p=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var y=l.maxWidth;y>0?typeof a=="string"?a=this.splitTextToSize(a,y):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(b,k){return b.concat(p.splitTextToSize(k,y))},[])):a=Array.isArray(a)?a:[a];for(var m=0;m<a.length;m++)h<(v=this.getStringUnitWidth(a[m],{font:d})*c)&&(h=v);return h!==0&&(g=a.length),{w:h/=f,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var a=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var a;a=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===a.lineNumber?(a.x=(l.x||0)+(l.width||0),a.y=l.y||0):l.y+l.height+a.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=d.top,h&&f&&(this.printHeaderRow(a.lineNumber,!0),a.y+=f[0].height)):a.y=l.y+l.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,e===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-c,a.y+c,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+c,{align:"center",baseline:"top",maxWidth:a.width-c-c}):this.text(a.text,a.x+c,a.y+c,{align:"left",baseline:"top",maxWidth:a.width-c-c})),this.internal.__cell__.lastCell=a,this};r.table=function(a,l,c,d,f){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,g,v,p,y=[],m=[],b=[],k={},N={},F=[],j=[],T=(f=f||{}).autoSize||!1,M=f.printHeaders!==!1,B=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,O=f.margins||Object.assign({width:this.getPageWidth()},t),R=typeof f.padding=="number"?f.padding:3,E=f.headerBackgroundColor||"#c8c8c8",I=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=I,this.setFontSize(B),d==null)m=y=Object.keys(c[0]),b=y.map(function(){return"left"});else if(Array.isArray(d)&&Vr(d[0])==="object")for(y=d.map(function(C){return C.name}),m=d.map(function(C){return C.prompt||C.name||""}),b=d.map(function(C){return C.align||"left"}),h=0;h<d.length;h+=1)N[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(m=y=d,b=y.map(function(){return"left"}));if(T||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<y.length;h+=1){for(k[p=y[h]]=c.map(function(C){return C[p]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=k[p],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)F.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[p]=Math.max.apply(null,F)+R+R,F=[]}if(M){var A={};for(h=0;h<y.length;h+=1)A[y[h]]={},A[y[h]].text=m[h],A[y[h]].align=b[h];var w=u.call(this,A,N);j=y.map(function(C){return new i(a,l,N[C],w,A[C].text,void 0,A[C].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var _=d.reduce(function(C,q){return C[q.name]=q.align,C},{});for(h=0;h<c.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:c[h]},this);var x=u.call(this,c[h],N);for(v=0;v<y.length;v+=1){var S=c[h][y[v]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:v,data:S},this),o.call(this,new i(a,l,N[y[v]],x,S,h+2,_[y[v]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=l,this};var u=function(a,l){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(a).map(function(h){var g=a[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,l[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+c+c},this).reduce(function(h,g){return Math.max(h,g)},0)};r.setTableHeaderRow=function(a){n.call(this),this.internal.__cell__.tableHeaderRow=a},r.printHeaderRow=function(a,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=a;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),e=!1}}(Kt.API);var X8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},G8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r2=W8(G8),K8=[100,200,300,400,500,600,700,800,900],Qj=W8(K8);function n2(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=function(i){return X8[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(i){return typeof r2[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:t,style:e,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:t,style:[s,e,n].join(" ")}}}function Qw(r,t,e,n){var s;for(s=e;s>=0&&s<t.length;s+=n)if(r[t[s]])return r[t[s]];for(s=e;s>=0&&s<t.length;s-=n)if(r[t[s]])return r[t[s]]}var Zj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Jw(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Jj(r,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",s=Object.assign({},Zj,e.genericFontFamilies||{}),i=null,o=null,u=0;u<t.length;++u)if(s[(i=n2(t[u])).family]&&(i.family=s[i.family]),r.hasOwnProperty(i.family)){o=r[i.family];break}if(!(o=o||r[n]))throw new Error("Could not find a font-family for the rule '"+Jw(i)+"' and default family '"+n+"'.");if(o=function(a,l){if(l[a])return l[a];var c=r2[a],d=c<=r2.normal?-1:1,f=Qw(l,G8,c,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+a);return f}(i.stretch,o),o=function(a,l){if(l[a])return l[a];for(var c=X8[a],d=0;d<c.length;++d)if(l[c[d]])return l[c[d]];throw new Error("Could not find a matching font-style for "+a)}(i.style,o),!(o=function(a,l){if(l[a])return l[a];if(a===400&&l[500])return l[500];if(a===500&&l[400])return l[400];var c=Qj[a],d=Qw(l,K8,c,a<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+a);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Jw(i)+"'.");return o}function e4(r){return r.trimLeft()}function eL(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function tL(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var Zd,t4,r4,yg=["times"];(function(r){var t,e,n,s,i,o,u,a,l,c=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new a,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,a=this.internal.Matrix,l=new c}]);var d=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(le){X=!!le}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(le){Z=!!le}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(le){isNaN(le)||(V=le)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(le){isNaN(le)||(Q=le)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(le){var ne;typeof le=="number"?ne=[le,le,le,le]:((ne=new Array(4))[0]=le[0],ne[1]=le.length>=2?le[1]:ne[0],ne[2]=le.length>=3?le[2]:ne[0],ne[3]=le.length>=4?le[3]:ne[1]),l.margin=ne}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(le){z=le}});var D=0;Object.defineProperty(this,"lastBreak",{get:function(){return D},set:function(le){D=le}});var W=[];Object.defineProperty(this,"pageBreaks",{get:function(){return W},set:function(le){W=le}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(le){le instanceof c&&(l=le)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(le){l.path=le}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(le){ee=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ne;ne=f(le),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ne=f(le);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var oe=null;function ie(le,ne){if(oe===null){var se=function(ye){var me=[];return Object.keys(ye).forEach(function(we){ye[we].forEach(function(_e){var Se=null;switch(_e){case"bold":Se={family:we,weight:"bold"};break;case"italic":Se={family:we,style:"italic"};break;case"bolditalic":Se={family:we,weight:"bold",style:"italic"};break;case"":case"normal":Se={family:we}}Se!==null&&(Se.ref={name:we,style:_e},me.push(Se))})}),me}(le.getFontList());oe=function(ye){for(var me={},we=0;we<ye.length;++we){var _e=n2(ye[we]),Se=_e.family,Te=_e.stretch,je=_e.style,Ue=_e.weight;me[Se]=me[Se]||{},me[Se][Te]=me[Se][Te]||{},me[Se][Te][je]=me[Se][Te][je]||{},me[Se][Te][je][Ue]=_e}return me}(se.concat(ne))}return oe}var ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return ae},set:function(le){oe=null,ae=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ne;if(this.ctx.font=le,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var se=ne[1],ye=(ne[2],ne[3]),me=ne[4],we=(ne[5],ne[6]),_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(_e==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var Se=function(rt){var ut,He,_t=[],Qe=rt.trim();if(Qe==="")return yg;if(Qe in Zw)return[Zw[Qe]];for(;Qe!=="";){switch(He=null,ut=(Qe=e4(Qe)).charAt(0)){case'"':case"'":He=eL(Qe.substring(1),ut);break;default:He=tL(Qe)}if(He===null||(_t.push(He[0]),(Qe=e4(He[1]))!==""&&Qe.charAt(0)!==","))return yg;Qe=Qe.replace(/^,/,"")}return _t}(we);if(this.fontFaces){var Te=Jj(ie(this.pdf,this.fontFaces),Se.map(function(rt){return{family:rt,stretch:"normal",weight:ye,style:se}}));this.pdf.setFont(Te.ref.name,Te.ref.style)}else{var je="";(ye==="bold"||parseInt(ye,10)>=700||se==="bold")&&(je="bold"),se==="italic"&&(je+="italic"),je.length===0&&(je="normal");for(var Ue="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},We=0;We<Se.length;We++){if(this.pdf.internal.getFont(Se[We],je,{noFallback:!0,disableWarning:!0})!==void 0){Ue=Se[We];break}if(je==="bolditalic"&&this.pdf.internal.getFont(Se[We],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=Se[We],je="bold";else if(this.pdf.internal.getFont(Se[We],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=Se[We],je="normal";break}}if(Ue===""){for(var Ke=0;Ke<Se.length;Ke++)if(qe[Se[Ke]]){Ue=qe[Se[Ke]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};d.prototype.setLineDash=function(P){this.lineDash=P},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){k.call(this,"fill",!1)},d.prototype.stroke=function(){k.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(P,H)},d.prototype.closePath=function(){var P=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Vr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},d.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},d.prototype.quadraticCurveTo=function(P,H,X,Z){if(isNaN(X)||isNaN(Z)||isNaN(P)||isNaN(H))throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new o(X,Z)),Q=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.bezierCurveTo=function(P,H,X,Z,V,Q){if(isNaN(V)||isNaN(Q)||isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new o(V,Q)),D=this.ctx.transform.applyToPoint(new o(P,H)),W=this.ctx.transform.applyToPoint(new o(X,Z));this.path.push({type:"bct",x1:D.x,y1:D.y,x2:W.x,y2:W.y,x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},d.prototype.arc=function(P,H,X,Z,V,Q){if(isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z)||isNaN(V))throw Gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new o(P,H));P=z.x,H=z.y;var D=this.ctx.transform.applyToPoint(new o(0,X)),W=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(D.x-W.x,2)+Math.pow(D.y-W.y,2))}Math.abs(V-Z)>=2*Math.PI&&(Z=0,V=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:X,startAngle:Z,endAngle:V,counterclockwise:Q})},d.prototype.arcTo=function(P,H,X,Z,V){throw new Error("arcTo not implemented.")},d.prototype.rect=function(P,H,X,Z){if(isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+X,H),this.lineTo(P+X,H+Z),this.lineTo(P,H+Z),this.lineTo(P,H),this.lineTo(P+X,H),this.lineTo(P,H)},d.prototype.fillRect=function(P,H,X,Z){if(isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,X,Z),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},d.prototype.strokeRect=function(P,H,X,Z){if(isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,H,X,Z),this.stroke())},d.prototype.clearRect=function(P,H,X,Z){if(isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,X,Z))},d.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},d.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(P){var H,X,Z,V;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,X=0,Z=0,V=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Q!==null)H=parseInt(Q[1]),X=parseInt(Q[2]),Z=parseInt(Q[3]),V=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(Q[1]),X=parseInt(Q[2]),Z=parseInt(Q[3]),V=parseFloat(Q[4]);else{if(V=1,typeof P=="string"&&P.charAt(0)!=="#"){var z=new U8(P);P=z.ok?z.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,X=P.substring(2,3),X+=X,Z=P.substring(3,4),Z+=Z):(H=P.substring(1,3),X=P.substring(3,5),Z=P.substring(5,7)),H=parseInt(H,16),X=parseInt(X,16),Z=parseInt(Z,16)}}return{r:H,g:X,b:Z,a:V,style:P}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(P,H,X,Z){if(isNaN(H)||isNaN(X)||typeof P!="string")throw Gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var V=x(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;R.call(this,{text:P,x:H,y:X,scale:Q,angle:V,align:this.textAlign,maxWidth:Z})}},d.prototype.strokeText=function(P,H,X,Z){if(isNaN(H)||isNaN(X)||typeof P!="string")throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Z=isNaN(Z)?void 0:Z;var V=x(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;R.call(this,{text:P,x:H,y:X,scale:Q,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:Z})}},d.prototype.measureText=function(P){if(typeof P!="string")throw Gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,X=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),V=H.getStringUnitWidth(P)*Z/H.internal.scaleFactor,Q=function(z){var D=(z=z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return D}}),this};return new Q({width:V*=Math.round(96*X/72*1e4)/1e4})},d.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw Gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new a(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.rotate=function(P){if(isNaN(P))throw Gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new a(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw Gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new a(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.transform=function(P,H,X,Z,V,Q){if(isNaN(P)||isNaN(H)||isNaN(X)||isNaN(Z)||isNaN(V)||isNaN(Q))throw Gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new a(P,H,X,Z,V,Q);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.setTransform=function(P,H,X,Z,V,Q){P=isNaN(P)?1:P,H=isNaN(H)?0:H,X=isNaN(X)?0:X,Z=isNaN(Z)?1:Z,V=isNaN(V)?0:V,Q=isNaN(Q)?0:Q,this.ctx.transform=new a(P,H,X,Z,V,Q)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(P,H,X,Z,V,Q,z,D,W){var ee=this.pdf.getImageProperties(P),oe=1,ie=1,ae=1,le=1;Z!==void 0&&D!==void 0&&(ae=D/Z,le=W/V,oe=ee.width/Z*D/Z,ie=ee.height/V*W/V),Q===void 0&&(Q=H,z=X,H=0,X=0),Z!==void 0&&D===void 0&&(D=Z,W=V),Z===void 0&&D===void 0&&(D=ee.width,W=ee.height);for(var ne,se=this.ctx.transform.decompose(),ye=x(se.rotate.shx),me=new a,we=(me=(me=(me=me.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new u(Q-H*ae,z-X*le,Z*oe,V*ie)),_e=p.call(this,we),Se=[],Te=0;Te<_e.length;Te+=1)Se.indexOf(_e[Te])===-1&&Se.push(_e[Te]);if(b(Se),this.autoPaging)for(var je=Se[0],Ue=Se[Se.length-1],qe=je;qe<Ue+1;qe++){this.pdf.setPage(qe);var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=qe===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=qe===1?0:rt+(qe-2)*ut;if(this.ctx.clip_path.length!==0){var _t=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(ne,this.posX+this.margin[3],-He+Ke+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=_t}var Qe=JSON.parse(JSON.stringify(we));Qe=m([Qe],this.posX+this.margin[3],-He+Ke+this.ctx.prevPageLastElemOffset)[0];var at=(qe>je||qe<Ue)&&v.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,ut,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,ye),at&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",we.x,we.y,we.w,we.h,null,null,ye)};var p=function(P,H,X){var Z=[];H=H||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Z.push(Math.floor((P.y+V)/X)+1);break;case"arc":Z.push(Math.floor((P.y+V-P.radius)/X)+1),Z.push(Math.floor((P.y+V+P.radius)/X)+1);break;case"qct":var Q=S(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Z.push(Math.floor((Q.y+V)/X)+1),Z.push(Math.floor((Q.y+Q.h+V)/X)+1);break;case"bct":var z=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Z.push(Math.floor((z.y+V)/X)+1),Z.push(Math.floor((z.y+z.h+V)/X)+1);break;case"rect":Z.push(Math.floor((P.y+V)/X)+1),Z.push(Math.floor((P.y+P.h+V)/X)+1)}for(var D=0;D<Z.length;D+=1)for(;this.pdf.internal.getNumberOfPages()<Z[D];)y.call(this);return Z},y=function(){var P=this.fillStyle,H=this.strokeStyle,X=this.font,Z=this.lineCap,V=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=X,this.lineCap=Z,this.lineWidth=V,this.lineJoin=Q},m=function(P,H,X){for(var Z=0;Z<P.length;Z++)switch(P[Z].type){case"bct":P[Z].x2+=H,P[Z].y2+=X;case"qct":P[Z].x1+=H,P[Z].y1+=X;case"mt":case"lt":case"arc":default:P[Z].x+=H,P[Z].y+=X}return P},b=function(P){return P.sort(function(H,X){return H-X})},k=function(P,H){for(var X,Z,V=this.fillStyle,Q=this.strokeStyle,z=this.lineCap,D=this.lineWidth,W=Math.abs(D*this.ctx.transform.scaleX),ee=this.lineJoin,oe=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),ae=[],le=0;le<ie.length;le++)if(ie[le].x!==void 0)for(var ne=p.call(this,ie[le]),se=0;se<ne.length;se+=1)ae.indexOf(ne[se])===-1&&ae.push(ne[se]);for(var ye=0;ye<ae.length;ye++)for(;this.pdf.internal.getNumberOfPages()<ae[ye];)y.call(this);if(b(ae),this.autoPaging)for(var me=ae[0],we=ae[ae.length-1],_e=me;_e<we+1;_e++){this.pdf.setPage(_e),this.fillStyle=V,this.strokeStyle=Q,this.lineCap=z,this.lineWidth=W,this.lineJoin=ee;var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=_e===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=_e===1?0:je+(_e-2)*Ue;if(this.ctx.clip_path.length!==0){var We=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(X,this.posX+this.margin[3],-qe+Te+this.ctx.prevPageLastElemOffset),N.call(this,P,!0),this.path=We}if(Z=JSON.parse(JSON.stringify(oe)),this.path=m(Z,this.posX+this.margin[3],-qe+Te+this.ctx.prevPageLastElemOffset),H===!1||_e===0){var Ke=(_e>me||_e<we)&&v.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,Ue,null).clip().discardPath()),N.call(this,P,H),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=D}else this.lineWidth=W,N.call(this,P,H),this.lineWidth=D;this.path=oe},N=function(P,H){if((P!=="stroke"||H||!g.call(this))&&(P==="stroke"||H||!h.call(this))){for(var X,Z,V=[],Q=this.path,z=0;z<Q.length;z++){var D=Q[z];switch(D.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:D,deltas:[],abs:[]});break;case"lt":var W=V.length;if(Q[z-1]&&!isNaN(Q[z-1].x)&&(X=[D.x-Q[z-1].x,D.y-Q[z-1].y],W>0)){for(;W>=0;W--)if(V[W-1].close!==!0&&V[W-1].begin!==!0){V[W-1].deltas.push(X),V[W-1].abs.push(D);break}}break;case"bct":X=[D.x1-Q[z-1].x,D.y1-Q[z-1].y,D.x2-Q[z-1].x,D.y2-Q[z-1].y,D.x-Q[z-1].x,D.y-Q[z-1].y],V[V.length-1].deltas.push(X);break;case"qct":var ee=Q[z-1].x+2/3*(D.x1-Q[z-1].x),oe=Q[z-1].y+2/3*(D.y1-Q[z-1].y),ie=D.x+2/3*(D.x1-D.x),ae=D.y+2/3*(D.y1-D.y),le=D.x,ne=D.y;X=[ee-Q[z-1].x,oe-Q[z-1].y,ie-Q[z-1].x,ae-Q[z-1].y,le-Q[z-1].x,ne-Q[z-1].y],V[V.length-1].deltas.push(X);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(D)}}Z=H?null:P==="stroke"?"stroke":"fill";for(var se=!1,ye=0;ye<V.length;ye++)if(V[ye].arc)for(var me=V[ye].abs,we=0;we<me.length;we++){var _e=me[we];_e.type==="arc"?T.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,H,!se):E.call(this,_e.x,_e.y),se=!0}else if(V[ye].close===!0)this.pdf.internal.out("h"),se=!1;else if(V[ye].begin!==!0){var Se=V[ye].start.x,Te=V[ye].start.y;I.call(this,V[ye].deltas,Se,Te),se=!0}Z&&M.call(this,Z),H&&B.call(this)}},F=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-X;case"top":return P+H-X;case"hanging":return P+H-2*X;case"middle":return P+H/2-X;case"ideographic":return P;case"alphabetic":default:return P}},j=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,X){this.colorStops.push([H,X])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(P,H,X,Z,V,Q,z,D,W){for(var ee=w.call(this,X,Z,V,Q),oe=0;oe<ee.length;oe++){var ie=ee[oe];oe===0&&(W?O.call(this,ie.x1+P,ie.y1+H):E.call(this,ie.x1+P,ie.y1+H)),A.call(this,P,H,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}D?B.call(this):M.call(this,z)},M=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,H){this.pdf.internal.out(e(P)+" "+n(H)+" m")},R=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var X=this.pdf.getTextDimensions(P.text),Z=F.call(this,P.y),V=j.call(this,Z)-X.h,Q=this.ctx.transform.applyToPoint(new o(P.x,Z)),z=this.ctx.transform.decompose(),D=new a;D=(D=(D=D.multiply(z.translate)).multiply(z.skew)).multiply(z.scale);for(var W,ee,oe,ie=this.ctx.transform.applyToRectangle(new u(P.x,Z,X.w,X.h)),ae=D.applyToRectangle(new u(P.x,V,X.w,X.h)),le=p.call(this,ae),ne=[],se=0;se<le.length;se+=1)ne.indexOf(le[se])===-1&&ne.push(le[se]);if(b(ne),this.autoPaging)for(var ye=ne[0],me=ne[ne.length-1],we=ye;we<me+1;we++){this.pdf.setPage(we);var _e=we===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],je=Te-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],qe=Ue-this.margin[3],We=we===1?0:Se+(we-2)*je;if(this.ctx.clip_path.length!==0){var Ke=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(W,this.posX+this.margin[3],-1*We+_e),N.call(this,"fill",!0),this.path=Ke}var rt=m([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-We+_e+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*P.scale),oe=this.lineWidth,this.lineWidth=oe*P.scale);var ut=this.autoPaging!=="text";if(ut||rt.y+rt.h<=Te){if(ut||rt.y>=_e&&rt.x<=Ue){var He=ut?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Ue-rt.x)[0],_t=m([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-We+_e+this.ctx.prevPageLastElemOffset)[0],Qe=ut&&(we>ye||we<me)&&v.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,je,null).clip().discardPath()),this.pdf.text(He,_t.x,_t.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else rt.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-rt.y);P.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=oe)}else P.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*P.scale),oe=this.lineWidth,this.lineWidth=oe*P.scale),this.pdf.text(P.text,Q.x+this.posX,Q.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=oe)},E=function(P,H,X,Z){X=X||0,Z=Z||0,this.pdf.internal.out(e(P+X)+" "+n(H+Z)+" l")},I=function(P,H,X){return this.pdf.lines(P,H,X,null,null)},A=function(P,H,X,Z,V,Q,z,D){this.pdf.internal.out([t(s(X+P)),t(i(Z+H)),t(s(V+P)),t(i(Q+H)),t(s(z+P)),t(i(D+H)),"c"].join(" "))},w=function(P,H,X,Z){for(var V=2*Math.PI,Q=Math.PI/2;H>X;)H-=V;var z=Math.abs(X-H);z<V&&Z&&(z=V-z);for(var D=[],W=Z?-1:1,ee=H;z>1e-5;){var oe=ee+W*Math.min(z,Q);D.push(_.call(this,P,ee,oe)),z-=Math.abs(oe-ee),ee=oe}return D},_=function(P,H,X){var Z=(X-H)/2,V=P*Math.cos(Z),Q=P*Math.sin(Z),z=V,D=-Q,W=z*z+D*D,ee=W+z*V+D*Q,oe=4/3*(Math.sqrt(2*W*ee)-ee)/(z*Q-D*V),ie=z-oe*D,ae=D+oe*z,le=ie,ne=-ae,se=Z+H,ye=Math.cos(se),me=Math.sin(se);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:ie*ye-ae*me,y2:ie*me+ae*ye,x3:le*ye-ne*me,y3:le*me+ne*ye,x4:P*Math.cos(X),y4:P*Math.sin(X)}},x=function(P){return 180*P/Math.PI},S=function(P,H,X,Z,V,Q){var z=P+.5*(X-P),D=H+.5*(Z-H),W=V+.5*(X-V),ee=Q+.5*(Z-Q),oe=Math.min(P,V,z,W),ie=Math.max(P,V,z,W),ae=Math.min(H,Q,D,ee),le=Math.max(H,Q,D,ee);return new u(oe,ae,ie-oe,le-ae)},C=function(P,H,X,Z,V,Q,z,D){var W,ee,oe,ie,ae,le,ne,se,ye,me,we,_e,Se,Te,je=X-P,Ue=Z-H,qe=V-X,We=Q-Z,Ke=z-V,rt=D-Q;for(ee=0;ee<41;ee++)ye=(ne=(oe=P+(W=ee/40)*je)+W*((ae=X+W*qe)-oe))+W*(ae+W*(V+W*Ke-ae)-ne),me=(se=(ie=H+W*Ue)+W*((le=Z+W*We)-ie))+W*(le+W*(Q+W*rt-le)-se),ee==0?(we=ye,_e=me,Se=ye,Te=me):(we=Math.min(we,ye),_e=Math.min(_e,me),Se=Math.max(Se,ye),Te=Math.max(Te,me));return new u(Math.round(we),Math.round(_e),Math.round(Se-we),Math.round(Te-_e))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,X=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Kt.API),function(r){var t=function(i){var o,u,a,l,c,d,f,h,g,v;for(u=[],a=0,l=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;l>a;a+=4)(c=(i.charCodeAt(a)<<24)+(i.charCodeAt(a+1)<<16)+(i.charCodeAt(a+2)<<8)+i.charCodeAt(a+3))!==0?(d=(c=((c=((c=((c=(c-(v=c%85))/85)-(g=c%85))/85)-(h=c%85))/85)-(f=c%85))/85)%85,u.push(d+33,f+33,h+33,g+33,v+33)):u.push(122);return function(p,y){for(var m=y;m>0;m--)p.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},e=function(i){var o,u,a,l,c,d=String,f="length",h=255,g="charCodeAt",v="slice",p="replace";for(i[v](-2),i=i[v](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),a=[],l=0,c=(i+=o="uuuuu"[v](i[f]%5||5))[f];c>l;l+=5)u=52200625*(i[g](l)-33)+614125*(i[g](l+1)-33)+7225*(i[g](l+2)-33)+85*(i[g](l+3)-33)+(i[g](l+4)-33),a.push(h&u>>24,h&u>>16,h&u>>8,h&u);return function(y,m){for(var b=m;b>0;b--)y.pop()}(a,o[f]),d.fromCharCode.apply(d,a)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var u="",a=0;a<i.length;a+=2)u+=String.fromCharCode("0x"+(i[a]+i[a+1]));return u},s=function(i){for(var o=new Uint8Array(i.length),u=i.length;u--;)o[u]=i.charCodeAt(u);return i=(o=Q1(o)).reduce(function(a,l){return a+String.fromCharCode(l)},"")};r.processDataByFilters=function(i,o){var u=0,a=i||"",l=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":a=e(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=s(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(Kt.API),function(r){r.loadFile=function(t,e,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(a,l,c){var d=new XMLHttpRequest,f=0,h=function(g){var v=g.length,p=[],y=String.fromCharCode;for(f=0;f<v;f+=1)p.push(y(255&g.charCodeAt(f)));return p.join("")};if(d.open("GET",a,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?c(h(this.responseText)):c(void 0)}),d.send(null),l&&d.status===200)return h(d.responseText)}(s,i,o)}catch{}return u}(t,e,n)},r.loadImageFile=r.loadFile}(Kt.API),function(r){function t(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):Sf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):Sf(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var u=Vr(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(o,u){var a=document.createElement(o);for(var l in u.className&&(a.className=u.className),u.innerHTML&&u.dompurify&&(a.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)a.style[l]=u.style[l];return a},i=function o(u){var a=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),l=o.convert(Promise.resolve(),a);return l=(l=l.setProgress(1,o,1,[o])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,u){return o.__proto__=u||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(a){switch(n(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(a){return this.set({src:s("div",{innerHTML:o,dompurify:a})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function a(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(a(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,u(this.prop.container,a)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var a=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=l,l)for(var f=0;f<l.length;++f){var h=l[f],g=h.src.find(function(v){return v.format==="truetype"});g&&a.addFont(g.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,a.context2d.save(!0),u(this.prop.container,d)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,u,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},i.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var u=Object.keys(o||{}).map(function(a){if(a in i.template.prop)return function(){this.prop[a]=o[a]};switch(a){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[a]=o[a]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(o,u){return this.then(function(){var a=o in i.template.prop?this.prop[o]:this.opt[o];return u?u(a):a})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function u(a,l){return Math.floor(a*l/72*96)}return this.then(function(){(o=o||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,u,a,l){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),a!=null&&(this.progress.n=a),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,u,a,l){return this.setProgress(o?this.progress.val+o:null,u||null,a?this.progress.n+a:null,l?this.progress.stack.concat(l):null)},i.prototype.then=function(o,u){var a=this;return this.thenCore(o,u,function(l,c){return a.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(d){return a.updateProgress(null,l),d}).then(l,c).then(function(d){return a.updateProgress(1),d})})},i.prototype.thenCore=function(o,u,a){a=a||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=a.call(l,o,u);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},i.prototype.thenList=function(o){var u=this;return o.forEach(function(a){u=u.thenCore(a)}),u},i.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return i.convert(u,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Kt.getPageSize=function(o,u,a){if(Vr(o)==="object"){var l=o;o=l.orientation,u=l.unit||u,a=l.format||a}u=u||"mm",a=a||"a4",o=(""+(o||"P")).toLowerCase();var c,d=(""+a).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+u}var h,g=0,v=0;if(f.hasOwnProperty(d))g=f[d][1]/c,v=f[d][0]/c;else try{g=a[1],v=a[0]}catch{throw new Error("Invalid format: "+a)}if(o==="p"||o==="portrait")o="p",v>g&&(h=v,v=g,g=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>v&&(h=v,v=g,g=h)}return{width:v,height:g,unit:u,k:c,orientation:o}},r.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(n2):null;var a=new i(u);return u.worker?a:a.from(o).doCallback()}}(Kt.API),Kt.API.addJS=function(r){return r4=r,this.internal.events.subscribe("postPutResources",function(){Zd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zd!==void 0&&t4!==void 0&&this.internal.out("/Names <</JavaScript "+Zd+" 0 R>>")}),this},function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],u=n.exec(o);if(u!=null){var a=u[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var d=e.internal.newObject();c.push(d);var f=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var a=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Kt.API),function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,s,i,o,u){var a,l=this.decode.DCT_DECODE,c=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,v={width:0,height:0,numcomponents:1},p=4;p<g;p+=2){if(p+=h,t.indexOf(d.charCodeAt(p+1))!==-1){f=256*d.charCodeAt(p+5)+d.charCodeAt(p+6),v={width:256*d.charCodeAt(p+7)+d.charCodeAt(p+8),height:f,numcomponents:d.charCodeAt(p+9)};break}h=256*d.charCodeAt(p+2)+d.charCodeAt(p+3)}return v}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}c={data:e,width:a.width,height:a.height,colorSpace:u,bitsPerComponent:8,filter:l,index:n,alias:s}}return c}}(Kt.API);var Hu,Jd,n4,i4,s4,rL=function(){var r,t,e;function n(i){var o,u,a,l,c,d,f,h,g,v,p,y,m,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),g=(function(){var k,N;for(N=[],k=0;k<4;++k)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,d.delay=1e3*c/l,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((v=a-this.transparency.indexed.length)>0)for(m=0;0<=v?m<v:m>v;0<=v?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(p=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,p.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,p.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,u;for(u=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),a=0,l=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(d,f,h,g){var v,p,y,m,b,k,N,F,j,T,M,B,O,R,E,I,A,w,_,x,S,C=Math.ceil((l.width-d)/h),q=Math.ceil((l.height-f)/g),P=l.width==C&&l.height==q;for(R=o*C,B=P?u:new Uint8Array(R*q),k=i.length,O=0,p=0;O<q&&a<k;){switch(i[a++]){case 0:for(m=A=0;A<R;m=A+=1)B[p++]=i[a++];break;case 1:for(m=w=0;w<R;m=w+=1)v=i[a++],b=m<o?0:B[p-o],B[p++]=(v+b)%256;break;case 2:for(m=_=0;_<R;m=_+=1)v=i[a++],y=(m-m%o)/o,E=O&&B[(O-1)*R+y*o+m%o],B[p++]=(E+v)%256;break;case 3:for(m=x=0;x<R;m=x+=1)v=i[a++],y=(m-m%o)/o,b=m<o?0:B[p-o],E=O&&B[(O-1)*R+y*o+m%o],B[p++]=(v+Math.floor((b+E)/2))%256;break;case 4:for(m=S=0;S<R;m=S+=1)v=i[a++],y=(m-m%o)/o,b=m<o?0:B[p-o],O===0?E=I=0:(E=B[(O-1)*R+y*o+m%o],I=y&&B[(O-1)*R+(y-1)*o+m%o]),N=b+E-I,F=Math.abs(N-b),T=Math.abs(N-E),M=Math.abs(N-I),j=F<=T&&F<=M?b:T<=M?E:I,B[p++]=(v+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[a-1])}if(!P){var H=((f+O*g)*l.width+d)*o,X=O*R;for(m=0;m<C;m+=1){for(var Z=0;Z<o;Z+=1)u[H++]=B[X++];H+=(h-1)*o}}O++}}return i=Mj(i),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),u},n.prototype.decodePalette=function(){var i,o,u,a,l,c,d,f,h;for(u=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+u.length),a=0,i=0,o=d=0,f=u.length;d<f;o=d+=3)l[a++]=u[o],l[a++]=u[o+1],l[a++]=u[o+2],l[a++]=(h=c[i++])!=null?h:255;return l},n.prototype.copyToImageData=function(i,o){var u,a,l,c,d,f,h,g,v,p,y;if(a=this.colors,v=null,u=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),a=4,u=!0),g=(l=i.data||i).length,d=v||o,c=f=0,a===1)for(;c<g;)h=v?4*o[c/4]:f,p=d[h++],l[c++]=p,l[c++]=p,l[c++]=p,l[c++]=u?d[h++]:255,f=h;else for(;c<g;)h=v?4*o[c/4]:f,l[c++]=d[h++],l[c++]=d[h++],l[c++]=d[h++],l[c++]=u?d[h++]:255,f=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Jt)==="[object Window]"){try{t=Jt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(i){var o;if(s()===!0)return e.width=i.width,e.height=i.height,e.clearRect(0,0,i.width,i.height),e.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,u,a,l,c,d,f,h;if(this.animation){for(h=[],u=c=0,d=(f=this.animation.frames).length;c<d;u=++c)o=f[u],a=i.createImageData(o.width,o.height),l=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(a,l),o.imageData=a,h.push(o.image=r(a));return h}},n.prototype.renderFrame=function(i,o){var u,a,l;return u=(a=this.animation.frames)[o],l=a[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?i.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&i.putImageData(l.imageData,l.xOffset,l.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(i){var o,u,a,l,c,d,f=this;return u=0,d=this.animation,l=d.numFrames,a=d.frames,c=d.numPlays,(o=function(){var h,g;if(h=u++%l,g=a[h],f.renderFrame(i,h),l>1&&u/l<c)return f.animation._timeout=setTimeout(o,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nL(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,s=r[t++],i=s>>7,o=1<<(7&s)+1;r[t++],r[t++];var u=null,a=null;i&&(u=t,a=o,t+=3*o);var l=!0,c=[],d=0,f=null,h=0,g=null;for(this.width=e,this.height=n;l&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,g=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((O=r[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=r[t++];d=r[t++]|r[t++]<<8,f=r[t++],!(1&v)&&(f=null),h=v>>2&7,t++;break;case 254:for(;;){if(!((O=r[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var p=r[t++]|r[t++]<<8,y=r[t++]|r[t++]<<8,m=r[t++]|r[t++]<<8,b=r[t++]|r[t++]<<8,k=r[t++],N=k>>6&1,F=1<<(7&k)+1,j=u,T=a,M=!1;k>>7&&(M=!0,j=t,T=F,t+=3*F);var B=t;for(t++;;){var O;if(!((O=r[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}c.push({x:p,y,width:m,height:b,has_local_palette:M,palette_offset:j,palette_size:T,data_offset:B,data_length:t-B,transparent_index:f,interlaced:!!N,delay:d,disposal:h});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(R){if(R<0||R>=c.length)throw new Error("Frame index out of range.");return c[R]},this.decodeAndBlitFrameBGRA=function(R,E){var I=this.frameInfo(R),A=I.width*I.height,w=new Uint8Array(A);o4(r,I.data_offset,w,A);var _=I.palette_offset,x=I.transparent_index;x===null&&(x=256);var S=I.width,C=e-S,q=S,P=4*(I.y*e+I.x),H=4*((I.y+I.height)*e+I.x),X=P,Z=4*C;I.interlaced===!0&&(Z+=4*e*7);for(var V=8,Q=0,z=w.length;Q<z;++Q){var D=w[Q];if(q===0&&(q=S,(X+=Z)>=H&&(Z=4*C+4*e*(V-1),X=P+(S+C)*(V<<1),V>>=1)),D===x)X+=4;else{var W=r[_+3*D],ee=r[_+3*D+1],oe=r[_+3*D+2];E[X++]=oe,E[X++]=ee,E[X++]=W,E[X++]=255}--q}},this.decodeAndBlitFrameRGBA=function(R,E){var I=this.frameInfo(R),A=I.width*I.height,w=new Uint8Array(A);o4(r,I.data_offset,w,A);var _=I.palette_offset,x=I.transparent_index;x===null&&(x=256);var S=I.width,C=e-S,q=S,P=4*(I.y*e+I.x),H=4*((I.y+I.height)*e+I.x),X=P,Z=4*C;I.interlaced===!0&&(Z+=4*e*7);for(var V=8,Q=0,z=w.length;Q<z;++Q){var D=w[Q];if(q===0&&(q=S,(X+=Z)>=H&&(Z=4*C+4*e*(V-1),X=P+(S+C)*(V<<1),V>>=1)),D===x)X+=4;else{var W=r[_+3*D],ee=r[_+3*D+1],oe=r[_+3*D+2];E[X++]=W,E[X++]=ee,E[X++]=oe,E[X++]=255}--q}}}function o4(r,t,e,n){for(var s=r[t++],i=1<<s,o=i+1,u=o+1,a=s+1,l=(1<<a)-1,c=0,d=0,f=0,h=r[t++],g=new Int32Array(4096),v=null;;){for(;c<16&&h!==0;)d|=r[t++]<<c,c+=8,h===1?h=r[t++]:--h;if(c<a)break;var p=d&l;if(d>>=a,c-=a,p!==i){if(p===o)break;for(var y=p<u?p:v,m=0,b=y;b>i;)b=g[b]>>8,++m;var k=b;if(f+m+(y!==p?1:0)>n)return void Gr.log("Warning, gif stream longer than expected.");e[f++]=k;var N=f+=m;for(y!==p&&(e[f++]=k),b=y;m--;)b=g[b],e[--N]=255&b,b>>=8;v!==null&&u<4096&&(g[u++]=v<<8|k,u>=l+1&&a<12&&(++a,l=l<<1|1)),v=p}else u=o+1,l=(1<<(a=s+1))-1,v=null}return f!==n&&Gr.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vg(r){var t,e,n,s,i,o=Math.floor,u=new Array(64),a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),v=[],p=0,y=7,m=new Array(64),b=new Array(64),k=new Array(64),N=new Array(256),F=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(P,H){for(var X=0,Z=0,V=new Array,Q=1;Q<=16;Q++){for(var z=1;z<=P[Q];z++)V[H[Z]]=[],V[H[Z]][0]=X,V[H[Z]][1]=Q,Z++,X++;X*=2}return V}function _(P){for(var H=P[0],X=P[1]-1;X>=0;)H&1<<X&&(p|=1<<y),X--,--y<0&&(p==255?(x(255),x(0)):x(p),y=7,p=0)}function x(P){v.push(P)}function S(P){x(P>>8&255),x(255&P)}function C(P,H,X,Z,V){for(var Q,z=V[0],D=V[240],W=function(me,we){var _e,Se,Te,je,Ue,qe,We,Ke,rt,ut,He=0;for(rt=0;rt<8;++rt){_e=me[He],Se=me[He+1],Te=me[He+2],je=me[He+3],Ue=me[He+4],qe=me[He+5],We=me[He+6];var _t=_e+(Ke=me[He+7]),Qe=_e-Ke,at=Se+We,nt=Se-We,yt=Te+qe,xt=Te-qe,Ct=je+Ue,ar=je-Ue,wt=_t+Ct,Xt=_t-Ct,$t=at+yt,At=at-yt;me[He]=wt+$t,me[He+4]=wt-$t;var vt=.707106781*(At+Xt);me[He+2]=Xt+vt,me[He+6]=Xt-vt;var Nt=.382683433*((wt=ar+xt)-(At=nt+Qe)),Rt=.5411961*wt+Nt,qt=1.306562965*At+Nt,er=.707106781*($t=xt+nt),Dt=Qe+er,ct=Qe-er;me[He+5]=ct+Rt,me[He+3]=ct-Rt,me[He+1]=Dt+qt,me[He+7]=Dt-qt,He+=8}for(He=0,rt=0;rt<8;++rt){_e=me[He],Se=me[He+8],Te=me[He+16],je=me[He+24],Ue=me[He+32],qe=me[He+40],We=me[He+48];var ir=_e+(Ke=me[He+56]),Ut=_e-Ke,ke=Se+We,Ne=Se-We,ze=Te+qe,st=Te-qe,Ft=je+Ue,pt=je-Ue,Mt=ir+Ft,Ve=ir-Ft,it=ke+ze,St=ke-ze;me[He]=Mt+it,me[He+32]=Mt-it;var bt=.707106781*(St+Ve);me[He+16]=Ve+bt,me[He+48]=Ve-bt;var Lt=.382683433*((Mt=pt+st)-(St=Ne+Ut)),or=.5411961*Mt+Lt,yr=1.306562965*St+Lt,Mr=.707106781*(it=st+Ne),Dr=Ut+Mr,on=Ut-Mr;me[He+40]=on+or,me[He+24]=on-or,me[He+8]=Dr+yr,me[He+56]=Dr-yr,He++}for(rt=0;rt<64;++rt)ut=me[rt]*we[rt],h[rt]=ut>0?ut+.5|0:ut-.5|0;return h}(P,H),ee=0;ee<64;++ee)g[j[ee]]=W[ee];var oe=g[0]-X;X=g[0],oe==0?_(Z[0]):(_(Z[f[Q=32767+oe]]),_(d[Q]));for(var ie=63;ie>0&&g[ie]==0;)ie--;if(ie==0)return _(z),X;for(var ae,le=1;le<=ie;){for(var ne=le;g[le]==0&&le<=ie;)++le;var se=le-ne;if(se>=16){ae=se>>4;for(var ye=1;ye<=ae;++ye)_(D);se&=15}Q=32767+g[le],_(V[(se<<4)+f[Q]]),_(d[Q]),le++}return ie!=63&&_(z),X}function q(P){P=Math.min(Math.max(P,1),100),i!=P&&(function(H){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var V=o((X[Z]*H+50)/100);V=Math.min(Math.max(V,1),255),u[j[Z]]=V}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var D=o((Q[z]*H+50)/100);D=Math.min(Math.max(D,1),255),a[j[z]]=D}for(var W=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,oe=0;oe<8;oe++)for(var ie=0;ie<8;ie++)l[ee]=1/(u[j[ee]]*W[oe]*W[ie]*8),c[ee]=1/(a[j[ee]]*W[oe]*W[ie]*8),ee++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,H){H&&q(H),v=new Array,p=0,y=7,S(65496),S(65504),S(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),S(1),S(1),x(0),x(0),function(){S(65499),S(132),x(0);for(var Se=0;Se<64;Se++)x(u[Se]);x(1);for(var Te=0;Te<64;Te++)x(a[Te])}(),function(Se,Te){S(65472),S(17),x(8),S(Te),S(Se),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}(P.width,P.height),function(){S(65476),S(418),x(0);for(var Se=0;Se<16;Se++)x(T[Se+1]);for(var Te=0;Te<=11;Te++)x(M[Te]);x(16);for(var je=0;je<16;je++)x(B[je+1]);for(var Ue=0;Ue<=161;Ue++)x(O[Ue]);x(1);for(var qe=0;qe<16;qe++)x(R[qe+1]);for(var We=0;We<=11;We++)x(E[We]);x(17);for(var Ke=0;Ke<16;Ke++)x(I[Ke+1]);for(var rt=0;rt<=161;rt++)x(A[rt])}(),S(65498),S(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0);var X=0,Z=0,V=0;p=0,y=7,this.encode.displayName="_encode_";for(var Q,z,D,W,ee,oe,ie,ae,le,ne=P.data,se=P.width,ye=P.height,me=4*se,we=0;we<ye;){for(Q=0;Q<me;){for(ee=me*we+Q,ie=-1,ae=0,le=0;le<64;le++)oe=ee+(ae=le>>3)*me+(ie=4*(7&le)),we+ae>=ye&&(oe-=me*(we+1+ae-ye)),Q+ie>=me&&(oe-=Q+ie-me+4),z=ne[oe++],D=ne[oe++],W=ne[oe++],m[le]=(F[z]+F[D+256>>0]+F[W+512>>0]>>16)-128,b[le]=(F[z+768>>0]+F[D+1024>>0]+F[W+1280>>0]>>16)-128,k[le]=(F[z+1280>>0]+F[D+1536>>0]+F[W+1792>>0]>>16)-128;X=C(m,l,X,t,n),Z=C(b,c,Z,e,s),V=C(k,c,V,e,s),Q+=32}we+=8}if(y>=0){var _e=[];_e[1]=y+1,_e[0]=(1<<y+1)-1,_(_e)}return S(65497),new Uint8Array(v)},r=r||50,function(){for(var P=String.fromCharCode,H=0;H<256;H++)N[H]=P(H)}(),t=w(T,M),e=w(R,E),n=w(B,O),s=w(I,A),function(){for(var P=1,H=2,X=1;X<=15;X++){for(var Z=P;Z<H;Z++)f[32767+Z]=X,d[32767+Z]=[],d[32767+Z][1]=X,d[32767+Z][0]=Z;for(var V=-(H-1);V<=-P;V++)f[32767+V]=X,d[32767+V]=[],d[32767+V][1]=X,d[32767+V][0]=H-1+V;P<<=1,H<<=1}}(),function(){for(var P=0;P<256;P++)F[P]=19595*P,F[P+256>>0]=38470*P,F[P+512>>0]=7471*P+32768,F[P+768>>0]=-11059*P,F[P+1024>>0]=-21709*P,F[P+1280>>0]=32768*P+8421375,F[P+1536>>0]=-27439*P,F[P+1792>>0]=-5329*P}(),q(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Us(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a4(r){function t(T){if(!T)throw Error("assert :P")}function e(T,M,B){for(var O=0;4>O;O++)if(T[M+O]!=B.charCodeAt(O))return!0;return!1}function n(T,M,B,O,R){for(var E=0;E<R;E++)T[M+E]=B[O+E]}function s(T,M,B,O){for(var R=0;R<O;R++)T[M+R]=B}function i(T){return new Int32Array(T)}function o(T,M){for(var B=[],O=0;O<T;O++)B.push(new M);return B}function u(T,M){var B=[];return function O(R,E,I){for(var A=I[E],w=0;w<A&&(R.push(I.length>E+1?[]:new M),!(I.length<E+1));w++)O(R[w],E+1,I)}(B,0,T),B}var a=function(){var T=this;function M(L,$){for(var Y=1<<$-1>>>0;L&Y;)Y>>>=1;return Y?(L&Y-1)+Y:L}function B(L,$,Y,te,ce){t(!(te%Y));do L[$+(te-=Y)]=ce;while(0<te)}function O(L,$,Y,te,ce){if(t(2328>=ce),512>=ce)var he=i(512);else if((he=i(ce))==null)return 0;return function(fe,pe,ge,ve,Ae,De){var Fe,Me,Je=pe,$e=1<<ge,Ce=i(16),Pe=i(16);for(t(Ae!=0),t(ve!=null),t(fe!=null),t(0<ge),Me=0;Me<Ae;++Me){if(15<ve[Me])return 0;++Ce[ve[Me]]}if(Ce[0]==Ae)return 0;for(Pe[1]=0,Fe=1;15>Fe;++Fe){if(Ce[Fe]>1<<Fe)return 0;Pe[Fe+1]=Pe[Fe]+Ce[Fe]}for(Me=0;Me<Ae;++Me)Fe=ve[Me],0<ve[Me]&&(De[Pe[Fe]++]=Me);if(Pe[15]==1)return(ve=new R).g=0,ve.value=De[0],B(fe,Je,1,$e,ve),$e;var Ye,ot=-1,Ze=$e-1,It=0,kt=1,Gt=1,Tt=1<<ge;for(Me=0,Fe=1,Ae=2;Fe<=ge;++Fe,Ae<<=1){if(kt+=Gt<<=1,0>(Gt-=Ce[Fe]))return 0;for(;0<Ce[Fe];--Ce[Fe])(ve=new R).g=Fe,ve.value=De[Me++],B(fe,Je+It,Ae,Tt,ve),It=M(It,Fe)}for(Fe=ge+1,Ae=2;15>=Fe;++Fe,Ae<<=1){if(kt+=Gt<<=1,0>(Gt-=Ce[Fe]))return 0;for(;0<Ce[Fe];--Ce[Fe]){if(ve=new R,(It&Ze)!=ot){for(Je+=Tt,Ye=1<<(ot=Fe)-ge;15>ot&&!(0>=(Ye-=Ce[ot]));)++ot,Ye<<=1;$e+=Tt=1<<(Ye=ot-ge),fe[pe+(ot=It&Ze)].g=Ye+ge,fe[pe+ot].value=Je-pe-ot}ve.g=Fe-ge,ve.value=De[Me++],B(fe,Je+(It>>ge),Ae,Tt,ve),It=M(It,Fe)}}return kt!=2*Pe[15]-1?0:$e}(L,$,Y,te,ce,he)}function R(){this.value=this.g=0}function E(){this.value=this.g=0}function I(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Yn,E)}function A(L,$,Y,te){t(L!=null),t($!=null),t(2147483648>te),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=$,L.pa=Y,L.Jd=$,L.Yc=Y+te,L.Zc=4<=te?Y+te-4+1:Y,Q(L)}function w(L,$){for(var Y=0;0<$--;)Y|=D(L,128)<<$;return Y}function _(L,$){var Y=w(L,$);return z(L)?-Y:Y}function x(L,$,Y,te){var ce,he=0;for(t(L!=null),t($!=null),t(4294967288>te),L.Sb=te,L.Ra=0,L.u=0,L.h=0,4<te&&(te=4),ce=0;ce<te;++ce)he+=$[Y+ce]<<8*ce;L.Ra=he,L.bb=te,L.oa=$,L.pa=Y}function S(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<Pu-8>>>0,++L.bb,L.u-=8;X(L)&&(L.h=1,L.u=0)}function C(L,$){if(t(0<=$),!L.h&&$<=Nu){var Y=H(L)&Cu[$];return L.u+=$,S(L),Y}return L.h=1,L.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(L){return L.Ra>>>(L.u&Pu-1)>>>0}function X(L){return t(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>Pu}function Z(L,$){L.u=$,L.h=X(L)}function V(L){L.u>=$c&&(t(L.u>=$c),S(L))}function Q(L){t(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(t(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function z(L){return w(L,1)}function D(L,$){var Y=L.Ca;0>L.b&&Q(L);var te=L.b,ce=Y*$>>>8,he=(L.I>>>te>ce)+0;for(he?(Y-=ce,L.I-=ce+1<<te>>>0):Y=ce+1,te=Y,ce=0;256<=te;)ce+=8,te>>=8;return te=7^ce+Di[te],L.b-=te,L.Ca=(Y<<te)-1,he}function W(L,$,Y){L[$+0]=Y>>24&255,L[$+1]=Y>>16&255,L[$+2]=Y>>8&255,L[$+3]=Y>>0&255}function ee(L,$){return L[$+0]<<0|L[$+1]<<8}function oe(L,$){return ee(L,$)|L[$+2]<<16}function ie(L,$){return ee(L,$)|ee(L,$+2)<<16}function ae(L,$){var Y=1<<$;return t(L!=null),t(0<$),L.X=i(Y),L.X==null?0:(L.Mb=32-$,L.Xa=$,1)}function le(L,$){t(L!=null),t($!=null),t(L.Xa==$.Xa),n($.X,0,L.X,0,1<<$.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function se(L,$,Y,te){t(Y!=null),t(te!=null);var ce=Y[0],he=te[0];return ce==0&&(ce=(L*he+$/2)/$),he==0&&(he=($*ce+L/2)/L),0>=ce||0>=he?0:(Y[0]=ce,te[0]=he,1)}function ye(L,$){return L+(1<<$)-1>>>$}function me(L,$){return((4278255360&L)+(4278255360&$)>>>0&4278255360)+((16711935&L)+(16711935&$)>>>0&16711935)>>>0}function we(L,$){T[$]=function(Y,te,ce,he,fe,pe,ge){var ve;for(ve=0;ve<fe;++ve){var Ae=T[L](pe[ge+ve-1],ce,he+ve);pe[ge+ve]=me(Y[te+ve],Ae)}}}function _e(){this.ud=this.hd=this.jd=0}function Se(L,$){return((4278124286&(L^$))>>>1)+(L&$)>>>0}function Te(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function je(L,$){return Te(L+(L-$+.5>>1))}function Ue(L,$,Y){return Math.abs($-Y)-Math.abs(L-Y)}function qe(L,$,Y,te,ce,he,fe){for(te=he[fe-1],Y=0;Y<ce;++Y)he[fe+Y]=te=me(L[$+Y],te)}function We(L,$,Y,te,ce){var he;for(he=0;he<Y;++he){var fe=L[$+he],pe=fe>>8&255,ge=16711935&(ge=(ge=16711935&fe)+((pe<<16)+pe));te[ce+he]=(4278255360&fe)+ge>>>0}}function Ke(L,$){$.jd=L>>0&255,$.hd=L>>8&255,$.ud=L>>16&255}function rt(L,$,Y,te,ce,he){var fe;for(fe=0;fe<te;++fe){var pe=$[Y+fe],ge=pe>>>8,ve=pe,Ae=255&(Ae=(Ae=pe>>>16)+((L.jd<<24>>24)*(ge<<24>>24)>>>5));ve=255&(ve=(ve=ve+((L.hd<<24>>24)*(ge<<24>>24)>>>5))+((L.ud<<24>>24)*(Ae<<24>>24)>>>5)),ce[he+fe]=(4278255360&pe)+(Ae<<16)+ve}}function ut(L,$,Y,te,ce){T[$]=function(he,fe,pe,ge,ve,Ae,De,Fe,Me){for(ge=De;ge<Fe;++ge)for(De=0;De<Me;++De)ve[Ae++]=ce(pe[te(he[fe++])])},T[L]=function(he,fe,pe,ge,ve,Ae,De){var Fe=8>>he.b,Me=he.Ea,Je=he.K[0],$e=he.w;if(8>Fe)for(he=(1<<he.b)-1,$e=(1<<Fe)-1;fe<pe;++fe){var Ce,Pe=0;for(Ce=0;Ce<Me;++Ce)Ce&he||(Pe=te(ge[ve++])),Ae[De++]=ce(Je[Pe&$e]),Pe>>=Fe}else T["VP8LMapColor"+Y](ge,ve,Je,$e,Ae,De,fe,pe,Me)}}function He(L,$,Y,te,ce){for(Y=$+Y;$<Y;){var he=L[$++];te[ce++]=he>>16&255,te[ce++]=he>>8&255,te[ce++]=he>>0&255}}function _t(L,$,Y,te,ce){for(Y=$+Y;$<Y;){var he=L[$++];te[ce++]=he>>16&255,te[ce++]=he>>8&255,te[ce++]=he>>0&255,te[ce++]=he>>24&255}}function Qe(L,$,Y,te,ce){for(Y=$+Y;$<Y;){var he=(fe=L[$++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;te[ce++]=he,te[ce++]=fe}}function at(L,$,Y,te,ce){for(Y=$+Y;$<Y;){var he=(fe=L[$++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;te[ce++]=he,te[ce++]=fe}}function nt(L,$,Y,te,ce){for(Y=$+Y;$<Y;){var he=L[$++];te[ce++]=he>>0&255,te[ce++]=he>>8&255,te[ce++]=he>>16&255}}function yt(L,$,Y,te,ce,he){if(he==0)for(Y=$+Y;$<Y;)W(te,((he=L[$++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),ce+=32;else n(te,ce,L,$,Y)}function xt(L,$){T[$][0]=T[L+"0"],T[$][1]=T[L+"1"],T[$][2]=T[L+"2"],T[$][3]=T[L+"3"],T[$][4]=T[L+"4"],T[$][5]=T[L+"5"],T[$][6]=T[L+"6"],T[$][7]=T[L+"7"],T[$][8]=T[L+"8"],T[$][9]=T[L+"9"],T[$][10]=T[L+"10"],T[$][11]=T[L+"11"],T[$][12]=T[L+"12"],T[$][13]=T[L+"13"],T[$][14]=T[L+"0"],T[$][15]=T[L+"0"]}function Ct(L){return L==r0||L==n0||L==sd||L==i0}function ar(){this.eb=[],this.size=this.A=this.fb=0}function wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ar,this.f.kb=new wt,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function At(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function Nt(L,$){var Y=L.T,te=$.ba.f.RGBA,ce=te.eb,he=te.fb+L.ka*te.A,fe=vs[$.ba.S],pe=L.y,ge=L.O,ve=L.f,Ae=L.N,De=L.ea,Fe=L.W,Me=$.cc,Je=$.dc,$e=$.Mc,Ce=$.Nc,Pe=L.ka,Ye=L.ka+L.T,ot=L.U,Ze=ot+1>>1;for(Pe==0?fe(pe,ge,null,null,ve,Ae,De,Fe,ve,Ae,De,Fe,ce,he,null,null,ot):(fe($.ec,$.fc,pe,ge,Me,Je,$e,Ce,ve,Ae,De,Fe,ce,he-te.A,ce,he,ot),++Y);Pe+2<Ye;Pe+=2)Me=ve,Je=Ae,$e=De,Ce=Fe,Ae+=L.Rc,Fe+=L.Rc,he+=2*te.A,fe(pe,(ge+=2*L.fa)-L.fa,pe,ge,Me,Je,$e,Ce,ve,Ae,De,Fe,ce,he-te.A,ce,he,ot);return ge+=L.fa,L.j+Ye<L.o?(n($.ec,$.fc,pe,ge,ot),n($.cc,$.dc,ve,Ae,Ze),n($.Mc,$.Nc,De,Fe,Ze),Y--):1&Ye||fe(pe,ge,null,null,ve,Ae,De,Fe,ve,Ae,De,Fe,ce,he+te.A,null,null,ot),Y}function Rt(L,$,Y){var te=L.F,ce=[L.J];if(te!=null){var he=L.U,fe=$.ba.S,pe=fe==id||fe==sd;$=$.ba.f.RGBA;var ge=[0],ve=L.ka;ge[0]=L.T,L.Kb&&(ve==0?--ge[0]:(--ve,ce[0]-=L.width),L.j+L.ka+L.T==L.o&&(ge[0]=L.o-L.j-ve));var Ae=$.eb;ve=$.fb+ve*$.A,L=Yr(te,ce[0],L.width,he,ge,Ae,ve+(pe?0:3),$.A),t(Y==ge),L&&Ct(fe)&&gs(Ae,ve,pe,he,ge,$.A)}return 0}function qt(L){var $=L.ma,Y=$.ba.S,te=11>Y,ce=Y==rd||Y==nd||Y==id||Y==t0||Y==12||Ct(Y);if($.memory=null,$.Ib=null,$.Jb=null,$.Nd=null,!qc($.Oa,L,ce?11:12))return 0;if(ce&&Ct(Y)&&lt(),L.da)alert("todo:use_scaling");else{if(te){if($.Ib=vt,L.Kb){if(Y=L.U+1>>1,$.memory=i(L.U+2*Y),$.memory==null)return 0;$.ec=$.memory,$.fc=0,$.cc=$.ec,$.dc=$.fc+L.U,$.Mc=$.cc,$.Nc=$.dc+Y,$.Ib=Nt,lt()}}else alert("todo:EmitYUV");ce&&($.Jb=Rt,te&&Re())}if(te&&!_v){for(L=0;256>L;++L)yS[L]=89858*(L-128)+ad>>od,wS[L]=-22014*(L-128)+ad,bS[L]=-45773*(L-128),vS[L]=113618*(L-128)+ad>>od;for(L=Zc;L<a0;++L)$=76283*(L-16)+ad>>od,_S[L-Zc]=Lr($,255),xS[L-Zc]=Lr($+8>>4,15);_v=1}return 1}function er(L){var $=L.ma,Y=L.U,te=L.T;return t(!(1&L.ka)),0>=Y||0>=te?0:(Y=$.Ib(L,$),$.Jb!=null&&$.Jb(L,$,Y),$.Dc+=Y,1)}function Dt(L){L.ma.memory=null}function ct(L,$,Y,te){return C(L,8)!=47?0:($[0]=C(L,14)+1,Y[0]=C(L,14)+1,te[0]=C(L,1),C(L,3)!=0?0:!L.h)}function ir(L,$){if(4>L)return L+1;var Y=L-2>>1;return(2+(1&L)<<Y)+C($,Y)+1}function Ut(L,$){return 120<$?$-120:1<=(Y=((Y=nS[$-1])>>4)*L+(8-(15&Y)))?Y:1;var Y}function ke(L,$,Y){var te=H(Y),ce=L[$+=255&te].g-8;return 0<ce&&(Z(Y,Y.u+8),te=H(Y),$+=L[$].value,$+=te&(1<<ce)-1),Z(Y,Y.u+L[$].g),L[$].value}function Ne(L,$,Y){return Y.g+=L.g,Y.value+=L.value<<$>>>0,t(8>=Y.g),L.g}function ze(L,$,Y){var te=L.xc;return t(($=te==0?0:L.vc[L.md*(Y>>te)+($>>te)])<L.Wb),L.Ya[$]}function st(L,$,Y,te){var ce=L.ab,he=L.c*$,fe=L.C;$=fe+$;var pe=Y,ge=te;for(te=L.Ta,Y=L.Ua;0<ce--;){var ve=L.gc[ce],Ae=fe,De=$,Fe=pe,Me=ge,Je=(ge=te,pe=Y,ve.Ea);switch(t(Ae<De),t(De<=ve.nc),ve.hc){case 2:Kf(Fe,Me,(De-Ae)*Je,ge,pe);break;case 0:var $e=Ae,Ce=De,Pe=ge,Ye=pe,ot=(Tt=ve).Ea;$e==0&&(Jm(Fe,Me,null,null,1,Pe,Ye),qe(Fe,Me+1,0,0,ot-1,Pe,Ye+1),Me+=ot,Ye+=ot,++$e);for(var Ze=1<<Tt.b,It=Ze-1,kt=ye(ot,Tt.b),Gt=Tt.K,Tt=Tt.w+($e>>Tt.b)*kt;$e<Ce;){var Rr=Gt,Ur=Tt,Cr=1;for(Wc(Fe,Me,Pe,Ye-ot,1,Pe,Ye);Cr<ot;){var kr=(Cr&~It)+Ze;kr>ot&&(kr=ot),(0,ma[Rr[Ur++]>>8&15])(Fe,Me+ +Cr,Pe,Ye+Cr-ot,kr-Cr,Pe,Ye+Cr),Cr=kr}Me+=ot,Ye+=ot,++$e&It||(Tt+=kt)}De!=ve.nc&&n(ge,pe-Je,ge,pe+(De-Ae-1)*Je,Je);break;case 1:for(Je=Fe,Ce=Me,ot=(Fe=ve.Ea)-(Ye=Fe&~(Pe=(Me=1<<ve.b)-1)),$e=ye(Fe,ve.b),Ze=ve.K,ve=ve.w+(Ae>>ve.b)*$e;Ae<De;){for(It=Ze,kt=ve,Gt=new _e,Tt=Ce+Ye,Rr=Ce+Fe;Ce<Tt;)Ke(It[kt++],Gt),Il(Gt,Je,Ce,Me,ge,pe),Ce+=Me,pe+=Me;Ce<Rr&&(Ke(It[kt++],Gt),Il(Gt,Je,Ce,ot,ge,pe),Ce+=ot,pe+=ot),++Ae&Pe||(ve+=$e)}break;case 3:if(Fe==ge&&Me==pe&&0<ve.b){for(Ce=ge,Fe=Je=pe+(De-Ae)*Je-(Ye=(De-Ae)*ye(ve.Ea,ve.b)),Me=ge,Pe=pe,$e=[],Ye=(ot=Ye)-1;0<=Ye;--Ye)$e[Ye]=Me[Pe+Ye];for(Ye=ot-1;0<=Ye;--Ye)Ce[Fe+Ye]=$e[Ye];ds(ve,Ae,De,ge,Je,ge,pe)}else ds(ve,Ae,De,Fe,Me,ge,pe)}pe=te,ge=Y}ge!=Y&&n(te,Y,pe,ge,he)}function Ft(L,$){var Y=L.V,te=L.Ba+L.c*L.C,ce=$-L.C;if(t($<=L.l.o),t(16>=ce),0<ce){var he=L.l,fe=L.Ta,pe=L.Ua,ge=he.width;if(st(L,ce,Y,te),ce=pe=[pe],t((Y=L.C)<(te=$)),t(he.v<he.va),te>he.o&&(te=he.o),Y<he.j){var ve=he.j-Y;Y=he.j,ce[0]+=ve*ge}if(Y>=te?Y=0:(ce[0]+=4*he.v,he.ka=Y-he.j,he.U=he.va-he.v,he.T=te-Y,Y=1),Y){if(pe=pe[0],11>(Y=L.ca).S){var Ae=Y.f.RGBA,De=(te=Y.S,ce=he.U,he=he.T,ve=Ae.eb,Ae.A),Fe=he;for(Ae=Ae.fb+L.Ma*Ae.A;0<Fe--;){var Me=fe,Je=pe,$e=ce,Ce=ve,Pe=Ae;switch(te){case td:Fi(Me,Je,$e,Ce,Pe);break;case rd:Ei(Me,Je,$e,Ce,Pe);break;case r0:Ei(Me,Je,$e,Ce,Pe),gs(Ce,Pe,0,$e,1,0);break;case fv:Io(Me,Je,$e,Ce,Pe);break;case nd:yt(Me,Je,$e,Ce,Pe,1);break;case n0:yt(Me,Je,$e,Ce,Pe,1),gs(Ce,Pe,0,$e,1,0);break;case id:yt(Me,Je,$e,Ce,Pe,0);break;case sd:yt(Me,Je,$e,Ce,Pe,0),gs(Ce,Pe,1,$e,1,0);break;case t0:ga(Me,Je,$e,Ce,Pe);break;case i0:ga(Me,Je,$e,Ce,Pe),Kr(Ce,Pe,$e,1,0);break;case dv:Po(Me,Je,$e,Ce,Pe);break;default:t(0)}pe+=ge,Ae+=De}L.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(L.Ma<=Y.height)}}L.C=$,t(L.C<=L.i)}function pt(L){var $;if(0<L.ua)return 0;for($=0;$<L.Wb;++$){var Y=L.Ya[$].G,te=L.Ya[$].H;if(0<Y[1][te[1]+0].g||0<Y[2][te[2]+0].g||0<Y[3][te[3]+0].g)return 0}return 1}function Mt(L,$,Y,te,ce,he){if(L.Z!=0){var fe=L.qd,pe=L.rd;for(t(wa[L.Z]!=null);$<Y;++$)wa[L.Z](fe,pe,te,ce,te,ce,he),fe=te,pe=ce,ce+=he;L.qd=fe,L.rd=pe}}function Ve(L,$){var Y=L.l.ma,te=Y.Z==0||Y.Z==1?L.l.j:L.C;if(te=L.C<te?te:L.C,t($<=L.l.o),$>te){var ce=L.l.width,he=Y.ca,fe=Y.tb+ce*te,pe=L.V,ge=L.Ba+L.c*te,ve=L.gc;t(L.ab==1),t(ve[0].hc==3),Yf(ve[0],te,$,pe,ge,he,fe),Mt(Y,te,$,he,fe,ce)}L.C=L.Ma=$}function it(L,$,Y,te,ce,he,fe){var pe=L.$/te,ge=L.$%te,ve=L.m,Ae=L.s,De=Y+L.$,Fe=De;ce=Y+te*ce;var Me=Y+te*he,Je=280+Ae.ua,$e=L.Pb?pe:16777216,Ce=0<Ae.ua?Ae.Wa:null,Pe=Ae.wc,Ye=De<Me?ze(Ae,ge,pe):null;t(L.C<he),t(Me<=ce);var ot=!1;e:for(;;){for(;ot||De<Me;){var Ze=0;if(pe>=$e){var It=De-Y;t(($e=L).Pb),$e.wd=$e.m,$e.xd=It,0<$e.s.ua&&le($e.s.Wa,$e.s.vb),$e=pe+sS}if(ge&Pe||(Ye=ze(Ae,ge,pe)),t(Ye!=null),Ye.Qb&&($[De]=Ye.qb,ot=!0),!ot)if(V(ve),Ye.jc){Ze=ve,It=$;var kt=De,Gt=Ye.pd[H(Ze)&Yn-1];t(Ye.jc),256>Gt.g?(Z(Ze,Ze.u+Gt.g),It[kt]=Gt.value,Ze=0):(Z(Ze,Ze.u+Gt.g-256),t(256<=Gt.value),Ze=Gt.value),Ze==0&&(ot=!0)}else Ze=ke(Ye.G[0],Ye.H[0],ve);if(ve.h)break;if(ot||256>Ze){if(!ot)if(Ye.nd)$[De]=(Ye.qb|Ze<<8)>>>0;else{if(V(ve),ot=ke(Ye.G[1],Ye.H[1],ve),V(ve),It=ke(Ye.G[2],Ye.H[2],ve),kt=ke(Ye.G[3],Ye.H[3],ve),ve.h)break;$[De]=(kt<<24|ot<<16|Ze<<8|It)>>>0}if(ot=!1,++De,++ge>=te&&(ge=0,++pe,fe!=null&&pe<=he&&!(pe%16)&&fe(L,pe),Ce!=null))for(;Fe<De;)Ze=$[Fe++],Ce.X[(506832829*Ze&4294967295)>>>Ce.Mb]=Ze}else if(280>Ze){if(Ze=ir(Ze-256,ve),It=ke(Ye.G[4],Ye.H[4],ve),V(ve),It=Ut(te,It=ir(It,ve)),ve.h)break;if(De-Y<It||ce-De<Ze)break e;for(kt=0;kt<Ze;++kt)$[De+kt]=$[De+kt-It];for(De+=Ze,ge+=Ze;ge>=te;)ge-=te,++pe,fe!=null&&pe<=he&&!(pe%16)&&fe(L,pe);if(t(De<=ce),ge&Pe&&(Ye=ze(Ae,ge,pe)),Ce!=null)for(;Fe<De;)Ze=$[Fe++],Ce.X[(506832829*Ze&4294967295)>>>Ce.Mb]=Ze}else{if(!(Ze<Je))break e;for(ot=Ze-280,t(Ce!=null);Fe<De;)Ze=$[Fe++],Ce.X[(506832829*Ze&4294967295)>>>Ce.Mb]=Ze;Ze=De,t(!(ot>>>(It=Ce).Xa)),$[Ze]=It.X[ot],ot=!0}ot||t(ve.h==X(ve))}if(L.Pb&&ve.h&&De<ce)t(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&le(L.s.vb,L.s.Wa);else{if(ve.h)break e;fe!=null&&fe(L,pe>he?he:pe),L.a=0,L.$=De-Y}return 1}return L.a=3,0}function St(L){t(L!=null),L.vc=null,L.yc=null,L.Ya=null;var $=L.Wa;$!=null&&($.X=null),L.vb=null,t(L!=null)}function bt(){var L=new Au;return L==null?null:(L.a=0,L.xb=gv,xt("Predictor","VP8LPredictors"),xt("Predictor","VP8LPredictors_C"),xt("PredictorAdd","VP8LPredictorsAdd"),xt("PredictorAdd","VP8LPredictorsAdd_C"),Kf=We,Il=rt,Fi=He,Ei=_t,ga=Qe,Po=at,Io=nt,T.VP8LMapColor32b=Iu,T.VP8LMapColor8b=Qf,L)}function Lt(L,$,Y,te,ce){var he=1,fe=[L],pe=[$],ge=te.m,ve=te.s,Ae=null,De=0;e:for(;;){if(Y)for(;he&&C(ge,1);){var Fe=fe,Me=pe,Je=te,$e=1,Ce=Je.m,Pe=Je.gc[Je.ab],Ye=C(Ce,2);if(Je.Oc&1<<Ye)he=0;else{switch(Je.Oc|=1<<Ye,Pe.hc=Ye,Pe.Ea=Fe[0],Pe.nc=Me[0],Pe.K=[null],++Je.ab,t(4>=Je.ab),Ye){case 0:case 1:Pe.b=C(Ce,3)+2,$e=Lt(ye(Pe.Ea,Pe.b),ye(Pe.nc,Pe.b),0,Je,Pe.K),Pe.K=Pe.K[0];break;case 3:var ot,Ze=C(Ce,8)+1,It=16<Ze?0:4<Ze?1:2<Ze?2:3;if(Fe[0]=ye(Pe.Ea,It),Pe.b=It,ot=$e=Lt(Ze,1,0,Je,Pe.K)){var kt,Gt=Ze,Tt=Pe,Rr=1<<(8>>Tt.b),Ur=i(Rr);if(Ur==null)ot=0;else{var Cr=Tt.K[0],kr=Tt.w;for(Ur[0]=Tt.K[0][0],kt=1;kt<1*Gt;++kt)Ur[kt]=me(Cr[kr+kt],Ur[kt-1]);for(;kt<4*Rr;++kt)Ur[kt]=0;Tt.K[0]=null,Tt.K[0]=Ur,ot=1}}$e=ot;break;case 2:break;default:t(0)}he=$e}}if(fe=fe[0],pe=pe[0],he&&C(ge,1)&&!(he=1<=(De=C(ge,4))&&11>=De)){te.a=3;break e}var Xr;if(Xr=he)t:{var $r,gr,Pn,Bi=te,In=fe,Ui=pe,zr=De,Zi=Y,Ji=Bi.m,Vn=Bi.s,Qn=[null],Ti=1,bs=0,oo=iS[zr];r:for(;;){if(Zi&&C(Ji,1)){var qn=C(Ji,3)+2,Lo=ye(In,qn),Ol=ye(Ui,qn),Ou=Lo*Ol;if(!Lt(Lo,Ol,0,Bi,Qn))break r;for(Qn=Qn[0],Vn.xc=qn,$r=0;$r<Ou;++$r){var _a=Qn[$r]>>8&65535;Qn[$r]=_a,_a>=Ti&&(Ti=_a+1)}}if(Ji.h)break r;for(gr=0;5>gr;++gr){var yn=pv[gr];!gr&&0<zr&&(yn+=1<<zr),bs<yn&&(bs=yn)}var l0=o(Ti*oo,R),kv=Ti,Ev=o(kv,I);if(Ev==null)var ud=null;else t(65536>=kv),ud=Ev;var Jc=i(bs);if(ud==null||Jc==null||l0==null){Bi.a=1;break r}var cd=l0;for($r=Pn=0;$r<Ti;++$r){var Ds=ud[$r],Du=Ds.G,Fu=Ds.H,Av=0,hd=1,Tv=0;for(gr=0;5>gr;++gr){yn=pv[gr],Du[gr]=cd,Fu[gr]=Pn,!gr&&0<zr&&(yn+=1<<zr);i:{var fd,u0=yn,dd=Bi,eh=Jc,ES=cd,AS=Pn,c0=0,xa=dd.m,TS=C(xa,1);if(s(eh,0,0,u0),TS){var CS=C(xa,1)+1,NS=C(xa,1),Cv=C(xa,NS==0?1:8);eh[Cv]=1,CS==2&&(eh[Cv=C(xa,8)]=1);var pd=1}else{var Nv=i(19),Pv=C(xa,4)+4;if(19<Pv){dd.a=3;var md=0;break i}for(fd=0;fd<Pv;++fd)Nv[rS[fd]]=C(xa,3);var h0=void 0,th=void 0,Iv=dd,PS=Nv,gd=u0,Rv=eh,f0=0,Sa=Iv.m,Mv=8,jv=o(128,R);n:for(;O(jv,0,7,PS,19);){if(C(Sa,1)){var IS=2+2*C(Sa,3);if((h0=2+C(Sa,IS))>gd)break n}else h0=gd;for(th=0;th<gd&&h0--;){V(Sa);var Lv=jv[0+(127&H(Sa))];Z(Sa,Sa.u+Lv.g);var Bu=Lv.value;if(16>Bu)Rv[th++]=Bu,Bu!=0&&(Mv=Bu);else{var RS=Bu==16,Ov=Bu-16,MS=eS[Ov],Dv=C(Sa,J8[Ov])+MS;if(th+Dv>gd)break n;for(var jS=RS?Mv:0;0<Dv--;)Rv[th++]=jS}}f0=1;break n}f0||(Iv.a=3),pd=f0}(pd=pd&&!xa.h)&&(c0=O(ES,AS,8,eh,u0)),pd&&c0!=0?md=c0:(dd.a=3,md=0)}if(md==0)break r;if(hd&&tS[gr]==1&&(hd=cd[Pn].g==0),Av+=cd[Pn].g,Pn+=md,3>=gr){var rh,d0=Jc[0];for(rh=1;rh<yn;++rh)Jc[rh]>d0&&(d0=Jc[rh]);Tv+=d0}}if(Ds.nd=hd,Ds.Qb=0,hd&&(Ds.qb=(Du[3][Fu[3]+0].value<<24|Du[1][Fu[1]+0].value<<16|Du[2][Fu[2]+0].value)>>>0,Av==0&&256>Du[0][Fu[0]+0].value&&(Ds.Qb=1,Ds.qb+=Du[0][Fu[0]+0].value<<8)),Ds.jc=!Ds.Qb&&6>Tv,Ds.jc){var yd,Oo=Ds;for(yd=0;yd<Yn;++yd){var ka=yd,Ea=Oo.pd[ka],vd=Oo.G[0][Oo.H[0]+ka];256<=vd.value?(Ea.g=vd.g+256,Ea.value=vd.value):(Ea.g=0,Ea.value=0,ka>>=Ne(vd,8,Ea),ka>>=Ne(Oo.G[1][Oo.H[1]+ka],16,Ea),ka>>=Ne(Oo.G[2][Oo.H[2]+ka],0,Ea),Ne(Oo.G[3][Oo.H[3]+ka],24,Ea))}}}Vn.vc=Qn,Vn.Wb=Ti,Vn.Ya=ud,Vn.yc=l0,Xr=1;break t}Xr=0}if(!(he=Xr)){te.a=3;break e}if(0<De){if(ve.ua=1<<De,!ae(ve.Wa,De)){te.a=1,he=0;break e}}else ve.ua=0;var p0=te,Fv=fe,LS=pe,m0=p0.s,g0=m0.xc;if(p0.c=Fv,p0.i=LS,m0.md=ye(Fv,g0),m0.wc=g0==0?-1:(1<<g0)-1,Y){te.xb=fS;break e}if((Ae=i(fe*pe))==null){te.a=1,he=0;break e}he=(he=it(te,Ae,0,fe,pe,pe,null))&&!ge.h;break e}return he?(ce!=null?ce[0]=Ae:(t(Ae==null),t(Y)),te.$=0,Y||St(ve)):St(ve),he}function or(L,$){var Y=L.c*L.i,te=Y+$+16*$;return t(L.c<=$),L.V=i(te),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+Y+$,1)}function yr(L,$){var Y=L.C,te=$-Y,ce=L.V,he=L.Ba+L.c*Y;for(t($<=L.l.o);0<te;){var fe=16<te?16:te,pe=L.l.ma,ge=L.l.width,ve=ge*fe,Ae=pe.ca,De=pe.tb+ge*Y,Fe=L.Ta,Me=L.Ua;st(L,fe,ce,he),kn(Fe,Me,Ae,De,ve),Mt(pe,Y,Y+fe,Ae,De,ge),te-=fe,ce+=fe*L.c,Y+=fe}t(Y==$),L.C=L.Ma=$}function Mr(){this.ub=this.yd=this.td=this.Rb=0}function Dr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function on(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function be(){this.Yb=function(){var L=[];return function $(Y,te,ce){for(var he=ce[te],fe=0;fe<he&&(Y.push(ce.length>te+1?[]:0),!(ce.length<te+1));fe++)$(Y[fe],te+1,ce)}(L,0,[3,11]),L}()}function Oe(){this.jb=i(3),this.Wc=u([4,8],be),this.Xc=u([4,17],be)}function Ge(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function et(){this.ld=this.La=this.dd=this.tc=0}function Pt(){this.Na=this.la=0}function ft(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mr(){this.uc=this.M=this.Nb=0,this.wa=Array(new et),this.Y=0,this.ya=Array(new mt),this.aa=0,this.l=new zt}function Zt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function nr(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Mr,this.Kc=new Dr,this.ed=new Ge,this.Qa=new on,this.Ic=this.$c=this.Aa=0,this.D=new mr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,ft),this.Pa=new Oe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zt),this.Hd=0,this.rb=Array(new Pt),this.sb=0,this.wa=Array(new et),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mt),this.L=this.aa=0,this.gd=u([4,2],et),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function br(){var L=new nr;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,Qc||(Qc=en)),L}function Ht(L,$,Y){return L.a==0&&(L.a=$,L.sc=Y,L.cb=0),0}function wr(L,$,Y){return 3<=Y&&L[$+0]==157&&L[$+1]==1&&L[$+2]==42}function Ir(L,$){if(L==null)return 0;if(L.a=0,L.sc="OK",$==null)return Ht(L,2,"null VP8Io passed to VP8GetHeaders()");var Y=$.data,te=$.w,ce=$.ha;if(4>ce)return Ht(L,7,"Truncated header.");var he=Y[te+0]|Y[te+1]<<8|Y[te+2]<<16,fe=L.Od;if(fe.Rb=!(1&he),fe.td=he>>1&7,fe.yd=he>>4&1,fe.ub=he>>5,3<fe.td)return Ht(L,3,"Incorrect keyframe parameters.");if(!fe.yd)return Ht(L,4,"Frame not displayable.");te+=3,ce-=3;var pe=L.Kc;if(fe.Rb){if(7>ce)return Ht(L,7,"cannot parse picture header");if(!wr(Y,te,ce))return Ht(L,3,"Bad code word");pe.c=16383&(Y[te+4]<<8|Y[te+3]),pe.Td=Y[te+4]>>6,pe.i=16383&(Y[te+6]<<8|Y[te+5]),pe.Ud=Y[te+6]>>6,te+=7,ce-=7,L.za=pe.c+15>>4,L.Ub=pe.i+15>>4,$.width=pe.c,$.height=pe.i,$.Da=0,$.j=0,$.v=0,$.va=$.width,$.o=$.height,$.da=0,$.ib=$.width,$.hb=$.height,$.U=$.width,$.T=$.height,s((he=L.Pa).jb,0,255,he.jb.length),t((he=L.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,s(he.Zb,0,0,he.Zb.length),s(he.Lb,0,0,he.Lb)}if(fe.ub>ce)return Ht(L,7,"bad partition length");A(he=L.m,Y,te,fe.ub),te+=fe.ub,ce-=fe.ub,fe.Rb&&(pe.Ld=z(he),pe.Kd=z(he)),pe=L.Qa;var ge,ve=L.Pa;if(t(he!=null),t(pe!=null),pe.Cb=z(he),pe.Cb){if(pe.Bb=z(he),z(he)){for(pe.Fb=z(he),ge=0;4>ge;++ge)pe.Zb[ge]=z(he)?_(he,7):0;for(ge=0;4>ge;++ge)pe.Lb[ge]=z(he)?_(he,6):0}if(pe.Bb)for(ge=0;3>ge;++ge)ve.jb[ge]=z(he)?w(he,8):255}else pe.Bb=0;if(he.Ka)return Ht(L,3,"cannot parse segment header");if((pe=L.ed).zd=z(he),pe.Tb=w(he,6),pe.wb=w(he,3),pe.Pc=z(he),pe.Pc&&z(he)){for(ve=0;4>ve;++ve)z(he)&&(pe.vd[ve]=_(he,6));for(ve=0;4>ve;++ve)z(he)&&(pe.od[ve]=_(he,6))}if(L.L=pe.Tb==0?0:pe.zd?1:2,he.Ka)return Ht(L,3,"cannot parse filter header");var Ae=ce;if(ce=ge=te,te=ge+Ae,pe=Ae,L.Xb=(1<<w(L.m,2))-1,Ae<3*(ve=L.Xb))Y=7;else{for(ge+=3*ve,pe-=3*ve,Ae=0;Ae<ve;++Ae){var De=Y[ce+0]|Y[ce+1]<<8|Y[ce+2]<<16;De>pe&&(De=pe),A(L.Jc[+Ae],Y,ge,De),ge+=De,pe-=De,ce+=3}A(L.Jc[+ve],Y,ge,pe),Y=ge<te?0:5}if(Y!=0)return Ht(L,Y,"cannot parse partitions");for(Y=w(ge=L.m,7),ce=z(ge)?_(ge,4):0,te=z(ge)?_(ge,4):0,pe=z(ge)?_(ge,4):0,ve=z(ge)?_(ge,4):0,ge=z(ge)?_(ge,4):0,Ae=L.Qa,De=0;4>De;++De){if(Ae.Cb){var Fe=Ae.Zb[De];Ae.Fb||(Fe+=Y)}else{if(0<De){L.pb[De]=L.pb[0];continue}Fe=Y}var Me=L.pb[De];Me.Sc[0]=s0[Lr(Fe+ce,127)],Me.Sc[1]=o0[Lr(Fe+0,127)],Me.Eb[0]=2*s0[Lr(Fe+te,127)],Me.Eb[1]=101581*o0[Lr(Fe+pe,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=s0[Lr(Fe+ve,117)],Me.Qc[1]=o0[Lr(Fe+ge,127)],Me.lc=Fe+ge}if(!fe.Rb)return Ht(L,4,"Not a key frame.");for(z(he),fe=L.Pa,Y=0;4>Y;++Y){for(ce=0;8>ce;++ce)for(te=0;3>te;++te)for(pe=0;11>pe;++pe)ve=D(he,cS[Y][ce][te][pe])?w(he,8):lS[Y][ce][te][pe],fe.Wc[Y][ce].Yb[te][pe]=ve;for(ce=0;17>ce;++ce)fe.Xc[Y][ce]=fe.Wc[Y][hS[ce]]}return L.kc=z(he),L.kc&&(L.Bd=w(he,8)),L.cb=1}function en(L,$,Y,te,ce,he,fe){var pe=$[ce].Yb[Y];for(Y=0;16>ce;++ce){if(!D(L,pe[Y+0]))return ce;for(;!D(L,pe[Y+1]);)if(pe=$[++ce].Yb[0],Y=0,ce==16)return 16;var ge=$[ce+1].Yb;if(D(L,pe[Y+2])){var ve=L,Ae=0;if(D(ve,(Fe=pe)[(De=Y)+3]))if(D(ve,Fe[De+6])){for(pe=0,De=2*(Ae=D(ve,Fe[De+8]))+(Fe=D(ve,Fe[De+9+Ae])),Ae=0,Fe=oS[De];Fe[pe];++pe)Ae+=Ae+D(ve,Fe[pe]);Ae+=3+(8<<De)}else D(ve,Fe[De+7])?(Ae=7+2*D(ve,165),Ae+=D(ve,145)):Ae=5+D(ve,159);else Ae=D(ve,Fe[De+4])?3+D(ve,Fe[De+5]):2;pe=ge[2]}else Ae=1,pe=ge[1];ge=fe+aS[ce],0>(ve=L).b&&Q(ve);var De,Fe=ve.b,Me=(De=ve.Ca>>1)-(ve.I>>Fe)>>31;--ve.b,ve.Ca+=Me,ve.Ca|=1,ve.I-=(De+1&Me)<<Fe,he[ge]=((Ae^Me)-Me)*te[(0<ce)+0]}return 16}function un(L){var $=L.rb[L.sb-1];$.la=0,$.Na=0,s(L.zc,0,0,L.zc.length),L.ja=0}function Un(L,$){if(L==null)return 0;if($==null)return Ht(L,2,"NULL VP8Io parameter in VP8Decode().");if(!L.cb&&!Ir(L,$))return 0;if(t(L.cb),$.ac==null||$.ac($)){$.ob&&(L.L=0);var Y=ld[L.L];if(L.L==2?(L.yb=0,L.zb=0):(L.yb=$.v-Y>>4,L.zb=$.j-Y>>4,0>L.yb&&(L.yb=0),0>L.zb&&(L.zb=0)),L.Va=$.o+15+Y>>4,L.Hb=$.va+15+Y>>4,L.Hb>L.za&&(L.Hb=L.za),L.Va>L.Ub&&(L.Va=L.Ub),0<L.L){var te=L.ed;for(Y=0;4>Y;++Y){var ce;if(L.Qa.Cb){var he=L.Qa.Lb[Y];L.Qa.Fb||(he+=te.Tb)}else he=te.Tb;for(ce=0;1>=ce;++ce){var fe=L.gd[Y][ce],pe=he;if(te.Pc&&(pe+=te.vd[0],ce&&(pe+=te.od[0])),0<(pe=0>pe?0:63<pe?63:pe)){var ge=pe;0<te.wb&&(ge=4<te.wb?ge>>2:ge>>1)>9-te.wb&&(ge=9-te.wb),1>ge&&(ge=1),fe.dd=ge,fe.tc=2*pe+ge,fe.ld=40<=pe?2:15<=pe?1:0}else fe.tc=0;fe.La=ce}}}Y=0}else Ht(L,6,"Frame setup failed"),Y=L.a;if(Y=Y==0){if(Y){L.$c=0,0<L.Aa||(L.Ic=kS);e:{Y=L.Ic,te=4*(ge=L.za);var ve=32*ge,Ae=ge+1,De=0<L.L?ge*(0<L.Aa?2:1):0,Fe=(L.Aa==2?2:1)*ge;if((fe=te+832+(ce=3*(16*Y+ld[L.L])/2*ve)+(he=L.Fa!=null&&0<L.Fa.length?L.Kc.c*L.Kc.i:0))!=fe)Y=0;else{if(fe>L.Vb){if(L.Vb=0,L.Ec=i(fe),L.Fc=0,L.Ec==null){Y=Ht(L,1,"no memory during frame initialization.");break e}L.Vb=fe}fe=L.Ec,pe=L.Fc,L.Ac=fe,L.Bc=pe,pe+=te,L.Gd=o(ve,Zt),L.Hd=0,L.rb=o(Ae+1,Pt),L.sb=1,L.wa=De?o(De,et):null,L.Y=0,L.D.Nb=0,L.D.wa=L.wa,L.D.Y=L.Y,0<L.Aa&&(L.D.Y+=ge),t(!0),L.oc=fe,L.pc=pe,pe+=832,L.ya=o(Fe,mt),L.aa=0,L.D.ya=L.ya,L.D.aa=L.aa,L.Aa==2&&(L.D.aa+=ge),L.R=16*ge,L.B=8*ge,ge=(ve=ld[L.L])*L.R,ve=ve/2*L.B,L.sa=fe,L.ta=pe+ge,L.qa=L.sa,L.ra=L.ta+16*Y*L.R+ve,L.Ha=L.qa,L.Ia=L.ra+8*Y*L.B+ve,L.$c=0,pe+=ce,L.mb=he?fe:null,L.nb=he?pe:null,t(pe+he<=L.Fc+L.Vb),un(L),s(L.Ac,L.Bc,0,te),Y=1}}if(Y){if($.ka=0,$.y=L.sa,$.O=L.ta,$.f=L.qa,$.N=L.ra,$.ea=L.Ha,$.Vd=L.Ia,$.fa=L.R,$.Rc=L.B,$.F=null,$.J=0,!Jf){for(Y=-255;255>=Y;++Y)On[255+Y]=0>Y?-Y:Y;for(Y=-1020;1020>=Y;++Y)Mo[1020+Y]=-128>Y?-128:127<Y?127:Y;for(Y=-112;112>=Y;++Y)Yc[112+Y]=-16>Y?-16:15<Y?15:Y;for(Y=-255;510>=Y;++Y)Lu[255+Y]=0>Y?0:255<Y?255:Y;Jf=1}Ru=cn,Ro=pr,Xc=si,Ai=_r,ps=Li,Sn=vr,Mu=aa,Zf=Ms,Gc=ua,Rl=Pl,Ml=la,ya=To,jl=ca,ju=ro,Ll=Ao,va=Yi,Kc=Ln,ms=Eu,Os[0]=fs,Os[1]=Oi,Os[2]=ki,Os[3]=eo,Os[4]=Su,Os[5]=na,Os[6]=Gi,Os[7]=kl,Os[8]=sa,Os[9]=ia,ba[0]=Si,ba[1]=Js,ba[2]=zn,ba[3]=Xn,ba[4]=Br,ba[5]=Ps,ba[6]=hs,jo[0]=Rs,jo[1]=cs,jo[2]=ku,jo[3]=Is,jo[4]=jr,jo[5]=El,jo[6]=Al,Y=1}else Y=0}Y&&(Y=function(Me,Je){for(Me.M=0;Me.M<Me.Va;++Me.M){var $e,Ce=Me.Jc[Me.M&Me.Xb],Pe=Me.m,Ye=Me;for($e=0;$e<Ye.za;++$e){var ot=Pe,Ze=Ye,It=Ze.Ac,kt=Ze.Bc+4*$e,Gt=Ze.zc,Tt=Ze.ya[Ze.aa+$e];if(Ze.Qa.Bb?Tt.$b=D(ot,Ze.Pa.jb[0])?2+D(ot,Ze.Pa.jb[2]):D(ot,Ze.Pa.jb[1]):Tt.$b=0,Ze.kc&&(Tt.Ad=D(ot,Ze.Bd)),Tt.Za=!D(ot,145)+0,Tt.Za){var Rr=Tt.Ob,Ur=0;for(Ze=0;4>Ze;++Ze){var Cr,kr=Gt[0+Ze];for(Cr=0;4>Cr;++Cr){kr=uS[It[kt+Cr]][kr];for(var Xr=mv[D(ot,kr[0])];0<Xr;)Xr=mv[2*Xr+D(ot,kr[Xr])];kr=-Xr,It[kt+Cr]=kr}n(Rr,Ur,It,kt,4),Ur+=4,Gt[0+Ze]=kr}}else kr=D(ot,156)?D(ot,128)?1:3:D(ot,163)?2:0,Tt.Ob[0]=kr,s(It,kt,kr,4),s(Gt,0,kr,4);Tt.Dd=D(ot,142)?D(ot,114)?D(ot,183)?1:3:2:0}if(Ye.m.Ka)return Ht(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(Ye=Ce,ot=(Pe=Me).rb[Pe.sb-1],It=Pe.rb[Pe.sb+Pe.ja],$e=Pe.ya[Pe.aa+Pe.ja],kt=Pe.kc?$e.Ad:0)ot.la=It.la=0,$e.Za||(ot.Na=It.Na=0),$e.Hc=0,$e.Gc=0,$e.ia=0;else{var $r,gr;if(ot=It,It=Ye,kt=Pe.Pa.Xc,Gt=Pe.ya[Pe.aa+Pe.ja],Tt=Pe.pb[Gt.$b],Ze=Gt.ad,Rr=0,Ur=Pe.rb[Pe.sb-1],kr=Cr=0,s(Ze,Rr,0,384),Gt.Za)var Pn=0,Bi=kt[3];else{Xr=i(16);var In=ot.Na+Ur.Na;if(In=Qc(It,kt[1],In,Tt.Eb,0,Xr,0),ot.Na=Ur.Na=(0<In)+0,1<In)Ru(Xr,0,Ze,Rr);else{var Ui=Xr[0]+3>>3;for(Xr=0;256>Xr;Xr+=16)Ze[Rr+Xr]=Ui}Pn=1,Bi=kt[0]}var zr=15&ot.la,Zi=15&Ur.la;for(Xr=0;4>Xr;++Xr){var Ji=1&Zi;for(Ui=gr=0;4>Ui;++Ui)zr=zr>>1|(Ji=(In=Qc(It,Bi,In=Ji+(1&zr),Tt.Sc,Pn,Ze,Rr))>Pn)<<7,gr=gr<<2|(3<In?3:1<In?2:Ze[Rr+0]!=0),Rr+=16;zr>>=4,Zi=Zi>>1|Ji<<7,Cr=(Cr<<8|gr)>>>0}for(Bi=zr,Pn=Zi>>4,$r=0;4>$r;$r+=2){for(gr=0,zr=ot.la>>4+$r,Zi=Ur.la>>4+$r,Xr=0;2>Xr;++Xr){for(Ji=1&Zi,Ui=0;2>Ui;++Ui)In=Ji+(1&zr),zr=zr>>1|(Ji=0<(In=Qc(It,kt[2],In,Tt.Qc,0,Ze,Rr)))<<3,gr=gr<<2|(3<In?3:1<In?2:Ze[Rr+0]!=0),Rr+=16;zr>>=2,Zi=Zi>>1|Ji<<5}kr|=gr<<4*$r,Bi|=zr<<4<<$r,Pn|=(240&Zi)<<$r}ot.la=Bi,Ur.la=Pn,Gt.Hc=Cr,Gt.Gc=kr,Gt.ia=43690&kr?0:Tt.ia,kt=!(Cr|kr)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[$e.$b][$e.Za],Pe.wa[Pe.Y+Pe.ja].La|=!kt),Ye.Ka)return Ht(Me,7,"Premature end-of-file encountered.")}if(un(Me),Pe=Je,Ye=1,$e=(Ce=Me).D,ot=0<Ce.L&&Ce.M>=Ce.zb&&Ce.M<=Ce.Va,Ce.Aa==0)e:{if($e.M=Ce.M,$e.uc=ot,io(Ce,$e),Ye=1,$e=(gr=Ce.D).Nb,ot=(kr=ld[Ce.L])*Ce.R,It=kr/2*Ce.B,Xr=16*$e*Ce.R,Ui=8*$e*Ce.B,kt=Ce.sa,Gt=Ce.ta-ot+Xr,Tt=Ce.qa,Ze=Ce.ra-It+Ui,Rr=Ce.Ha,Ur=Ce.Ia-It+Ui,Zi=(zr=gr.M)==0,Cr=zr>=Ce.Va-1,Ce.Aa==2&&io(Ce,gr),gr.uc)for(Ji=(In=Ce).D.M,t(In.D.uc),gr=In.yb;gr<In.Hb;++gr){Pn=gr,Bi=Ji;var Vn=(Qn=(yn=In).D).Nb;$r=yn.R;var Qn=Qn.wa[Qn.Y+Pn],Ti=yn.sa,bs=yn.ta+16*Vn*$r+16*Pn,oo=Qn.dd,qn=Qn.tc;if(qn!=0)if(t(3<=qn),yn.L==1)0<Pn&&va(Ti,bs,$r,qn+4),Qn.La&&ms(Ti,bs,$r,qn),0<Bi&&Ll(Ti,bs,$r,qn+4),Qn.La&&Kc(Ti,bs,$r,qn);else{var Lo=yn.B,Ol=yn.qa,Ou=yn.ra+8*Vn*Lo+8*Pn,_a=yn.Ha,yn=yn.Ia+8*Vn*Lo+8*Pn;Vn=Qn.ld,0<Pn&&(Zf(Ti,bs,$r,qn+4,oo,Vn),Rl(Ol,Ou,_a,yn,Lo,qn+4,oo,Vn)),Qn.La&&(ya(Ti,bs,$r,qn,oo,Vn),ju(Ol,Ou,_a,yn,Lo,qn,oo,Vn)),0<Bi&&(Mu(Ti,bs,$r,qn+4,oo,Vn),Gc(Ol,Ou,_a,yn,Lo,qn+4,oo,Vn)),Qn.La&&(Ml(Ti,bs,$r,qn,oo,Vn),jl(Ol,Ou,_a,yn,Lo,qn,oo,Vn))}}if(Ce.ia&&alert("todo:DitherRow"),Pe.put!=null){if(gr=16*zr,zr=16*(zr+1),Zi?(Pe.y=Ce.sa,Pe.O=Ce.ta+Xr,Pe.f=Ce.qa,Pe.N=Ce.ra+Ui,Pe.ea=Ce.Ha,Pe.W=Ce.Ia+Ui):(gr-=kr,Pe.y=kt,Pe.O=Gt,Pe.f=Tt,Pe.N=Ze,Pe.ea=Rr,Pe.W=Ur),Cr||(zr-=kr),zr>Pe.o&&(zr=Pe.o),Pe.F=null,Pe.J=null,Ce.Fa!=null&&0<Ce.Fa.length&&gr<zr&&(Pe.J=pa(Ce,Pe,gr,zr-gr),Pe.F=Ce.mb,Pe.F==null&&Pe.F.length==0)){Ye=Ht(Ce,3,"Could not decode alpha data.");break e}gr<Pe.j&&(kr=Pe.j-gr,gr=Pe.j,t(!(1&kr)),Pe.O+=Ce.R*kr,Pe.N+=Ce.B*(kr>>1),Pe.W+=Ce.B*(kr>>1),Pe.F!=null&&(Pe.J+=Pe.width*kr)),gr<zr&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=gr-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zr-gr,Ye=Pe.put(Pe))}$e+1!=Ce.Ic||Cr||(n(Ce.sa,Ce.ta-ot,kt,Gt+16*Ce.R,ot),n(Ce.qa,Ce.ra-It,Tt,Ze+8*Ce.B,It),n(Ce.Ha,Ce.Ia-It,Rr,Ur+8*Ce.B,It))}if(!Ye)return Ht(Me,6,"Output aborted.")}return 1}(L,$)),$.bc!=null&&$.bc($),Y&=1}return Y?(L.cb=0,Y):0}function mn(L,$,Y,te,ce){ce=L[$+Y+32*te]+(ce>>3),L[$+Y+32*te]=-256&ce?0>ce?0:255:ce}function xi(L,$,Y,te,ce,he){mn(L,$,0,Y,te+ce),mn(L,$,1,Y,te+he),mn(L,$,2,Y,te-he),mn(L,$,3,Y,te-ce)}function Fr(L){return(20091*L>>16)+L}function gn(L,$,Y,te){var ce,he=0,fe=i(16);for(ce=0;4>ce;++ce){var pe=L[$+0]+L[$+8],ge=L[$+0]-L[$+8],ve=(35468*L[$+4]>>16)-Fr(L[$+12]),Ae=Fr(L[$+4])+(35468*L[$+12]>>16);fe[he+0]=pe+Ae,fe[he+1]=ge+ve,fe[he+2]=ge-ve,fe[he+3]=pe-Ae,he+=4,$++}for(ce=he=0;4>ce;++ce)pe=(L=fe[he+0]+4)+fe[he+8],ge=L-fe[he+8],ve=(35468*fe[he+4]>>16)-Fr(fe[he+12]),mn(Y,te,0,0,pe+(Ae=Fr(fe[he+4])+(35468*fe[he+12]>>16))),mn(Y,te,1,0,ge+ve),mn(Y,te,2,0,ge-ve),mn(Y,te,3,0,pe-Ae),he++,te+=32}function vr(L,$,Y,te){var ce=L[$+0]+4,he=35468*L[$+4]>>16,fe=Fr(L[$+4]),pe=35468*L[$+1]>>16;xi(Y,te,0,ce+fe,L=Fr(L[$+1]),pe),xi(Y,te,1,ce+he,L,pe),xi(Y,te,2,ce-he,L,pe),xi(Y,te,3,ce-fe,L,pe)}function pr(L,$,Y,te,ce){gn(L,$,Y,te),ce&&gn(L,$+16,Y,te+4)}function si(L,$,Y,te){Ro(L,$+0,Y,te,1),Ro(L,$+32,Y,te+128,1)}function _r(L,$,Y,te){var ce;for(L=L[$+0]+4,ce=0;4>ce;++ce)for($=0;4>$;++$)mn(Y,te,$,ce,L)}function Li(L,$,Y,te){L[$+0]&&Ai(L,$+0,Y,te),L[$+16]&&Ai(L,$+16,Y,te+4),L[$+32]&&Ai(L,$+32,Y,te+128),L[$+48]&&Ai(L,$+48,Y,te+128+4)}function cn(L,$,Y,te){var ce,he=i(16);for(ce=0;4>ce;++ce){var fe=L[$+0+ce]+L[$+12+ce],pe=L[$+4+ce]+L[$+8+ce],ge=L[$+4+ce]-L[$+8+ce],ve=L[$+0+ce]-L[$+12+ce];he[0+ce]=fe+pe,he[8+ce]=fe-pe,he[4+ce]=ve+ge,he[12+ce]=ve-ge}for(ce=0;4>ce;++ce)fe=(L=he[0+4*ce]+3)+he[3+4*ce],pe=he[1+4*ce]+he[2+4*ce],ge=he[1+4*ce]-he[2+4*ce],ve=L-he[3+4*ce],Y[te+0]=fe+pe>>3,Y[te+16]=ve+ge>>3,Y[te+32]=fe-pe>>3,Y[te+48]=ve-ge>>3,te+=64}function xn(L,$,Y){var te,ce=$-32,he=Qi,fe=255-L[ce-1];for(te=0;te<Y;++te){var pe,ge=he,ve=fe+L[$-1];for(pe=0;pe<Y;++pe)L[$+pe]=ge[ve+L[ce+pe]];$+=32}}function Oi(L,$){xn(L,$,4)}function cs(L,$){xn(L,$,8)}function Js(L,$){xn(L,$,16)}function zn(L,$){var Y;for(Y=0;16>Y;++Y)n(L,$+32*Y,L,$-32,16)}function Xn(L,$){var Y;for(Y=16;0<Y;--Y)s(L,$,L[$-1],16),$+=32}function Ns(L,$,Y){var te;for(te=0;16>te;++te)s($,Y+32*te,L,16)}function Si(L,$){var Y,te=16;for(Y=0;16>Y;++Y)te+=L[$-1+32*Y]+L[$+Y-32];Ns(te>>5,L,$)}function Br(L,$){var Y,te=8;for(Y=0;16>Y;++Y)te+=L[$-1+32*Y];Ns(te>>4,L,$)}function Ps(L,$){var Y,te=8;for(Y=0;16>Y;++Y)te+=L[$+Y-32];Ns(te>>4,L,$)}function hs(L,$){Ns(128,L,$)}function Qt(L,$,Y){return L+2*$+Y+2>>2}function ki(L,$){var Y,te=$-32;for(te=new Uint8Array([Qt(L[te-1],L[te+0],L[te+1]),Qt(L[te+0],L[te+1],L[te+2]),Qt(L[te+1],L[te+2],L[te+3]),Qt(L[te+2],L[te+3],L[te+4])]),Y=0;4>Y;++Y)n(L,$+32*Y,te,0,te.length)}function eo(L,$){var Y=L[$-1],te=L[$-1+32],ce=L[$-1+64],he=L[$-1+96];W(L,$+0,16843009*Qt(L[$-1-32],Y,te)),W(L,$+32,16843009*Qt(Y,te,ce)),W(L,$+64,16843009*Qt(te,ce,he)),W(L,$+96,16843009*Qt(ce,he,he))}function fs(L,$){var Y,te=4;for(Y=0;4>Y;++Y)te+=L[$+Y-32]+L[$-1+32*Y];for(te>>=3,Y=0;4>Y;++Y)s(L,$+32*Y,te,4)}function Su(L,$){var Y=L[$-1+0],te=L[$-1+32],ce=L[$-1+64],he=L[$-1-32],fe=L[$+0-32],pe=L[$+1-32],ge=L[$+2-32],ve=L[$+3-32];L[$+0+96]=Qt(te,ce,L[$-1+96]),L[$+1+96]=L[$+0+64]=Qt(Y,te,ce),L[$+2+96]=L[$+1+64]=L[$+0+32]=Qt(he,Y,te),L[$+3+96]=L[$+2+64]=L[$+1+32]=L[$+0+0]=Qt(fe,he,Y),L[$+3+64]=L[$+2+32]=L[$+1+0]=Qt(pe,fe,he),L[$+3+32]=L[$+2+0]=Qt(ge,pe,fe),L[$+3+0]=Qt(ve,ge,pe)}function Gi(L,$){var Y=L[$+1-32],te=L[$+2-32],ce=L[$+3-32],he=L[$+4-32],fe=L[$+5-32],pe=L[$+6-32],ge=L[$+7-32];L[$+0+0]=Qt(L[$+0-32],Y,te),L[$+1+0]=L[$+0+32]=Qt(Y,te,ce),L[$+2+0]=L[$+1+32]=L[$+0+64]=Qt(te,ce,he),L[$+3+0]=L[$+2+32]=L[$+1+64]=L[$+0+96]=Qt(ce,he,fe),L[$+3+32]=L[$+2+64]=L[$+1+96]=Qt(he,fe,pe),L[$+3+64]=L[$+2+96]=Qt(fe,pe,ge),L[$+3+96]=Qt(pe,ge,ge)}function na(L,$){var Y=L[$-1+0],te=L[$-1+32],ce=L[$-1+64],he=L[$-1-32],fe=L[$+0-32],pe=L[$+1-32],ge=L[$+2-32],ve=L[$+3-32];L[$+0+0]=L[$+1+64]=he+fe+1>>1,L[$+1+0]=L[$+2+64]=fe+pe+1>>1,L[$+2+0]=L[$+3+64]=pe+ge+1>>1,L[$+3+0]=ge+ve+1>>1,L[$+0+96]=Qt(ce,te,Y),L[$+0+64]=Qt(te,Y,he),L[$+0+32]=L[$+1+96]=Qt(Y,he,fe),L[$+1+32]=L[$+2+96]=Qt(he,fe,pe),L[$+2+32]=L[$+3+96]=Qt(fe,pe,ge),L[$+3+32]=Qt(pe,ge,ve)}function kl(L,$){var Y=L[$+0-32],te=L[$+1-32],ce=L[$+2-32],he=L[$+3-32],fe=L[$+4-32],pe=L[$+5-32],ge=L[$+6-32],ve=L[$+7-32];L[$+0+0]=Y+te+1>>1,L[$+1+0]=L[$+0+64]=te+ce+1>>1,L[$+2+0]=L[$+1+64]=ce+he+1>>1,L[$+3+0]=L[$+2+64]=he+fe+1>>1,L[$+0+32]=Qt(Y,te,ce),L[$+1+32]=L[$+0+96]=Qt(te,ce,he),L[$+2+32]=L[$+1+96]=Qt(ce,he,fe),L[$+3+32]=L[$+2+96]=Qt(he,fe,pe),L[$+3+64]=Qt(fe,pe,ge),L[$+3+96]=Qt(pe,ge,ve)}function ia(L,$){var Y=L[$-1+0],te=L[$-1+32],ce=L[$-1+64],he=L[$-1+96];L[$+0+0]=Y+te+1>>1,L[$+2+0]=L[$+0+32]=te+ce+1>>1,L[$+2+32]=L[$+0+64]=ce+he+1>>1,L[$+1+0]=Qt(Y,te,ce),L[$+3+0]=L[$+1+32]=Qt(te,ce,he),L[$+3+32]=L[$+1+64]=Qt(ce,he,he),L[$+3+64]=L[$+2+64]=L[$+0+96]=L[$+1+96]=L[$+2+96]=L[$+3+96]=he}function sa(L,$){var Y=L[$-1+0],te=L[$-1+32],ce=L[$-1+64],he=L[$-1+96],fe=L[$-1-32],pe=L[$+0-32],ge=L[$+1-32],ve=L[$+2-32];L[$+0+0]=L[$+2+32]=Y+fe+1>>1,L[$+0+32]=L[$+2+64]=te+Y+1>>1,L[$+0+64]=L[$+2+96]=ce+te+1>>1,L[$+0+96]=he+ce+1>>1,L[$+3+0]=Qt(pe,ge,ve),L[$+2+0]=Qt(fe,pe,ge),L[$+1+0]=L[$+3+32]=Qt(Y,fe,pe),L[$+1+32]=L[$+3+64]=Qt(te,Y,fe),L[$+1+64]=L[$+3+96]=Qt(ce,te,Y),L[$+1+96]=Qt(he,ce,te)}function ku(L,$){var Y;for(Y=0;8>Y;++Y)n(L,$+32*Y,L,$-32,8)}function Is(L,$){var Y;for(Y=0;8>Y;++Y)s(L,$,L[$-1],8),$+=32}function Ki(L,$,Y){var te;for(te=0;8>te;++te)s($,Y+32*te,L,8)}function Rs(L,$){var Y,te=8;for(Y=0;8>Y;++Y)te+=L[$+Y-32]+L[$-1+32*Y];Ki(te>>4,L,$)}function El(L,$){var Y,te=4;for(Y=0;8>Y;++Y)te+=L[$+Y-32];Ki(te>>3,L,$)}function jr(L,$){var Y,te=4;for(Y=0;8>Y;++Y)te+=L[$-1+32*Y];Ki(te>>3,L,$)}function Al(L,$){Ki(128,L,$)}function oa(L,$,Y){var te=L[$-Y],ce=L[$+0],he=3*(ce-te)+e0[1020+L[$-2*Y]-L[$+Y]],fe=ed[112+(he+4>>3)];L[$-Y]=Qi[255+te+ed[112+(he+3>>3)]],L[$+0]=Qi[255+ce-fe]}function Tl(L,$,Y,te){var ce=L[$+0],he=L[$+Y];return ys[255+L[$-2*Y]-L[$-Y]]>te||ys[255+he-ce]>te}function Cl(L,$,Y,te){return 4*ys[255+L[$-Y]-L[$+0]]+ys[255+L[$-2*Y]-L[$+Y]]<=te}function Nl(L,$,Y,te,ce){var he=L[$-3*Y],fe=L[$-2*Y],pe=L[$-Y],ge=L[$+0],ve=L[$+Y],Ae=L[$+2*Y],De=L[$+3*Y];return 4*ys[255+pe-ge]+ys[255+fe-ve]>te?0:ys[255+L[$-4*Y]-he]<=ce&&ys[255+he-fe]<=ce&&ys[255+fe-pe]<=ce&&ys[255+De-Ae]<=ce&&ys[255+Ae-ve]<=ce&&ys[255+ve-ge]<=ce}function Ao(L,$,Y,te){var ce=2*te+1;for(te=0;16>te;++te)Cl(L,$+te,Y,ce)&&oa(L,$+te,Y)}function Yi(L,$,Y,te){var ce=2*te+1;for(te=0;16>te;++te)Cl(L,$+te*Y,1,ce)&&oa(L,$+te*Y,1)}function Ln(L,$,Y,te){var ce;for(ce=3;0<ce;--ce)Ao(L,$+=4*Y,Y,te)}function Eu(L,$,Y,te){var ce;for(ce=3;0<ce;--ce)Yi(L,$+=4,Y,te)}function to(L,$,Y,te,ce,he,fe,pe){for(he=2*he+1;0<ce--;){if(Nl(L,$,Y,he,fe))if(Tl(L,$,Y,pe))oa(L,$,Y);else{var ge=L,ve=$,Ae=Y,De=ge[ve-2*Ae],Fe=ge[ve-Ae],Me=ge[ve+0],Je=ge[ve+Ae],$e=ge[ve+2*Ae],Ce=27*(Ye=e0[1020+3*(Me-Fe)+e0[1020+De-Je]])+63>>7,Pe=18*Ye+63>>7,Ye=9*Ye+63>>7;ge[ve-3*Ae]=Qi[255+ge[ve-3*Ae]+Ye],ge[ve-2*Ae]=Qi[255+De+Pe],ge[ve-Ae]=Qi[255+Fe+Ce],ge[ve+0]=Qi[255+Me-Ce],ge[ve+Ae]=Qi[255+Je-Pe],ge[ve+2*Ae]=Qi[255+$e-Ye]}$+=te}}function Gn(L,$,Y,te,ce,he,fe,pe){for(he=2*he+1;0<ce--;){if(Nl(L,$,Y,he,fe))if(Tl(L,$,Y,pe))oa(L,$,Y);else{var ge=L,ve=$,Ae=Y,De=ge[ve-Ae],Fe=ge[ve+0],Me=ge[ve+Ae],Je=ed[112+(($e=3*(Fe-De))+4>>3)],$e=ed[112+($e+3>>3)],Ce=Je+1>>1;ge[ve-2*Ae]=Qi[255+ge[ve-2*Ae]+Ce],ge[ve-Ae]=Qi[255+De+$e],ge[ve+0]=Qi[255+Fe-Je],ge[ve+Ae]=Qi[255+Me-Ce]}$+=te}}function aa(L,$,Y,te,ce,he){to(L,$,Y,1,16,te,ce,he)}function Ms(L,$,Y,te,ce,he){to(L,$,1,Y,16,te,ce,he)}function la(L,$,Y,te,ce,he){var fe;for(fe=3;0<fe;--fe)Gn(L,$+=4*Y,Y,1,16,te,ce,he)}function To(L,$,Y,te,ce,he){var fe;for(fe=3;0<fe;--fe)Gn(L,$+=4,1,Y,16,te,ce,he)}function ua(L,$,Y,te,ce,he,fe,pe){to(L,$,ce,1,8,he,fe,pe),to(Y,te,ce,1,8,he,fe,pe)}function Pl(L,$,Y,te,ce,he,fe,pe){to(L,$,1,ce,8,he,fe,pe),to(Y,te,1,ce,8,he,fe,pe)}function ca(L,$,Y,te,ce,he,fe,pe){Gn(L,$+4*ce,ce,1,8,he,fe,pe),Gn(Y,te+4*ce,ce,1,8,he,fe,pe)}function ro(L,$,Y,te,ce,he,fe,pe){Gn(L,$+4,1,ce,8,he,fe,pe),Gn(Y,te+4,1,ce,8,he,fe,pe)}function Co(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new At,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ha(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function No(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fa(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new R}function Au(){this.xb=this.a=0,this.l=new zt,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fa,this.ab=0,this.gc=o(4,No),this.Oc=0}function js(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function no(L,$,Y,te,ce,he,fe){for(L=L==null?0:L[$+0],$=0;$<fe;++$)ce[he+$]=L+Y[te+$]&255,L=ce[he+$]}function da(L,$,Y,te,ce,he,fe){var pe;if(L==null)no(null,null,Y,te,ce,he,fe);else for(pe=0;pe<fe;++pe)ce[he+pe]=L[$+pe]+Y[te+pe]&255}function oi(L,$,Y,te,ce,he,fe){if(L==null)no(null,null,Y,te,ce,he,fe);else{var pe,ge=L[$+0],ve=ge,Ae=ge;for(pe=0;pe<fe;++pe)ve=Ae+(ge=L[$+pe])-ve,Ae=Y[te+pe]+(-256&ve?0>ve?0:255:ve)&255,ve=ge,ce[he+pe]=Ae}}function pa(L,$,Y,te){var ce=$.width,he=$.o;if(t(L!=null&&$!=null),0>Y||0>=te||Y+te>he)return null;if(!L.Cc){if(L.ga==null){var fe;if(L.ga=new js,(fe=L.ga==null)||(fe=$.width*$.o,t(L.Gb.length==0),L.Gb=i(fe),L.Uc=0,L.Gb==null?fe=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,fe=1),fe=!fe),!fe){fe=L.ga;var pe=L.Fa,ge=L.P,ve=L.qc,Ae=L.mb,De=L.nb,Fe=ge+1,Me=ve-1,Je=fe.l;if(t(pe!=null&&Ae!=null&&$!=null),wa[0]=null,wa[1]=no,wa[2]=da,wa[3]=oi,fe.ca=Ae,fe.tb=De,fe.c=$.width,fe.i=$.height,t(0<fe.c&&0<fe.i),1>=ve)$=0;else if(fe.$a=pe[ge+0]>>0&3,fe.Z=pe[ge+0]>>2&3,fe.Lc=pe[ge+0]>>4&3,ge=pe[ge+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ge)$=0;else if(Je.put=er,Je.ac=qt,Je.bc=Dt,Je.ma=fe,Je.width=$.width,Je.height=$.height,Je.Da=$.Da,Je.v=$.v,Je.va=$.va,Je.j=$.j,Je.o=$.o,fe.$a)e:{t(fe.$a==1),$=bt();t:for(;;){if($==null){$=0;break e}if(t(fe!=null),fe.mc=$,$.c=fe.c,$.i=fe.i,$.l=fe.l,$.l.ma=fe,$.l.width=fe.c,$.l.height=fe.i,$.a=0,x($.m,pe,Fe,Me),!Lt(fe.c,fe.i,1,$,null)||($.ab==1&&$.gc[0].hc==3&&pt($.s)?(fe.ic=1,pe=$.c*$.i,$.Ta=null,$.Ua=0,$.V=i(pe),$.Ba=0,$.V==null?($.a=1,$=0):$=1):(fe.ic=0,$=or($,fe.c)),!$))break t;$=1;break e}fe.mc=null,$=0}else $=Me>=fe.c*fe.i;fe=!$}if(fe)return null;L.ga.Lc!=1?L.Ga=0:te=he-Y}t(L.ga!=null),t(Y+te<=he);e:{if($=(pe=L.ga).c,he=pe.l.o,pe.$a==0){if(Fe=L.rc,Me=L.Vc,Je=L.Fa,ge=L.P+1+Y*$,ve=L.mb,Ae=L.nb+Y*$,t(ge<=L.P+L.qc),pe.Z!=0)for(t(wa[pe.Z]!=null),fe=0;fe<te;++fe)wa[pe.Z](Fe,Me,Je,ge,ve,Ae,$),Fe=ve,Me=Ae,Ae+=$,ge+=$;else for(fe=0;fe<te;++fe)n(ve,Ae,Je,ge,$),Fe=ve,Me=Ae,Ae+=$,ge+=$;L.rc=Fe,L.Vc=Me}else{if(t(pe.mc!=null),$=Y+te,t((fe=pe.mc)!=null),t($<=fe.i),fe.C>=$)$=1;else if(pe.ic||Re(),pe.ic){pe=fe.V,Fe=fe.Ba,Me=fe.c;var $e=fe.i,Ce=(Je=1,ge=fe.$/Me,ve=fe.$%Me,Ae=fe.m,De=fe.s,fe.$),Pe=Me*$e,Ye=Me*$,ot=De.wc,Ze=Ce<Ye?ze(De,ve,ge):null;t(Ce<=Pe),t($<=$e),t(pt(De));t:for(;;){for(;!Ae.h&&Ce<Ye;){if(ve&ot||(Ze=ze(De,ve,ge)),t(Ze!=null),V(Ae),256>($e=ke(Ze.G[0],Ze.H[0],Ae)))pe[Fe+Ce]=$e,++Ce,++ve>=Me&&(ve=0,++ge<=$&&!(ge%16)&&Ve(fe,ge));else{if(!(280>$e)){Je=0;break t}$e=ir($e-256,Ae);var It,kt=ke(Ze.G[4],Ze.H[4],Ae);if(V(Ae),!(Ce>=(kt=Ut(Me,kt=ir(kt,Ae)))&&Pe-Ce>=$e)){Je=0;break t}for(It=0;It<$e;++It)pe[Fe+Ce+It]=pe[Fe+Ce+It-kt];for(Ce+=$e,ve+=$e;ve>=Me;)ve-=Me,++ge<=$&&!(ge%16)&&Ve(fe,ge);Ce<Ye&&ve&ot&&(Ze=ze(De,ve,ge))}t(Ae.h==X(Ae))}Ve(fe,ge>$?$:ge);break t}!Je||Ae.h&&Ce<Pe?(Je=0,fe.a=Ae.h?5:3):fe.$=Ce,$=Je}else $=it(fe,fe.V,fe.Ba,fe.c,fe.i,$,yr);if(!$){te=0;break e}}Y+te>=he&&(L.Cc=1),te=1}if(!te)return null;if(L.Cc&&((te=L.ga)!=null&&(te.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+Y*ce}function K(L,$,Y,te,ce,he){for(;0<ce--;){var fe,pe=L,ge=$+(Y?1:0),ve=L,Ae=$+(Y?0:3);for(fe=0;fe<te;++fe){var De=ve[Ae+4*fe];De!=255&&(De*=32897,pe[ge+4*fe+0]=pe[ge+4*fe+0]*De>>23,pe[ge+4*fe+1]=pe[ge+4*fe+1]*De>>23,pe[ge+4*fe+2]=pe[ge+4*fe+2]*De>>23)}$+=he}}function ue(L,$,Y,te,ce){for(;0<te--;){var he;for(he=0;he<Y;++he){var fe=L[$+2*he+0],pe=15&(ve=L[$+2*he+1]),ge=4369*pe,ve=(240&ve|ve>>4)*ge>>16;L[$+2*he+0]=(240&fe|fe>>4)*ge>>16&240|(15&fe|fe<<4)*ge>>16>>4&15,L[$+2*he+1]=240&ve|pe}$+=ce}}function xe(L,$,Y,te,ce,he,fe,pe){var ge,ve,Ae=255;for(ve=0;ve<ce;++ve){for(ge=0;ge<te;++ge){var De=L[$+ge];he[fe+4*ge]=De,Ae&=De}$+=Y,fe+=pe}return Ae!=255}function Ee(L,$,Y,te,ce){var he;for(he=0;he<ce;++he)Y[te+he]=L[$+he]>>8}function Re(){gs=K,Kr=ue,Yr=xe,kn=Ee}function Xe(L,$,Y){T[L]=function(te,ce,he,fe,pe,ge,ve,Ae,De,Fe,Me,Je,$e,Ce,Pe,Ye,ot){var Ze,It=ot-1>>1,kt=pe[ge+0]|ve[Ae+0]<<16,Gt=De[Fe+0]|Me[Je+0]<<16;t(te!=null);var Tt=3*kt+Gt+131074>>2;for($(te[ce+0],255&Tt,Tt>>16,$e,Ce),he!=null&&(Tt=3*Gt+kt+131074>>2,$(he[fe+0],255&Tt,Tt>>16,Pe,Ye)),Ze=1;Ze<=It;++Ze){var Rr=pe[ge+Ze]|ve[Ae+Ze]<<16,Ur=De[Fe+Ze]|Me[Je+Ze]<<16,Cr=kt+Rr+Gt+Ur+524296,kr=Cr+2*(Rr+Gt)>>3;Tt=kr+kt>>1,kt=(Cr=Cr+2*(kt+Ur)>>3)+Rr>>1,$(te[ce+2*Ze-1],255&Tt,Tt>>16,$e,Ce+(2*Ze-1)*Y),$(te[ce+2*Ze-0],255&kt,kt>>16,$e,Ce+(2*Ze-0)*Y),he!=null&&(Tt=Cr+Gt>>1,kt=kr+Ur>>1,$(he[fe+2*Ze-1],255&Tt,Tt>>16,Pe,Ye+(2*Ze-1)*Y),$(he[fe+2*Ze+0],255&kt,kt>>16,Pe,Ye+(2*Ze+0)*Y)),kt=Rr,Gt=Ur}1&ot||(Tt=3*kt+Gt+131074>>2,$(te[ce+ot-1],255&Tt,Tt>>16,$e,Ce+(ot-1)*Y),he!=null&&(Tt=3*Gt+kt+131074>>2,$(he[fe+ot-1],255&Tt,Tt>>16,Pe,Ye+(ot-1)*Y)))}}function lt(){vs[td]=dS,vs[rd]=yv,vs[fv]=pS,vs[nd]=vv,vs[id]=bv,vs[t0]=wv,vs[dv]=mS,vs[r0]=yv,vs[n0]=vv,vs[sd]=bv,vs[i0]=wv}function Et(L){return L&-16384?0>L?0:255:L>>gS}function U(L,$){return Et((19077*L>>8)+(26149*$>>8)-14234)}function J(L,$,Y){return Et((19077*L>>8)-(6419*$>>8)-(13320*Y>>8)+8708)}function re(L,$){return Et((19077*L>>8)+(33050*$>>8)-17685)}function de(L,$,Y,te,ce){te[ce+0]=U(L,Y),te[ce+1]=J(L,$,Y),te[ce+2]=re(L,$)}function Ie(L,$,Y,te,ce){te[ce+0]=re(L,$),te[ce+1]=J(L,$,Y),te[ce+2]=U(L,Y)}function Be(L,$,Y,te,ce){var he=J(L,$,Y);$=he<<3&224|re(L,$)>>3,te[ce+0]=248&U(L,Y)|he>>5,te[ce+1]=$}function ht(L,$,Y,te,ce){var he=240&re(L,$)|15;te[ce+0]=240&U(L,Y)|J(L,$,Y)>>4,te[ce+1]=he}function lr(L,$,Y,te,ce){te[ce+0]=255,de(L,$,Y,te,ce+1)}function Sr(L,$,Y,te,ce){Ie(L,$,Y,te,ce),te[ce+3]=255}function ur(L,$,Y,te,ce){de(L,$,Y,te,ce),te[ce+3]=255}function Lr(L,$){return 0>L?0:L>$?$:L}function Wr(L,$,Y){T[L]=function(te,ce,he,fe,pe,ge,ve,Ae,De){for(var Fe=Ae+(-2&De)*Y;Ae!=Fe;)$(te[ce+0],he[fe+0],pe[ge+0],ve,Ae),$(te[ce+1],he[fe+0],pe[ge+0],ve,Ae+Y),ce+=2,++fe,++ge,Ae+=2*Y;1&De&&$(te[ce+0],he[fe+0],pe[ge+0],ve,Ae)}}function Ls(L,$,Y){return Y==0?L==0?$==0?6:5:$==0?4:0:Y}function Kn(L,$,Y,te,ce){switch(L>>>30){case 3:Ro($,Y,te,ce,0);break;case 2:Sn($,Y,te,ce);break;case 1:Ai($,Y,te,ce)}}function io(L,$){var Y,te,ce=$.M,he=$.Nb,fe=L.oc,pe=L.pc+40,ge=L.oc,ve=L.pc+584,Ae=L.oc,De=L.pc+600;for(Y=0;16>Y;++Y)fe[pe+32*Y-1]=129;for(Y=0;8>Y;++Y)ge[ve+32*Y-1]=129,Ae[De+32*Y-1]=129;for(0<ce?fe[pe-1-32]=ge[ve-1-32]=Ae[De-1-32]=129:(s(fe,pe-32-1,127,21),s(ge,ve-32-1,127,9),s(Ae,De-32-1,127,9)),te=0;te<L.za;++te){var Fe=$.ya[$.aa+te];if(0<te){for(Y=-1;16>Y;++Y)n(fe,pe+32*Y-4,fe,pe+32*Y+12,4);for(Y=-1;8>Y;++Y)n(ge,ve+32*Y-4,ge,ve+32*Y+4,4),n(Ae,De+32*Y-4,Ae,De+32*Y+4,4)}var Me=L.Gd,Je=L.Hd+te,$e=Fe.ad,Ce=Fe.Hc;if(0<ce&&(n(fe,pe-32,Me[Je].y,0,16),n(ge,ve-32,Me[Je].f,0,8),n(Ae,De-32,Me[Je].ea,0,8)),Fe.Za){var Pe=fe,Ye=pe-32+16;for(0<ce&&(te>=L.za-1?s(Pe,Ye,Me[Je].y[15],4):n(Pe,Ye,Me[Je+1].y,0,4)),Y=0;4>Y;Y++)Pe[Ye+128+Y]=Pe[Ye+256+Y]=Pe[Ye+384+Y]=Pe[Ye+0+Y];for(Y=0;16>Y;++Y,Ce<<=2)Pe=fe,Ye=pe+xv[Y],Os[Fe.Ob[Y]](Pe,Ye),Kn(Ce,$e,16*+Y,Pe,Ye)}else if(Pe=Ls(te,ce,Fe.Ob[0]),ba[Pe](fe,pe),Ce!=0)for(Y=0;16>Y;++Y,Ce<<=2)Kn(Ce,$e,16*+Y,fe,pe+xv[Y]);for(Y=Fe.Gc,Pe=Ls(te,ce,Fe.Dd),jo[Pe](ge,ve),jo[Pe](Ae,De),Ce=$e,Pe=ge,Ye=ve,255&(Fe=Y>>0)&&(170&Fe?Xc(Ce,256,Pe,Ye):ps(Ce,256,Pe,Ye)),Fe=Ae,Ce=De,255&(Y>>=8)&&(170&Y?Xc($e,320,Fe,Ce):ps($e,320,Fe,Ce)),ce<L.Ub-1&&(n(Me[Je].y,0,fe,pe+480,16),n(Me[Je].f,0,ge,ve+224,8),n(Me[Je].ea,0,Ae,De+224,8)),Y=8*he*L.B,Me=L.sa,Je=L.ta+16*te+16*he*L.R,$e=L.qa,Fe=L.ra+8*te+Y,Ce=L.Ha,Pe=L.Ia+8*te+Y,Y=0;16>Y;++Y)n(Me,Je+Y*L.R,fe,pe+32*Y,16);for(Y=0;8>Y;++Y)n($e,Fe+Y*L.B,ge,ve+32*Y,8),n(Ce,Pe+Y*L.B,Ae,De+32*Y,8)}}function so(L,$,Y,te,ce,he,fe,pe,ge){var ve=[0],Ae=[0],De=0,Fe=ge!=null?ge.kd:0,Me=ge??new ha;if(L==null||12>Y)return 7;Me.data=L,Me.w=$,Me.ha=Y,$=[$],Y=[Y],Me.gb=[Me.gb];e:{var Je=$,$e=Y,Ce=Me.gb;if(t(L!=null),t($e!=null),t(Ce!=null),Ce[0]=0,12<=$e[0]&&!e(L,Je[0],"RIFF")){if(e(L,Je[0]+8,"WEBP")){Ce=3;break e}var Pe=ie(L,Je[0]+4);if(12>Pe||4294967286<Pe){Ce=3;break e}if(Fe&&Pe>$e[0]-8){Ce=7;break e}Ce[0]=Pe,Je[0]+=12,$e[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Pe=0<Me.gb[0],Y=Y[0];;){e:{var Ye=L;$e=$,Ce=Y;var ot=ve,Ze=Ae,It=Je=[0];if((Tt=De=[De])[0]=0,8>Ce[0])Ce=7;else{if(!e(Ye,$e[0],"VP8X")){if(ie(Ye,$e[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var kt=ie(Ye,$e[0]+8),Gt=1+oe(Ye,$e[0]+12);if(2147483648<=Gt*(Ye=1+oe(Ye,$e[0]+15))){Ce=3;break e}It!=null&&(It[0]=kt),ot!=null&&(ot[0]=Gt),Ze!=null&&(Ze[0]=Ye),$e[0]+=18,Ce[0]-=18,Tt[0]=1}Ce=0}}if(De=De[0],Je=Je[0],Ce!=0)return Ce;if($e=!!(2&Je),!Pe&&De)return 3;if(he!=null&&(he[0]=!!(16&Je)),fe!=null&&(fe[0]=$e),pe!=null&&(pe[0]=0),fe=ve[0],Je=Ae[0],De&&$e&&ge==null){Ce=0;break}if(4>Y){Ce=7;break}if(Pe&&De||!Pe&&!De&&!e(L,$[0],"ALPH")){Y=[Y],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{kt=L,Ce=$,Pe=Y;var Tt=Me.gb;ot=Me.na,Ze=Me.P,It=Me.Sa,Gt=22,t(kt!=null),t(Pe!=null),Ye=Ce[0];var Rr=Pe[0];for(t(ot!=null),t(It!=null),ot[0]=null,Ze[0]=null,It[0]=0;;){if(Ce[0]=Ye,Pe[0]=Rr,8>Rr){Ce=7;break e}var Ur=ie(kt,Ye+4);if(4294967286<Ur){Ce=3;break e}var Cr=8+Ur+1&-2;if(Gt+=Cr,0<Tt&&Gt>Tt){Ce=3;break e}if(!e(kt,Ye,"VP8 ")||!e(kt,Ye,"VP8L")){Ce=0;break e}if(Rr[0]<Cr){Ce=7;break e}e(kt,Ye,"ALPH")||(ot[0]=kt,Ze[0]=Ye+8,It[0]=Ur),Ye+=Cr,Rr-=Cr}}if(Y=Y[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ce!=0)break}Y=[Y],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Tt=L,Ce=$,Pe=Y,ot=Me.gb[0],Ze=Me.Ja,It=Me.xa,kt=Ce[0],Ye=!e(Tt,kt,"VP8 "),Gt=!e(Tt,kt,"VP8L"),t(Tt!=null),t(Pe!=null),t(Ze!=null),t(It!=null),8>Pe[0])Ce=7;else{if(Ye||Gt){if(Tt=ie(Tt,kt+4),12<=ot&&Tt>ot-12){Ce=3;break e}if(Fe&&Tt>Pe[0]-8){Ce=7;break e}Ze[0]=Tt,Ce[0]+=8,Pe[0]-=8,It[0]=Gt}else It[0]=5<=Pe[0]&&Tt[kt+0]==47&&!(Tt[kt+4]>>5),Ze[0]=Pe[0];Ce=0}if(Y=Y[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],$=$[0],Ce!=0)break;if(4294967286<Me.Ja)return 3;if(pe==null||$e||(pe[0]=Me.xa?2:1),fe=[fe],Je=[Je],Me.xa){if(5>Y){Ce=7;break}pe=fe,Fe=Je,$e=he,L==null||5>Y?L=0:5<=Y&&L[$+0]==47&&!(L[$+4]>>5)?(Pe=[0],Tt=[0],ot=[0],x(Ze=new P,L,$,Y),ct(Ze,Pe,Tt,ot)?(pe!=null&&(pe[0]=Pe[0]),Fe!=null&&(Fe[0]=Tt[0]),$e!=null&&($e[0]=ot[0]),L=1):L=0):L=0}else{if(10>Y){Ce=7;break}pe=Je,L==null||10>Y||!wr(L,$+3,Y-3)?L=0:(Fe=L[$+0]|L[$+1]<<8|L[$+2]<<16,$e=16383&(L[$+7]<<8|L[$+6]),L=16383&(L[$+9]<<8|L[$+8]),1&Fe||3<(Fe>>1&7)||!(Fe>>4&1)||Fe>>5>=Me.Ja||!$e||!L?L=0:(fe&&(fe[0]=$e),pe&&(pe[0]=L),L=1))}if(!L||(fe=fe[0],Je=Je[0],De&&(ve[0]!=fe||Ae[0]!=Je)))return 3;ge!=null&&(ge[0]=Me,ge.offset=$-ge.w,t(4294967286>$-ge.w),t(ge.offset==ge.ha-Y));break}return Ce==0||Ce==7&&De&&ge==null?(he!=null&&(he[0]|=Me.na!=null&&0<Me.na.length),te!=null&&(te[0]=fe),ce!=null&&(ce[0]=Je),0):Ce}function qc(L,$,Y){var te=$.width,ce=$.height,he=0,fe=0,pe=te,ge=ce;if($.Da=L!=null&&0<L.Da,$.Da&&(pe=L.cd,ge=L.bd,he=L.v,fe=L.j,11>Y||(he&=-2,fe&=-2),0>he||0>fe||0>=pe||0>=ge||he+pe>te||fe+ge>ce))return 0;if($.v=he,$.j=fe,$.va=he+pe,$.o=fe+ge,$.U=pe,$.T=ge,$.da=L!=null&&0<L.da,$.da){if(!se(pe,ge,Y=[L.ib],he=[L.hb]))return 0;$.ib=Y[0],$.hb=he[0]}return $.ob=L!=null&&L.ob,$.Kb=L==null||!L.Sd,$.da&&($.ob=$.ib<3*te/4&&$.hb<3*ce/4,$.Kb=0),1}function Hc(L){if(L==null)return 2;if(11>L.S){var $=L.f.RGBA;$.fb+=(L.height-1)*$.A,$.A=-$.A}else $=L.f.kb,L=L.height,$.O+=(L-1)*$.fa,$.fa=-$.fa,$.N+=(L-1>>1)*$.Ab,$.Ab=-$.Ab,$.W+=(L-1>>1)*$.Db,$.Db=-$.Db,$.F!=null&&($.J+=(L-1)*$.lb,$.lb=-$.lb);return 0}function Tu(L,$,Y,te){if(te==null||0>=L||0>=$)return 2;if(Y!=null){if(Y.Da){var ce=Y.cd,he=Y.bd,fe=-2&Y.v,pe=-2&Y.j;if(0>fe||0>pe||0>=ce||0>=he||fe+ce>L||pe+he>$)return 2;L=ce,$=he}if(Y.da){if(!se(L,$,ce=[Y.ib],he=[Y.hb]))return 2;L=ce[0],$=he[0]}}te.width=L,te.height=$;e:{var ge=te.width,ve=te.height;if(L=te.S,0>=ge||0>=ve||!(L>=td&&13>L))L=2;else{if(0>=te.Rd&&te.sd==null){fe=he=ce=$=0;var Ae=(pe=ge*Sv[L])*ve;if(11>L||(he=(ve+1)/2*($=(ge+1)/2),L==12&&(fe=(ce=ge)*ve)),(ve=i(Ae+2*he+fe))==null){L=1;break e}te.sd=ve,11>L?((ge=te.f.RGBA).eb=ve,ge.fb=0,ge.A=pe,ge.size=Ae):((ge=te.f.kb).y=ve,ge.O=0,ge.fa=pe,ge.Fd=Ae,ge.f=ve,ge.N=0+Ae,ge.Ab=$,ge.Cd=he,ge.ea=ve,ge.W=0+Ae+he,ge.Db=$,ge.Ed=he,L==12&&(ge.F=ve,ge.J=0+Ae+2*he),ge.Tc=fe,ge.lb=ce)}if($=1,ce=te.S,he=te.width,fe=te.height,ce>=td&&13>ce)if(11>ce)L=te.f.RGBA,$&=(pe=Math.abs(L.A))*(fe-1)+he<=L.size,$&=pe>=he*Sv[ce],$&=L.eb!=null;else{L=te.f.kb,pe=(he+1)/2,Ae=(fe+1)/2,ge=Math.abs(L.fa),ve=Math.abs(L.Ab);var De=Math.abs(L.Db),Fe=Math.abs(L.lb),Me=Fe*(fe-1)+he;$&=ge*(fe-1)+he<=L.Fd,$&=ve*(Ae-1)+pe<=L.Cd,$=($&=De*(Ae-1)+pe<=L.Ed)&ge>=he&ve>=pe&De>=pe,$&=L.y!=null,$&=L.f!=null,$&=L.ea!=null,ce==12&&($&=Fe>=he,$&=Me<=L.Tc,$&=L.F!=null)}else $=0;L=$?0:2}}return L!=0||Y!=null&&Y.fd&&(L=Hc(te)),L}var Yn=64,Cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nu=24,Pu=32,$c=8,Di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(L){return L},T.Predictor2=function(L,$,Y){return $[Y+0]},T.Predictor3=function(L,$,Y){return $[Y+1]},T.Predictor4=function(L,$,Y){return $[Y-1]},T.Predictor5=function(L,$,Y){return Se(Se(L,$[Y+1]),$[Y+0])},T.Predictor6=function(L,$,Y){return Se(L,$[Y-1])},T.Predictor7=function(L,$,Y){return Se(L,$[Y+0])},T.Predictor8=function(L,$,Y){return Se($[Y-1],$[Y+0])},T.Predictor9=function(L,$,Y){return Se($[Y+0],$[Y+1])},T.Predictor10=function(L,$,Y){return Se(Se(L,$[Y-1]),Se($[Y+0],$[Y+1]))},T.Predictor11=function(L,$,Y){var te=$[Y+0];return 0>=Ue(te>>24&255,L>>24&255,($=$[Y-1])>>24&255)+Ue(te>>16&255,L>>16&255,$>>16&255)+Ue(te>>8&255,L>>8&255,$>>8&255)+Ue(255&te,255&L,255&$)?te:L},T.Predictor12=function(L,$,Y){var te=$[Y+0];return(Te((L>>24&255)+(te>>24&255)-(($=$[Y-1])>>24&255))<<24|Te((L>>16&255)+(te>>16&255)-($>>16&255))<<16|Te((L>>8&255)+(te>>8&255)-($>>8&255))<<8|Te((255&L)+(255&te)-(255&$)))>>>0},T.Predictor13=function(L,$,Y){var te=$[Y-1];return(je((L=Se(L,$[Y+0]))>>24&255,te>>24&255)<<24|je(L>>16&255,te>>16&255)<<16|je(L>>8&255,te>>8&255)<<8|je(L>>0&255,te>>0&255))>>>0};var Jm=T.PredictorAdd0;T.PredictorAdd1=qe,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var Wc=T.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var Kf,ds=T.ColorIndexInverseTransform,Iu=T.MapARGB,Yf=T.VP8LColorIndexInverseTransformAlpha,Qf=T.MapAlpha,ma=T.VP8LPredictorsAdd=[];ma.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Il,Fi,Ei,ga,Po,Io,Ru,Ro,Sn,Xc,Ai,ps,Mu,Zf,Gc,Rl,Ml,ya,jl,ju,Ll,va,Kc,ms,gs,Kr,Yr,kn,On=i(511),Mo=i(2041),Yc=i(225),Lu=i(767),Jf=0,e0=Mo,ed=Yc,Qi=Lu,ys=On,td=0,rd=1,fv=2,nd=3,id=4,t0=5,dv=6,r0=7,n0=8,sd=9,i0=10,J8=[2,3,7],eS=[3,3,11],pv=[280,256,256,256,40],tS=[0,1,1,1,0],rS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sS=8,s0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],o0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,oS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ba=[],Os=[],jo=[],fS=1,gv=2,wa=[],vs=[];Xe("UpsampleRgbLinePair",de,3),Xe("UpsampleBgrLinePair",Ie,3),Xe("UpsampleRgbaLinePair",ur,4),Xe("UpsampleBgraLinePair",Sr,4),Xe("UpsampleArgbLinePair",lr,4),Xe("UpsampleRgba4444LinePair",ht,2),Xe("UpsampleRgb565LinePair",Be,2);var dS=T.UpsampleRgbLinePair,pS=T.UpsampleBgrLinePair,yv=T.UpsampleRgbaLinePair,vv=T.UpsampleBgraLinePair,bv=T.UpsampleArgbLinePair,wv=T.UpsampleRgba4444LinePair,mS=T.UpsampleRgb565LinePair,od=16,ad=1<<od-1,Zc=-227,a0=482,gS=6,_v=0,yS=i(256),vS=i(256),bS=i(256),wS=i(256),_S=i(a0-Zc),xS=i(a0-Zc);Wr("YuvToRgbRow",de,3),Wr("YuvToBgrRow",Ie,3),Wr("YuvToRgbaRow",ur,4),Wr("YuvToBgraRow",Sr,4),Wr("YuvToArgbRow",lr,4),Wr("YuvToRgba4444Row",ht,2),Wr("YuvToRgb565Row",Be,2);var xv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ld=[0,2,8],SS=[8,7,6,4,4,2,2,2,1,1,1,1],kS=1;this.WebPDecodeRGBA=function(L,$,Y,te,ce){var he=rd,fe=new Co,pe=new Xt;fe.ba=pe,pe.S=he,pe.width=[pe.width],pe.height=[pe.height];var ge=pe.width,ve=pe.height,Ae=new $t;if(Ae==null||L==null)var De=2;else t(Ae!=null),De=so(L,$,Y,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(De!=0?ge=0:(ge!=null&&(ge[0]=Ae.width[0]),ve!=null&&(ve[0]=Ae.height[0]),ge=1),ge){pe.width=pe.width[0],pe.height=pe.height[0],te!=null&&(te[0]=pe.width),ce!=null&&(ce[0]=pe.height);e:{if(te=new zt,(ce=new ha).data=L,ce.w=$,ce.ha=Y,ce.kd=1,$=[0],t(ce!=null),((L=so(ce.data,ce.w,ce.ha,null,null,null,$,null,ce))==0||L==7)&&$[0]&&(L=4),($=L)==0){if(t(fe!=null),te.data=ce.data,te.w=ce.w+ce.offset,te.ha=ce.ha-ce.offset,te.put=er,te.ac=qt,te.bc=Dt,te.ma=fe,ce.xa){if((L=bt())==null){fe=1;break e}if(function(Fe,Me){var Je=[0],$e=[0],Ce=[0];t:for(;;){if(Fe==null)return 0;if(Me==null)return Fe.a=2,0;if(Fe.l=Me,Fe.a=0,x(Fe.m,Me.data,Me.w,Me.ha),!ct(Fe.m,Je,$e,Ce)){Fe.a=3;break t}if(Fe.xb=gv,Me.width=Je[0],Me.height=$e[0],!Lt(Je[0],$e[0],1,Fe,null))break t;return 1}return t(Fe.a!=0),0}(L,te)){if(te=($=Tu(te.width,te.height,fe.Oa,fe.ba))==0){t:{te=L;r:for(;;){if(te==null){te=0;break t}if(t(te.s.yc!=null),t(te.s.Ya!=null),t(0<te.s.Wb),t((Y=te.l)!=null),t((ce=Y.ma)!=null),te.xb!=0){if(te.ca=ce.ba,te.tb=ce.tb,t(te.ca!=null),!qc(ce.Oa,Y,nd)){te.a=2;break r}if(!or(te,Y.width)||Y.da)break r;if((Y.da||Ct(te.ca.S))&&Re(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&Re()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!ae(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!it(te,te.V,te.Ba,te.c,te.i,Y.o,Ft))break r;ce.Dc=te.Ma,te=1;break t}t(te.a!=0),te=0}te=!te}te&&($=L.a)}else $=L.a}else{if((L=new br)==null){fe=1;break e}if(L.Fa=ce.na,L.P=ce.P,L.qc=ce.Sa,Ir(L,te)){if(($=Tu(te.width,te.height,fe.Oa,fe.ba))==0){if(L.Aa=0,Y=fe.Oa,t((ce=L)!=null),Y!=null){if(0<(ge=0>(ge=Y.Md)?0:100<ge?255:255*ge/100)){for(ve=Ae=0;4>ve;++ve)12>(De=ce.pb[ve]).lc&&(De.ia=ge*SS[0>De.lc?0:De.lc]>>3),Ae|=De.ia;Ae&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=Y.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}Un(L,te)||($=L.a)}}else $=L.a}$==0&&fe.Oa!=null&&fe.Oa.fd&&($=Hc(fe.ba))}fe=$}he=fe!=0?null:11>he?pe.f.RGBA.eb:pe.f.kb.y}else he=null;return he};var Sv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(T,M){for(var B="",O=0;O<4;O++)B+=String.fromCharCode(T[M++]);return B}function c(T,M){return(T[M+0]<<0|T[M+1]<<8|T[M+2]<<16)>>>0}function d(T,M){return(T[M+0]<<0|T[M+1]<<8|T[M+2]<<16|T[M+3]<<24)>>>0}new a;var f=[0],h=[0],g=[],v=new a,p=r,y=function(T,M){var B={},O=0,R=!1,E=0,I=0;if(B.frames=[],!function(H,X,Z,V){for(var Q=0;Q<V;Q++)if(H[X+Q]!=Z.charCodeAt(Q))return!0;return!1}(T,M,"RIFF",4)){var A,w;for(d(T,M+=4),M+=8;M<T.length;){var _=l(T,M),x=d(T,M+=4);M+=4;var S=x+(1&x);switch(_){case"VP8 ":case"VP8L":B.frames[O]===void 0&&(B.frames[O]={}),(P=B.frames[O]).src_off=R?I:M-8,P.src_size=E+x+8,O++,R&&(R=!1,E=0,I=0);break;case"VP8X":(P=B.header={}).feature_flags=T[M];var C=M+4;P.canvas_width=1+c(T,C),C+=3,P.canvas_height=1+c(T,C),C+=3;break;case"ALPH":R=!0,E=S+8,I=M-8;break;case"ANIM":(P=B.header).bgcolor=d(T,M),C=M+4,P.loop_count=(A=T)[(w=C)+0]<<0|A[w+1]<<8,C+=2;break;case"ANMF":var q,P;(P=B.frames[O]={}).offset_x=2*c(T,M),M+=3,P.offset_y=2*c(T,M),M+=3,P.width=1+c(T,M),M+=3,P.height=1+c(T,M),M+=3,P.duration=c(T,M),M+=3,q=T[M++],P.dispose=1&q,P.blend=q>>1&1}_!="ANMF"&&(M+=S)}return B}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var m=y.header?y.header:null,b=y.frames?y.frames:null;if(m){m.loop_counter=m.loop_count,f=[m.canvas_height],h=[m.canvas_width];for(var k=0;k<b.length&&b[k].blend!=0;k++);}var N=b[0],F=v.WebPDecodeRGBA(p,N.src_off,N.src_size,h,f);N.rgba=F,N.imgwidth=h[0],N.imgheight=f[0];for(var j=0;j<h[0]*f[0]*4;j++)g[j]=F[j];return this.width=h,this.height=f,this.data=g,this}(function(r){var t=function(){return typeof Q1=="function"},e=function(f,h,g,v){var p=4,y=o;switch(v){case r.image_compression.FAST:p=1,y=i;break;case r.image_compression.MEDIUM:p=6,y=u;break;case r.image_compression.SLOW:p=9,y=a}f=n(f,h,g,y);var m=Q1(f,{level:p});return r.__addimage__.arrayBufferToBinaryString(m)},n=function(f,h,g,v){for(var p,y,m,b=f.length/h,k=new Uint8Array(f.length+b),N=c(),F=0;F<b;F+=1){if(m=F*h,p=f.subarray(m,m+h),v)k.set(v(p,g,y),m+F);else{for(var j,T=N.length,M=[];j<T;j+=1)M[j]=N[j](p,g,y);var B=d(M.concat());k.set(M[B],m+F)}y=p}return k},s=function(f){var h=Array.apply([],f);return h.unshift(0),h},i=function(f,h){var g,v=[],p=f.length;v[0]=1;for(var y=0;y<p;y+=1)g=f[y-h]||0,v[y+1]=f[y]-g+256&255;return v},o=function(f,h,g){var v,p=[],y=f.length;p[0]=2;for(var m=0;m<y;m+=1)v=g&&g[m]||0,p[m+1]=f[m]-v+256&255;return p},u=function(f,h,g){var v,p,y=[],m=f.length;y[0]=3;for(var b=0;b<m;b+=1)v=f[b-h]||0,p=g&&g[b]||0,y[b+1]=f[b]+256-(v+p>>>1)&255;return y},a=function(f,h,g){var v,p,y,m,b=[],k=f.length;b[0]=4;for(var N=0;N<k;N+=1)v=f[N-h]||0,p=g&&g[N]||0,y=g&&g[N-h]||0,m=l(v,p,y),b[N+1]=f[N]-m+256&255;return b},l=function(f,h,g){if(f===h&&h===g)return f;var v=Math.abs(h-g),p=Math.abs(f-g),y=Math.abs(f+h-g-g);return v<=p&&v<=y?f:p<=y?h:g},c=function(){return[s,i,o,u,a]},d=function(f){var h=f.map(function(g){return g.reduce(function(v,p){return v+Math.abs(p)},0)});return h.indexOf(Math.min.apply(null,h))};r.processPNG=function(f,h,g,v){var p,y,m,b,k,N,F,j,T,M,B,O,R,E,I,A=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(m=new rL(f)).imgData,y=m.bits,p=m.colorSpace,k=m.colors,[4,6].indexOf(m.colorType)!==-1){if(m.bits===8){T=(j=m.pixelBitlength==32?new Uint32Array(m.decodePixels().buffer):m.pixelBitlength==16?new Uint16Array(m.decodePixels().buffer):new Uint8Array(m.decodePixels().buffer)).length,B=new Uint8Array(T*m.colors),M=new Uint8Array(T);var _,x=m.pixelBitlength-m.bits;for(E=0,I=0;E<T;E++){for(R=j[E],_=0;_<x;)B[I++]=R>>>_&255,_+=m.bits;M[E]=R>>>_&255}}if(m.bits===16){T=(j=new Uint32Array(m.decodePixels().buffer)).length,B=new Uint8Array(T*(32/m.pixelBitlength)*m.colors),M=new Uint8Array(T*(32/m.pixelBitlength)),O=m.colors>1,E=0,I=0;for(var S=0;E<T;)R=j[E++],B[I++]=R>>>0&255,O&&(B[I++]=R>>>16&255,R=j[E++],B[I++]=R>>>0&255),M[S++]=R>>>16&255;y=8}v!==r.image_compression.NONE&&t()?(f=e(B,m.width*m.colors,m.colors,v),F=e(M,m.width,1,v)):(f=B,F=M,A=void 0)}if(m.colorType===3&&(p=this.color_spaces.INDEXED,N=m.palette,m.transparency.indexed)){var C=m.transparency.indexed,q=0;for(E=0,T=C.length;E<T;++E)q+=C[E];if((q/=255)===T-1&&C.indexOf(0)!==-1)b=[C.indexOf(0)];else if(q!==T){for(j=m.decodePixels(),M=new Uint8Array(j.length),E=0,T=j.length;E<T;E++)M[E]=C[j[E]];F=e(M,m.width,1)}}var P=function(H){var X;switch(H){case r.image_compression.FAST:X=11;break;case r.image_compression.MEDIUM:X=13;break;case r.image_compression.SLOW:X=14;break;default:X=12}return X}(v);return A===this.decode.FLATE_DECODE&&(w="/Predictor "+P+" "),w+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+m.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:g,data:f,index:h,filter:A,decodeParameters:w,transparency:b,palette:N,sMask:F,predictor:P,width:m.width,height:m.height,bitsPerComponent:y,colorSpace:p}}}})(Kt.API),function(r){r.processGIF89A=function(t,e,n,s){var i=new nL(t),o=i.width,u=i.height,a=[];i.decodeAndBlitFrameRGBA(0,a);var l={data:a,width:o,height:u},c=new vg(100).encode(l,100);return r.processJPEG.call(this,c,e,n,s)},r.processGIF87A=r.processGIF89A}(Kt.API),Us.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:e,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Us.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){Gr.log("bit decode error:"+e)}},Us.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var a=this.palette[i>>7-u&1];this.data[o+4*u]=a.blue,this.data[o+4*u+1]=a.green,this.data[o+4*u+2]=a.red,this.data[o+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Us.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,u=i>>4,a=15&i,l=this.palette[u];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*s+1>=this.width)break;l=this.palette[a],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Us.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},Us.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,u=(i>>5&t)/t*255|0,a=(i>>10&t)/t*255|0,l=i>>15?255:0,c=n*this.width*4+4*s;this.data[c]=a,this.data[c+1]=u,this.data[c+2]=o,this.data[c+3]=l}this.pos+=r}},Us.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,a=(o>>5&e)/e*255|0,l=(o>>11)/t*255|0,c=s*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=u,this.data[c+3]=255}this.pos+=r}},Us.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Us.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=i,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=o}},Us.prototype.getData=function(){return this.data},function(r){r.processBMP=function(t,e,n,s){var i=new Us(t,!1),o=i.width,u=i.height,a={data:i.getData(),width:o,height:u},l=new vg(100).encode(a,100);return r.processJPEG.call(this,l,e,n,s)}}(Kt.API),a4.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(t,e,n,s){var i=new a4(t),o=i.width,u=i.height,a={data:i.getData(),width:o,height:u},l=new vg(100).encode(a,100);return r.processJPEG.call(this,l,e,n,s)}}(Kt.API),Kt.API.processRGBA=function(r,t,e){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),u=0,a=0,l=0;l<s;l+=4){var c=n[l],d=n[l+1],f=n[l+2],h=n[l+3];i[u++]=c,i[u++]=d,i[u++]=f,o[a++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Kt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hu=Kt.API,Jd=Hu.getCharWidthsArray=function(r,t){var e,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:s.metadata.Unicode.widths,a=u.fof?u.fof:1,l=t.kerning?t.kerning:s.metadata.Unicode.kerning,c=l.fof?l.fof:1,d=t.doKerning!==!1,f=0,h=r.length,g=0,v=u[0]||a,p=[];for(e=0;e<h;e++)n=r.charCodeAt(e),typeof s.metadata.widthOfString=="function"?p.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(f=d&&Vr(l[n])==="object"&&!isNaN(parseInt(l[n][g],10))?l[n][g]/c:0,p.push((u[n]||v)/a+f)),g=n;return p},n4=Hu.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Hu.processArabic&&(r=Hu.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,s)/e:Jd.apply(this,arguments).reduce(function(i,o){return i+o},0)},i4=function(r,t,e,n){for(var s=[],i=0,o=r.length,u=0;i!==o&&u+t[i]<e;)u+=t[i],i++;s.push(r.slice(0,i));var a=i;for(u=0;i!==o;)u+t[i]>n&&(s.push(r.slice(a,i)),u=0,a=i),u+=t[i],i++;return a!==i&&s.push(r.slice(a,i)),s},s4=function(r,t,e){e||(e={});var n,s,i,o,u,a,l,c=[],d=[c],f=e.textIndent||0,h=0,g=0,v=r.split(" "),p=Jd.apply(this,[" ",e])[0];if(a=e.lineIndent===-1?v[0].length+2:e.lineIndent||0){var y=Array(a).join(" "),m=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?m=m.concat(k.map(function(N,F){return(F&&N.length?`
`:"")+N})):m.push(k[0])}),v=m,a=n4.apply(this,[y,e])}for(i=0,o=v.length;i<o;i++){var b=0;if(n=v[i],a&&n[0]==`
`&&(n=n.substr(1),b=1),f+h+(g=(s=Jd.apply(this,[n,e])).reduce(function(k,N){return k+N},0))>t||b){if(g>t){for(u=i4.apply(this,[n,s,t-(f+h),t]),c.push(u.shift()),c=[u.pop()];u.length;)d.push([u.shift()]);g=s.slice(n.length-(c[0]?c[0].length:0)).reduce(function(k,N){return k+N},0)}else c=[n];d.push(c),f=g+a,h=p}else c.push(n),f+=h+g,h=p}return l=a?function(k,N){return(N?y:"")+k.join(" ")}:function(k){return k.join(" ")},d.map(l)},Hu.splitTextToSize=function(r,t,e){var n,s=(e=e||{}).fontSize||this.internal.getFontSize(),i=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=e.lineIndent;var u,a,l=[];for(u=0,a=n.length;u<a;u++)l=l.concat(s4.apply(this,[n[u],o,i]));return l},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},s=0;s<t.length;s++)e[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=r.__fontmetrics__.compress=function(d){var f,h,g,v,p=["{"];for(var y in d){if(f=d[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=i(y).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof f=="number")f<0?(g=i(f).slice(3),v="-"):(g=i(f).slice(2),v=""),g=v+g.slice(0,-1)+n[g.slice(-1)];else{if(Vr(f)!=="object")throw new Error("Don't know what to do with value type "+Vr(f)+".");g=o(f)}p.push(h+g)}return p.push("}"),p.join("")},u=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,g,v,p={},y=1,m=p,b=[],k="",N="",F=d.length-1,j=1;j<F;j+=1)(v=d[j])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(b.push([m,g]),m={},g=void 0):v=="}"?((h=b.pop())[0][h[1]]=m,g=void 0,m=h[0]):v=="-"?y=-1:g===void 0?e.hasOwnProperty(v)?(k+=e[v],g=parseInt(k,16)*y,y=1,k=""):k+=v:e.hasOwnProperty(v)?(N+=e[v],m[g]=parseInt(N,16)*y,y=1,g=void 0,N=""):N+=v;return p},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},c={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var f=d.font,h=c.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var g=l.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Kt.API),function(r){var t=function(e){for(var n=e.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=e.charCodeAt(i);return s};r.API.events.push(["addFont",function(e){var n=void 0,s=e.font,i=e.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Vh(u)),o.metadata=r.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Kt),function(r){function t(){return(Jt.canvg?Promise.resolve(Jt.canvg):Sf(()=>import("./index.es-C0QQEVGU.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Kt.API.addSvgAsImage=function(e,n,s,i,o,u,a,l){if(isNaN(n)||isNaN(s))throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(g){return g.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),n,s,i,o,a,l)})}}(),Kt.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,e);return this},Kt.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),a=[],l=0,c=0,d=0;function f(g,v){var p,y=!1;for(p=0;p<g.length;p+=1)g[p]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var h=u.length;for(d=0;d<h;d+=1)e[u[d]].value=e[u[d]].defaultValue,e[u[d]].explicitSet=!1}if(Vr(r)==="object"){for(s in r)if(i=r[s],f(u,s)&&i!==void 0){if(e[s].type==="boolean"&&typeof i=="boolean")e[s].value=i;else if(e[s].type==="name"&&f(e[s].valueSet,i))e[s].value=i;else if(e[s].type==="integer"&&Number.isInteger(i))e[s].value=i;else if(e[s].type==="array"){for(l=0;l<i.length;l+=1)if(n=!0,i[l].length===1&&typeof i[l][0]=="number")a.push(String(i[l]-1));else if(i[l].length>1){for(c=0;c<i[l].length;c+=1)typeof i[l][c]!="number"&&(n=!1);n===!0&&a.push([i[l][0]-1,i[l][1]-1].join(" "))}e[s].value="["+a.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in e)e[g].explicitSet===!0&&(e[g].type==="name"?v.push("/"+g+" /"+e[g].value):v.push("/"+g+" "+e[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),l=i.length+o.length+u.length+s.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+u+a),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Kt.API),function(r){var t=r.API,e=t.pdfEscape16=function(i,o){for(var u,a=o.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],d=0,f=i.length;d<f;++d){if(u=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=i.charCodeAt(d),a.indexOf(u)==-1&&(a.push(u),a.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return c.join("");u=u.toString(16),c.push(l[4-u.length],u)}return c.join("")},n=function(i){var o,u,a,l,c,d,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],d=0,f=(u=Object.keys(i).sort(function(h,g){return h-g})).length;d<f;d++)o=u[d],a.length>=100&&(c+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(l=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),a.push("<"+o+"><"+l+">"));return a.length&&(c+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var u=o.font,a=o.out,l=o.newObject,c=o.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var d=u.metadata.Unicode.widths,f=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var v=l();c({data:h,addLength1:!0,objectId:v}),a("endobj");var p=l();c({data:n(u.metadata.toUnicode),addLength1:!0,objectId:p}),a("endobj");var y=l();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Ku(u.fontName)),a("/FontFile2 "+v+" 0 R"),a("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),a("/Flags "+u.metadata.flags),a("/StemV "+u.metadata.stemV),a("/ItalicAngle "+u.metadata.italicAngle),a("/Ascent "+u.metadata.ascender),a("/Descent "+u.metadata.decender),a("/CapHeight "+u.metadata.capHeight),a(">>"),a("endobj");var m=l();a("<<"),a("/Type /Font"),a("/BaseFont /"+Ku(u.fontName)),a("/FontDescriptor "+y+" 0 R"),a("/W "+r.API.PDFObject.convert(d)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+u.encoding+")"),a(">>"),a(">>"),a("endobj"),u.objectNumber=l(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+p+" 0 R"),a("/BaseFont /"+Ku(u.fontName)),a("/Encoding /"+u.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),u.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var u=o.font,a=o.out,l=o.newObject,c=o.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var d=u.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var g=l();c({data:f,addLength1:!0,objectId:g}),a("endobj");var v=l();c({data:n(u.metadata.toUnicode),addLength1:!0,objectId:v}),a("endobj");var p=l();a("<<"),a("/Descent "+u.metadata.decender),a("/CapHeight "+u.metadata.capHeight),a("/StemV "+u.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+g+" 0 R"),a("/Flags 96"),a("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),a("/FontName /"+Ku(u.fontName)),a("/ItalicAngle "+u.metadata.italicAngle),a("/Ascent "+u.metadata.ascender),a(">>"),a("endobj"),u.objectNumber=l();for(var y=0;y<u.metadata.hmtx.widths.length;y++)u.metadata.hmtx.widths[y]=parseInt(u.metadata.hmtx.widths[y]*(1e3/u.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Ku(u.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),a("endobj"),u.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,u=i.text||"",a=i.x,l=i.y,c=i.options||{},d=i.mutex||{},f=d.pdfEscape,h=d.activeFontKey,g=d.fonts,v=h,p="",y=0,m="",b=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:u,x:a,y:l,options:c,mutex:d};for(m=u,v=h,Array.isArray(u)&&(m=u[0]),y=0;y<m.length;y+=1)g[v].metadata.hasOwnProperty("cmap")&&(o=g[v].metadata.cmap.unicode.codeMap[m[y].charCodeAt(0)]),o||m[y].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?p+=m[y]:p+="";var k="";return parseInt(v.slice(1))<14||b==="WinAnsiEncoding"?k=f(p,v).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(k=e(p,g[v])),d.isHex=!0,{text:k,x:a,y:l,options:c,mutex:d}};t.events.push(["postProcessText",function(i){var o=i.text||"",u=[],a={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?u.push([s(Object.assign({},a,{text:o[l][0]})).text,o[l][1],o[l][2]]):u.push(s(Object.assign({},a,{text:o[l]})).text);i.text=u}else i.text=s(Object.assign({},a,{text:o})).text}])}(Kt),function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Kt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,o,u,a,l,c,d=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,b=0;this.__bidiEngine__={};var k=function(O){var R=O.charCodeAt(),E=R>>8,I=v[E];return I!==void 0?d[256*I+(255&R)]:E===252||E===253?"AL":y.test(E)?"L":E===8?"R":"N"},N=function(O){for(var R,E=0;E<O.length;E++){if((R=k(O.charAt(E)))==="L")return!1;if(R==="R")return!0}return!1},F=function(O,R,E,I){var A,w,_,x,S=R[I];switch(S){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(S="AN");break;case"AL":m=!0,S="R";break;case"WS":S="N";break;case"CS":I<1||I+1>=R.length||(A=E[I-1])!=="EN"&&A!=="AN"||(w=R[I+1])!=="EN"&&w!=="AN"?S="N":m&&(w="AN"),S=w===A?w:"N";break;case"ES":S=(A=I>0?E[I-1]:"B")==="EN"&&I+1<R.length&&R[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&E[I-1]==="EN"){S="EN";break}if(m){S="N";break}for(_=I+1,x=R.length;_<x&&R[_]==="ET";)_++;S=_<x&&R[_]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(x=R.length,_=I+1;_<x&&R[_]==="NSM";)_++;if(_<x){var C=O[I],q=C>=1425&&C<=2303||C===64286;if(A=R[_],q&&(A==="R"||A==="AL")){S="R";break}}}S=I<1||(A=R[I-1])==="B"?"N":E[I-1];break;case"B":m=!1,s=!0,S=b;break;case"S":i=!0,S="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":S="N"}return S},j=function(O,R,E){var I=O.split("");return E&&T(I,E,{hiLevel:b}),I.reverse(),R&&R.reverse(),I.join("")},T=function(O,R,E){var I,A,w,_,x,S=-1,C=O.length,q=0,P=[],H=b?h:f,X=[];for(m=!1,s=!1,i=!1,A=0;A<C;A++)X[A]=k(O[A]);for(w=0;w<C;w++){if(x=q,P[w]=F(O,X,P,w),I=240&(q=H[x][g[P[w]]]),q&=15,R[w]=_=H[q][5],I>0)if(I===16){for(A=S;A<w;A++)R[A]=1;S=-1}else S=-1;if(H[q][6])S===-1&&(S=w);else if(S>-1){for(A=S;A<w;A++)R[A]=_;S=-1}X[w]==="B"&&(R[w]=0),E.hiLevel|=_}i&&function(Z,V,Q){for(var z=0;z<Q;z++)if(Z[z]==="S"){V[z]=b;for(var D=z-1;D>=0&&Z[D]==="WS";D--)V[D]=b}}(X,R,C)},M=function(O,R,E,I,A){if(!(A.hiLevel<O)){if(O===1&&b===1&&!s)return R.reverse(),void(E&&E.reverse());for(var w,_,x,S,C=R.length,q=0;q<C;){if(I[q]>=O){for(x=q+1;x<C&&I[x]>=O;)x++;for(S=q,_=x-1;S<_;S++,_--)w=R[S],R[S]=R[_],R[_]=w,E&&(w=E[S],E[S]=E[_],E[_]=w);q=x}q++}}},B=function(O,R,E){var I=O.split(""),A={hiLevel:b};return E||(E=[]),T(I,E,A),function(w,_,x){if(x.hiLevel!==0&&c)for(var S,C=0;C<w.length;C++)_[C]===1&&(S=p.indexOf(w[C]))>=0&&(w[C]=p[S+1])}(I,E,A),M(2,I,R,E,A),M(1,I,R,E,A),I.join("")};return this.__bidiEngine__.doBidiReorder=function(O,R,E){if(function(A,w){if(w)for(var _=0;_<A.length;_++)w[_]=_;u===void 0&&(u=N(A)),l===void 0&&(l=N(A))}(O,R),o||!a||l)if(o&&a&&u^l)b=u?1:0,O=j(O,R,E);else if(!o&&a&&l)b=u?1:0,O=B(O,R,E),O=j(O,R);else if(!o||u||a||l){if(o&&!a&&u^l)O=j(O,R),u?(b=0,O=B(O,R,E)):(b=1,O=B(O,R,E),O=j(O,R));else if(o&&u&&!a&&l)b=1,O=B(O,R,E),O=j(O,R);else if(!o&&!a&&u^l){var I=c;u?(b=1,O=B(O,R,E),b=0,c=!1,O=B(O,R,E),c=I):(b=0,O=B(O,R,E),O=j(O,R),b=1,c=!1,O=B(O,R,E),c=I,O=j(O,R))}}else b=0,O=B(O,R,E);else b=u?1:0,O=B(O,R,E);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,a=O.isOutputVisual,u=O.isInputRtl,l=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,e.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(o=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?o.push([e.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):o.push([e.doBidiReorder(s[u])]);n.text=o}else n.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])}(Kt),Kt.API.TTFFont=function(){function r(t){var e;if(this.rawData=t,e=this.contents=new gl(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new vL(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new iL(this.contents),this.head=new oL(this),this.name=new hL(this),this.cmap=new Y8(this),this.toUnicode={},this.hhea=new aL(this),this.maxp=new fL(this),this.hmtx=new dL(this),this.post=new uL(this),this.os2=new lL(this),this.loca=new yL(this),this.glyf=new pL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,a,l;for(l=[],o=0,u=(a=this.bbox).length;o<u;o++)t=a[o],l.push(Math.round(t*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var s,i,o,u;for(o=0,i=0,u=(t=""+t).length;0<=u?i<u:i>u;i=0<=u?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/e)||0;return o*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r}();var Zs,gl=function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,s;for(s=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,s,i,o,u,a;return t=this.readByte(),e=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),u=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^u)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*s+16777216*i+65536*o+256*u+a},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)e=t[n],i.push(this.writeByte(e));return i},r}(),iL=function(){var r;function t(e){var n,s,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,s,i,o,u,a,l,c,d,f,h,g,v;for(v in h=Object.keys(e).length,a=Math.log(2),d=16*Math.floor(Math.log(h)/a),o=Math.floor(d/a),c=16*h-d,(s=new gl).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(o),s.writeShort(c),i=16*h,l=s.pos+i,u=null,g=[],e)for(f=e[v],s.writeString(v),s.writeInt(r(f)),s.writeInt(l),s.writeInt(f.length),g=g.concat(f),v==="head"&&(u=l),l+=f.length;l%4;)g.push(0),l++;return s.write(g),n=2981146554-r(s.data),s.pos=u+8,s.writeUInt32(n),s.data},r=function(e){var n,s,i,o;for(e=Q8.call(e);e.length%4;)e.push(0);for(i=new gl(e),s=0,n=0,o=e.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),sL={}.hasOwnProperty,Eo=function(r,t){for(var e in t)sL.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};Zs=function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var oL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new gl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),l4=function(){function r(t,e){var n,s,i,o,u,a,l,c,d,f,h,g,v,p,y,m,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,i=function(){var k,N;for(N=[],a=k=0;0<=f?k<f:k>f;a=0<=f?++k:--k)N.push(t.readUInt16());return N}(),t.pos+=2,v=function(){var k,N;for(N=[],a=k=0;0<=f?k<f:k>f;a=0<=f?++k:--k)N.push(t.readUInt16());return N}(),l=function(){var k,N;for(N=[],a=k=0;0<=f?k<f:k>f;a=0<=f?++k:--k)N.push(t.readUInt16());return N}(),c=function(){var k,N;for(N=[],a=k=0;0<=f?k<f:k>f;a=0<=f?++k:--k)N.push(t.readUInt16());return N}(),s=(this.length-t.pos+this.offset)/2,u=function(){var k,N;for(N=[],a=k=0;0<=s?k<s:k>s;a=0<=s?++k:--k)N.push(t.readUInt16());return N}(),a=y=0,b=i.length;y<b;a=++y)for(p=i[a],n=m=g=v[a];g<=p?m<=p:m>=p;n=g<=p?++m:--m)c[a]===0?o=n+l[a]:(o=u[c[a]/2+(n-g)-(f-a)]||0)!==0&&(o+=l[a]),this.codeMap[n]=65535&o}t.pos=d}return r.encode=function(t,e){var n,s,i,o,u,a,l,c,d,f,h,g,v,p,y,m,b,k,N,F,j,T,M,B,O,R,E,I,A,w,_,x,S,C,q,P,H,X,Z,V,Q,z,D,W,ee,oe;switch(I=new gl,o=Object.keys(t).sort(function(ie,ae){return ie-ae}),e){case"macroman":for(v=0,p=function(){var ie=[];for(g=0;g<256;++g)ie.push(0);return ie}(),m={0:0},i={},A=0,S=o.length;A<S;A++)m[D=t[s=o[A]]]==null&&(m[D]=++v),i[s]={old:t[s],new:m[t[s]]},p[s]=m[t[s]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(p),{charMap:i,subtable:I.data,maxGlyphID:v+1};case"unicode":for(R=[],d=[],b=0,m={},n={},y=l=null,w=0,C=o.length;w<C;w++)m[N=t[s=o[w]]]==null&&(m[N]=++b),n[s]={old:N,new:m[N]},u=m[N]-s,y!=null&&u===l||(y&&d.push(y),R.push(s),l=u),y=s;for(y&&d.push(y),d.push(65535),R.push(65535),B=2*(M=R.length),T=2*Math.pow(Math.log(M)/Math.LN2,2),f=Math.log(T/2)/Math.LN2,j=2*M-T,a=[],F=[],h=[],g=_=0,q=R.length;_<q;g=++_){if(O=R[g],c=d[g],O===65535){a.push(0),F.push(0);break}if(O-(E=n[O].new)>=32768)for(a.push(0),F.push(2*(h.length+M-g)),s=x=O;O<=c?x<=c:x>=c;s=O<=c?++x:--x)h.push(n[s].new);else a.push(E-O),F.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*M+2*h.length),I.writeUInt16(0),I.writeUInt16(B),I.writeUInt16(T),I.writeUInt16(f),I.writeUInt16(j),Q=0,P=d.length;Q<P;Q++)s=d[Q],I.writeUInt16(s);for(I.writeUInt16(0),z=0,H=R.length;z<H;z++)s=R[z],I.writeUInt16(s);for(W=0,X=a.length;W<X;W++)u=a[W],I.writeUInt16(u);for(ee=0,Z=F.length;ee<Z;ee++)k=F[ee],I.writeUInt16(k);for(oe=0,V=h.length;oe<V;oe++)v=h[oe],I.writeUInt16(v);return{charMap:n,subtable:I.data,maxGlyphID:b+1}}},r}(),Y8=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,s,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new l4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var s,i;return n==null&&(n="macroman"),s=l4.encode(e,n),(i=new gl).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),aL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),lL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(e.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(e.readInt());return s}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(e.readInt());return s}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),uL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="post",t.prototype.parse=function(e){var n,s,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 196608:break;case 262144:return this.map=(function(){var u,a,l;for(l=[],o=u=0,a=this.file.maxp.numGlyphs;0<=a?u<a:u>a;o=0<=a?++u:--u)l.push(e.readUInt32());return l}).call(this)}},t}(),cL=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},hL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="name",t.prototype.parse=function(e){var n,s,i,o,u,a,l,c,d,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=d=0,f=s.length;d<f;o=++d)i=s[o],e.pos=i.offset,c=e.readString(i.length),u=new cL(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(u);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),fL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),dL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,s,i,o,u,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,f,h;for(h=[],c=0,d=(f=this.metrics).length;c<d;c++)o=f[c],h.push(o.advance);return h}).call(this),s=this.widths[this.widths.length-1],l=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)l.push(this.widths.push(s));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Q8=[].slice,pL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,s,i,o,u,a,l,c,d,f;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+s,u=(a=new gl(n.read(i))).readShort(),c=a.readShort(),f=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[e]=u===-1?new gL(a,c,f,l,d):new mL(a,u,c,f,l,d),this.cache[e]))},t.prototype.encode=function(e,n,s){var i,o,u,a,l;for(u=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(u.length),i&&(u=u.concat(i.encode(s)));return o.push(u.length),{table:u,offsets:o}},t}(),mL=function(){function r(t,e,n,s,i,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),gL=function(){function r(t,e,n,s,i){var o,u;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new gl(Q8.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r}(),yL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Zs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,s;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,u=0;u<s.length;++u)if(s[u]=i,o<n.length&&n[o]==u){++o,s[u]=i;var a=this.offsets[u],l=this.offsets[u+1]-a;l>0&&(i+=l)}for(var c=new Array(4*s.length),d=0;d<s.length;++d)c[4*d+3]=255&s[d],c[4*d+2]=(65280&s[d])>>8,c[4*d+1]=(16711680&s[d])>>16,c[4*d]=(4278190080&s[d])>>24;return c},t}(),vL=function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,s,i;for(e in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=s[n];return t},r.prototype.glyphsFor=function(t){var e,n,s,i,o,u,a;for(s={},o=0,u=t.length;o<u;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in e=[],s)(n=s[i])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in a=this.glyphsFor(e))n=a[i],s[i]=n;return s},r.prototype.encode=function(t,e){var n,s,i,o,u,a,l,c,d,f,h,g,v,p,y;for(s in n=Y8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},y=n.charMap)h[(a=y[s]).old]=a.new;for(g in f=n.maxGlyphID,o)g in h||(h[g]=f++);return c=function(m){var b,k;for(b in k={},m)k[m[b]]=b;return k}(h),d=Object.keys(c).sort(function(m,b){return m-b}),v=function(){var m,b,k;for(k=[],m=0,b=d.length;m<b;m++)u=d[m],k.push(c[u]);return k}(),i=this.font.glyf.encode(o,v,h),l=this.font.loca.encode(i.offsets,v),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},r}();Kt.API.PDFObject=function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,s,i,o;if(Array.isArray(e))return"["+function(){var u,a,l;for(l=[],u=0,a=e.length;u<a;u++)n=e[u],l.push(t.convert(n));return l}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in i=["<<"],e)o=e[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+e},t}();const bL=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Yj,AcroFormAppearance:Bt,AcroFormButton:Fn,AcroFormCheckBox:$h,AcroFormChoiceField:tu,AcroFormComboBox:nu,AcroFormEditBox:qh,AcroFormListBox:ru,AcroFormPasswordField:Wh,AcroFormPushButton:Hh,AcroFormRadioButton:iu,AcroFormTextField:ol,GState:Ef,ShadingPattern:za,TilingPattern:Wl,default:Kt,jsPDF:Kt},Symbol.toStringTag,{value:"Module"}));var Z8={exports:{}};const wL=OS(bL);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(r,t){(function(n,s){r.exports=s(function(){try{return wL}catch{}}())})(typeof globalThis<"u"?globalThis:typeof cr<"u"?cr:typeof window<"u"?window:typeof self<"u"?self:cr,function(e){return function(){var n={172:function(u,a){var l=this&&this.__extends||function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(v[y]=p[y])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function v(){this.constructor=h}h.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}();Object.defineProperty(a,"__esModule",{value:!0}),a.CellHookData=a.HookData=void 0;var c=function(){function f(h,g,v){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=v,this.doc=h.getDocument()}return f}();a.HookData=c;var d=function(f){l(h,f);function h(g,v,p,y,m,b){var k=f.call(this,g,v,b)||this;return k.cell=p,k.row=y,k.column=m,k.section=y.section,k}return h}(c);a.CellHookData=d},340:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0});var c=l(4),d=l(136),f=l(744),h=l(776),g=l(664),v=l(972);function p(y){y.API.autoTable=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var k;m.length===1?k=m[0]:(console.error("Use of deprecated autoTable initiation"),k=m[2]||{},k.columns=m[0],k.body=m[1]);var N=(0,h.parseInput)(this,k),F=(0,v.createTable)(this,N);return(0,g.drawTable)(this,F),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(m,b,k,N){(0,d.default)(m,b,k,N,this)},y.API.autoTableSetDefaults=function(m){return f.DocHandler.setDefaults(m,this),this},y.autoTableSetDefaults=function(m,b){f.DocHandler.setDefaults(m,b)},y.API.autoTableHtmlToJson=function(m,b){var k;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new f.DocHandler(this),F=(0,c.parseHtml)(N,m,window,b,!1),j=F.head,T=F.body,M=((k=j[0])===null||k===void 0?void 0:k.map(function(B){return B.content}))||[];return{columns:M,rows:T,data:T}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var m=this.lastAutoTable;return m&&m.finalY?m.finalY:0},y.API.autoTableAddPageContent=function(m){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=m,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}a.default=p},136:function(u,a){Object.defineProperty(a,"__esModule",{value:!0});function l(c,d,f,h,g){h=h||{};var v=1.15,p=g.internal.scaleFactor,y=g.internal.getFontSize()/p,m=g.getLineHeightFactor?g.getLineHeightFactor():v,b=y*m,k=/\r\n|\r|\n/g,N="",F=1;if((h.valign==="middle"||h.valign==="bottom"||h.halign==="center"||h.halign==="right")&&(N=typeof c=="string"?c.split(k):c,F=N.length||1),f+=y*(2-v),h.valign==="middle"?f-=F/2*b:h.valign==="bottom"&&(f-=F*b),h.halign==="center"||h.halign==="right"){var j=y;if(h.halign==="center"&&(j*=.5),N&&F>=1){for(var T=0;T<N.length;T++)g.text(N[T],d-g.getStringUnitWidth(N[T])*j,f),f+=b;return g}d-=g.getStringUnitWidth(c)*j}return h.halign==="justify"?g.text(c,d,f,{maxWidth:h.maxWidth||100,align:"justify"}):g.text(c,d,f),g}a.default=l},420:function(u,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getPageAvailableWidth=a.parseSpacing=a.getFillStyle=a.addTableBorder=a.getStringWidth=void 0;function l(g,v,p){p.applyStyles(v,!0);var y=Array.isArray(g)?g:[g],m=y.map(function(b){return p.getTextWidth(b)}).reduce(function(b,k){return Math.max(b,k)},0);return m}a.getStringWidth=l;function c(g,v,p,y){var m=v.settings.tableLineWidth,b=v.settings.tableLineColor;g.applyStyles({lineWidth:m,lineColor:b});var k=d(m,!1);k&&g.rect(p.x,p.y,v.getWidth(g.pageSize().width),y.y-p.y,k)}a.addTableBorder=c;function d(g,v){var p=g>0,y=v||v===0;return p&&y?"DF":p?"S":y?"F":null}a.getFillStyle=d;function f(g,v){var p,y,m,b;if(g=g||v,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=v}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(p=g.left)!==null&&p!==void 0?p:v,top:(y=g.top)!==null&&y!==void 0?y:v,right:(m=g.right)!==null&&m!==void 0?m:v,bottom:(b=g.bottom)!==null&&b!==void 0?b:v}):(typeof g!="number"&&(g=v),{top:g,right:g,bottom:g,left:g})}a.parseSpacing=f;function h(g,v){var p=f(v.settings.margin,0);return g.pageSize().width-(p.left+p.right)}a.getPageAvailableWidth=h},796:function(u,a){var l=this&&this.__extends||function(){var h=function(g,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(p[m]=y[m])},h(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(g,v);function p(){this.constructor=g}g.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(a,"__esModule",{value:!0}),a.getTheme=a.defaultStyles=a.HtmlRowInput=void 0;var c=function(h){l(g,h);function g(v){var p=h.call(this)||this;return p._element=v,p}return g}(Array);a.HtmlRowInput=c;function d(h){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/h,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}a.defaultStyles=d;function f(h){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[h]}a.getTheme=f},903:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.parseCss=void 0;var c=l(420);function d(p,y,m,b,k){var N={},F=1.3333333333333333,j=h(y,function(S){return k.getComputedStyle(S).backgroundColor});j!=null&&(N.fillColor=j);var T=h(y,function(S){return k.getComputedStyle(S).color});T!=null&&(N.textColor=T);var M=v(b,m);M&&(N.cellPadding=M);var B="borderTopColor",O=F*m,R=b.borderTopWidth;if(b.borderBottomWidth===R&&b.borderRightWidth===R&&b.borderLeftWidth===R){var E=(parseFloat(R)||0)/O;E&&(N.lineWidth=E)}else N.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/O,right:(parseFloat(b.borderRightWidth)||0)/O,bottom:(parseFloat(b.borderBottomWidth)||0)/O,left:(parseFloat(b.borderLeftWidth)||0)/O},N.lineWidth.top||(N.lineWidth.right?B="borderRightColor":N.lineWidth.bottom?B="borderBottomColor":N.lineWidth.left&&(B="borderLeftColor"));var I=h(y,function(S){return k.getComputedStyle(S)[B]});I!=null&&(N.lineColor=I);var A=["left","right","center","justify"];A.indexOf(b.textAlign)!==-1&&(N.halign=b.textAlign),A=["middle","bottom","top"],A.indexOf(b.verticalAlign)!==-1&&(N.valign=b.verticalAlign);var w=parseInt(b.fontSize||"");isNaN(w)||(N.fontSize=w/F);var _=f(b);_&&(N.fontStyle=_);var x=(b.fontFamily||"").toLowerCase();return p.indexOf(x)!==-1&&(N.font=x),N}a.parseCss=d;function f(p){var y="";return(p.fontWeight==="bold"||p.fontWeight==="bolder"||parseInt(p.fontWeight)>=700)&&(y="bold"),(p.fontStyle==="italic"||p.fontStyle==="oblique")&&(y+="italic"),y}function h(p,y){var m=g(p,y);if(!m)return null;var b=m.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var k=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],N=parseInt(b[4]);return N===0||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?null:k}function g(p,y){var m=y(p);return m==="rgba(0, 0, 0, 0)"||m==="transparent"||m==="initial"||m==="inherit"?p.parentElement==null?null:g(p.parentElement,y):m}function v(p,y){var m=[p.paddingTop,p.paddingRight,p.paddingBottom,p.paddingLeft],b=96/(72/y),k=(parseInt(p.lineHeight)-parseInt(p.fontSize))/y/2,N=m.map(function(j){return parseInt(j||"0")/b}),F=(0,c.parseSpacing)(N,0);return k>F.top&&(F.top=k),k>F.bottom&&(F.bottom=k),F}},744:function(u,a){Object.defineProperty(a,"__esModule",{value:!0}),a.DocHandler=void 0;var l={},c=function(){function d(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(f,h){h===void 0&&(h=null),h?h.__autoTableDocumentDefaults=f:l=f},d.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},d.prototype.applyStyles=function(f,h){var g,v,p;h===void 0&&(h=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var y=this.jsPDFDocument.internal.getFont(),m=y.fontStyle,b=y.fontName;if(f.font&&(b=f.font),f.fontStyle){m=f.fontStyle;var k=this.getFontList()[b];k&&k.indexOf(m)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(k[0]),m=k[0])}if(this.jsPDFDocument.setFont(b,m),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!h){var N=d.unifyColor(f.fillColor);N&&(g=this.jsPDFDocument).setFillColor.apply(g,N),N=d.unifyColor(f.textColor),N&&(v=this.jsPDFDocument).setTextColor.apply(v,N),N=d.unifyColor(f.lineColor),N&&(p=this.jsPDFDocument).setDrawColor.apply(p,N),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},d.prototype.splitTextToSize=function(f,h,g){return this.jsPDFDocument.splitTextToSize(f,h,g)},d.prototype.rect=function(f,h,g,v,p){return this.jsPDFDocument.rect(f,h,g,v,p)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return l||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();a.DocHandler=c},4:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.parseHtml=void 0;var c=l(903),d=l(796);function f(v,p,y,m,b){var k,N;m===void 0&&(m=!1),b===void 0&&(b=!1);var F;typeof p=="string"?F=y.document.querySelector(p):F=p;var j=Object.keys(v.getFontList()),T=v.scaleFactor(),M=[],B=[],O=[];if(!F)return console.error("Html table could not be found with input: ",p),{head:M,body:B,foot:O};for(var R=0;R<F.rows.length;R++){var E=F.rows[R],I=(N=(k=E==null?void 0:E.parentElement)===null||k===void 0?void 0:k.tagName)===null||N===void 0?void 0:N.toLowerCase(),A=h(j,T,y,E,m,b);A&&(I==="thead"?M.push(A):I==="tfoot"?O.push(A):B.push(A))}return{head:M,body:B,foot:O}}a.parseHtml=f;function h(v,p,y,m,b,k){for(var N=new d.HtmlRowInput(m),F=0;F<m.cells.length;F++){var j=m.cells[F],T=y.getComputedStyle(j);if(b||T.display!=="none"){var M=void 0;k&&(M=(0,c.parseCss)(v,j,p,T,y)),N.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:M,_element:j,content:g(j)})}}var B=y.getComputedStyle(m);if(N.length>0&&(b||B.display!=="none"))return N}function g(v){var p=v.cloneNode(!0);return p.innerHTML=p.innerHTML.replace(/\n/g,"").replace(/ +/g," "),p.innerHTML=p.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),p.innerText||p.textContent||""}},776:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.parseInput=void 0;var c=l(4),d=l(356),f=l(420),h=l(744),g=l(792);function v(F,j){var T=new h.DocHandler(F),M=T.getDocumentOptions(),B=T.getGlobalOptions();(0,g.default)(T,B,M,j);var O=(0,d.assign)({},B,M,j),R;typeof window<"u"&&(R=window);var E=p(B,M,j),I=y(B,M,j),A=m(T,O),w=k(T,O,R);return{id:j.tableId,content:w,hooks:I,styles:E,settings:A}}a.parseInput=v;function p(F,j,T){for(var M={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},B=function(I){if(I==="columnStyles"){var A=F[I],w=j[I],_=T[I];M.columnStyles=(0,d.assign)({},A,w,_)}else{var x=[F,j,T],S=x.map(function(C){return C[I]||{}});M[I]=(0,d.assign)({},S[0],S[1],S[2])}},O=0,R=Object.keys(M);O<R.length;O++){var E=R[O];B(E)}return M}function y(F,j,T){for(var M=[F,j,T],B={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,R=M;O<R.length;O++){var E=R[O];E.didParseCell&&B.didParseCell.push(E.didParseCell),E.willDrawCell&&B.willDrawCell.push(E.willDrawCell),E.didDrawCell&&B.didDrawCell.push(E.didDrawCell),E.willDrawPage&&B.willDrawPage.push(E.willDrawPage),E.didDrawPage&&B.didDrawPage.push(E.didDrawPage)}return B}function m(F,j){var T,M,B,O,R,E,I,A,w,_,x,S,C=(0,f.parseSpacing)(j.margin,40/F.scaleFactor()),q=(T=b(F,j.startY))!==null&&T!==void 0?T:C.top,P;j.showFoot===!0?P="everyPage":j.showFoot===!1?P="never":P=(M=j.showFoot)!==null&&M!==void 0?M:"everyPage";var H;j.showHead===!0?H="everyPage":j.showHead===!1?H="never":H=(B=j.showHead)!==null&&B!==void 0?B:"everyPage";var X=(O=j.useCss)!==null&&O!==void 0?O:!1,Z=j.theme||(X?"plain":"striped"),V=!!j.horizontalPageBreak,Q=(R=j.horizontalPageBreakRepeat)!==null&&R!==void 0?R:null;return{includeHiddenHtml:(E=j.includeHiddenHtml)!==null&&E!==void 0?E:!1,useCss:X,theme:Z,startY:q,margin:C,pageBreak:(I=j.pageBreak)!==null&&I!==void 0?I:"auto",rowPageBreak:(A=j.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(w=j.tableWidth)!==null&&w!==void 0?w:"auto",showHead:H,showFoot:P,tableLineWidth:(_=j.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(x=j.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:V,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(S=j.horizontalPageBreakBehaviour)!==null&&S!==void 0?S:"afterAllRows"}}function b(F,j){var T=F.getLastAutoTable(),M=F.scaleFactor(),B=F.pageNumber(),O=!1;if(T&&T.startPageNumber){var R=T.startPageNumber+T.pageNumber-1;O=R===B}return typeof j=="number"?j:(j==null||j===!1)&&O&&(T==null?void 0:T.finalY)!=null?T.finalY+20/M:null}function k(F,j,T){var M=j.head||[],B=j.body||[],O=j.foot||[];if(j.html){var R=j.includeHiddenHtml;if(T){var E=(0,c.parseHtml)(F,j.html,T,R,j.useCss)||{};M=E.head||M,B=E.body||M,O=E.foot||M}else console.error("Cannot parse html in non browser environment")}var I=j.columns||N(M,B,O);return{columns:I,head:M,body:B,foot:O}}function N(F,j,T){var M=F[0]||j[0]||T[0]||[],B=[];return Object.keys(M).filter(function(O){return O!=="_element"}).forEach(function(O){var R=1,E;Array.isArray(M)?E=M[parseInt(O)]:E=M[O],typeof E=="object"&&!Array.isArray(E)&&(R=(E==null?void 0:E.colSpan)||1);for(var I=0;I<R;I++){var A=void 0;Array.isArray(M)?A=B.length:A=O+(I>0?"_".concat(I):"");var w={dataKey:A};B.push(w)}}),B}},792:function(u,a){Object.defineProperty(a,"__esModule",{value:!0});function l(d,f,h,g){for(var v=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(O){d.applyStyles(d.userStyles),b.beforePageContent&&b.beforePageContent(O),d.applyStyles(d.userStyles),b.afterPageContent&&b.afterPageContent(O),d.applyStyles(d.userStyles),b.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){b[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var R=O[0],E=O[1];b[E]&&(console.error("Use of deprecated option ".concat(E,". Use ").concat(R," instead")),b[R]=b[E])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var R=typeof O=="string"?O:O[0],E=typeof O=="string"?O:O[1];typeof b[R]<"u"&&(typeof b.styles[E]>"u"&&(b.styles[E]=b[R]),console.error("Use of deprecated option: "+R+", use the style "+E+" instead."))});for(var k=0,N=["styles","bodyStyles","headStyles","footStyles"];k<N.length;k++){var F=N[k];c(b[F]||{})}for(var j=b.columnStyles||{},T=0,M=Object.keys(j);T<M.length;T++){var B=M[T];c(j[B]||{})}},p=0,y=[f,h,g];p<y.length;p++){var m=y[p];v(m)}}a.default=l;function c(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.Column=a.Cell=a.Row=a.Table=void 0;var c=l(796),d=l(172),f=l(420),h=function(){function y(m,b){this.pageNumber=1,this.pageCount=1,this.id=m.id,this.settings=m.settings,this.styles=m.styles,this.hooks=m.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return y.prototype.getHeadHeight=function(m){return this.head.reduce(function(b,k){return b+k.getMaxCellHeight(m)},0)},y.prototype.getFootHeight=function(m){return this.foot.reduce(function(b,k){return b+k.getMaxCellHeight(m)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(m,b,k,N,F,j){for(var T=0,M=b;T<M.length;T++){var B=M[T],O=new d.CellHookData(m,this,k,N,F,j),R=B(O)===!1;if(k.text=Array.isArray(k.text)?k.text:[k.text],R)return!1}return!0},y.prototype.callEndPageHooks=function(m,b){m.applyStyles(m.userStyles);for(var k=0,N=this.hooks.didDrawPage;k<N.length;k++){var F=N[k];F(new d.HookData(m,this,b))}},y.prototype.callWillDrawPageHooks=function(m,b){for(var k=0,N=this.hooks.willDrawPage;k<N.length;k++){var F=N[k];F(new d.HookData(m,this,b))}},y.prototype.getWidth=function(m){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(N,F){return N+F.wrappedWidth},0);return b}else{var k=this.settings.margin;return m-k.left-k.right}},y}();a.Table=h;var g=function(){function y(m,b,k,N,F){F===void 0&&(F=!1),this.height=0,this.raw=m,m instanceof c.HtmlRowInput&&(this.raw=m._element,this.element=m._element),this.index=b,this.section=k,this.cells=N,this.spansMultiplePages=F}return y.prototype.getMaxCellHeight=function(m){var b=this;return m.reduce(function(k,N){var F;return Math.max(k,((F=b.cells[N.index])===null||F===void 0?void 0:F.height)||0)},0)},y.prototype.hasRowSpan=function(m){var b=this;return m.filter(function(k){var N=b.cells[k.index];return N?N.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(m,b){return this.getMaxCellHeight(b)<=m},y.prototype.getMinimumRowHeight=function(m,b){var k=this;return m.reduce(function(N,F){var j=k.cells[F.index];if(!j)return 0;var T=b.getLineHeight(j.styles.fontSize),M=j.padding("vertical"),B=M+T;return B>N?B:N},0)},y}();a.Row=g;var v=function(){function y(m,b,k){var N,F;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=k,this.raw=m;var j=m;m!=null&&typeof m=="object"&&!Array.isArray(m)?(this.rowSpan=m.rowSpan||1,this.colSpan=m.colSpan||1,j=(F=(N=m.content)!==null&&N!==void 0?N:m.title)!==null&&F!==void 0?F:m,m._element&&(this.raw=m._element)):(this.rowSpan=1,this.colSpan=1);var T=j!=null?""+j:"",M=/\r\n|\r|\n/g;this.text=T.split(M)}return y.prototype.getTextPos=function(){var m;if(this.styles.valign==="top")m=this.y+this.padding("top");else if(this.styles.valign==="bottom")m=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");m=this.y+b/2+this.padding("top")}var k;if(this.styles.halign==="right")k=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");k=this.x+N/2+this.padding("left")}else k=this.x+this.padding("left");return{x:k,y:m}},y.prototype.getContentHeight=function(m,b){b===void 0&&(b=1.15);var k=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/m*b,F=k*N+this.padding("vertical");return Math.max(F,this.styles.minCellHeight)},y.prototype.padding=function(m){var b=(0,f.parseSpacing)(this.styles.cellPadding,0);return m==="vertical"?b.top+b.bottom:m==="horizontal"?b.left+b.right:b[m]},y}();a.Cell=v;var p=function(){function y(m,b,k){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=m,this.raw=b,this.index=k}return y.prototype.getMaxCustomCellWidth=function(m){for(var b=0,k=0,N=m.allRows();k<N.length;k++){var F=N[k],j=F.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(b=Math.max(b,j.styles.cellWidth))}return b},y}();a.Column=p},356:function(u,a){Object.defineProperty(a,"__esModule",{value:!0}),a.assign=void 0;function l(c,d,f,h,g){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(c),p=1;p<arguments.length;p++){var y=arguments[p];if(y!=null)for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(v[m]=y[m])}return v}a.assign=l},972:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.createTable=void 0;var c=l(744),d=l(260),f=l(324),h=l(796),g=l(356);function v(F,j){var T=new c.DocHandler(F),M=p(j,T.scaleFactor()),B=new d.Table(j,M);return(0,f.calculateWidths)(T,B),T.applyStyles(T.userStyles),B}a.createTable=v;function p(F,j){var T=F.content,M=k(T.columns);if(T.head.length===0){var B=m(M,"head");B&&T.head.push(B)}if(T.foot.length===0){var B=m(M,"foot");B&&T.foot.push(B)}var O=F.settings.theme,R=F.styles;return{columns:M,head:y("head",T.head,M,R,O,j),body:y("body",T.body,M,R,O,j),foot:y("foot",T.foot,M,R,O,j)}}function y(F,j,T,M,B,O){var R={},E=j.map(function(I,A){for(var w=0,_={},x=0,S=0,C=0,q=T;C<q.length;C++){var P=q[C];if(R[P.index]==null||R[P.index].left===0)if(S===0){var H=void 0;Array.isArray(I)?H=I[P.index-x-w]:H=I[P.dataKey];var X={};typeof H=="object"&&!Array.isArray(H)&&(X=(H==null?void 0:H.styles)||{});var Z=N(F,P,A,B,M,O,X),V=new d.Cell(H,Z,F);_[P.dataKey]=V,_[P.index]=V,S=V.colSpan-1,R[P.index]={left:V.rowSpan-1,times:S}}else S--,x++;else R[P.index].left--,S=R[P.index].times,w++}return new d.Row(I,A,F,_)});return E}function m(F,j){var T={};return F.forEach(function(M){if(M.raw!=null){var B=b(j,M.raw);B!=null&&(T[M.dataKey]=B)}}),Object.keys(T).length>0?T:null}function b(F,j){if(F==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(F==="foot"&&typeof j=="object")return j.footer;return null}function k(F){return F.map(function(j,T){var M,B,O;return typeof j=="object"?O=(B=(M=j.dataKey)!==null&&M!==void 0?M:j.key)!==null&&B!==void 0?B:T:O=T,new d.Column(O,j,T)})}function N(F,j,T,M,B,O,R){var E=(0,h.getTheme)(M),I;F==="head"?I=B.headStyles:F==="body"?I=B.bodyStyles:F==="foot"&&(I=B.footStyles);var A=(0,g.assign)({},E.table,E[F],B.styles,I),w=B.columnStyles[j.dataKey]||B.columnStyles[j.index]||{},_=F==="body"?w:{},x=F==="body"&&T%2===0?(0,g.assign)({},E.alternateRow,B.alternateRowStyles):{},S=(0,h.defaultStyles)(O),C=(0,g.assign)({},S,A,x,_);return(0,g.assign)(C,R)}},664:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.addPage=a.drawTable=void 0;var c=l(420),d=l(260),f=l(744),h=l(356),g=l(136),v=l(224);function p(w,_){var x=_.settings,S=x.startY,C=x.margin,q={x:C.left,y:S},P=_.getHeadHeight(_.columns)+_.getFootHeight(_.columns),H=S+C.bottom+P;if(x.pageBreak==="avoid"){var X=_.body,Z=X.reduce(function(z,D){return z+D.height},0);H+=Z}var V=new f.DocHandler(w);(x.pageBreak==="always"||x.startY!=null&&H>V.pageSize().height)&&(A(V),q.y=C.top),_.callWillDrawPageHooks(V,q);var Q=(0,h.assign)({},q);_.startPageNumber=V.pageNumber(),x.horizontalPageBreak?y(V,_,Q,q):(V.applyStyles(V.userStyles),(x.showHead==="firstPage"||x.showHead==="everyPage")&&_.head.forEach(function(z){return B(V,_,z,q,_.columns)}),V.applyStyles(V.userStyles),_.body.forEach(function(z,D){var W=D===_.body.length-1;M(V,_,z,W,Q,q,_.columns)}),V.applyStyles(V.userStyles),(x.showFoot==="lastPage"||x.showFoot==="everyPage")&&_.foot.forEach(function(z){return B(V,_,z,q,_.columns)})),(0,c.addTableBorder)(V,_,Q,q),_.callEndPageHooks(V,q),_.finalY=q.y,w.lastAutoTable=_,w.previousAutoTable=_,w.autoTable&&(w.autoTable.previous=_),V.applyStyles(V.userStyles)}a.drawTable=p;function y(w,_,x,S){var C=(0,v.calculateAllColumnsCanFitInPage)(w,_),q=_.settings;if(q.horizontalPageBreakBehaviour==="afterAllRows")C.forEach(function(Z,V){w.applyStyles(w.userStyles),V>0?I(w,_,x,S,Z.columns,!0):m(w,_,S,Z.columns),b(w,_,x,S,Z.columns),N(w,_,S,Z.columns)});else for(var P=-1,H=C[0],X=function(){var Z=P;if(H){w.applyStyles(w.userStyles);var V=H.columns;P>=0?I(w,_,x,S,V,!0):m(w,_,S,V),Z=k(w,_,P+1,S,V),N(w,_,S,V)}var Q=Z-P;C.slice(1).forEach(function(z){w.applyStyles(w.userStyles),I(w,_,x,S,z.columns,!0),k(w,_,P+1,S,z.columns,Q),N(w,_,S,z.columns)}),P=Z};P<_.body.length-1;)X()}function m(w,_,x,S){var C=_.settings;w.applyStyles(w.userStyles),(C.showHead==="firstPage"||C.showHead==="everyPage")&&_.head.forEach(function(q){return B(w,_,q,x,S)})}function b(w,_,x,S,C){w.applyStyles(w.userStyles),_.body.forEach(function(q,P){var H=P===_.body.length-1;M(w,_,q,H,x,S,C)})}function k(w,_,x,S,C,q){w.applyStyles(w.userStyles),q=q??_.body.length;var P=Math.min(x+q,_.body.length),H=-1;return _.body.slice(x,P).forEach(function(X,Z){var V=x+Z===_.body.length-1,Q=E(w,_,V,S);X.canEntireRowFit(Q,C)&&(B(w,_,X,S,C),H=x+Z)}),H}function N(w,_,x,S){var C=_.settings;w.applyStyles(w.userStyles),(C.showFoot==="lastPage"||C.showFoot==="everyPage")&&_.foot.forEach(function(q){return B(w,_,q,x,S)})}function F(w,_,x){var S=x.getLineHeight(w.styles.fontSize),C=w.padding("vertical"),q=Math.floor((_-C)/S);return Math.max(0,q)}function j(w,_,x,S){var C={};w.spansMultiplePages=!0,w.height=0;for(var q=0,P=0,H=x.columns;P<H.length;P++){var X=H[P],Z=w.cells[X.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var V=new d.Cell(Z.raw,Z.styles,Z.section);V=(0,h.assign)(V,Z),V.text=[];var Q=F(Z,_,S);Z.text.length>Q&&(V.text=Z.text.splice(Q,Z.text.length));var z=S.scaleFactor(),D=S.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(z,D),Z.contentHeight>=_&&(Z.contentHeight=_,V.styles.minCellHeight-=_),Z.contentHeight>w.height&&(w.height=Z.contentHeight),V.contentHeight=V.getContentHeight(z,D),V.contentHeight>q&&(q=V.contentHeight),C[X.index]=V}}var W=new d.Row(w.raw,-1,w.section,C,!0);W.height=q;for(var ee=0,oe=x.columns;ee<oe.length;ee++){var X=oe[ee],V=W.cells[X.index];V&&(V.height=W.height);var Z=w.cells[X.index];Z&&(Z.height=w.height)}return W}function T(w,_,x,S){var C=w.pageSize().height,q=S.settings.margin,P=q.top+q.bottom,H=C-P;_.section==="body"&&(H-=S.getHeadHeight(S.columns)+S.getFootHeight(S.columns));var X=_.getMinimumRowHeight(S.columns,w),Z=X<x;if(X>H)return console.error("Will not be able to print row ".concat(_.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var V=_.hasRowSpan(S.columns),Q=_.getMaxCellHeight(S.columns)>H;return Q?(V&&console.error("The content of row ".concat(_.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(V||S.settings.rowPageBreak==="avoid")}function M(w,_,x,S,C,q,P){var H=E(w,_,S,q);if(x.canEntireRowFit(H,P))B(w,_,x,q,P);else if(T(w,x,H,_)){var X=j(x,H,_,w);B(w,_,x,q,P),I(w,_,C,q,P),M(w,_,X,S,C,q,P)}else I(w,_,C,q,P),M(w,_,x,S,C,q,P)}function B(w,_,x,S,C){S.x=_.settings.margin.left;for(var q=0,P=C;q<P.length;q++){var H=P[q],X=x.cells[H.index];if(!X){S.x+=H.width;continue}w.applyStyles(X.styles),X.x=S.x,X.y=S.y;var Z=_.callCellHooks(w,_.hooks.willDrawCell,X,x,H,S);if(Z===!1){S.x+=H.width;continue}O(w,X,S);var V=X.getTextPos();(0,g.default)(X.text,V.x,V.y,{halign:X.styles.halign,valign:X.styles.valign,maxWidth:Math.ceil(X.width-X.padding("left")-X.padding("right"))},w.getDocument()),_.callCellHooks(w,_.hooks.didDrawCell,X,x,H,S),S.x+=H.width}S.y+=x.height}function O(w,_,x){var S=_.styles;if(w.getDocument().setFillColor(w.getDocument().getFillColor()),typeof S.lineWidth=="number"){var C=(0,c.getFillStyle)(S.lineWidth,S.fillColor);C&&w.rect(_.x,x.y,_.width,_.height,C)}else typeof S.lineWidth=="object"&&(S.fillColor&&w.rect(_.x,x.y,_.width,_.height,"F"),R(w,_,x,S.lineWidth))}function R(w,_,x,S){var C,q,P,H;S.top&&(C=x.x,q=x.y,P=x.x+_.width,H=x.y,S.right&&(P+=.5*S.right),S.left&&(C-=.5*S.left),X(S.top,C,q,P,H)),S.bottom&&(C=x.x,q=x.y+_.height,P=x.x+_.width,H=x.y+_.height,S.right&&(P+=.5*S.right),S.left&&(C-=.5*S.left),X(S.bottom,C,q,P,H)),S.left&&(C=x.x,q=x.y,P=x.x,H=x.y+_.height,S.top&&(q-=.5*S.top),S.bottom&&(H+=.5*S.bottom),X(S.left,C,q,P,H)),S.right&&(C=x.x+_.width,q=x.y,P=x.x+_.width,H=x.y+_.height,S.top&&(q-=.5*S.top),S.bottom&&(H+=.5*S.bottom),X(S.right,C,q,P,H));function X(Z,V,Q,z,D){w.getDocument().setLineWidth(Z),w.getDocument().line(V,Q,z,D,"S")}}function E(w,_,x,S){var C=_.settings.margin.bottom,q=_.settings.showFoot;return(q==="everyPage"||q==="lastPage"&&x)&&(C+=_.getFootHeight(_.columns)),w.pageSize().height-S.y-C}function I(w,_,x,S,C,q){C===void 0&&(C=[]),q===void 0&&(q=!1),w.applyStyles(w.userStyles),_.settings.showFoot==="everyPage"&&!q&&_.foot.forEach(function(H){return B(w,_,H,S,C)}),_.callEndPageHooks(w,S);var P=_.settings.margin;(0,c.addTableBorder)(w,_,x,S),A(w),_.pageNumber++,_.pageCount++,S.x=P.left,S.y=P.top,x.y=P.top,_.callWillDrawPageHooks(w,S),_.settings.showHead==="everyPage"&&(_.head.forEach(function(H){return B(w,_,H,S,C)}),w.applyStyles(w.userStyles))}a.addPage=I;function A(w){var _=w.pageNumber();w.setPage(_+1);var x=w.pageNumber();return x===_?(w.addPage(),!0):!1}},224:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.calculateAllColumnsCanFitInPage=void 0;var c=l(420);function d(h,g,v){var p;v===void 0&&(v={});var y=(0,c.getPageAvailableWidth)(h,g),m=new Map,b=[],k=[],N=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?N=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(N=[g.settings.horizontalPageBreakRepeat]),N.forEach(function(M){var B=g.columns.find(function(O){return O.dataKey===M||O.index===M});B&&!m.has(B.index)&&(m.set(B.index,!0),b.push(B.index),k.push(g.columns[B.index]),y-=B.wrappedWidth)});for(var F=!0,j=(p=v==null?void 0:v.start)!==null&&p!==void 0?p:0;j<g.columns.length;){if(m.has(j)){j++;continue}var T=g.columns[j].wrappedWidth;if(F||y>=T)F=!1,b.push(j),k.push(g.columns[j]),y-=T;else break;j++}return{colIndexes:b,columns:k,lastIndex:j-1}}function f(h,g){for(var v=[],p=0;p<g.columns.length;p++){var y=d(h,g,{start:p});y.columns.length&&(v.push(y),p=y.lastIndex)}return v}a.calculateAllColumnsCanFitInPage=f},324:function(u,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.ellipsize=a.resizeColumns=a.calculateWidths=void 0;var c=l(420);function d(b,k){f(b,k);var N=[],F=0;k.columns.forEach(function(T){var M=T.getMaxCustomCellWidth(k);M?T.width=M:(T.width=T.wrappedWidth,N.push(T)),F+=T.width});var j=k.getWidth(b.pageSize().width)-F;j&&(j=h(N,j,function(T){return Math.max(T.minReadableWidth,T.minWidth)})),j&&(j=h(N,j,function(T){return T.minWidth})),j=Math.abs(j),!k.settings.horizontalPageBreak&&j>.1/b.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),v(k),p(k,b),g(k)}a.calculateWidths=d;function f(b,k){var N=b.scaleFactor(),F=k.settings.horizontalPageBreak,j=(0,c.getPageAvailableWidth)(b,k);k.allRows().forEach(function(T){for(var M=0,B=k.columns;M<B.length;M++){var O=B[M],R=T.cells[O.index];if(R){var E=k.hooks.didParseCell;k.callCellHooks(b,E,R,T,O,null);var I=R.padding("horizontal");R.contentWidth=(0,c.getStringWidth)(R.text,R.styles,b)+I;var A=(0,c.getStringWidth)(R.text.join(" ").split(/[^\S\u00A0]+/),R.styles,b);if(R.minReadableWidth=A+R.padding("horizontal"),typeof R.styles.cellWidth=="number")R.minWidth=R.styles.cellWidth,R.wrappedWidth=R.styles.cellWidth;else if(R.styles.cellWidth==="wrap"||F===!0)R.contentWidth>j?(R.minWidth=j,R.wrappedWidth=j):(R.minWidth=R.contentWidth,R.wrappedWidth=R.contentWidth);else{var w=10/N;R.minWidth=R.styles.minCellWidth||w,R.wrappedWidth=R.contentWidth,R.minWidth>R.wrappedWidth&&(R.wrappedWidth=R.minWidth)}}}}),k.allRows().forEach(function(T){for(var M=0,B=k.columns;M<B.length;M++){var O=B[M],R=T.cells[O.index];if(R&&R.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,R.wrappedWidth),O.minWidth=Math.max(O.minWidth,R.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,R.minReadableWidth);else{var E=k.styles.columnStyles[O.dataKey]||k.styles.columnStyles[O.index]||{},I=E.cellWidth||E.minCellWidth;I&&typeof I=="number"&&(O.minWidth=I,O.wrappedWidth=I)}R&&(R.colSpan>1&&!O.minWidth&&(O.minWidth=R.minWidth),R.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=R.minWidth))}})}function h(b,k,N){for(var F=k,j=b.reduce(function(w,_){return w+_.wrappedWidth},0),T=0;T<b.length;T++){var M=b[T],B=M.wrappedWidth/j,O=F*B,R=M.width+O,E=N(M),I=R<E?E:R;k-=I-M.width,M.width=I}if(k=Math.round(k*1e10)/1e10,k){var A=b.filter(function(w){return k<0?w.width>N(w):!0});A.length&&(k=h(A,k,N))}return k}a.resizeColumns=h;function g(b){for(var k={},N=1,F=b.allRows(),j=0;j<F.length;j++)for(var T=F[j],M=0,B=b.columns;M<B.length;M++){var O=B[M],R=k[O.index];if(N>1)N--,delete T.cells[O.index];else if(R)R.cell.height+=T.height,N=R.cell.colSpan,delete T.cells[O.index],R.left--,R.left<=1&&delete k[O.index];else{var E=T.cells[O.index];if(!E)continue;if(E.height=T.height,E.rowSpan>1){var I=F.length-j,A=E.rowSpan>I?I:E.rowSpan;k[O.index]={cell:E,left:A,row:T}}}}}function v(b){for(var k=b.allRows(),N=0;N<k.length;N++)for(var F=k[N],j=null,T=0,M=0,B=0;B<b.columns.length;B++){var O=b.columns[B];if(M-=1,M>1&&b.columns[B+1])T+=O.width,delete F.cells[O.index];else if(j){var R=j;delete F.cells[O.index],j=null,R.width=O.width+T}else{var R=F.cells[O.index];if(!R)continue;if(M=R.colSpan,T=0,R.colSpan>1){j=R,T+=O.width;continue}R.width=O.width+T}}}function p(b,k){for(var N={count:0,height:0},F=0,j=b.allRows();F<j.length;F++){for(var T=j[F],M=0,B=b.columns;M<B.length;M++){var O=B[M],R=T.cells[O.index];if(R){k.applyStyles(R.styles,!0);var E=R.width-R.padding("horizontal");if(R.styles.overflow==="linebreak")R.text=k.splitTextToSize(R.text,E+1/k.scaleFactor(),{fontSize:R.styles.fontSize});else if(R.styles.overflow==="ellipsize")R.text=y(R.text,E,R.styles,k,"...");else if(R.styles.overflow==="hidden")R.text=y(R.text,E,R.styles,k,"");else if(typeof R.styles.overflow=="function"){var I=R.styles.overflow(R.text,E);typeof I=="string"?R.text=[I]:R.text=I}R.contentHeight=R.getContentHeight(k.scaleFactor(),k.getLineHeightFactor());var A=R.contentHeight/R.rowSpan;R.rowSpan>1&&N.count*N.height<A*R.rowSpan?N={height:A,count:R.rowSpan}:N&&N.count>0&&N.height>A&&(A=N.height),A>T.height&&(T.height=A)}}N.count--}}function y(b,k,N,F,j){return b.map(function(T){return m(T,k,N,F,j)})}a.ellipsize=y;function m(b,k,N,F,j){var T=1e4*F.scaleFactor();if(k=Math.ceil(k*T)/T,k>=(0,c.getStringWidth)(b,N,F))return b;for(;k<(0,c.getStringWidth)(b+j,N,F)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+j}},964:function(u){if(typeof e>"u"){var a=new Error("Cannot find module 'undefined'");throw a.code="MODULE_NOT_FOUND",a}u.exports=e}},s={};function i(u){var a=s[u];if(a!==void 0)return a.exports;var l=s[u]={exports:{}};return n[u].call(l.exports,l,l.exports,i),l.exports}var o={};return function(){var u=o;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var a=i(340),l=i(776),c=i(664),d=i(972),f=i(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return f.Table}});var h=i(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return h.CellHookData}});var g=i(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return g.Row}});function v(k){(0,a.default)(k)}u.applyPlugin=v;function p(k,N){var F=(0,l.parseInput)(k,N),j=(0,d.createTable)(k,F);(0,c.drawTable)(k,j)}function y(k,N){var F=(0,l.parseInput)(k,N);return(0,d.createTable)(k,F)}u.__createTable=y;function m(k,N){(0,c.drawTable)(k,N)}u.__drawTable=m;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),v(b)}catch{}u.default=p}(),o}()})})(Z8);var _L=Z8.exports;const xL=i2(_L);function u4(r){return Number.isInteger(r)?r.toLocaleString("es-CL"):r.toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})}const tr={primary:"FF1E40AF",primaryLight:"FFDBEAFE",success:"FF22C55E",danger:"FFEF4444",dangerLight:"FFFEE2E2",gray:"FF6B7280",grayLight:"FFF3F4F6",white:"FFFFFFFF"};async function SL(r,t,e){const n=new lv.Workbook;n.creator="Baader 200 App",n.created=new Date;const s=n.addWorksheet("Repuestos"),i=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cdigo Baader",key:"codigoBaader",width:16},{header:"Descripcin",key:"descripcion",width:45},{header:"Cant. Solicitada",key:"cantidadSolicitada",width:14},{header:"Stock Bodega",key:"stockBodega",width:13},{header:"V. Unitario (USD)",key:"valorUnitario",width:15},{header:"Total (USD)",key:"total",width:14}];e&&e>0&&i.push({header:`Total (CLP) @${e.toFixed(0)}`,key:"totalCLP",width:18}),i.push({header:"Tags",key:"tags",width:25}),s.columns=i,r.forEach(a=>{var d;const l={codigoSAP:a.codigoSAP,codigoBaader:a.codigoBaader,descripcion:a.textoBreve,cantidadSolicitada:a.cantidadSolicitada,stockBodega:a.cantidadStockBodega,valorUnitario:a.valorUnitario,total:a.total,tags:((d=a.tags)==null?void 0:d.join(", "))||""};e&&e>0&&(l.totalCLP=Math.round((a.total||0)*e));const c=s.addRow(l);c.getCell("valorUnitario").numFmt='"$"#,##0.00',c.getCell("total").numFmt='"$"#,##0.00',e&&e>0&&(c.getCell("totalCLP").numFmt='"$"#,##0')});const o=await n.xlsx.writeBuffer(),u=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});P8.saveAs(u,`${t}.xlsx`)}async function kL(r,t={formato:"completo"},e="repuestos_baader_200"){if(t.formato==="simple")return SL(r,e,t.tipoCambio);const{incluirResumen:n=!0,incluirSinStock:s=!0,incluirPorTags:i=!0,incluirEstilos:o=!0,tipoCambio:u}=t,a=new lv.Workbook;a.creator="Baader 200 App",a.created=new Date;const l=a.addWorksheet("Detalle Repuestos",{views:[{state:"frozen",xSplit:0,ySplit:1}]}),c=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cdigo Baader",key:"codigoBaader",width:16},{header:"Descripcin",key:"descripcion",width:45},{header:"Cant. Solicitada",key:"cantidadSolicitada",width:14},{header:"Stock Bodega",key:"stockBodega",width:13},{header:"V. Unitario (USD)",key:"valorUnitario",width:15},{header:"Total (USD)",key:"total",width:14}];u&&u>0&&c.push({header:`Total (CLP) @${u.toFixed(0)}`,key:"totalCLP",width:18}),c.push({header:"Tags",key:"tags",width:25},{header:"lt. Act. Inventario",key:"ultimaAct",width:16},{header:"Img Manual",key:"imgManual",width:10},{header:"Fotos Reales",key:"fotosReales",width:11}),l.columns=c;const d=c.length;if(o){const p=l.getRow(1);p.font={bold:!0,color:{argb:tr.white}},p.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primary}},p.alignment={vertical:"middle",horizontal:"center"},p.height=25}r.forEach((p,y)=>{var k;const m={codigoSAP:p.codigoSAP,codigoBaader:p.codigoBaader,descripcion:p.textoBreve,cantidadSolicitada:p.cantidadSolicitada,stockBodega:p.cantidadStockBodega,valorUnitario:p.valorUnitario,total:p.total,tags:((k=p.tags)==null?void 0:k.length)>0?p.tags.join(", "):null,ultimaAct:p.fechaUltimaActualizacionInventario?new Date(p.fechaUltimaActualizacionInventario).toLocaleDateString("es-CL"):null,imgManual:p.imagenesManual.length,fotosReales:p.fotosReales.length};u&&u>0&&(m.totalCLP=Math.round((p.total||0)*u));const b=l.addRow(m);if(o){y%2===1&&(b.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}});const N=b.getCell("stockBodega");p.cantidadStockBodega===0?(N.font={bold:!0,color:{argb:tr.danger}},N.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.dangerLight}}):N.font={bold:!0,color:{argb:tr.success}}}b.getCell("valorUnitario").numFmt='"$"#,##0.00',b.getCell("total").numFmt='"$"#,##0.00',u&&u>0&&(b.getCell("totalCLP").numFmt='"$"#,##0')});const f={codigoSAP:null,codigoBaader:null,descripcion:"TOTALES",cantidadSolicitada:{formula:`SUM(D2:D${r.length+1})`},stockBodega:{formula:`SUM(E2:E${r.length+1})`},valorUnitario:null,total:{formula:`SUM(G2:G${r.length+1})`},tags:null,ultimaAct:null};u&&u>0?(f.totalCLP={formula:`SUM(H2:H${r.length+1})`},f.imgManual={formula:`SUM(K2:K${r.length+1})`},f.fotosReales={formula:`SUM(L2:L${r.length+1})`}):(f.imgManual={formula:`SUM(J2:J${r.length+1})`},f.fotosReales={formula:`SUM(K2:K${r.length+1})`});const h=l.addRow(f);if(o&&(h.font={bold:!0},h.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primaryLight}}),h.getCell("total").numFmt='"$"#,##0.00',u&&u>0&&(h.getCell("totalCLP").numFmt='"$"#,##0'),l.autoFilter={from:{row:1,column:1},to:{row:r.length+1,column:d}},o&&l.eachRow(p=>{p.eachCell(y=>{y.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}),n){const p=a.addWorksheet(" Dashboard"),y=r.length,m=r.reduce((ae,le)=>ae+le.cantidadSolicitada,0),b=r.reduce((ae,le)=>ae+le.cantidadStockBodega,0),k=r.reduce((ae,le)=>ae+le.total,0),N=r.filter(ae=>ae.cantidadStockBodega>0).length,F=r.filter(ae=>ae.cantidadStockBodega===0).length,j=r.filter(ae=>ae.imagenesManual.length>0).length,T=r.filter(ae=>ae.fotosReales.length>0).length,M=y>0?k/y:0,B=y>0?b/y:0,O=y>0?N/y*100:0,R=y>0?F/y*100:0,E=new Set;r.forEach(ae=>{var le;return(le=ae.tags)==null?void 0:le.forEach(ne=>E.add(ne))}),p.getColumn(1).width=3,p.getColumn(2).width=22,p.getColumn(3).width=18,p.getColumn(4).width=3,p.getColumn(5).width=22,p.getColumn(6).width=18,p.getColumn(7).width=3,p.getColumn(8).width=22,p.getColumn(9).width=18,p.mergeCells("B2:I2");const I=p.getCell("B2");I.value=" DASHBOARD - Repuestos Baader 200",I.font={bold:!0,size:20,color:{argb:tr.primary}},I.alignment={horizontal:"center",vertical:"middle"},p.getRow(2).height=35,p.mergeCells("B3:I3");const A=p.getCell("B3");A.value=`Generado: ${new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,A.font={size:11,color:{argb:tr.gray}},A.alignment={horizontal:"center"};const w=(ae,le,ne,se,ye)=>{const me=p.getCell(`${ae}5`);me.value=le,me.font={size:10,color:{argb:tr.gray}},me.alignment={horizontal:"center"};const we=p.getCell(`${ae}6`);se==="currency"?(we.value=ne,we.numFmt='"USD "$#,##0.00'):se==="percent"?(we.value=ne/100,we.numFmt="0.0%"):se==="number"?(we.value=ne,we.numFmt="#,##0"):we.value=ne,we.font={bold:!0,size:24,color:{argb:ye}},we.alignment={horizontal:"center",vertical:"middle"},p.getRow(6).height=40};p.mergeCells("B5:C5"),p.mergeCells("B6:C6"),w("B"," TOTAL REPUESTOS",y,"number",tr.primary),p.mergeCells("E5:F5"),p.mergeCells("E6:F6"),w("E"," VALOR TOTAL",k,"currency",tr.success),p.mergeCells("H5:I5"),p.mergeCells("H6:I6"),w("H"," SIN STOCK",F,"number",tr.danger),p.mergeCells("B9:C9");const _=p.getCell("B9");_.value=" MTRICAS PRINCIPALES",_.font={bold:!0,size:12,color:{argb:tr.primary}},_.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primaryLight}},[["Cant. Solicitada Total",m,"#,##0"],["Stock Bodega Total",b,"#,##0"],["Valor Promedio/Item",M,'"$"#,##0.00'],["Stock Promedio/Item",B,"0.0"],["% Con Stock",O/100,"0.0%"],["% Sin Stock",R/100,"0.0%"]].forEach((ae,le)=>{const ne=10+le;p.getCell(`B${ne}`).value=ae[0],p.getCell(`B${ne}`).font={size:10};const se=p.getCell(`C${ne}`);se.value=ae[1],se.numFmt=ae[2],se.font={bold:!0},se.alignment={horizontal:"right"},le%2===0&&(p.getCell(`B${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}})}),p.mergeCells("E9:F9");const S=p.getCell("E9");S.value=" DOCUMENTACIN",S.font={bold:!0,size:12,color:{argb:tr.primary}},S.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primaryLight}},[["Con Imagen Manual",j,y],["Sin Imagen Manual",y-j,y],["Con Fotos Reales",T,y],["Sin Fotos Reales",y-T,y],["Total Imgenes Manual",r.reduce((ae,le)=>ae+le.imagenesManual.length,0),null],["Total Fotos Reales",r.reduce((ae,le)=>ae+le.fotosReales.length,0),null]].forEach((ae,le)=>{const ne=10+le;p.getCell(`E${ne}`).value=ae[0],p.getCell(`E${ne}`).font={size:10};const se=p.getCell(`F${ne}`);ae[2],se.value=ae[1],se.numFmt="#,##0",se.font={bold:!0},se.alignment={horizontal:"right"},le%2===0&&(p.getCell(`E${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}})}),p.mergeCells("H9:I9");const q=p.getCell("H9");q.value=" DISTRIBUCIN POR TAGS",q.font={bold:!0,size:12,color:{argb:tr.primary}},q.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primaryLight}},Array.from(E).slice(0,6).map(ae=>{const le=r.filter(ne=>{var se;return(se=ne.tags)==null?void 0:se.includes(ae)}).length;return[ae,le]}).forEach((ae,le)=>{const ne=10+le;p.getCell(`H${ne}`).value=ae[0],p.getCell(`H${ne}`).font={size:10};const se=p.getCell(`I${ne}`);se.value=ae[1],se.numFmt="#,##0",se.font={bold:!0},se.alignment={horizontal:"right"},le%2===0&&(p.getCell(`H${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}})}),p.mergeCells("B18:I18");const H=p.getCell("B18");H.value=" COBERTURA DE STOCK",H.font={bold:!0,size:12,color:{argb:tr.primary}};const X=50,Z=Math.round(O/100*X),V=X-Z,Q="".repeat(Z)+"".repeat(V);p.mergeCells("B19:I19");const z=p.getCell("B19");z.value=Q,z.font={size:14,color:{argb:O>=50?tr.success:tr.danger}},z.alignment={horizontal:"center"},p.mergeCells("B20:I20");const D=p.getCell("B20");D.value=`${N} con stock (${O.toFixed(1)}%) | ${F} sin stock (${R.toFixed(1)}%)`,D.font={size:10,color:{argb:tr.gray}},D.alignment={horizontal:"center"},p.mergeCells("B22:F22");const W=p.getCell("B22");W.value=" TOP 5 REPUESTOS MS COSTOSOS",W.font={bold:!0,size:12,color:{argb:tr.primary}},W.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primaryLight}};const ee=[...r].sort((ae,le)=>le.total-ae.total).slice(0,5);["#","Cdigo","Descripcin","Cant.","Total USD"].forEach((ae,le)=>{const ne=["B","C","D","E","F"],se=p.getCell(`${ne[le]}23`);se.value=ae,se.font={bold:!0,size:9,color:{argb:tr.white}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.gray}},se.alignment={horizontal:"center"}}),ee.forEach((ae,le)=>{const ne=24+le;p.getCell(`B${ne}`).value=le+1,p.getCell(`C${ne}`).value=ae.codigoSAP||ae.codigoBaader,p.getCell(`D${ne}`).value=ae.textoBreve.substring(0,30)+(ae.textoBreve.length>30?"...":""),p.getCell(`E${ne}`).value=ae.cantidadSolicitada;const se=p.getCell(`F${ne}`);se.value=ae.total,se.numFmt='"$"#,##0.00',se.font={bold:!0,color:{argb:tr.success}},le%2===0&&["B","C","D","E","F"].forEach(ye=>{p.getCell(`${ye}${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}}})}),p.mergeCells("H22:I22");const oe=p.getCell("H22");oe.value=" RESUMEN RPIDO",oe.font={bold:!0,size:12,color:{argb:tr.primary}},oe.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primaryLight}};const ie=[["Repuestos Totales",y],["Valor Total",k],["Urgentes (sin stock)",F],["Con documentacin",j+T],["Tags utilizados",E.size]];if(["Concepto","Valor"].forEach((ae,le)=>{const ne=["H","I"],se=p.getCell(`${ne[le]}23`);se.value=ae,se.font={bold:!0,size:9,color:{argb:tr.white}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.gray}},se.alignment={horizontal:"center"}}),ie.forEach((ae,le)=>{const ne=24+le;p.getCell(`H${ne}`).value=ae[0],p.getCell(`H${ne}`).font={size:10};const se=p.getCell(`I${ne}`);se.value=ae[1],le===1?se.numFmt='"$"#,##0.00':se.numFmt="#,##0",se.font={bold:!0},se.alignment={horizontal:"right"},le%2===0&&(p.getCell(`H${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}})}),o)for(let ae=9;ae<=15;ae++)["B","C","E","F","H","I"].forEach(le=>{const ne=p.getCell(`${le}${ae}`);ne.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}if(s){const p=r.filter(y=>y.cantidadStockBodega===0);if(p.length>0){const y=a.addWorksheet("Sin Stock",{views:[{state:"frozen",xSplit:0,ySplit:1}]});if(y.columns=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cdigo Baader",key:"codigoBaader",width:16},{header:"Descripcin",key:"descripcion",width:45},{header:"Cant. Solicitada",key:"cantidadSolicitada",width:14},{header:"V. Unitario (USD)",key:"valorUnitario",width:15},{header:"Total (USD)",key:"total",width:14},{header:"Tags",key:"tags",width:25}],o){const b=y.getRow(1);b.font={bold:!0,color:{argb:tr.white}},b.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.danger}},b.alignment={vertical:"middle",horizontal:"center"}}p.forEach((b,k)=>{var F;const N=y.addRow({codigoSAP:b.codigoSAP,codigoBaader:b.codigoBaader,descripcion:b.textoBreve,cantidadSolicitada:b.cantidadSolicitada,valorUnitario:b.valorUnitario,total:b.total,tags:((F=b.tags)==null?void 0:F.length)>0?b.tags.join(", "):null});N.getCell("valorUnitario").numFmt='"$"#,##0.00',N.getCell("total").numFmt='"$"#,##0.00',o&&k%2===1&&(N.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.dangerLight}})});const m=y.addRow({codigoSAP:null,codigoBaader:null,descripcion:`TOTAL (${p.length} repuestos)`,cantidadSolicitada:p.reduce((b,k)=>b+k.cantidadSolicitada,0),valorUnitario:null,total:p.reduce((b,k)=>b+k.total,0),tags:null});o&&(m.font={bold:!0},m.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.dangerLight}}),m.getCell("total").numFmt='"$"#,##0.00'}}if(i){const p=new Set;if(r.forEach(y=>{var m;return(m=y.tags)==null?void 0:m.forEach(b=>p.add(b))}),p.size>0){const y=a.addWorksheet("Por Tags");if(y.columns=[{header:"Tag",key:"tag",width:25},{header:"Cantidad Repuestos",key:"cantidad",width:18},{header:"Cant. Solicitada",key:"cantSolicitada",width:15},{header:"Stock Total",key:"stockTotal",width:12},{header:"Valor Total (USD)",key:"valorTotal",width:16}],o){const m=y.getRow(1);m.font={bold:!0,color:{argb:tr.white}},m.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.primary}},m.alignment={vertical:"middle",horizontal:"center"}}Array.from(p).sort().forEach((m,b)=>{const k=r.filter(F=>{var j;return(j=F.tags)==null?void 0:j.includes(m)}),N=y.addRow({tag:m,cantidad:k.length,cantSolicitada:k.reduce((F,j)=>F+j.cantidadSolicitada,0),stockTotal:k.reduce((F,j)=>F+j.cantidadStockBodega,0),valorTotal:k.reduce((F,j)=>F+j.total,0)});N.getCell("valorTotal").numFmt='"$"#,##0.00',o&&b%2===1&&(N.fill={type:"pattern",pattern:"solid",fgColor:{argb:tr.grayLight}})}),y.autoFilter={from:{row:1,column:1},to:{row:p.size+1,column:5}}}}const g=await a.xlsx.writeBuffer(),v=new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});P8.saveAs(v,`${e}.xlsx`)}async function EL(r,t={},e){const{includeCharts:n=!0,filename:s="repuestos_baader_200"}=t,i=new Kt("p","mm","a4"),o=i.internal.pageSize.getWidth(),u=i.internal.pageSize.getHeight(),a=8,l=o-2*a,c=await rM(r);console.log("Imgenes cargadas:",c.size),i.setFontSize(16),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text("Repuestos Baader 200",o/2,20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(100,100,100),i.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,o/2,28,{align:"center"});const d=r.reduce((k,N)=>k+N.cantidadSolicitada,0),f=r.reduce((k,N)=>k+N.cantidadStockBodega,0),h=r.reduce((k,N)=>k+N.total,0),g=r.filter(k=>k.imagenesManual.length>0).length,v=r.filter(k=>k.fotosReales.length>0).length,p=r.filter(k=>k.cantidadStockBodega>0).length,y=r.length-p;let m=38;if(n){const k=a+5,N=38,F=35,j=40;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(60,60,60),i.text("Cantidad vs Stock",k+F,N-3,{align:"center"});const T=Math.max(d,f,1),M=d/T*j,B=f/T*j;i.setFillColor(59,130,246),i.roundedRect(k,N+j-M,15,M,1,1,"F"),i.setFontSize(7),i.setTextColor(59,130,246),i.text(d.toString(),k+7.5,N+j-M-2,{align:"center"}),i.setFillColor(34,197,94),i.roundedRect(k+20,N+j-B,15,B,1,1,"F"),i.setTextColor(34,197,94),i.text(f.toString(),k+27.5,N+j-B-2,{align:"center"}),i.setFontSize(6),i.setTextColor(80,80,80),i.text("Solicitada",k+7.5,N+j+5,{align:"center"}),i.text("Stock",k+27.5,N+j+5,{align:"center"});const O=o/2,R=N+20,E=18;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(60,60,60),i.text("Documentacin",O,N-3,{align:"center"});const I=r.length;if(I>0){const x=g-r.filter(Z=>Z.imagenesManual.length>0&&Z.fotosReales.length>0).length,S=v-r.filter(Z=>Z.imagenesManual.length>0&&Z.fotosReales.length>0).length,C=r.filter(Z=>Z.imagenesManual.length>0&&Z.fotosReales.length>0).length,q=r.length-g-S;let P=-Math.PI/2;const H=[{value:C,color:[34,197,94],label:"Ambas"},{value:x,color:[59,130,246],label:"Manual"},{value:S,color:[168,85,247],label:"Real"},{value:Math.max(0,q),color:[209,213,219],label:"Sin img"}].filter(Z=>Z.value>0);H.forEach(Z=>{const V=Z.value/I*2*Math.PI,Q=P+V;i.setFillColor(Z.color[0],Z.color[1],Z.color[2]);const z=30,D=[[O,R]];for(let ee=0;ee<=z;ee++){const oe=P+V*ee/z;D.push([O+Math.cos(oe)*E,R+Math.sin(oe)*E])}D.push([O,R]),i.setDrawColor(255,255,255),i.setLineWidth(.5);let W=`${D[0][0]} ${D[0][1]} m`;for(let ee=1;ee<D.length;ee++)W+=` ${D[ee][0]} ${D[ee][1]} l`;for(let ee=0;ee<z;ee++){const oe=P+V*ee/z,ie=P+V*(ee+1)/z;i.triangle(O,R,O+Math.cos(oe)*E,R+Math.sin(oe)*E,O+Math.cos(ie)*E,R+Math.sin(ie)*E,"F")}P=Q});let X=N+j+3;i.setFontSize(6),H.forEach((Z,V)=>{const Q=O-20+V%2*25,z=X+Math.floor(V/2)*6;i.setFillColor(Z.color[0],Z.color[1],Z.color[2]),i.rect(Q,z-2,3,3,"F"),i.setTextColor(80,80,80),i.text(`${Z.label}: ${Z.value}`,Q+4,z,{align:"left"})})}const A=o-a-45;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(60,60,60),i.text("Disponibilidad",A+20,N-3,{align:"center"});const w=r.length>0?p/r.length*100:0,_=N+5;i.setFillColor(229,231,235),i.roundedRect(A,_,40,8,2,2,"F"),i.setFillColor(34,197,94),i.roundedRect(A,_,40*(w/100),8,2,2,"F"),i.setFontSize(7),i.setFont("helvetica","bold"),i.setTextColor(255,255,255),w>20&&i.text(`${Math.round(w)}%`,A+20,_+5.5,{align:"center"}),i.setFontSize(6),i.setTextColor(34,197,94),i.text(`${p} con stock`,A+20,_+14,{align:"center"}),i.setTextColor(239,68,68),i.text(`${y} sin stock`,A+20,_+19,{align:"center"}),i.setFillColor(30,64,175),i.roundedRect(A,_+26,40,14,2,2,"F"),i.setFontSize(7),i.setFont("helvetica","bold"),i.setTextColor(255,255,255),i.text("VALOR TOTAL",A+20,_+32,{align:"center"}),i.setFontSize(8),i.text(`$${h.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`,A+20,_+38,{align:"center"}),m=N+j+20}i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text("Resumen",o/2,m,{align:"center"}),xL(i,{startY:m+5,head:[["Concepto","Valor"]],body:[["Total Repuestos",r.length.toString()],["Cant. Solicitada Total",d.toString()],["Stock Bodega Total",f.toString()],["Valor Total (USD)",`$${h.toLocaleString("en-US",{minimumFractionDigits:2})}`],["Con Imgenes Manual",`${g} (${Math.round(g/r.length*100)}%)`],["Con Fotos Reales",`${v} (${Math.round(v/r.length*100)}%)`]],theme:"striped",headStyles:{fillColor:[30,64,175]},margin:{left:a+30,right:a+30},styles:{fontSize:9}}),i.addPage(),i.setFontSize(12),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text("Detalle de Repuestos",o/2,12,{align:"center"}),i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(100,100,100),i.text(`${r.length} repuestos`,o/2,17,{align:"center"});let b=22;for(let k=0;k<r.length;k++){const N=r[k],F=[...N.imagenesManual,...N.fotosReales],j=F.length>0,T=j?42:26;b+T>u-10&&(i.addPage(),b=10);const M=j?l*.35:l,B=a+M,O=l-M;i.setDrawColor(200,200,200),i.setFillColor(255,255,255),i.roundedRect(a,b,l,T,1,1,"FD");const R=a+2;let E=b+5;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text(`Cd. Baader: ${N.codigoBaader||"-"}`,R,E),E+=4,i.setFontSize(6),i.setFont("helvetica","bold"),i.setTextColor(80,80,80),i.text("Cd. SAP: ",R,E),i.setFont("helvetica","normal"),i.text(N.codigoSAP||"-",R+i.getTextWidth("Cd. SAP: "),E),E+=4,i.setFontSize(6),i.setTextColor(50,50,50);const I=M-4,A=i.splitTextToSize(N.textoBreve||"",I);i.text(A.slice(0,2),R,E),E+=Math.min(A.length,2)*2.5+2,i.setFontSize(6),i.setFont("helvetica","bold"),i.setTextColor(80,80,80),i.text("Cantidad: ",R,E),i.setFont("helvetica","normal"),i.text(`${N.cantidadSolicitada}`,R+i.getTextWidth("Cantidad: "),E),E+=3,i.setFont("helvetica","bold"),i.text("V. Unitario: ",R,E),i.setFont("helvetica","normal"),i.text(`$${u4(N.valorUnitario)}`,R+i.getTextWidth("V. Unitario: "),E),E+=3,i.setFont("helvetica","bold"),i.text("Total: ",R,E),i.setFont("helvetica","normal"),i.text(`$${u4(N.total)}`,R+i.getTextWidth("Total: "),E);const w=R+28;i.setFont("helvetica","bold"),i.text("Stock: ",w,E);const _=N.cantidadStockBodega>0?[0,130,0]:[180,0,0];if(i.setTextColor(_[0],_[1],_[2]),i.setFont("helvetica","bold"),i.text(`${N.cantidadStockBodega}`,w+i.getTextWidth("Stock: "),E),j){const S=B+2,C=O-2*2,q=T-2*2,P=b+2;if(F.length===1){const H=Math.min(C*.85,q-4),X=c.get(F[0].url),{w:Z,h:V}=bg(X,H,H),Q=S+(C-Z)/2,z=P+(q-V)/2-1;wg(i,c,F[0].url,Q,z,Z,V),i.setFontSize(4),i.setTextColor(130,130,130),i.setFont("helvetica","normal");const D=F[0].tipo==="manual"?"Manual":"Real";i.text(D,Q+Z/2,z+V+2.5,{align:"center"})}else{const X=Math.min((C-3)/2-2,q-6),Z=c.get(F[0].url),V=F[1]?c.get(F[1].url):null,Q=bg(Z,X,X),z=V?bg(V,X,X):Q,D=Q.w+z.w+3,W=S+(C-D)/2,ee=Math.max(Q.h,z.h),oe=P+(q-ee-4)/2,ie=oe+(ee-Q.h)/2;if(wg(i,c,F[0].url,W,ie,Q.w,Q.h),i.setFontSize(4),i.setTextColor(130,130,130),i.setFont("helvetica","normal"),i.text(F[0].tipo==="manual"?"Manual":"Real",W+Q.w/2,ie+Q.h+2.5,{align:"center"}),F[1]){const ae=W+Q.w+3,le=oe+(ee-z.h)/2;wg(i,c,F[1].url,ae,le,z.w,z.h),i.text(F[1].tipo==="manual"?"Manual":"Real",ae+z.w/2,le+z.h+2.5,{align:"center"})}F.length>2&&(i.setFontSize(5),i.setTextColor(100,100,100),i.text(`+${F.length-2}`,S+C-5,b+T-2))}}20+Math.round(k/r.length*75),b+=T+2}i.save(`${s}.pdf`)}function bg(r,t,e){if(!r)return{w:t,h:e};const n=r.width/r.height;let s=t,i=t/n;return i>e&&(i=e,s=e*n),{w:s,h:i}}function wg(r,t,e,n,s,i,o){const u=t.get(e);if(u)try{const a=u.base64.includes("image/png")?"PNG":"JPEG";r.addImage(u.base64,a,n,s,i,o);return}catch(a){console.error("Error agregando imagen al PDF:",a)}r.setFillColor(245,245,245),r.setDrawColor(220,220,220),r.roundedRect(n,s,i,o,1,1,"FD"),r.setFontSize(5),r.setTextColor(180,180,180),r.text("Sin img",n+i/2,s+o/2+1,{align:"center"})}const AL=Le.lazy(()=>Sf(()=>import("./PDFViewer-GVSDwteG.js"),__vite__mapDeps([0,1])).then(r=>({default:r.PDFViewer}))),TL=Le.lazy(()=>Sf(()=>import("./PDFMarkerEditor-8B6p9z7D.js"),__vite__mapDeps([2,1])).then(r=>({default:r.PDFMarkerEditor}))),c4=()=>G.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100",children:G.jsxs("div",{className:"text-center",children:[G.jsx(Ql,{className:"w-10 h-10 text-primary-600 animate-spin mx-auto mb-3"}),G.jsx("p",{className:"text-gray-600",children:"Cargando visor de PDF..."})]})});function CL(){const{user:r,signOut:t}=tv(),{repuestos:e,loading:n,createRepuesto:s,updateRepuesto:i,deleteRepuesto:o,getHistorial:u,importRepuestos:a,renameTag:l,deleteTag:c}=BR(),{uploadImage:d,getManualURL:f}=UR(),{lastSelectedRepuestoId:h,setLastSelectedRepuesto:g}=zR(),{toasts:v,removeToast:p,success:y,error:m}=VR(),{valor:b}=f8(),[k,N]=Le.useState(null),[F,j]=Le.useState(null),[T,M]=Le.useState(null),[B,O]=Le.useState(null),[R,E]=Le.useState(!1),[I,A]=Le.useState("create"),[w,_]=Le.useState("hidden"),[x,S]=Le.useState("manual"),[C,q]=Le.useState(null),[P,H]=Le.useState(),[X,Z]=Le.useState(),[V,Q]=Le.useState(null),[z,D]=Le.useState(!1),[W,ee]=Le.useState(!1),[oe,ie]=Le.useState(!1),[ae,le]=Le.useState(!1),[ne,se]=Le.useState("repuestos"),[ye,me]=Le.useState([]),[we,_e]=Le.useState(!1),[Se,Te]=Le.useState(!0),[je,Ue]=Le.useState(!1),[qe,We]=Le.useState("completo"),[Ke,rt]=Le.useState(!0),[ut,He]=Le.useState(!0),[_t,Qe]=Le.useState(!0),[at,nt]=Le.useState(!0);Le.useEffect(()=>{f().then(Ve=>{Ve&&q(Ve)})},[f]),Le.useEffect(()=>{if(h&&e.length>0&&!k){const Ve=e.find(it=>it.id===h);Ve&&(N(Ve),_("gallery"))}},[h,e,k]),Le.useEffect(()=>{g((k==null?void 0:k.id)||null)},[k,g]);const yt=Ve=>{N(Ve),Ve?(_("gallery"),S("manual")):_("hidden")},xt=()=>{j(null),A("create"),E(!0)},Ct=Ve=>{j(Ve),A("edit"),E(!0)},ar=async Ve=>{try{I==="edit"&&F?(await i(F.id,Ve,F),y("Repuesto actualizado correctamente")):(await s(Ve),y("Repuesto creado correctamente")),E(!1)}catch(it){throw m("Error al guardar el repuesto"),it}},wt=Ve=>{M(Ve)},Xt=async()=>{if(T){ee(!0);try{await o(T.id),y("Repuesto eliminado"),(k==null?void 0:k.id)===T.id&&(N(null),_("hidden"))}catch{m("Error al eliminar el repuesto")}finally{ee(!1),M(null)}}},$t=Ve=>{if(N(Ve),_("pdf"),Ve.vinculosManual&&Ve.vinculosManual.length>0){const it=Ve.vinculosManual[0];H(it.pagina),Z(it)}else H(void 0),Z(void 0)},At=Ve=>{N(Ve),_("gallery"),S("real")},vt=(Ve,it)=>{Q(Ve),N(Ve),Rt(it||null),_("marker-editor")},[Nt,Rt]=Le.useState(null),qt=async Ve=>{if(!V)return;const it=V.vinculosManual||[];if(Nt){const St=it.map(bt=>bt.id===Nt.id?{...Ve,id:Nt.id}:bt);await i(V.id,{vinculosManual:St}),y("Marcador actualizado correctamente"),Z({...Ve,id:Nt.id})}else{const St={...Ve,id:Date.now().toString()};await i(V.id,{vinculosManual:[...it,St]}),y("Marcador guardado - Ahora puedes ver este repuesto en el manual"),Z(St)}_("pdf"),Q(null),Rt(null),H(Ve.pagina)},er=async(Ve,it)=>{const bt=(Ve.vinculosManual||[]).filter(Lt=>Lt.id!==it);await i(Ve.id,{vinculosManual:bt}),y("Marcador eliminado"),Z(void 0)},Dt=Ve=>{O(Ve)},ct=async(Ve,it,St)=>{const bt=await d(Ve,it,St),Lt=e.find(or=>or.id===it);if(Lt){const or=St==="manual"?Lt.imagenesManual:Lt.fotosReales,yr=[...or,{...bt,orden:or.length}];await i(it,{[St==="manual"?"imagenesManual":"fotosReales"]:yr}),y("Imagen agregada correctamente")}return bt},ir=async(Ve,it)=>{const St=it.tipo,Lt=(St==="manual"?Ve.imagenesManual:Ve.fotosReales).filter(or=>or.id!==it.id);await i(Ve.id,{[St==="manual"?"imagenesManual":"fotosReales"]:Lt}),y("Imagen eliminada")},Ut=async(Ve,it)=>{const St=it.tipo,Lt=(St==="manual"?Ve.imagenesManual:Ve.fotosReales).map(or=>({...or,esPrincipal:or.id===it.id}));await i(Ve.id,{[St==="manual"?"imagenesManual":"fotosReales"]:Lt})},ke=async(Ve,it)=>{var bt;const St=((bt=it[0])==null?void 0:bt.tipo)||"manual";await i(Ve.id,{[St==="manual"?"imagenesManual":"fotosReales"]:it})},Ne=Le.useCallback(async(Ve,it)=>{if(!k)return;const bt=await(await fetch(Ve)).blob(),Lt=new File([bt],`manual_page_${it}.png`,{type:"image/png"});await ct(Lt,k.id,"manual");const or=k.vinculosManual||[];await i(k.id,{vinculosManual:[...or,{id:Date.now().toString(),pagina:it,forma:"rectangulo",color:"rgba(239, 68, 68, 0.4)",descripcion:`Pgina ${it}`}]}),y(`Captura de pgina ${it} guardada`)},[k,i,y]),ze=()=>{Ue(!0)},st=()=>{const Ve=ye.length>0?ye:e;kL(Ve,{formato:qe,incluirResumen:Ke,incluirSinStock:ut,incluirPorTags:_t,incluirEstilos:at,tipoCambio:b>0?b:void 0}),y(`Excel exportado con ${Ve.length} repuestos (formato ${qe==="simple"?"simple":"completo"})`),Ue(!1)},Ft=()=>{_e(!0)},pt=()=>{const Ve=ye.length>0?ye:e;EL(Ve,{includeCharts:Se}),y(`PDF exportado con ${Ve.length} repuestos`),_e(!1)},Mt=async Ve=>{try{await a(Ve),y(`${Ve.length} repuestos importados correctamente`)}catch(it){throw m("Error al importar repuestos"),it}};return n?G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"spinner mx-auto mb-4"}),G.jsx("p",{className:"text-gray-600",children:"Cargando repuestos..."})]})}):G.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[G.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:G.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),G.jsxs("div",{children:[G.jsxs("h1",{className:"font-bold text-gray-800 text-lg flex items-center gap-2",children:["Baader 200",G.jsxs("span",{className:"text-xs font-normal bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full",children:["v",HR]})]}),G.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de Repuestos"})]})]}),G.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[G.jsx(ks,{variant:"ghost",size:"sm",onClick:()=>{_(w==="pdf"?"hidden":"pdf")},icon:G.jsx(xw,{className:"w-4 h-4"}),children:"Manual"}),G.jsx(ks,{variant:"secondary",size:"sm",onClick:ze,icon:G.jsx(_p,{className:"w-4 h-4"}),children:"Excel"}),G.jsx(ks,{variant:"secondary",size:"sm",onClick:Ft,icon:G.jsx(dh,{className:"w-4 h-4"}),children:"PDF"}),e.length===0&&G.jsx(ks,{variant:"primary",size:"sm",onClick:()=>ie(!0),icon:G.jsx(nv,{className:"w-4 h-4"}),children:"Importar"}),G.jsx("div",{className:"w-px h-8 bg-gray-200"}),G.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[G.jsx("span",{children:r==null?void 0:r.email}),G.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",title:"Cerrar sesin",children:G.jsx(Ew,{className:"w-4 h-4"})})]})]}),G.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>D(!0),children:G.jsx(TR,{className:"w-6 h-6"})})]})}),z&&G.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[G.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>D(!1)}),G.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white shadow-xl animate-slideInRight",children:[G.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[G.jsx("span",{className:"font-semibold",children:"Men"}),G.jsx("button",{onClick:()=>D(!1),children:G.jsx(bi,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"p-4 space-y-2",children:[G.jsxs("button",{onClick:()=>{_("pdf"),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[G.jsx(xw,{className:"w-5 h-5 text-gray-500"}),G.jsx("span",{children:"Ver Manual"})]}),G.jsxs("button",{onClick:()=>{ze(),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[G.jsx(_p,{className:"w-5 h-5 text-gray-500"}),G.jsx("span",{children:"Exportar Excel"})]}),G.jsxs("button",{onClick:()=>{Ft(),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[G.jsx(dh,{className:"w-5 h-5 text-gray-500"}),G.jsx("span",{children:"Exportar PDF"})]}),G.jsx("hr",{className:"my-4"}),G.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:r==null?void 0:r.email}),G.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 text-red-600",children:[G.jsx(Ew,{className:"w-5 h-5"}),G.jsx("span",{children:"Cerrar sesin"})]})]})]})]}),G.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[G.jsx("div",{className:"bg-white border-b border-gray-200 px-4",children:G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsxs("button",{onClick:()=>{se("repuestos"),w==="hidden"&&_("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${ne==="repuestos"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[G.jsx(Zl,{className:"w-4 h-4"}),"Repuestos"]}),G.jsxs("button",{onClick:()=>{se("stats"),_("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${ne==="stats"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[G.jsx(i8,{className:"w-4 h-4"}),"Estadsticas"]})]})}),G.jsx("div",{className:"flex-1 flex overflow-hidden",children:ne==="stats"?G.jsx("div",{className:"flex-1 overflow-hidden",children:G.jsx(wj,{repuestos:e})}):G.jsxs(G.Fragment,{children:[G.jsx("div",{className:`
                flex-1 min-w-0 overflow-hidden
                ${w!=="hidden"?"hidden md:block md:w-1/2 lg:w-3/5":"w-full"}
              `,children:G.jsx(XR,{repuestos:e,selectedRepuesto:k,onSelect:yt,onEdit:Ct,onDelete:wt,onViewManual:$t,onViewPhotos:At,onViewHistory:Dt,onAddNew:xt,onMarkInManual:vt,getHistorial:u,onManageTags:()=>le(!0),onFilteredChange:me})}),w!=="hidden"&&G.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-l border-gray-200 flex flex-col",children:[G.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[G.jsxs("button",{onClick:()=>_("gallery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${w==="gallery"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[G.jsx(h8,{className:"w-4 h-4"}),"Imgenes"]}),G.jsxs("button",{onClick:()=>_("pdf"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${w==="pdf"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[G.jsx(um,{className:"w-4 h-4"}),"Manual"]}),G.jsx("button",{onClick:()=>_("hidden"),className:"md:hidden px-3 text-gray-400 hover:text-gray-600",children:G.jsx(bi,{className:"w-5 h-5"})})]}),w==="gallery"&&k&&G.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[G.jsxs("button",{onClick:()=>S("manual"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${x==="manual"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Del Manual (",k.imagenesManual.length,")"]}),G.jsxs("button",{onClick:()=>S("real"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${x==="real"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Fotos Reales (",k.fotosReales.length,")"]})]}),G.jsx("div",{className:"flex-1 overflow-hidden",children:w==="gallery"?G.jsx(yj,{repuesto:k,tipo:x,onUpload:ct,onDelete:ir,onSetPrimary:Ut,onUpdateOrder:ke}):w==="marker-editor"&&V&&C?G.jsx(Le.Suspense,{fallback:G.jsx(c4,{}),children:G.jsx(TL,{pdfUrl:C,repuestoId:V.id,repuestoDescripcion:V.descripcion||V.textoBreve,existingMarker:Nt||void 0,onSave:qt,onCancel:()=>{_("pdf"),Q(null),Rt(null)},repuestos:e,onSelectRepuesto:Ve=>{Q(Ve),N(Ve)}})}):G.jsx(Le.Suspense,{fallback:G.jsx(c4,{}),children:G.jsx(AL,{pdfUrl:C,targetPage:P,marker:X,onCapture:k?Ne:void 0,onEditMarker:k?Ve=>vt(k,Ve):void 0,onDeleteMarker:k?Ve=>er(k,Ve.id):void 0,onAddMarker:k?()=>vt(k):void 0})})})]})]})})]}),G.jsx(YR,{isOpen:R,onClose:()=>E(!1),onSave:ar,repuesto:F}),G.jsx(QR,{isOpen:!!B,onClose:()=>O(null),repuesto:B,getHistorial:u}),G.jsx(ZR,{isOpen:!!T,onClose:()=>M(null),onConfirm:Xt,repuesto:T,loading:W}),G.jsx(bj,{isOpen:oe,onClose:()=>ie(!1),onImport:Mt}),G.jsx(JR,{isOpen:ae,onClose:()=>le(!1),repuestos:e,onRenameTag:l,onDeleteTag:c}),we&&G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>_e(!1),children:G.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",onClick:Ve=>Ve.stopPropagation(),children:[G.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[G.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[G.jsx(dh,{className:"w-5 h-5 text-primary-600"}),"Exportar PDF"]}),G.jsx("button",{onClick:()=>_e(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:G.jsx(bi,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"p-5",children:[G.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Se exportarn ",ye.length>0?ye.length:e.length," repuestos"]}),G.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[G.jsx("input",{type:"checkbox",checked:Se,onChange:Ve=>Te(Ve.target.checked),className:"w-5 h-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),G.jsxs("div",{children:[G.jsx("span",{className:"font-medium text-gray-800",children:"Incluir grficos"}),G.jsx("p",{className:"text-xs text-gray-500",children:"Barras, circular e indicadores en el resumen"})]})]})]}),G.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[G.jsx("button",{onClick:()=>_e(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),G.jsxs("button",{onClick:pt,className:"px-4 py-2 text-sm text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors flex items-center gap-2",children:[G.jsx(dh,{className:"w-4 h-4"}),"Exportar"]})]})]})}),je&&G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Ue(!1),children:G.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",onClick:Ve=>Ve.stopPropagation(),children:[G.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[G.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[G.jsx(_p,{className:"w-5 h-5 text-green-600"}),"Exportar Excel"]}),G.jsx("button",{onClick:()=>Ue(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:G.jsx(bi,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"p-5 space-y-4",children:[G.jsxs("p",{className:"text-sm text-gray-600",children:["Se exportarn ",ye.length>0?ye.length:e.length," repuestos"]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de exportacin"}),G.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[G.jsxs("button",{onClick:()=>We("simple"),className:`p-3 rounded-lg border-2 text-left transition-all ${qe==="simple"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[G.jsx("div",{className:"font-medium text-gray-800",children:"Simple"}),G.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Solo datos, 1 hoja"})]}),G.jsxs("button",{onClick:()=>We("completo"),className:`p-3 rounded-lg border-2 text-left transition-all ${qe==="completo"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[G.jsx("div",{className:"font-medium text-gray-800",children:"Completo"}),G.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Estilos, mltiples hojas"})]})]})]}),qe==="completo"&&G.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opciones avanzadas"}),G.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[G.jsx("input",{type:"checkbox",checked:at,onChange:Ve=>nt(Ve.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),G.jsxs("div",{children:[G.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Incluir estilos"}),G.jsx("p",{className:"text-xs text-gray-500",children:"Colores, bordes y formato condicional"})]})]}),G.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[G.jsx("input",{type:"checkbox",checked:Ke,onChange:Ve=>rt(Ve.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),G.jsxs("div",{children:[G.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Hoja de resumen"}),G.jsx("p",{className:"text-xs text-gray-500",children:"Estadsticas y totales generales"})]})]}),G.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[G.jsx("input",{type:"checkbox",checked:ut,onChange:Ve=>He(Ve.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),G.jsxs("div",{children:[G.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Sin Stock"'}),G.jsx("p",{className:"text-xs text-gray-500",children:"Lista de repuestos con stock en 0"})]})]}),G.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[G.jsx("input",{type:"checkbox",checked:_t,onChange:Ve=>Qe(Ve.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),G.jsxs("div",{children:[G.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Por Tags"'}),G.jsx("p",{className:"text-xs text-gray-500",children:"Resumen agrupado por etiquetas"})]})]})]})]}),G.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[G.jsx("button",{onClick:()=>Ue(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),G.jsxs("button",{onClick:st,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center gap-2",children:[G.jsx(dh,{className:"w-4 h-4"}),"Exportar Excel"]})]})]})}),G.jsx(GR,{toasts:v,onRemove:p})]})}function NL(){const{user:r,loading:t}=tv();return t?G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"spinner mx-auto mb-4"}),G.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):r?G.jsx(CL,{}):G.jsx(OR,{})}function PL(){return G.jsx(hR,{children:G.jsx(NL,{})})}_g.createRoot(document.getElementById("root")).render(G.jsx(al.StrictMode,{children:G.jsx(PL,{})}));export{s8 as C,Ql as L,sg as M,_f as P,RR as S,xf as T,bi as X,LR as Z,Vr as _,o8 as a,Sw as b,Yt as c,IR as d,Kd as e,cr as f,OS as g,i2 as h,G as j,Le as r};
