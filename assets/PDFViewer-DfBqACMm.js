import{c as X,r as n,g as Ae,p as $e,j as e,L as Te,C as Pe,a as Re,S as Z,Z as ke,b as Ve,X as Ke,M as ae,T as Fe,P as Ze}from"./index-JOcQF5WS.js";import{Z as Le}from"./zoom-out-CdrmD6bd.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=X("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=X("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);$e.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function _e({pdfUrl:z,targetPage:w,marker:c,onCapture:G,onEditMarker:B,onDeleteMarker:H,onAddMarker:Q,preloadedPDF:U,preloadedText:ne}){var Ee;const I=n.useRef(null),g=n.useRef(null),J=n.useRef(null),re=n.useRef(null),E=typeof window<"u"&&(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window||navigator.maxTouchPoints>0),[j,le]=n.useState(null),[h,y]=n.useState(1),[f,ce]=n.useState(0),[m,_]=n.useState(E?.5:1),[ee,W]=n.useState(!0),[ie,oe]=n.useState(null),[k,O]=n.useState(!1),[he,de]=n.useState(""),[te,xe]=n.useState(!1),q=n.useRef(null),ue=n.useRef(E?.5:1),[b,ge]=n.useState(""),[d,A]=n.useState([]),[v,F]=n.useState(-1),[V,me]=n.useState(!1),[T,$]=n.useState(!1),[se,D]=n.useState([]),[K,pe]=n.useState(new Map),Y=n.useRef(null);n.useEffect(()=>{if(!z)return;const t=Ae();if(U||t&&t.url===z){const a=U||t.pdf,i=ne||(t==null?void 0:t.textContent);console.log("[PDFViewer] Usando PDF precargado âš¡"),le(a),ce(a.numPages),i&&i.size>0?pe(i):fe(a),W(!1);return}W(!0),oe(null),$e.getDocument(z).promise.then(a=>{le(a),ce(a.numPages),W(!1),fe(a)}).catch(a=>{console.error("Error al cargar PDF:",a),oe("No se pudo cargar el manual PDF"),W(!1)})},[z,U,ne]);const fe=async t=>{const s=new Map;for(let a=1;a<=t.numPages;a++)try{const x=(await(await t.getPage(a)).getTextContent()).items.filter(l=>"str"in l&&"transform"in l).map(l=>({str:l.str,transform:l.transform}));let o="",r=-1;for(const l of x){const p=l.transform[4];r!==-1&&p-r>10&&(o+=" "),o+=l.str,r=p+l.str.length*5}s.set(a,{text:o,items:x})}catch(i){console.error(`Error cargando texto de pÃ¡gina ${a}:`,i)}pe(s)};n.useEffect(()=>{const t=s=>{(s.ctrlKey||s.metaKey)&&s.key==="f"&&(s.preventDefault(),$(!0)),s.key==="Escape"&&T&&$(!1)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[T]),n.useEffect(()=>{w&&w>0&&f>0&&w<=f&&y(w)},[w,f]),n.useEffect(()=>{!ee&&j&&w&&w>0&&w<=f&&y(w)},[ee,j,w,f]);const ye=n.useCallback(async t=>{var s,a;if(!(!j||!I.current))try{const i=await j.getPage(t),u=I.current,x=u.getContext("2d");if(!x)return;const o=i.getViewport({scale:m});if(u.height=o.height,u.width=o.width,g.current&&(g.current.height=o.height,g.current.width=o.width),await i.render({canvasContext:x,viewport:o}).promise,c&&c.pagina===t&&c.coordenadas&&g.current){const r=g.current.getContext("2d");if(r){r.clearRect(0,0,g.current.width,g.current.height);const{x:l,y:p,width:C,height:S}=c.coordenadas,P=l<=1&&p<=1&&C<=1&&S<=1;let N,R,L,M;if(P?(N=l*o.width,R=p*o.height,L=C*o.width,M=S*o.height):(N=l*m,R=p*m,L=C*m,M=S*m),r.fillStyle=c.color||"rgba(239, 68, 68, 0.4)",c.forma==="circulo"){const Oe=N+L/2,qe=R+M/2;r.beginPath(),r.ellipse(Oe,qe,L/2,M/2,0,0,2*Math.PI),r.fill(),c.sinBorde||(r.strokeStyle=((s=c.color)==null?void 0:s.replace("0.4","0.8"))||"#ef4444",r.lineWidth=2,r.stroke())}else r.fillRect(N,R,L,M),c.sinBorde||(r.strokeStyle=((a=c.color)==null?void 0:a.replace("0.4","0.8"))||"#ef4444",r.lineWidth=2,r.strokeRect(N,R,L,M))}}else if(g.current){const r=g.current.getContext("2d");r&&r.clearRect(0,0,g.current.width,g.current.height)}}catch(i){console.error("Error al renderizar pÃ¡gina:",i)}},[j,m,c]);n.useEffect(()=>{ye(h)},[h,ye]),n.useEffect(()=>{const t=re.current;if(!t||!j)return;let s=null,a=0;const i=100,u=x=>{const o=t.scrollHeight>t.clientHeight,r=t.scrollTop<=0,l=t.scrollTop+t.clientHeight>=t.scrollHeight-5;o&&!r&&!l||(r&&x.deltaY<0&&h>1?(x.preventDefault(),a+=Math.abs(x.deltaY),a>=i&&(y(p=>p-1),a=0,setTimeout(()=>{t&&(t.scrollTop=t.scrollHeight)},100))):l&&x.deltaY>0&&h<f&&(x.preventDefault(),a+=Math.abs(x.deltaY),a>=i&&(y(p=>p+1),a=0,setTimeout(()=>{t&&(t.scrollTop=0)},100))),s&&clearTimeout(s),s=setTimeout(()=>{a=0},200))};return t.addEventListener("wheel",u,{passive:!1}),()=>{t.removeEventListener("wheel",u),s&&clearTimeout(s)}},[j,h,f]);const be=()=>{h>1&&y(t=>t-1)},we=()=>{h<f&&y(t=>t+1)},je=()=>_(t=>Math.min(t+.25,3)),Ne=()=>_(t=>Math.max(t-.25,.25)),De=n.useCallback(t=>{if(t.touches.length===2){const s=t.touches[0],a=t.touches[1],i=Math.hypot(a.clientX-s.clientX,a.clientY-s.clientY);q.current=i,ue.current=m}},[m]),Ye=n.useCallback(t=>{if(t.touches.length===2&&q.current!==null){t.preventDefault();const s=t.touches[0],a=t.touches[1],u=Math.hypot(a.clientX-s.clientX,a.clientY-s.clientY)/q.current,x=Math.min(Math.max(ue.current*u,.25),3);_(x)}},[]),Xe=n.useCallback(()=>{q.current=null},[]),ve=()=>{const t=parseInt(he);!isNaN(t)&&t>=1&&t<=f&&(y(t),de(""))},Ce=n.useCallback(t=>{if(!t.trim()||t.length<1){A([]),F(-1),D([]);return}me(!0);const s=[],a=t.toLowerCase().trim(),i=a.replace(/\s+/g,"");K.forEach((u,x)=>{const o=u.text.toLowerCase(),r=o.replace(/\s+/g,"");let l=!1,p=0;if(o.includes(a)&&(l=!0,p=(o.match(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),!l&&i.length>=2&&r.includes(i)&&(l=!0,p=(r.match(new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),l){const C=o.indexOf(a)!==-1?o.indexOf(a):r.indexOf(i),S=Math.max(0,C-30),P=Math.min(u.text.length,C+t.length+30),N=(S>0?"...":"")+u.text.substring(S,P)+(P<u.text.length?"...":"");s.push({pageNum:x,text:N,matches:p})}}),s.sort((u,x)=>x.matches-u.matches),A(s),F(s.length>0?0:-1),me(!1),s.length>0&&y(s[0].pageNum)},[K]);n.useEffect(()=>(Y.current&&clearTimeout(Y.current),b.length>=1?Y.current=setTimeout(()=>{Ce(b)},150):(A([]),D([])),()=>{Y.current&&clearTimeout(Y.current)}),[b,Ce]),n.useEffect(()=>{if(!g.current||!j||!b.trim()){D([]);return}(async()=>{if(!K.get(h))return;const a=await j.getPage(h),i=a.getViewport({scale:m}),u=await a.getTextContent(),x=b.toLowerCase().trim(),o=[];u.items.forEach(r=>{if(!("str"in r)||!("transform"in r))return;const l=r;if(l.str.toLowerCase().includes(x)){const[,,,,p,C]=l.transform,S=l.width||l.str.length*8,P=l.height||12,N=p*m,R=i.height-C*m-P*m;o.push({x:N,y:R,width:S*m,height:P*m*1.2})}}),D(o)})()},[h,b,j,m,K]),n.useEffect(()=>{if(!g.current)return;const t=g.current.getContext("2d");t&&((!c||c.pagina!==h)&&t.clearRect(0,0,g.current.width,g.current.height),se.length>0&&(t.fillStyle="rgba(255, 255, 0, 0.4)",t.strokeStyle="rgba(255, 200, 0, 0.8)",t.lineWidth=2,se.forEach(s=>{t.fillRect(s.x,s.y,s.width,s.height),t.strokeRect(s.x,s.y,s.width,s.height)})))},[se,c,h]);const Be=()=>{if(d.length===0)return;const t=(v+1)%d.length;F(t),y(d[t].pageNum)},He=()=>{if(d.length===0)return;const t=v<=0?d.length-1:v-1;F(t),y(d[t].pageNum)},We=()=>{if(!I.current||!G)return;const t=I.current.toDataURL("image/png");G(t,h),xe(!1)},Se=()=>{if(E)O(t=>!t);else{if(!J.current)return;if(document.fullscreenElement){const t=document;t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen(),O(!1)}else{const t=J.current;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),O(!0)}}};return n.useEffect(()=>{const t=()=>{E||O(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}},[E]),z?ee?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-100",children:[e.jsx(Te,{className:"w-8 h-8 text-primary-600 animate-spin mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Cargando manual..."})]}):ie?e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-red-500",children:e.jsx("p",{children:ie})}):e.jsxs("div",{ref:J,className:`h-full flex flex-col bg-gray-800 ${k&&E?"fixed inset-0 z-[9999] w-screen h-screen":""}`,children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between px-4 py-2 bg-gray-900 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:be,disabled:h<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Pe,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm",children:[h," / ",f]}),e.jsx("button",{onClick:we,disabled:h>=f,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:he,onChange:t=>de(t.target.value),onKeyDown:t=>t.key==="Enter"&&ve(),placeholder:"PÃ¡g.",className:"w-16 px-2 py-1 text-sm bg-gray-700 rounded border border-gray-600 text-white placeholder-gray-400",min:"1",max:f}),e.jsx("button",{onClick:ve,className:"p-2 rounded hover:bg-gray-700",title:"Ir a pÃ¡gina",children:e.jsx(Z,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Ne,className:"p-2 rounded hover:bg-gray-700",title:"Alejar",children:e.jsx(Le,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm w-12 text-center",children:[Math.round(m*100),"%"]}),e.jsx("button",{onClick:je,className:"p-2 rounded hover:bg-gray-700",title:"Acercar",children:e.jsx(ke,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-2"}),e.jsx("button",{onClick:()=>$(!T),className:`p-2 rounded transition-colors ${T?"bg-primary-600":"hover:bg-gray-700"}`,title:"Buscar texto en PDF (Ctrl+F)",children:e.jsx(Z,{className:"w-5 h-5"})}),G&&e.jsx("button",{onClick:()=>xe(!te),className:`p-2 rounded transition-colors ${te?"bg-primary-600":"hover:bg-gray-700"}`,title:"Capturar imagen",children:e.jsx(Ve,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Se,className:"p-2 rounded hover:bg-gray-700",title:k?"Salir de pantalla completa":"Pantalla completa",children:k?e.jsx(ze,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"lg:hidden flex flex-col bg-gray-900 text-white",children:e.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:be,disabled:h<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(Pe,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm font-medium px-2",children:[h," / ",f]}),e.jsx("button",{onClick:we,disabled:h>=f,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Ne,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(Le,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-xs w-10 text-center",children:[Math.round(m*100),"%"]}),e.jsx("button",{onClick:je,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(ke,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),e.jsx("button",{onClick:()=>$(!T),className:`p-2 rounded transition-colors ${T?"bg-primary-600 text-white":"hover:bg-gray-700"}`,title:"Buscar en PDF",children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Se,className:`p-2.5 rounded-lg transition-colors ${k?"bg-primary-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,title:k?"Salir":"Pantalla completa",children:k?e.jsx(ze,{className:"w-5 h-5"}):e.jsx(Me,{className:"w-5 h-5"})})]})]})}),T&&e.jsxs("div",{className:"px-4 py-3 bg-gray-800 border-b border-gray-700 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:b,onChange:t=>ge(t.target.value),placeholder:"Buscar en el PDF... (ej: 200, 1-0201, Baader)",className:"w-full pl-10 pr-4 py-2.5 text-sm bg-gray-700 rounded-l-lg border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0}),V&&e.jsx(Te,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400 animate-spin"})]}),b&&!V&&e.jsx("div",{className:`px-3 py-2.5 text-sm border-y border-gray-600 ${d.length>0?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:d.length>0?`${d.length} pÃ¡g${d.length>1?"s":""}`:"0"}),d.length>0&&e.jsxs("div",{className:"flex border border-gray-600 border-l-0 rounded-r-lg overflow-hidden",children:[e.jsx("button",{onClick:He,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white border-r border-gray-600",title:"Anterior (â†‘)",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Be,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white",title:"Siguiente (â†“)",children:e.jsx(Ge,{className:"w-4 h-4"})})]}),!d.length&&b&&!V&&e.jsx("div",{className:"px-3 py-2.5 bg-gray-700 rounded-r-lg border border-l-0 border-gray-600",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"â€”"})})]}),b&&d.length>0&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-400 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("span",{children:["ðŸ“„ ",d.length," pÃ¡gina",d.length>1?"s":""," con resultados"]}),e.jsx("span",{className:"text-yellow-400",children:"ðŸ” Resaltado activo"})]}),d.map((t,s)=>e.jsxs("button",{onClick:()=>{F(s),y(t.pageNum)},className:`w-full text-left px-3 py-2 text-sm border-b border-gray-700 last:border-b-0 transition-colors ${s===v?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:["PÃ¡gina ",t.pageNum]}),t.matches>1&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${s===v?"bg-primary-700":"bg-gray-600"}`,children:[t.matches," coincidencias"]})]}),e.jsx("p",{className:"text-xs mt-1 opacity-70 truncate",children:t.text})]},`${t.pageNum}-${s}`))]}),b&&d.length===0&&!V&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 p-4 text-center",children:[e.jsxs("p",{className:"text-yellow-400 text-sm",children:['âš ï¸ No se encontrÃ³ "',b,'"']}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Prueba con otro tÃ©rmino o revisa la ortografÃ­a"})]})]}),e.jsx("button",{onClick:()=>{$(!1),ge(""),A([]),F(-1),D([])},className:"p-2 text-gray-400 hover:text-white rounded hover:bg-gray-700",title:"Cerrar bÃºsqueda (Esc)",children:e.jsx(Ke,{className:"w-5 h-5"})})]}),d.length>0&&v>=0&&e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-400",children:["Resultado ",v+1," de ",d.length," â€¢ PÃ¡gina ",(Ee=d[v])==null?void 0:Ee.pageNum]}),e.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-400/40 border border-yellow-500 rounded-sm"}),"Texto resaltado en amarillo"]})]})]}),te&&e.jsxs("div",{className:"px-4 py-2 bg-primary-600 text-white text-sm flex items-center justify-between",children:[e.jsx("span",{children:"Modo captura activo - La pÃ¡gina actual serÃ¡ capturada como imagen"}),e.jsxs("button",{onClick:We,className:"px-4 py-1 bg-white text-primary-600 rounded font-medium hover:bg-gray-100",children:["Capturar pÃ¡gina ",h]})]}),(c||Q)&&e.jsx("div",{className:"px-4 py-2 bg-gray-700 text-white text-sm flex items-center justify-between",children:c&&c.pagina===h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-green-400 font-medium",children:"Marcador en esta pÃ¡gina"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[B&&e.jsxs("button",{onClick:()=>B(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),"Editar"]}),H&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&H(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),"Eliminar"]})]})]}):c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400",children:["Marcador en pÃ¡gina ",c.pagina]}),e.jsx("button",{onClick:()=>y(c.pagina),className:"px-2 py-0.5 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700",children:"Ir al marcador"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[B&&e.jsxs("button",{onClick:()=>B(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Ie,{className:"w-3 h-3"}),"Editar"]}),H&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&H(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),"Eliminar"]})]})]}):Q?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-400",children:"Sin marcador"})]}),e.jsxs("button",{onClick:Q,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),"Agregar marcador"]})]}):null}),e.jsx("div",{ref:re,className:"flex-1 overflow-auto pdf-container flex items-start justify-center p-4 touch-pan-x touch-pan-y",onTouchStart:De,onTouchMove:Ye,onTouchEnd:Xe,style:{touchAction:"pan-x pan-y"},children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:I,className:"pdf-page bg-white shadow-lg",style:{maxWidth:"100%"}}),e.jsx("canvas",{ref:g,className:"absolute top-0 left-0 pointer-events-none"})]})}),e.jsx("div",{className:"px-4 py-1 bg-gray-900 text-gray-400 text-xs text-center",children:E?e.jsx("span",{children:"ðŸ“± Pellizca para zoom â€¢ Desliza para navegar"}):e.jsx("span",{children:"ðŸ’¡ Usa la rueda del ratÃ³n para navegar entre pÃ¡ginas"})})]}):e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-gray-500",children:e.jsx("p",{children:"Selecciona un repuesto para ver el manual"})})}export{_e as PDFViewer};
