const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PDFViewer-BUcQl19g.js","assets/pdf-CeX9Jy5g.js","assets/PDFMarkerEditor-BuuLrWb2.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function US(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),e}var m4={exports:{}},fm={},g4={exports:{}},kr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=Symbol.for("react.element"),zS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),qS=Symbol.for("react.strict_mode"),HS=Symbol.for("react.profiler"),$S=Symbol.for("react.provider"),WS=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),KS=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),YS=Symbol.for("react.lazy"),Vv=Symbol.iterator;function QS(r){return r===null||typeof r!="object"?null:(r=Vv&&r[Vv]||r["@@iterator"],typeof r=="function"?r:null)}var y4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v4=Object.assign,b4={};function Lc(r,t,e){this.props=r,this.context=t,this.refs=b4,this.updater=e||y4}Lc.prototype.isReactComponent={};Lc.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};Lc.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function w4(){}w4.prototype=Lc.prototype;function u2(r,t,e){this.props=r,this.context=t,this.refs=b4,this.updater=e||y4}var c2=u2.prototype=new w4;c2.constructor=u2;v4(c2,Lc.prototype);c2.isPureReactComponent=!0;var qv=Array.isArray,_4=Object.prototype.hasOwnProperty,h2={current:null},x4={key:!0,ref:!0,__self:!0,__source:!0};function S4(r,t,e){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)_4.call(t,n)&&!x4.hasOwnProperty(n)&&(s[n]=t[n]);var u=arguments.length-2;if(u===1)s.children=e;else if(1<u){for(var o=Array(u),l=0;l<u;l++)o[l]=arguments[l+2];s.children=o}if(r&&r.defaultProps)for(n in u=r.defaultProps,u)s[n]===void 0&&(s[n]=u[n]);return{$$typeof:Af,type:r,key:i,ref:a,props:s,_owner:h2.current}}function ZS(r,t){return{$$typeof:Af,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function f2(r){return typeof r=="object"&&r!==null&&r.$$typeof===Af}function JS(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var Hv=/\/+/g;function b0(r,t){return typeof r=="object"&&r!==null&&r.key!=null?JS(""+r.key):t.toString(36)}function ep(r,t,e,n,s){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Af:case zS:a=!0}}if(a)return a=r,s=s(a),r=n===""?"."+b0(a,0):n,qv(s)?(e="",r!=null&&(e=r.replace(Hv,"$&/")+"/"),ep(s,t,e,"",function(l){return l})):s!=null&&(f2(s)&&(s=ZS(s,e+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Hv,"$&/")+"/")+r)),t.push(s)),1;if(a=0,n=n===""?".":n+":",qv(r))for(var u=0;u<r.length;u++){i=r[u];var o=n+b0(i,u);a+=ep(i,t,e,o,s)}else if(o=QS(r),typeof o=="function")for(r=o.call(r),u=0;!(i=r.next()).done;)i=i.value,o=n+b0(i,u++),a+=ep(i,t,e,o,s);else if(i==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function bd(r,t,e){if(r==null)return r;var n=[],s=0;return ep(r,n,"","",function(i){return t.call(e,i,s++)}),n}function e7(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Mi={current:null},tp={transition:null},t7={ReactCurrentDispatcher:Mi,ReactCurrentBatchConfig:tp,ReactCurrentOwner:h2};function k4(){throw Error("act(...) is not supported in production builds of React.")}kr.Children={map:bd,forEach:function(r,t,e){bd(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return bd(r,function(){t++}),t},toArray:function(r){return bd(r,function(t){return t})||[]},only:function(r){if(!f2(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};kr.Component=Lc;kr.Fragment=VS;kr.Profiler=HS;kr.PureComponent=u2;kr.StrictMode=qS;kr.Suspense=KS;kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t7;kr.act=k4;kr.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=v4({},r.props),s=r.key,i=r.ref,a=r._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=h2.current),t.key!==void 0&&(s=""+t.key),r.type&&r.type.defaultProps)var u=r.type.defaultProps;for(o in t)_4.call(t,o)&&!x4.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&u!==void 0?u[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=e;else if(1<o){u=Array(o);for(var l=0;l<o;l++)u[l]=arguments[l+2];n.children=u}return{$$typeof:Af,type:r.type,key:s,ref:i,props:n,_owner:a}};kr.createContext=function(r){return r={$$typeof:WS,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:$S,_context:r},r.Consumer=r};kr.createElement=S4;kr.createFactory=function(r){var t=S4.bind(null,r);return t.type=r,t};kr.createRef=function(){return{current:null}};kr.forwardRef=function(r){return{$$typeof:XS,render:r}};kr.isValidElement=f2;kr.lazy=function(r){return{$$typeof:YS,_payload:{_status:-1,_result:r},_init:e7}};kr.memo=function(r,t){return{$$typeof:GS,type:r,compare:t===void 0?null:t}};kr.startTransition=function(r){var t=tp.transition;tp.transition={};try{r()}finally{tp.transition=t}};kr.unstable_act=k4;kr.useCallback=function(r,t){return Mi.current.useCallback(r,t)};kr.useContext=function(r){return Mi.current.useContext(r)};kr.useDebugValue=function(){};kr.useDeferredValue=function(r){return Mi.current.useDeferredValue(r)};kr.useEffect=function(r,t){return Mi.current.useEffect(r,t)};kr.useId=function(){return Mi.current.useId()};kr.useImperativeHandle=function(r,t,e){return Mi.current.useImperativeHandle(r,t,e)};kr.useInsertionEffect=function(r,t){return Mi.current.useInsertionEffect(r,t)};kr.useLayoutEffect=function(r,t){return Mi.current.useLayoutEffect(r,t)};kr.useMemo=function(r,t){return Mi.current.useMemo(r,t)};kr.useReducer=function(r,t,e){return Mi.current.useReducer(r,t,e)};kr.useRef=function(r){return Mi.current.useRef(r)};kr.useState=function(r){return Mi.current.useState(r)};kr.useSyncExternalStore=function(r,t,e){return Mi.current.useSyncExternalStore(r,t,e)};kr.useTransition=function(){return Mi.current.useTransition()};kr.version="18.3.1";g4.exports=kr;var Le=g4.exports;const ll=l2(Le);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r7=Le,n7=Symbol.for("react.element"),i7=Symbol.for("react.fragment"),s7=Object.prototype.hasOwnProperty,a7=r7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o7={key:!0,ref:!0,__self:!0,__source:!0};function E4(r,t,e){var n,s={},i=null,a=null;e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)s7.call(t,n)&&!o7.hasOwnProperty(n)&&(s[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:n7,type:r,key:i,ref:a,props:s,_owner:a7.current}}fm.Fragment=i7;fm.jsx=E4;fm.jsxs=E4;m4.exports=fm;var H=m4.exports,Eg={},A4={exports:{}},us={},T4={exports:{}},C4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(x,S){var C=x.length;x.push(S);e:for(;0<C;){var q=C-1>>>1,P=x[q];if(0<s(P,S))x[q]=S,x[C]=P,C=q;else break e}}function e(x){return x.length===0?null:x[0]}function n(x){if(x.length===0)return null;var S=x[0],C=x.pop();if(C!==S){x[0]=C;e:for(var q=0,P=x.length,$=P>>>1;q<$;){var X=2*(q+1)-1,Z=x[X],V=X+1,Q=x[V];if(0>s(Z,C))V<P&&0>s(Q,Z)?(x[q]=Q,x[V]=C,q=V):(x[q]=Z,x[X]=C,q=X);else if(V<P&&0>s(Q,C))x[q]=Q,x[V]=C,q=V;else break e}}return S}function s(x,S){var C=x.sortIndex-S.sortIndex;return C!==0?C:x.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();r.unstable_now=function(){return a.now()-u}}var o=[],l=[],c=1,d=null,f=3,h=!1,g=!1,v=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(x){for(var S=e(l);S!==null;){if(S.callback===null)n(l);else if(S.startTime<=x)n(l),S.sortIndex=S.expirationTime,t(o,S);else break;S=e(l)}}function k(x){if(v=!1,b(x),!g)if(e(o)!==null)g=!0,w(N);else{var S=e(l);S!==null&&_(k,S.startTime-x)}}function N(x,S){g=!1,v&&(v=!1,y(T),T=-1),h=!0;var C=f;try{for(b(S),d=e(o);d!==null&&(!(d.expirationTime>S)||x&&!O());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var P=q(d.expirationTime<=S);S=r.unstable_now(),typeof P=="function"?d.callback=P:d===e(o)&&n(o),b(S)}else n(o);d=e(o)}if(d!==null)var $=!0;else{var X=e(l);X!==null&&_(k,X.startTime-S),$=!1}return $}finally{d=null,f=C,h=!1}}var B=!1,j=null,T=-1,M=5,U=-1;function O(){return!(r.unstable_now()-U<M)}function I(){if(j!==null){var x=r.unstable_now();U=x;var S=!0;try{S=j(!0,x)}finally{S?E():(B=!1,j=null)}}else B=!1}var E;if(typeof m=="function")E=function(){m(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,A=R.port2;R.port1.onmessage=I,E=function(){A.postMessage(null)}}else E=function(){p(I,0)};function w(x){j=x,B||(B=!0,E())}function _(x,S){T=p(function(){x(r.unstable_now())},S)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(x){x.callback=null},r.unstable_continueExecution=function(){g||h||(g=!0,w(N))},r.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<x?Math.floor(1e3/x):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return e(o)},r.unstable_next=function(x){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var C=f;f=S;try{return x()}finally{f=C}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var C=f;f=x;try{return S()}finally{f=C}},r.unstable_scheduleCallback=function(x,S,C){var q=r.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?q+C:q):C=q,x){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=C+P,x={id:c++,callback:S,priorityLevel:x,startTime:C,expirationTime:P,sortIndex:-1},C>q?(x.sortIndex=C,t(l,x),e(o)===null&&x===e(l)&&(v?(y(T),T=-1):v=!0,_(k,C-q))):(x.sortIndex=P,t(o,x),g||h||(g=!0,w(N))),x},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(x){var S=f;return function(){var C=f;f=S;try{return x.apply(this,arguments)}finally{f=C}}}})(C4);T4.exports=C4;var l7=T4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u7=Le,ls=l7;function gt(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N4=new Set,Xh={};function gu(r,t){wc(r,t),wc(r+"Capture",t)}function wc(r,t){for(Xh[r]=t,r=0;r<t.length;r++)N4.add(t[r])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ag=Object.prototype.hasOwnProperty,c7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$v={},Wv={};function h7(r){return Ag.call(Wv,r)?!0:Ag.call($v,r)?!1:c7.test(r)?Wv[r]=!0:($v[r]=!0,!1)}function f7(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function d7(r,t,e,n){if(t===null||typeof t>"u"||f7(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ji(r,t,e,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ii[r]=new ji(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];ii[t]=new ji(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ii[r]=new ji(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ii[r]=new ji(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ii[r]=new ji(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ii[r]=new ji(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ii[r]=new ji(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ii[r]=new ji(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ii[r]=new ji(r,5,!1,r.toLowerCase(),null,!1,!1)});var d2=/[\-:]([a-z])/g;function p2(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(d2,p2);ii[t]=new ji(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(d2,p2);ii[t]=new ji(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(d2,p2);ii[t]=new ji(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ii[r]=new ji(r,1,!1,r.toLowerCase(),null,!1,!1)});ii.xlinkHref=new ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ii[r]=new ji(r,1,!1,r.toLowerCase(),null,!0,!0)});function m2(r,t,e,n){var s=ii.hasOwnProperty(t)?ii[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d7(t,e,s,n)&&(e=null),n||s===null?h7(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):s.mustUseProperty?r[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,n=s.attributeNamespace,e===null?r.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var ro=u7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Zu=Symbol.for("react.fragment"),g2=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),P4=Symbol.for("react.provider"),I4=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),v2=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),R4=Symbol.for("react.offscreen"),Xv=Symbol.iterator;function ih(r){return r===null||typeof r!="object"?null:(r=Xv&&r[Xv]||r["@@iterator"],typeof r=="function"?r:null)}var dn=Object.assign,w0;function yh(r){if(w0===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);w0=t&&t[1]||""}return`
`+w0+r}var _0=!1;function x0(r,t){if(!r||_0)return"";_0=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(r,[],t)}else{try{t.call()}catch(l){n=l}r.call(t.prototype)}else{try{throw Error()}catch(l){n=l}r()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,u=i.length-1;1<=a&&0<=u&&s[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==i[u]){var o=`
`+s[a].replace(" at new "," at ");return r.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",r.displayName)),o}while(1<=a&&0<=u);break}}}finally{_0=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?yh(r):""}function p7(r){switch(r.tag){case 5:return yh(r.type);case 16:return yh("Lazy");case 13:return yh("Suspense");case 19:return yh("SuspenseList");case 0:case 2:case 15:return r=x0(r.type,!1),r;case 11:return r=x0(r.type.render,!1),r;case 1:return r=x0(r.type,!0),r;default:return""}}function Pg(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Zu:return"Fragment";case Qu:return"Portal";case Tg:return"Profiler";case g2:return"StrictMode";case Cg:return"Suspense";case Ng:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case I4:return(r.displayName||"Context")+".Consumer";case P4:return(r._context.displayName||"Context")+".Provider";case y2:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case v2:return t=r.displayName||null,t!==null?t:Pg(r.type)||"Memo";case Ro:t=r._payload,r=r._init;try{return Pg(r(t))}catch{}}return null}function m7(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pg(t);case 8:return t===g2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ul(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function M4(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function g7(r){var t=M4(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,i=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function _d(r){r._valueTracker||(r._valueTracker=g7(r))}function j4(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=M4(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function xp(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ig(r,t){var e=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function Kv(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=ul(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L4(r,t){t=t.checked,t!=null&&m2(r,"checked",t,!1)}function Rg(r,t){L4(r,t);var e=ul(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?Mg(r,t.type,e):t.hasOwnProperty("defaultValue")&&Mg(r,t.type,ul(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function Gv(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function Mg(r,t,e){(t!=="number"||xp(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var vh=Array.isArray;function cc(r,t,e,n){if(r=r.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<r.length;e++)s=t.hasOwnProperty("$"+r[e].value),r[e].selected!==s&&(r[e].selected=s),s&&n&&(r[e].defaultSelected=!0)}else{for(e=""+ul(e),t=null,s=0;s<r.length;s++){if(r[s].value===e){r[s].selected=!0,n&&(r[s].defaultSelected=!0);return}t!==null||r[s].disabled||(t=r[s])}t!==null&&(t.selected=!0)}}function jg(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Yv(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(gt(92));if(vh(e)){if(1<e.length)throw Error(gt(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:ul(e)}}function O4(r,t){var e=ul(t.value),n=ul(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function Qv(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function D4(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?D4(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xd,F4=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,s)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function Kh(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y7=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(r){y7.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Th[t]=Th[r]})});function B4(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Th.hasOwnProperty(r)&&Th[r]?(""+t).trim():t+"px"}function U4(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,s=B4(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,s):r[e]=s}}var v7=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Og(r,t){if(t){if(v7[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function Dg(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=null;function b2(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bg=null,hc=null,fc=null;function Zv(r){if(r=Nf(r)){if(typeof Bg!="function")throw Error(gt(280));var t=r.stateNode;t&&(t=ym(t),Bg(r.stateNode,r.type,t))}}function z4(r){hc?fc?fc.push(r):fc=[r]:hc=r}function V4(){if(hc){var r=hc,t=fc;if(fc=hc=null,Zv(r),t)for(r=0;r<t.length;r++)Zv(t[r])}}function q4(r,t){return r(t)}function H4(){}var S0=!1;function $4(r,t,e){if(S0)return r(t,e);S0=!0;try{return q4(r,t,e)}finally{S0=!1,(hc!==null||fc!==null)&&(H4(),V4())}}function Gh(r,t){var e=r.stateNode;if(e===null)return null;var n=ym(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(gt(231,t,typeof e));return e}var Ug=!1;if(Xa)try{var sh={};Object.defineProperty(sh,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{Ug=!1}function b7(r,t,e,n,s,i,a,u,o){var l=Array.prototype.slice.call(arguments,3);try{t.apply(e,l)}catch(c){this.onError(c)}}var Ch=!1,Sp=null,kp=!1,zg=null,w7={onError:function(r){Ch=!0,Sp=r}};function _7(r,t,e,n,s,i,a,u,o){Ch=!1,Sp=null,b7.apply(w7,arguments)}function x7(r,t,e,n,s,i,a,u,o){if(_7.apply(this,arguments),Ch){if(Ch){var l=Sp;Ch=!1,Sp=null}else throw Error(gt(198));kp||(kp=!0,zg=l)}}function yu(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function W4(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function Jv(r){if(yu(r)!==r)throw Error(gt(188))}function S7(r){var t=r.alternate;if(!t){if(t=yu(r),t===null)throw Error(gt(188));return t!==r?null:r}for(var e=r,n=t;;){var s=e.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){e=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===e)return Jv(s),r;if(i===n)return Jv(s),t;i=i.sibling}throw Error(gt(188))}if(e.return!==n.return)e=s,n=i;else{for(var a=!1,u=s.child;u;){if(u===e){a=!0,e=s,n=i;break}if(u===n){a=!0,n=s,e=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===e){a=!0,e=i,n=s;break}if(u===n){a=!0,n=i,e=s;break}u=u.sibling}if(!a)throw Error(gt(189))}}if(e.alternate!==n)throw Error(gt(190))}if(e.tag!==3)throw Error(gt(188));return e.stateNode.current===e?r:t}function X4(r){return r=S7(r),r!==null?K4(r):null}function K4(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=K4(r);if(t!==null)return t;r=r.sibling}return null}var G4=ls.unstable_scheduleCallback,eb=ls.unstable_cancelCallback,k7=ls.unstable_shouldYield,E7=ls.unstable_requestPaint,An=ls.unstable_now,A7=ls.unstable_getCurrentPriorityLevel,w2=ls.unstable_ImmediatePriority,Y4=ls.unstable_UserBlockingPriority,Ep=ls.unstable_NormalPriority,T7=ls.unstable_LowPriority,Q4=ls.unstable_IdlePriority,dm=null,pa=null;function C7(r){if(pa&&typeof pa.onCommitFiberRoot=="function")try{pa.onCommitFiberRoot(dm,r,void 0,(r.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:I7,N7=Math.log,P7=Math.LN2;function I7(r){return r>>>=0,r===0?32:31-(N7(r)/P7|0)|0}var Sd=64,kd=4194304;function bh(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ap(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,s=r.suspendedLanes,i=r.pingedLanes,a=e&268435455;if(a!==0){var u=a&~s;u!==0?n=bh(u):(i&=a,i!==0&&(n=bh(i)))}else a=e&~s,a!==0?n=bh(a):i!==0&&(n=bh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-Ws(t),s=1<<e,n|=r[e],t&=~s;return n}function R7(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M7(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,s=r.expirationTimes,i=r.pendingLanes;0<i;){var a=31-Ws(i),u=1<<a,o=s[a];o===-1?(!(u&e)||u&n)&&(s[a]=R7(u,t)):o<=t&&(r.expiredLanes|=u),i&=~u}}function Vg(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Z4(){var r=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),r}function k0(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function Tf(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-Ws(t),r[t]=e}function j7(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var s=31-Ws(e),i=1<<s;t[s]=0,n[s]=-1,r[s]=-1,e&=~i}}function _2(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-Ws(e),s=1<<n;s&t|r[n]&t&&(r[n]|=t),e&=~s}}var Hr=0;function J4(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var e3,x2,t3,r3,n3,qg=!1,Ed=[],Xo=null,Ko=null,Go=null,Yh=new Map,Qh=new Map,jo=[],L7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tb(r,t){switch(r){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":Yh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(t.pointerId)}}function ah(r,t,e,n,s,i){return r===null||r.nativeEvent!==i?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Nf(t),t!==null&&x2(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),r)}function O7(r,t,e,n,s){switch(t){case"focusin":return Xo=ah(Xo,r,t,e,n,s),!0;case"dragenter":return Ko=ah(Ko,r,t,e,n,s),!0;case"mouseover":return Go=ah(Go,r,t,e,n,s),!0;case"pointerover":var i=s.pointerId;return Yh.set(i,ah(Yh.get(i)||null,r,t,e,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Qh.set(i,ah(Qh.get(i)||null,r,t,e,n,s)),!0}return!1}function i3(r){var t=ql(r.target);if(t!==null){var e=yu(t);if(e!==null){if(t=e.tag,t===13){if(t=W4(e),t!==null){r.blockedOn=t,n3(r.priority,function(){t3(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rp(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=Hg(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);Fg=n,e.target.dispatchEvent(n),Fg=null}else return t=Nf(e),t!==null&&x2(t),r.blockedOn=e,!1;t.shift()}return!0}function rb(r,t,e){rp(r)&&e.delete(t)}function D7(){qg=!1,Xo!==null&&rp(Xo)&&(Xo=null),Ko!==null&&rp(Ko)&&(Ko=null),Go!==null&&rp(Go)&&(Go=null),Yh.forEach(rb),Qh.forEach(rb)}function oh(r,t){r.blockedOn===t&&(r.blockedOn=null,qg||(qg=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,D7)))}function Zh(r){function t(s){return oh(s,r)}if(0<Ed.length){oh(Ed[0],r);for(var e=1;e<Ed.length;e++){var n=Ed[e];n.blockedOn===r&&(n.blockedOn=null)}}for(Xo!==null&&oh(Xo,r),Ko!==null&&oh(Ko,r),Go!==null&&oh(Go,r),Yh.forEach(t),Qh.forEach(t),e=0;e<jo.length;e++)n=jo[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<jo.length&&(e=jo[0],e.blockedOn===null);)i3(e),e.blockedOn===null&&jo.shift()}var dc=ro.ReactCurrentBatchConfig,Tp=!0;function F7(r,t,e,n){var s=Hr,i=dc.transition;dc.transition=null;try{Hr=1,S2(r,t,e,n)}finally{Hr=s,dc.transition=i}}function B7(r,t,e,n){var s=Hr,i=dc.transition;dc.transition=null;try{Hr=4,S2(r,t,e,n)}finally{Hr=s,dc.transition=i}}function S2(r,t,e,n){if(Tp){var s=Hg(r,t,e,n);if(s===null)j0(r,t,n,Cp,e),tb(r,n);else if(O7(s,r,t,e,n))n.stopPropagation();else if(tb(r,n),t&4&&-1<L7.indexOf(r)){for(;s!==null;){var i=Nf(s);if(i!==null&&e3(i),i=Hg(r,t,e,n),i===null&&j0(r,t,n,Cp,e),i===s)break;s=i}s!==null&&n.stopPropagation()}else j0(r,t,n,null,e)}}var Cp=null;function Hg(r,t,e,n){if(Cp=null,r=b2(n),r=ql(r),r!==null)if(t=yu(r),t===null)r=null;else if(e=t.tag,e===13){if(r=W4(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return Cp=r,null}function s3(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A7()){case w2:return 1;case Y4:return 4;case Ep:case T7:return 16;case Q4:return 536870912;default:return 16}default:return 16}}var qo=null,k2=null,np=null;function a3(){if(np)return np;var r,t=k2,e=t.length,n,s="value"in qo?qo.value:qo.textContent,i=s.length;for(r=0;r<e&&t[r]===s[r];r++);var a=e-r;for(n=1;n<=a&&t[e-n]===s[i-n];n++);return np=s.slice(r,1<n?1-n:void 0)}function ip(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Ad(){return!0}function nb(){return!1}function cs(r){function t(e,n,s,i,a){this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in r)r.hasOwnProperty(u)&&(e=r[u],this[u]=e?e(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ad:nb,this.isPropagationStopped=nb,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),t}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E2=cs(Oc),Cf=dn({},Oc,{view:0,detail:0}),U7=cs(Cf),E0,A0,lh,pm=dn({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A2,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lh&&(lh&&r.type==="mousemove"?(E0=r.screenX-lh.screenX,A0=r.screenY-lh.screenY):A0=E0=0,lh=r),E0)},movementY:function(r){return"movementY"in r?r.movementY:A0}}),ib=cs(pm),z7=dn({},pm,{dataTransfer:0}),V7=cs(z7),q7=dn({},Cf,{relatedTarget:0}),T0=cs(q7),H7=dn({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),$7=cs(H7),W7=dn({},Oc,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),X7=cs(W7),K7=dn({},Oc,{data:0}),sb=cs(K7),G7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z7(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=Q7[r])?!!t[r]:!1}function A2(){return Z7}var J7=dn({},Cf,{key:function(r){if(r.key){var t=G7[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=ip(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Y7[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A2,charCode:function(r){return r.type==="keypress"?ip(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ip(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ek=cs(J7),tk=dn({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ab=cs(tk),rk=dn({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A2}),nk=cs(rk),ik=dn({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),sk=cs(ik),ak=dn({},pm,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ok=cs(ak),lk=[9,13,27,32],T2=Xa&&"CompositionEvent"in window,Nh=null;Xa&&"documentMode"in document&&(Nh=document.documentMode);var uk=Xa&&"TextEvent"in window&&!Nh,o3=Xa&&(!T2||Nh&&8<Nh&&11>=Nh),ob=" ",lb=!1;function l3(r,t){switch(r){case"keyup":return lk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u3(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ju=!1;function ck(r,t){switch(r){case"compositionend":return u3(t);case"keypress":return t.which!==32?null:(lb=!0,ob);case"textInput":return r=t.data,r===ob&&lb?null:r;default:return null}}function hk(r,t){if(Ju)return r==="compositionend"||!T2&&l3(r,t)?(r=a3(),np=k2=qo=null,Ju=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return o3&&t.locale!=="ko"?null:t.data;default:return null}}var fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ub(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!fk[r.type]:t==="textarea"}function c3(r,t,e,n){z4(n),t=Np(t,"onChange"),0<t.length&&(e=new E2("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Ph=null,Jh=null;function dk(r){_3(r,0)}function mm(r){var t=rc(r);if(j4(t))return r}function pk(r,t){if(r==="change")return t}var h3=!1;if(Xa){var C0;if(Xa){var N0="oninput"in document;if(!N0){var cb=document.createElement("div");cb.setAttribute("oninput","return;"),N0=typeof cb.oninput=="function"}C0=N0}else C0=!1;h3=C0&&(!document.documentMode||9<document.documentMode)}function hb(){Ph&&(Ph.detachEvent("onpropertychange",f3),Jh=Ph=null)}function f3(r){if(r.propertyName==="value"&&mm(Jh)){var t=[];c3(t,Jh,r,b2(r)),$4(dk,t)}}function mk(r,t,e){r==="focusin"?(hb(),Ph=t,Jh=e,Ph.attachEvent("onpropertychange",f3)):r==="focusout"&&hb()}function gk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mm(Jh)}function yk(r,t){if(r==="click")return mm(t)}function vk(r,t){if(r==="input"||r==="change")return mm(t)}function bk(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var Ks=typeof Object.is=="function"?Object.is:bk;function ef(r,t){if(Ks(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var s=e[n];if(!Ag.call(t,s)||!Ks(r[s],t[s]))return!1}return!0}function fb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function db(r,t){var e=fb(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=fb(e)}}function d3(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?d3(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function p3(){for(var r=window,t=xp();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=xp(r.document)}return t}function C2(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function wk(r){var t=p3(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&d3(e.ownerDocument.documentElement,e)){if(n!==null&&C2(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var s=e.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!r.extend&&i>n&&(s=n,n=i,i=s),s=db(e,i);var a=db(e,n);s&&a&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),r.removeAllRanges(),i>n?(r.addRange(t),r.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _k=Xa&&"documentMode"in document&&11>=document.documentMode,ec=null,$g=null,Ih=null,Wg=!1;function pb(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Wg||ec==null||ec!==xp(n)||(n=ec,"selectionStart"in n&&C2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ih&&ef(Ih,n)||(Ih=n,n=Np($g,"onSelect"),0<n.length&&(t=new E2("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=ec)))}function Td(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var tc={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},P0={},m3={};Xa&&(m3=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function gm(r){if(P0[r])return P0[r];if(!tc[r])return r;var t=tc[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in m3)return P0[r]=t[e];return r}var g3=gm("animationend"),y3=gm("animationiteration"),v3=gm("animationstart"),b3=gm("transitionend"),w3=new Map,mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vl(r,t){w3.set(r,t),gu(t,[r])}for(var I0=0;I0<mb.length;I0++){var R0=mb[I0],xk=R0.toLowerCase(),Sk=R0[0].toUpperCase()+R0.slice(1);vl(xk,"on"+Sk)}vl(g3,"onAnimationEnd");vl(y3,"onAnimationIteration");vl(v3,"onAnimationStart");vl("dblclick","onDoubleClick");vl("focusin","onFocus");vl("focusout","onBlur");vl(b3,"onTransitionEnd");wc("onMouseEnter",["mouseout","mouseover"]);wc("onMouseLeave",["mouseout","mouseover"]);wc("onPointerEnter",["pointerout","pointerover"]);wc("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kk=new Set("cancel close invalid load scroll toggle".split(" ").concat(wh));function gb(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,x7(n,t,void 0,r),r.currentTarget=null}function _3(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var u=n[a],o=u.instance,l=u.currentTarget;if(u=u.listener,o!==i&&s.isPropagationStopped())break e;gb(s,u,l),i=o}else for(a=0;a<n.length;a++){if(u=n[a],o=u.instance,l=u.currentTarget,u=u.listener,o!==i&&s.isPropagationStopped())break e;gb(s,u,l),i=o}}}if(kp)throw r=zg,kp=!1,zg=null,r}function rn(r,t){var e=t[Qg];e===void 0&&(e=t[Qg]=new Set);var n=r+"__bubble";e.has(n)||(x3(t,r,2,!1),e.add(n))}function M0(r,t,e){var n=0;t&&(n|=4),x3(e,r,n,t)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function tf(r){if(!r[Cd]){r[Cd]=!0,N4.forEach(function(e){e!=="selectionchange"&&(kk.has(e)||M0(e,!1,r),M0(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,M0("selectionchange",!1,t))}}function x3(r,t,e,n){switch(s3(t)){case 1:var s=F7;break;case 4:s=B7;break;default:s=S2}e=s.bind(null,t,e,r),s=void 0,!Ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?r.addEventListener(t,e,{capture:!0,passive:s}):r.addEventListener(t,e,!0):s!==void 0?r.addEventListener(t,e,{passive:s}):r.addEventListener(t,e,!1)}function j0(r,t,e,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;a=a.return}for(;u!==null;){if(a=ql(u),a===null)return;if(o=a.tag,o===5||o===6){n=i=a;continue e}u=u.parentNode}}n=n.return}$4(function(){var l=i,c=b2(e),d=[];e:{var f=w3.get(r);if(f!==void 0){var h=E2,g=r;switch(r){case"keypress":if(ip(e)===0)break e;case"keydown":case"keyup":h=ek;break;case"focusin":g="focus",h=T0;break;case"focusout":g="blur",h=T0;break;case"beforeblur":case"afterblur":h=T0;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=V7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=nk;break;case g3:case y3:case v3:h=$7;break;case b3:h=sk;break;case"scroll":h=U7;break;case"wheel":h=ok;break;case"copy":case"cut":case"paste":h=X7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ab}var v=(t&4)!==0,p=!v&&r==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var m=l,b;m!==null;){b=m;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=Gh(m,y),k!=null&&v.push(rf(m,k,b)))),p)break;m=m.return}0<v.length&&(f=new h(f,g,null,e,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=r==="mouseover"||r==="pointerover",h=r==="mouseout"||r==="pointerout",f&&e!==Fg&&(g=e.relatedTarget||e.fromElement)&&(ql(g)||g[Ka]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=e.relatedTarget||e.toElement,h=l,g=g?ql(g):null,g!==null&&(p=yu(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=l),h!==g)){if(v=ib,k="onMouseLeave",y="onMouseEnter",m="mouse",(r==="pointerout"||r==="pointerover")&&(v=ab,k="onPointerLeave",y="onPointerEnter",m="pointer"),p=h==null?f:rc(h),b=g==null?f:rc(g),f=new v(k,m+"leave",h,e,c),f.target=p,f.relatedTarget=b,k=null,ql(c)===l&&(v=new v(y,m+"enter",g,e,c),v.target=b,v.relatedTarget=p,k=v),p=k,h&&g)t:{for(v=h,y=g,m=0,b=v;b;b=Uu(b))m++;for(b=0,k=y;k;k=Uu(k))b++;for(;0<m-b;)v=Uu(v),m--;for(;0<b-m;)y=Uu(y),b--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Uu(v),y=Uu(y)}v=null}else v=null;h!==null&&yb(d,f,h,v,!1),g!==null&&p!==null&&yb(d,p,g,v,!0)}}e:{if(f=l?rc(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=pk;else if(ub(f))if(h3)N=vk;else{N=gk;var B=mk}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=yk);if(N&&(N=N(r,l))){c3(d,N,e,c);break e}B&&B(r,f,l),r==="focusout"&&(B=f._wrapperState)&&B.controlled&&f.type==="number"&&Mg(f,"number",f.value)}switch(B=l?rc(l):window,r){case"focusin":(ub(B)||B.contentEditable==="true")&&(ec=B,$g=l,Ih=null);break;case"focusout":Ih=$g=ec=null;break;case"mousedown":Wg=!0;break;case"contextmenu":case"mouseup":case"dragend":Wg=!1,pb(d,e,c);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":pb(d,e,c)}var j;if(T2)e:{switch(r){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ju?l3(r,e)&&(T="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(T="onCompositionStart");T&&(o3&&e.locale!=="ko"&&(Ju||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ju&&(j=a3()):(qo=c,k2="value"in qo?qo.value:qo.textContent,Ju=!0)),B=Np(l,T),0<B.length&&(T=new sb(T,r,null,e,c),d.push({event:T,listeners:B}),j?T.data=j:(j=u3(e),j!==null&&(T.data=j)))),(j=uk?ck(r,e):hk(r,e))&&(l=Np(l,"onBeforeInput"),0<l.length&&(c=new sb("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:l}),c.data=j))}_3(d,t)})}function rf(r,t,e){return{instance:r,listener:t,currentTarget:e}}function Np(r,t){for(var e=t+"Capture",n=[];r!==null;){var s=r,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gh(r,e),i!=null&&n.unshift(rf(r,i,s)),i=Gh(r,t),i!=null&&n.push(rf(r,i,s))),r=r.return}return n}function Uu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function yb(r,t,e,n,s){for(var i=t._reactName,a=[];e!==null&&e!==n;){var u=e,o=u.alternate,l=u.stateNode;if(o!==null&&o===n)break;u.tag===5&&l!==null&&(u=l,s?(o=Gh(e,i),o!=null&&a.unshift(rf(e,o,u))):s||(o=Gh(e,i),o!=null&&a.push(rf(e,o,u)))),e=e.return}a.length!==0&&r.push({event:t,listeners:a})}var Ek=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function vb(r){return(typeof r=="string"?r:""+r).replace(Ek,`
`).replace(Ak,"")}function Nd(r,t,e){if(t=vb(t),vb(r)!==t&&e)throw Error(gt(425))}function Pp(){}var Xg=null,Kg=null;function Gg(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yg=typeof setTimeout=="function"?setTimeout:void 0,Tk=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(r){return bb.resolve(null).then(r).catch(Nk)}:Yg;function Nk(r){setTimeout(function(){throw r})}function L0(r,t){var e=t,n=0;do{var s=e.nextSibling;if(r.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(n===0){r.removeChild(s),Zh(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=s}while(e);Zh(t)}function Yo(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function wb(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),ha="__reactFiber$"+Dc,nf="__reactProps$"+Dc,Ka="__reactContainer$"+Dc,Qg="__reactEvents$"+Dc,Pk="__reactListeners$"+Dc,Ik="__reactHandles$"+Dc;function ql(r){var t=r[ha];if(t)return t;for(var e=r.parentNode;e;){if(t=e[Ka]||e[ha]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=wb(r);r!==null;){if(e=r[ha])return e;r=wb(r)}return t}r=e,e=r.parentNode}return null}function Nf(r){return r=r[ha]||r[Ka],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function rc(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(gt(33))}function ym(r){return r[nf]||null}var Zg=[],nc=-1;function bl(r){return{current:r}}function an(r){0>nc||(r.current=Zg[nc],Zg[nc]=null,nc--)}function Jr(r,t){nc++,Zg[nc]=r.current,r.current=t}var cl={},wi=bl(cl),Hi=bl(!1),su=cl;function _c(r,t){var e=r.type.contextTypes;if(!e)return cl;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in e)s[i]=t[i];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=s),s}function $i(r){return r=r.childContextTypes,r!=null}function Ip(){an(Hi),an(wi)}function _b(r,t,e){if(wi.current!==cl)throw Error(gt(168));Jr(wi,t),Jr(Hi,e)}function S3(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(gt(108,m7(r)||"Unknown",s));return dn({},e,n)}function Rp(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cl,su=wi.current,Jr(wi,r),Jr(Hi,Hi.current),!0}function xb(r,t,e){var n=r.stateNode;if(!n)throw Error(gt(169));e?(r=S3(r,t,su),n.__reactInternalMemoizedMergedChildContext=r,an(Hi),an(wi),Jr(wi,r)):an(Hi),Jr(Hi,e)}var Fa=null,vm=!1,O0=!1;function k3(r){Fa===null?Fa=[r]:Fa.push(r)}function Rk(r){vm=!0,k3(r)}function wl(){if(!O0&&Fa!==null){O0=!0;var r=0,t=Hr;try{var e=Fa;for(Hr=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}Fa=null,vm=!1}catch(s){throw Fa!==null&&(Fa=Fa.slice(r+1)),G4(w2,wl),s}finally{Hr=t,O0=!1}}return null}var ic=[],sc=0,Mp=null,jp=0,xs=[],Ss=0,au=null,Ba=1,Ua="";function Bl(r,t){ic[sc++]=jp,ic[sc++]=Mp,Mp=r,jp=t}function E3(r,t,e){xs[Ss++]=Ba,xs[Ss++]=Ua,xs[Ss++]=au,au=r;var n=Ba;r=Ua;var s=32-Ws(n)-1;n&=~(1<<s),e+=1;var i=32-Ws(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ba=1<<32-Ws(t)+s|e<<s|n,Ua=i+r}else Ba=1<<i|e<<s|n,Ua=r}function N2(r){r.return!==null&&(Bl(r,1),E3(r,1,0))}function P2(r){for(;r===Mp;)Mp=ic[--sc],ic[sc]=null,jp=ic[--sc],ic[sc]=null;for(;r===au;)au=xs[--Ss],xs[Ss]=null,Ua=xs[--Ss],xs[Ss]=null,Ba=xs[--Ss],xs[Ss]=null}var as=null,rs=null,ln=!1,Hs=null;function A3(r,t){var e=ks(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function Sb(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,as=r,rs=Yo(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,as=r,rs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=au!==null?{id:Ba,overflow:Ua}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=ks(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,as=r,rs=null,!0):!1;default:return!1}}function Jg(r){return(r.mode&1)!==0&&(r.flags&128)===0}function e1(r){if(ln){var t=rs;if(t){var e=t;if(!Sb(r,t)){if(Jg(r))throw Error(gt(418));t=Yo(e.nextSibling);var n=as;t&&Sb(r,t)?A3(n,e):(r.flags=r.flags&-4097|2,ln=!1,as=r)}}else{if(Jg(r))throw Error(gt(418));r.flags=r.flags&-4097|2,ln=!1,as=r}}}function kb(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;as=r}function Pd(r){if(r!==as)return!1;if(!ln)return kb(r),ln=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!Gg(r.type,r.memoizedProps)),t&&(t=rs)){if(Jg(r))throw T3(),Error(gt(418));for(;t;)A3(r,t),t=Yo(t.nextSibling)}if(kb(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(gt(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){rs=Yo(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}rs=null}}else rs=as?Yo(r.stateNode.nextSibling):null;return!0}function T3(){for(var r=rs;r;)r=Yo(r.nextSibling)}function xc(){rs=as=null,ln=!1}function I2(r){Hs===null?Hs=[r]:Hs.push(r)}var Mk=ro.ReactCurrentBatchConfig;function uh(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(gt(309));var n=e.stateNode}if(!n)throw Error(gt(147,r));var s=n,i=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var u=s.refs;a===null?delete u[i]:u[i]=a},t._stringRef=i,t)}if(typeof r!="string")throw Error(gt(284));if(!e._owner)throw Error(gt(290,r))}return r}function Id(r,t){throw r=Object.prototype.toString.call(t),Error(gt(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function Eb(r){var t=r._init;return t(r._payload)}function C3(r){function t(y,m){if(r){var b=y.deletions;b===null?(y.deletions=[m],y.flags|=16):b.push(m)}}function e(y,m){if(!r)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=el(y,m),y.index=0,y.sibling=null,y}function i(y,m,b){return y.index=b,r?(b=y.alternate,b!==null?(b=b.index,b<m?(y.flags|=2,m):b):(y.flags|=2,m)):(y.flags|=1048576,m)}function a(y){return r&&y.alternate===null&&(y.flags|=2),y}function u(y,m,b,k){return m===null||m.tag!==6?(m=q0(b,y.mode,k),m.return=y,m):(m=s(m,b),m.return=y,m)}function o(y,m,b,k){var N=b.type;return N===Zu?c(y,m,b.props.children,k,b.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ro&&Eb(N)===m.type)?(k=s(m,b.props),k.ref=uh(y,m,b),k.return=y,k):(k=hp(b.type,b.key,b.props,null,y.mode,k),k.ref=uh(y,m,b),k.return=y,k)}function l(y,m,b,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=H0(b,y.mode,k),m.return=y,m):(m=s(m,b.children||[]),m.return=y,m)}function c(y,m,b,k,N){return m===null||m.tag!==7?(m=Gl(b,y.mode,k,N),m.return=y,m):(m=s(m,b),m.return=y,m)}function d(y,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=q0(""+m,y.mode,b),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wd:return b=hp(m.type,m.key,m.props,null,y.mode,b),b.ref=uh(y,null,m),b.return=y,b;case Qu:return m=H0(m,y.mode,b),m.return=y,m;case Ro:var k=m._init;return d(y,k(m._payload),b)}if(vh(m)||ih(m))return m=Gl(m,y.mode,b,null),m.return=y,m;Id(y,m)}return null}function f(y,m,b,k){var N=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:u(y,m,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:return b.key===N?o(y,m,b,k):null;case Qu:return b.key===N?l(y,m,b,k):null;case Ro:return N=b._init,f(y,m,N(b._payload),k)}if(vh(b)||ih(b))return N!==null?null:c(y,m,b,k,null);Id(y,b)}return null}function h(y,m,b,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,u(m,y,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case wd:return y=y.get(k.key===null?b:k.key)||null,o(m,y,k,N);case Qu:return y=y.get(k.key===null?b:k.key)||null,l(m,y,k,N);case Ro:var B=k._init;return h(y,m,b,B(k._payload),N)}if(vh(k)||ih(k))return y=y.get(b)||null,c(m,y,k,N,null);Id(m,k)}return null}function g(y,m,b,k){for(var N=null,B=null,j=m,T=m=0,M=null;j!==null&&T<b.length;T++){j.index>T?(M=j,j=null):M=j.sibling;var U=f(y,j,b[T],k);if(U===null){j===null&&(j=M);break}r&&j&&U.alternate===null&&t(y,j),m=i(U,m,T),B===null?N=U:B.sibling=U,B=U,j=M}if(T===b.length)return e(y,j),ln&&Bl(y,T),N;if(j===null){for(;T<b.length;T++)j=d(y,b[T],k),j!==null&&(m=i(j,m,T),B===null?N=j:B.sibling=j,B=j);return ln&&Bl(y,T),N}for(j=n(y,j);T<b.length;T++)M=h(j,y,T,b[T],k),M!==null&&(r&&M.alternate!==null&&j.delete(M.key===null?T:M.key),m=i(M,m,T),B===null?N=M:B.sibling=M,B=M);return r&&j.forEach(function(O){return t(y,O)}),ln&&Bl(y,T),N}function v(y,m,b,k){var N=ih(b);if(typeof N!="function")throw Error(gt(150));if(b=N.call(b),b==null)throw Error(gt(151));for(var B=N=null,j=m,T=m=0,M=null,U=b.next();j!==null&&!U.done;T++,U=b.next()){j.index>T?(M=j,j=null):M=j.sibling;var O=f(y,j,U.value,k);if(O===null){j===null&&(j=M);break}r&&j&&O.alternate===null&&t(y,j),m=i(O,m,T),B===null?N=O:B.sibling=O,B=O,j=M}if(U.done)return e(y,j),ln&&Bl(y,T),N;if(j===null){for(;!U.done;T++,U=b.next())U=d(y,U.value,k),U!==null&&(m=i(U,m,T),B===null?N=U:B.sibling=U,B=U);return ln&&Bl(y,T),N}for(j=n(y,j);!U.done;T++,U=b.next())U=h(j,y,T,U.value,k),U!==null&&(r&&U.alternate!==null&&j.delete(U.key===null?T:U.key),m=i(U,m,T),B===null?N=U:B.sibling=U,B=U);return r&&j.forEach(function(I){return t(y,I)}),ln&&Bl(y,T),N}function p(y,m,b,k){if(typeof b=="object"&&b!==null&&b.type===Zu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:e:{for(var N=b.key,B=m;B!==null;){if(B.key===N){if(N=b.type,N===Zu){if(B.tag===7){e(y,B.sibling),m=s(B,b.props.children),m.return=y,y=m;break e}}else if(B.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ro&&Eb(N)===B.type){e(y,B.sibling),m=s(B,b.props),m.ref=uh(y,B,b),m.return=y,y=m;break e}e(y,B);break}else t(y,B);B=B.sibling}b.type===Zu?(m=Gl(b.props.children,y.mode,k,b.key),m.return=y,y=m):(k=hp(b.type,b.key,b.props,null,y.mode,k),k.ref=uh(y,m,b),k.return=y,y=k)}return a(y);case Qu:e:{for(B=b.key;m!==null;){if(m.key===B)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){e(y,m.sibling),m=s(m,b.children||[]),m.return=y,y=m;break e}else{e(y,m);break}else t(y,m);m=m.sibling}m=H0(b,y.mode,k),m.return=y,y=m}return a(y);case Ro:return B=b._init,p(y,m,B(b._payload),k)}if(vh(b))return g(y,m,b,k);if(ih(b))return v(y,m,b,k);Id(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(e(y,m.sibling),m=s(m,b),m.return=y,y=m):(e(y,m),m=q0(b,y.mode,k),m.return=y,y=m),a(y)):e(y,m)}return p}var Sc=C3(!0),N3=C3(!1),Lp=bl(null),Op=null,ac=null,R2=null;function M2(){R2=ac=Op=null}function j2(r){var t=Lp.current;an(Lp),r._currentValue=t}function t1(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function pc(r,t){Op=r,R2=ac=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(qi=!0),r.firstContext=null)}function Ts(r){var t=r._currentValue;if(R2!==r)if(r={context:r,memoizedValue:t,next:null},ac===null){if(Op===null)throw Error(gt(308));ac=r,Op.dependencies={lanes:0,firstContext:r}}else ac=ac.next=r;return t}var Hl=null;function L2(r){Hl===null?Hl=[r]:Hl.push(r)}function P3(r,t,e,n){var s=t.interleaved;return s===null?(e.next=e,L2(t)):(e.next=s.next,s.next=e),t.interleaved=e,Ga(r,n)}function Ga(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var Mo=!1;function O2(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I3(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $a(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Rr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ga(r,e)}return s=n.interleaved,s===null?(t.next=t,L2(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ga(r,e)}function sp(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,_2(r,e)}}function Ab(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var s=null,i=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};i===null?s=i=a:i=i.next=a,e=e.next}while(e!==null);i===null?s=i=t:i=i.next=t}else s=i=t;e={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function Dp(r,t,e,n){var s=r.updateQueue;Mo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var o=u,l=o.next;o.next=null,a===null?i=l:a.next=l,a=o;var c=r.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==a&&(u===null?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=o))}if(i!==null){var d=s.baseState;a=0,c=l=o=null,u=i;do{var f=u.lane,h=u.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var g=r,v=u;switch(f=t,h=e,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=dn({},d,f);break e;case 2:Mo=!0}}u.callback!==null&&u.lane!==0&&(r.flags|=64,f=s.effects,f===null?s.effects=[u]:f.push(u))}else h={eventTime:h,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(l=c=h,o=d):c=c.next=h,a|=f;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;f=u,u=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(o=d),s.baseState=o,s.firstBaseUpdate=l,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);lu|=a,r.lanes=a,r.memoizedState=d}}function Tb(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],s=n.callback;if(s!==null){if(n.callback=null,n=e,typeof s!="function")throw Error(gt(191,s));s.call(n)}}}var Pf={},ma=bl(Pf),sf=bl(Pf),af=bl(Pf);function $l(r){if(r===Pf)throw Error(gt(174));return r}function D2(r,t){switch(Jr(af,t),Jr(sf,r),Jr(ma,Pf),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lg(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=Lg(t,r)}an(ma),Jr(ma,t)}function kc(){an(ma),an(sf),an(af)}function R3(r){$l(af.current);var t=$l(ma.current),e=Lg(t,r.type);t!==e&&(Jr(sf,r),Jr(ma,e))}function F2(r){sf.current===r&&(an(ma),an(sf))}var hn=bl(0);function Fp(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var D0=[];function B2(){for(var r=0;r<D0.length;r++)D0[r]._workInProgressVersionPrimary=null;D0.length=0}var ap=ro.ReactCurrentDispatcher,F0=ro.ReactCurrentBatchConfig,ou=0,fn=null,Dn=null,$n=null,Bp=!1,Rh=!1,of=0,jk=0;function li(){throw Error(gt(321))}function U2(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!Ks(r[e],t[e]))return!1;return!0}function z2(r,t,e,n,s,i){if(ou=i,fn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ap.current=r===null||r.memoizedState===null?Fk:Bk,r=e(n,s),Rh){i=0;do{if(Rh=!1,of=0,25<=i)throw Error(gt(301));i+=1,$n=Dn=null,t.updateQueue=null,ap.current=Uk,r=e(n,s)}while(Rh)}if(ap.current=Up,t=Dn!==null&&Dn.next!==null,ou=0,$n=Dn=fn=null,Bp=!1,t)throw Error(gt(300));return r}function V2(){var r=of!==0;return of=0,r}function ca(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?fn.memoizedState=$n=r:$n=$n.next=r,$n}function Cs(){if(Dn===null){var r=fn.alternate;r=r!==null?r.memoizedState:null}else r=Dn.next;var t=$n===null?fn.memoizedState:$n.next;if(t!==null)$n=t,Dn=r;else{if(r===null)throw Error(gt(310));Dn=r,r={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},$n===null?fn.memoizedState=$n=r:$n=$n.next=r}return $n}function lf(r,t){return typeof t=="function"?t(r):t}function B0(r){var t=Cs(),e=t.queue;if(e===null)throw Error(gt(311));e.lastRenderedReducer=r;var n=Dn,s=n.baseQueue,i=e.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,e.pending=null}if(s!==null){i=s.next,n=n.baseState;var u=a=null,o=null,l=i;do{var c=l.lane;if((ou&c)===c)o!==null&&(o=o.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:r(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};o===null?(u=o=d,a=n):o=o.next=d,fn.lanes|=c,lu|=c}l=l.next}while(l!==null&&l!==i);o===null?a=n:o.next=u,Ks(n,t.memoizedState)||(qi=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=o,e.lastRenderedState=n}if(r=e.interleaved,r!==null){s=r;do i=s.lane,fn.lanes|=i,lu|=i,s=s.next;while(s!==r)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function U0(r){var t=Cs(),e=t.queue;if(e===null)throw Error(gt(311));e.lastRenderedReducer=r;var n=e.dispatch,s=e.pending,i=t.memoizedState;if(s!==null){e.pending=null;var a=s=s.next;do i=r(i,a.action),a=a.next;while(a!==s);Ks(i,t.memoizedState)||(qi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),e.lastRenderedState=i}return[i,n]}function M3(){}function j3(r,t){var e=fn,n=Cs(),s=t(),i=!Ks(n.memoizedState,s);if(i&&(n.memoizedState=s,qi=!0),n=n.queue,q2(D3.bind(null,e,n,r),[r]),n.getSnapshot!==t||i||$n!==null&&$n.memoizedState.tag&1){if(e.flags|=2048,uf(9,O3.bind(null,e,n,s,t),void 0,null),Wn===null)throw Error(gt(349));ou&30||L3(e,t,s)}return s}function L3(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function O3(r,t,e,n){t.value=e,t.getSnapshot=n,F3(t)&&B3(r)}function D3(r,t,e){return e(function(){F3(t)&&B3(r)})}function F3(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!Ks(r,e)}catch{return!0}}function B3(r){var t=Ga(r,1);t!==null&&Xs(t,r,1,-1)}function Cb(r){var t=ca();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lf,lastRenderedState:r},t.queue=r,r=r.dispatch=Dk.bind(null,fn,r),[t.memoizedState,r]}function uf(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=fn.updateQueue,t===null?(t={lastEffect:null,stores:null},fn.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function U3(){return Cs().memoizedState}function op(r,t,e,n){var s=ca();fn.flags|=r,s.memoizedState=uf(1|t,e,void 0,n===void 0?null:n)}function bm(r,t,e,n){var s=Cs();n=n===void 0?null:n;var i=void 0;if(Dn!==null){var a=Dn.memoizedState;if(i=a.destroy,n!==null&&U2(n,a.deps)){s.memoizedState=uf(t,e,i,n);return}}fn.flags|=r,s.memoizedState=uf(1|t,e,i,n)}function Nb(r,t){return op(8390656,8,r,t)}function q2(r,t){return bm(2048,8,r,t)}function z3(r,t){return bm(4,2,r,t)}function V3(r,t){return bm(4,4,r,t)}function q3(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function H3(r,t,e){return e=e!=null?e.concat([r]):null,bm(4,4,q3.bind(null,t,r),e)}function H2(){}function $3(r,t){var e=Cs();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&U2(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function W3(r,t){var e=Cs();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&U2(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function X3(r,t,e){return ou&21?(Ks(e,t)||(e=Z4(),fn.lanes|=e,lu|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,qi=!0),r.memoizedState=e)}function Lk(r,t){var e=Hr;Hr=e!==0&&4>e?e:4,r(!0);var n=F0.transition;F0.transition={};try{r(!1),t()}finally{Hr=e,F0.transition=n}}function K3(){return Cs().memoizedState}function Ok(r,t,e){var n=Jo(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},G3(r))Y3(t,e);else if(e=P3(r,t,e,n),e!==null){var s=Pi();Xs(e,r,n,s),Q3(e,t,n)}}function Dk(r,t,e){var n=Jo(r),s={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(G3(r))Y3(t,s);else{var i=r.alternate;if(r.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,u=i(a,e);if(s.hasEagerState=!0,s.eagerState=u,Ks(u,a)){var o=t.interleaved;o===null?(s.next=s,L2(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}e=P3(r,t,s,n),e!==null&&(s=Pi(),Xs(e,r,n,s),Q3(e,t,n))}}function G3(r){var t=r.alternate;return r===fn||t!==null&&t===fn}function Y3(r,t){Rh=Bp=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function Q3(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,_2(r,e)}}var Up={readContext:Ts,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},Fk={readContext:Ts,useCallback:function(r,t){return ca().memoizedState=[r,t===void 0?null:t],r},useContext:Ts,useEffect:Nb,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,op(4194308,4,q3.bind(null,t,r),e)},useLayoutEffect:function(r,t){return op(4194308,4,r,t)},useInsertionEffect:function(r,t){return op(4,2,r,t)},useMemo:function(r,t){var e=ca();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=ca();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=Ok.bind(null,fn,r),[n.memoizedState,r]},useRef:function(r){var t=ca();return r={current:r},t.memoizedState=r},useState:Cb,useDebugValue:H2,useDeferredValue:function(r){return ca().memoizedState=r},useTransition:function(){var r=Cb(!1),t=r[0];return r=Lk.bind(null,r[1]),ca().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=fn,s=ca();if(ln){if(e===void 0)throw Error(gt(407));e=e()}else{if(e=t(),Wn===null)throw Error(gt(349));ou&30||L3(n,t,e)}s.memoizedState=e;var i={value:e,getSnapshot:t};return s.queue=i,Nb(D3.bind(null,n,i,r),[r]),n.flags|=2048,uf(9,O3.bind(null,n,i,e,t),void 0,null),e},useId:function(){var r=ca(),t=Wn.identifierPrefix;if(ln){var e=Ua,n=Ba;e=(n&~(1<<32-Ws(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=of++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=jk++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},Bk={readContext:Ts,useCallback:$3,useContext:Ts,useEffect:q2,useImperativeHandle:H3,useInsertionEffect:z3,useLayoutEffect:V3,useMemo:W3,useReducer:B0,useRef:U3,useState:function(){return B0(lf)},useDebugValue:H2,useDeferredValue:function(r){var t=Cs();return X3(t,Dn.memoizedState,r)},useTransition:function(){var r=B0(lf)[0],t=Cs().memoizedState;return[r,t]},useMutableSource:M3,useSyncExternalStore:j3,useId:K3,unstable_isNewReconciler:!1},Uk={readContext:Ts,useCallback:$3,useContext:Ts,useEffect:q2,useImperativeHandle:H3,useInsertionEffect:z3,useLayoutEffect:V3,useMemo:W3,useReducer:U0,useRef:U3,useState:function(){return U0(lf)},useDebugValue:H2,useDeferredValue:function(r){var t=Cs();return Dn===null?t.memoizedState=r:X3(t,Dn.memoizedState,r)},useTransition:function(){var r=U0(lf)[0],t=Cs().memoizedState;return[r,t]},useMutableSource:M3,useSyncExternalStore:j3,useId:K3,unstable_isNewReconciler:!1};function zs(r,t){if(r&&r.defaultProps){t=dn({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function r1(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:dn({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var wm={isMounted:function(r){return(r=r._reactInternals)?yu(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=Pi(),s=Jo(r),i=$a(n,s);i.payload=t,e!=null&&(i.callback=e),t=Qo(r,i,s),t!==null&&(Xs(t,r,s,n),sp(t,r,s))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=Pi(),s=Jo(r),i=$a(n,s);i.tag=1,i.payload=t,e!=null&&(i.callback=e),t=Qo(r,i,s),t!==null&&(Xs(t,r,s,n),sp(t,r,s))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=Pi(),n=Jo(r),s=$a(e,n);s.tag=2,t!=null&&(s.callback=t),t=Qo(r,s,n),t!==null&&(Xs(t,r,n,e),sp(t,r,n))}};function Pb(r,t,e,n,s,i,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ef(e,n)||!ef(s,i):!0}function Z3(r,t,e){var n=!1,s=cl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ts(i):(s=$i(t)?su:wi.current,n=t.contextTypes,i=(n=n!=null)?_c(r,s):cl),t=new t(e,i),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wm,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=i),t}function Ib(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&wm.enqueueReplaceState(t,t.state,null)}function n1(r,t,e,n){var s=r.stateNode;s.props=e,s.state=r.memoizedState,s.refs={},O2(r);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ts(i):(i=$i(t)?su:wi.current,s.context=_c(r,i)),s.state=r.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(r1(r,t,i,e),s.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wm.enqueueReplaceState(s,s.state,null),Dp(r,e,s,n),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function Ec(r,t){try{var e="",n=t;do e+=p7(n),n=n.return;while(n);var s=e}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:r,source:t,stack:s,digest:null}}function z0(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function i1(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var zk=typeof WeakMap=="function"?WeakMap:Map;function J3(r,t,e){e=$a(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){Vp||(Vp=!0,p1=n),i1(r,t)},e}function e_(r,t,e){e=$a(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;e.payload=function(){return n(s)},e.callback=function(){i1(r,t)}}var i=r.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){i1(r,t),typeof n!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function Rb(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new zk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(e)||(s.add(e),r=t9.bind(null,r,t,e),t.then(r,r))}function Mb(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function jb(r,t,e,n,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=$a(-1,1),t.tag=2,Qo(e,t,1))),e.lanes|=1),r)}var Vk=ro.ReactCurrentOwner,qi=!1;function Ni(r,t,e,n){t.child=r===null?N3(t,null,e,n):Sc(t,r.child,e,n)}function Lb(r,t,e,n,s){e=e.render;var i=t.ref;return pc(t,s),n=z2(r,t,e,n,i,s),e=V2(),r!==null&&!qi?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~s,Ya(r,t,s)):(ln&&e&&N2(t),t.flags|=1,Ni(r,t,n,s),t.child)}function Ob(r,t,e,n,s){if(r===null){var i=e.type;return typeof i=="function"&&!Z2(i)&&i.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=i,t_(r,t,i,n,s)):(r=hp(e.type,null,n,t,t.mode,s),r.ref=t.ref,r.return=t,t.child=r)}if(i=r.child,!(r.lanes&s)){var a=i.memoizedProps;if(e=e.compare,e=e!==null?e:ef,e(a,n)&&r.ref===t.ref)return Ya(r,t,s)}return t.flags|=1,r=el(i,n),r.ref=t.ref,r.return=t,t.child=r}function t_(r,t,e,n,s){if(r!==null){var i=r.memoizedProps;if(ef(i,n)&&r.ref===t.ref)if(qi=!1,t.pendingProps=n=i,(r.lanes&s)!==0)r.flags&131072&&(qi=!0);else return t.lanes=r.lanes,Ya(r,t,s)}return s1(r,t,e,n,s)}function r_(r,t,e){var n=t.pendingProps,s=n.children,i=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jr(lc,es),es|=e;else{if(!(e&1073741824))return r=i!==null?i.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Jr(lc,es),es|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:e,Jr(lc,es),es|=n}else i!==null?(n=i.baseLanes|e,t.memoizedState=null):n=e,Jr(lc,es),es|=n;return Ni(r,t,s,e),t.child}function n_(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function s1(r,t,e,n,s){var i=$i(e)?su:wi.current;return i=_c(t,i),pc(t,s),e=z2(r,t,e,n,i,s),n=V2(),r!==null&&!qi?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~s,Ya(r,t,s)):(ln&&n&&N2(t),t.flags|=1,Ni(r,t,e,s),t.child)}function Db(r,t,e,n,s){if($i(e)){var i=!0;Rp(t)}else i=!1;if(pc(t,s),t.stateNode===null)lp(r,t),Z3(t,e,n),n1(t,e,n,s),n=!0;else if(r===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var o=a.context,l=e.contextType;typeof l=="object"&&l!==null?l=Ts(l):(l=$i(e)?su:wi.current,l=_c(t,l));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||o!==l)&&Ib(t,a,n,l),Mo=!1;var f=t.memoizedState;a.state=f,Dp(t,n,a,s),o=t.memoizedState,u!==n||f!==o||Hi.current||Mo?(typeof c=="function"&&(r1(t,e,c,n),o=t.memoizedState),(u=Mo||Pb(t,e,u,n,f,o,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),a.props=n,a.state=o,a.context=l,n=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,I3(r,t),u=t.memoizedProps,l=t.type===t.elementType?u:zs(t.type,u),a.props=l,d=t.pendingProps,f=a.context,o=e.contextType,typeof o=="object"&&o!==null?o=Ts(o):(o=$i(e)?su:wi.current,o=_c(t,o));var h=e.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==d||f!==o)&&Ib(t,a,n,o),Mo=!1,f=t.memoizedState,a.state=f,Dp(t,n,a,s);var g=t.memoizedState;u!==d||f!==g||Hi.current||Mo?(typeof h=="function"&&(r1(t,e,h,n),g=t.memoizedState),(l=Mo||Pb(t,e,l,n,f,g,o)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=o,n=l):(typeof a.componentDidUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&f===r.memoizedState||(t.flags|=1024),n=!1)}return a1(r,t,e,n,i,s)}function a1(r,t,e,n,s,i){n_(r,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&xb(t,e,!1),Ya(r,t,i);n=t.stateNode,Vk.current=t;var u=a&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&a?(t.child=Sc(t,r.child,null,i),t.child=Sc(t,null,u,i)):Ni(r,t,u,i),t.memoizedState=n.state,s&&xb(t,e,!0),t.child}function i_(r){var t=r.stateNode;t.pendingContext?_b(r,t.pendingContext,t.pendingContext!==t.context):t.context&&_b(r,t.context,!1),D2(r,t.containerInfo)}function Fb(r,t,e,n,s){return xc(),I2(s),t.flags|=256,Ni(r,t,e,n),t.child}var o1={dehydrated:null,treeContext:null,retryLane:0};function l1(r){return{baseLanes:r,cachePool:null,transitions:null}}function s_(r,t,e){var n=t.pendingProps,s=hn.current,i=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=r!==null&&r.memoizedState===null?!1:(s&2)!==0),u?(i=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),Jr(hn,s&1),r===null)return e1(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,r=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Sm(a,n,0,null),r=Gl(r,n,e,null),i.return=t,r.return=t,i.sibling=r,t.child=i,t.child.memoizedState=l1(e),t.memoizedState=o1,r):$2(t,a));if(s=r.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return qk(r,t,a,n,u,s,e);if(i){i=n.fallback,a=t.mode,s=r.child,u=s.sibling;var o={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=el(s,o),n.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=el(u,i):(i=Gl(i,a,e,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=r.child.memoizedState,a=a===null?l1(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=r.childLanes&~e,t.memoizedState=o1,n}return i=r.child,r=i.sibling,n=el(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function $2(r,t){return t=Sm({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function Rd(r,t,e,n){return n!==null&&I2(n),Sc(t,r.child,null,e),r=$2(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function qk(r,t,e,n,s,i,a){if(e)return t.flags&256?(t.flags&=-257,n=z0(Error(gt(422))),Rd(r,t,a,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Sm({mode:"visible",children:n.children},s,0,null),i=Gl(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Sc(t,r.child,null,a),t.child.memoizedState=l1(a),t.memoizedState=o1,i);if(!(t.mode&1))return Rd(r,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var u=n.dgst;return n=u,i=Error(gt(419)),n=z0(i,n,void 0),Rd(r,t,a,n)}if(u=(a&r.childLanes)!==0,qi||u){if(n=Wn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ga(r,s),Xs(n,r,s,-1))}return Q2(),n=z0(Error(gt(421))),Rd(r,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=r.child,t=r9.bind(null,r),s._reactRetry=t,null):(r=i.treeContext,rs=Yo(s.nextSibling),as=t,ln=!0,Hs=null,r!==null&&(xs[Ss++]=Ba,xs[Ss++]=Ua,xs[Ss++]=au,Ba=r.id,Ua=r.overflow,au=t),t=$2(t,n.children),t.flags|=4096,t)}function Bb(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),t1(r.return,t,e)}function V0(r,t,e,n,s){var i=r.memoizedState;i===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=e,i.tailMode=s)}function a_(r,t,e){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ni(r,t,n.children,e),n=hn.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bb(r,e,t);else if(r.tag===19)Bb(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Jr(hn,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)r=e.alternate,r!==null&&Fp(r)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),V0(t,!1,s,e,i);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(r=s.alternate,r!==null&&Fp(r)===null){t.child=s;break}r=s.sibling,s.sibling=e,e=s,s=r}V0(t,!0,e,null,i);break;case"together":V0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lp(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Ya(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),lu|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(gt(153));if(t.child!==null){for(r=t.child,e=el(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=el(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function Hk(r,t,e){switch(t.tag){case 3:i_(t),xc();break;case 5:R3(t);break;case 1:$i(t.type)&&Rp(t);break;case 4:D2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Jr(Lp,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Jr(hn,hn.current&1),t.flags|=128,null):e&t.child.childLanes?s_(r,t,e):(Jr(hn,hn.current&1),r=Ya(r,t,e),r!==null?r.sibling:null);Jr(hn,hn.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return a_(r,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Jr(hn,hn.current),n)break;return null;case 22:case 23:return t.lanes=0,r_(r,t,e)}return Ya(r,t,e)}var o_,u1,l_,u_;o_=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};u1=function(){};l_=function(r,t,e,n){var s=r.memoizedProps;if(s!==n){r=t.stateNode,$l(ma.current);var i=null;switch(e){case"input":s=Ig(r,s),n=Ig(r,n),i=[];break;case"select":s=dn({},s,{value:void 0}),n=dn({},n,{value:void 0}),i=[];break;case"textarea":s=jg(r,s),n=jg(r,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Pp)}Og(e,n);var a;e=null;for(l in s)if(!n.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var u=s[l];for(a in u)u.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Xh.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var o=n[l];if(u=s!=null?s[l]:void 0,n.hasOwnProperty(l)&&o!==u&&(o!=null||u!=null))if(l==="style")if(u){for(a in u)!u.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in o)o.hasOwnProperty(a)&&u[a]!==o[a]&&(e||(e={}),e[a]=o[a])}else e||(i||(i=[]),i.push(l,e)),e=o;else l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,u=u?u.__html:void 0,o!=null&&u!==o&&(i=i||[]).push(l,o)):l==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(l,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Xh.hasOwnProperty(l)?(o!=null&&l==="onScroll"&&rn("scroll",r),i||u===o||(i=[])):(i=i||[]).push(l,o))}e&&(i=i||[]).push("style",e);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};u_=function(r,t,e,n){e!==n&&(t.flags|=4)};function ch(r,t){if(!ln)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function ui(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var s=r.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function $k(r,t,e){var n=t.pendingProps;switch(P2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return $i(t.type)&&Ip(),ui(t),null;case 3:return n=t.stateNode,kc(),an(Hi),an(wi),B2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Pd(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hs!==null&&(y1(Hs),Hs=null))),u1(r,t),ui(t),null;case 5:F2(t);var s=$l(af.current);if(e=t.type,r!==null&&t.stateNode!=null)l_(r,t,e,n,s),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(gt(166));return ui(t),null}if(r=$l(ma.current),Pd(t)){n=t.stateNode,e=t.type;var i=t.memoizedProps;switch(n[ha]=t,n[nf]=i,r=(t.mode&1)!==0,e){case"dialog":rn("cancel",n),rn("close",n);break;case"iframe":case"object":case"embed":rn("load",n);break;case"video":case"audio":for(s=0;s<wh.length;s++)rn(wh[s],n);break;case"source":rn("error",n);break;case"img":case"image":case"link":rn("error",n),rn("load",n);break;case"details":rn("toggle",n);break;case"input":Kv(n,i),rn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rn("invalid",n);break;case"textarea":Yv(n,i),rn("invalid",n)}Og(e,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="children"?typeof u=="string"?n.textContent!==u&&(i.suppressHydrationWarning!==!0&&Nd(n.textContent,u,r),s=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Nd(n.textContent,u,r),s=["children",""+u]):Xh.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&rn("scroll",n)}switch(e){case"input":_d(n),Gv(n,i,!0);break;case"textarea":_d(n),Qv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pp)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=D4(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(e,{is:n.is}):(r=a.createElement(e),e==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,e),r[ha]=t,r[nf]=n,o_(r,t,!1,!1),t.stateNode=r;e:{switch(a=Dg(e,n),e){case"dialog":rn("cancel",r),rn("close",r),s=n;break;case"iframe":case"object":case"embed":rn("load",r),s=n;break;case"video":case"audio":for(s=0;s<wh.length;s++)rn(wh[s],r);s=n;break;case"source":rn("error",r),s=n;break;case"img":case"image":case"link":rn("error",r),rn("load",r),s=n;break;case"details":rn("toggle",r),s=n;break;case"input":Kv(r,n),s=Ig(r,n),rn("invalid",r);break;case"option":s=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},s=dn({},n,{value:void 0}),rn("invalid",r);break;case"textarea":Yv(r,n),s=jg(r,n),rn("invalid",r);break;default:s=n}Og(e,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var o=u[i];i==="style"?U4(r,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&F4(r,o)):i==="children"?typeof o=="string"?(e!=="textarea"||o!=="")&&Kh(r,o):typeof o=="number"&&Kh(r,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xh.hasOwnProperty(i)?o!=null&&i==="onScroll"&&rn("scroll",r):o!=null&&m2(r,i,o,a))}switch(e){case"input":_d(r),Gv(r,n,!1);break;case"textarea":_d(r),Qv(r);break;case"option":n.value!=null&&r.setAttribute("value",""+ul(n.value));break;case"select":r.multiple=!!n.multiple,i=n.value,i!=null?cc(r,!!n.multiple,i,!1):n.defaultValue!=null&&cc(r,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=Pp)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(r&&t.stateNode!=null)u_(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gt(166));if(e=$l(af.current),$l(ma.current),Pd(t)){if(n=t.stateNode,e=t.memoizedProps,n[ha]=t,(i=n.nodeValue!==e)&&(r=as,r!==null))switch(r.tag){case 3:Nd(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Nd(n.nodeValue,e,(r.mode&1)!==0)}i&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[ha]=t,t.stateNode=n}return ui(t),null;case 13:if(an(hn),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ln&&rs!==null&&t.mode&1&&!(t.flags&128))T3(),xc(),t.flags|=98560,i=!1;else if(i=Pd(t),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(gt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(gt(317));i[ha]=t}else xc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),i=!1}else Hs!==null&&(y1(Hs),Hs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||hn.current&1?Bn===0&&(Bn=3):Q2())),t.updateQueue!==null&&(t.flags|=4),ui(t),null);case 4:return kc(),u1(r,t),r===null&&tf(t.stateNode.containerInfo),ui(t),null;case 10:return j2(t.type._context),ui(t),null;case 17:return $i(t.type)&&Ip(),ui(t),null;case 19:if(an(hn),i=t.memoizedState,i===null)return ui(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ch(i,!1);else{if(Bn!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(a=Fp(r),a!==null){for(t.flags|=128,ch(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)i=e,r=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Jr(hn,hn.current&1|2),t.child}r=r.sibling}i.tail!==null&&An()>Ac&&(t.flags|=128,n=!0,ch(i,!1),t.lanes=4194304)}else{if(!n)if(r=Fp(a),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),ch(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ln)return ui(t),null}else 2*An()-i.renderingStartTime>Ac&&e!==1073741824&&(t.flags|=128,n=!0,ch(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=An(),t.sibling=null,e=hn.current,Jr(hn,n?e&1|2:e&1),t):(ui(t),null);case 22:case 23:return Y2(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?es&1073741824&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function Wk(r,t){switch(P2(t),t.tag){case 1:return $i(t.type)&&Ip(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return kc(),an(Hi),an(wi),B2(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return F2(t),null;case 13:if(an(hn),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));xc()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return an(hn),null;case 4:return kc(),null;case 10:return j2(t.type._context),null;case 22:case 23:return Y2(),null;case 24:return null;default:return null}}var Md=!1,yi=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function oc(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){bn(r,t,n)}else e.current=null}function c1(r,t,e){try{e()}catch(n){bn(r,t,n)}}var Ub=!1;function Kk(r,t){if(Xg=Tp,r=p3(),C2(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch{e=null;break e}var a=0,u=-1,o=-1,l=0,c=0,d=r,f=null;t:for(;;){for(var h;d!==e||s!==0&&d.nodeType!==3||(u=a+s),d!==i||n!==0&&d.nodeType!==3||(o=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===r)break t;if(f===e&&++l===s&&(u=a),f===i&&++c===n&&(o=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}e=u===-1||o===-1?null:{start:u,end:o}}else e=null}e=e||{start:0,end:0}}else e=null;for(Kg={focusedElem:r,selectionRange:e},Tp=!1,Dt=t;Dt!==null;)if(t=Dt,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,Dt=r;else for(;Dt!==null;){t=Dt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,p=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:zs(t.type,v),p);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(k){bn(t,t.return,k)}if(r=t.sibling,r!==null){r.return=t.return,Dt=r;break}Dt=t.return}return g=Ub,Ub=!1,g}function Mh(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var i=s.destroy;s.destroy=void 0,i!==void 0&&c1(t,e,i)}s=s.next}while(s!==n)}}function _m(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function h1(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function c_(r){var t=r.alternate;t!==null&&(r.alternate=null,c_(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[ha],delete t[nf],delete t[Qg],delete t[Pk],delete t[Ik])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function h_(r){return r.tag===5||r.tag===3||r.tag===4}function zb(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||h_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function f1(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Pp));else if(n!==4&&(r=r.child,r!==null))for(f1(r,t,e),r=r.sibling;r!==null;)f1(r,t,e),r=r.sibling}function d1(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(d1(r,t,e),r=r.sibling;r!==null;)d1(r,t,e),r=r.sibling}var Zn=null,qs=!1;function To(r,t,e){for(e=e.child;e!==null;)f_(r,t,e),e=e.sibling}function f_(r,t,e){if(pa&&typeof pa.onCommitFiberUnmount=="function")try{pa.onCommitFiberUnmount(dm,e)}catch{}switch(e.tag){case 5:yi||oc(e,t);case 6:var n=Zn,s=qs;Zn=null,To(r,t,e),Zn=n,qs=s,Zn!==null&&(qs?(r=Zn,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):Zn.removeChild(e.stateNode));break;case 18:Zn!==null&&(qs?(r=Zn,e=e.stateNode,r.nodeType===8?L0(r.parentNode,e):r.nodeType===1&&L0(r,e),Zh(r)):L0(Zn,e.stateNode));break;case 4:n=Zn,s=qs,Zn=e.stateNode.containerInfo,qs=!0,To(r,t,e),Zn=n,qs=s;break;case 0:case 11:case 14:case 15:if(!yi&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&c1(e,t,a),s=s.next}while(s!==n)}To(r,t,e);break;case 1:if(!yi&&(oc(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(u){bn(e,t,u)}To(r,t,e);break;case 21:To(r,t,e);break;case 22:e.mode&1?(yi=(n=yi)||e.memoizedState!==null,To(r,t,e),yi=n):To(r,t,e);break;default:To(r,t,e)}}function Vb(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new Xk),t.forEach(function(n){var s=n9.bind(null,r,n);e.has(n)||(e.add(n),n.then(s,s))})}}function Fs(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];try{var i=r,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:Zn=u.stateNode,qs=!1;break e;case 3:Zn=u.stateNode.containerInfo,qs=!0;break e;case 4:Zn=u.stateNode.containerInfo,qs=!0;break e}u=u.return}if(Zn===null)throw Error(gt(160));f_(i,a,s),Zn=null,qs=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(l){bn(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)d_(t,r),t=t.sibling}function d_(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Fs(t,r),oa(r),n&4){try{Mh(3,r,r.return),_m(3,r)}catch(v){bn(r,r.return,v)}try{Mh(5,r,r.return)}catch(v){bn(r,r.return,v)}}break;case 1:Fs(t,r),oa(r),n&512&&e!==null&&oc(e,e.return);break;case 5:if(Fs(t,r),oa(r),n&512&&e!==null&&oc(e,e.return),r.flags&32){var s=r.stateNode;try{Kh(s,"")}catch(v){bn(r,r.return,v)}}if(n&4&&(s=r.stateNode,s!=null)){var i=r.memoizedProps,a=e!==null?e.memoizedProps:i,u=r.type,o=r.updateQueue;if(r.updateQueue=null,o!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&L4(s,i),Dg(u,a);var l=Dg(u,i);for(a=0;a<o.length;a+=2){var c=o[a],d=o[a+1];c==="style"?U4(s,d):c==="dangerouslySetInnerHTML"?F4(s,d):c==="children"?Kh(s,d):m2(s,c,d,l)}switch(u){case"input":Rg(s,i);break;case"textarea":O4(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?cc(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?cc(s,!!i.multiple,i.defaultValue,!0):cc(s,!!i.multiple,i.multiple?[]:"",!1))}s[nf]=i}catch(v){bn(r,r.return,v)}}break;case 6:if(Fs(t,r),oa(r),n&4){if(r.stateNode===null)throw Error(gt(162));s=r.stateNode,i=r.memoizedProps;try{s.nodeValue=i}catch(v){bn(r,r.return,v)}}break;case 3:if(Fs(t,r),oa(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{Zh(t.containerInfo)}catch(v){bn(r,r.return,v)}break;case 4:Fs(t,r),oa(r);break;case 13:Fs(t,r),oa(r),s=r.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(K2=An())),n&4&&Vb(r);break;case 22:if(c=e!==null&&e.memoizedState!==null,r.mode&1?(yi=(l=yi)||c,Fs(t,r),yi=l):Fs(t,r),oa(r),n&8192){if(l=r.memoizedState!==null,(r.stateNode.isHidden=l)&&!c&&r.mode&1)for(Dt=r,c=r.child;c!==null;){for(d=Dt=c;Dt!==null;){switch(f=Dt,h=f.child,f.tag){case 0:case 11:case 14:case 15:Mh(4,f,f.return);break;case 1:oc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,e=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){bn(n,e,v)}}break;case 5:oc(f,f.return);break;case 22:if(f.memoizedState!==null){Hb(d);continue}}h!==null?(h.return=f,Dt=h):Hb(d)}c=c.sibling}e:for(c=null,d=r;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=d.stateNode,o=d.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,u.style.display=B4("display",a))}catch(v){bn(r,r.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){bn(r,r.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fs(t,r),oa(r),n&4&&Vb(r);break;case 21:break;default:Fs(t,r),oa(r)}}function oa(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(h_(e)){var n=e;break e}e=e.return}throw Error(gt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kh(s,""),n.flags&=-33);var i=zb(r);d1(r,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,u=zb(r);f1(r,u,a);break;default:throw Error(gt(161))}}catch(o){bn(r,r.return,o)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function Gk(r,t,e){Dt=r,p_(r)}function p_(r,t,e){for(var n=(r.mode&1)!==0;Dt!==null;){var s=Dt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Md;if(!a){var u=s.alternate,o=u!==null&&u.memoizedState!==null||yi;u=Md;var l=yi;if(Md=a,(yi=o)&&!l)for(Dt=s;Dt!==null;)a=Dt,o=a.child,a.tag===22&&a.memoizedState!==null?$b(s):o!==null?(o.return=a,Dt=o):$b(s);for(;i!==null;)Dt=i,p_(i),i=i.sibling;Dt=s,Md=u,yi=l}qb(r)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Dt=i):qb(r)}}function qb(r){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yi||_m(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yi)if(e===null)n.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:zs(t.type,e.memoizedProps);n.componentDidUpdate(s,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tb(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Tb(t,a,e)}break;case 5:var u=t.stateNode;if(e===null&&t.flags&4){e=u;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&e.focus();break;case"img":o.src&&(e.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}yi||t.flags&512&&h1(t)}catch(f){bn(t,t.return,f)}}if(t===r){Dt=null;break}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function Hb(r){for(;Dt!==null;){var t=Dt;if(t===r){Dt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function $b(r){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{_m(4,t)}catch(o){bn(t,e,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){bn(t,s,o)}}var i=t.return;try{h1(t)}catch(o){bn(t,i,o)}break;case 5:var a=t.return;try{h1(t)}catch(o){bn(t,a,o)}}}catch(o){bn(t,t.return,o)}if(t===r){Dt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Dt=u;break}Dt=t.return}}var Yk=Math.ceil,zp=ro.ReactCurrentDispatcher,W2=ro.ReactCurrentOwner,As=ro.ReactCurrentBatchConfig,Rr=0,Wn=null,Mn=null,ri=0,es=0,lc=bl(0),Bn=0,cf=null,lu=0,xm=0,X2=0,jh=null,zi=null,K2=0,Ac=1/0,Da=null,Vp=!1,p1=null,Zo=null,jd=!1,Ho=null,qp=0,Lh=0,m1=null,up=-1,cp=0;function Pi(){return Rr&6?An():up!==-1?up:up=An()}function Jo(r){return r.mode&1?Rr&2&&ri!==0?ri&-ri:Mk.transition!==null?(cp===0&&(cp=Z4()),cp):(r=Hr,r!==0||(r=window.event,r=r===void 0?16:s3(r.type)),r):1}function Xs(r,t,e,n){if(50<Lh)throw Lh=0,m1=null,Error(gt(185));Tf(r,e,n),(!(Rr&2)||r!==Wn)&&(r===Wn&&(!(Rr&2)&&(xm|=e),Bn===4&&Lo(r,ri)),Wi(r,n),e===1&&Rr===0&&!(t.mode&1)&&(Ac=An()+500,vm&&wl()))}function Wi(r,t){var e=r.callbackNode;M7(r,t);var n=Ap(r,r===Wn?ri:0);if(n===0)e!==null&&eb(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&eb(e),t===1)r.tag===0?Rk(Wb.bind(null,r)):k3(Wb.bind(null,r)),Ck(function(){!(Rr&6)&&wl()}),e=null;else{switch(J4(n)){case 1:e=w2;break;case 4:e=Y4;break;case 16:e=Ep;break;case 536870912:e=Q4;break;default:e=Ep}e=x_(e,m_.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function m_(r,t){if(up=-1,cp=0,Rr&6)throw Error(gt(327));var e=r.callbackNode;if(mc()&&r.callbackNode!==e)return null;var n=Ap(r,r===Wn?ri:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=Hp(r,n);else{t=n;var s=Rr;Rr|=2;var i=y_();(Wn!==r||ri!==t)&&(Da=null,Ac=An()+500,Kl(r,t));do try{Jk();break}catch(u){g_(r,u)}while(!0);M2(),zp.current=i,Rr=s,Mn!==null?t=0:(Wn=null,ri=0,t=Bn)}if(t!==0){if(t===2&&(s=Vg(r),s!==0&&(n=s,t=g1(r,s))),t===1)throw e=cf,Kl(r,0),Lo(r,n),Wi(r,An()),e;if(t===6)Lo(r,n);else{if(s=r.current.alternate,!(n&30)&&!Qk(s)&&(t=Hp(r,n),t===2&&(i=Vg(r),i!==0&&(n=i,t=g1(r,i))),t===1))throw e=cf,Kl(r,0),Lo(r,n),Wi(r,An()),e;switch(r.finishedWork=s,r.finishedLanes=n,t){case 0:case 1:throw Error(gt(345));case 2:Ul(r,zi,Da);break;case 3:if(Lo(r,n),(n&130023424)===n&&(t=K2+500-An(),10<t)){if(Ap(r,0)!==0)break;if(s=r.suspendedLanes,(s&n)!==n){Pi(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=Yg(Ul.bind(null,r,zi,Da),t);break}Ul(r,zi,Da);break;case 4:if(Lo(r,n),(n&4194240)===n)break;for(t=r.eventTimes,s=-1;0<n;){var a=31-Ws(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=An()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yk(n/1960))-n,10<n){r.timeoutHandle=Yg(Ul.bind(null,r,zi,Da),n);break}Ul(r,zi,Da);break;case 5:Ul(r,zi,Da);break;default:throw Error(gt(329))}}}return Wi(r,An()),r.callbackNode===e?m_.bind(null,r):null}function g1(r,t){var e=jh;return r.current.memoizedState.isDehydrated&&(Kl(r,t).flags|=256),r=Hp(r,t),r!==2&&(t=zi,zi=e,t!==null&&y1(t)),r}function y1(r){zi===null?zi=r:zi.push.apply(zi,r)}function Qk(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var s=e[n],i=s.getSnapshot;s=s.value;try{if(!Ks(i(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lo(r,t){for(t&=~X2,t&=~xm,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-Ws(t),n=1<<e;r[e]=-1,t&=~n}}function Wb(r){if(Rr&6)throw Error(gt(327));mc();var t=Ap(r,0);if(!(t&1))return Wi(r,An()),null;var e=Hp(r,t);if(r.tag!==0&&e===2){var n=Vg(r);n!==0&&(t=n,e=g1(r,n))}if(e===1)throw e=cf,Kl(r,0),Lo(r,t),Wi(r,An()),e;if(e===6)throw Error(gt(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,Ul(r,zi,Da),Wi(r,An()),null}function G2(r,t){var e=Rr;Rr|=1;try{return r(t)}finally{Rr=e,Rr===0&&(Ac=An()+500,vm&&wl())}}function uu(r){Ho!==null&&Ho.tag===0&&!(Rr&6)&&mc();var t=Rr;Rr|=1;var e=As.transition,n=Hr;try{if(As.transition=null,Hr=1,r)return r()}finally{Hr=n,As.transition=e,Rr=t,!(Rr&6)&&wl()}}function Y2(){es=lc.current,an(lc)}function Kl(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,Tk(e)),Mn!==null)for(e=Mn.return;e!==null;){var n=e;switch(P2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ip();break;case 3:kc(),an(Hi),an(wi),B2();break;case 5:F2(n);break;case 4:kc();break;case 13:an(hn);break;case 19:an(hn);break;case 10:j2(n.type._context);break;case 22:case 23:Y2()}e=e.return}if(Wn=r,Mn=r=el(r.current,null),ri=es=t,Bn=0,cf=null,X2=xm=lu=0,zi=jh=null,Hl!==null){for(t=0;t<Hl.length;t++)if(e=Hl[t],n=e.interleaved,n!==null){e.interleaved=null;var s=n.next,i=e.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}e.pending=n}Hl=null}return r}function g_(r,t){do{var e=Mn;try{if(M2(),ap.current=Up,Bp){for(var n=fn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bp=!1}if(ou=0,$n=Dn=fn=null,Rh=!1,of=0,W2.current=null,e===null||e.return===null){Bn=1,cf=t,Mn=null;break}e:{var i=r,a=e.return,u=e,o=t;if(t=ri,u.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var l=o,c=u,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Mb(a);if(h!==null){h.flags&=-257,jb(h,a,u,i,t),h.mode&1&&Rb(i,l,t),t=h,o=l;var g=t.updateQueue;if(g===null){var v=new Set;v.add(o),t.updateQueue=v}else g.add(o);break e}else{if(!(t&1)){Rb(i,l,t),Q2();break e}o=Error(gt(426))}}else if(ln&&u.mode&1){var p=Mb(a);if(p!==null){!(p.flags&65536)&&(p.flags|=256),jb(p,a,u,i,t),I2(Ec(o,u));break e}}i=o=Ec(o,u),Bn!==4&&(Bn=2),jh===null?jh=[i]:jh.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=J3(i,o,t);Ab(i,y);break e;case 1:u=o;var m=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zo===null||!Zo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=e_(i,u,t);Ab(i,k);break e}}i=i.return}while(i!==null)}b_(e)}catch(N){t=N,Mn===e&&e!==null&&(Mn=e=e.return);continue}break}while(!0)}function y_(){var r=zp.current;return zp.current=Up,r===null?Up:r}function Q2(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Wn===null||!(lu&268435455)&&!(xm&268435455)||Lo(Wn,ri)}function Hp(r,t){var e=Rr;Rr|=2;var n=y_();(Wn!==r||ri!==t)&&(Da=null,Kl(r,t));do try{Zk();break}catch(s){g_(r,s)}while(!0);if(M2(),Rr=e,zp.current=n,Mn!==null)throw Error(gt(261));return Wn=null,ri=0,Bn}function Zk(){for(;Mn!==null;)v_(Mn)}function Jk(){for(;Mn!==null&&!k7();)v_(Mn)}function v_(r){var t=__(r.alternate,r,es);r.memoizedProps=r.pendingProps,t===null?b_(r):Mn=t,W2.current=null}function b_(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=Wk(e,t),e!==null){e.flags&=32767,Mn=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bn=6,Mn=null;return}}else if(e=$k(e,t,es),e!==null){Mn=e;return}if(t=t.sibling,t!==null){Mn=t;return}Mn=t=r}while(t!==null);Bn===0&&(Bn=5)}function Ul(r,t,e){var n=Hr,s=As.transition;try{As.transition=null,Hr=1,e9(r,t,e,n)}finally{As.transition=s,Hr=n}return null}function e9(r,t,e,n){do mc();while(Ho!==null);if(Rr&6)throw Error(gt(327));e=r.finishedWork;var s=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(gt(177));r.callbackNode=null,r.callbackPriority=0;var i=e.lanes|e.childLanes;if(j7(r,i),r===Wn&&(Mn=Wn=null,ri=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||jd||(jd=!0,x_(Ep,function(){return mc(),null})),i=(e.flags&15990)!==0,e.subtreeFlags&15990||i){i=As.transition,As.transition=null;var a=Hr;Hr=1;var u=Rr;Rr|=4,W2.current=null,Kk(r,e),d_(e,r),wk(Kg),Tp=!!Xg,Kg=Xg=null,r.current=e,Gk(e),E7(),Rr=u,Hr=a,As.transition=i}else r.current=e;if(jd&&(jd=!1,Ho=r,qp=s),i=r.pendingLanes,i===0&&(Zo=null),C7(e.stateNode),Wi(r,An()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)s=t[e],n(s.value,{componentStack:s.stack,digest:s.digest});if(Vp)throw Vp=!1,r=p1,p1=null,r;return qp&1&&r.tag!==0&&mc(),i=r.pendingLanes,i&1?r===m1?Lh++:(Lh=0,m1=r):Lh=0,wl(),null}function mc(){if(Ho!==null){var r=J4(qp),t=As.transition,e=Hr;try{if(As.transition=null,Hr=16>r?16:r,Ho===null)var n=!1;else{if(r=Ho,Ho=null,qp=0,Rr&6)throw Error(gt(331));var s=Rr;for(Rr|=4,Dt=r.current;Dt!==null;){var i=Dt,a=i.child;if(Dt.flags&16){var u=i.deletions;if(u!==null){for(var o=0;o<u.length;o++){var l=u[o];for(Dt=l;Dt!==null;){var c=Dt;switch(c.tag){case 0:case 11:case 15:Mh(8,c,i)}var d=c.child;if(d!==null)d.return=c,Dt=d;else for(;Dt!==null;){c=Dt;var f=c.sibling,h=c.return;if(c_(c),c===l){Dt=null;break}if(f!==null){f.return=h,Dt=f;break}Dt=h}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var p=v.sibling;v.sibling=null,v=p}while(v!==null)}}Dt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Dt=a;else e:for(;Dt!==null;){if(i=Dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Dt=y;break e}Dt=i.return}}var m=r.current;for(Dt=m;Dt!==null;){a=Dt;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Dt=b;else e:for(a=m;Dt!==null;){if(u=Dt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:_m(9,u)}}catch(N){bn(u,u.return,N)}if(u===a){Dt=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,Dt=k;break e}Dt=u.return}}if(Rr=s,wl(),pa&&typeof pa.onPostCommitFiberRoot=="function")try{pa.onPostCommitFiberRoot(dm,r)}catch{}n=!0}return n}finally{Hr=e,As.transition=t}}return!1}function Xb(r,t,e){t=Ec(e,t),t=J3(r,t,1),r=Qo(r,t,1),t=Pi(),r!==null&&(Tf(r,1,t),Wi(r,t))}function bn(r,t,e){if(r.tag===3)Xb(r,r,e);else for(;t!==null;){if(t.tag===3){Xb(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zo===null||!Zo.has(n))){r=Ec(e,r),r=e_(t,r,1),t=Qo(t,r,1),r=Pi(),t!==null&&(Tf(t,1,r),Wi(t,r));break}}t=t.return}}function t9(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=Pi(),r.pingedLanes|=r.suspendedLanes&e,Wn===r&&(ri&e)===e&&(Bn===4||Bn===3&&(ri&130023424)===ri&&500>An()-K2?Kl(r,0):X2|=e),Wi(r,t)}function w_(r,t){t===0&&(r.mode&1?(t=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):t=1);var e=Pi();r=Ga(r,t),r!==null&&(Tf(r,t,e),Wi(r,e))}function r9(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),w_(r,e)}function n9(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,s=r.memoizedState;s!==null&&(e=s.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(t),w_(r,e)}var __;__=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||Hi.current)qi=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return qi=!1,Hk(r,t,e);qi=!!(r.flags&131072)}else qi=!1,ln&&t.flags&1048576&&E3(t,jp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lp(r,t),r=t.pendingProps;var s=_c(t,wi.current);pc(t,e),s=z2(null,t,n,r,s,e);var i=V2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$i(n)?(i=!0,Rp(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,O2(t),s.updater=wm,t.stateNode=s,s._reactInternals=t,n1(t,n,r,e),t=a1(null,t,n,!0,i,e)):(t.tag=0,ln&&i&&N2(t),Ni(null,t,s,e),t=t.child),t;case 16:n=t.elementType;e:{switch(lp(r,t),r=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=s9(n),r=zs(n,r),s){case 0:t=s1(null,t,n,r,e);break e;case 1:t=Db(null,t,n,r,e);break e;case 11:t=Lb(null,t,n,r,e);break e;case 14:t=Ob(null,t,n,zs(n.type,r),e);break e}throw Error(gt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),s1(r,t,n,s,e);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),Db(r,t,n,s,e);case 3:e:{if(i_(t),r===null)throw Error(gt(387));n=t.pendingProps,i=t.memoizedState,s=i.element,I3(r,t),Dp(t,n,null,e);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ec(Error(gt(423)),t),t=Fb(r,t,n,e,s);break e}else if(n!==s){s=Ec(Error(gt(424)),t),t=Fb(r,t,n,e,s);break e}else for(rs=Yo(t.stateNode.containerInfo.firstChild),as=t,ln=!0,Hs=null,e=N3(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(xc(),n===s){t=Ya(r,t,e);break e}Ni(r,t,n,e)}t=t.child}return t;case 5:return R3(t),r===null&&e1(t),n=t.type,s=t.pendingProps,i=r!==null?r.memoizedProps:null,a=s.children,Gg(n,s)?a=null:i!==null&&Gg(n,i)&&(t.flags|=32),n_(r,t),Ni(r,t,a,e),t.child;case 6:return r===null&&e1(t),null;case 13:return s_(r,t,e);case 4:return D2(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=Sc(t,null,n,e):Ni(r,t,n,e),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),Lb(r,t,n,s,e);case 7:return Ni(r,t,t.pendingProps,e),t.child;case 8:return Ni(r,t,t.pendingProps.children,e),t.child;case 12:return Ni(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Jr(Lp,n._currentValue),n._currentValue=a,i!==null)if(Ks(i.value,a)){if(i.children===s.children&&!Hi.current){t=Ya(r,t,e);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){a=i.child;for(var o=u.firstContext;o!==null;){if(o.context===n){if(i.tag===1){o=$a(-1,e&-e),o.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?o.next=o:(o.next=c.next,c.next=o),l.pending=o}}i.lanes|=e,o=i.alternate,o!==null&&(o.lanes|=e),t1(i.return,e,t),u.lanes|=e;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(gt(341));a.lanes|=e,u=a.alternate,u!==null&&(u.lanes|=e),t1(a,e,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ni(r,t,s.children,e),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,pc(t,e),s=Ts(s),n=n(s),t.flags|=1,Ni(r,t,n,e),t.child;case 14:return n=t.type,s=zs(n,t.pendingProps),s=zs(n.type,s),Ob(r,t,n,s,e);case 15:return t_(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zs(n,s),lp(r,t),t.tag=1,$i(n)?(r=!0,Rp(t)):r=!1,pc(t,e),Z3(t,n,s),n1(t,n,s,e),a1(null,t,n,!0,r,e);case 19:return a_(r,t,e);case 22:return r_(r,t,e)}throw Error(gt(156,t.tag))};function x_(r,t){return G4(r,t)}function i9(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(r,t,e,n){return new i9(r,t,e,n)}function Z2(r){return r=r.prototype,!(!r||!r.isReactComponent)}function s9(r){if(typeof r=="function")return Z2(r)?1:0;if(r!=null){if(r=r.$$typeof,r===y2)return 11;if(r===v2)return 14}return 2}function el(r,t){var e=r.alternate;return e===null?(e=ks(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function hp(r,t,e,n,s,i){var a=2;if(n=r,typeof r=="function")Z2(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Zu:return Gl(e.children,s,i,t);case g2:a=8,s|=8;break;case Tg:return r=ks(12,e,t,s|2),r.elementType=Tg,r.lanes=i,r;case Cg:return r=ks(13,e,t,s),r.elementType=Cg,r.lanes=i,r;case Ng:return r=ks(19,e,t,s),r.elementType=Ng,r.lanes=i,r;case R4:return Sm(e,s,i,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P4:a=10;break e;case I4:a=9;break e;case y2:a=11;break e;case v2:a=14;break e;case Ro:a=16,n=null;break e}throw Error(gt(130,r==null?r:typeof r,""))}return t=ks(a,e,t,s),t.elementType=r,t.type=n,t.lanes=i,t}function Gl(r,t,e,n){return r=ks(7,r,n,t),r.lanes=e,r}function Sm(r,t,e,n){return r=ks(22,r,n,t),r.elementType=R4,r.lanes=e,r.stateNode={isHidden:!1},r}function q0(r,t,e){return r=ks(6,r,null,t),r.lanes=e,r}function H0(r,t,e){return t=ks(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function a9(r,t,e,n,s){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k0(0),this.expirationTimes=k0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function J2(r,t,e,n,s,i,a,u,o){return r=new a9(r,t,e,u,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ks(3,null,null,t),r.current=i,i.stateNode=r,i.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},O2(i),r}function o9(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function S_(r){if(!r)return cl;r=r._reactInternals;e:{if(yu(r)!==r||r.tag!==1)throw Error(gt(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(r.tag===1){var e=r.type;if($i(e))return S3(r,e,t)}return t}function k_(r,t,e,n,s,i,a,u,o){return r=J2(e,n,!0,r,s,i,a,u,o),r.context=S_(null),e=r.current,n=Pi(),s=Jo(e),i=$a(n,s),i.callback=t??null,Qo(e,i,s),r.current.lanes=s,Tf(r,s,n),Wi(r,n),r}function km(r,t,e,n){var s=t.current,i=Pi(),a=Jo(s);return e=S_(e),t.context===null?t.context=e:t.pendingContext=e,t=$a(i,a),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=Qo(s,t,a),r!==null&&(Xs(r,s,a,i),sp(r,s,a)),a}function $p(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Kb(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function ey(r,t){Kb(r,t),(r=r.alternate)&&Kb(r,t)}function l9(){return null}var E_=typeof reportError=="function"?reportError:function(r){console.error(r)};function ty(r){this._internalRoot=r}Em.prototype.render=ty.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(gt(409));km(r,t,null,null)};Em.prototype.unmount=ty.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;uu(function(){km(null,r,null,null)}),t[Ka]=null}};function Em(r){this._internalRoot=r}Em.prototype.unstable_scheduleHydration=function(r){if(r){var t=r3();r={blockedOn:null,target:r,priority:t};for(var e=0;e<jo.length&&t!==0&&t<jo[e].priority;e++);jo.splice(e,0,r),e===0&&i3(r)}};function ry(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Am(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gb(){}function u9(r,t,e,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var l=$p(a);i.call(l)}}var a=k_(t,n,r,0,null,!1,!1,"",Gb);return r._reactRootContainer=a,r[Ka]=a.current,tf(r.nodeType===8?r.parentNode:r),uu(),a}for(;s=r.lastChild;)r.removeChild(s);if(typeof n=="function"){var u=n;n=function(){var l=$p(o);u.call(l)}}var o=J2(r,0,!1,null,null,!1,!1,"",Gb);return r._reactRootContainer=o,r[Ka]=o.current,tf(r.nodeType===8?r.parentNode:r),uu(function(){km(t,o,e,n)}),o}function Tm(r,t,e,n,s){var i=e._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var u=s;s=function(){var o=$p(a);u.call(o)}}km(t,a,r,s)}else a=u9(e,t,r,s,n);return $p(a)}e3=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=bh(t.pendingLanes);e!==0&&(_2(t,e|1),Wi(t,An()),!(Rr&6)&&(Ac=An()+500,wl()))}break;case 13:uu(function(){var n=Ga(r,1);if(n!==null){var s=Pi();Xs(n,r,1,s)}}),ey(r,1)}};x2=function(r){if(r.tag===13){var t=Ga(r,134217728);if(t!==null){var e=Pi();Xs(t,r,134217728,e)}ey(r,134217728)}};t3=function(r){if(r.tag===13){var t=Jo(r),e=Ga(r,t);if(e!==null){var n=Pi();Xs(e,r,t,n)}ey(r,t)}};r3=function(){return Hr};n3=function(r,t){var e=Hr;try{return Hr=r,t()}finally{Hr=e}};Bg=function(r,t,e){switch(t){case"input":if(Rg(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var s=ym(n);if(!s)throw Error(gt(90));j4(n),Rg(n,s)}}}break;case"textarea":O4(r,e);break;case"select":t=e.value,t!=null&&cc(r,!!e.multiple,t,!1)}};q4=G2;H4=uu;var c9={usingClientEntryPoint:!1,Events:[Nf,rc,ym,z4,V4,G2]},hh={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h9={bundleType:hh.bundleType,version:hh.version,rendererPackageName:hh.rendererPackageName,rendererConfig:hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=X4(r),r===null?null:r.stateNode},findFiberByHostInstance:hh.findFiberByHostInstance||l9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{dm=Ld.inject(h9),pa=Ld}catch{}}us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c9;us.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(t))throw Error(gt(200));return o9(r,t,null,e)};us.createRoot=function(r,t){if(!ry(r))throw Error(gt(299));var e=!1,n="",s=E_;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=J2(r,1,!1,null,null,e,!1,n,s),r[Ka]=t.current,tf(r.nodeType===8?r.parentNode:r),new ty(t)};us.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(gt(188)):(r=Object.keys(r).join(","),Error(gt(268,r)));return r=X4(t),r=r===null?null:r.stateNode,r};us.flushSync=function(r){return uu(r)};us.hydrate=function(r,t,e){if(!Am(t))throw Error(gt(200));return Tm(null,r,t,!0,e)};us.hydrateRoot=function(r,t,e){if(!ry(r))throw Error(gt(405));var n=e!=null&&e.hydratedSources||null,s=!1,i="",a=E_;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=k_(t,null,r,1,e??null,s,!1,i,a),r[Ka]=t.current,tf(r),n)for(r=0;r<n.length;r++)e=n[r],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new Em(t)};us.render=function(r,t,e){if(!Am(t))throw Error(gt(200));return Tm(null,r,t,!1,e)};us.unmountComponentAtNode=function(r){if(!Am(r))throw Error(gt(40));return r._reactRootContainer?(uu(function(){Tm(null,null,r,!1,function(){r._reactRootContainer=null,r[Ka]=null})}),!0):!1};us.unstable_batchedUpdates=G2;us.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!Am(e))throw Error(gt(200));if(r==null||r._reactInternals===void 0)throw Error(gt(38));return Tm(r,t,e,!1,n)};us.version="18.3.1-next-f1338f8080-20240426";function A_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A_)}catch(r){console.error(r)}}A_(),A4.exports=us;var f9=A4.exports,Yb=f9;Eg.createRoot=Yb.createRoot,Eg.hydrateRoot=Yb.hydrateRoot;var Qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},d9=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[e++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[e++],a=r[e++],u=r[e++],o=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(o&1023))}else{const i=r[e++],a=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,u=a?r[s+1]:0,o=s+2<r.length,l=o?r[s+2]:0,c=i>>2,d=(i&3)<<4|u>>4;let f=(u&15)<<2|l>>6,h=l&63;o||(h=64,a||(f=64)),n.push(e[c],e[d],e[f],e[h])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(T_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):d9(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=e[r.charAt(s++)],u=s<r.length?e[r.charAt(s)]:0;++s;const l=s<r.length?e[r.charAt(s)]:64;++s;const d=s<r.length?e[r.charAt(s)]:64;if(++s,i==null||u==null||l==null||d==null)throw new p9;const f=i<<2|u>>4;if(n.push(f),l!==64){const h=u<<4&240|l>>2;if(n.push(h),d!==64){const g=l<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class p9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m9=function(r){const t=T_(r);return C_.encodeByteArray(t,!0)},Wp=function(r){return m9(r).replace(/\./g,"")},N_=function(r){try{return C_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=()=>g9().__FIREBASE_DEFAULTS__,v9=()=>{if(typeof process>"u"||typeof Qb>"u")return;const r=Qb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},b9=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&N_(r[1]);return t&&JSON.parse(t)},Cm=()=>{try{return y9()||v9()||b9()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P_=r=>{var t,e;return(e=(t=Cm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},I_=r=>{const t=P_(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},R_=()=>{var r;return(r=Cm())===null||r===void 0?void 0:r.config},M_=r=>{var t;return(t=Cm())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wp(JSON.stringify(e)),Wp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_i())}function x9(){var r;const t=(r=Cm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k9(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function E9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A9(){const r=_i();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function T9(){return!x9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C9(){try{return typeof indexedDB=="object"}catch{return!1}}function N9(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="FirebaseError";class Sa extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=P9,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?I9(i,n):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Sa(s,u,n)}}function I9(r,t){return r.replace(R9,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const R9=/\{\$([^}]+)}/g;function M9(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xp(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const i=r[s],a=t[s];if(Zb(i)&&Zb(a)){if(!Xp(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function Zb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function _h(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function xh(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function j9(r,t){const e=new L9(r,t);return e.subscribe.bind(e)}class L9{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");O9(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=$0),s.error===void 0&&(s.error=$0),s.complete===void 0&&(s.complete=$0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O9(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function $0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class hl{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new w9;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(B9(t))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=zl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zl){return this.instances.has(t)}getOptions(t=zl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&a.resolve(s)}return s}onInit(t,e){var n;const s=this.normalizeInstanceIdentifier(e),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:F9(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=zl){return this.component?this.component.multipleInstances?t:zl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F9(r){return r===zl?void 0:r}function B9(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new D9(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nr||(Nr={}));const z9={debug:Nr.DEBUG,verbose:Nr.VERBOSE,info:Nr.INFO,warn:Nr.WARN,error:Nr.ERROR,silent:Nr.SILENT},V9=Nr.INFO,q9={[Nr.DEBUG]:"log",[Nr.VERBOSE]:"log",[Nr.INFO]:"info",[Nr.WARN]:"warn",[Nr.ERROR]:"error"},H9=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=q9[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ny{constructor(t){this.name=t,this._logLevel=V9,this._logHandler=H9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?z9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nr.DEBUG,...t),this._logHandler(this,Nr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nr.VERBOSE,...t),this._logHandler(this,Nr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nr.INFO,...t),this._logHandler(this,Nr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nr.WARN,...t),this._logHandler(this,Nr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nr.ERROR,...t),this._logHandler(this,Nr.ERROR,...t)}}const $9=(r,t)=>t.some(e=>r instanceof e);let Jb,e5;function W9(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X9(){return e5||(e5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,v1=new WeakMap,O_=new WeakMap,W0=new WeakMap,iy=new WeakMap;function K9(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{e(tl(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&L_.set(e,r)}).catch(()=>{}),iy.set(t,r),t}function G9(r){if(v1.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{e(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});v1.set(r,t)}let b1={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return v1.get(r);if(t==="objectStoreNames")return r.objectStoreNames||O_.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return tl(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Y9(r){b1=r(b1)}function Q9(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(X0(this),t,...e);return O_.set(n,t.sort?t.sort():[t]),tl(n)}:X9().includes(r)?function(...t){return r.apply(X0(this),t),tl(L_.get(this))}:function(...t){return tl(r.apply(X0(this),t))}}function Z9(r){return typeof r=="function"?Q9(r):(r instanceof IDBTransaction&&G9(r),$9(r,W9())?new Proxy(r,b1):r)}function tl(r){if(r instanceof IDBRequest)return K9(r);if(W0.has(r))return W0.get(r);const t=Z9(r);return t!==r&&(W0.set(r,t),iy.set(t,r)),t}const X0=r=>iy.get(r);function J9(r,t,{blocked:e,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,t),u=tl(a);return n&&a.addEventListener("upgradeneeded",o=>{n(tl(a.result),o.oldVersion,o.newVersion,tl(a.transaction),o)}),e&&a.addEventListener("blocked",o=>e(o.oldVersion,o.newVersion,o)),u.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),u}const eE=["get","getKey","getAll","getAllKeys","count"],tE=["put","add","delete","clear"],K0=new Map;function t5(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(K0.get(t))return K0.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=tE.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||eE.includes(e)))return;const i=async function(a,...u){const o=this.transaction(a,s?"readwrite":"readonly");let l=o.store;return n&&(l=l.index(u.shift())),(await Promise.all([l[e](...u),s&&o.done]))[0]};return K0.set(t,i),i}Y9(r=>({...r,get:(t,e,n)=>t5(t,e)||r.get(t,e,n),has:(t,e)=>!!t5(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nE(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function nE(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const w1="@firebase/app",r5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new ny("@firebase/app"),iE="@firebase/app-compat",sE="@firebase/analytics-compat",aE="@firebase/analytics",oE="@firebase/app-check-compat",lE="@firebase/app-check",uE="@firebase/auth",cE="@firebase/auth-compat",hE="@firebase/database",fE="@firebase/data-connect",dE="@firebase/database-compat",pE="@firebase/functions",mE="@firebase/functions-compat",gE="@firebase/installations",yE="@firebase/installations-compat",vE="@firebase/messaging",bE="@firebase/messaging-compat",wE="@firebase/performance",_E="@firebase/performance-compat",xE="@firebase/remote-config",SE="@firebase/remote-config-compat",kE="@firebase/storage",EE="@firebase/storage-compat",AE="@firebase/firestore",TE="@firebase/vertexai-preview",CE="@firebase/firestore-compat",NE="firebase",PE="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="[DEFAULT]",IE={[w1]:"fire-core",[iE]:"fire-core-compat",[aE]:"fire-analytics",[sE]:"fire-analytics-compat",[lE]:"fire-app-check",[oE]:"fire-app-check-compat",[uE]:"fire-auth",[cE]:"fire-auth-compat",[hE]:"fire-rtdb",[fE]:"fire-data-connect",[dE]:"fire-rtdb-compat",[pE]:"fire-fn",[mE]:"fire-fn-compat",[gE]:"fire-iid",[yE]:"fire-iid-compat",[vE]:"fire-fcm",[bE]:"fire-fcm-compat",[wE]:"fire-perf",[_E]:"fire-perf-compat",[xE]:"fire-rc",[SE]:"fire-rc-compat",[kE]:"fire-gcs",[EE]:"fire-gcs-compat",[AE]:"fire-fst",[CE]:"fire-fst-compat",[TE]:"fire-vertex","fire-js":"fire-js",[NE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,RE=new Map,x1=new Map;function n5(r,t){try{r.container.addComponent(t)}catch(e){Qa.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function cu(r){const t=r.name;if(x1.has(t))return Qa.debug(`There were multiple attempts to register component ${t}.`),!1;x1.set(t,r);for(const e of Kp.values())n5(e,r);for(const e of RE.values())n5(e,r);return!0}function Nm(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function za(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rl=new If("app","Firebase",ME);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=PE;function D_(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:_1,automaticDataCollectionEnabled:!1},t),s=n.name;if(typeof s!="string"||!s)throw rl.create("bad-app-name",{appName:String(s)});if(e||(e=R_()),!e)throw rl.create("no-options");const i=Kp.get(s);if(i){if(Xp(e,i.options)&&Xp(n,i.config))return i;throw rl.create("duplicate-app",{appName:s})}const a=new U9(s);for(const o of x1.values())a.addComponent(o);const u=new jE(e,n,a);return Kp.set(s,u),u}function sy(r=_1){const t=Kp.get(r);if(!t&&r===_1&&R_())return D_();if(!t)throw rl.create("no-app",{appName:r});return t}function ga(r,t,e){var n;let s=(n=IE[r])!==null&&n!==void 0?n:r;e&&(s+=`-${e}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const u=[`Unable to register library "${s}" with version "${t}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qa.warn(u.join(" "));return}cu(new hl(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="firebase-heartbeat-database",OE=1,hf="firebase-heartbeat-store";let G0=null;function F_(){return G0||(G0=J9(LE,OE,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(hf)}catch(e){console.warn(e)}}}}).catch(r=>{throw rl.create("idb-open",{originalErrorMessage:r.message})})),G0}async function DE(r){try{const e=(await F_()).transaction(hf),n=await e.objectStore(hf).get(B_(r));return await e.done,n}catch(t){if(t instanceof Sa)Qa.warn(t.message);else{const e=rl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Qa.warn(e.message)}}}async function i5(r,t){try{const n=(await F_()).transaction(hf,"readwrite");await n.objectStore(hf).put(t,B_(r)),await n.done}catch(e){if(e instanceof Sa)Qa.warn(e.message);else{const n=rl.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}function B_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=1024,BE=30*24*60*60*1e3;class UE{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new VE(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s5();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=BE}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Qa.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s5(),{heartbeatsToSend:n,unsentEntries:s}=zE(this._heartbeatsCache.heartbeats),i=Wp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Qa.warn(e),""}}}function s5(){return new Date().toISOString().substring(0,10)}function zE(r,t=FE){const e=[];let n=r.slice();for(const s of r){const i=e.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),a5(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),a5(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class VE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C9()?N9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DE(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return i5(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return i5(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function a5(r){return Wp(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){cu(new hl("platform-logger",t=>new rE(t),"PRIVATE")),cu(new hl("heartbeat",t=>new UE(t),"PRIVATE")),ga(w1,r5,r),ga(w1,r5,"esm2017"),ga("fire-js","")}qE("");function ay(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(e[n[s]]=r[n[s]]);return e}function U_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HE=U_,z_=new If("auth","Firebase",U_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new ny("@firebase/auth");function $E(r,...t){Gp.logLevel<=Nr.WARN&&Gp.warn(`Auth (${vu}): ${r}`,...t)}function fp(r,...t){Gp.logLevel<=Nr.ERROR&&Gp.error(`Auth (${vu}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(r,...t){throw oy(r,...t)}function ya(r,...t){return oy(r,...t)}function V_(r,t,e){const n=Object.assign(Object.assign({},HE()),{[t]:e});return new If("auth","Firebase",n).create(t,{appName:r.name})}function nl(r){return V_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return z_.create(r,...t)}function ar(r,t,...e){if(!r)throw oy(t,...e)}function Va(r){const t="INTERNAL ASSERTION FAILED: "+r;throw fp(t),new Error(t)}function Za(r,t){r||Va(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function WE(){return o5()==="http:"||o5()==="https:"}function o5(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WE()||k9()||"connection"in navigator)?navigator.onLine:!0}function KE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e){this.shortDelay=t,this.longDelay=e,Za(e>t,"Short delay should be less than long delay!"),this.isMobile=_9()||E9()}get(){return XE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(r,t){Za(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Mf(3e4,6e4);function bu(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function _l(r,t,e,n,s={}){return H_(r,s,async()=>{let i={},a={};n&&(t==="GET"?a=n:i={body:JSON.stringify(n)});const u=Rf(Object.assign({key:r.config.apiKey},a)).slice(1),o=await r._getAdditionalHeaders();o["Content-Type"]="application/json",r.languageCode&&(o["X-Firebase-Locale"]=r.languageCode);const l=Object.assign({method:t,headers:o},i);return S9()||(l.referrerPolicy="no-referrer"),q_.fetch()($_(r,r.config.apiHost,e,u),l)})}async function H_(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},GE),t);try{const s=new ZE(r),i=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Od(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[o,l]=u.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(r,"credential-already-in-use",a);if(o==="EMAIL_EXISTS")throw Od(r,"email-already-in-use",a);if(o==="USER_DISABLED")throw Od(r,"user-disabled",a);const c=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw V_(r,c,l);Gs(r,c)}}catch(s){if(s instanceof Sa)throw s;Gs(r,"network-request-failed",{message:String(s)})}}async function Pm(r,t,e,n,s={}){const i=await _l(r,t,e,n,s);return"mfaPendingCredential"in i&&Gs(r,"multi-factor-auth-required",{_serverResponse:i}),i}function $_(r,t,e,n){const s=`${t}${e}?${n}`;return r.config.emulator?ly(r.config,s):`${r.config.apiScheme}://${s}`}function QE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZE{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(ya(this.auth,"network-request-failed")),YE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Od(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=ya(r,t,n);return s.customData._tokenResponse=e,s}function l5(r){return r!==void 0&&r.enterprise!==void 0}class JE{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return QE(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function eA(r,t){return _l(r,"GET","/v2/recaptchaConfig",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(r,t){return _l(r,"POST","/v1/accounts:delete",t)}async function W_(r,t){return _l(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rA(r,t=!1){const e=en(r),n=await e.getIdToken(t),s=uy(n);ar(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:Oh(Y0(s.auth_time)),issuedAtTime:Oh(Y0(s.iat)),expirationTime:Oh(Y0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Y0(r){return Number(r)*1e3}function uy(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{const s=N_(e);return s?JSON.parse(s):(fp("Failed to decode base64 JWT payload"),null)}catch(s){return fp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function u5(r){const t=uy(r);return ar(t,"internal-error"),ar(typeof t.exp<"u","internal-error"),ar(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof Sa&&nA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function nA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oh(this.lastLoginAt),this.creationTime=Oh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(r){var t;const e=r.auth,n=await r.getIdToken(),s=await ff(r,W_(e,{idToken:n}));ar(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];r._notifyReloadListener(i);const a=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?X_(i.providerUserInfo):[],u=aA(r.providerData,a),o=r.isAnonymous,l=!(r.email&&i.passwordHash)&&!(u!=null&&u.length),c=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new k1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(r,d)}async function sA(r){const t=en(r);await Yp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aA(r,t){return[...r.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function X_(r){return r.map(t=>{var{providerId:e}=t,n=ay(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(r,t){const e=await H_(r,{},async()=>{const n=Rf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=$_(r,s,"/v1/token",`key=${i}`),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",q_.fetch()(a,{method:"POST",headers:u,body:n})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function lA(r,t){return _l(r,"POST","/v2/accounts:revokeToken",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ar(t.idToken,"internal-error"),ar(typeof t.idToken<"u","internal-error"),ar(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):u5(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ar(t.length!==0,"internal-error");const e=u5(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ar(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:i}=await oA(t,e);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:i}=e,a=new gc;return n&&(ar(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),s&&(ar(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(ar(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r,t){ar(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qa{constructor(t){var{uid:e,auth:n,stsTokenManager:s}=t,i=ay(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new k1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await ff(this,this.stsTokenManager.getToken(this.auth,t));return ar(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return rA(this,t)}reload(){return sA(this)}_assign(t){this!==t&&(ar(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new qa(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ar(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Yp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(za(this.auth.app))return Promise.reject(nl(this.auth));const t=await this.getIdToken();return await ff(this,tA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,s,i,a,u,o,l,c;const d=(n=e.displayName)!==null&&n!==void 0?n:void 0,f=(s=e.email)!==null&&s!==void 0?s:void 0,h=(i=e.phoneNumber)!==null&&i!==void 0?i:void 0,g=(a=e.photoURL)!==null&&a!==void 0?a:void 0,v=(u=e.tenantId)!==null&&u!==void 0?u:void 0,p=(o=e._redirectEventId)!==null&&o!==void 0?o:void 0,y=(l=e.createdAt)!==null&&l!==void 0?l:void 0,m=(c=e.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:k,isAnonymous:N,providerData:B,stsTokenManager:j}=e;ar(b&&j,t,"internal-error");const T=gc.fromJSON(this.name,j);ar(typeof b=="string",t,"internal-error"),Co(d,t.name),Co(f,t.name),ar(typeof k=="boolean",t,"internal-error"),ar(typeof N=="boolean",t,"internal-error"),Co(h,t.name),Co(g,t.name),Co(v,t.name),Co(p,t.name),Co(y,t.name),Co(m,t.name);const M=new qa({uid:b,auth:t,email:f,emailVerified:k,displayName:d,isAnonymous:N,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:m});return B&&Array.isArray(B)&&(M.providerData=B.map(U=>Object.assign({},U))),p&&(M._redirectEventId=p),M}static async _fromIdTokenResponse(t,e,n=!1){const s=new gc;s.updateFromServerResponse(e);const i=new qa({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await Yp(i),i}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];ar(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?X_(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new gc;u.updateFromIdToken(n);const o=new qa({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:a}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new k1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new Map;function Ha(r){Za(r instanceof Function,"Expected a class definition");let t=c5.get(r);return t?(Za(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,c5.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}K_.type="NONE";const h5=K_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,t,e){return`firebase:${r}:${t}:${e}`}class yc{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=dp(this.userKey,s.apiKey,i),this.fullPersistenceKey=dp("persistence",s.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qa._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new yc(Ha(h5),t,n);const s=(await Promise.all(e.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Ha(h5);const a=dp(n,t.config.apiKey,t.name);let u=null;for(const l of e)try{const c=await l._get(a);if(c){const d=qa._fromJSON(t,c);l!==i&&(u=d),i=l;break}}catch{}const o=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new yc(i,t,n):(i=o[0],u&&await i._set(a,u.toJSON()),await Promise.all(e.map(async l=>{if(l!==i)try{await l._remove(a)}catch{}})),new yc(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Z_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ex(t))return"Blackberry";if(tx(t))return"Webos";if(Y_(t))return"Safari";if((t.includes("chrome/")||Q_(t))&&!t.includes("edge/"))return"Chrome";if(J_(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function G_(r=_i()){return/firefox\//i.test(r)}function Y_(r=_i()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Q_(r=_i()){return/crios\//i.test(r)}function Z_(r=_i()){return/iemobile/i.test(r)}function J_(r=_i()){return/android/i.test(r)}function ex(r=_i()){return/blackberry/i.test(r)}function tx(r=_i()){return/webos/i.test(r)}function cy(r=_i()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uA(r=_i()){var t;return cy(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cA(){return A9()&&document.documentMode===10}function rx(r=_i()){return cy(r)||J_(r)||tx(r)||ex(r)||/windows phone/i.test(r)||Z_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,t=[]){let e;switch(r){case"Browser":e=f5(_i());break;case"Worker":e=`${f5(_i())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${vu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=i=>new Promise((a,u)=>{try{const o=t(i);a(o)}catch(o){u(o)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(r,t={}){return _l(r,"GET","/v2/passwordPolicy",bu(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=6;class pA{constructor(t){var e,n,s,i;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:dA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,s,i,a,u;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,o),this.validatePasswordCharacterOptions(t,o),o.isValid&&(o.isValid=(e=o.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),o.isValid&&(o.isValid=(n=o.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(a=o.containsNumericCharacter)!==null&&a!==void 0?a:!0),o.isValid&&(o.isValid=(u=o.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),o}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d5(this),this.idTokenSubscription=new d5(this),this.beforeStateQueue=new hA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ha(e)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await yc.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await W_(this,{idToken:t}),n=await qa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(za(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(t);(!a||a===u)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ar(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Yp(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KE()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(za(this.app))return Promise.reject(nl(this));const e=t?en(t):null;return e&&ar(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ar(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return za(this.app)?Promise.reject(nl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return za(this.app)?Promise.reject(nl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ha(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fA(this),e=new pA(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new If("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await lA(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ha(t)||this._popupRedirectResolver;ar(e,this,"argument-error"),this.redirectPersistenceManager=await yc.create(this,[Ha(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const i=typeof e=="function"?e:e.next.bind(e);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ar(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof e=="function"){const o=t.addObserver(e,n,s);return()=>{a=!0,o()}}else{const o=t.addObserver(e);return()=>{a=!0,o()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ar(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&$E(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fc(r){return en(r)}class d5{constructor(t){this.auth=t,this.observer=null,this.addObserver=j9(e=>this.observer=e)}get next(){return ar(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gA(r){Im=r}function ix(r){return Im.loadJS(r)}function yA(){return Im.recaptchaEnterpriseScript}function vA(){return Im.gapiScript}function bA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const wA="recaptcha-enterprise",_A="NO_RECAPTCHA";class xA{constructor(t){this.type=wA,this.auth=Fc(t)}async verify(t="verify",e=!1){async function n(i){if(!e){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,u)=>{eA(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const l=new JE(o);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,a(l.siteKey)}}).catch(o=>{u(o)})})}function s(i,a,u){const o=window.grecaptcha;l5(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:t}).then(l=>{a(l)}).catch(()=>{a(_A)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{n(this.auth).then(u=>{if(!e&&l5(window.grecaptcha))s(u,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let o=yA();o.length!==0&&(o+=u),ix(o).then(()=>{s(u,i,a)}).catch(l=>{a(l)})}}).catch(u=>{a(u)})})}}async function p5(r,t,e,n=!1){const s=new xA(r);let i;try{i=await s.verify(e)}catch{i=await s.verify(e,!0)}const a=Object.assign({},t);return n?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function m5(r,t,e,n){var s;if(!((s=r._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await p5(r,t,e,e==="getOobCode");return n(r,i)}else return n(r,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await p5(r,t,e,e==="getOobCode");return n(r,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(r,t){const e=Nm(r,"auth");if(e.isInitialized()){const s=e.getImmediate(),i=e.getOptions();if(Xp(i,t??{}))return s;Gs(s,"already-initialized")}return e.initialize({options:t})}function kA(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(Ha);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function EA(r,t,e){const n=Fc(r);ar(n._canInitEmulator,n,"emulator-config-failed"),ar(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,i=sx(t),{host:a,port:u}=AA(t),o=u===null?"":`:${u}`;n.config.emulator={url:`${i}//${a}${o}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),TA()}function sx(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function AA(r){const t=sx(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:g5(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:g5(a)}}}function g5(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function TA(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Va("not implemented")}_getIdTokenResponse(t){return Va("not implemented")}_linkToIdToken(t,e){return Va("not implemented")}_getReauthenticationResolver(t){return Va("not implemented")}}async function CA(r,t){return _l(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(r,t){return Pm(r,"POST","/v1/accounts:signInWithPassword",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(r,t){return Pm(r,"POST","/v1/accounts:signInWithEmailLink",bu(r,t))}async function IA(r,t){return Pm(r,"POST","/v1/accounts:signInWithEmailLink",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends hy{constructor(t,e,n,s=null){super("password",n),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new df(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new df(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m5(t,e,"signInWithPassword",NA);case"emailLink":return PA(t,{email:this._email,oobCode:this._password});default:Gs(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m5(t,n,"signUpPassword",CA);case"emailLink":return IA(t,{idToken:e,email:this._email,oobCode:this._password});default:Gs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(r,t){return Pm(r,"POST","/v1/accounts:signInWithIdp",bu(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="http://localhost";class hu extends hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new hu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Gs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s}=e,i=ay(e,["providerId","signInMethod"]);if(!n||!s)return null;const a=new hu(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return vc(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,vc(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,vc(t,e)}buildRequest(){const t={requestUri:RA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Rf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jA(r){const t=_h(xh(r)).link,e=t?_h(xh(t)).deep_link_id:null,n=_h(xh(r)).deep_link_id;return(n?_h(xh(n)).link:null)||n||e||t||r}class fy{constructor(t){var e,n,s,i,a,u;const o=_h(xh(t)),l=(e=o.apiKey)!==null&&e!==void 0?e:null,c=(n=o.oobCode)!==null&&n!==void 0?n:null,d=MA((s=o.mode)!==null&&s!==void 0?s:null);ar(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=o.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=o.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=jA(t);try{return new fy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(t,e){return df._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=fy.parseLink(e);return ar(n,"argument-error"),df._fromEmailAndCode(t,n.code,n.tenantId)}}Bc.PROVIDER_ID="password";Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends ax{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends jf{constructor(){super("facebook.com")}static credential(t){return hu._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oo.credentialFromTaggedObject(t)}static credentialFromError(t){return Oo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oo.credential(t.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends jf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return hu._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Do.credentialFromTaggedObject(t)}static credentialFromError(t){return Do.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Do.credential(e,n)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends jf{constructor(){super("github.com")}static credential(t){return hu._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fo.credentialFromTaggedObject(t)}static credentialFromError(t){return Fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fo.credential(t.oauthAccessToken)}catch{return null}}}Fo.GITHUB_SIGN_IN_METHOD="github.com";Fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends jf{constructor(){super("twitter.com")}static credential(t,e){return hu._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Bo.credential(e,n)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const i=await qa._fromIdTokenResponse(t,n,s),a=y5(n);return new Tc({user:i,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=y5(n);return new Tc({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function y5(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Sa{constructor(t,e,n,s){var i;super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new Qp(t,e,n,s)}}function ox(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qp._fromErrorAndOperation(r,i,t,n):i})}async function LA(r,t,e=!1){const n=await ff(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Tc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,t,e=!1){const{auth:n}=r;if(za(n.app))return Promise.reject(nl(n));const s="reauthenticate";try{const i=await ff(r,ox(n,s,t,r),e);ar(i.idToken,n,"internal-error");const a=uy(i.idToken);ar(a,n,"internal-error");const{sub:u}=a;return ar(r.uid===u,n,"user-mismatch"),Tc._forOperation(r,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gs(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(r,t,e=!1){if(za(r.app))return Promise.reject(nl(r));const n="signIn",s=await ox(r,n,t),i=await Tc._fromIdTokenResponse(r,n,s);return e||await r._updateCurrentUser(i.user),i}async function DA(r,t){return lx(Fc(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r){const t=Fc(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function BA(r,t,e){return za(r.app)?Promise.reject(nl(r)):DA(en(r),Bc.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&FA(r),n})}function UA(r,t,e,n){return en(r).onIdTokenChanged(t,e,n)}function zA(r,t,e){return en(r).beforeAuthStateChanged(t,e)}function VA(r,t,e,n){return en(r).onAuthStateChanged(t,e,n)}function qA(r){return en(r).signOut()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1e3,$A=10;class cx extends ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,u,o)=>{this.notifyListeners(a,o)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);cA()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,$A):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},HA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}cx.type="LOCAL";const WA=cx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}hx.type="SESSION";const fx=hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new Rm(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:i}=e.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(a).map(async l=>l(e.origin,i)),o=await XA(u);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:o})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,o)=>{const l=dy("",20);s.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(f.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(){return window}function GA(r){va().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof va().WorkerGlobalScope<"u"&&typeof va().importScripts=="function"}async function YA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZA(){return dx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebaseLocalStorageDb",JA=1,Jp="firebaseLocalStorage",mx="fbase_key";class Lf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Mm(r,t){return r.transaction([Jp],t?"readwrite":"readonly").objectStore(Jp)}function eT(){const r=indexedDB.deleteDatabase(px);return new Lf(r).toPromise()}function E1(){const r=indexedDB.open(px,JA);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Jp,{keyPath:mx})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Jp)?t(n):(n.close(),await eT(),t(await E1()))})})}async function v5(r,t,e){const n=Mm(r,!0).put({[mx]:t,value:e});return new Lf(n).toPromise()}async function tT(r,t){const e=Mm(r,!1).get(t),n=await new Lf(e).toPromise();return n===void 0?null:n.value}function b5(r,t){const e=Mm(r,!0).delete(t);return new Lf(e).toPromise()}const rT=800,nT=3;class gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>nT)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rm._getInstance(ZA()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await YA(),!this.activeServiceWorker)return;this.sender=new KA(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((e=n[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await E1();return await v5(t,Zp,"1"),await b5(t,Zp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v5(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>tT(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>b5(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Mm(s,!1).getAll();return new Lf(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gx.type="LOCAL";const iT=gx;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,t){return t?Ha(t):(ar(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends hy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return vc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return vc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function aT(r){return lx(r.auth,new py(r),r.bypassAuthState)}function oT(r){const{auth:t,user:e}=r;return ar(e,t,"internal-error"),OA(e,new py(r),r.bypassAuthState)}async function lT(r){const{auth:t,user:e}=r;return ar(e,t,"internal-error"),LA(e,new py(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e,n,s,i=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:i,error:a,type:u}=t;if(a){this.reject(a);return}const o={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(o))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aT;case"linkViaPopup":case"linkViaRedirect":return lT;case"reauthViaPopup":case"reauthViaRedirect":return oT;default:Gs(this.auth,"internal-error")}}resolve(t){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Mf(2e3,1e4);class uc extends yx{constructor(t,e,n,s,i){super(t,e,s,i),this.provider=n,this.authWindow=null,this.pollId=null,uc.currentPopupAction&&uc.currentPopupAction.cancel(),uc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ar(t,this.auth,"internal-error"),t}async onExecution(){Za(this.filter.length===1,"Popup operations only handle one event");const t=dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if(!((n=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uT.get())};t()}}uc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="pendingRedirect",pp=new Map;class hT extends yx{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=pp.get(this.auth._key());if(!t){try{const n=await fT(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}pp.set(this.auth._key(),t)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fT(r,t){const e=mT(t),n=pT(r);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}function dT(r,t){pp.set(r._key(),t)}function pT(r){return Ha(r._redirectPersistence)}function mT(r){return dp(cT,r.config.apiKey,r.name)}async function gT(r,t,e=!1){if(za(r.app))return Promise.reject(nl(r));const n=Fc(r),s=sT(n,t),a=await new hT(n,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=10*60*1e3;class vT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bT(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!vx(t)){const s=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(ya(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yT&&this.cachedEventUids.clear(),this.cachedEventUids.has(w5(t))}saveEventToCache(t){this.cachedEventUids.add(w5(t)),this.lastProcessedEventTime=Date.now()}}function w5(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function vx({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(r,t={}){return _l(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xT=/^https?/;async function ST(r){if(r.config.emulator)return;const{authorizedDomains:t}=await wT(r);for(const e of t)try{if(kT(e))return}catch{}Gs(r,"unauthorized-domain")}function kT(r){const t=S1(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!xT.test(e))return!1;if(_T.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Mf(3e4,6e4);function _5(){const r=va().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function AT(r){return new Promise((t,e)=>{var n,s,i;function a(){_5(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_5(),e(ya(r,"network-request-failed"))},timeout:ET.get()})}if(!((s=(n=va().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=va().gapi)===null||i===void 0)&&i.load)a();else{const u=bA("iframefcb");return va()[u]=()=>{gapi.load?a():e(ya(r,"network-request-failed"))},ix(`${vA()}?onload=${u}`).catch(o=>e(o))}}).catch(t=>{throw mp=null,t})}let mp=null;function TT(r){return mp=mp||AT(r),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Mf(5e3,15e3),NT="__/auth/iframe",PT="emulator/auth/iframe",IT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MT(r){const t=r.config;ar(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?ly(t,PT):`https://${r.config.authDomain}/${NT}`,n={apiKey:t.apiKey,appName:r.name,v:vu},s=RT.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${e}?${Rf(n).slice(1)}`}async function jT(r){const t=await TT(r),e=va().gapi;return ar(e,r,"internal-error"),t.open({where:document.body,url:MT(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IT,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=ya(r,"network-request-failed"),u=va().setTimeout(()=>{i(a)},CT.get());function o(){va().clearTimeout(u),s(n)}n.ping(o).then(o,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OT=500,DT=600,FT="_blank",BT="http://localhost";class x5{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UT(r,t,e,n=OT,s=DT){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const o=Object.assign(Object.assign({},LT),{width:n.toString(),height:s.toString(),top:i,left:a}),l=_i().toLowerCase();e&&(u=Q_(l)?FT:e),G_(l)&&(t=t||BT,o.scrollbars="yes");const c=Object.entries(o).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(uA(l)&&u!=="_self")return zT(t||"",u),new x5(null);const d=window.open(t||"",u,c);ar(d,r,"popup-blocked");try{d.focus()}catch{}return new x5(d)}function zT(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__/auth/handler",qT="emulator/auth/handler",HT=encodeURIComponent("fac");async function S5(r,t,e,n,s,i){ar(r.config.authDomain,r,"auth-domain-config-required"),ar(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:vu,eventId:s};if(t instanceof ax){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",M9(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(t instanceof jf){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}r.tenantId&&(a.tid=r.tenantId);const u=a;for(const c of Object.keys(u))u[c]===void 0&&delete u[c];const o=await r._getAppCheckToken(),l=o?`#${HT}=${encodeURIComponent(o)}`:"";return`${$T(r)}?${Rf(u).slice(1)}${l}`}function $T({config:r}){return r.emulator?ly(r,qT):`https://${r.authDomain}/${VT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="webStorageSupport";class WT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=gT,this._overrideRedirectResult=dT}async _openPopup(t,e,n,s){var i;Za((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await S5(t,e,n,S1(),s);return UT(t,a,dy())}async _openRedirect(t,e,n,s){await this._originValidation(t);const i=await S5(t,e,n,S1(),s);return GA(i),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:i}=this.eventManagers[e];return s?Promise.resolve(s):(Za(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await jT(t),n=new vT(t);return e.register("authEvent",s=>(ar(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Q0,{type:Q0},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Q0];a!==void 0&&e(!!a),Gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ST(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return rx()||Y_()||cy()}}const XT=WT;var k5="@firebase/auth",E5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ar(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YT(r){cu(new hl("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=n.options;ar(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:a,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(r)},l=new mA(n,s,i,o);return kA(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),cu(new hl("auth-internal",t=>{const e=Fc(t.getProvider("auth").getImmediate());return(n=>new KT(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ga(k5,E5,GT(r)),ga(k5,E5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=5*60,ZT=M_("authIdTokenMaxAge")||QT;let A5=null;const JT=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>ZT)return;const s=e==null?void 0:e.token;A5!==s&&(A5=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eC(r=sy()){const t=Nm(r,"auth");if(t.isInitialized())return t.getImmediate();const e=SA(r,{popupRedirectResolver:XT,persistence:[iT,WA,fx]}),n=M_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=JT(i.toString());zA(e,a,()=>a(e.currentUser)),UA(e,u=>a(u))}}const s=P_("auth");return s&&EA(e,`http://${s}`),e}function tC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}gA({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=s=>{const i=ya("internal-error");i.customData=s,e(i)},n.type="text/javascript",n.charset="UTF-8",tC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YT("Browser");var rC="firebase",nC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ga(rC,nC,"app");var T5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yl,bx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,T){function M(){}M.prototype=T.prototype,j.D=T.prototype,j.prototype=new M,j.prototype.constructor=j,j.C=function(U,O,I){for(var E=Array(arguments.length-2),R=2;R<arguments.length;R++)E[R-2]=arguments[R];return T.prototype[O].apply(U,E)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,T,M){M||(M=0);var U=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)U[O]=T.charCodeAt(M++)|T.charCodeAt(M++)<<8|T.charCodeAt(M++)<<16|T.charCodeAt(M++)<<24;else for(O=0;16>O;++O)U[O]=T[M++]|T[M++]<<8|T[M++]<<16|T[M++]<<24;T=j.g[0],M=j.g[1],O=j.g[2];var I=j.g[3],E=T+(I^M&(O^I))+U[0]+3614090360&4294967295;T=M+(E<<7&4294967295|E>>>25),E=I+(O^T&(M^O))+U[1]+3905402710&4294967295,I=T+(E<<12&4294967295|E>>>20),E=O+(M^I&(T^M))+U[2]+606105819&4294967295,O=I+(E<<17&4294967295|E>>>15),E=M+(T^O&(I^T))+U[3]+3250441966&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(I^M&(O^I))+U[4]+4118548399&4294967295,T=M+(E<<7&4294967295|E>>>25),E=I+(O^T&(M^O))+U[5]+1200080426&4294967295,I=T+(E<<12&4294967295|E>>>20),E=O+(M^I&(T^M))+U[6]+2821735955&4294967295,O=I+(E<<17&4294967295|E>>>15),E=M+(T^O&(I^T))+U[7]+4249261313&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(I^M&(O^I))+U[8]+1770035416&4294967295,T=M+(E<<7&4294967295|E>>>25),E=I+(O^T&(M^O))+U[9]+2336552879&4294967295,I=T+(E<<12&4294967295|E>>>20),E=O+(M^I&(T^M))+U[10]+4294925233&4294967295,O=I+(E<<17&4294967295|E>>>15),E=M+(T^O&(I^T))+U[11]+2304563134&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(I^M&(O^I))+U[12]+1804603682&4294967295,T=M+(E<<7&4294967295|E>>>25),E=I+(O^T&(M^O))+U[13]+4254626195&4294967295,I=T+(E<<12&4294967295|E>>>20),E=O+(M^I&(T^M))+U[14]+2792965006&4294967295,O=I+(E<<17&4294967295|E>>>15),E=M+(T^O&(I^T))+U[15]+1236535329&4294967295,M=O+(E<<22&4294967295|E>>>10),E=T+(O^I&(M^O))+U[1]+4129170786&4294967295,T=M+(E<<5&4294967295|E>>>27),E=I+(M^O&(T^M))+U[6]+3225465664&4294967295,I=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(I^T))+U[11]+643717713&4294967295,O=I+(E<<14&4294967295|E>>>18),E=M+(I^T&(O^I))+U[0]+3921069994&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(O^I&(M^O))+U[5]+3593408605&4294967295,T=M+(E<<5&4294967295|E>>>27),E=I+(M^O&(T^M))+U[10]+38016083&4294967295,I=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(I^T))+U[15]+3634488961&4294967295,O=I+(E<<14&4294967295|E>>>18),E=M+(I^T&(O^I))+U[4]+3889429448&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(O^I&(M^O))+U[9]+568446438&4294967295,T=M+(E<<5&4294967295|E>>>27),E=I+(M^O&(T^M))+U[14]+3275163606&4294967295,I=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(I^T))+U[3]+4107603335&4294967295,O=I+(E<<14&4294967295|E>>>18),E=M+(I^T&(O^I))+U[8]+1163531501&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(O^I&(M^O))+U[13]+2850285829&4294967295,T=M+(E<<5&4294967295|E>>>27),E=I+(M^O&(T^M))+U[2]+4243563512&4294967295,I=T+(E<<9&4294967295|E>>>23),E=O+(T^M&(I^T))+U[7]+1735328473&4294967295,O=I+(E<<14&4294967295|E>>>18),E=M+(I^T&(O^I))+U[12]+2368359562&4294967295,M=O+(E<<20&4294967295|E>>>12),E=T+(M^O^I)+U[5]+4294588738&4294967295,T=M+(E<<4&4294967295|E>>>28),E=I+(T^M^O)+U[8]+2272392833&4294967295,I=T+(E<<11&4294967295|E>>>21),E=O+(I^T^M)+U[11]+1839030562&4294967295,O=I+(E<<16&4294967295|E>>>16),E=M+(O^I^T)+U[14]+4259657740&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(M^O^I)+U[1]+2763975236&4294967295,T=M+(E<<4&4294967295|E>>>28),E=I+(T^M^O)+U[4]+1272893353&4294967295,I=T+(E<<11&4294967295|E>>>21),E=O+(I^T^M)+U[7]+4139469664&4294967295,O=I+(E<<16&4294967295|E>>>16),E=M+(O^I^T)+U[10]+3200236656&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(M^O^I)+U[13]+681279174&4294967295,T=M+(E<<4&4294967295|E>>>28),E=I+(T^M^O)+U[0]+3936430074&4294967295,I=T+(E<<11&4294967295|E>>>21),E=O+(I^T^M)+U[3]+3572445317&4294967295,O=I+(E<<16&4294967295|E>>>16),E=M+(O^I^T)+U[6]+76029189&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(M^O^I)+U[9]+3654602809&4294967295,T=M+(E<<4&4294967295|E>>>28),E=I+(T^M^O)+U[12]+3873151461&4294967295,I=T+(E<<11&4294967295|E>>>21),E=O+(I^T^M)+U[15]+530742520&4294967295,O=I+(E<<16&4294967295|E>>>16),E=M+(O^I^T)+U[2]+3299628645&4294967295,M=O+(E<<23&4294967295|E>>>9),E=T+(O^(M|~I))+U[0]+4096336452&4294967295,T=M+(E<<6&4294967295|E>>>26),E=I+(M^(T|~O))+U[7]+1126891415&4294967295,I=T+(E<<10&4294967295|E>>>22),E=O+(T^(I|~M))+U[14]+2878612391&4294967295,O=I+(E<<15&4294967295|E>>>17),E=M+(I^(O|~T))+U[5]+4237533241&4294967295,M=O+(E<<21&4294967295|E>>>11),E=T+(O^(M|~I))+U[12]+1700485571&4294967295,T=M+(E<<6&4294967295|E>>>26),E=I+(M^(T|~O))+U[3]+2399980690&4294967295,I=T+(E<<10&4294967295|E>>>22),E=O+(T^(I|~M))+U[10]+4293915773&4294967295,O=I+(E<<15&4294967295|E>>>17),E=M+(I^(O|~T))+U[1]+2240044497&4294967295,M=O+(E<<21&4294967295|E>>>11),E=T+(O^(M|~I))+U[8]+1873313359&4294967295,T=M+(E<<6&4294967295|E>>>26),E=I+(M^(T|~O))+U[15]+4264355552&4294967295,I=T+(E<<10&4294967295|E>>>22),E=O+(T^(I|~M))+U[6]+2734768916&4294967295,O=I+(E<<15&4294967295|E>>>17),E=M+(I^(O|~T))+U[13]+1309151649&4294967295,M=O+(E<<21&4294967295|E>>>11),E=T+(O^(M|~I))+U[4]+4149444226&4294967295,T=M+(E<<6&4294967295|E>>>26),E=I+(M^(T|~O))+U[11]+3174756917&4294967295,I=T+(E<<10&4294967295|E>>>22),E=O+(T^(I|~M))+U[2]+718787259&4294967295,O=I+(E<<15&4294967295|E>>>17),E=M+(I^(O|~T))+U[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(O+(E<<21&4294967295|E>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+I&4294967295}n.prototype.u=function(j,T){T===void 0&&(T=j.length);for(var M=T-this.blockSize,U=this.B,O=this.h,I=0;I<T;){if(O==0)for(;I<=M;)s(this,j,I),I+=this.blockSize;if(typeof j=="string"){for(;I<T;)if(U[O++]=j.charCodeAt(I++),O==this.blockSize){s(this,U),O=0;break}}else for(;I<T;)if(U[O++]=j[I++],O==this.blockSize){s(this,U),O=0;break}}this.h=O,this.o+=T},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;var M=8*this.o;for(T=j.length-8;T<j.length;++T)j[T]=M&255,M/=256;for(this.u(j),j=Array(16),T=M=0;4>T;++T)for(var U=0;32>U;U+=8)j[M++]=this.g[T]>>>U&255;return j};function i(j,T){var M=u;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=T(j)}function a(j,T){this.h=T;for(var M=[],U=!0,O=j.length-1;0<=O;O--){var I=j[O]|0;U&&I==T||(M[O]=I,U=!1)}this.g=M}var u={};function o(j){return-128<=j&&128>j?i(j,function(T){return new a([T|0],0>T?-1:0)}):new a([j|0],0>j?-1:0)}function l(j){if(isNaN(j)||!isFinite(j))return d;if(0>j)return p(l(-j));for(var T=[],M=1,U=0;j>=M;U++)T[U]=j/M|0,M*=4294967296;return new a(T,0)}function c(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return p(c(j.substring(1),T));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=l(Math.pow(T,8)),U=d,O=0;O<j.length;O+=8){var I=Math.min(8,j.length-O),E=parseInt(j.substring(O,O+I),T);8>I?(I=l(Math.pow(T,I)),U=U.j(I).add(l(E))):(U=U.j(M),U=U.add(l(E)))}return U}var d=o(0),f=o(1),h=o(16777216);r=a.prototype,r.m=function(){if(v(this))return-p(this).m();for(var j=0,T=1,M=0;M<this.g.length;M++){var U=this.i(M);j+=(0<=U?U:4294967296+U)*T,T*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(g(this))return"0";if(v(this))return"-"+p(this).toString(j);for(var T=l(Math.pow(j,6)),M=this,U="";;){var O=k(M,T).g;M=y(M,O.j(T));var I=((0<M.g.length?M.g[0]:M.h)>>>0).toString(j);if(M=O,g(M))return I+U;for(;6>I.length;)I="0"+I;U=I+U}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function g(j){if(j.h!=0)return!1;for(var T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function v(j){return j.h==-1}r.l=function(j){return j=y(this,j),v(j)?-1:g(j)?0:1};function p(j){for(var T=j.g.length,M=[],U=0;U<T;U++)M[U]=~j.g[U];return new a(M,~j.h).add(f)}r.abs=function(){return v(this)?p(this):this},r.add=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],U=0,O=0;O<=T;O++){var I=U+(this.i(O)&65535)+(j.i(O)&65535),E=(I>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);U=E>>>16,I&=65535,E&=65535,M[O]=E<<16|I}return new a(M,M[M.length-1]&-2147483648?-1:0)};function y(j,T){return j.add(p(T))}r.j=function(j){if(g(this)||g(j))return d;if(v(this))return v(j)?p(this).j(p(j)):p(p(this).j(j));if(v(j))return p(this.j(p(j)));if(0>this.l(h)&&0>j.l(h))return l(this.m()*j.m());for(var T=this.g.length+j.g.length,M=[],U=0;U<2*T;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var O=0;O<j.g.length;O++){var I=this.i(U)>>>16,E=this.i(U)&65535,R=j.i(O)>>>16,A=j.i(O)&65535;M[2*U+2*O]+=E*A,m(M,2*U+2*O),M[2*U+2*O+1]+=I*A,m(M,2*U+2*O+1),M[2*U+2*O+1]+=E*R,m(M,2*U+2*O+1),M[2*U+2*O+2]+=I*R,m(M,2*U+2*O+2)}for(U=0;U<T;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=T;U<2*T;U++)M[U]=0;return new a(M,0)};function m(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function b(j,T){this.g=j,this.h=T}function k(j,T){if(g(T))throw Error("division by zero");if(g(j))return new b(d,d);if(v(j))return T=k(p(j),T),new b(p(T.g),p(T.h));if(v(T))return T=k(j,p(T)),new b(p(T.g),T.h);if(30<j.g.length){if(v(j)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var M=f,U=T;0>=U.l(j);)M=N(M),U=N(U);var O=B(M,1),I=B(U,1);for(U=B(U,2),M=B(M,2);!g(U);){var E=I.add(U);0>=E.l(j)&&(O=O.add(M),I=E),U=B(U,1),M=B(M,1)}return T=y(j,O.j(T)),new b(O,T)}for(O=d;0<=j.l(T);){for(M=Math.max(1,Math.floor(j.m()/T.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),I=l(M),E=I.j(T);v(E)||0<E.l(j);)M-=U,I=l(M),E=I.j(T);g(I)&&(I=f),O=O.add(I),j=y(j,E)}return new b(O,j)}r.A=function(j){return k(this,j).h},r.and=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],U=0;U<T;U++)M[U]=this.i(U)&j.i(U);return new a(M,this.h&j.h)},r.or=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],U=0;U<T;U++)M[U]=this.i(U)|j.i(U);return new a(M,this.h|j.h)},r.xor=function(j){for(var T=Math.max(this.g.length,j.g.length),M=[],U=0;U<T;U++)M[U]=this.i(U)^j.i(U);return new a(M,this.h^j.h)};function N(j){for(var T=j.g.length+1,M=[],U=0;U<T;U++)M[U]=j.i(U)<<1|j.i(U-1)>>>31;return new a(M,j.h)}function B(j,T){var M=T>>5;T%=32;for(var U=j.g.length-M,O=[],I=0;I<U;I++)O[I]=0<T?j.i(I+M)>>>T|j.i(I+M+1)<<32-T:j.i(I+M);return new a(O,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,bx=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,Yl=a}).apply(typeof T5<"u"?T5:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wx,Sh,_x,gp,A1,xx,Sx,kx;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(z,J,re){return z==Array.prototype||z==Object.prototype||(z[J]=re.value),z};function e(z){z=[typeof globalThis=="object"&&globalThis,z,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var J=0;J<z.length;++J){var re=z[J];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}var n=e(this);function s(z,J){if(J)e:{var re=n;z=z.split(".");for(var de=0;de<z.length-1;de++){var je=z[de];if(!(je in re))break e;re=re[je]}z=z[z.length-1],de=re[z],J=J(de),J!=de&&J!=null&&t(re,z,{configurable:!0,writable:!0,value:J})}}function i(z,J){z instanceof String&&(z+="");var re=0,de=!1,je={next:function(){if(!de&&re<z.length){var qe=re++;return{value:J(qe,z[qe]),done:!1}}return de=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}s("Array.prototype.values",function(z){return z||function(){return i(this,function(J,re){return re})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function o(z){var J=typeof z;return J=J!="object"?J:z?Array.isArray(z)?"array":J:"null",J=="array"||J=="object"&&typeof z.length=="number"}function l(z){var J=typeof z;return J=="object"&&z!=null||J=="function"}function c(z,J,re){return z.call.apply(z.bind,arguments)}function d(z,J,re){if(!z)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,de),z.apply(J,je)}}return function(){return z.apply(J,arguments)}}function f(z,J,re){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(z,J){var re=Array.prototype.slice.call(arguments,1);return function(){var de=re.slice();return de.push.apply(de,arguments),z.apply(this,de)}}function g(z,J){function re(){}re.prototype=J.prototype,z.aa=J.prototype,z.prototype=new re,z.prototype.constructor=z,z.Qb=function(de,je,qe){for(var ct=Array(arguments.length-2),hr=2;hr<arguments.length;hr++)ct[hr-2]=arguments[hr];return J.prototype[je].apply(de,ct)}}function v(z){const J=z.length;if(0<J){const re=Array(J);for(let de=0;de<J;de++)re[de]=z[de];return re}return[]}function p(z,J){for(let re=1;re<arguments.length;re++){const de=arguments[re];if(o(de)){const je=z.length||0,qe=de.length||0;z.length=je+qe;for(let ct=0;ct<qe;ct++)z[je+ct]=de[ct]}else z.push(de)}}class y{constructor(J,re){this.i=J,this.j=re,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function m(z){return/^[\s\xa0]*$/.test(z)}function b(){var z=u.navigator;return z&&(z=z.userAgent)?z:""}function k(z){return k[" "](z),z}k[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function B(z,J,re){for(const de in z)J.call(re,z[de],de,z)}function j(z,J){for(const re in z)J.call(void 0,z[re],re,z)}function T(z){const J={};for(const re in z)J[re]=z[re];return J}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(z,J){let re,de;for(let je=1;je<arguments.length;je++){de=arguments[je];for(re in de)z[re]=de[re];for(let qe=0;qe<M.length;qe++)re=M[qe],Object.prototype.hasOwnProperty.call(de,re)&&(z[re]=de[re])}}function O(z){var J=1;z=z.split(":");const re=[];for(;0<J&&z.length;)re.push(z.shift()),J--;return z.length&&re.push(z.join(":")),re}function I(z){u.setTimeout(()=>{throw z},0)}function E(){var z=S;let J=null;return z.g&&(J=z.g,z.g=z.g.next,z.g||(z.h=null),J.next=null),J}class R{constructor(){this.h=this.g=null}add(J,re){const de=A.get();de.set(J,re),this.h?this.h.next=de:this.g=de,this.h=de}}var A=new y(()=>new w,z=>z.reset());class w{constructor(){this.next=this.g=this.h=null}set(J,re){this.h=J,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let _,x=!1,S=new R,C=()=>{const z=u.Promise.resolve(void 0);_=()=>{z.then(q)}};var q=()=>{for(var z;z=E();){try{z.h.call(z.g)}catch(re){I(re)}var J=A;J.j(z),100>J.h&&(J.h++,z.next=J.g,J.g=z)}x=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(z,J){this.type=z,this.g=this.target=J,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var z=!1,J=Object.defineProperty({},"passive",{get:function(){z=!0}});try{const re=()=>{};u.addEventListener("test",re,J),u.removeEventListener("test",re,J)}catch{}return z}();function Z(z,J){if($.call(this,z?z.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,z){var re=this.type=z.type,de=z.changedTouches&&z.changedTouches.length?z.changedTouches[0]:null;if(this.target=z.target||z.srcElement,this.g=J,J=z.relatedTarget){if(N){e:{try{k(J.nodeName);var je=!0;break e}catch{}je=!1}je||(J=null)}}else re=="mouseover"?J=z.fromElement:re=="mouseout"&&(J=z.toElement);this.relatedTarget=J,de?(this.clientX=de.clientX!==void 0?de.clientX:de.pageX,this.clientY=de.clientY!==void 0?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0),this.button=z.button,this.key=z.key||"",this.ctrlKey=z.ctrlKey,this.altKey=z.altKey,this.shiftKey=z.shiftKey,this.metaKey=z.metaKey,this.pointerId=z.pointerId||0,this.pointerType=typeof z.pointerType=="string"?z.pointerType:V[z.pointerType]||"",this.state=z.state,this.i=z,z.defaultPrevented&&Z.aa.h.call(this)}}g(Z,$);var V={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var z=this.i;z.preventDefault?z.preventDefault():z.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),F=0;function D(z,J,re,de,je){this.listener=z,this.proxy=null,this.src=J,this.type=re,this.capture=!!de,this.ha=je,this.key=++F,this.da=this.fa=!1}function K(z){z.da=!0,z.listener=null,z.proxy=null,z.src=null,z.ha=null}function ee(z){this.src=z,this.g={},this.h=0}ee.prototype.add=function(z,J,re,de,je){var qe=z.toString();z=this.g[qe],z||(z=this.g[qe]=[],this.h++);var ct=ie(z,J,de,je);return-1<ct?(J=z[ct],re||(J.fa=!1)):(J=new D(J,this.src,qe,!!de,je),J.fa=re,z.push(J)),J};function ue(z,J){var re=J.type;if(re in z.g){var de=z.g[re],je=Array.prototype.indexOf.call(de,J,void 0),qe;(qe=0<=je)&&Array.prototype.splice.call(de,je,1),qe&&(K(J),z.g[re].length==0&&(delete z.g[re],z.h--))}}function ie(z,J,re,de){for(var je=0;je<z.length;++je){var qe=z[je];if(!qe.da&&qe.listener==J&&qe.capture==!!re&&qe.ha==de)return je}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),ce={};function ne(z,J,re,de,je){if(Array.isArray(J)){for(var qe=0;qe<J.length;qe++)ne(z,J[qe],re,de,je);return null}return re=Ue(re),z&&z[Q]?z.K(J,re,l(de)?!!de.capture:!1,je):se(z,J,re,!1,de,je)}function se(z,J,re,de,je,qe){if(!J)throw Error("Invalid event type");var ct=l(je)?!!je.capture:!!je,hr=Ce(z);if(hr||(z[ae]=hr=new ee(z)),re=hr.add(J,re,de,ct,qe),re.proxy)return re;if(de=ye(),re.proxy=de,de.src=z,de.listener=re,z.addEventListener)X||(je=ct),je===void 0&&(je=!1),z.addEventListener(J.toString(),de,je);else if(z.attachEvent)z.attachEvent(xe(J.toString()),de);else if(z.addListener&&z.removeListener)z.addListener(de);else throw Error("addEventListener and attachEvent are unavailable.");return re}function ye(){function z(re){return J.call(z.src,z.listener,re)}const J=ke;return z}function me(z,J,re,de,je){if(Array.isArray(J))for(var qe=0;qe<J.length;qe++)me(z,J[qe],re,de,je);else de=l(de)?!!de.capture:!!de,re=Ue(re),z&&z[Q]?(z=z.i,J=String(J).toString(),J in z.g&&(qe=z.g[J],re=ie(qe,re,de,je),-1<re&&(K(qe[re]),Array.prototype.splice.call(qe,re,1),qe.length==0&&(delete z.g[J],z.h--)))):z&&(z=Ce(z))&&(J=z.g[J.toString()],z=-1,J&&(z=ie(J,re,de,je)),(re=-1<z?J[z]:null)&&_e(re))}function _e(z){if(typeof z!="number"&&z&&!z.da){var J=z.src;if(J&&J[Q])ue(J.i,z);else{var re=z.type,de=z.proxy;J.removeEventListener?J.removeEventListener(re,de,z.capture):J.detachEvent?J.detachEvent(xe(re),de):J.addListener&&J.removeListener&&J.removeListener(de),(re=Ce(J))?(ue(re,z),re.h==0&&(re.src=null,J[ae]=null)):K(z)}}}function xe(z){return z in ce?ce[z]:ce[z]="on"+z}function ke(z,J){if(z.da)z=!0;else{J=new Z(J,this);var re=z.listener,de=z.ha||z.src;z.fa&&_e(z),z=re.call(de,J)}return z}function Ce(z){return z=z[ae],z instanceof ee?z:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(z){return typeof z=="function"?z:(z[Oe]||(z[Oe]=function(J){return z.handleEvent(J)}),z[Oe])}function ve(){P.call(this),this.i=new ee(this),this.M=this,this.F=null}g(ve,P),ve.prototype[Q]=!0,ve.prototype.removeEventListener=function(z,J,re,de){me(this,z,J,re,de)};function Be(z,J){var re,de=z.F;if(de)for(re=[];de;de=de.F)re.push(de);if(z=z.M,de=J.type||J,typeof J=="string")J=new $(J,z);else if(J instanceof $)J.target=J.target||z;else{var je=J;J=new $(de,z),U(J,je)}if(je=!0,re)for(var qe=re.length-1;0<=qe;qe--){var ct=J.g=re[qe];je=$e(ct,de,!0,J)&&je}if(ct=J.g=z,je=$e(ct,de,!0,J)&&je,je=$e(ct,de,!1,J)&&je,re)for(qe=0;qe<re.length;qe++)ct=J.g=re[qe],je=$e(ct,de,!1,J)&&je}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var z=this.i,J;for(J in z.g){for(var re=z.g[J],de=0;de<re.length;de++)K(re[de]);delete z.g[J],z.h--}}this.F=null},ve.prototype.K=function(z,J,re,de){return this.i.add(String(z),J,!1,re,de)},ve.prototype.L=function(z,J,re,de){return this.i.add(String(z),J,!0,re,de)};function $e(z,J,re,de){if(J=z.i.g[String(J)],!J)return!0;J=J.concat();for(var je=!0,qe=0;qe<J.length;++qe){var ct=J[qe];if(ct&&!ct.da&&ct.capture==re){var hr=ct.listener,Er=ct.ha||ct.src;ct.fa&&ue(z.i,ct),je=hr.call(Er,de)!==!1&&je}}return je&&!de.defaultPrevented}function He(z,J,re){if(typeof z=="function")re&&(z=f(z,re));else if(z&&typeof z.handleEvent=="function")z=f(z.handleEvent,z);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:u.setTimeout(z,J||0)}function Xe(z){z.g=He(()=>{z.g=null,z.i&&(z.i=!1,Xe(z))},z.l);const J=z.h;z.h=null,z.m.apply(null,J)}class Te extends P{constructor(J,re){super(),this.m=J,this.l=re,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(z){P.call(this),this.h=z,this.g={}}g(ht,P);var Ze=[];function st(z){B(z.g,function(J,re){this.g.hasOwnProperty(re)&&_e(J)},z),z.g={}}ht.prototype.N=function(){ht.aa.N.call(this),st(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var it=u.JSON.stringify,yt=u.JSON.parse,vt=class{stringify(z){return u.JSON.stringify(z,void 0)}parse(z){return u.JSON.parse(z,void 0)}};function kt(){}kt.prototype.h=null;function or(z){return z.h||(z.h=z.i())}function wt(){}var Gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){$.call(this,"d")}g(Yt,$);function At(){$.call(this,"c")}g(At,$);var _t={},Mt=null;function Ot(){return Mt=Mt||new ve}_t.La="serverreachability";function Wt(z){$.call(this,_t.La,z)}g(Wt,$);function tr(z){const J=Ot();Be(J,new Wt(J))}_t.STAT_EVENT="statevent";function jt(z,J){$.call(this,_t.STAT_EVENT,z),this.stat=J}g(jt,$);function ut(z){const J=Ot();Be(J,new jt(J,z))}_t.Ma="timingevent";function ur(z,J){$.call(this,_t.Ma,z),this.size=J}g(ur,$);function Bt(z,J){if(typeof z!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){z()},J)}function Ee(){this.g=!0}Ee.prototype.xa=function(){this.g=!1};function Ie(z,J,re,de,je,qe){z.info(function(){if(z.g)if(qe)for(var ct="",hr=qe.split("&"),Er=0;Er<hr.length;Er++){var fr=hr[Er].split("=");if(1<fr.length){var Dr=fr[0];fr=fr[1];var Xr=Dr.split("_");ct=2<=Xr.length&&Xr[1]=="type"?ct+(Dr+"="+fr+"&"):ct+(Dr+"=redacted&")}}else ct=null;else ct=qe;return"XMLHTTP REQ ("+de+") [attempt "+je+"]: "+J+`
`+re+`
`+ct})}function We(z,J,re,de,je,qe,ct){z.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+je+"]: "+J+`
`+re+`
`+qe+" "+ct})}function at(z,J,re,de){z.info(function(){return"XMLHTTP TEXT ("+J+"): "+pt(z,re)+(de?" "+de:"")})}function Ut(z,J){z.info(function(){return"TIMEOUT: "+J})}Ee.prototype.info=function(){};function pt(z,J){if(!z.g)return J;if(!J)return null;try{var re=JSON.parse(J);if(re){for(z=0;z<re.length;z++)if(Array.isArray(re[z])){var de=re[z];if(!(2>de.length)){var je=de[1];if(Array.isArray(je)&&!(1>je.length)){var qe=je[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var ct=1;ct<je.length;ct++)je[ct]=""}}}}return it(re)}catch{return J}}var Pt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},It={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Et;function zt(){}g(zt,kt),zt.prototype.g=function(){return new XMLHttpRequest},zt.prototype.i=function(){return{}},Et=new zt;function Ct(z,J,re,de){this.j=z,this.i=J,this.l=re,this.R=de||1,this.U=new ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xt}function Xt(){this.i=null,this.g="",this.h=!1}var Cr={},Qe={};function bt(z,J,re){z.L=1,z.v=Li(gn(J)),z.m=re,z.P=!0,Ht(z,null)}function Ht(z,J){z.F=Date.now(),Me(z),z.A=gn(z.v);var re=z.A,de=z.R;Array.isArray(de)||(de=[String(de)]),er(re.i,"t",de),z.C=0,re=z.j.J,z.h=new Xt,z.g=oe(z.j,re?J:null,!z.m),0<z.O&&(z.M=new Te(f(z.Y,z,z.g),z.O)),J=z.U,re=z.g,de=z.ca;var je="readystatechange";Array.isArray(je)||(je&&(Ze[0]=je.toString()),je=Ze);for(var qe=0;qe<je.length;qe++){var ct=ne(re,je[qe],de||J.handleEvent,!1,J.h||J);if(!ct)break;J.g[ct.key]=ct}J=z.H?T(z.H):{},z.m?(z.u||(z.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",z.g.ea(z.A,z.u,z.m,J)):(z.u="GET",z.g.ea(z.A,z.u,null,J)),tr(),Ie(z.i,z.u,z.A,z.l,z.R,z.m)}Ct.prototype.ca=function(z){z=z.target;const J=this.M;J&&Ln(z)==3?J.j():this.Y(z)},Ct.prototype.Y=function(z){try{if(z==this.g)e:{const Xr=Ln(this.g);var J=this.g.Ba();const Ls=this.g.Z();if(!(3>Xr)&&(Xr!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||Xr!=4||J==7||(J==8||0>=Ls?tr(3):tr(2)),rt(this);var re=this.g.Z();this.X=re;t:if(nr(this)){var de=Eu(this.g);z="";var je=de.length,qe=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Nt(this);var ct="";break t}this.h.i=new u.TextDecoder}for(J=0;J<je;J++)this.h.h=!0,z+=this.h.i.decode(de[J],{stream:!(qe&&J==je-1)});de.length=0,this.h.g+=z,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=re==200,We(this.i,this.u,this.A,this.l,this.R,Xr,re),this.o){if(this.T&&!this.K){t:{if(this.g){var hr,Er=this.g;if((hr=Er.g?Er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(hr)){var fr=hr;break t}}fr=null}if(re=fr)at(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mt(this,re);else{this.o=!1,this.s=3,ut(12),ft(this),Nt(this);break e}}if(this.P){re=!0;let Gn;for(;!this.J&&this.C<ct.length;)if(Gn=be(this,ct),Gn==Qe){Xr==4&&(this.s=4,ut(14),re=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==Cr){this.s=4,ut(15),at(this.i,this.l,ct,"[Invalid Chunk]"),re=!1;break}else at(this.i,this.l,Gn,null),mt(this,Gn);if(nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xr!=4||ct.length!=0||this.h.h||(this.s=1,ut(16),re=!1),this.o=this.o&&re,!re)at(this.i,this.l,ct,"[Invalid Chunked Response]"),ft(this),Nt(this);else if(0<ct.length&&!this.W){this.W=!0;var Dr=this.j;Dr.g==this&&Dr.ba&&!Dr.M&&(Dr.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),fo(Dr),Dr.M=!0,ut(11))}}else at(this.i,this.l,ct,null),mt(this,ct);Xr==4&&ft(this),this.o&&!this.J&&(Xr==4?na(this.j,this):(this.o=!1,Me(this)))}else ta(this.g),re==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),ft(this),Nt(this)}}}catch{}finally{}};function nr(z){return z.g?z.u=="GET"&&z.L!=2&&z.j.Ca:!1}function be(z,J){var re=z.C,de=J.indexOf(`
`,re);return de==-1?Qe:(re=Number(J.substring(re,de)),isNaN(re)?Cr:(de+=1,de+re>J.length?Qe:(J=J.slice(de,de+re),z.C=de+re,J)))}Ct.prototype.cancel=function(){this.J=!0,ft(this)};function Me(z){z.S=Date.now()+z.I,Ke(z,z.I)}function Ke(z,J){if(z.B!=null)throw Error("WatchDog timer not null");z.B=Bt(f(z.ba,z),J)}function rt(z){z.B&&(u.clearTimeout(z.B),z.B=null)}Ct.prototype.ba=function(){this.B=null;const z=Date.now();0<=z-this.S?(Ut(this.i,this.A),this.L!=2&&(tr(),ut(17)),ft(this),this.s=2,Nt(this)):Ke(this,this.S-z)};function Nt(z){z.j.G==0||z.J||na(z.j,z)}function ft(z){rt(z);var J=z.M;J&&typeof J.ma=="function"&&J.ma(),z.M=null,st(z.U),z.g&&(J=z.g,z.g=null,J.abort(),J.ma())}function mt(z,J){try{var re=z.j;if(re.G!=0&&(re.g==z||_r(re.h,z))){if(!z.K&&_r(re.h,z)&&re.G==3){try{var de=re.Da.g.parse(J)}catch{de=null}if(Array.isArray(de)&&de.length==3){var je=de;if(je[0]==0){e:if(!re.u){if(re.g)if(re.g.F+3e3<z.F)js(re),lo(re);else break e;Ca(re),ut(18)}}else re.za=je[1],0<re.za-re.T&&37500>je[2]&&re.F&&re.v==0&&!re.C&&(re.C=Bt(f(re.Za,re),6e3));if(1>=Vt(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else oi(re,11)}else if((z.K||re.g==z)&&js(re),!m(J))for(je=re.Da.g.parse(J),J=0;J<je.length;J++){let fr=je[J];if(re.T=fr[0],fr=fr[1],re.G==2)if(fr[0]=="c"){re.K=fr[1],re.ia=fr[2];const Dr=fr[3];Dr!=null&&(re.la=Dr,re.j.info("VER="+re.la));const Xr=fr[4];Xr!=null&&(re.Aa=Xr,re.j.info("SVER="+re.Aa));const Ls=fr[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(de=1.5*Ls,re.L=de,re.j.info("backChannelRequestTimeoutMs_="+de)),de=re;const Gn=z.g;if(Gn){const ia=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var qe=de.h;qe.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(Kt(qe,qe.h),qe.h=null))}if(de.D){const sa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(de.ya=sa,Sr(de.I,de.D,sa))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-z.F,re.j.info("Handshake RTT: "+re.R+"ms")),de=re;var ct=z;if(de.qa=G(de,de.J?de.ia:null,de.W),ct.K){xr(de.h,ct);var hr=ct,Er=de.L;Er&&(hr.I=Er),hr.B&&(rt(hr),Me(hr)),de.g=ct}else ho(de);0<re.i.length&&uo(re)}else fr[0]!="stop"&&fr[0]!="close"||oi(re,7);else re.G==3&&(fr[0]=="stop"||fr[0]=="close"?fr[0]=="stop"?oi(re,7):Ms(re):fr[0]!="noop"&&re.l&&re.l.ta(fr),re.v=0)}}tr(4)}catch{}}var vr=class{constructor(z,J){this.g=z,this.map=J}};function rr(z){this.l=z||10,u.PerformanceNavigationTiming?(z=u.performance.getEntriesByType("navigation"),z=0<z.length&&(z[0].nextHopProtocol=="hq"||z[0].nextHopProtocol=="h2")):z=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=z?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(z){return z.h?!0:z.g?z.g.size>=z.j:!1}function Vt(z){return z.h?1:z.g?z.g.size:0}function _r(z,J){return z.h?z.h==J:z.g?z.g.has(J):!1}function Kt(z,J){z.g?z.g.add(J):z.h=J}function xr(z,J){z.h&&z.h==J?z.h=null:z.g&&z.g.has(J)&&z.g.delete(J)}rr.prototype.cancel=function(){if(this.i=jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const z of this.g.values())z.cancel();this.g.clear()}};function jr(z){if(z.h!=null)return z.i.concat(z.h.D);if(z.g!=null&&z.g.size!==0){let J=z.i;for(const re of z.g.values())J=J.concat(re.D);return J}return v(z.i)}function tn(z){if(z.V&&typeof z.V=="function")return z.V();if(typeof Map<"u"&&z instanceof Map||typeof Set<"u"&&z instanceof Set)return Array.from(z.values());if(typeof z=="string")return z.split("");if(o(z)){for(var J=[],re=z.length,de=0;de<re;de++)J.push(z[de]);return J}J=[],re=0;for(de in z)J[re++]=z[de];return J}function un(z){if(z.na&&typeof z.na=="function")return z.na();if(!z.V||typeof z.V!="function"){if(typeof Map<"u"&&z instanceof Map)return Array.from(z.keys());if(!(typeof Set<"u"&&z instanceof Set)){if(o(z)||typeof z=="string"){var J=[];z=z.length;for(var re=0;re<z;re++)J.push(re);return J}J=[],re=0;for(const de in z)J[re++]=de;return J}}}function Un(z,J){if(z.forEach&&typeof z.forEach=="function")z.forEach(J,void 0);else if(o(z)||typeof z=="string")Array.prototype.forEach.call(z,J,void 0);else for(var re=un(z),de=tn(z),je=de.length,qe=0;qe<je;qe++)J.call(void 0,de[qe],re&&re[qe],z)}var mn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xi(z,J){if(z){z=z.split("&");for(var re=0;re<z.length;re++){var de=z[re].indexOf("="),je=null;if(0<=de){var qe=z[re].substring(0,de);je=z[re].substring(de+1)}else qe=z[re];J(qe,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function Br(z){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,z instanceof Br){this.h=z.h,wr(this,z.j),this.o=z.o,this.g=z.g,yr(this,z.s),this.l=z.l;var J=z.i,re=new Si;re.i=J.i,J.g&&(re.g=new Map(J.g),re.h=J.h),ai(this,re),this.m=z.m}else z&&(J=String(z).match(mn))?(this.h=!1,wr(this,J[1]||"",!0),this.o=cn(J[2]||""),this.g=cn(J[3]||"",!0),yr(this,J[4]),this.l=cn(J[5]||"",!0),ai(this,J[6]||"",!0),this.m=cn(J[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Br.prototype.toString=function(){var z=[],J=this.j;J&&z.push(xn(J,hs,!0),":");var re=this.g;return(re||J=="file")&&(z.push("//"),(J=this.o)&&z.push(xn(J,hs,!0),"@"),z.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),re=this.s,re!=null&&z.push(":",String(re))),(re=this.l)&&(this.g&&re.charAt(0)!="/"&&z.push("/"),z.push(xn(re,re.charAt(0)=="/"?zn:Js,!0))),(re=this.i.toString())&&z.push("?",re),(re=this.m)&&z.push("#",xn(re,Ns)),z.join("")};function gn(z){return new Br(z)}function wr(z,J,re){z.j=re?cn(J,!0):J,z.j&&(z.j=z.j.replace(/:$/,""))}function yr(z,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);z.s=J}else z.s=null}function ai(z,J,re){J instanceof Si?(z.i=J,ea(z.i,z.h)):(re||(J=xn(J,Xn)),z.i=new Si(J,z.h))}function Sr(z,J,re){z.i.set(J,re)}function Li(z){return Sr(z,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),z}function cn(z,J){return z?J?decodeURI(z.replace(/%25/g,"%2525")):decodeURIComponent(z):""}function xn(z,J,re){return typeof z=="string"?(z=encodeURI(z).replace(J,Oi),re&&(z=z.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z):null}function Oi(z){return z=z.charCodeAt(0),"%"+(z>>4&15).toString(16)+(z&15).toString(16)}var hs=/[#\/\?@]/g,Js=/[#\?:]/g,zn=/[#\?]/g,Xn=/[#\?@]/g,Ns=/#/g;function Si(z,J){this.h=this.g=null,this.i=z||null,this.j=!!J}function Ur(z){z.g||(z.g=new Map,z.h=0,z.i&&xi(z.i,function(J,re){z.add(decodeURIComponent(J.replace(/\+/g," ")),re)}))}r=Si.prototype,r.add=function(z,J){Ur(this),this.i=null,z=ki(this,z);var re=this.g.get(z);return re||this.g.set(z,re=[]),re.push(J),this.h+=1,this};function Ps(z,J){Ur(z),J=ki(z,J),z.g.has(J)&&(z.i=null,z.h-=z.g.get(J).length,z.g.delete(J))}function fs(z,J){return Ur(z),J=ki(z,J),z.g.has(J)}r.forEach=function(z,J){Ur(this),this.g.forEach(function(re,de){re.forEach(function(je){z.call(J,je,de,this)},this)},this)},r.na=function(){Ur(this);const z=Array.from(this.g.values()),J=Array.from(this.g.keys()),re=[];for(let de=0;de<J.length;de++){const je=z[de];for(let qe=0;qe<je.length;qe++)re.push(J[de])}return re},r.V=function(z){Ur(this);let J=[];if(typeof z=="string")fs(this,z)&&(J=J.concat(this.g.get(ki(this,z))));else{z=Array.from(this.g.values());for(let re=0;re<z.length;re++)J=J.concat(z[re])}return J},r.set=function(z,J){return Ur(this),this.i=null,z=ki(this,z),fs(this,z)&&(this.h-=this.g.get(z).length),this.g.set(z,[J]),this.h+=1,this},r.get=function(z,J){return z?(z=this.V(z),0<z.length?String(z[0]):J):J};function er(z,J,re){Ps(z,J),0<re.length&&(z.i=null,z.g.set(ki(z,J),v(re)),z.h+=re.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const z=[],J=Array.from(this.g.keys());for(var re=0;re<J.length;re++){var de=J[re];const qe=encodeURIComponent(String(de)),ct=this.V(de);for(de=0;de<ct.length;de++){var je=qe;ct[de]!==""&&(je+="="+encodeURIComponent(String(ct[de]))),z.push(je)}}return this.i=z.join("&")};function ki(z,J){return J=String(J),z.j&&(J=J.toLowerCase()),J}function ea(z,J){J&&!z.j&&(Ur(z),z.i=null,z.g.forEach(function(re,de){var je=de.toLowerCase();de!=je&&(Ps(this,de),er(this,je,re))},z)),z.j=J}function ds(z,J){const re=new Ee;if(u.Image){const de=new Image;de.onload=h(Ki,re,"TestLoadImage: loaded",!0,J,de),de.onerror=h(Ki,re,"TestLoadImage: error",!1,J,de),de.onabort=h(Ki,re,"TestLoadImage: abort",!1,J,de),de.ontimeout=h(Ki,re,"TestLoadImage: timeout",!1,J,de),u.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=z}else J(!1)}function Su(z,J){const re=new Ee,de=new AbortController,je=setTimeout(()=>{de.abort(),Ki(re,"TestPingServer: timeout",!1,J)},1e4);fetch(z,{signal:de.signal}).then(qe=>{clearTimeout(je),qe.ok?Ki(re,"TestPingServer: ok",!0,J):Ki(re,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(je),Ki(re,"TestPingServer: error",!1,J)})}function Ki(z,J,re,de,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),de(re)}catch{}}function no(){this.g=new vt}function El(z,J,re){const de=re||"";try{Un(z,function(je,qe){let ct=je;l(je)&&(ct=it(je)),J.push(de+qe+"="+encodeURIComponent(ct))})}catch(je){throw J.push(de+"type="+encodeURIComponent("_badmap")),je}}function io(z){this.l=z.Ub||null,this.j=z.eb||!1}g(io,kt),io.prototype.g=function(){return new so(this.l,this.j)},io.prototype.i=function(z){return function(){return z}}({});function so(z,J){ve.call(this),this.D=z,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(so,ve),r=so.prototype,r.open=function(z,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=z,this.A=J,this.readyState=1,Gi(this)},r.send=function(z){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};z&&(J.body=z),(this.D||u).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},r.Sa=function(z){if(this.g&&(this.l=z,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=z.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")z.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in z){if(this.j=z.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ku(this)}else z.text().then(this.Ra.bind(this),this.ga.bind(this))};function ku(z){z.j.read().then(z.Pa.bind(z)).catch(z.ga.bind(z))}r.Pa=function(z){if(this.g){if(this.o&&z.value)this.response.push(z.value);else if(!this.o){var J=z.value?z.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!z.done}))&&(this.response=this.responseText+=J)}z.done?Is(this):Gi(this),this.readyState==3&&ku(this)}},r.Ra=function(z){this.g&&(this.response=this.responseText=z,Is(this))},r.Qa=function(z){this.g&&(this.response=z,Is(this))},r.ga=function(){this.g&&Is(this)};function Is(z){z.readyState=4,z.l=null,z.j=null,z.v=null,Gi(z)}r.setRequestHeader=function(z,J){this.u.append(z,J)},r.getResponseHeader=function(z){return this.h&&this.h.get(z.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const z=[],J=this.h.entries();for(var re=J.next();!re.done;)re=re.value,z.push(re[0]+": "+re[1]),re=J.next();return z.join(`\r
`)};function Gi(z){z.onreadystatechange&&z.onreadystatechange.call(z)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(z){this.m=z?"include":"same-origin"}});function Rs(z){let J="";return B(z,function(re,de){J+=de,J+=":",J+=re,J+=`\r
`}),J}function Al(z,J,re){e:{for(de in re){var de=!1;break e}de=!0}de||(re=Rs(re),typeof z=="string"?re!=null&&encodeURIComponent(String(re)):Sr(z,J,re))}function Or(z){ve.call(this),this.headers=new Map,this.o=z||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Or,ve);var Tl=/^https?$/i,ao=["POST","PUT"];r=Or.prototype,r.Ha=function(z){this.J=z},r.ea=function(z,J,re,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+z);J=J?J.toUpperCase():"GET",this.D=z,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Et.g(),this.v=this.o?or(this.o):or(Et),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(J,String(z),!0),this.B=!1}catch(qe){Cl(this,qe);return}if(z=re||"",re=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var je in de)re.set(je,de[je]);else if(typeof de.keys=="function"&&typeof de.get=="function")for(const qe of de.keys())re.set(qe,de.get(qe));else throw Error("Unknown input type for opt_headers: "+String(de));de=Array.from(re.keys()).find(qe=>qe.toLowerCase()=="content-type"),je=u.FormData&&z instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ao,J,void 0))||de||je||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,ct]of re)this.g.setRequestHeader(qe,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(z),this.u=!1}catch(qe){Cl(this,qe)}};function Cl(z,J){z.h=!1,z.g&&(z.j=!0,z.g.abort(),z.j=!1),z.l=J,z.m=5,Nl(z),Ea(z)}function Nl(z){z.A||(z.A=!0,Be(z,"complete"),Be(z,"error"))}r.abort=function(z){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=z||7,Be(this,"complete"),Be(this,"abort"),Ea(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),Or.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Pl(this):this.bb())},r.bb=function(){Pl(this)};function Pl(z){if(z.h&&typeof a<"u"&&(!z.v[1]||Ln(z)!=4||z.Z()!=2)){if(z.u&&Ln(z)==4)He(z.Ea,0,z);else if(Be(z,"readystatechange"),Ln(z)==4){z.h=!1;try{const ct=z.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var re;if(!(re=J)){var de;if(de=ct===0){var je=String(z.D).match(mn)[1]||null;!je&&u.self&&u.self.location&&(je=u.self.location.protocol.slice(0,-1)),de=!Tl.test(je?je.toLowerCase():"")}re=de}if(re)Be(z,"complete"),Be(z,"success");else{z.m=6;try{var qe=2<Ln(z)?z.g.statusText:""}catch{qe=""}z.l=qe+" ["+z.Z()+"]",Nl(z)}}finally{Ea(z)}}}}function Ea(z,J){if(z.g){Yi(z);const re=z.g,de=z.v[0]?()=>{}:null;z.g=null,z.v=null,J||Be(z,"ready");try{re.onreadystatechange=de}catch{}}}function Yi(z){z.I&&(u.clearTimeout(z.I),z.I=null)}r.isActive=function(){return!!this.g};function Ln(z){return z.g?z.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(z){if(this.g){var J=this.g.responseText;return z&&J.indexOf(z)==0&&(J=J.substring(z.length)),yt(J)}};function Eu(z){try{if(!z.g)return null;if("response"in z.g)return z.g.response;switch(z.H){case"":case"text":return z.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in z.g)return z.g.mozResponseArrayBuffer}return null}catch{return null}}function ta(z){const J={};z=(z.g&&2<=Ln(z)&&z.g.getAllResponseHeaders()||"").split(`\r
`);for(let de=0;de<z.length;de++){if(m(z[de]))continue;var re=O(z[de]);const je=re[0];if(re=re[1],typeof re!="string")continue;re=re.trim();const qe=J[je]||[];J[je]=qe,qe.push(re)}j(J,function(de){return de.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(z,J,re){return re&&re.internalChannelParams&&re.internalChannelParams[z]||J}function oo(z){this.Aa=0,this.i=[],this.j=new Ee,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,z),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,z),this.cb=Kn("retryDelaySeedMs",1e4,z),this.Wa=Kn("forwardChannelMaxRetries",2,z),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,z),this.pa=z&&z.xmlHttpFactory||void 0,this.Xa=z&&z.Tb||void 0,this.Ca=z&&z.useFetchStreams||!1,this.L=void 0,this.J=z&&z.supportsCrossDomainXhr||!1,this.K="",this.h=new rr(z&&z.concurrentRequestLimit),this.Da=new no,this.P=z&&z.fastHandshake||!1,this.O=z&&z.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=z&&z.Rb||!1,z&&z.xa&&this.j.xa(),z&&z.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&z&&z.detectBufferingProxy||!1,this.ja=void 0,z&&z.longPollingTimeout&&0<z.longPollingTimeout&&(this.ja=z.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oo.prototype,r.la=8,r.G=1,r.connect=function(z,J,re,de){ut(0),this.W=z,this.H=J||{},re&&de!==void 0&&(this.H.OSID=re,this.H.OAID=de),this.F=this.X,this.I=G(this,null,this.W),uo(this)};function Ms(z){if(Aa(z),z.G==3){var J=z.U++,re=gn(z.I);if(Sr(re,"SID",z.K),Sr(re,"RID",J),Sr(re,"TYPE","terminate"),ra(z,re),J=new Ct(z,z.j,J),J.L=2,J.v=Li(gn(re)),re=!1,u.navigator&&u.navigator.sendBeacon)try{re=u.navigator.sendBeacon(J.v.toString(),"")}catch{}!re&&u.Image&&(new Image().src=J.v,re=!0),re||(J.g=oe(J.j,null),J.g.ea(J.v)),J.F=Date.now(),Me(J)}mo(z)}function lo(z){z.g&&(fo(z),z.g.cancel(),z.g=null)}function Aa(z){lo(z),z.u&&(u.clearTimeout(z.u),z.u=null),js(z),z.h.cancel(),z.s&&(typeof z.s=="number"&&u.clearTimeout(z.s),z.s=null)}function uo(z){if(!lr(z.h)&&!z.s){z.s=!0;var J=z.Ga;_||C(),x||(_(),x=!0),S.add(J,z),z.B=0}}function Il(z,J){return Vt(z.h)>=z.h.j-(z.s?1:0)?!1:z.s?(z.i=J.D.concat(z.i),!0):z.G==1||z.G==2||z.B>=(z.Va?0:z.Wa)?!1:(z.s=Bt(f(z.Ga,z,J),po(z,z.B)),z.B++,!0)}r.Ga=function(z){if(this.s)if(this.s=null,this.G==1){if(!z){this.U=Math.floor(1e5*Math.random()),z=this.U++;const je=new Ct(this,this.j,z);let qe=this.o;if(this.S&&(qe?(qe=T(qe),U(qe,this.S)):qe=this.S),this.m!==null||this.O||(je.H=qe,qe=null),this.P)e:{for(var J=0,re=0;re<this.i.length;re++){t:{var de=this.i[re];if("__data__"in de.map&&(de=de.map.__data__,typeof de=="string")){de=de.length;break t}de=void 0}if(de===void 0)break;if(J+=de,4096<J){J=re;break e}if(J===4096||re===this.i.length-1){J=re+1;break e}}J=1e3}else J=1e3;J=Ta(this,je,J),re=gn(this.I),Sr(re,"RID",z),Sr(re,"CVER",22),this.D&&Sr(re,"X-HTTP-Session-Id",this.D),ra(this,re),qe&&(this.O?J="headers="+encodeURIComponent(String(Rs(qe)))+"&"+J:this.m&&Al(re,this.m,qe)),Kt(this.h,je),this.Ua&&Sr(re,"TYPE","init"),this.P?(Sr(re,"$req",J),Sr(re,"SID","null"),je.T=!0,bt(je,re,null)):bt(je,re,J),this.G=2}}else this.G==3&&(z?co(this,z):this.i.length==0||lr(this.h)||co(this))};function co(z,J){var re;J?re=J.l:re=z.U++;const de=gn(z.I);Sr(de,"SID",z.K),Sr(de,"RID",re),Sr(de,"AID",z.T),ra(z,de),z.m&&z.o&&Al(de,z.m,z.o),re=new Ct(z,z.j,re,z.B+1),z.m===null&&(re.H=z.o),J&&(z.i=J.D.concat(z.i)),J=Ta(z,re,1e3),re.I=Math.round(.5*z.wa)+Math.round(.5*z.wa*Math.random()),Kt(z.h,re),bt(re,de,J)}function ra(z,J){z.H&&B(z.H,function(re,de){Sr(J,de,re)}),z.l&&Un({},function(re,de){Sr(J,de,re)})}function Ta(z,J,re){re=Math.min(z.i.length,re);var de=z.l?f(z.l.Na,z.l,z):null;e:{var je=z.i;let qe=-1;for(;;){const ct=["count="+re];qe==-1?0<re?(qe=je[0].g,ct.push("ofs="+qe)):qe=0:ct.push("ofs="+qe);let hr=!0;for(let Er=0;Er<re;Er++){let fr=je[Er].g;const Dr=je[Er].map;if(fr-=qe,0>fr)qe=Math.max(0,je[Er].g-100),hr=!1;else try{El(Dr,ct,"req"+fr+"_")}catch{de&&de(Dr)}}if(hr){de=ct.join("&");break e}}}return z=z.i.splice(0,re),J.D=z,de}function ho(z){if(!z.g&&!z.u){z.Y=1;var J=z.Fa;_||C(),x||(_(),x=!0),S.add(J,z),z.v=0}}function Ca(z){return z.g||z.u||3<=z.v?!1:(z.Y++,z.u=Bt(f(z.Fa,z),po(z,z.v)),z.v++,!0)}r.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var z=2*this.R;this.j.info("BP detection timer enabled: "+z),this.A=Bt(f(this.ab,this),z)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),lo(this),Au(this))};function fo(z){z.A!=null&&(u.clearTimeout(z.A),z.A=null)}function Au(z){z.g=new Ct(z,z.j,"rpc",z.Y),z.m===null&&(z.g.H=z.o),z.g.O=0;var J=gn(z.qa);Sr(J,"RID","rpc"),Sr(J,"SID",z.K),Sr(J,"AID",z.T),Sr(J,"CI",z.F?"0":"1"),!z.F&&z.ja&&Sr(J,"TO",z.ja),Sr(J,"TYPE","xmlhttp"),ra(z,J),z.m&&z.o&&Al(J,z.m,z.o),z.L&&(z.g.I=z.L);var re=z.g;z=z.ia,re.L=1,re.v=Li(gn(J)),re.m=null,re.P=!0,Ht(re,z)}r.Za=function(){this.C!=null&&(this.C=null,lo(this),Ca(this),ut(19))};function js(z){z.C!=null&&(u.clearTimeout(z.C),z.C=null)}function na(z,J){var re=null;if(z.g==J){js(z),fo(z),z.g=null;var de=2}else if(_r(z.h,J))re=J.D,xr(z.h,J),de=1;else return;if(z.G!=0){if(J.o)if(de==1){re=J.m?J.m.length:0,J=Date.now()-J.F;var je=z.B;de=Ot(),Be(de,new ur(de,re)),uo(z)}else ho(z);else if(je=J.s,je==3||je==0&&0<J.X||!(de==1&&Il(z,J)||de==2&&Ca(z)))switch(re&&0<re.length&&(J=z.h,J.i=J.i.concat(re)),je){case 1:oi(z,5);break;case 4:oi(z,10);break;case 3:oi(z,6);break;default:oi(z,2)}}}function po(z,J){let re=z.Ta+Math.floor(Math.random()*z.cb);return z.isActive()||(re*=2),re*J}function oi(z,J){if(z.j.info("Error code "+J),J==2){var re=f(z.fb,z),de=z.Xa;const je=!de;de=new Br(de||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||wr(de,"https"),Li(de),je?ds(de.toString(),re):Su(de.toString(),re)}else ut(2);z.G=0,z.l&&z.l.sa(J),mo(z),Aa(z)}r.fb=function(z){z?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function mo(z){if(z.G=0,z.ka=[],z.l){const J=jr(z.h);(J.length!=0||z.i.length!=0)&&(p(z.ka,J),p(z.ka,z.i),z.h.i.length=0,v(z.i),z.i.length=0),z.l.ra()}}function G(z,J,re){var de=re instanceof Br?gn(re):new Br(re);if(de.g!="")J&&(de.g=J+"."+de.g),yr(de,de.s);else{var je=u.location;de=je.protocol,J=J?J+"."+je.hostname:je.hostname,je=+je.port;var qe=new Br(null);de&&wr(qe,de),J&&(qe.g=J),je&&yr(qe,je),re&&(qe.l=re),de=qe}return re=z.D,J=z.ya,re&&J&&Sr(de,re,J),Sr(de,"VER",z.la),ra(z,de),de}function oe(z,J,re){if(J&&!z.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=z.Ca&&!z.pa?new Or(new io({eb:re})):new Or(z.pa),J.Ha(z.J),J}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Se(){}r=Se.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ae(){}Ae.prototype.g=function(z,J){return new De(z,J)};function De(z,J){ve.call(this),this.g=new oo(J),this.l=z,this.h=J&&J.messageUrlParams||null,z=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(z?z["X-Client-Protocol"]="webchannel":z={"X-Client-Protocol":"webchannel"}),this.g.o=z,z=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(z?z["X-WebChannel-Content-Type"]=J.messageContentType:z={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&(z?z["X-WebChannel-Client-Profile"]=J.va:z={"X-WebChannel-Client-Profile":J.va}),this.g.S=z,(z=J&&J.Sb)&&!m(z)&&(this.g.m=z),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!m(J)&&(this.g.D=J,z=this.h,z!==null&&J in z&&(z=this.h,J in z&&delete z[J])),this.j=new St(this)}g(De,ve),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){Ms(this.g)},De.prototype.o=function(z){var J=this.g;if(typeof z=="string"){var re={};re.__data__=z,z=re}else this.u&&(re={},re.__data__=it(z),z=re);J.i.push(new vr(J.Ya++,z)),J.G==3&&uo(J)},De.prototype.N=function(){this.g.l=null,delete this.j,Ms(this.g),delete this.g,De.aa.N.call(this)};function Ye(z){Yt.call(this),z.__headers__&&(this.headers=z.__headers__,this.statusCode=z.__status__,delete z.__headers__,delete z.__status__);var J=z.__sm__;if(J){e:{for(const re in J){z=re;break e}z=void 0}(this.i=z)&&(z=this.i,J=J!==null&&z in J?J[z]:void 0),this.data=J}else this.data=z}g(Ye,Yt);function lt(){At.call(this),this.status=1}g(lt,At);function St(z){this.g=z}g(St,Se),St.prototype.ua=function(){Be(this.g,"a")},St.prototype.ta=function(z){Be(this.g,new Ye(z))},St.prototype.sa=function(z){Be(this.g,new lt)},St.prototype.ra=function(){Be(this.g,"b")},Ae.prototype.createWebChannel=Ae.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,kx=function(){return new Ae},Sx=function(){return Ot()},xx=_t,A1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pt.NO_ERROR=0,Pt.TIMEOUT=8,Pt.HTTP_ERROR=6,gp=Pt,It.COMPLETE="complete",_x=It,wt.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Sh=wt,Or.prototype.listenOnce=Or.prototype.L,Or.prototype.getLastError=Or.prototype.Ka,Or.prototype.getLastErrorCode=Or.prototype.Ba,Or.prototype.getStatus=Or.prototype.Z,Or.prototype.getResponseJson=Or.prototype.Oa,Or.prototype.getResponseText=Or.prototype.oa,Or.prototype.send=Or.prototype.ea,Or.prototype.setWithCredentials=Or.prototype.Ha,wx=Or}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const C5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new ny("@firebase/firestore");function fh(){return fu.logLevel}function qt(r,...t){if(fu.logLevel<=Nr.DEBUG){const e=t.map(my);fu.debug(`Firestore (${Uc}): ${r}`,...e)}}function Ja(r,...t){if(fu.logLevel<=Nr.ERROR){const e=t.map(my);fu.error(`Firestore (${Uc}): ${r}`,...e)}}function Cc(r,...t){if(fu.logLevel<=Nr.WARN){const e=t.map(my);fu.warn(`Firestore (${Uc}): ${r}`,...e)}}function my(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r="Unexpected state"){const t=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: `+r;throw Ja(t),new Error(t)}function $r(r,t){r||cr()}function gr(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends Sa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(gi.UNAUTHENTICATED))}shutdown(){}}class sC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class aC{constructor(t){this.t=t,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$r(this.o===void 0);let n=this.i;const s=o=>this.i!==n?(n=this.i,e(o)):Promise.resolve();let i=new il;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new il,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const o=i;t.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},u=o=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(o=>u(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?u(o):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new il)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($r(typeof n.accessToken=="string"),new Ex(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $r(t===null||typeof t=="string"),new gi(t)}}class oC{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lC{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new oC(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){$r(this.o===void 0);const n=i=>{i.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,qt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const s=i=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($r(typeof e.token=="string"),this.R=e.token,new uC(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const s=hC(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<e&&(n+=t.charAt(s[i]%t.length))}return n}}function Mr(r,t){return r<t?-1:r>t?1:0}function Nc(r,t,e){return r.length===t.length&&r.every((n,s)=>e(n,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fr.fromMillis(Date.now())}static fromDate(t){return Fr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Fr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Mr(this.nanoseconds,t.nanoseconds):Mr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mr(t)}static min(){return new mr(new Fr(0,0))}static max(){return new mr(new Fr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e,n){e===void 0?e=0:e>t.length&&cr(),n===void 0?n=t.length-e:n>t.length-e&&cr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return pf.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof pf?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.get(s),a=e.get(s);if(i<a)return-1;if(i>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class nn extends pf{construct(t,e,n){return new nn(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Lt(nt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(s=>s.length>0))}return new nn(e)}static emptyPath(){return new nn([])}}const fC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends pf{construct(t,e,n){return new ei(t,e,n)}static isValidIdentifier(t){return fC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ei(["__name__"])}static fromServerFormat(t){const e=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Lt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new Lt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const o=t[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new Lt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=o,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(n+=u,s++):(i(),s++)}if(i(),a)throw new Lt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ei(e)}static emptyPath(){return new ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.path=t}static fromPath(t){return new Qt(nn.fromString(t))}static fromName(t){return new Qt(nn.fromString(t).popFirst(5))}static empty(){return new Qt(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&nn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return nn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qt(new nn(t.slice()))}}function dC(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=mr.fromTimestamp(n===1e9?new Fr(e+1,0):new Fr(e,n));return new fl(s,Qt.empty(),t)}function pC(r){return new fl(r.readTime,r.key,-1)}class fl{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new fl(mr.min(),Qt.empty(),-1)}static max(){return new fl(mr.max(),Qt.empty(),-1)}}function mC(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Qt.comparator(r.documentKey,t.documentKey),e!==0?e:Mr(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==gC)throw r;qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&cr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new dt((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(n,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof dt?e:dt.resolve(e)}catch(e){return dt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):dt.reject(e)}static resolve(t){return new dt((e,n)=>{e(t)})}static reject(t){return new dt((e,n)=>{n(t)})}static waitFor(t){return new dt((e,n)=>{let s=0,i=0,a=!1;t.forEach(u=>{++s,u.next(()=>{++i,a&&i===s&&e()},o=>n(o))}),a=!0,i===s&&e()})}static or(t){let e=dt.resolve(!1);for(const n of t)e=e.next(s=>s?dt.resolve(s):n());return e}static forEach(t,e){const n=[];return t.forEach((s,i)=>{n.push(e.call(this,s,i))}),this.waitFor(n)}static mapArray(t,e){return new dt((n,s)=>{const i=t.length,a=new Array(i);let u=0;for(let o=0;o<i;o++){const l=o;e(t[l]).next(c=>{a[l]=c,++u,u===i&&n(a)},c=>s(c))}})}static doWhile(t,e){return new dt((n,s)=>{const i=()=>{t()===!0?e().next(()=>{i()},s):n()};i()})}}function vC(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Df(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ie(n),this.se=n=>e.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}gy.oe=-1;function jm(r){return r==null}function em(r){return r===0&&1/r==-1/0}function bC(r){return typeof r=="number"&&Number.isInteger(r)&&!em(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function wu(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function Tx(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,e){this.comparator=t,this.root=e||Jn.EMPTY}insert(t,e){return new pn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(t){return new pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fd(this.root,t,this.comparator,!0)}}class Fd{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jn{constructor(t,e,n,s,i){this.key=t,this.value=e,this.color=n??Jn.RED,this.left=s??Jn.EMPTY,this.right=i??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,i){return new Jn(t??this.key,e??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const i=n(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,n),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Jn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cr();const t=this.left.check();if(t!==this.right.check())throw cr();return t+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw cr()}get value(){throw cr()}get color(){throw cr()}get left(){throw cr()}get right(){throw cr()}copy(t,e,n,s,i){return this}insert(t,e,n){return new Jn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.comparator=t,this.data=new pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new P5(this.data.getIterator())}getIteratorFrom(t){return new P5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof ni)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ni(this.comparator);return e.data=t,e}}class P5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.fields=t,t.sort(ei.comparator)}static empty(){return new ns([])}unionWith(t){let e=new ni(ei.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ns(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Nc(this.fields,t.fields,(e,n)=>e.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Cx("Invalid base64 string: "+i):i}}(t);return new si(e)}static fromUint8Array(t){const e=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(t);return new si(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}si.EMPTY_BYTE_STRING=new si("");const wC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dl(r){if($r(!!r),typeof r=="string"){let t=0;const e=wC.exec(r);if($r(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:En(r.seconds),nanos:En(r.nanos)}}function En(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function du(r){return typeof r=="string"?si.fromBase64String(r):si.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function vy(r){const t=r.mapValue.fields.__previous_value__;return yy(t)?vy(t):t}function mf(r){const t=dl(r.mapValue.fields.__local_write_time__.timestampValue);return new Fr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,e,n,s,i,a,u,o,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=o,this.useFetchStreams=l}}class gf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new gf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof gf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={mapValue:{}};function pu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yy(r)?4:SC(r)?9007199254740991:xC(r)?10:11:cr()}function xa(r,t){if(r===t)return!0;const e=pu(r);if(e!==pu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return mf(r).isEqual(mf(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=dl(s.timestampValue),u=dl(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(s,i){return du(s.bytesValue).isEqual(du(i.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(s,i){return En(s.geoPointValue.latitude)===En(i.geoPointValue.latitude)&&En(s.geoPointValue.longitude)===En(i.geoPointValue.longitude)}(r,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return En(s.integerValue)===En(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=En(s.doubleValue),u=En(i.doubleValue);return a===u?em(a)===em(u):isNaN(a)&&isNaN(u)}return!1}(r,t);case 9:return Nc(r.arrayValue.values||[],t.arrayValue.values||[],xa);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},u=i.mapValue.fields||{};if(N5(a)!==N5(u))return!1;for(const o in a)if(a.hasOwnProperty(o)&&(u[o]===void 0||!xa(a[o],u[o])))return!1;return!0}(r,t);default:return cr()}}function yf(r,t){return(r.values||[]).find(e=>xa(e,t))!==void 0}function Pc(r,t){if(r===t)return 0;const e=pu(r),n=pu(t);if(e!==n)return Mr(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Mr(r.booleanValue,t.booleanValue);case 2:return function(i,a){const u=En(i.integerValue||i.doubleValue),o=En(a.integerValue||a.doubleValue);return u<o?-1:u>o?1:u===o?0:isNaN(u)?isNaN(o)?0:-1:1}(r,t);case 3:return I5(r.timestampValue,t.timestampValue);case 4:return I5(mf(r),mf(t));case 5:return Mr(r.stringValue,t.stringValue);case 6:return function(i,a){const u=du(i),o=du(a);return u.compareTo(o)}(r.bytesValue,t.bytesValue);case 7:return function(i,a){const u=i.split("/"),o=a.split("/");for(let l=0;l<u.length&&l<o.length;l++){const c=Mr(u[l],o[l]);if(c!==0)return c}return Mr(u.length,o.length)}(r.referenceValue,t.referenceValue);case 8:return function(i,a){const u=Mr(En(i.latitude),En(a.latitude));return u!==0?u:Mr(En(i.longitude),En(a.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return R5(r.arrayValue,t.arrayValue);case 10:return function(i,a){var u,o,l,c;const d=i.fields||{},f=a.fields||{},h=(u=d.value)===null||u===void 0?void 0:u.arrayValue,g=(o=f.value)===null||o===void 0?void 0:o.arrayValue,v=Mr(((l=h==null?void 0:h.values)===null||l===void 0?void 0:l.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:R5(h,g)}(r.mapValue,t.mapValue);case 11:return function(i,a){if(i===Bd.mapValue&&a===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(a===Bd.mapValue)return-1;const u=i.fields||{},o=Object.keys(u),l=a.fields||{},c=Object.keys(l);o.sort(),c.sort();for(let d=0;d<o.length&&d<c.length;++d){const f=Mr(o[d],c[d]);if(f!==0)return f;const h=Pc(u[o[d]],l[c[d]]);if(h!==0)return h}return Mr(o.length,c.length)}(r.mapValue,t.mapValue);default:throw cr()}}function I5(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mr(r,t);const e=dl(r),n=dl(t),s=Mr(e.seconds,n.seconds);return s!==0?s:Mr(e.nanos,n.nanos)}function R5(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const i=Pc(e[s],n[s]);if(i)return i}return Mr(e.length,n.length)}function Ic(r){return T1(r)}function T1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(e){const n=dl(e);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(e){return du(e).toBase64()}(r.bytesValue):"referenceValue"in r?function(e){return Qt.fromName(e).toString()}(r.referenceValue):"geoPointValue"in r?function(e){return`geo(${e.latitude},${e.longitude})`}(r.geoPointValue):"arrayValue"in r?function(e){let n="[",s=!0;for(const i of e.values||[])s?s=!1:n+=",",n+=T1(i);return n+"]"}(r.arrayValue):"mapValue"in r?function(e){const n=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${T1(e.fields[a])}`;return s+"}"}(r.mapValue):cr()}function M5(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function C1(r){return!!r&&"integerValue"in r}function by(r){return!!r&&"arrayValue"in r}function j5(r){return!!r&&"nullValue"in r}function L5(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yp(r){return!!r&&"mapValue"in r}function xC(r){var t,e;return((e=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Dh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return wu(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Dh(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dh(r.arrayValue.values[e]);return t}return Object.assign({},r)}function SC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!yp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dh(e)}setAll(t){let e=ei.emptyPath(),n={},s=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const o=this.getFieldsMap(e);this.applyChanges(o,n,s),n={},s=[],e=u.popLast()}a?n[u.lastSegment()]=Dh(a):s.push(u.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,s)}delete(t){const e=this.field(t.popLast());yp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return xa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];yp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){wu(e,(s,i)=>t[s]=i);for(const s of n)delete t[s]}clone(){return new Vi(Dh(this.value))}}function Nx(r){const t=[];return wu(r.fields,(e,n)=>{const s=new ei([e]);if(yp(n)){const i=Nx(n.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)}),new ns(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,e,n,s,i,a,u){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=u}static newInvalidDocument(t){return new vi(t,0,mr.min(),mr.min(),mr.min(),Vi.empty(),0)}static newFoundDocument(t,e,n,s){return new vi(t,1,e,mr.min(),n,s,0)}static newNoDocument(t,e){return new vi(t,2,e,mr.min(),mr.min(),Vi.empty(),0)}static newUnknownDocument(t,e){return new vi(t,3,e,mr.min(),mr.min(),Vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(mr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,e){this.position=t,this.inclusive=e}}function O5(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const i=t[s],a=r.position[s];if(i.field.isKeyField()?n=Qt.comparator(Qt.fromName(a.referenceValue),e.key):n=Pc(a,e.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function D5(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!xa(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e="asc"){this.field=t,this.dir=e}}function kC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Px=class{};class jn extends Px{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new AC(t,e,n):e==="array-contains"?new NC(t,n):e==="in"?new PC(t,n):e==="not-in"?new IC(t,n):e==="array-contains-any"?new RC(t,n):new jn(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new TC(t,n):new CC(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Pc(e,this.value)):e!==null&&pu(this.value)===pu(e)&&this.matchesComparison(Pc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return cr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ys extends Px{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Ys(t,e)}matches(t){return Ix(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ix(r){return r.op==="and"}function Rx(r){return EC(r)&&Ix(r)}function EC(r){for(const t of r.filters)if(t instanceof Ys)return!1;return!0}function N1(r){if(r instanceof jn)return r.field.canonicalString()+r.op.toString()+Ic(r.value);if(Rx(r))return r.filters.map(t=>N1(t)).join(",");{const t=r.filters.map(e=>N1(e)).join(",");return`${r.op}(${t})`}}function Mx(r,t){return r instanceof jn?function(n,s){return s instanceof jn&&n.op===s.op&&n.field.isEqual(s.field)&&xa(n.value,s.value)}(r,t):r instanceof Ys?function(n,s){return s instanceof Ys&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,a,u)=>i&&Mx(a,s.filters[u]),!0):!1}(r,t):void cr()}function jx(r){return r instanceof jn?function(e){return`${e.field.canonicalString()} ${e.op} ${Ic(e.value)}`}(r):r instanceof Ys?function(e){return e.op.toString()+" {"+e.getFilters().map(jx).join(" ,")+"}"}(r):"Filter"}class AC extends jn{constructor(t,e,n){super(t,e,n),this.key=Qt.fromName(n.referenceValue)}matches(t){const e=Qt.comparator(t.key,this.key);return this.matchesComparison(e)}}class TC extends jn{constructor(t,e){super(t,"in",e),this.keys=Lx("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class CC extends jn{constructor(t,e){super(t,"not-in",e),this.keys=Lx("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Lx(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>Qt.fromName(n.referenceValue))}class NC extends jn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return by(e)&&yf(e.arrayValue,this.value)}}class PC extends jn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&yf(this.value.arrayValue,e)}}class IC extends jn{constructor(t,e){super(t,"not-in",e)}matches(t){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!yf(this.value.arrayValue,e)}}class RC extends jn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!by(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>yf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,e=null,n=[],s=[],i=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=u,this.ue=null}}function F5(r,t=null,e=[],n=[],s=null,i=null,a=null){return new MC(r,t,e,n,s,i,a)}function wy(r){const t=gr(r);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>N1(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),jm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ic(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ic(n)).join(",")),t.ue=e}return t.ue}function _y(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!kC(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!Mx(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!D5(r.startAt,t.startAt)&&D5(r.endAt,t.endAt)}function P1(r){return Qt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e=null,n=[],s=[],i=null,a="F",u=null,o=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jC(r,t,e,n,s,i,a,u){return new zc(r,t,e,n,s,i,a,u)}function xy(r){return new zc(r)}function B5(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ox(r){return r.collectionGroup!==null}function Fh(r){const t=gr(r);if(t.ce===null){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new ni(ei.comparator);return a.filters.forEach(o=>{o.getFlattenedFilters().forEach(l=>{l.isInequality()&&(u=u.add(l.field))})}),u})(t).forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.ce.push(new vf(i,n))}),e.has(ei.keyField().canonicalString())||t.ce.push(new vf(ei.keyField(),n))}return t.ce}function ba(r){const t=gr(r);return t.le||(t.le=LC(t,Fh(r))),t.le}function LC(r,t){if(r.limitType==="F")return F5(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vf(s.field,i)});const e=r.endAt?new tm(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new tm(r.startAt.position,r.startAt.inclusive):null;return F5(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function I1(r,t){const e=r.filters.concat([t]);return new zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function R1(r,t,e){return new zc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Lm(r,t){return _y(ba(r),ba(t))&&r.limitType===t.limitType}function Dx(r){return`${wy(ba(r))}|lt:${r.limitType}`}function Wu(r){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>jx(s)).join(", ")}]`),jm(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ic(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ic(s)).join(",")),`Target(${n})`}(ba(r))}; limitType=${r.limitType})`}function Om(r,t){return t.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Qt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(r,t)&&function(n,s){for(const i of Fh(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(r,t)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(r,t)&&function(n,s){return!(n.startAt&&!function(a,u,o){const l=O5(a,u,o);return a.inclusive?l<=0:l<0}(n.startAt,Fh(n),s)||n.endAt&&!function(a,u,o){const l=O5(a,u,o);return a.inclusive?l>=0:l>0}(n.endAt,Fh(n),s))}(r,t)}function OC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Fx(r){return(t,e)=>{let n=!1;for(const s of Fh(r)){const i=DC(s,t,e);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function DC(r,t,e){const n=r.field.isKeyField()?Qt.comparator(t.key,e.key):function(i,a,u){const o=a.data.field(i),l=u.data.field(i);return o!==null&&l!==null?Pc(o,l):cr()}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return cr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){wu(this.inner,(e,n)=>{for(const[s,i]of n)t(s,i)})}isEmpty(){return Tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new pn(Qt.comparator);function eo(){return FC}const Bx=new pn(Qt.comparator);function kh(...r){let t=Bx;for(const e of r)t=t.insert(e.key,e);return t}function Ux(r){let t=Bx;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Wl(){return Bh()}function zx(){return Bh()}function Bh(){return new Vc(r=>r.toString(),(r,t)=>r.isEqual(t))}const BC=new pn(Qt.comparator),UC=new ni(Qt.comparator);function Tr(...r){let t=UC;for(const e of r)t=t.add(e);return t}const zC=new ni(Mr);function VC(){return zC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(t)?"-0":t}}function Vx(r){return{integerValue:""+r}}function qC(r,t){return bC(t)?Vx(t):Sy(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this._=void 0}}function HC(r,t,e){return r instanceof rm?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&yy(i)&&(i=vy(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(e,t):r instanceof bf?Hx(r,t):r instanceof wf?$x(r,t):function(s,i){const a=qx(s,i),u=U5(a)+U5(s.Pe);return C1(a)&&C1(s.Pe)?Vx(u):Sy(s.serializer,u)}(r,t)}function $C(r,t,e){return r instanceof bf?Hx(r,t):r instanceof wf?$x(r,t):e}function qx(r,t){return r instanceof nm?function(n){return C1(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class rm extends Dm{}class bf extends Dm{constructor(t){super(),this.elements=t}}function Hx(r,t){const e=Wx(t);for(const n of r.elements)e.some(s=>xa(s,n))||e.push(n);return{arrayValue:{values:e}}}class wf extends Dm{constructor(t){super(),this.elements=t}}function $x(r,t){let e=Wx(t);for(const n of r.elements)e=e.filter(s=>!xa(s,n));return{arrayValue:{values:e}}}class nm extends Dm{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function U5(r){return En(r.integerValue||r.doubleValue)}function Wx(r){return by(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function WC(r,t){return r.field.isEqual(t.field)&&function(n,s){return n instanceof bf&&s instanceof bf||n instanceof wf&&s instanceof wf?Nc(n.elements,s.elements,xa):n instanceof nm&&s instanceof nm?xa(n.Pe,s.Pe):n instanceof rm&&s instanceof rm}(r.transform,t.transform)}class XC{constructor(t,e){this.version=t,this.transformResults=e}}class Ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ii}static exists(t){return new Ii(void 0,t)}static updateTime(t){return new Ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vp(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Fm{}function Xx(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Bm(r.key,Ii.none()):new Ff(r.key,r.data,Ii.none());{const e=r.data,n=Vi.empty();let s=new ni(ei.comparator);for(let i of t.fields)if(!s.has(i)){let a=e.field(i);a===null&&i.length>1&&(i=i.popLast(),a=e.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new xl(r.key,n,new ns(s.toArray()),Ii.none())}}function KC(r,t,e){r instanceof Ff?function(s,i,a){const u=s.value.clone(),o=V5(s.fieldTransforms,i,a.transformResults);u.setAll(o),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(r,t,e):r instanceof xl?function(s,i,a){if(!vp(s.precondition,i))return void i.convertToUnknownDocument(a.version);const u=V5(s.fieldTransforms,i,a.transformResults),o=i.data;o.setAll(Kx(s)),o.setAll(u),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(r,t,e):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function Uh(r,t,e,n){return r instanceof Ff?function(i,a,u,o){if(!vp(i.precondition,a))return u;const l=i.value.clone(),c=q5(i.fieldTransforms,o,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(r,t,e,n):r instanceof xl?function(i,a,u,o){if(!vp(i.precondition,a))return u;const l=q5(i.fieldTransforms,o,a),c=a.data;return c.setAll(Kx(i)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(r,t,e,n):function(i,a,u){return vp(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(r,t,e)}function GC(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),i=qx(n.transform,s||null);i!=null&&(e===null&&(e=Vi.empty()),e.set(n.field,i))}return e||null}function z5(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Nc(n,s,(i,a)=>WC(i,a))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ff extends Fm{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xl extends Fm{constructor(t,e,n,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kx(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function V5(r,t,e){const n=new Map;$r(r.length===e.length);for(let s=0;s<e.length;s++){const i=r[s],a=i.transform,u=t.data.field(i.field);n.set(i.field,$C(a,u,e[s]))}return n}function q5(r,t,e){const n=new Map;for(const s of r){const i=s.transform,a=e.data.field(s.field);n.set(s.field,HC(i,a,t))}return n}class Bm extends Fm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Fm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&KC(i,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Uh(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Uh(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=zx();return this.mutations.forEach(s=>{const i=t.get(s.key),a=i.overlayedDocument;let u=this.applyToLocalView(a,i.mutatedFields);u=e.has(s.key)?null:u;const o=Xx(a,u);o!==null&&n.set(s.key,o),a.isValidDocument()||a.convertToNoDocument(mr.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Tr())}isEqual(t){return this.batchId===t.batchId&&Nc(this.mutations,t.mutations,(e,n)=>z5(e,n))&&Nc(this.baseMutations,t.baseMutations,(e,n)=>z5(e,n))}}class ky{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){$r(t.mutations.length===n.length);let s=function(){return BC}();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new ky(t,e,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Pr;function eN(r){switch(r){default:return cr();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function Gx(r){if(r===void 0)return Ja("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Rn.OK:return nt.OK;case Rn.CANCELLED:return nt.CANCELLED;case Rn.UNKNOWN:return nt.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return nt.INTERNAL;case Rn.UNAVAILABLE:return nt.UNAVAILABLE;case Rn.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Rn.NOT_FOUND:return nt.NOT_FOUND;case Rn.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Rn.ABORTED:return nt.ABORTED;case Rn.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Rn.DATA_LOSS:return nt.DATA_LOSS;default:return cr()}}(Pr=Rn||(Rn={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Yl([4294967295,4294967295],0);function H5(r){const t=tN().encode(r),e=new bx;return e.update(t),new Uint8Array(e.digest())}function $5(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Yl([e,n],0),new Yl([s,i],0)]}class Ey{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Eh(`Invalid padding: ${e}`);if(n<0)throw new Eh(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Eh(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Eh(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Yl.fromNumber(this.Ie)}Ee(t,e,n){let s=t.add(e.multiply(Yl.fromNumber(n)));return s.compare(rN)===1&&(s=new Yl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=H5(t),[n,s]=$5(e);for(let i=0;i<this.hashCount;i++){const a=this.Ee(n,s,i);if(!this.de(a))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Ey(i,s,e);return n.forEach(u=>a.insert(u)),a}insert(t){if(this.Ie===0)return;const e=H5(t),[n,s]=$5(e);for(let i=0;i<this.hashCount;i++){const a=this.Ee(n,s,i);this.Ae(a)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,e,n,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,Bf.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Um(mr.min(),s,new pn(Mr),eo(),Tr())}}class Bf{constructor(t,e,n,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Bf(n,e,Tr(),Tr(),Tr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,e,n,s){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=s}}class Yx{constructor(t,e){this.targetId=t,this.me=e}}class Qx{constructor(t,e,n=si.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class W5{constructor(){this.fe=0,this.ge=K5(),this.pe=si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Tr(),e=Tr(),n=Tr();return this.ge.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:cr()}}),new Bf(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=K5()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,$r(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nN{constructor(t){this.Le=t,this.Be=new Map,this.ke=eo(),this.qe=X5(),this.Qe=new pn(Mr)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:cr()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((n,s)=>{this.ze(s)&&e(s)})}He(t){const e=t.targetId,n=t.me.count,s=this.Je(e);if(s){const i=s.target;if(P1(i))if(n===0){const a=new Qt(i.path);this.Ue(e,a,vi.newNoDocument(a,mr.min()))}else $r(n===1);else{const a=this.Ye(e);if(a!==n){const u=this.Ze(t),o=u?this.Xe(u,t,a):1;if(o!==0){this.je(e);const l=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,l)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=e;let a,u;try{a=du(n).toUint8Array()}catch(o){if(o instanceof Cx)return Cc("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{u=new Ey(a,s,i)}catch(o){return Cc(o instanceof Eh?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return u.Ie===0?null:u}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let s=0;return n.forEach(i=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(u)||(this.Ue(e,i,null),s++)}),s}rt(t){const e=new Map;this.Be.forEach((i,a)=>{const u=this.Je(a);if(u){if(i.current&&P1(u.target)){const o=new Qt(u.target.path);this.ke.get(o)!==null||this.it(a,o)||this.Ue(a,o,vi.newNoDocument(o,t))}i.be&&(e.set(a,i.ve()),i.Ce())}});let n=Tr();this.qe.forEach((i,a)=>{let u=!0;a.forEachWhile(o=>{const l=this.Je(o);return!l||l.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(t));const s=new Um(t,e,this.Qe,this.ke,n);return this.ke=eo(),this.qe=X5(),this.Qe=new pn(Mr),s}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,e)?s.Fe(e,1):s.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new W5,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new ni(Mr),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||qt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new W5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function X5(){return new pn(Qt.comparator)}function K5(){return new pn(Qt.comparator)}const iN={asc:"ASCENDING",desc:"DESCENDING"},sN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aN={and:"AND",or:"OR"};class oN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function M1(r,t){return r.useProto3Json||jm(t)?t:{value:t}}function im(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zx(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lN(r,t){return im(r,t.toTimestamp())}function wa(r){return $r(!!r),mr.fromTimestamp(function(e){const n=dl(e);return new Fr(n.seconds,n.nanos)}(r))}function Ay(r,t){return j1(r,t).canonicalString()}function j1(r,t){const e=function(s){return new nn(["projects",s.projectId,"databases",s.database])}(r).child("documents");return t===void 0?e:e.child(t)}function Jx(r){const t=nn.fromString(r);return $r(i6(t)),t}function L1(r,t){return Ay(r.databaseId,t.path)}function Z0(r,t){const e=Jx(t);if(e.get(1)!==r.databaseId.projectId)throw new Lt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Lt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Qt(t6(e))}function e6(r,t){return Ay(r.databaseId,t)}function uN(r){const t=Jx(r);return t.length===4?nn.emptyPath():t6(t)}function O1(r){return new nn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t6(r){return $r(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function G5(r,t,e){return{name:L1(r,t),fields:e.value.mapValue.fields}}function cN(r,t){let e;if("targetChange"in t){t.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:cr()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?($r(c===void 0||typeof c=="string"),si.fromBase64String(c||"")):($r(c===void 0||c instanceof Buffer||c instanceof Uint8Array),si.fromUint8Array(c||new Uint8Array))}(r,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(l){const c=l.code===void 0?nt.UNKNOWN:Gx(l.code);return new Lt(c,l.message||"")}(a);e=new Qx(n,s,i,u||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=Z0(r,n.document.name),i=wa(n.document.updateTime),a=n.document.createTime?wa(n.document.createTime):mr.min(),u=new Vi({mapValue:{fields:n.document.fields}}),o=vi.newFoundDocument(s,i,a,u),l=n.targetIds||[],c=n.removedTargetIds||[];e=new bp(l,c,o.key,o)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=Z0(r,n.document),i=n.readTime?wa(n.readTime):mr.min(),a=vi.newNoDocument(s,i),u=n.removedTargetIds||[];e=new bp([],u,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=Z0(r,n.document),i=n.removedTargetIds||[];e=new bp([],i,s,null)}else{if(!("filter"in t))return cr();{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new JC(s,i),u=n.targetId;e=new Yx(u,a)}}return e}function hN(r,t){let e;if(t instanceof Ff)e={update:G5(r,t.key,t.value)};else if(t instanceof Bm)e={delete:L1(r,t.key)};else if(t instanceof xl)e={update:G5(r,t.key,t.data),updateMask:wN(t.fieldMask)};else{if(!(t instanceof YC))return cr();e={verify:L1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(i,a){const u=a.transform;if(u instanceof rm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof nm)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw cr()}(0,n))),t.precondition.isNone||(e.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:lN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:cr()}(r,t.precondition)),e}function fN(r,t){return r&&r.length>0?($r(t!==void 0),r.map(e=>function(s,i){let a=s.updateTime?wa(s.updateTime):wa(i);return a.isEqual(mr.min())&&(a=wa(i)),new XC(a,s.transformResults||[])}(e,t))):[]}function dN(r,t){return{documents:[e6(r,t.path)]}}function pN(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=e6(r,s);const i=function(l){if(l.length!==0)return n6(Ys.create(l,"and"))}(t.filters);i&&(e.structuredQuery.where=i);const a=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Xu(f.field),direction:yN(f.dir)}}(c))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=M1(r,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:e,parent:s}}function mN(r){let t=uN(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){$r(n===1);const c=e.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}let i=[];e.where&&(i=function(d){const f=r6(d);return f instanceof Ys&&Rx(f)?f.getFilters():[f]}(e.where));let a=[];e.orderBy&&(a=function(d){return d.map(f=>function(g){return new vf(Ku(g.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(e.orderBy));let u=null;e.limit&&(u=function(d){let f;return f=typeof d=="object"?d.value:d,jm(f)?null:f}(e.limit));let o=null;e.startAt&&(o=function(d){const f=!!d.before,h=d.values||[];return new tm(h,f)}(e.startAt));let l=null;return e.endAt&&(l=function(d){const f=!d.before,h=d.values||[];return new tm(h,f)}(e.endAt)),jC(t,s,a,i,u,"F",o,l)}function gN(r,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cr()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function r6(r){return r.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ku(e.unaryFilter.field);return jn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ku(e.unaryFilter.field);return jn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ku(e.unaryFilter.field);return jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ku(e.unaryFilter.field);return jn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return cr()}}(r):r.fieldFilter!==void 0?function(e){return jn.create(Ku(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cr()}}(e.fieldFilter.op),e.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(e){return Ys.create(e.compositeFilter.filters.map(n=>r6(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return cr()}}(e.compositeFilter.op))}(r):cr()}function yN(r){return iN[r]}function vN(r){return sN[r]}function bN(r){return aN[r]}function Xu(r){return{fieldPath:r.canonicalString()}}function Ku(r){return ei.fromServerFormat(r.fieldPath)}function n6(r){return r instanceof jn?function(e){if(e.op==="=="){if(L5(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NAN"}};if(j5(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(L5(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NAN"}};if(j5(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(e.field),op:vN(e.op),value:e.value}}}(r):r instanceof Ys?function(e){const n=e.getFilters().map(s=>n6(s));return n.length===1?n[0]:{compositeFilter:{op:bN(e.op),filters:n}}}(r):cr()}function wN(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function i6(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,e,n,s,i=mr.min(),a=mr.min(),u=si.EMPTY_BYTE_STRING,o=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=o}withSequenceNumber(t){return new $o(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.ct=t}}function xN(r){const t=mN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?R1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.un=new kN}addToCollectionParentIndex(t,e){return this.un.add(e),dt.resolve()}getCollectionParents(t,e){return dt.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return dt.resolve()}deleteFieldIndex(t,e){return dt.resolve()}deleteAllFieldIndexes(t){return dt.resolve()}createTargetIndexes(t,e){return dt.resolve()}getDocumentsMatchingTarget(t,e){return dt.resolve(null)}getIndexType(t,e){return dt.resolve(0)}getFieldIndexes(t,e){return dt.resolve([])}getNextCollectionGroupToUpdate(t){return dt.resolve(null)}getMinOffset(t,e){return dt.resolve(fl.min())}getMinOffsetFromCollectionGroup(t,e){return dt.resolve(fl.min())}updateCollectionGroup(t,e,n){return dt.resolve()}updateIndexEntries(t,e){return dt.resolve()}}class kN{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new ni(nn.comparator),i=!s.has(n);return this.index[e]=s.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new ni(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rc(0)}static kn(){return new Rc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.changes=new Vc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,vi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?dt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(n=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(n!==null&&Uh(n.mutation,s,ns.empty(),Fr.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,Tr()).next(()=>n))}getLocalViewOfDocuments(t,e,n=Tr()){const s=Wl();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,n).next(i=>{let a=kh();return i.forEach((u,o)=>{a=a.insert(u,o.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const n=Wl();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Tr()))}populateOverlays(t,e,n){const s=[];return n.forEach(i=>{e.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,n,s){let i=eo();const a=Bh(),u=function(){return Bh()}();return e.forEach((o,l)=>{const c=n.get(l.key);s.has(l.key)&&(c===void 0||c.mutation instanceof xl)?i=i.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),Uh(c.mutation,l,c.mutation.getFieldMask(),Fr.now())):a.set(l.key,ns.empty())}),this.recalculateAndSaveOverlays(t,i).next(o=>(o.forEach((l,c)=>a.set(l,c)),e.forEach((l,c)=>{var d;return u.set(l,new AN(c,(d=a.get(l))!==null&&d!==void 0?d:null))}),u))}recalculateAndSaveOverlays(t,e){const n=Bh();let s=new pn((a,u)=>a-u),i=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(o=>{const l=e.get(o);if(l===null)return;let c=n.get(o)||ns.empty();c=u.applyToLocalView(l,c),n.set(o,c);const d=(s.get(u.batchId)||Tr()).add(o);s=s.insert(u.batchId,d)})}).next(()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const o=u.getNext(),l=o.key,c=o.value,d=zx();c.forEach(f=>{if(!i.has(f)){const h=Xx(e.get(f),n.get(f));h!==null&&d.set(f,h),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(t,l,d))}return dt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,s){return function(a){return Qt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Ox(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-i.size):dt.resolve(Wl());let u=-1,o=i;return a.next(l=>dt.forEach(l,(c,d)=>(u<d.largestBatchId&&(u=d.largestBatchId),i.get(c)?dt.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{o=o.insert(c,f)}))).next(()=>this.populateOverlays(t,l,i)).next(()=>this.computeViews(t,o,l,Tr())).next(c=>({batchId:u,changes:Ux(c)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Qt(e)).next(n=>{let s=kh();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const i=e.collectionGroup;let a=kh();return this.indexManager.getCollectionParents(t,i).next(u=>dt.forEach(u,o=>{const l=function(d,f){return new zc(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,n,s).next(c=>{c.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,s))).next(a=>{i.forEach((o,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,vi.newInvalidDocument(c)))});let u=kh();return a.forEach((o,l)=>{const c=i.get(o);c!==void 0&&Uh(c.mutation,l,ns.empty(),Fr.now()),Om(e,l)&&(u=u.insert(o,l))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return dt.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:wa(s.createTime)}}(e)),dt.resolve()}getNamedQuery(t,e){return dt.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(s){return{name:s.name,query:xN(s.bundledQuery),readTime:wa(s.readTime)}}(e)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.overlays=new pn(Qt.comparator),this.Ir=new Map}getOverlay(t,e){return dt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Wl();return dt.forEach(e,s=>this.getOverlay(t,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((s,i)=>{this.ht(t,e,i)}),dt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),dt.resolve()}getOverlaysForCollection(t,e,n){const s=Wl(),i=e.length+1,a=new Qt(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const o=u.getNext().value,l=o.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===i&&o.largestBatchId>n&&s.set(o.getKey(),o)}return dt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let i=new pn((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>n){let c=i.get(l.largestBatchId);c===null&&(c=Wl(),i=i.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const u=Wl(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,c)=>u.set(l,c)),!(u.size()>=s)););return dt.resolve(u)}ht(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new ZC(e,n));let i=this.Ir.get(e);i===void 0&&(i=Tr(),this.Ir.set(e,i)),this.Ir.set(e,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.sessionToken=si.EMPTY_BYTE_STRING}getSessionToken(t){return dt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.Tr=new ni(Hn.Er),this.dr=new ni(Hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new Hn(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Vr(new Hn(t,e))}mr(t,e){t.forEach(n=>this.removeReference(n,e))}gr(t){const e=new Qt(new nn([])),n=new Hn(e,t),s=new Hn(e,t+1),i=[];return this.dr.forEachInRange([n,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new Qt(new nn([])),n=new Hn(e,t),s=new Hn(e,t+1);let i=Tr();return this.dr.forEachInRange([n,s],a=>{i=i.add(a.key)}),i}containsKey(t){const e=new Hn(t,0),n=this.Tr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Hn{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return Qt.comparator(t.key,e.key)||Mr(t.wr,e.wr)}static Ar(t,e){return Mr(t.wr,e.wr)||Qt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new ni(Hn.Er)}checkEmpty(t){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new QC(i,e,n,s);this.mutationQueue.push(a);for(const u of s)this.br=this.br.add(new Hn(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return dt.resolve(a)}lookupMutationBatch(t,e){return dt.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.vr(n),i=s<0?0:s;return dt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Hn(e,0),s=new Hn(e,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],a=>{const u=this.Dr(a.wr);i.push(u)}),dt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new ni(Mr);return e.forEach(s=>{const i=new Hn(s,0),a=new Hn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],u=>{n=n.add(u.wr)})}),dt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let i=n;Qt.isDocumentKey(i)||(i=i.child(""));const a=new Hn(new Qt(i),0);let u=new ni(Mr);return this.br.forEachWhile(o=>{const l=o.key.path;return!!n.isPrefixOf(l)&&(l.length===s&&(u=u.add(o.wr)),!0)},a),dt.resolve(this.Cr(u))}Cr(t){const e=[];return t.forEach(n=>{const s=this.Dr(n);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){$r(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return dt.forEach(e.mutations,s=>{const i=new Hn(s.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new Hn(e,0),s=this.br.firstAfterOrEqual(n);return dt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,dt.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(t){this.Mr=t,this.docs=function(){return new pn(Qt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),i=s?s.size:0,a=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return dt.resolve(n?n.document.mutableCopy():vi.newInvalidDocument(e))}getEntries(t,e){let n=eo();return e.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():vi.newInvalidDocument(s))}),dt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let i=eo();const a=e.path,u=new Qt(a.child("")),o=this.docs.getIteratorFrom(u);for(;o.hasNext();){const{key:l,value:{document:c}}=o.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||mC(pC(c),n)<=0||(s.has(c.key)||Om(e,c))&&(i=i.insert(c.key,c.mutableCopy()))}return dt.resolve(i)}getAllFromCollectionGroup(t,e,n,s){cr()}Or(t,e){return dt.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new MN(this)}getSize(t){return dt.resolve(this.size)}}class MN extends EN{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?e.push(this.cr.addEntry(t,s)):this.cr.removeEntry(n)}),dt.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.persistence=t,this.Nr=new Vc(e=>wy(e),_y),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ty,this.targetCount=0,this.kr=Rc.Bn()}forEachTarget(t,e){return this.Nr.forEach((n,s)=>e(s)),dt.resolve()}getLastRemoteSnapshotVersion(t){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return dt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),dt.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new Rc(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,dt.resolve()}updateTargetData(t,e){return this.Kn(e),dt.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,dt.resolve()}removeTargets(t,e,n){let s=0;const i=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=e&&n.get(u.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),dt.waitFor(i).next(()=>s)}getTargetCount(t){return dt.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return dt.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),dt.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach(a=>{i.push(s.markPotentiallyOrphaned(t,a))}),dt.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),dt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return dt.resolve(n)}containsKey(t,e){return dt.resolve(this.Br.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,e){this.qr={},this.overlays={},this.Qr=new gy(0),this.Kr=!1,this.Kr=!0,this.$r=new PN,this.referenceDelegate=t(this),this.Ur=new jN(this),this.indexManager=new SN,this.remoteDocumentCache=function(s){return new RN(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new _N(e),this.Gr=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new NN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new IN(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){qt("MemoryPersistence","Starting transaction:",t);const s=new ON(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(t,e){return dt.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class ON extends yC{constructor(t){super(),this.currentSequenceNumber=t}}class Cy{constructor(t){this.persistence=t,this.Jr=new Ty,this.Yr=null}static Zr(t){return new Cy(t)}get Xr(){if(this.Yr)return this.Yr;throw cr()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),dt.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),dt.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),dt.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.Xr,n=>{const s=Qt.fromPath(n);return this.ei(t,s).next(i=>{i||e.removeEntry(s,mr.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(n=>{n?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return dt.or([()=>dt.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=s}static Wi(t,e){let n=Tr(),s=Tr();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ny(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return T9()?8:vC(_i())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,s){const i={result:null};return this.Yi(t,e).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(t,e,s,n).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new DN;return this.Xi(t,e,a).next(u=>{if(i.result=u,this.zi)return this.es(t,e,a,u.size)})}).next(()=>i.result)}es(t,e,n,s){return n.documentReadCount<this.ji?(fh()<=Nr.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",Wu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),dt.resolve()):(fh()<=Nr.DEBUG&&qt("QueryEngine","Query:",Wu(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(fh()<=Nr.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",Wu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ba(e))):dt.resolve())}Yi(t,e){if(B5(e))return dt.resolve(null);let n=ba(e);return this.indexManager.getIndexType(t,n).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=R1(e,null,"F"),n=ba(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const a=Tr(...i);return this.Ji.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,n).next(o=>{const l=this.ts(e,u);return this.ns(e,l,a,o.readTime)?this.Yi(t,R1(e,null,"F")):this.rs(t,l,e,o)}))})))}Zi(t,e,n,s){return B5(e)||s.isEqual(mr.min())?dt.resolve(null):this.Ji.getDocuments(t,n).next(i=>{const a=this.ts(e,i);return this.ns(e,a,n,s)?dt.resolve(null):(fh()<=Nr.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wu(e)),this.rs(t,a,e,dC(s,-1)).next(u=>u))})}ts(t,e){let n=new ni(Fx(t));return e.forEach((s,i)=>{Om(t,i)&&(n=n.add(i))}),n}ns(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(t,e,n){return fh()<=Nr.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",Wu(e)),this.Ji.getDocumentsMatchingQuery(t,e,fl.min(),n)}rs(t,e,n,s){return this.Ji.getDocumentsMatchingQuery(t,n,s).next(i=>(e.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,e,n,s){this.persistence=t,this.ss=e,this.serializer=s,this.os=new pn(Mr),this._s=new Vc(i=>wy(i),_y),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function UN(r,t,e,n){return new BN(r,t,e,n)}async function s6(r,t){const e=gr(r);return await e.persistence.runTransaction("Handle user change","readonly",n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(i=>{const a=[],u=[];let o=Tr();for(const l of s){a.push(l.batchId);for(const c of l.mutations)o=o.add(c.key)}for(const l of i){u.push(l.batchId);for(const c of l.mutations)o=o.add(c.key)}return e.localDocuments.getDocuments(n,o).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:u}))})})}function zN(r,t){const e=gr(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=t.batch.keys(),i=e.cs.newChangeBuffer({trackRemovals:!0});return function(u,o,l,c){const d=l.batch,f=d.keys();let h=dt.resolve();return f.forEach(g=>{h=h.next(()=>c.getEntry(o,g)).next(v=>{const p=l.docVersions.get(g);$r(p!==null),v.version.compareTo(p)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),h.next(()=>u.mutationQueue.removeMutationBatch(o,d))}(e,n,t,i).next(()=>i.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let o=Tr();for(let l=0;l<u.mutationResults.length;++l)u.mutationResults[l].transformResults.length>0&&(o=o.add(u.batch.mutations[l].key));return o}(t))).next(()=>e.localDocuments.getDocuments(n,s))})}function a6(r){const t=gr(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function VN(r,t){const e=gr(r),n=t.snapshotVersion;let s=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=e.cs.newChangeBuffer({trackRemovals:!0});s=e.os;const u=[];t.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;u.push(e.Ur.removeMatchingKeys(i,c.removedDocuments,d).next(()=>e.Ur.addMatchingKeys(i,c.addedDocuments,d)));let h=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(si.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,n)),s=s.insert(d,h),function(v,p,y){return v.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,h,c)&&u.push(e.Ur.updateTargetData(i,h))});let o=eo(),l=Tr();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(i,c))}),u.push(qN(i,a,t.documentUpdates).next(c=>{o=c.Ps,l=c.Is})),!n.isEqual(mr.min())){const c=e.Ur.getLastRemoteSnapshotVersion(i).next(d=>e.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));u.push(c)}return dt.waitFor(u).next(()=>a.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,o,l)).next(()=>o)}).then(i=>(e.os=s,i))}function qN(r,t,e){let n=Tr(),s=Tr();return e.forEach(i=>n=n.add(i)),t.getEntries(r,n).next(i=>{let a=eo();return e.forEach((u,o)=>{const l=i.get(u);o.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(u)),o.isNoDocument()&&o.version.isEqual(mr.min())?(t.removeEntry(u,o.readTime),a=a.insert(u,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(o),a=a.insert(u,o)):qt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",o.version)}),{Ps:a,Is:s}})}function HN(r,t){const e=gr(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function $N(r,t){const e=gr(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return e.Ur.getTargetData(n,t).next(i=>i?(s=i,dt.resolve(s)):e.Ur.allocateTargetId(n).next(a=>(s=new $o(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=e.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.os=e.os.insert(n.targetId,n),e._s.set(t,n.targetId)),n})}async function D1(r,t,e){const n=gr(r),s=n.os.get(t),i=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",i,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Df(a))throw a;qt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}n.os=n.os.remove(t),n._s.delete(s.target)}function Y5(r,t,e){const n=gr(r);let s=mr.min(),i=Tr();return n.persistence.runTransaction("Execute query","readwrite",a=>function(o,l,c){const d=gr(o),f=d._s.get(c);return f!==void 0?dt.resolve(d.os.get(f)):d.Ur.getTargetData(l,c)}(n,a,ba(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,u.targetId).next(o=>{i=o})}).next(()=>n.ss.getDocumentsMatchingQuery(a,t,e?s:mr.min(),e?i:Tr())).next(u=>(WN(n,OC(t),u),{documents:u,Ts:i})))}function WN(r,t,e){let n=r.us.get(t)||mr.min();e.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),r.us.set(t,n)}class Q5{constructor(){this.activeTargetIds=VC()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XN{constructor(){this.so=new Q5,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Q5,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function J0(){return Ud===null?Ud=function(){return 268435456+Math.round(2147483648*Math.random())}():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="WebChannelConnection";class QN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(e,n,s,i,a){const u=J0(),o=this.xo(e,n.toUriEncodedString());qt("RestConnection",`Sending RPC '${e}' ${u}:`,o,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,a),this.No(e,o,l,s).then(c=>(qt("RestConnection",`Received RPC '${e}' ${u}: `,c),c),c=>{throw Cc("RestConnection",`RPC '${e}' ${u} failed with error: `,c,"url: ",o,"request:",s),c})}Lo(e,n,s,i,a,u){return this.Mo(e,n,s,i,a)}Oo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),s&&s.headers.forEach((i,a)=>e[a]=i)}xo(e,n){const s=GN[e];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,s){const i=J0();return new Promise((a,u)=>{const o=new wx;o.setWithCredentials(!0),o.listenOnce(_x.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case gp.NO_ERROR:const c=o.getResponseJson();qt(ci,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(c)),a(c);break;case gp.TIMEOUT:qt(ci,`RPC '${t}' ${i} timed out`),u(new Lt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const d=o.getStatus();if(qt(ci,`RPC '${t}' ${i} failed with status:`,d,"response text:",o.getResponseText()),d>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const g=function(p){const y=p.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(y)>=0?y:nt.UNKNOWN}(h.status);u(new Lt(g,h.message))}else u(new Lt(nt.UNKNOWN,"Server responded with status "+o.getStatus()))}else u(new Lt(nt.UNAVAILABLE,"Connection failed."));break;default:cr()}}finally{qt(ci,`RPC '${t}' ${i} completed.`)}});const l=JSON.stringify(s);qt(ci,`RPC '${t}' ${i} sending request:`,s),o.send(e,"POST",l,n,15)})}Bo(t,e,n){const s=J0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=kx(),u=Sx(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const c=i.join("");qt(ci,`Creating RPC '${t}' stream ${s}: ${c}`,o);const d=a.createWebChannel(c,o);let f=!1,h=!1;const g=new YN({Io:p=>{h?qt(ci,`Not sending because RPC '${t}' stream ${s} is closed:`,p):(f||(qt(ci,`Opening RPC '${t}' stream ${s} transport.`),d.open(),f=!0),qt(ci,`RPC '${t}' stream ${s} sending:`,p),d.send(p))},To:()=>d.close()}),v=(p,y,m)=>{p.listen(y,b=>{try{m(b)}catch(k){setTimeout(()=>{throw k},0)}})};return v(d,Sh.EventType.OPEN,()=>{h||(qt(ci,`RPC '${t}' stream ${s} transport opened.`),g.yo())}),v(d,Sh.EventType.CLOSE,()=>{h||(h=!0,qt(ci,`RPC '${t}' stream ${s} transport closed`),g.So())}),v(d,Sh.EventType.ERROR,p=>{h||(h=!0,Cc(ci,`RPC '${t}' stream ${s} transport errored:`,p),g.So(new Lt(nt.UNAVAILABLE,"The operation could not be completed")))}),v(d,Sh.EventType.MESSAGE,p=>{var y;if(!h){const m=p.data[0];$r(!!m);const b=m,k=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(k){qt(ci,`RPC '${t}' stream ${s} received error:`,k);const N=k.status;let B=function(M){const U=Rn[M];if(U!==void 0)return Gx(U)}(N),j=k.message;B===void 0&&(B=nt.INTERNAL,j="Unknown error status: "+N+" with message "+k.message),h=!0,g.So(new Lt(B,j)),d.close()}else qt(ci,`RPC '${t}' stream ${s} received:`,m),g.bo(m)}}),v(u,xx.STAT_EVENT,p=>{p.stat===A1.PROXY?qt(ci,`RPC '${t}' stream ${s} detected buffering proxy`):p.stat===A1.NOPROXY&&qt(ci,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r){return new oN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(t,e,n=1e3,s=1.5,i=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,e-n);s>0&&qt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(t,e,n,s,i,a,u,o){this.ui=t,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o6(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(Ja(e.toString()),Ja("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===e&&this.P_(n,s)},n=>{t(()=>{const s=new Lt(nt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return qt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZN extends l6{constructor(t,e,n,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=cN(this.serializer,t),n=function(i){if(!("targetChange"in i))return mr.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?mr.min():a.readTime?wa(a.readTime):mr.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=O1(this.serializer),e.addTarget=function(i,a){let u;const o=a.target;if(u=P1(o)?{documents:dN(i,o)}:{query:pN(i,o)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Zx(i,a.resumeToken);const l=M1(i,a.expectedCount);l!==null&&(u.expectedCount=l)}else if(a.snapshotVersion.compareTo(mr.min())>0){u.readTime=im(i,a.snapshotVersion.toTimestamp());const l=M1(i,a.expectedCount);l!==null&&(u.expectedCount=l)}return u}(this.serializer,t);const n=gN(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=O1(this.serializer),e.removeTarget=t,this.a_(e)}}class JN extends l6{constructor(t,e,n,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return $r(!!t.streamToken),this.lastStreamToken=t.streamToken,$r(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){$r(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=fN(t.writeResults,t.commitTime),n=wa(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=O1(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>hN(this.serializer,n))};this.a_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends class{}{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Lt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(t,j1(e,n),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Lt(nt.UNKNOWN,i.toString())})}Lo(t,e,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(t,j1(e,n),s,a,u,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Lt(nt.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class tP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ja(e),this.D_=!1):qt("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,e,n,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{n.enqueueAndForget(async()=>{_u(this)&&(qt("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=gr(o);l.L_.add(4),await Uf(l),l.q_.set("Unknown"),l.L_.delete(4),await Vm(l)}(this))})}),this.q_=new tP(n,s)}}async function Vm(r){if(_u(r))for(const t of r.B_)await t(!0)}async function Uf(r){for(const t of r.B_)await t(!1)}function u6(r,t){const e=gr(r);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),My(e)?Ry(e):qc(e).r_()&&Iy(e,t))}function Py(r,t){const e=gr(r),n=qc(e);e.N_.delete(t),n.r_()&&c6(e,t),e.N_.size===0&&(n.r_()?n.o_():_u(e)&&e.q_.set("Unknown"))}function Iy(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qc(r).A_(t)}function c6(r,t){r.Q_.xe(t),qc(r).R_(t)}function Ry(r){r.Q_=new nN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),qc(r).start(),r.q_.v_()}function My(r){return _u(r)&&!qc(r).n_()&&r.N_.size>0}function _u(r){return gr(r).L_.size===0}function h6(r){r.Q_=void 0}async function nP(r){r.q_.set("Online")}async function iP(r){r.N_.forEach((t,e)=>{Iy(r,t)})}async function sP(r,t){h6(r),My(r)?(r.q_.M_(t),Ry(r)):r.q_.set("Unknown")}async function aP(r,t,e){if(r.q_.set("Online"),t instanceof Qx&&t.state===2&&t.cause)try{await async function(s,i){const a=i.cause;for(const u of i.targetIds)s.N_.has(u)&&(await s.remoteSyncer.rejectListen(u,a),s.N_.delete(u),s.Q_.removeTarget(u))}(r,t)}catch(n){qt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sm(r,n)}else if(t instanceof bp?r.Q_.Ke(t):t instanceof Yx?r.Q_.He(t):r.Q_.We(t),!e.isEqual(mr.min()))try{const n=await a6(r.localStore);e.compareTo(n)>=0&&await function(i,a){const u=i.Q_.rt(a);return u.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const c=i.N_.get(l);c&&i.N_.set(l,c.withResumeToken(o.resumeToken,a))}}),u.targetMismatches.forEach((o,l)=>{const c=i.N_.get(o);if(!c)return;i.N_.set(o,c.withResumeToken(si.EMPTY_BYTE_STRING,c.snapshotVersion)),c6(i,o);const d=new $o(c.target,o,l,c.sequenceNumber);Iy(i,d)}),i.remoteSyncer.applyRemoteEvent(u)}(r,e)}catch(n){qt("RemoteStore","Failed to raise snapshot:",n),await sm(r,n)}}async function sm(r,t,e){if(!Df(t))throw t;r.L_.add(1),await Uf(r),r.q_.set("Offline"),e||(e=()=>a6(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{qt("RemoteStore","Retrying IndexedDB access"),await e(),r.L_.delete(1),await Vm(r)})}function f6(r,t){return t().catch(e=>sm(r,e,t))}async function qm(r){const t=gr(r),e=pl(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;oP(t);)try{const s=await HN(t.localStore,n);if(s===null){t.O_.length===0&&e.o_();break}n=s.batchId,lP(t,s)}catch(s){await sm(t,s)}d6(t)&&p6(t)}function oP(r){return _u(r)&&r.O_.length<10}function lP(r,t){r.O_.push(t);const e=pl(r);e.r_()&&e.V_&&e.m_(t.mutations)}function d6(r){return _u(r)&&!pl(r).n_()&&r.O_.length>0}function p6(r){pl(r).start()}async function uP(r){pl(r).p_()}async function cP(r){const t=pl(r);for(const e of r.O_)t.m_(e.mutations)}async function hP(r,t,e){const n=r.O_.shift(),s=ky.from(n,t,e);await f6(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await qm(r)}async function fP(r,t){t&&pl(r).V_&&await async function(n,s){if(function(a){return eN(a)&&a!==nt.ABORTED}(s.code)){const i=n.O_.shift();pl(n).s_(),await f6(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await qm(n)}}(r,t),d6(r)&&p6(r)}async function J5(r,t){const e=gr(r);e.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const n=_u(e);e.L_.add(3),await Uf(e),n&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await Vm(e)}async function dP(r,t){const e=gr(r);t?(e.L_.delete(2),await Vm(e)):t||(e.L_.add(2),await Uf(e),e.q_.set("Unknown"))}function qc(r){return r.K_||(r.K_=function(e,n,s){const i=gr(e);return i.w_(),new ZN(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Eo:nP.bind(null,r),Ro:iP.bind(null,r),mo:sP.bind(null,r),d_:aP.bind(null,r)}),r.B_.push(async t=>{t?(r.K_.s_(),My(r)?Ry(r):r.q_.set("Unknown")):(await r.K_.stop(),h6(r))})),r.K_}function pl(r){return r.U_||(r.U_=function(e,n,s){const i=gr(e);return i.w_(),new JN(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uP.bind(null,r),mo:fP.bind(null,r),f_:cP.bind(null,r),g_:hP.bind(null,r)}),r.B_.push(async t=>{t?(r.U_.s_(),await qm(r)):(await r.U_.stop(),r.O_.length>0&&(qt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(t,e,n,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,i){const a=Date.now()+n,u=new jy(t,e,a,s,i);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ly(r,t){if(Ja("AsyncQueue",`${t}: ${r}`),Df(r))return new Lt(nt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Qt.comparator(e.key,n.key):(e,n)=>Qt.comparator(e.key,n.key),this.keyedMap=kh(),this.sortedSet=new pn(this.comparator)}static emptySet(t){return new bc(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new bc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.W_=new pn(Qt.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(e,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(e):t.type===1&&n.type===2?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):cr():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class Mc{constructor(t,e,n,s,i,a,u,o,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,s,i){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new Mc(t,e,bc.emptySet(e),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class mP{constructor(){this.queries=tw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){const s=gr(e),i=s.queries;s.queries=tw(),i.forEach((a,u)=>{for(const o of u.j_)o.onError(n)})})(this,new Lt(nt.ABORTED,"Firestore shutting down"))}}function tw(){return new Vc(r=>Dx(r),Lm)}async function m6(r,t){const e=gr(r);let n=3;const s=t.query;let i=e.queries.get(s);i?!i.H_()&&t.J_()&&(n=2):(i=new pP,n=t.J_()?0:1);try{switch(n){case 0:i.z_=await e.onListen(s,!0);break;case 1:i.z_=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(a){const u=Ly(a,`Initialization of query '${Wu(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,i),i.j_.push(t),t.Z_(e.onlineState),i.z_&&t.X_(i.z_)&&Oy(e)}async function g6(r,t){const e=gr(r),n=t.query;let s=3;const i=e.queries.get(n);if(i){const a=i.j_.indexOf(t);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function gP(r,t){const e=gr(r);let n=!1;for(const s of t){const i=s.query,a=e.queries.get(i);if(a){for(const u of a.j_)u.X_(s)&&(n=!0);a.z_=s}}n&&Oy(e)}function yP(r,t,e){const n=gr(r),s=n.queries.get(t);if(s)for(const i of s.j_)i.onError(e);n.queries.delete(t)}function Oy(r){r.Y_.forEach(t=>{t.next()})}var F1,rw;(rw=F1||(F1={})).ea="default",rw.Cache="cache";class y6{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new Mc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const n=e!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=Mc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==F1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.key=t}}class b6{constructor(t){this.key=t}}class vP{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tr(),this.mutatedKeys=Tr(),this.Aa=Fx(t),this.Ra=new bc(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new ew,s=e?e.Ra:this.Ra;let i=e?e.mutatedKeys:this.mutatedKeys,a=s,u=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((c,d)=>{const f=s.get(c),h=Om(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let p=!1;f&&h?f.data.isEqual(h.data)?g!==v&&(n.track({type:3,doc:h}),p=!0):this.ga(f,h)||(n.track({type:2,doc:h}),p=!0,(o&&this.Aa(h,o)>0||l&&this.Aa(h,l)<0)&&(u=!0)):!f&&h?(n.track({type:0,doc:h}),p=!0):f&&!h&&(n.track({type:1,doc:f}),p=!0,(o||l)&&(u=!0)),p&&(h?(a=a.add(h),i=v?i.add(c):i.delete(c)):(a=a.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),i=i.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:u,mutatedKeys:i}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const i=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((c,d)=>function(h,g){const v=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cr()}};return v(h)-v(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),s=s!=null&&s;const u=e&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,l=o!==this.Ea;return this.Ea=o,a.length!==0||l?{snapshot:new Mc(this.query,t.Ra,i,a,t.mutatedKeys,o===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ew,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Tr(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const e=[];return t.forEach(n=>{this.da.has(n)||e.push(new b6(n))}),this.da.forEach(n=>{t.has(n)||e.push(new v6(n))}),e}ba(t){this.Ta=t.Ts,this.da=Tr();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Mc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class bP{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class wP{constructor(t){this.key=t,this.va=!1}}class _P{constructor(t,e,n,s,i,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Vc(u=>Dx(u),Lm),this.Ma=new Map,this.xa=new Set,this.Oa=new pn(Qt.comparator),this.Na=new Map,this.La=new Ty,this.Ba={},this.ka=new Map,this.qa=Rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xP(r,t,e=!0){const n=E6(r);let s;const i=n.Fa.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await w6(n,t,e,!0),s}async function SP(r,t){const e=E6(r);await w6(e,t,!0,!1)}async function w6(r,t,e,n){const s=await $N(r.localStore,ba(t)),i=s.targetId,a=r.sharedClientState.addLocalQueryTarget(i,e);let u;return n&&(u=await kP(r,t,i,a==="current",s.resumeToken)),r.isPrimaryClient&&e&&u6(r.remoteStore,s),u}async function kP(r,t,e,n,s){r.Ka=(d,f,h)=>async function(v,p,y,m){let b=p.view.ma(y);b.ns&&(b=await Y5(v.localStore,p.query,!1).then(({documents:j})=>p.view.ma(j,b)));const k=m&&m.targetChanges.get(p.targetId),N=m&&m.targetMismatches.get(p.targetId)!=null,B=p.view.applyChanges(b,v.isPrimaryClient,k,N);return iw(v,p.targetId,B.wa),B.snapshot}(r,d,f,h);const i=await Y5(r.localStore,t,!0),a=new vP(t,i.Ts),u=a.ma(i.documents),o=Bf.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),l=a.applyChanges(u,r.isPrimaryClient,o);iw(r,e,l.wa);const c=new bP(t,e,a);return r.Fa.set(t,c),r.Ma.has(e)?r.Ma.get(e).push(t):r.Ma.set(e,[t]),l.snapshot}async function EP(r,t,e){const n=gr(r),s=n.Fa.get(t),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(a=>!Lm(a,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await D1(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),e&&Py(n.remoteStore,s.targetId),B1(n,s.targetId)}).catch(Of)):(B1(n,s.targetId),await D1(n.localStore,s.targetId,!0))}async function AP(r,t){const e=gr(r),n=e.Fa.get(t),s=e.Ma.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),Py(e.remoteStore,n.targetId))}async function TP(r,t,e){const n=jP(r);try{const s=await function(a,u){const o=gr(a),l=Fr.now(),c=u.reduce((h,g)=>h.add(g.key),Tr());let d,f;return o.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=eo(),v=Tr();return o.cs.getEntries(h,c).next(p=>{g=p,g.forEach((y,m)=>{m.isValidDocument()||(v=v.add(y))})}).next(()=>o.localDocuments.getOverlayedDocuments(h,g)).next(p=>{d=p;const y=[];for(const m of u){const b=GC(m,d.get(m.key).overlayedDocument);b!=null&&y.push(new xl(m.key,b,Nx(b.value.mapValue),Ii.exists(!0)))}return o.mutationQueue.addMutationBatch(h,l,y,u)}).next(p=>{f=p;const y=p.applyToLocalDocumentSet(d,v);return o.documentOverlayCache.saveOverlays(h,p.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Ux(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),function(a,u,o){let l=a.Ba[a.currentUser.toKey()];l||(l=new pn(Mr)),l=l.insert(u,o),a.Ba[a.currentUser.toKey()]=l}(n,s.batchId,e),await zf(n,s.changes),await qm(n.remoteStore)}catch(s){const i=Ly(s,"Failed to persist write");e.reject(i)}}async function _6(r,t){const e=gr(r);try{const n=await VN(e.localStore,t);t.targetChanges.forEach((s,i)=>{const a=e.Na.get(i);a&&($r(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?$r(a.va):s.removedDocuments.size>0&&($r(a.va),a.va=!1))}),await zf(e,n,t)}catch(n){await Of(n)}}function nw(r,t,e){const n=gr(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Fa.forEach((i,a)=>{const u=a.view.Z_(t);u.snapshot&&s.push(u.snapshot)}),function(a,u){const o=gr(a);o.onlineState=u;let l=!1;o.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(u)&&(l=!0)}),l&&Oy(o)}(n.eventManager,t),s.length&&n.Ca.d_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function CP(r,t,e){const n=gr(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Na.get(t),i=s&&s.key;if(i){let a=new pn(Qt.comparator);a=a.insert(i,vi.newNoDocument(i,mr.min()));const u=Tr().add(i),o=new Um(mr.min(),new Map,new pn(Mr),a,u);await _6(n,o),n.Oa=n.Oa.remove(i),n.Na.delete(t),Dy(n)}else await D1(n.localStore,t,!1).then(()=>B1(n,t,e)).catch(Of)}async function NP(r,t){const e=gr(r),n=t.batch.batchId;try{const s=await zN(e.localStore,t);S6(e,n,null),x6(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await zf(e,s)}catch(s){await Of(s)}}async function PP(r,t,e){const n=gr(r);try{const s=await function(a,u){const o=gr(a);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return o.mutationQueue.lookupMutationBatch(l,u).next(d=>($r(d!==null),c=d.keys(),o.mutationQueue.removeMutationBatch(l,d))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,c,u)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>o.localDocuments.getDocuments(l,c))})}(n.localStore,t);S6(n,t,e),x6(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await zf(n,s)}catch(s){await Of(s)}}function x6(r,t){(r.ka.get(t)||[]).forEach(e=>{e.resolve()}),r.ka.delete(t)}function S6(r,t,e){const n=gr(r);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),n.Ba[n.currentUser.toKey()]=s}}function B1(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Ma.get(t))r.Fa.delete(n),e&&r.Ca.$a(n,e);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach(n=>{r.La.containsKey(n)||k6(r,n)})}function k6(r,t){r.xa.delete(t.path.canonicalString());const e=r.Oa.get(t);e!==null&&(Py(r.remoteStore,e),r.Oa=r.Oa.remove(t),r.Na.delete(e),Dy(r))}function iw(r,t,e){for(const n of e)n instanceof v6?(r.La.addReference(n.key,t),IP(r,n)):n instanceof b6?(qt("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,t),r.La.containsKey(n.key)||k6(r,n.key)):cr()}function IP(r,t){const e=t.key,n=e.path.canonicalString();r.Oa.get(e)||r.xa.has(n)||(qt("SyncEngine","New document in limbo: "+e),r.xa.add(n),Dy(r))}function Dy(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const e=new Qt(nn.fromString(t)),n=r.qa.next();r.Na.set(n,new wP(e)),r.Oa=r.Oa.insert(e,n),u6(r.remoteStore,new $o(ba(xy(e.path)),n,"TargetPurposeLimboResolution",gy.oe))}}async function zf(r,t,e){const n=gr(r),s=[],i=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((u,o)=>{a.push(n.Ka(o,t,e).then(l=>{var c;if((l||e)&&n.isPrimaryClient){const d=l?!l.fromCache:(c=e==null?void 0:e.targetChanges.get(o.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(o.targetId,d?"current":"not-current")}if(l){s.push(l);const d=Ny.Wi(o.targetId,l);i.push(d)}}))}),await Promise.all(a),n.Ca.d_(s),await async function(o,l){const c=gr(o);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>dt.forEach(l,f=>dt.forEach(f.$i,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>dt.forEach(f.Ui,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Df(d))throw d;qt("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const h=c.os.get(f),g=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,v)}}}(n.localStore,i))}async function RP(r,t){const e=gr(r);if(!e.currentUser.isEqual(t)){qt("SyncEngine","User change. New user:",t.toKey());const n=await s6(e.localStore,t);e.currentUser=t,function(i,a){i.ka.forEach(u=>{u.forEach(o=>{o.reject(new Lt(nt.CANCELLED,a))})}),i.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await zf(e,n.hs)}}function MP(r,t){const e=gr(r),n=e.Na.get(t);if(n&&n.va)return Tr().add(n.key);{let s=Tr();const i=e.Ma.get(t);if(!i)return s;for(const a of i){const u=e.Fa.get(a);s=s.unionWith(u.view.Va)}return s}}function E6(r){const t=gr(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CP.bind(null,t),t.Ca.d_=gP.bind(null,t.eventManager),t.Ca.$a=yP.bind(null,t.eventManager),t}function jP(r){const t=gr(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PP.bind(null,t),t}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return UN(this.persistence,new FN,t.initialUser,this.serializer)}Ga(t){return new LN(Cy.Zr,this.serializer)}Wa(t){return new XN}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class U1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>nw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=RP.bind(null,this.syncEngine),await dP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mP}()}createDatastore(t){const e=zm(t.databaseInfo.databaseId),n=function(i){return new QN(i)}(t.databaseInfo);return function(i,a,u,o){return new eP(i,a,u,o)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(n,s,i,a,u){return new rP(n,s,i,a,u)}(this.localStore,this.datastore,t.asyncQueue,e=>nw(this.syncEngine,e,0),function(){return Z5.D()?new Z5:new KN}())}createSyncEngine(t,e){return function(s,i,a,u,o,l,c){const d=new _P(s,i,a,u,o,l);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const i=gr(s);qt("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Uf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}U1.provider={build:()=>new U1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ja("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(t,e,n,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=gi.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async a=>{qt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(qt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ly(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function tg(r,t){r.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await s6(t.localStore,s),n=s)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function sw(r,t){r.asyncQueue.verifyOperationInProgress();const e=await OP(r);qt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener(n=>J5(t.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>J5(t.remoteStore,s)),r._onlineComponents=t}async function OP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){qt("FirestoreClient","Using user provided OfflineComponentProvider");try{await tg(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===nt.FAILED_PRECONDITION||s.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Cc("Error using user provided cache. Falling back to memory cache: "+e),await tg(r,new am)}}else qt("FirestoreClient","Using default OfflineComponentProvider"),await tg(r,new am);return r._offlineComponents}async function T6(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(qt("FirestoreClient","Using user provided OnlineComponentProvider"),await sw(r,r._uninitializedComponentsProvider._online)):(qt("FirestoreClient","Using default OnlineComponentProvider"),await sw(r,new U1))),r._onlineComponents}function DP(r){return T6(r).then(t=>t.syncEngine)}async function z1(r){const t=await T6(r),e=t.eventManager;return e.onListen=xP.bind(null,t.syncEngine),e.onUnlisten=EP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=SP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=AP.bind(null,t.syncEngine),e}function FP(r,t,e={}){const n=new il;return r.asyncQueue.enqueueAndForget(async()=>function(i,a,u,o,l){const c=new A6({next:f=>{c.Za(),a.enqueueAndForget(()=>g6(i,d)),f.fromCache&&o.source==="server"?l.reject(new Lt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new y6(u,c,{includeMetadataChanges:!0,_a:!0});return m6(i,d)}(await z1(r),r.asyncQueue,t,e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(r,t,e){if(!e)throw new Lt(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function BP(r,t,e,n){if(t===!0&&n===!0)throw new Lt(nt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function ow(r){if(!Qt.isDocumentKey(r))throw new Lt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lw(r){if(Qt.isDocumentKey(r))throw new Lt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Hm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":cr()}function os(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Lt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Hm(r);throw new Lt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Lt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Lt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C6((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Lt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Lt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Lt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $m{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Lt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uw(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new iC;switch(n.type){case"firstParty":return new lC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=aw.get(e);n&&(qt("ComponentProvider","Removing Datastore"),aw.delete(e),n.terminate())}(this),Promise.resolve()}}function UP(r,t,e,n={}){var s;const i=(r=os(r,$m))._getSettings(),a=`${t}:${e}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),n.mockUserToken){let u,o;if(typeof n.mockUserToken=="string")u=n.mockUserToken,o=gi.MOCK_USER;else{u=j_(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new Lt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new gi(l)}r._authCredentials=new sC(new Ex(u,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Sl(this.firestore,t,this._query)}}class Ri{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ri(this.firestore,t,this._key)}}class sl extends Sl{constructor(t,e,n){super(t,e,xy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ri(this.firestore,null,new Qt(t))}withConverter(t){return new sl(this.firestore,t,this._path)}}function zu(r,t,...e){if(r=en(r),N6("collection","path",t),r instanceof $m){const n=nn.fromString(t,...e);return lw(n),new sl(r,null,n)}{if(!(r instanceof Ri||r instanceof sl))throw new Lt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(nn.fromString(t,...e));return lw(n),new sl(r.firestore,null,n)}}function Uo(r,t,...e){if(r=en(r),arguments.length===1&&(t=Ax.newId()),N6("doc","path",t),r instanceof $m){const n=nn.fromString(t,...e);return ow(n),new Ri(r,null,new Qt(n))}{if(!(r instanceof Ri||r instanceof sl))throw new Lt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(nn.fromString(t,...e));return ow(n),new Ri(r.firestore,r instanceof sl?r.converter:null,new Qt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new o6(this,"async_queue_retry"),this.Vu=()=>{const n=eg();n&&qt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const e=eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=eg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new il;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Df(t))throw t;qt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const s=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(n);throw Ja("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const s=jy.createAndSchedule(this,t,e,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&cr()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function hw(r){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(r,["next","error","complete"])}class to extends $m{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new cw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cw(t),this._firestoreClient=void 0,await t}}}function zP(r,t){const e=typeof r=="object"?r:sy(),n=typeof r=="string"?r:"(default)",s=Nm(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=I_("firestore");i&&UP(s,...i)}return s}function Wm(r){if(r._terminated)throw new Lt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VP(r),r._firestoreClient}function VP(r){var t,e,n;const s=r._freezeSettings(),i=function(u,o,l,c){return new _C(u,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,C6(c.experimentalLongPollingOptions),c.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new LP(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(u){const o=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(o),_online:o}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jc(si.fromBase64String(t))}catch(e){throw new Lt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new jc(si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Lt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mr(this._lat,t._lat)||Mr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=/^__.*__$/;class HP{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new xl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ff(t,this.data,e,this.fieldTransforms)}}class P6{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new xl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function I6(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cr()}}class zy{constructor(t,e,n,s,i,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new zy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Fu({path:n,xu:!1});return s.Ou(t),s}Nu(t){var e;const n=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return om(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(I6(this.Cu)&&qP.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class $P{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||zm(t)}Qu(t,e,n,s=!1){return new zy({Cu:t,methodName:e,qu:n,path:ei.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(r){const t=r._freezeSettings(),e=zm(r._databaseId);return new $P(r._databaseId,!!t.ignoreUndefinedProperties,e)}function Vy(r,t,e,n,s,i={}){const a=r.Qu(i.merge||i.mergeFields?2:0,t,e,s);qy("Data must be an object, but it was:",a,n);const u=j6(n,a);let o,l;if(i.merge)o=new ns(a.fieldMask),l=a.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const f=V1(t,d,e);if(!a.contains(f))throw new Lt(nt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);O6(c,f)||c.push(f)}o=new ns(c),l=a.fieldTransforms.filter(d=>o.covers(d.field))}else o=null,l=a.fieldTransforms;return new HP(new Vi(u),o,l)}class Xm extends Fy{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xm}}function R6(r,t,e,n){const s=r.Qu(1,t,e);qy("Data must be an object, but it was:",s,n);const i=[],a=Vi.empty();wu(n,(o,l)=>{const c=Hy(t,o,e);l=en(l);const d=s.Nu(c);if(l instanceof Xm)i.push(c);else{const f=Hf(l,d);f!=null&&(i.push(c),a.set(c,f))}});const u=new ns(i);return new P6(a,u,s.fieldTransforms)}function M6(r,t,e,n,s,i){const a=r.Qu(1,t,e),u=[V1(t,n,e)],o=[s];if(i.length%2!=0)throw new Lt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)u.push(V1(t,i[f])),o.push(i[f+1]);const l=[],c=Vi.empty();for(let f=u.length-1;f>=0;--f)if(!O6(l,u[f])){const h=u[f];let g=o[f];g=en(g);const v=a.Nu(h);if(g instanceof Xm)l.push(h);else{const p=Hf(g,v);p!=null&&(l.push(h),c.set(h,p))}}const d=new ns(l);return new P6(c,d,a.fieldTransforms)}function WP(r,t,e,n=!1){return Hf(e,r.Qu(n?4:3,t))}function Hf(r,t){if(L6(r=en(r)))return qy("Unsupported field value:",t,r),j6(r,t);if(r instanceof Fy)return function(n,s){if(!I6(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,s){const i=[];let a=0;for(const u of n){let o=Hf(u,s.Lu(a));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),a++}return{arrayValue:{values:i}}}(r,t)}return function(n,s){if((n=en(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Fr.fromDate(n);return{timestampValue:im(s.serializer,i)}}if(n instanceof Fr){const i=new Fr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:im(s.serializer,i)}}if(n instanceof By)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jc)return{bytesValue:Zx(s.serializer,n._byteString)};if(n instanceof Ri){const i=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ay(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Uy)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(o=>{if(typeof o!="number")throw u.Bu("VectorValues must only contain numeric values.");return Sy(u.serializer,o)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Hm(n)}`)}(r,t)}function j6(r,t){const e={};return Tx(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wu(r,(n,s)=>{const i=Hf(s,t.Mu(n));i!=null&&(e[n]=i)}),{mapValue:{fields:e}}}function L6(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Fr||r instanceof By||r instanceof jc||r instanceof Ri||r instanceof Fy||r instanceof Uy)}function qy(r,t,e){if(!L6(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const n=Hm(e);throw n==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+n)}}function V1(r,t,e){if((t=en(t))instanceof Vf)return t._internalPath;if(typeof t=="string")return Hy(r,t);throw om("Field path arguments must be of type string or ",r,!1,void 0,e)}const XP=new RegExp("[~\\*/\\[\\]]");function Hy(r,t,e){if(t.search(XP)>=0)throw om(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Vf(...t.split("."))._internalPath}catch{throw om(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function om(r,t,e,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let o="";return(i||a)&&(o+=" (found",i&&(o+=` in field ${n}`),a&&(o+=` in document ${s}`),o+=")"),new Lt(nt.INVALID_ARGUMENT,u+r+o)}function O6(r,t){return r.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(t,e,n,s,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($y("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KP extends D6{data(){return super.data()}}function $y(r,t){return typeof t=="string"?Hy(r,t):t instanceof Vf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Lt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class B6 extends Wy{}function fw(r,t,...e){let n=[];t instanceof Wy&&n.push(t),n=n.concat(e),function(i){const a=i.filter(o=>o instanceof Ky).length,u=i.filter(o=>o instanceof Xy).length;if(a>1||a>0&&u>0)throw new Lt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class Xy extends B6{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Xy(t,e,n)}_apply(t){const e=this._parse(t);return U6(t._query,e),new Sl(t.firestore,t.converter,I1(t._query,e))}_parse(t){const e=qf(t.firestore);return function(i,a,u,o,l,c,d){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Lt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){mw(d,c);const h=[];for(const g of d)h.push(pw(o,i,g));f={arrayValue:{values:h}}}else f=pw(o,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||mw(d,c),f=WP(u,a,d,c==="in"||c==="not-in");return jn.create(l,c,f)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Ky extends Wy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ky(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return e.length===1?e[0]:Ys.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,i){let a=s;const u=i.getFlattenedFilters();for(const o of u)U6(a,o),a=I1(a,o)}(t._query,e),new Sl(t.firestore,t.converter,I1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gy extends B6{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Gy(t,e)}_apply(t){const e=function(s,i,a){if(s.startAt!==null)throw new Lt(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Lt(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vf(i,a)}(t._query,this._field,this._direction);return new Sl(t.firestore,t.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new zc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}function dw(r,t="asc"){const e=t,n=$y("orderBy",r);return Gy._create(n,e)}function pw(r,t,e){if(typeof(e=en(e))=="string"){if(e==="")throw new Lt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ox(t)&&e.indexOf("/")!==-1)throw new Lt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(nn.fromString(e));if(!Qt.isDocumentKey(n))throw new Lt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return M5(r,new Qt(n))}if(e instanceof Ri)return M5(r,e._key);throw new Lt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(e)}.`)}function mw(r,t){if(!Array.isArray(r)||r.length===0)throw new Lt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function U6(r,t){const e=function(s,i){for(const a of s)for(const u of a.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Lt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Lt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class GP{convertValue(t,e="none"){switch(pu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return En(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(du(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw cr()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return wu(t,(s,i)=>{n[s]=this.convertValue(i,e)}),n}convertVectorValue(t){var e,n,s;const i=(s=(n=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(a=>En(a.doubleValue));return new Uy(i)}convertGeoPoint(t){return new By(En(t.latitude),En(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=vy(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(mf(t));default:return null}}convertTimestamp(t){const e=dl(t);return new Fr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=nn.fromString(t);$r(i6(n));const s=new gf(n.get(1),n.get(3)),i=new Qt(n.popFirst(5));return s.isEqual(e)||Ja(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class z6 extends D6{constructor(t,e,n,s,i,a){super(t,e,n,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field($y("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class wp extends z6{data(t={}){return super.data(t)}}class V6{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Ah(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new wp(this._firestore,this._userDataWriter,n.key,n,new Ah(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(u=>{const o=new wp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Ah(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:o,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const o=new wp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Ah(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return u.type!==0&&(l=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),c=a.indexOf(u.doc.key)),{type:YP(u.type),doc:o,oldIndex:l,newIndex:c}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function YP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cr()}}class Qy extends GP{constructor(t){super(),this.firestore=t}convertBytes(t){return new jc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ri(this.firestore,null,e)}}function gw(r){r=os(r,Sl);const t=os(r.firestore,to),e=Wm(t),n=new Qy(t);return F6(r._query),FP(e,r._query).then(s=>new V6(t,n,r,s))}function yw(r,t,e){r=os(r,Ri);const n=os(r.firestore,to),s=Yy(r.converter,t,e);return $f(n,[Vy(qf(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,Ii.none())])}function QP(r,t,e,...n){r=os(r,Ri);const s=os(r.firestore,to),i=qf(s);let a;return a=typeof(t=en(t))=="string"||t instanceof Vf?M6(i,"updateDoc",r._key,t,e,n):R6(i,"updateDoc",r._key,t),$f(s,[a.toMutation(r._key,Ii.exists(!0))])}function ZP(r){return $f(os(r.firestore,to),[new Bm(r._key,Ii.none())])}function vw(r,t){const e=os(r.firestore,to),n=Uo(r),s=Yy(r.converter,t);return $f(e,[Vy(qf(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Ii.exists(!1))]).then(()=>n)}function q6(r,...t){var e,n,s;r=en(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||hw(t[a])||(i=t[a],a++);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(hw(t[a])){const d=t[a];t[a]=(e=d.next)===null||e===void 0?void 0:e.bind(d),t[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[a+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let o,l,c;if(r instanceof Ri)l=os(r.firestore,to),c=xy(r._key.path),o={next:d=>{t[a]&&t[a](JP(l,r,d))},error:t[a+1],complete:t[a+2]};else{const d=os(r,Sl);l=os(d.firestore,to),c=d._query;const f=new Qy(l);o={next:h=>{t[a]&&t[a](new V6(l,f,d,h))},error:t[a+1],complete:t[a+2]},F6(r._query)}return function(f,h,g,v){const p=new A6(v),y=new y6(h,p,g);return f.asyncQueue.enqueueAndForget(async()=>m6(await z1(f),y)),()=>{p.Za(),f.asyncQueue.enqueueAndForget(async()=>g6(await z1(f),y))}}(Wm(l),c,u,o)}function $f(r,t){return function(n,s){const i=new il;return n.asyncQueue.enqueueAndForget(async()=>TP(await DP(n),s,i)),i.promise}(Wm(r),t)}function JP(r,t,e){const n=e.docs.get(t._key),s=new Qy(r);return new z6(r,s,t._key,n,new Ah(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qf(t)}set(t,e,n){this._verifyNotCommitted();const s=rg(t,this._firestore),i=Yy(s.converter,e,n),a=Vy(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(a.toMutation(s._key,Ii.none())),this}update(t,e,n,...s){this._verifyNotCommitted();const i=rg(t,this._firestore);let a;return a=typeof(e=en(e))=="string"||e instanceof Vf?M6(this._dataReader,"WriteBatch.update",i._key,e,n,s):R6(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(a.toMutation(i._key,Ii.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=rg(t,this._firestore);return this._mutations=this._mutations.concat(new Bm(e._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rg(r,t){if((r=en(r)).firestore!==t)throw new Lt(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(r){return Wm(r=os(r,to)),new eI(r,t=>$f(r,t))}(function(t,e=!0){(function(s){Uc=s})(vu),cu(new hl("firestore",(n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),u=new to(new aC(n.getProvider("auth-internal")),new cC(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Lt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(l.options.projectId,c)}(a,s),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),ga(C5,"4.7.3",t),ga(C5,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firebasestorage.googleapis.com",$6="storageBucket",tI=2*60*1e3,rI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends Sa{constructor(t,e,n=0){super(ng(t),`Firebase Storage: ${e} (${ng(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ng(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function ng(r){return"storage/"+r}function Zy(){const r="An unknown error occurred, please check the error payload for server response.";return new _n(wn.UNKNOWN,r)}function nI(r){return new _n(wn.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function iI(r){return new _n(wn.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sI(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(wn.UNAUTHENTICATED,r)}function aI(){return new _n(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oI(r){return new _n(wn.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function lI(){return new _n(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uI(){return new _n(wn.CANCELED,"User canceled the upload/download.")}function cI(r){return new _n(wn.INVALID_URL,"Invalid URL '"+r+"'.")}function hI(r){return new _n(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function fI(){return new _n(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$6+"' property when initializing the app?")}function dI(){return new _n(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pI(){return new _n(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mI(r){return new _n(wn.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function q1(r){return new _n(wn.INVALID_ARGUMENT,r)}function W6(){return new _n(wn.APP_DELETED,"The Firebase app was deleted.")}function gI(r){return new _n(wn.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zh(r,t){return new _n(wn.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function dh(r){throw new _n(wn.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=is.makeFromUrl(t,e)}catch{return new is(t,"")}if(n.path==="")return n;throw hI(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),o={bucket:1,path:3};function l(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=e===H6?"(?:storage.googleapis.com|storage.cloud.google.com)":e,p="([^?#]*)",y=new RegExp(`^https?://${v}/${s}/${p}`,"i"),b=[{regex:u,indices:o,postModify:i},{regex:h,indices:g,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let k=0;k<b.length;k++){const N=b[k],B=N.regex.exec(t);if(B){const j=B[N.indices.bucket];let T=B[N.indices.path];T||(T=""),n=new is(j,T),N.postModify(n);break}}if(n==null)throw cI(t);return n}}class yI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r,t,e){let n=1,s=null,i=null,a=!1,u=0;function o(){return u===2}let l=!1;function c(...p){l||(l=!0,t.apply(null,p))}function d(p){s=setTimeout(()=>{s=null,r(h,o())},p)}function f(){i&&clearTimeout(i)}function h(p,...y){if(l){f();return}if(p){f(),c.call(null,p,...y);return}if(o()||a){f(),c.call(null,p,...y);return}n<64&&(n*=2);let b;u===1?(u=2,b=0):b=(n+Math.random())*1e3,d(b)}let g=!1;function v(p){g||(g=!0,f(),!l&&(s!==null?(p||(u=2),clearTimeout(s),d(0)):p||(u=1)))}return d(0),i=setTimeout(()=>{a=!0,v(!0)},e),v}function bI(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){return r!==void 0}function _I(r){return typeof r=="object"&&!Array.isArray(r)}function Jy(r){return typeof r=="string"||r instanceof String}function bw(r){return ev()&&r instanceof Blob}function ev(){return typeof Blob<"u"}function ww(r,t,e,n){if(n<t)throw q1(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>e)throw q1(`Invalid value for '${r}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r,t,e){let n=t;return e==null&&(n=`https://${t}`),`${e}://${n}/v0${r}`}function X6(r){const t=encodeURIComponent;let e="?";for(const n in r)if(r.hasOwnProperty(n)){const s=t(n)+"="+t(r[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var Ql;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ql||(Ql={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r,t){const e=r>=500&&r<600,s=[408,429].indexOf(r)!==-1,i=t.indexOf(r)!==-1;return e||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,e,n,s,i,a,u,o,l,c,d,f=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,g)=>{this.resolve_=h,this.reject_=g,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new Vd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const o=u.loaded,l=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,l)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Ql.NO_ERROR,o=i.getStatus();if(!u||xI(o,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Ql.ABORT;n(!1,new Vd(!1,null,c));return}const l=this.successCodes_.indexOf(o)!==-1;n(!0,new Vd(l,i))})},e=(n,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(u,u.getResponse());wI(o)?i(o):i()}catch(o){a(o)}else if(u!==null){const o=Zy();o.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,o)):a(o)}else if(s.canceled){const o=this.appDelete_?W6():uI();a(o)}else{const o=lI();a(o)}};this.canceled_?e(!1,new Vd(!1,null,!0)):this.backoffId_=vI(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vd{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function kI(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function EI(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function AI(r,t){t&&(r["X-Firebase-GMPID"]=t)}function TI(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function CI(r,t,e,n,s,i,a=!0){const u=X6(r.urlParams),o=r.url+u,l=Object.assign({},r.headers);return AI(l,t),kI(l,e),EI(l,i),TI(l,n),new SI(o,r.method,l,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PI(...r){const t=NI();if(t!==void 0){const e=new t;for(let n=0;n<r.length;n++)e.append(r[n]);return e.getBlob()}else{if(ev())return new Blob(r);throw new _n(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function II(r,t,e){return r.webkitSlice?r.webkitSlice(t,e):r.mozSlice?r.mozSlice(t,e):r.slice?r.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){if(typeof atob>"u")throw mI("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ig{constructor(t,e){this.data=t,this.contentType=e||null}}function MI(r,t){switch(r){case fa.RAW:return new ig(K6(t));case fa.BASE64:case fa.BASE64URL:return new ig(G6(r,t));case fa.DATA_URL:return new ig(LI(t),OI(t))}throw Zy()}function K6(r){const t=[];for(let e=0;e<r.length;e++){let n=r.charCodeAt(e);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(e<r.length-1&&(r.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const i=n,a=r.charCodeAt(++e);n=65536|(i&1023)<<10|a&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function jI(r){let t;try{t=decodeURIComponent(r)}catch{throw zh(fa.DATA_URL,"Malformed data URL.")}return K6(t)}function G6(r,t){switch(r){case fa.BASE64:{const s=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(s||i)throw zh(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case fa.BASE64URL:{const s=t.indexOf("+")!==-1,i=t.indexOf("/")!==-1;if(s||i)throw zh(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=RI(t)}catch(s){throw s.message.includes("polyfill")?s:zh(r,"Invalid character found")}const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}class Y6{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw zh(fa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;n!=null&&(this.base64=DI(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function LI(r){const t=new Y6(r);return t.base64?G6(fa.BASE64,t.rest):jI(t.rest)}function OI(r){return new Y6(r).contentType}function DI(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,e){let n=0,s="";bw(t)?(this.data_=t,n=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(bw(this.data_)){const n=this.data_,s=II(n,t,e);return s===null?null:new zo(s)}else{const n=new Uint8Array(this.data_.buffer,t,e-t);return new zo(n,!0)}}static getBlob(...t){if(ev()){const e=t.map(n=>n instanceof zo?n.data_:n);return new zo(PI.apply(null,e))}else{const e=t.map(a=>Jy(a)?MI(fa.RAW,a).data:a.data_);let n=0;e.forEach(a=>{n+=a.byteLength});const s=new Uint8Array(n);let i=0;return e.forEach(a=>{for(let u=0;u<a.length;u++)s[i++]=a[u]}),new zo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(r){let t;try{t=JSON.parse(r)}catch{return null}return _I(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function BI(r,t){const e=t.split("/").filter(n=>n.length>0).join("/");return r.length===0?e:r+"/"+e}function Z6(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r,t){return t}class Ci{constructor(t,e,n,s){this.server=t,this.local=e||t,this.writable=!!n,this.xform=s||UI}}let qd=null;function zI(r){return!Jy(r)||r.length<2?r:Z6(r)}function J6(){if(qd)return qd;const r=[];r.push(new Ci("bucket")),r.push(new Ci("generation")),r.push(new Ci("metageneration")),r.push(new Ci("name","fullPath",!0));function t(i,a){return zI(a)}const e=new Ci("name");e.xform=t,r.push(e);function n(i,a){return a!==void 0?Number(a):a}const s=new Ci("size");return s.xform=n,r.push(s),r.push(new Ci("timeCreated")),r.push(new Ci("updated")),r.push(new Ci("md5Hash",null,!0)),r.push(new Ci("cacheControl",null,!0)),r.push(new Ci("contentDisposition",null,!0)),r.push(new Ci("contentEncoding",null,!0)),r.push(new Ci("contentLanguage",null,!0)),r.push(new Ci("contentType",null,!0)),r.push(new Ci("metadata","customMetadata",!0)),qd=r,qd}function VI(r,t){function e(){const n=r.bucket,s=r.fullPath,i=new is(n,s);return t._makeStorageReference(i)}Object.defineProperty(r,"ref",{get:e})}function qI(r,t,e){const n={};n.type="file";const s=e.length;for(let i=0;i<s;i++){const a=e[i];n[a.local]=a.xform(n,t[a.server])}return VI(n,r),n}function e8(r,t,e){const n=Q6(t);return n===null?null:qI(r,n,e)}function HI(r,t,e,n){const s=Q6(t);if(s===null||!Jy(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(l=>{const c=r.bucket,d=r.fullPath,f="/b/"+a(c)+"/o/"+a(d),h=Km(f,e,n),g=X6({alt:"media",token:l});return h+g})[0]}function $I(r,t){const e={},n=t.length;for(let s=0;s<n;s++){const i=t[s];i.writable&&(e[i.server]=r[i.local])}return JSON.stringify(e)}class tv{constructor(t,e,n,s){this.url=t,this.method=e,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(r){if(!r)throw Zy()}function WI(r,t){function e(n,s){const i=e8(r,s,t);return t8(i!==null),i}return e}function XI(r,t){function e(n,s){const i=e8(r,s,t);return t8(i!==null),HI(i,s,r.host,r._protocol)}return e}function r8(r){function t(e,n){let s;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?s=aI():s=sI():e.getStatus()===402?s=iI(r.bucket):e.getStatus()===403?s=oI(r.path):s=n,s.status=e.getStatus(),s.serverResponse=n.serverResponse,s}return t}function n8(r){const t=r8(r);function e(n,s){let i=t(n,s);return n.getStatus()===404&&(i=nI(r.path)),i.serverResponse=s.serverResponse,i}return e}function KI(r,t,e){const n=t.fullServerUrl(),s=Km(n,r.host,r._protocol),i="GET",a=r.maxOperationRetryTime,u=new tv(s,i,XI(r,e),a);return u.errorHandler=n8(t),u}function GI(r,t){const e=t.fullServerUrl(),n=Km(e,r.host,r._protocol),s="DELETE",i=r.maxOperationRetryTime;function a(o,l){}const u=new tv(n,s,a,i);return u.successCodes=[200,204],u.errorHandler=n8(t),u}function YI(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function QI(r,t,e){const n=Object.assign({},e);return n.fullPath=r.path,n.size=t.size(),n.contentType||(n.contentType=YI(null,t)),n}function ZI(r,t,e,n,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let b="";for(let k=0;k<2;k++)b=b+Math.random().toString().slice(2);return b}const o=u();a["Content-Type"]="multipart/related; boundary="+o;const l=QI(t,n,s),c=$I(l,e),d="--"+o+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+o+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+o+"--",h=zo.getBlob(d,n,f);if(h===null)throw dI();const g={name:l.fullPath},v=Km(i,r.host,r._protocol),p="POST",y=r.maxUploadRetryTime,m=new tv(v,p,WI(r,e),y);return m.urlParams=g,m.headers=a,m.body=h.uploadData(),m.errorHandler=r8(t),m}class JI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ql.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ql.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ql.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,s){if(this.sent_)throw dh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class eR extends JI{initXhr(){this.xhr_.responseType="text"}}function rv(){return new eR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,e){this._service=t,e instanceof is?this._location=e:this._location=is.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new mu(t,e)}get root(){const t=new is(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z6(this._location.path)}get storage(){return this._service}get parent(){const t=FI(this._location.path);if(t===null)return null;const e=new is(this._location.bucket,t);return new mu(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw gI(t)}}function tR(r,t,e){r._throwIfRoot("uploadBytes");const n=ZI(r.storage,r._location,J6(),new zo(t,!0),e);return r.storage.makeRequestWithTokens(n,rv).then(s=>({metadata:s,ref:r}))}function rR(r){r._throwIfRoot("getDownloadURL");const t=KI(r.storage,r._location,J6());return r.storage.makeRequestWithTokens(t,rv).then(e=>{if(e===null)throw pI();return e})}function nR(r){r._throwIfRoot("deleteObject");const t=GI(r.storage,r._location);return r.storage.makeRequestWithTokens(t,rv)}function iR(r,t){const e=BI(r._location.path,t),n=new is(r._location.bucket,e);return new mu(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){return/^[A-Za-z]+:\/\//.test(r)}function aR(r,t){return new mu(r,t)}function i8(r,t){if(r instanceof nv){const e=r;if(e._bucket==null)throw fI();const n=new mu(e,e._bucket);return t!=null?i8(n,t):n}else return t!==void 0?iR(r,t):r}function oR(r,t){if(t&&sR(t)){if(r instanceof nv)return aR(r,t);throw q1("To use ref(service, url), the first argument must be a Storage instance.")}else return i8(r,t)}function _w(r,t){const e=t==null?void 0:t[$6];return e==null?null:is.makeFromBucketSpec(e,r)}function lR(r,t,e,n={}){r.host=`${t}:${e}`,r._protocol="http";const{mockUserToken:s}=n;s&&(r._overrideAuthToken=typeof s=="string"?s:j_(s,r.app.options.projectId))}class nv{constructor(t,e,n,s,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=H6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tI,this._maxUploadRetryTime=rI,this._requests=new Set,s!=null?this._bucket=is.makeFromBucketSpec(s,this._host):this._bucket=_w(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=is.makeFromBucketSpec(this._url,t):this._bucket=_w(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ww("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ww("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mu(this,t)}_makeRequest(t,e,n,s,i=!0){if(this._deleted)return new yI(W6());{const a=CI(t,this._appId,n,s,e,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const xw="@firebase/storage",Sw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="storage";function kw(r,t,e){return r=en(r),tR(r,t,e)}function sg(r){return r=en(r),rR(r)}function uR(r){return r=en(r),nR(r)}function Hd(r,t){return r=en(r),oR(r,t)}function cR(r=sy(),t){r=en(r);const n=Nm(r,s8).getImmediate({identifier:t}),s=I_("storage");return s&&hR(n,...s),n}function hR(r,t,e,n={}){lR(r,t,e,n)}function fR(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new nv(e,n,s,t,vu)}function dR(){cu(new hl(s8,fR,"PUBLIC").setMultipleInstances(!0)),ga(xw,Sw,""),ga(xw,Sw,"esm2017")}dR();const pR={apiKey:"AIzaSyAQNZionq01KS9F6O5m03ybWueO6SFuPPU",authDomain:"app-inventario-repuestos.firebaseapp.com",projectId:"app-inventario-repuestos",storageBucket:"app-inventario-repuestos.firebasestorage.app",messagingSenderId:"14780417870",appId:"1:14780417870:web:28269ae58be0f9d72fc01f"},iv=D_(pR),ag=eC(iv),mi=zP(iv),$d=cR(iv),a8=Le.createContext(null);function mR({children:r}){const[t,e]=Le.useState(null),[n,s]=Le.useState(!0);Le.useEffect(()=>{const u=VA(ag,o=>{e(o),s(!1)});return()=>u()},[]);const i=async(u,o)=>{try{await BA(ag,u,o)}catch(l){throw console.error("Error al iniciar sesin:",l),l}},a=async()=>{try{await qA(ag)}catch(u){throw console.error("Error al cerrar sesin:",u),u}};return H.jsx(a8.Provider,{value:{user:t,loading:n,signIn:i,signOut:a},children:r})}function sv(){const r=Le.useContext(a8);if(!r)throw new Error("useAuth debe usarse dentro de AuthProvider");return r}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o8=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Le.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...u},o)=>Le.createElement("svg",{ref:o,...yR,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:o8("lucide",s),...u},[...a.map(([l,c])=>Le.createElement(l,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(r,t)=>{const e=Le.forwardRef(({className:n,...s},i)=>Le.createElement(vR,{ref:i,iconNode:t,className:o8(`lucide-${gR(r)}`,n),...s}));return e.displayName=`${r}`,e};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=$t("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=$t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=$t("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=$t("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=$t("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=$t("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=$t("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=$t("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=$t("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=$t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=$t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=$t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=$t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=$t("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=$t("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=$t("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=$t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=$t("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=$t("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=$t("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=$t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=$t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=$t("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=$t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=$t("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=$t("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=$t("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=$t("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=$t("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=$t("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=$t("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=$t("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=$t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=$t("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=$t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=$t("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=$t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=$t("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=$t("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=$t("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=$t("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=$t("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=$t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=$t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=$t("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=$t("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=$t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=$t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=$t("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=$t("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=$t("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=$t("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=$t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=$t("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=$t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=$t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=$t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=$t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=$t("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function HR(){const{signIn:r}=sv(),[t,e]=Le.useState(""),[n,s]=Le.useState(""),[i,a]=Le.useState(""),[u,o]=Le.useState(!1),l=async c=>{c.preventDefault(),a(""),o(!0);try{await r(t,n)}catch(d){a("Credenciales invlidas. Verifica tu email y contrasea."),console.error(d)}finally{o(!1)}};return H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100 p-4",children:H.jsxs("div",{className:"w-full max-w-md",children:[H.jsxs("div",{className:"text-center mb-8",children:[H.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-xl mb-4",children:H.jsx("span",{className:"text-2xl font-bold text-white",children:"B"})}),H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Baader 200"}),H.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de Repuestos"})]}),H.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:H.jsxs("form",{onSubmit:l,className:"space-y-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),H.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@ejemplo.com",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),H.jsx("input",{type:"password",value:n,onChange:c=>s(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"",required:!0})]}),i&&H.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:i}),H.jsxs("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u?H.jsx(Wa,{className:"w-5 h-5 animate-spin"}):H.jsx(jR,{className:"w-5 h-5"}),u?"Ingresando...":"Ingresar"]})]})}),H.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Acceso exclusivo para administradores"})]})})}const $R="modulepreload",WR=function(r){return"/Baader-200-Repuestos-app/"+r},Pw={},Sf=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(e.map(o=>{if(o=WR(o),o in Pw)return;Pw[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":$R,l||(d.as="script"),d.crossOrigin="",d.href=o,u&&d.setAttribute("nonce",u),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},la="repuestosBaader200";function XR(){const[r,t]=Le.useState([]),[e,n]=Le.useState(!0),[s,i]=Le.useState(null);Le.useEffect(()=>{const g=fw(zu(mi,la),dw("codigoSAP")),v=q6(g,p=>{const y=p.docs.map(m=>{var b,k,N;return{id:m.id,...m.data(),createdAt:((b=m.data().createdAt)==null?void 0:b.toDate())||new Date,updatedAt:((k=m.data().updatedAt)==null?void 0:k.toDate())||new Date,fechaUltimaActualizacionInventario:((N=m.data().fechaUltimaActualizacionInventario)==null?void 0:N.toDate())||null}});t(y),n(!1)},p=>{console.error("Error al obtener repuestos:",p),i(p.message),n(!1)});return()=>v()},[]);const a=async(g,v,p,y)=>{try{await vw(zu(mi,la,g,"historial"),{campo:v,valorAnterior:p,valorNuevo:y,fecha:Fr.now()})}catch(m){console.error("Error al agregar historial:",m)}},u=Le.useCallback(async g=>{try{const v={...g,total:g.cantidadSolicitada*g.valorUnitario,fechaUltimaActualizacionInventario:g.cantidadStockBodega>0?Fr.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Fr.now(),updatedAt:Fr.now()},p=await vw(zu(mi,la),v);return await a(p.id,"creacion",null,JSON.stringify(g)),p.id}catch(v){throw console.error("Error al crear repuesto:",v),v}},[]),o=Le.useCallback(async(g,v,p)=>{try{const y={...v,updatedAt:Fr.now()};if(v.cantidadSolicitada!==void 0||v.valorUnitario!==void 0){const m=v.cantidadSolicitada??(p==null?void 0:p.cantidadSolicitada)??0,b=v.valorUnitario??(p==null?void 0:p.valorUnitario)??0;y.total=m*b}if(v.cantidadStockBodega!==void 0&&(y.fechaUltimaActualizacionInventario=Fr.now()),await QP(Uo(mi,la,g),y),p)for(const m of Object.keys(v))v[m]!==p[m]&&await a(g,m,p[m],v[m])}catch(y){throw console.error("Error al actualizar repuesto:",y),y}},[]),l=Le.useCallback(async g=>{try{const v=zu(mi,la,g,"historial"),p=await gw(v),y=zd(mi);p.docs.forEach(m=>{y.delete(m.ref)}),await y.commit(),await ZP(Uo(mi,la,g))}catch(v){throw console.error("Error al eliminar repuesto:",v),v}},[]),c=Le.useCallback(async g=>{try{const v=fw(zu(mi,la,g,"historial"),dw("fecha","desc"));return(await gw(v)).docs.map(y=>{var m;return{id:y.id,repuestoId:g,...y.data(),fecha:((m=y.data().fecha)==null?void 0:m.toDate())||new Date}})}catch(v){return console.error("Error al obtener historial:",v),[]}},[]),d=Le.useCallback(async g=>{try{const v=zd(mi);for(const p of g){const y=Uo(zu(mi,la));v.set(y,{...p,total:p.cantidadSolicitada*p.valorUnitario,fechaUltimaActualizacionInventario:p.cantidadStockBodega>0?Fr.now():null,vinculosManual:[],imagenesManual:[],fotosReales:[],createdAt:Fr.now(),updatedAt:Fr.now()})}await v.commit()}catch(v){throw console.error("Error al importar repuestos:",v),v}},[]),f=Le.useCallback(async(g,v)=>{var p;try{const y=zd(mi);let m=0;for(const b of r)if((p=b.tags)!=null&&p.includes(g)){const k=b.tags.map(N=>N===g?v:N);y.update(Uo(mi,la,b.id),{tags:k,updatedAt:Fr.now()}),m++}return m>0&&await y.commit(),m}catch(y){throw console.error("Error al renombrar tag:",y),y}},[r]),h=Le.useCallback(async g=>{var v;try{const p=zd(mi);let y=0;for(const m of r)if((v=m.tags)!=null&&v.includes(g)){const b=m.tags.filter(k=>k!==g);p.update(Uo(mi,la,m.id),{tags:b,updatedAt:Fr.now()}),y++}return y>0&&await p.commit(),y}catch(p){throw console.error("Error al eliminar tag:",p),p}},[r]);return{repuestos:r,loading:e,error:s,createRepuesto:u,updateRepuesto:o,deleteRepuesto:l,getHistorial:c,importRepuestos:d,renameTag:f,deleteTag:h}}function KR(){const[r,t]=Le.useState(!1),[e,n]=Le.useState(0),s=Le.useCallback(async(o,l,c)=>{t(!0),n(0);try{const d=Date.now(),f=`${d}_${o.name}`,h=`repuestos/${l}/${c}/${f}`,g=Hd($d,h);await kw(g,o),n(100);const v=await sg(g);return{id:`${d}`,url:v,descripcion:"",orden:0,esPrincipal:!1,tipo:c,createdAt:new Date}}catch(d){throw console.error("Error al subir imagen:",d),d}finally{t(!1),n(0)}},[]),i=Le.useCallback(async o=>{try{const l=Hd($d,o);await uR(l)}catch(l){console.error("Error al eliminar imagen:",l)}},[]),a=Le.useCallback(async o=>{t(!0),n(0);try{const c=Hd($d,"manual/BAADER 200 nparte y materiales.pdf");return await kw(c,o),n(100),await sg(c)}catch(l){throw console.error("Error al subir PDF:",l),l}finally{t(!1),n(0)}},[]),u=Le.useCallback(async()=>{try{const l=Hd($d,"manual/BAADER 200 nparte y materiales.pdf");return await sg(l)}catch(o){return console.error("Manual no encontrado:",o),null}},[]);return{uploading:r,progress:e,uploadImage:s,deleteImage:i,uploadManualPDF:a,getManualURL:u}}const Iw="baader_app_state";function GR(){const[r,t]=Le.useState({lastSelectedRepuestoId:null});Le.useEffect(()=>{try{const s=localStorage.getItem(Iw);s&&t(JSON.parse(s))}catch(s){console.error("Error al cargar estado local:",s)}},[]);const e=Le.useCallback(s=>{t(i=>{const a={...i,lastSelectedRepuestoId:s};return localStorage.setItem(Iw,JSON.stringify(a)),a})},[]),n=Le.useCallback(()=>r.lastSelectedRepuestoId,[r.lastSelectedRepuestoId]);return{lastSelectedRepuestoId:r.lastSelectedRepuestoId,setLastSelectedRepuesto:e,getLastSelectedRepuesto:n}}function YR(){const[r,t]=Le.useState([]),e=Le.useCallback((o,l="info",c=3e3)=>{const d=`toast_${Date.now()}`,f={id:d,message:o,type:l,duration:c};return t(h=>[...h,f]),c>0&&setTimeout(()=>{t(h=>h.filter(g=>g.id!==d))},c),d},[]),n=Le.useCallback(o=>{t(l=>l.filter(c=>c.id!==o))},[]),s=Le.useCallback(o=>e(o,"success"),[e]),i=Le.useCallback(o=>e(o,"error",5e3),[e]),a=Le.useCallback(o=>e(o,"warning"),[e]),u=Le.useCallback(o=>e(o,"info"),[e]);return{toasts:r,addToast:e,removeToast:n,success:s,error:i,warning:a,info:u}}const Rw="dolar_cache",QR=1e3*60*60;function g8(){const[r,t]=Le.useState({valor:0,fecha:"",loading:!0,error:null,lastUpdate:null}),e=Le.useCallback(()=>{try{const u=localStorage.getItem(Rw);if(u){const o=JSON.parse(u);if(Date.now()-o.timestamp<QR)return o}}catch(u){console.error("Error loading dolar cache:",u)}return null},[]),n=Le.useCallback((u,o)=>{try{const l={valor:u,fecha:o,timestamp:Date.now()};localStorage.setItem(Rw,JSON.stringify(l))}catch(l){console.error("Error saving dolar cache:",l)}},[]),s=Le.useCallback(async(u=!1)=>{if(!u){const o=e();if(o){t({valor:o.valor,fecha:o.fecha,loading:!1,error:null,lastUpdate:new Date(o.timestamp)});return}}t(o=>({...o,loading:!0,error:null}));try{const o=await fetch("https://mindicador.cl/api/dolar");if(!o.ok)throw new Error(`Error HTTP: ${o.status}`);const l=await o.json();if(l.dolar&&l.dolar.valor){const c=l.dolar.valor,d=l.dolar.fecha;n(c,d),t({valor:c,fecha:d,loading:!1,error:null,lastUpdate:new Date})}else throw new Error("Respuesta invlida de la API")}catch(o){console.error("Error fetching dolar:",o);const l=e();t(l?{valor:l.valor,fecha:l.fecha,loading:!1,error:"Usando valor en cach (sin conexin)",lastUpdate:new Date(l.timestamp)}:{valor:0,fecha:"",loading:!1,error:o instanceof Error?o.message:"Error desconocido",lastUpdate:null})}},[e,n]);Le.useEffect(()=>{s()},[s]);const i=Le.useCallback(u=>!r.valor||r.valor===0?0:Math.round(u*r.valor),[r.valor]),a=Le.useCallback(u=>u.toLocaleString("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}),[]);return{...r,refresh:()=>s(!0),convertToClp:i,formatClp:a}}const cg="2.1.0",hg=[{key:"codigoSAP",label:"Cdigo SAP",visible:!0,required:!0},{key:"codigoBaader",label:"Cdigo Baader",visible:!0},{key:"textoBreve",label:"Desc. SAP",visible:!0},{key:"descripcion",label:"Desc. Extendida",visible:!0},{key:"nombreManual",label:"Nombre Manual",visible:!0},{key:"cantidadSolicitada",label:"Cant. Solicitada",visible:!0},{key:"cantidadStockBodega",label:"Stock Bodega",visible:!0},{key:"valorUnitario",label:"V. Unitario",visible:!0},{key:"totalUSD",label:"Total USD",visible:!0},{key:"totalCLP",label:"Total CLP",visible:!0},{key:"acciones",label:"Acciones",visible:!0,required:!0}],Mw="table_columns_config";function ZR(){const[r,t]=Le.useState(()=>{try{const u=localStorage.getItem(Mw);if(u){const o=JSON.parse(u);return hg.map(l=>{const c=o.find(d=>d.key===l.key);return c?{...l,visible:c.visible}:l})}}catch(u){console.error("Error loading column config:",u)}return hg});Le.useEffect(()=>{try{localStorage.setItem(Mw,JSON.stringify(r))}catch(u){console.error("Error saving column config:",u)}},[r]);const e=Le.useCallback(u=>{t(o=>o.map(l=>l.key===u&&!l.required?{...l,visible:!l.visible}:l))},[]),n=Le.useCallback(()=>{t(u=>u.map(o=>({...o,visible:!0})))},[]),s=Le.useCallback(()=>{t(hg)},[]),i=Le.useCallback(u=>{const o=r.find(l=>l.key===u);return o?o.visible:!0},[r]),a=r.filter(u=>u.visible);return{columns:r,visibleColumns:a,toggleColumn:e,showAllColumns:n,resetColumns:s,isColumnVisible:i}}const Wd=15;function JR({isOpen:r,onClose:t,campo:e,historial:n}){if(!r)return null;const s=n.filter(i=>i.campo===e);return H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t,children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[80vh] overflow-hidden",onClick:i=>i.stopPropagation(),children:[H.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Historial de ",e==="cantidadSolicitada"?"Cantidad Solicitada":"Stock Bodega"]}),H.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100",children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsx("div",{className:"p-5 max-h-96 overflow-y-auto",children:s.length===0?H.jsx("p",{className:"text-gray-500 text-center py-8",children:"Sin cambios registrados"}):H.jsx("div",{className:"space-y-3",children:s.map((i,a)=>H.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[H.jsxs("div",{className:"flex items-center justify-between mb-2",children:[H.jsx("span",{className:"text-sm font-medium text-gray-600",children:new Date(i.fecha).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),H.jsx("span",{className:"text-xs text-gray-400",children:new Date(i.fecha).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})})]}),H.jsxs("div",{className:"flex items-center gap-2 text-base",children:[H.jsx("span",{className:"text-red-500 line-through",children:i.valorAnterior??0}),H.jsx("span",{className:"text-gray-400",children:""}),H.jsx("span",{className:"text-green-600 font-semibold",children:i.valorNuevo??0})]})]},a))})})]})})}function eM({repuestos:r,selectedRepuesto:t,onSelect:e,onEdit:n,onDelete:s,onViewManual:i,onViewPhotos:a,onViewHistory:u,onAddNew:o,onMarkInManual:l,getHistorial:c,onManageTags:d,onFilteredChange:f}){const[h,g]=Le.useState(""),[v,p]=Le.useState(1),[y,m]=Le.useState(null),[b,k]=Le.useState([]),[N,B]=Le.useState("OR"),[j,T]=Le.useState(!1),[M,U]=Le.useState(!1),[O,I]=Le.useState(!1),[E,R]=Le.useState(null),[A,w]=Le.useState(""),[_,x]=Le.useState(""),[S,C]=Le.useState(!1),[q,P]=Le.useState("codigoSAP"),[$,X]=Le.useState("asc"),{columns:Z,toggleColumn:V,resetColumns:Q,isColumnVisible:F}=ZR(),[D,K]=Le.useState({isOpen:!1,campo:"",historial:[]}),ee=Le.useMemo(()=>{let ve=r;if(h.trim()){const He=h.toLowerCase();ve=ve.filter(Xe=>{var Te,ht,Ze,st,it;return((Te=Xe.codigoSAP)==null?void 0:Te.toLowerCase().includes(He))||((ht=Xe.textoBreve)==null?void 0:ht.toLowerCase().includes(He))||((Ze=Xe.descripcion)==null?void 0:Ze.toLowerCase().includes(He))||((st=Xe.nombreManual)==null?void 0:st.toLowerCase().includes(He))||((it=Xe.codigoBaader)==null?void 0:it.toLowerCase().includes(He))})}b.length>0&&(N==="AND"?ve=ve.filter(He=>b.every(Xe=>{var Te;return(Te=He.tags)==null?void 0:Te.includes(Xe)})):ve=ve.filter(He=>b.some(Xe=>{var Te;return(Te=He.tags)==null?void 0:Te.includes(Xe)}))),O&&(ve=ve.filter(He=>!He.cantidadStockBodega||He.cantidadStockBodega===0)),E!==null&&(ve=ve.filter(He=>{const Xe=He.vinculosManual&&He.vinculosManual.length>0;return E?Xe:!Xe}));const Be=parseFloat(A)||0,$e=parseFloat(_)||1/0;return(Be>0||$e<1/0)&&(ve=ve.filter(He=>{const Xe=He.total||0;return Xe>=Be&&Xe<=$e})),ve=[...ve].sort((He,Xe)=>{let Te="",ht="";switch(q){case"codigoSAP":Te=He.codigoSAP||"",ht=Xe.codigoSAP||"";break;case"codigoBaader":Te=He.codigoBaader||"",ht=Xe.codigoBaader||"";break;case"textoBreve":Te=He.textoBreve||"",ht=Xe.textoBreve||"";break;case"descripcion":Te=He.descripcion||"",ht=Xe.descripcion||"";break;case"nombreManual":Te=He.nombreManual||"",ht=Xe.nombreManual||"";break;case"cantidadSolicitada":Te=He.cantidadSolicitada||0,ht=Xe.cantidadSolicitada||0;break;case"cantidadStockBodega":Te=He.cantidadStockBodega||0,ht=Xe.cantidadStockBodega||0;break;case"valorUnitario":Te=He.valorUnitario||0,ht=Xe.valorUnitario||0;break;case"totalUSD":Te=He.total||0,ht=Xe.total||0;break;default:Te=He.codigoSAP||"",ht=Xe.codigoSAP||""}if(typeof Te=="string"&&typeof ht=="string"){const Ze=Te.localeCompare(ht,"es",{numeric:!0});return $==="asc"?Ze:-Ze}else{const Ze=Te-ht;return $==="asc"?Ze:-Ze}}),ve},[r,h,b,N,O,E,A,_,q,$]),ue=ve=>{q===ve?X($==="asc"?"desc":"asc"):(P(ve),X("asc"))},ie=({column:ve})=>q!==ve?H.jsx(l8,{className:"w-3 h-3 text-gray-300"}):$==="asc"?H.jsx(_R,{className:"w-3 h-3 text-primary-600"}):H.jsx(bR,{className:"w-3 h-3 text-primary-600"}),ae=Math.ceil(ee.length/Wd),ce=(v-1)*Wd,ne=ee.slice(ce,ce+Wd);Le.useEffect(()=>{p(1)},[h,b,N,O,E,A,_,q,$]),Le.useEffect(()=>{f==null||f(ee)},[ee,f]);const se=async(ve,Be)=>{try{await navigator.clipboard.writeText(ve),m(Be),setTimeout(()=>m(null),2e3)}catch($e){console.error("Error al copiar:",$e)}},ye=async(ve,Be)=>{if(c)try{const $e=await c(ve.id);K({isOpen:!0,campo:Be,historial:$e})}catch($e){console.error("Error al cargar historial:",$e)}},me=r.filter(ve=>!ve.vinculosManual||ve.vinculosManual.length===0).length,_e=Le.useMemo(()=>{const ve=new Set;return r.forEach(Be=>{var $e;return($e=Be.tags)==null?void 0:$e.forEach(He=>ve.add(He))}),Array.from(ve)},[r]),{valor:xe,loading:ke,formatClp:Ce,convertToClp:Oe}=g8(),Ue=Le.useMemo(()=>{const ve=ee.reduce((Xe,Te)=>Xe+(Te.cantidadSolicitada||0),0),Be=ee.reduce((Xe,Te)=>Xe+(Te.cantidadStockBodega||0),0),$e=ee.reduce((Xe,Te)=>Xe+(Te.total||0),0),He=Oe($e);return{totalSolicitado:ve,totalBodega:Be,totalUSD:$e,totalCLP:He}},[ee,Oe]);return H.jsxs("div",{className:"flex flex-col h-full bg-white",children:[H.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[H.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[H.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[H.jsx(Zl,{className:"w-6 h-6 text-primary-600"}),"Repuestos",H.jsxs("span",{className:"text-base font-normal text-gray-500",children:["(",ee.length," de ",r.length,")"]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("div",{className:"relative",children:[H.jsxs("button",{onClick:()=>T(!j),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${b.length>0?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,children:[H.jsx(p8,{className:"w-4 h-4"}),H.jsx("span",{className:"hidden sm:inline text-sm",children:b.length>0?`${b.length} tag${b.length>1?"s":""}`:"Filtrar"}),b.length>0&&H.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-200 text-primary-800 rounded text-xs font-medium",children:N})]}),j&&H.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[H.jsxs("div",{className:"p-3 border-b border-gray-100",children:[H.jsxs("div",{className:"flex items-center justify-between mb-2",children:[H.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase",children:"Modo de filtrado"}),H.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[H.jsx("button",{onClick:()=>B("OR"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${N==="OR"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra repuestos que tengan CUALQUIERA de los tags",children:"OR"}),H.jsx("button",{onClick:()=>B("AND"),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${N==="AND"?"bg-white text-primary-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Muestra solo repuestos que tengan TODOS los tags",children:"AND"})]})]}),H.jsx("p",{className:"text-xs text-gray-400",children:N==="OR"?"Muestra si tiene cualquier tag seleccionado":"Muestra solo si tiene todos los tags"})]}),H.jsx("div",{className:"p-2 border-b border-gray-100",children:H.jsxs("button",{onClick:()=>{k([])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center justify-between ${b.length===0?"bg-gray-50 text-gray-400":"text-gray-600 hover:bg-gray-50"}`,disabled:b.length===0,children:[H.jsx("span",{children:"Todos los repuestos"}),b.length>0&&H.jsx(ti,{className:"w-4 h-4 text-gray-400"})]})}),H.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:_e.map(ve=>{const Be=b.includes(ve),$e=r.filter(He=>{var Xe;return(Xe=He.tags)==null?void 0:Xe.includes(ve)}).length;return H.jsxs("button",{onClick:()=>{k(Be?b.filter(He=>He!==ve):[...b,ve])},className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${Be?"bg-primary-50 text-primary-700":"hover:bg-gray-50"}`,children:[H.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${Be?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:Be&&H.jsx(_s,{className:"w-3 h-3 text-white"})}),H.jsx(Jl,{className:"w-3 h-3 flex-shrink-0"}),H.jsx("span",{className:"flex-1 truncate",children:ve}),H.jsxs("span",{className:"text-xs text-gray-400",children:["(",$e,")"]})]},ve)})}),d&&H.jsx("div",{className:"p-2 border-t border-gray-100",children:H.jsxs("button",{onClick:()=>{T(!1),d()},className:"w-full px-3 py-2 text-left text-sm text-primary-600 hover:bg-primary-50 rounded flex items-center gap-2",children:[H.jsx($1,{className:"w-3 h-3"}),"Gestionar Tags"]})})]})]}),H.jsxs("button",{onClick:()=>I(!O),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${O?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:bg-gray-50 text-gray-600"}`,title:O?"Mostrando sin stock":"Filtrar sin stock",children:[H.jsx(Gm,{className:"w-4 h-4"}),H.jsx("span",{className:"hidden sm:inline text-sm",children:"Sin Stock"})]}),H.jsxs("div",{className:"relative hidden lg:block",children:[H.jsx("button",{onClick:()=>U(!M),className:`flex items-center gap-2 px-3 py-2.5 border rounded-lg transition-colors ${M?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Configurar columnas",children:H.jsx(AR,{className:"w-4 h-4"})}),M&&H.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-20",children:[H.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[H.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Columnas visibles"}),H.jsx("button",{onClick:Q,className:"p-1 text-gray-400 hover:text-gray-600 rounded",title:"Restaurar por defecto",children:H.jsx(FR,{className:"w-4 h-4"})})]}),H.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:Z.map(ve=>H.jsxs("button",{onClick:()=>!ve.required&&V(ve.key),className:`w-full px-3 py-2 text-left text-sm rounded flex items-center gap-2 ${ve.required?"text-gray-400 cursor-not-allowed":ve.visible?"text-gray-700 hover:bg-gray-50":"text-gray-400 hover:bg-gray-50"}`,disabled:ve.required,children:[ve.visible?H.jsx(CR,{className:"w-4 h-4 text-green-500"}):H.jsx(TR,{className:"w-4 h-4 text-gray-400"}),H.jsx("span",{className:ve.visible?"":"line-through",children:ve.label}),ve.required&&H.jsx("span",{className:"text-[10px] text-gray-400 ml-auto",children:"requerido"})]},ve.key))})]})]}),H.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2.5 bg-primary-600 text-white text-base font-medium rounded-lg hover:bg-primary-700 transition-colors",children:[H.jsx(_f,{className:"w-5 h-5"}),H.jsx("span",{className:"hidden sm:inline",children:"Agregar"})]})]})]}),H.jsxs("div",{className:"flex flex-wrap items-center gap-3 px-4 py-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[H.jsxs("div",{className:"flex items-center gap-4 pr-4 border-r border-gray-300",children:[H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Solicitado"}),H.jsx("div",{className:"text-lg font-bold text-blue-600",children:Ue.totalSolicitado.toLocaleString()})]}),H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"En Bodega"}),H.jsx("div",{className:`text-lg font-bold ${Ue.totalBodega>0?"text-green-600":"text-gray-400"}`,children:Ue.totalBodega.toLocaleString()})]}),H.jsxs("button",{onClick:()=>I(!O),className:`text-center cursor-pointer rounded-lg px-2 py-1 transition-colors ${O?"bg-red-100":"hover:bg-red-50"}`,title:"Click para filtrar",children:[H.jsx("div",{className:"text-xs text-red-500 uppercase",children:"Sin Stock"}),H.jsx("div",{className:"text-lg font-bold text-red-600",children:ee.filter(ve=>!ve.cantidadStockBodega||ve.cantidadStockBodega===0).length})]})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Total USD"}),H.jsxs("div",{className:"text-lg font-bold text-gray-800",children:["$",Ue.totalUSD.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),xe>0&&H.jsxs("div",{className:"text-center",children:[H.jsxs("div",{className:"text-xs text-gray-500 uppercase flex items-center gap-1 justify-center",children:["Total CLP",H.jsxs("span",{className:"text-[10px] text-gray-400",children:["(@",xe.toFixed(0),")"]})]}),H.jsx("div",{className:"text-lg font-bold text-green-700",children:Ce(Ue.totalCLP)})]})]}),ke&&H.jsx(DR,{className:"w-4 h-4 text-gray-400 animate-spin ml-auto"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsxs("div",{className:"relative flex-1",children:[H.jsx(UR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),H.jsx("input",{type:"text",value:h,onChange:ve=>g(ve.target.value),placeholder:"Buscar por cdigo SAP, Baader o descripcin...",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),H.jsx("button",{onClick:()=>C(!S),className:`flex items-center gap-2 px-4 py-3 border rounded-xl transition-colors ${S||E!==null||A||_?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:bg-gray-50"}`,title:"Filtros avanzados",children:H.jsx(Nw,{className:"w-5 h-5"})})]}),S&&H.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("h4",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[H.jsx(Nw,{className:"w-4 h-4"}),"Filtros Avanzados"]}),H.jsx("button",{onClick:()=>{R(null),w(""),x("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Limpiar filtros"})]}),H.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[H.jsx(xR,{className:"w-3 h-3 inline mr-1"}),"Marcador en Manual"]}),H.jsxs("div",{className:"flex gap-1",children:[H.jsx("button",{onClick:()=>R(null),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${E===null?"bg-primary-100 border-primary-500 text-primary-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Todos"}),H.jsx("button",{onClick:()=>R(!0),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${E===!0?"bg-green-100 border-green-500 text-green-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Con marcador"}),H.jsx("button",{onClick:()=>R(!1),className:`flex-1 px-3 py-2 text-xs rounded-lg border transition-colors ${E===!1?"bg-orange-100 border-orange-500 text-orange-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:"Sin marcador"})]})]}),H.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[H.jsxs("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:[H.jsx(av,{className:"w-3 h-3 inline mr-1"}),"Rango de Precio (USD)"]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("input",{type:"number",value:A,onChange:ve=>w(ve.target.value),placeholder:"Mnimo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),H.jsx("span",{className:"text-gray-400",children:"-"}),H.jsx("input",{type:"number",value:_,onChange:ve=>x(ve.target.value),placeholder:"Mximo",className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]})]}),b.length>0&&H.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[H.jsxs("span",{className:"text-sm text-gray-500",children:["Filtrado por (",N,"):"]}),b.map(ve=>H.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[H.jsx(Jl,{className:"w-3 h-3"}),ve,H.jsx("button",{onClick:()=>k(b.filter(Be=>Be!==ve)),className:"ml-1 hover:text-primary-900",children:H.jsx(ti,{className:"w-4 h-4"})})]},ve)),H.jsx("button",{onClick:()=>k([]),className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Limpiar filtros"})]}),me>0&&b.length===0&&H.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-700",children:[H.jsx(lg,{className:"w-5 h-5"}),H.jsxs("span",{children:[me," repuestos sin ubicacin en el manual"]})]})]}),H.jsxs("div",{className:"flex-1 overflow-auto hidden lg:block",children:[H.jsxs("table",{className:"w-full",children:[H.jsx("thead",{className:"bg-gray-50 sticky top-0",children:H.jsxs("tr",{children:[F("codigoSAP")&&H.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-sm uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("codigoSAP"),children:H.jsxs("div",{className:"flex items-center gap-1",children:["Cdigo SAP",H.jsx(ie,{column:"codigoSAP"})]})}),F("codigoBaader")&&H.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-sm uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("codigoBaader"),children:H.jsxs("div",{className:"flex items-center gap-1",children:["Cdigo Baader",H.jsx(ie,{column:"codigoBaader"})]})}),F("textoBreve")&&H.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-xs uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("textoBreve"),children:H.jsxs("div",{className:"flex items-center gap-1",children:["Desc. SAP",H.jsx(ie,{column:"textoBreve"})]})}),F("descripcion")&&H.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-xs uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("descripcion"),children:H.jsxs("div",{className:"flex items-center gap-1",children:["Desc. Extendida",H.jsx(ie,{column:"descripcion"})]})}),F("nombreManual")&&H.jsx("th",{className:"px-4 py-4 text-left font-semibold text-gray-600 text-xs uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("nombreManual"),children:H.jsxs("div",{className:"flex items-center gap-1",children:["Nombre Manual",H.jsx(ie,{column:"nombreManual"})]})}),F("cantidadSolicitada")&&H.jsx("th",{className:"px-4 py-4 text-center font-semibold text-gray-600 text-xs uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("cantidadSolicitada"),children:H.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Cant. Solic.",H.jsx(ie,{column:"cantidadSolicitada"})]})}),F("cantidadStockBodega")&&H.jsx("th",{className:"px-4 py-4 text-center font-semibold text-gray-600 text-xs uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("cantidadStockBodega"),children:H.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Stock",H.jsx(ie,{column:"cantidadStockBodega"})]})}),F("valorUnitario")&&H.jsx("th",{className:"px-4 py-4 text-right font-semibold text-gray-600 text-sm uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("valorUnitario"),children:H.jsxs("div",{className:"flex items-center justify-end gap-1",children:["V. Unit.",H.jsx(ie,{column:"valorUnitario"})]})}),F("totalUSD")&&H.jsx("th",{className:"px-4 py-4 text-right font-semibold text-gray-600 text-sm uppercase tracking-wide cursor-pointer hover:bg-gray-100 select-none",onClick:()=>ue("totalUSD"),children:H.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Total USD",H.jsx(ie,{column:"totalUSD"})]})}),F("totalCLP")&&H.jsx("th",{className:"px-4 py-4 text-right font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Total CLP"}),F("acciones")&&H.jsx("th",{className:"px-4 py-4 text-center font-semibold text-gray-600 text-sm uppercase tracking-wide",children:"Acciones"})]})}),H.jsx("tbody",{children:ne.map(ve=>{var $e,He,Xe;const Be=ve.vinculosManual&&ve.vinculosManual.length>0;return H.jsxs("tr",{onClick:()=>e((t==null?void 0:t.id)===ve.id?null:ve),className:`
                    border-b border-gray-100 cursor-pointer transition-colors
                    ${(t==null?void 0:t.id)===ve.id?"bg-primary-50 border-primary-200":"hover:bg-gray-50"}
                  `,children:[F("codigoSAP")&&H.jsx("td",{className:"px-4 py-4",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{className:"font-mono text-sm bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-gray-800",children:ve.codigoSAP}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.codigoSAP,`sap-${ve.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo SAP",children:y===`sap-${ve.id}`?H.jsx(_s,{className:"w-4 h-4 text-green-500"}):H.jsx(Fl,{className:"w-4 h-4"})})]})}),F("codigoBaader")&&H.jsx("td",{className:"px-4 py-4",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:ve.codigoBaader}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.codigoBaader,`baader-${ve.id}`)},className:"p-1.5 rounded-lg hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar cdigo Baader",children:y===`baader-${ve.id}`?H.jsx(_s,{className:"w-4 h-4 text-green-500"}):H.jsx(Fl,{className:"w-4 h-4"})})]})}),F("textoBreve")&&H.jsx("td",{className:"px-4 py-4",children:H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx("span",{className:"text-sm text-gray-800 truncate max-w-[150px]",title:ve.textoBreve,children:ve.textoBreve}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.textoBreve,`sap-${ve.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:y===`sap-${ve.id}`?H.jsx(_s,{className:"w-3 h-3 text-green-500"}):H.jsx(Fl,{className:"w-3 h-3"})})]})}),F("descripcion")&&H.jsx("td",{className:"px-4 py-4",children:H.jsxs("div",{className:"space-y-1",children:[H.jsxs("div",{className:"flex items-center gap-1",children:[ve.descripcion?H.jsxs(H.Fragment,{children:[H.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:ve.descripcion,children:ve.descripcion}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.descripcion,`desc-${ve.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:y===`desc-${ve.id}`?H.jsx(_s,{className:"w-3 h-3 text-green-500"}):H.jsx(Fl,{className:"w-3 h-3"})})]}):H.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"}),!Be&&l&&H.jsx("button",{onClick:Te=>{Te.stopPropagation(),l(ve)},className:"flex-shrink-0 p-1 rounded bg-amber-100 text-amber-600 hover:bg-amber-200 transition-colors",title:"Marcar ubicacin en manual",children:H.jsx(lg,{className:"w-3 h-3"})})]}),ve.tags&&ve.tags.length>0&&H.jsxs("div",{className:"flex flex-wrap gap-1",children:[ve.tags.slice(0,2).map(Te=>H.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 bg-blue-50 text-blue-600 rounded text-[10px] font-medium",children:Te.length>12?Te.substring(0,12)+"...":Te},Te)),ve.tags.length>2&&H.jsxs("span",{className:"text-[10px] text-gray-400",children:["+",ve.tags.length-2]})]})]})}),F("nombreManual")&&H.jsx("td",{className:"px-4 py-4",children:ve.nombreManual?H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[150px]",title:ve.nombreManual,children:ve.nombreManual}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.nombreManual||"",`manual-${ve.id}`)},className:"flex-shrink-0 p-1 rounded hover:bg-gray-200 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:y===`manual-${ve.id}`?H.jsx(_s,{className:"w-3 h-3 text-green-500"}):H.jsx(Fl,{className:"w-3 h-3"})})]}):H.jsx("span",{className:"text-xs text-gray-400 italic",children:"-"})}),F("cantidadSolicitada")&&H.jsx("td",{className:"px-4 py-4 text-center",children:H.jsx("button",{onClick:Te=>{Te.stopPropagation(),ye(ve,"cantidadSolicitada")},className:"text-base font-semibold px-3 py-1.5 rounded-lg hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"Ver historial de cambios",children:ve.cantidadSolicitada})}),F("cantidadStockBodega")&&H.jsx("td",{className:"px-4 py-4 text-center",children:H.jsx("button",{onClick:Te=>{Te.stopPropagation(),ye(ve,"cantidadStockBodega")},className:`
                        px-3 py-1.5 rounded-lg text-sm font-semibold transition-colors
                        ${ve.cantidadStockBodega>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}
                      `,title:"Ver historial de cambios",children:ve.cantidadStockBodega})}),F("valorUnitario")&&H.jsx("td",{className:"px-4 py-4 text-right",children:H.jsxs("span",{className:"text-base text-gray-600 font-medium",children:["$",(($e=ve.valorUnitario)==null?void 0:$e.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),F("totalUSD")&&H.jsx("td",{className:"px-4 py-4 text-right",children:H.jsxs("span",{className:"text-base font-bold text-gray-800",children:["$",((He=ve.total)==null?void 0:He.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})}),F("totalCLP")&&H.jsx("td",{className:"px-4 py-4 text-right",children:ke?H.jsx("span",{className:"text-xs text-gray-400",children:"..."}):xe>0?H.jsx("span",{className:"text-sm font-medium text-green-700",children:Ce(Oe(ve.total||0))}):H.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),F("acciones")&&H.jsx("td",{className:"px-4 py-4",children:H.jsxs("div",{className:"flex items-center justify-center gap-1",children:[H.jsx("button",{onClick:Te=>{Te.stopPropagation(),i(ve)},className:`p-2 rounded-lg transition-colors ${Be?"hover:bg-primary-100 text-primary-600":"hover:bg-gray-100 text-gray-400"}`,title:Be?"Ver en manual":"Ir al manual",children:H.jsx(um,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),a(ve)},className:`p-2 rounded-lg transition-colors ${((Xe=ve.fotosReales)==null?void 0:Xe.length)>0?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-100 text-gray-300"}`,title:"Fotos reales",children:H.jsx(Aw,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),u(ve)},className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors",title:"Ver historial completo",children:H.jsx(Tw,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),n(ve)},className:"p-2 rounded-lg hover:bg-blue-50 text-gray-500 hover:text-blue-600 transition-colors",title:"Editar",children:H.jsx(H1,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),s(ve)},className:"p-2 rounded-lg hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors",title:"Eliminar",children:H.jsx(xf,{className:"w-5 h-5"})})]})})]},ve.id)})})]}),ee.length===0&&H.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[H.jsx(Zl,{className:"w-16 h-16 mb-4 opacity-40"}),H.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),h&&H.jsx("button",{onClick:()=>g(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),H.jsxs("div",{className:"flex-1 overflow-auto lg:hidden",children:[H.jsx("div",{className:"p-3 space-y-3",children:ne.map(ve=>{var $e,He,Xe;const Be=ve.vinculosManual&&ve.vinculosManual.length>0;return H.jsxs("div",{onClick:()=>e((t==null?void 0:t.id)===ve.id?null:ve),className:`
                  bg-white rounded-xl border-2 p-4 cursor-pointer transition-all
                  ${(t==null?void 0:t.id)===ve.id?"border-primary-500 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow"}
                `,children:[H.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[H.jsx("span",{className:"text-xs font-medium text-gray-500",children:"SAP:"}),H.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-0.5 rounded font-semibold text-gray-800",children:ve.codigoSAP}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.codigoSAP,`sap-m-${ve.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:y===`sap-m-${ve.id}`?H.jsx(_s,{className:"w-3.5 h-3.5 text-green-500"}):H.jsx(Fl,{className:"w-3.5 h-3.5"})})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Baader:"}),H.jsx("span",{className:"font-mono text-sm text-primary-700 font-semibold",children:ve.codigoBaader}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),se(ve.codigoBaader,`baader-m-${ve.id}`)},className:"p-1 rounded hover:bg-gray-200 text-gray-400",children:y===`baader-m-${ve.id}`?H.jsx(_s,{className:"w-3.5 h-3.5 text-green-500"}):H.jsx(Fl,{className:"w-3.5 h-3.5"})})]})]}),!Be&&l&&H.jsx("button",{onClick:Te=>{Te.stopPropagation(),l(ve)},className:"p-2 rounded-lg bg-amber-100 text-amber-600",title:"Marcar en manual",children:H.jsx(lg,{className:"w-4 h-4"})})]}),H.jsxs("div",{className:"space-y-2 mb-3",children:[ve.textoBreve&&H.jsxs("div",{className:"flex items-start gap-2",children:[H.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"SAP:"}),H.jsx("span",{className:"text-sm text-gray-700 line-clamp-1 flex-1",children:ve.textoBreve})]}),ve.descripcion&&H.jsxs("div",{className:"flex items-start gap-2",children:[H.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Extendida:"}),H.jsx("span",{className:"text-sm text-gray-600 line-clamp-2 flex-1",children:ve.descripcion})]}),ve.nombreManual&&H.jsxs("div",{className:"flex items-start gap-2",children:[H.jsx("span",{className:"text-xs text-gray-400 font-medium min-w-[60px]",children:"Manual:"}),H.jsx("span",{className:"text-sm text-gray-600 line-clamp-1 flex-1",children:ve.nombreManual})]}),!ve.textoBreve&&!ve.descripcion&&!ve.nombreManual&&H.jsx("p",{className:"text-sm text-gray-400 italic",children:"Sin descripcin"})]}),ve.tags&&ve.tags.length>0&&H.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:ve.tags.map(Te=>H.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-blue-50 text-blue-600 rounded text-xs font-medium",children:Te},Te))}),H.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[H.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[H.jsx("span",{className:"text-xs text-gray-500 block",children:"Cant. Solicitada"}),H.jsx("span",{className:"text-lg font-bold text-gray-800",children:ve.cantidadSolicitada})]}),H.jsxs("div",{className:`rounded-lg p-2 ${ve.cantidadStockBodega>0?"bg-green-50":"bg-gray-50"}`,children:[H.jsx("span",{className:"text-xs text-gray-500 block",children:"Stock Bodega"}),H.jsx("span",{className:`text-lg font-bold ${ve.cantidadStockBodega>0?"text-green-700":"text-gray-500"}`,children:ve.cantidadStockBodega})]}),H.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[H.jsx("span",{className:"text-xs text-gray-500 block",children:"V. Unitario"}),H.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["$",(($e=ve.valorUnitario)==null?void 0:$e.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]}),H.jsxs("div",{className:"bg-primary-50 rounded-lg p-2",children:[H.jsx("span",{className:"text-xs text-gray-500 block",children:"Total USD"}),H.jsxs("span",{className:"text-sm font-bold text-primary-700",children:["$",((He=ve.total)==null?void 0:He.toLocaleString("en-US",{minimumFractionDigits:2}))||"0.00"]})]})]}),H.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx("button",{onClick:Te=>{Te.stopPropagation(),i(ve)},className:`p-2 rounded-lg ${Be?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400"}`,title:"Ver en manual",children:H.jsx(um,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),a(ve)},className:`p-2 rounded-lg ${((Xe=ve.fotosReales)==null?void 0:Xe.length)>0?"bg-gray-100 text-gray-600":"bg-gray-100 text-gray-300"}`,title:"Fotos",children:H.jsx(Aw,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),u(ve)},className:"p-2 rounded-lg bg-gray-100 text-gray-500",title:"Historial",children:H.jsx(Tw,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx("button",{onClick:Te=>{Te.stopPropagation(),n(ve)},className:"p-2 rounded-lg bg-blue-50 text-blue-600",title:"Editar",children:H.jsx(H1,{className:"w-5 h-5"})}),H.jsx("button",{onClick:Te=>{Te.stopPropagation(),s(ve)},className:"p-2 rounded-lg bg-red-50 text-red-600",title:"Eliminar",children:H.jsx(xf,{className:"w-5 h-5"})})]})]})]},ve.id)})}),ee.length===0&&H.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[H.jsx(Zl,{className:"w-16 h-16 mb-4 opacity-40"}),H.jsx("p",{className:"text-lg font-medium",children:"No se encontraron repuestos"}),h&&H.jsx("button",{onClick:()=>g(""),className:"mt-3 text-primary-600 hover:underline font-medium",children:"Limpiar bsqueda"})]})]}),ae>1&&H.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[H.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Mostrando ",ce+1,"-",Math.min(ce+Wd,ee.length)," de ",ee.length]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("button",{onClick:()=>p(ve=>Math.max(1,ve-1)),disabled:v===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:H.jsx(c8,{className:"w-5 h-5"})}),H.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,ae)},(ve,Be)=>{let $e;return ae<=5||v<=3?$e=Be+1:v>=ae-2?$e=ae-4+Be:$e=v-2+Be,H.jsx("button",{onClick:()=>p($e),className:`w-10 h-10 rounded-lg text-sm font-semibold transition-colors ${v===$e?"bg-primary-600 text-white":"hover:bg-white border border-gray-300"}`,children:$e},$e)})}),H.jsx("button",{onClick:()=>p(ve=>Math.min(ae,ve+1)),disabled:v===ae,className:"p-2 rounded-lg border border-gray-300 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:H.jsx(h8,{className:"w-5 h-5"})})]})]}),H.jsx(JR,{isOpen:D.isOpen,onClose:()=>K({...D,isOpen:!1}),campo:D.campo,historial:D.historial})]})}const qu=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo"],jw="settings/tags";function y8(){const[r,t]=Le.useState(qu),[e,n]=Le.useState(!0),[s,i]=Le.useState(null);Le.useEffect(()=>{const d=Uo(mi,jw),f=q6(d,h=>{if(h.exists()){const g=h.data();t(g.tags||qu)}else yw(d,{tags:qu,updatedAt:new Date}).catch(console.error),t(qu);n(!1)},h=>{console.error("Error al obtener tags:",h),i(h.message),n(!1),t(qu)});return()=>f()},[]);const a=Le.useCallback(async d=>{try{const f=Uo(mi,jw);return await yw(f,{tags:d,updatedAt:new Date}),!0}catch(f){return console.error("Error al guardar tags:",f),i(f.message),!1}},[]),u=Le.useCallback(async d=>{const f=d.trim();if(!f||r.includes(f))return!1;const h=[...r,f].sort((g,v)=>g.localeCompare(v,"es",{sensitivity:"base"}));return await a(h)},[r,a]),o=Le.useCallback(async d=>{const f=r.filter(h=>h!==d);return await a(f)},[r,a]),l=Le.useCallback(async(d,f)=>{const h=f.trim();if(!h||r.includes(h)&&h!==d)return!1;const g=r.map(v=>v===d?h:v).sort((v,p)=>v.localeCompare(p,"es",{sensitivity:"base"}));return await a(g)},[r,a]),c=Le.useCallback(async d=>{const f=d.map(g=>g.trim()).filter(g=>g&&!r.includes(g));if(f.length===0)return!0;const h=[...r,...f].sort((g,v)=>g.localeCompare(v,"es",{sensitivity:"base"}));return await a(h)},[r,a]);return{tags:r,loading:e,error:s,addTag:u,removeTag:o,renameTag:l,addMultipleTags:c,saveTags:a,DEFAULT_TAGS:qu}}function Wf({isOpen:r,onClose:t,children:e,title:n,size:s="md"}){const i=Le.useRef(null);Le.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return r&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[r,t]);const a=Le.useCallback(l=>{i.current=l.target},[]),u=Le.useCallback(l=>{if(i.current!==l.target)return;const c=window.getSelection();c&&c.toString().trim().length>0||t()},[t]);if(!r)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4 md:mx-8"};return H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 animate-fadeIn",onMouseDown:a,onClick:u,children:H.jsxs("div",{className:`
          modal-content bg-white rounded-lg shadow-xl w-full ${o[s]}
          max-h-[90vh] overflow-hidden flex flex-col animate-slideIn
          md:rounded-lg md:max-h-[85vh]
        `,onClick:l=>l.stopPropagation(),onMouseDown:l=>l.stopPropagation(),children:[n&&H.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[H.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:n}),H.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:H.jsx(ti,{className:"w-5 h-5 text-gray-500"})})]}),H.jsx("div",{className:"flex-1 overflow-auto p-6",children:e})]})})}function tM({toasts:r,onRemove:t}){return r.length===0?null:H.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:r.map(e=>H.jsx(rM,{toast:e,onRemove:t},e.id))})}function rM({toast:r,onRemove:t}){const e={success:H.jsx(lm,{className:"w-5 h-5 text-green-500"}),error:H.jsx(ER,{className:"w-5 h-5 text-red-500"}),warning:H.jsx(Gm,{className:"w-5 h-5 text-yellow-500"}),info:H.jsx(RR,{className:"w-5 h-5 text-blue-500"})},n={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return H.jsxs("div",{className:`
        toast flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg
        ${n[r.type]}
      `,children:[e[r.type],H.jsx("p",{className:"flex-1 text-sm text-gray-700",children:r.message}),H.jsx("button",{onClick:()=>t(r.id),className:"p-1 rounded hover:bg-black/5 transition-colors",children:H.jsx(ti,{className:"w-4 h-4 text-gray-400"})})]})}function ts({children:r,variant:t="primary",size:e="md",loading:n=!1,icon:s,className:i="",disabled:a,...u}){const o="inline-flex items-center justify-center font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return H.jsxs("button",{className:`${o} ${l[t]} ${c[e]} ${i}`,disabled:a||n,...u,children:[n?H.jsx(Wa,{className:"w-4 h-4 animate-spin"}):s||null,r]})}const Io=Le.forwardRef(({label:r,error:t,helperText:e,className:n="",...s},i)=>H.jsxs("div",{className:"w-full",children:[r&&H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),H.jsx("input",{ref:i,className:`
            w-full px-3 py-2 border rounded-lg text-sm
            transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
            ${t?"border-red-300 bg-red-50":"border-gray-300 bg-white"}
            ${n}
          `,...s}),t&&H.jsx("p",{className:"mt-1 text-xs text-red-500",children:t}),e&&!t&&H.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e})]}));Io.displayName="Input";function nM({isOpen:r,onClose:t,onSave:e,repuesto:n}){const{tags:s,addTag:i}=y8(),[a,u]=Le.useState(!1),[o,l]=Le.useState({codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]}),[c,d]=Le.useState(!1),[f,h]=Le.useState("");Le.useEffect(()=>{l(n?{codigoSAP:n.codigoSAP,textoBreve:n.textoBreve,descripcion:n.descripcion||"",nombreManual:n.nombreManual||"",codigoBaader:n.codigoBaader,cantidadSolicitada:n.cantidadSolicitada,valorUnitario:n.valorUnitario,cantidadStockBodega:n.cantidadStockBodega,tags:n.tags||[]}:{codigoSAP:"",textoBreve:"",descripcion:"",nombreManual:"",codigoBaader:"",cantidadSolicitada:0,valorUnitario:0,cantidadStockBodega:0,tags:[]})},[n,r]);const g=async k=>{k.preventDefault(),u(!0);try{await e(o),t()}catch(N){console.error("Error al guardar:",N)}finally{u(!1)}},v=(k,N)=>{l(B=>({...B,[k]:N}))},p=k=>{if(!k.trim())return;const N=k.trim(),B=o.tags||[];B.includes(N)||(l(j=>({...j,tags:[...B,N]})),s.includes(N)||i(N)),h(""),d(!1)},y=k=>{l(N=>({...N,tags:(N.tags||[]).filter(B=>B!==k)}))},m=s.filter(k=>!(o.tags||[]).includes(k)),b=o.cantidadSolicitada*o.valorUnitario;return H.jsx(Wf,{isOpen:r,onClose:t,title:n?"Editar Repuesto":"Nuevo Repuesto",size:"lg",children:H.jsxs("form",{onSubmit:g,className:"space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[H.jsx(Io,{label:"Cdigo SAP",value:o.codigoSAP,onChange:k=>v("codigoSAP",k.target.value),placeholder:"Ej: 10038163",required:!0}),H.jsx(Io,{label:"Cdigo Baader",value:o.codigoBaader,onChange:k=>v("codigoBaader",k.target.value),placeholder:"Ej: 200.1234",required:!0})]}),H.jsx(Io,{label:"Descripcin SAP (Texto Breve)",value:o.textoBreve,onChange:k=>v("textoBreve",k.target.value),placeholder:"Descripcin del repuesto segn SAP",required:!0}),H.jsx(Io,{label:"Nombre segn Manual (opcional)",value:o.nombreManual||"",onChange:k=>v("nombreManual",k.target.value),placeholder:"Nombre del repuesto segn el manual Baader"}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin Extendida (opcional)"}),H.jsx("textarea",{value:o.descripcion||"",onChange:k=>v("descripcion",k.target.value),placeholder:"Notas adicionales, observaciones o detalles importantes...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",rows:2})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[H.jsx(Io,{label:"Cantidad Solicitada",type:"number",min:"0",value:o.cantidadSolicitada,onChange:k=>v("cantidadSolicitada",parseInt(k.target.value)||0),required:!0}),H.jsx(Io,{label:"Valor Unitario (USD)",type:"number",min:"0",step:"0.01",value:o.valorUnitario,onChange:k=>v("valorUnitario",parseFloat(k.target.value)||0),required:!0}),H.jsx(Io,{label:"Stock Bodega",type:"number",min:"0",value:o.cantidadStockBodega,onChange:k=>v("cantidadStockBodega",parseInt(k.target.value)||0)})]}),H.jsxs("div",{className:"space-y-3",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[H.jsx(Jl,{className:"w-4 h-4"}),"Tags / Etiquetas"]}),H.jsxs("button",{type:"button",onClick:()=>d(!c),className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:[H.jsx(_f,{className:"w-4 h-4"}),"Agregar tag"]})]}),H.jsx("div",{className:"flex flex-wrap gap-2 min-h-[32px]",children:(o.tags||[]).length===0?H.jsx("span",{className:"text-sm text-gray-400 italic",children:"Sin tags asignados"}):(o.tags||[]).map(k=>H.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:[k,H.jsx("button",{type:"button",onClick:()=>y(k),className:"hover:text-primary-900 transition-colors",children:H.jsx(ti,{className:"w-4 h-4"})})]},k))}),c&&H.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Tags predefinidos:"}),H.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.map(k=>H.jsx("button",{type:"button",onClick:()=>p(k),className:"px-3 py-1 bg-white border border-gray-300 rounded-full text-sm hover:bg-primary-50 hover:border-primary-300 hover:text-primary-700 transition-colors",children:k},k)),m.length===0&&H.jsx("span",{className:"text-xs text-gray-400 italic",children:"Todos los tags predefinidos ya estn asignados"})]})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("input",{type:"text",value:f,onChange:k=>h(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),p(f))},placeholder:"Crear tag personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),H.jsx("button",{type:"button",onClick:()=>p(f),disabled:!f.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Agregar"})]})]})]}),H.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx("span",{className:"text-gray-600",children:"Total:"}),H.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["$",b.toLocaleString("en-US",{minimumFractionDigits:2})]})]})}),H.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[H.jsx(ts,{type:"button",variant:"secondary",onClick:t,children:"Cancelar"}),H.jsx(ts,{type:"submit",loading:a,icon:H.jsx(BR,{className:"w-4 h-4"}),children:n?"Guardar Cambios":"Crear Repuesto"})]})]})})}function iM({isOpen:r,onClose:t,repuesto:e,getHistorial:n}){const[s,i]=Le.useState([]),[a,u]=Le.useState(!1);Le.useEffect(()=>{r&&e&&(u(!0),n(e.id).then(i).finally(()=>u(!1)))},[r,e,n]);const o=Le.useMemo(()=>{const v=new Map;return s.forEach(p=>{const y=new Date(p.fecha).toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"});v.has(y)||v.set(y,[]),v.get(y).push(p)}),Array.from(v.entries()).map(([p,y])=>({fecha:p,items:y.sort((m,b)=>new Date(b.fecha).getTime()-new Date(m.fecha).getTime())}))},[s]),l=v=>new Intl.DateTimeFormat("es-CL",{hour:"2-digit",minute:"2-digit"}).format(v),c=v=>({codigoSAP:"Cdigo SAP",textoBreve:"Descripcin SAP",descripcion:"Descripcin Extendida",nombreManual:"Nombre Manual",codigoBaader:"Cdigo Baader",cantidadSolicitada:"Cantidad Solicitada",cantidadStockBodega:"Stock Bodega",valorUnitario:"Valor Unitario",total:"Total",tags:"Tags",creacion:"Creacin"})[v]||v,d=v=>{switch(v){case"cantidadSolicitada":case"cantidadStockBodega":return H.jsx(Zl,{className:"w-4 h-4"});case"valorUnitario":case"total":return H.jsx(av,{className:"w-4 h-4"});case"codigoSAP":case"codigoBaader":return H.jsx(IR,{className:"w-4 h-4"});case"creacion":return H.jsx(kR,{className:"w-4 h-4"});default:return H.jsx(um,{className:"w-4 h-4"})}},f=v=>{switch(v){case"cantidadSolicitada":return"bg-blue-100 text-blue-700 border-blue-200";case"cantidadStockBodega":return"bg-green-100 text-green-700 border-green-200";case"valorUnitario":case"total":return"bg-amber-100 text-amber-700 border-amber-200";case"creacion":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},h=v=>{if(!["cantidadSolicitada","cantidadStockBodega","valorUnitario","total"].includes(v.campo))return null;const y=Number(v.valorAnterior)||0,m=Number(v.valorNuevo)||0;return m>y?H.jsx(W1,{className:"w-3 h-3 text-green-500"}):m<y?H.jsx(VR,{className:"w-3 h-3 text-red-500"}):H.jsx(OR,{className:"w-3 h-3 text-gray-400"})},g=(v,p)=>{if(p==null||p==="")return"-";if(v==="valorUnitario"||v==="total"){const y=Number(p);return isNaN(y)?String(p):`$${y.toLocaleString("en-US",{minimumFractionDigits:2})}`}return String(p)};return H.jsxs(Wf,{isOpen:r,onClose:t,title:"Historial de Cambios",size:"lg",children:[e&&H.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:H.jsx(Zl,{className:"w-5 h-5 text-primary-600"})}),H.jsxs("div",{children:[H.jsx("div",{className:"font-mono font-semibold text-gray-800",children:e.codigoBaader}),H.jsx("div",{className:"text-sm text-gray-500",children:e.textoBreve||e.descripcion})]})]})}),a?H.jsx("div",{className:"flex items-center justify-center py-12",children:H.jsx("div",{className:"spinner"})}):s.length===0?H.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[H.jsx(d8,{className:"w-16 h-16 mb-4 opacity-30"}),H.jsx("p",{className:"text-lg font-medium",children:"No hay cambios registrados"}),H.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Los cambios aparecern aqu cuando edites este repuesto"})]}):H.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:o.map(v=>H.jsxs("div",{children:[H.jsx("div",{className:"sticky top-0 bg-white py-2 z-10",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("div",{className:"flex-1 h-px bg-gray-200"}),H.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2",children:v.fecha}),H.jsx("div",{className:"flex-1 h-px bg-gray-200"})]})}),H.jsxs("div",{className:"relative pl-6",children:[H.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),H.jsx("div",{className:"space-y-3",children:v.items.map(p=>H.jsxs("div",{className:"relative",children:[H.jsx("div",{className:`absolute -left-4 top-3 w-3 h-3 rounded-full border-2 bg-white ${p.campo==="creacion"?"border-purple-500":"border-primary-500"}`}),H.jsxs("div",{className:`rounded-lg border p-3 ${f(p.campo)}`,children:[H.jsxs("div",{className:"flex items-start justify-between mb-2",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[d(p.campo),H.jsx("span",{className:"font-medium text-sm",children:c(p.campo)}),h(p)]}),H.jsx("span",{className:"text-xs opacity-70",children:l(p.fecha)})]}),p.campo==="creacion"?H.jsx("div",{className:"text-sm",children:"Repuesto creado"}):H.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[H.jsx("span",{className:"px-2 py-0.5 bg-white/50 rounded line-through opacity-70",children:g(p.campo,p.valorAnterior)}),H.jsx(wR,{className:"w-4 h-4 opacity-50"}),H.jsx("span",{className:"px-2 py-0.5 bg-white/70 rounded font-medium",children:g(p.campo,p.valorNuevo)})]})]})]},p.id))})]})]},v.fecha))}),s.length>0&&H.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:H.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[s.length," cambio",s.length!==1?"s":""," registrado",s.length!==1?"s":""]})})]})}function sM({isOpen:r,onClose:t,onConfirm:e,repuesto:n,loading:s}){return H.jsx(Wf,{isOpen:r,onClose:t,size:"sm",children:H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:H.jsx(Gm,{className:"w-6 h-6 text-red-600"})}),H.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Eliminar repuesto?"}),H.jsx("p",{className:"text-gray-600 mb-2",children:"Ests por eliminar el repuesto:"}),H.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[H.jsx("p",{className:"font-mono text-sm text-primary-600",children:n==null?void 0:n.codigoBaader}),H.jsx("p",{className:"text-sm text-gray-700 truncate",children:n==null?void 0:n.textoBreve})]}),H.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Esta accin no se puede deshacer."}),H.jsxs("div",{className:"flex gap-3",children:[H.jsx(ts,{variant:"secondary",onClick:t,className:"flex-1",children:"Cancelar"}),H.jsx(ts,{variant:"danger",onClick:e,loading:s,icon:H.jsx(xf,{className:"w-4 h-4"}),className:"flex-1",children:"Eliminar"})]})]})})}function aM({isOpen:r,onClose:t,repuestos:e,onRenameTag:n,onDeleteTag:s}){const{tags:i,addTag:a,removeTag:u,renameTag:o,loading:l}=y8(),[c,d]=Le.useState("en-uso"),[f,h]=Le.useState(null),[g,v]=Le.useState(""),[p,y]=Le.useState(null),[m,b]=Le.useState(!1),[k,N]=Le.useState(null),[B,j]=Le.useState(""),[T,M]=Le.useState(!1),U=Le.useMemo(()=>{const C=new Map;return e.forEach(q=>{var P;(P=q.tags)==null||P.forEach($=>{C.set($,(C.get($)||0)+1)})}),Array.from(C.entries()).map(([q,P])=>({name:q,count:P})).sort((q,P)=>q.name.localeCompare(P.name))},[e]),O=C=>{h(C),v(C),N(null)},I=()=>{h(null),v("")},E=async(C=!1)=>{if(!f||!g.trim())return;const q=g.trim();if(q===f){I();return}const P=U.some(X=>X.name.toLowerCase()===q.toLowerCase()&&X.name!==f),$=i.some(X=>X.toLowerCase()===q.toLowerCase()&&X!==f);if(P||$){N({type:"error",text:"Ya existe un tag con ese nombre"});return}b(!0);try{if(C)await o(f,q),N({type:"success",text:"Tag predefinido actualizado"});else{const X=await n(f,q);await o(f,q),N({type:"success",text:`Tag renombrado en ${X} repuesto(s)`})}I()}catch{N({type:"error",text:"Error al renombrar el tag"})}finally{b(!1)}},R=C=>{y(C),N(null)},A=()=>{y(null)},w=async(C=!1)=>{if(p){b(!0);try{if(C)await u(p),N({type:"success",text:"Tag eliminado de la lista predefinida"});else{const q=await s(p);await u(p),N({type:"success",text:`Tag eliminado de ${q} repuesto(s)`})}y(null)}catch{N({type:"error",text:"Error al eliminar el tag"})}finally{b(!1)}}},_=async()=>{const C=B.trim();if(!C)return;const q=U.some($=>$.name.toLowerCase()===C.toLowerCase()),P=i.some($=>$.toLowerCase()===C.toLowerCase());if(q||P){N({type:"error",text:"Ya existe un tag con ese nombre"});return}b(!0);try{await a(C),j(""),M(!1),N({type:"success",text:"Tag agregado a la lista predefinida"})}catch{N({type:"error",text:"Error al agregar el tag"})}finally{b(!1)}},x=async C=>{if(i.includes(C)){N({type:"error",text:"Este tag ya est en la lista predefinida"});return}b(!0);try{await a(C),N({type:"success",text:"Tag agregado a la lista predefinida"})}catch{N({type:"error",text:"Error al agregar el tag"})}finally{b(!1)}};if(!r)return null;const S=(C,q,P,$)=>f===C?H.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[H.jsx("input",{type:"text",value:g,onChange:X=>v(X.target.value),className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:X=>{X.key==="Enter"&&E(P),X.key==="Escape"&&I()}}),H.jsx("button",{onClick:()=>E(P),disabled:m,className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Guardar",children:H.jsx(_s,{className:"w-4 h-4"})}),H.jsx("button",{onClick:I,disabled:m,className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:H.jsx(ti,{className:"w-4 h-4"})})]}):p===C?H.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[H.jsx(Gm,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),H.jsxs("span",{className:"text-sm text-gray-700",children:['Eliminar "',C,'"?']}),H.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[H.jsx("button",{onClick:()=>w(P),disabled:m,className:"px-3 py-1.5 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Eliminar"}),H.jsx("button",{onClick:A,disabled:m,className:"px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"})]})]}):H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(Jl,{className:"w-4 h-4 text-primary-500"}),H.jsx("span",{className:"font-medium text-gray-800",children:C}),q!==null&&H.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:[q," repuesto",q!==1?"s":""]}),$&&q!==null&&H.jsx("span",{className:"text-xs text-primary-600 bg-primary-100 px-2 py-0.5 rounded-full",children:"predefinido"})]}),H.jsxs("div",{className:"flex items-center gap-1",children:[q!==null&&!$&&H.jsx("button",{onClick:()=>x(C),disabled:m,className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Agregar a predefinidos",children:H.jsx(_f,{className:"w-4 h-4"})}),H.jsx("button",{onClick:()=>O(C),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Editar",children:H.jsx(H1,{className:"w-4 h-4"})}),H.jsx("button",{onClick:()=>R(C),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Eliminar",children:H.jsx(xf,{className:"w-4 h-4"})})]})]});return H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onMouseDown:C=>{var q;C.target===C.currentTarget&&!((q=window.getSelection())!=null&&q.toString())&&t()},children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 max-h-[85vh] overflow-hidden flex flex-col",onClick:C=>C.stopPropagation(),children:[H.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[H.jsx(Jl,{className:"w-5 h-5 text-primary-600"}),"Gestionar Tags"]}),H.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"flex border-b border-gray-200 flex-shrink-0",children:[H.jsxs("button",{onClick:()=>d("en-uso"),className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${c==="en-uso"?"text-primary-600 border-b-2 border-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[H.jsx(MR,{className:"w-4 h-4"}),"En Uso (",U.length,")"]}),H.jsxs("button",{onClick:()=>d("predefinidos"),className:`flex-1 px-4 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${c==="predefinidos"?"text-primary-600 border-b-2 border-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[H.jsx($1,{className:"w-4 h-4"}),"Predefinidos (",i.length,")"]})]}),k&&H.jsx("div",{className:`px-5 py-3 flex-shrink-0 ${k.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:k.text}),H.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:c==="en-uso"?U.length===0?H.jsxs("div",{className:"text-center py-8 text-gray-500",children:[H.jsx(Jl,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),H.jsx("p",{children:"No hay tags en uso"}),H.jsx("p",{className:"text-sm",children:"Los tags se crean al asignarlos a los repuestos"})]}):H.jsx("div",{className:"space-y-2",children:U.map(({name:C,count:q})=>H.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:S(C,q,!1,i.includes(C))},C))}):H.jsxs("div",{className:"space-y-4",children:[T?H.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary-50 rounded-lg border border-primary-200",children:[H.jsx("input",{type:"text",value:B,onChange:C=>j(C.target.value),placeholder:"Nombre del nuevo tag...",className:"flex-1 px-3 py-1.5 border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoFocus:!0,onKeyDown:C=>{C.key==="Enter"&&_(),C.key==="Escape"&&(M(!1),j(""))}}),H.jsx("button",{onClick:_,disabled:m||!B.trim(),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors disabled:opacity-50",title:"Guardar",children:H.jsx(_s,{className:"w-4 h-4"})}),H.jsx("button",{onClick:()=>{M(!1),j("")},className:"p-2 text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",title:"Cancelar",children:H.jsx(ti,{className:"w-4 h-4"})})]}):H.jsxs("button",{onClick:()=>M(!0),className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-primary-400 hover:text-primary-600 hover:bg-primary-50 transition-colors",children:[H.jsx(_f,{className:"w-4 h-4"}),"Agregar nuevo tag predefinido"]}),l?H.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando tags..."}):i.length===0?H.jsxs("div",{className:"text-center py-8 text-gray-500",children:[H.jsx($1,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),H.jsx("p",{children:"No hay tags predefinidos"}),H.jsx("p",{className:"text-sm",children:"Agrega tags para usarlos rpidamente"})]}):H.jsx("div",{className:"space-y-2",children:i.map(C=>{const q=U.find(P=>P.name===C);return H.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg border ${q?"bg-primary-50 border-primary-200":"bg-gray-50 border-gray-200"}`,children:S(C,(q==null?void 0:q.count)??null,!q,!0)},C)})})]})}),H.jsx("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:H.jsx("p",{className:"text-xs text-gray-500",children:c==="en-uso"?"Edita o elimina tags de los repuestos. Usa + para agregar a predefinidos.":"Administra los tags predefinidos que aparecern para seleccin rpida."})})]})})}const Lw=[{label:"Mxima",value:.95,description:"Sin prdida visible, mayor tamao"},{label:"Alta",value:.85,description:"Excelente calidad, buen balance"},{label:"Media",value:.7,description:"Buena calidad, archivo ms pequeo"},{label:"Baja",value:.5,description:"Calidad aceptable, muy comprimido"},{label:"Mnima",value:.3,description:"Solo para previsualizaciones"}];async function Ow(r,t=.85,e=1920,n=1920){return new Promise((s,i)=>{const a=new Image,u=document.createElement("canvas"),o=u.getContext("2d");a.onload=()=>{let{width:c,height:d}=a;if(c>e&&(d=d*e/c,c=e),d>n&&(c=c*n/d,d=n),u.width=c,u.height=d,!o){i(new Error("No se pudo crear contexto de canvas"));return}o.drawImage(a,0,0,c,d),u.toBlob(f=>{if(!f){i(new Error("No se pudo convertir la imagen"));return}const h=r.name.replace(/\.[^.]+$/,""),g=new File([f],`${h}.webp`,{type:"image/webp",lastModified:Date.now()});s(g)},"image/webp",t)},a.onerror=()=>{i(new Error("Error al cargar la imagen"))};const l=new FileReader;l.onload=c=>{var d;a.src=(d=c.target)==null?void 0:d.result},l.onerror=()=>i(new Error("Error al leer el archivo")),l.readAsDataURL(r)})}function Dw(r){return r<1024?`${r} B`:r<1024*1024?`${(r/1024).toFixed(1)} KB`:`${(r/(1024*1024)).toFixed(2)} MB`}async function oM(r){return r?new Promise(t=>{const e=new Image;e.crossOrigin="anonymous";const n=setTimeout(()=>{console.warn("Timeout cargando imagen:",r.substring(0,50)+"..."),t(null)},15e3);e.onload=()=>{clearTimeout(n);try{const s=e.naturalWidth||e.width||200,i=e.naturalHeight||e.height||200;if(s===0||i===0){console.warn("Imagen con dimensiones 0"),t(null);return}const a=document.createElement("canvas");a.width=s,a.height=i;const u=a.getContext("2d");if(u){u.drawImage(e,0,0);const o=a.toDataURL("image/jpeg",.85);t({base64:o,width:s,height:i})}else console.warn("No se pudo obtener context 2d"),t(null)}catch(s){console.error("Error en canvas:",s),t(null)}},e.onerror=s=>{clearTimeout(n),console.warn("Error cargando imagen (onerror):",s),lM(r).then(t)},e.src=r}):(console.warn("URL vaca proporcionada"),null)}async function lM(r){try{const t=await fetch(r,{mode:"cors",credentials:"omit"});if(!t.ok)return console.warn("Fetch failed:",t.status),null;const e=await t.blob();return new Promise(n=>{const s=new FileReader;s.onloadend=()=>{const i=s.result,a=new Image;a.onload=()=>{n({base64:i,width:a.naturalWidth||200,height:a.naturalHeight||200})},a.onerror=()=>n({base64:i,width:200,height:200}),a.src=i},s.onerror=()=>n(null),s.readAsDataURL(e)})}catch(t){return console.error("Error en fetch:",t),null}}async function uM(r){const t=new Map,e=new Set;for(const u of r){for(const o of u.imagenesManual)o.url&&e.add(o.url);for(const o of u.fotosReales)o.url&&e.add(o.url)}console.log("URLs de imgenes encontradas:",e.size);const n=Array.from(e),s=3;let i=0,a=0;for(let u=0;u<n.length;u+=s){const o=n.slice(u,u+s),l=await Promise.all(o.map(async c=>{console.log("Procesando imagen:",c.substring(0,60)+"...");const d=await oM(c);return d?(console.log(` Imagen OK (${d.width}x${d.height})`),i++):(console.log(" Imagen fall"),a++),{url:c,data:d}}));for(const{url:c,data:d}of l)d&&t.set(c,d)}return console.log(`Imgenes convertidas: ${i} xito, ${a} fallos`),t}function cM({isOpen:r,onClose:t,file:e,onConfirm:n}){const[s,i]=Le.useState(Lw[1]),[a,u]=Le.useState(null),[o,l]=Le.useState(0),[c,d]=Le.useState(0),[f,h]=Le.useState(!1),[g,v]=Le.useState(!1);Le.useEffect(()=>{if(!e||!r)return;l(e.size);const m=new FileReader;m.onload=b=>{var k;u((k=b.target)==null?void 0:k.result)},m.readAsDataURL(e)},[e,r]),Le.useEffect(()=>{if(!e||!r)return;(async()=>{v(!0);try{const b=await Ow(e,s.value);d(b.size)}catch(b){console.error("Error estimando tamao:",b),d(0)}finally{v(!1)}})()},[e,s,r]);const p=async()=>{if(e){h(!0);try{const m=await Ow(e,s.value);n(m),t()}catch(m){console.error("Error optimizando imagen:",m)}finally{h(!1)}}},y=o>0&&c>0?Math.round((1-c/o)*100):0;return!r||!e?null:H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:t,children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",onClick:m=>m.stopPropagation(),children:[H.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-primary-50 to-white",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[H.jsx(m8,{className:"w-5 h-5 text-primary-600"}),"Optimizar Imagen"]}),H.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsx("div",{className:"p-4 bg-gray-100 flex justify-center",children:a?H.jsx("img",{src:a,alt:"Preview",className:"max-h-40 max-w-full object-contain rounded-lg shadow"}):H.jsx("div",{className:"h-40 w-40 bg-gray-200 rounded-lg flex items-center justify-center",children:H.jsx(Wa,{className:"w-8 h-8 animate-spin text-gray-400"})})}),H.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-200",children:[H.jsxs("div",{className:"flex items-center justify-between text-sm",children:[H.jsx("span",{className:"text-gray-600",children:"Archivo original:"}),H.jsx("span",{className:"font-medium text-gray-800",children:e.name})]}),H.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[H.jsx("span",{className:"text-gray-600",children:"Tamao original:"}),H.jsx("span",{className:"font-medium text-gray-800",children:Dw(o)})]})]}),H.jsxs("div",{className:"p-5",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Selecciona la calidad de compresin:"}),H.jsx("div",{className:"space-y-2",children:Lw.map(m=>H.jsxs("button",{onClick:()=>i(m),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${s.value===m.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[H.jsx("div",{className:"flex items-center justify-between",children:H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.value===m.value?"border-primary-500 bg-primary-500":"border-gray-300"}`,children:s.value===m.value&&H.jsx(_s,{className:"w-3 h-3 text-white"})}),H.jsxs("div",{children:[H.jsx("span",{className:"font-medium text-gray-800",children:m.label}),H.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Math.round(m.value*100),"%)"]})]})]})}),H.jsx("p",{className:"text-xs text-gray-500 ml-8 mt-1",children:m.description})]},m.value))})]}),H.jsx("div",{className:"px-5 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-gray-200",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("span",{className:"text-sm text-gray-600",children:"Tamao final (WebP):"}),g?H.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[H.jsx(Wa,{className:"w-4 h-4 animate-spin text-gray-400"}),H.jsx("span",{className:"text-sm text-gray-500",children:"Calculando..."})]}):H.jsx("p",{className:"text-lg font-bold text-green-600",children:Dw(c)})]}),!g&&y>0&&H.jsxs("div",{className:"text-right",children:[H.jsx("span",{className:"text-sm text-gray-600",children:"Ahorro:"}),H.jsxs("p",{className:"text-lg font-bold text-green-600",children:[y,"%"]})]})]})}),H.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex gap-3",children:[H.jsx("button",{onClick:t,disabled:f,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),H.jsx("button",{onClick:p,disabled:f||g,className:"flex-1 px-4 py-2.5 text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center gap-2",children:f?H.jsxs(H.Fragment,{children:[H.jsx(Wa,{className:"w-4 h-4 animate-spin"}),"Procesando..."]}):H.jsxs(H.Fragment,{children:[H.jsx(_s,{className:"w-4 h-4"}),"Subir Optimizada"]})})]})]})})}var Es=function(r,t){return Number(r.toFixed(t))},hM=function(r,t){return t},on=function(r,t,e){e&&typeof e=="function"&&e(r,t)},fM=function(r){return-Math.cos(r*Math.PI)/2+.5},dM=function(r){return r},pM=function(r){return r*r},mM=function(r){return r*(2-r)},gM=function(r){return r<.5?2*r*r:-1+(4-2*r)*r},yM=function(r){return r*r*r},vM=function(r){return--r*r*r+1},bM=function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},wM=function(r){return r*r*r*r},_M=function(r){return 1- --r*r*r*r},xM=function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},SM=function(r){return r*r*r*r*r},kM=function(r){return 1+--r*r*r*r*r},EM=function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r},v8={easeOut:fM,linear:dM,easeInQuad:pM,easeOutQuad:mM,easeInOutQuad:gM,easeInCubic:yM,easeOutCubic:vM,easeInOutCubic:bM,easeInQuart:wM,easeOutQuart:_M,easeInOutQuart:xM,easeInQuint:SM,easeOutQuint:kM,easeInOutQuint:EM},b8=function(r){typeof r=="number"&&cancelAnimationFrame(r)},$s=function(r){r.mounted&&(b8(r.animation),r.animate=!1,r.animation=null,r.velocity=null)};function w8(r,t,e,n){if(r.mounted){var s=new Date().getTime(),i=1;$s(r),r.animation=function(){if(!r.mounted)return b8(r.animation);var a=new Date().getTime()-s,u=a/e,o=v8[t],l=o(u);a>=e?(n(i),r.animation=null):r.animation&&(n(l),requestAnimationFrame(r.animation))},requestAnimationFrame(r.animation)}}function AM(r){var t=r.scale,e=r.positionX,n=r.positionY;return!(Number.isNaN(t)||Number.isNaN(e)||Number.isNaN(n))}function kl(r,t,e,n){var s=AM(t);if(!(!r.mounted||!s)){var i=r.setTransformState,a=r.transformState,u=a.scale,o=a.positionX,l=a.positionY,c=t.scale-u,d=t.positionX-o,f=t.positionY-l;e===0?i(t.scale,t.positionX,t.positionY):w8(r,n,e,function(h){var g=u+c*h,v=o+d*h,p=l+f*h;i(g,v,p)})}}function TM(r,t,e){var n=r.offsetWidth,s=r.offsetHeight,i=t.offsetWidth,a=t.offsetHeight,u=i*e,o=a*e,l=n-u,c=s-o;return{wrapperWidth:n,wrapperHeight:s,newContentWidth:u,newDiffWidth:l,newContentHeight:o,newDiffHeight:c}}var CM=function(r,t,e,n,s,i,a){var u=r>t?e*(a?1:.5):0,o=n>s?i*(a?1:.5):0,l=r-t-u,c=u,d=n-s-o,f=o;return{minPositionX:l,maxPositionX:c,minPositionY:d,maxPositionY:f}},ov=function(r,t){var e=r.wrapperComponent,n=r.contentComponent,s=r.setup.centerZoomedOut;if(!e||!n)throw new Error("Components are not mounted");var i=TM(e,n,t),a=i.wrapperWidth,u=i.wrapperHeight,o=i.newContentWidth,l=i.newDiffWidth,c=i.newContentHeight,d=i.newDiffHeight,f=CM(a,o,l,u,c,d,!!s);return f},X1=function(r,t,e,n){return n?r<t?Es(t,2):r>e?Es(e,2):Es(r,2):Es(r,2)},eu=function(r,t){var e=ov(r,t);return r.bounds=e,e};function Xf(r,t,e,n,s,i,a){var u=e.minPositionX,o=e.minPositionY,l=e.maxPositionX,c=e.maxPositionY,d=0,f=0;a&&(d=s,f=i);var h=X1(r,u-d,l+d,n),g=X1(t,o-f,c+f,n);return{x:h,y:g}}function Ym(r,t,e,n,s,i){var a=r.transformState,u=a.scale,o=a.positionX,l=a.positionY,c=n-u;if(typeof t!="number"||typeof e!="number")return console.error("Mouse X and Y position were not provided!"),{x:o,y:l};var d=o-t*c,f=l-e*c,h=Xf(d,f,s,i,0,0,null);return h}function Kf(r,t,e,n,s){var i=s?n:0,a=t-i;return!Number.isNaN(e)&&r>=e?e:!Number.isNaN(t)&&r<=a?a:r}var Fw=function(r,t){var e=r.setup.panning.excluded,n=r.isInitialized,s=r.wrapperComponent,i=t.target,a="shadowRoot"in i&&"composedPath"in t,u=a?t.composedPath().some(function(c){return c instanceof Element?s==null?void 0:s.contains(c):!1}):s==null?void 0:s.contains(i),o=n&&i&&u;if(!o)return!1;var l=Qm(i,e);return!l},Bw=function(r){var t=r.isInitialized,e=r.isPanning,n=r.setup,s=n.panning.disabled,i=t&&e&&!s;return!!i},NM=function(r,t){var e=r.transformState,n=e.positionX,s=e.positionY;r.isPanning=!0;var i=t.clientX,a=t.clientY;r.startCoords={x:i-n,y:a-s}},PM=function(r,t){var e=t.touches,n=r.transformState,s=n.positionX,i=n.positionY;r.isPanning=!0;var a=e.length===1;if(a){var u=e[0].clientX,o=e[0].clientY;r.startCoords={x:u-s,y:o-i}}};function IM(r){var t=r.transformState,e=t.positionX,n=t.positionY,s=t.scale,i=r.setup,a=i.disabled,u=i.limitToBounds,o=i.centerZoomedOut,l=r.wrapperComponent;if(!(a||!l||!r.bounds)){var c=r.bounds,d=c.maxPositionX,f=c.minPositionX,h=c.maxPositionY,g=c.minPositionY,v=e>d||e<f,p=n>h||n<g,y=e>d?l.offsetWidth:r.setup.minPositionX||0,m=n>h?l.offsetHeight:r.setup.minPositionY||0,b=Ym(r,y,m,s,r.bounds,u||o),k=b.x,N=b.y;return{scale:s,positionX:v?k:e,positionY:p?N:n}}}function _8(r,t,e,n,s){var i=r.setup.limitToBounds,a=r.wrapperComponent,u=r.bounds,o=r.transformState,l=o.scale,c=o.positionX,d=o.positionY;if(!(a===null||u===null||t===c&&e===d)){var f=Xf(t,e,u,i,n,s,a),h=f.x,g=f.y;r.setTransformState(l,h,g)}}var RM=function(r,t,e){var n=r.startCoords,s=r.transformState,i=r.setup.panning,a=i.lockAxisX,u=i.lockAxisY,o=s.positionX,l=s.positionY;if(!n)return{x:o,y:l};var c=t-n.x,d=e-n.y,f=a?o:c,h=u?l:d;return{x:f,y:h}},ml=function(r,t){var e=r.setup,n=r.transformState,s=n.scale,i=e.minScale,a=e.disablePadding;return t>0&&s>=i&&!a?t:0},MM=function(r){var t=r.mounted,e=r.setup,n=e.disabled,s=e.velocityAnimation,i=r.transformState.scale,a=s.disabled,u=!a||i>1||!n||t;return!!u},jM=function(r){var t=r.mounted,e=r.velocity,n=r.bounds,s=r.setup,i=s.disabled,a=s.velocityAnimation,u=r.transformState.scale,o=a.disabled,l=!o||u>1||!i||t;return!(!l||!e||!n)};function LM(r,t){var e=r.setup.velocityAnimation,n=e.equalToMove,s=e.animationTime,i=e.sensitivity;return n?s*t*i:s}function Uw(r,t,e,n,s,i,a,u,o,l){if(s){if(t>a&&e>a){var c=a+(r-a)*l;return c>o?o:c<a?a:c}if(t<i&&e<i){var c=i+(r-i)*l;return c<u?u:c>i?i:c}}return n?t:X1(r,i,a,s)}function OM(r,t){var e=1;return t?Math.min(e,r.offsetWidth/window.innerWidth):e}function DM(r,t){var e=MM(r);if(e){var n=r.lastMousePosition,s=r.velocityTime,i=r.setup,a=r.wrapperComponent,u=i.velocityAnimation.equalToMove,o=Date.now();if(n&&s&&a){var l=OM(a,u),c=t.x-n.x,d=t.y-n.y,f=c/l,h=d/l,g=o-s,v=c*c+d*d,p=Math.sqrt(v)/g;r.velocity={velocityX:f,velocityY:h,total:p}}r.lastMousePosition=t,r.velocityTime=o}}function FM(r){var t=r.velocity,e=r.bounds,n=r.setup,s=r.wrapperComponent,i=jM(r);if(!(!i||!t||!e||!s)){var a=t.velocityX,u=t.velocityY,o=t.total,l=e.maxPositionX,c=e.minPositionX,d=e.maxPositionY,f=e.minPositionY,h=n.limitToBounds,g=n.alignmentAnimation,v=n.zoomAnimation,p=n.panning,y=p.lockAxisY,m=p.lockAxisX,b=v.animationType,k=g.sizeX,N=g.sizeY,B=g.velocityAlignmentTime,j=B,T=LM(r,o),M=Math.max(T,j),U=ml(r,k),O=ml(r,N),I=U*s.offsetWidth/100,E=O*s.offsetHeight/100,R=l+I,A=c-I,w=d+E,_=f-E,x=r.transformState,S=new Date().getTime();w8(r,b,M,function(C){var q=r.transformState,P=q.scale,$=q.positionX,X=q.positionY,Z=new Date().getTime()-S,V=Z/j,Q=v8[g.animationType],F=1-Q(Math.min(1,V)),D=1-C,K=$+a*D,ee=X+u*D,ue=Uw(K,x.positionX,$,m,h,c,l,A,R,F),ie=Uw(ee,x.positionY,X,y,h,f,d,_,w,F);($!==K||X!==ee)&&r.setTransformState(P,ue,ie)})}}function zw(r,t){var e=r.transformState.scale;$s(r),eu(r,e),window.TouchEvent!==void 0&&t instanceof TouchEvent?PM(r,t):NM(r,t)}function lv(r,t){var e=r.transformState.scale,n=r.setup,s=n.minScale,i=n.alignmentAnimation,a=i.disabled,u=i.sizeX,o=i.sizeY,l=i.animationTime,c=i.animationType,d=a||e<s||!u&&!o;if(!d){var f=IM(r);f&&kl(r,f,t??l,c)}}function Vw(r,t,e){var n=r.startCoords,s=r.setup,i=s.alignmentAnimation,a=i.sizeX,u=i.sizeY;if(n){var o=RM(r,t,e),l=o.x,c=o.y,d=ml(r,a),f=ml(r,u);DM(r,{x:l,y:c}),_8(r,l,c,d,f)}}function BM(r){if(r.isPanning){var t=r.setup.panning.velocityDisabled,e=r.velocity,n=r.wrapperComponent,s=r.contentComponent;r.isPanning=!1,r.animate=!1,r.animation=null;var i=n==null?void 0:n.getBoundingClientRect(),a=s==null?void 0:s.getBoundingClientRect(),u=(i==null?void 0:i.width)||0,o=(i==null?void 0:i.height)||0,l=(a==null?void 0:a.width)||0,c=(a==null?void 0:a.height)||0,d=u<l||o<c,f=!t&&e&&(e==null?void 0:e.total)>.1&&d;f?FM(r):lv(r)}}function uv(r,t,e,n){var s=r.setup,i=s.minScale,a=s.maxScale,u=s.limitToBounds,o=Kf(Es(t,2),i,a,0,!1),l=eu(r,o),c=Ym(r,e,n,o,l,u),d=c.x,f=c.y;return{scale:o,positionX:d,positionY:f}}function x8(r,t,e){var n=r.transformState.scale,s=r.wrapperComponent,i=r.setup,a=i.minScale,u=i.limitToBounds,o=i.zoomAnimation,l=o.disabled,c=o.animationTime,d=o.animationType,f=l||n>=a;if((n>=1||u)&&lv(r),!(f||!s||!r.mounted)){var h=t||s.offsetWidth/2,g=e||s.offsetHeight/2,v=uv(r,a,h,g);v&&kl(r,v,c,d)}}var al=function(){return al=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},al.apply(this,arguments)};function qw(r,t,e){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return r.concat(i||Array.prototype.slice.call(t))}var Xd={scale:1,positionX:0,positionY:0},ph={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},K1={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},S8=function(r){var t,e,n,s;return{previousScale:(t=r.initialScale)!==null&&t!==void 0?t:Xd.scale,scale:(e=r.initialScale)!==null&&e!==void 0?e:Xd.scale,positionX:(n=r.initialPositionX)!==null&&n!==void 0?n:Xd.positionX,positionY:(s=r.initialPositionY)!==null&&s!==void 0?s:Xd.positionY}},Hw=function(r){var t=al({},ph);return Object.keys(r).forEach(function(e){var n=typeof r[e]<"u",s=typeof ph[e]<"u";if(s&&n){var i=Object.prototype.toString.call(ph[e]),a=i==="[object Object]",u=i==="[object Array]";a?t[e]=al(al({},ph[e]),r[e]):u?t[e]=qw(qw([],ph[e],!0),r[e]):t[e]=r[e]}}),t},k8=function(r,t,e){var n=r.transformState.scale,s=r.wrapperComponent,i=r.setup,a=i.maxScale,u=i.minScale,o=i.zoomAnimation,l=i.smooth,c=o.size;if(!s)throw new Error("Wrapper is not mounted");var d=l?n*Math.exp(t*e):n+t*e,f=Kf(Es(d,3),u,a,c,!1);return f};function E8(r,t,e,n,s){var i=r.wrapperComponent,a=r.transformState,u=a.scale,o=a.positionX,l=a.positionY;if(!i)return console.error("No WrapperComponent found");var c=i.offsetWidth,d=i.offsetHeight,f=(c/2-o)/u,h=(d/2-l)/u,g=k8(r,t,e),v=uv(r,g,f,h);if(!v)return console.error("Error during zoom event. New transformation state was not calculated.");kl(r,v,n,s)}function A8(r,t,e,n){var s=r.setup,i=r.wrapperComponent,a=s.limitToBounds,u=S8(r.props),o=r.transformState,l=o.scale,c=o.positionX,d=o.positionY;if(i){var f=ov(r,u.scale),h=Xf(u.positionX,u.positionY,f,a,0,0,i),g={scale:u.scale,positionX:h.x,positionY:h.y};l===u.scale&&c===u.positionX&&d===u.positionY||(n==null||n(),kl(r,g,t,e))}}function UM(r,t,e,n){var s=r.getBoundingClientRect(),i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),u=i.x*n.scale,o=i.y*n.scale;return{x:(s.x-a.x+u)/n.scale,y:(s.y-a.y+o)/n.scale}}function zM(r,t,e){var n=r.wrapperComponent,s=r.contentComponent,i=r.transformState,a=r.setup,u=a.limitToBounds,o=a.minScale,l=a.maxScale;if(!n||!s)return i;var c=n.getBoundingClientRect(),d=t.getBoundingClientRect(),f=UM(t,n,s,i),h=f.x,g=f.y,v=d.width/i.scale,p=d.height/i.scale,y=n.offsetWidth/v,m=n.offsetHeight/p,b=Kf(e||Math.min(y,m),o,l,0,!1),k=(c.width-v*b)/2,N=(c.height-p*b)/2,B=(c.left-h)*b+k,j=(c.top-g)*b+N,T=ov(r,b),M=Xf(B,j,T,u,0,0,n),U=M.x,O=M.y;return{positionX:U,positionY:O,scale:b}}var VM=function(r){return function(t,e,n){t===void 0&&(t=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),E8(r,1,t,e,n)}},qM=function(r){return function(t,e,n){t===void 0&&(t=.5),e===void 0&&(e=300),n===void 0&&(n="easeOut"),E8(r,-1,t,e,n)}},HM=function(r){return function(t,e,n,s,i){s===void 0&&(s=300),i===void 0&&(i="easeOut");var a=r.transformState,u=a.positionX,o=a.positionY,l=a.scale,c=r.wrapperComponent,d=r.contentComponent,f=r.setup.disabled;if(!(f||!c||!d)){var h={positionX:Number.isNaN(t)?u:t,positionY:Number.isNaN(e)?o:e,scale:Number.isNaN(n)?l:n};kl(r,h,s,i)}}},$M=function(r){return function(t,e){t===void 0&&(t=200),e===void 0&&(e="easeOut"),A8(r,t,e)}},WM=function(r){return function(t,e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut");var s=r.transformState,i=r.wrapperComponent,a=r.contentComponent;if(i&&a){var u=T8(t||s.scale,i,a);kl(r,u,e,n)}}},XM=function(r){return function(t,e,n,s){n===void 0&&(n=600),s===void 0&&(s="easeOut"),$s(r);var i=r.wrapperComponent,a=typeof t=="string"?document.getElementById(t):t;if(i&&a&&i.contains(a)){var u=zM(r,a,e);kl(r,u,n,s)}}},G1=function(r){return{instance:r,zoomIn:VM(r),zoomOut:qM(r),setTransform:HM(r),resetTransform:$M(r),centerView:WM(r),zoomToElement:XM(r)}},KM=function(r){return{instance:r,state:r.transformState}},Zr=function(r){var t={};return Object.assign(t,KM(r)),Object.assign(t,G1(r)),t},fg=!1;function dg(){try{var r={get passive(){return fg=!0,!1}};return r}catch{return fg=!1,fg}}var Kd=".".concat(K1.wrapperClass),Qm=function(r,t){return t.some(function(e){return r.matches("".concat(Kd," ").concat(e,", ").concat(Kd," .").concat(e,", ").concat(Kd," ").concat(e," *, ").concat(Kd," .").concat(e," *"))})},Y1=function(r){r&&clearTimeout(r)},GM=function(r,t,e){return"translate(".concat(r,"px, ").concat(t,"px) scale(").concat(e,")")},T8=function(r,t,e){var n=e.offsetWidth*r,s=e.offsetHeight*r,i=(t.offsetWidth-n)/2,a=(t.offsetHeight-s)/2;return{scale:r,positionX:i,positionY:a}};function YM(r){return function(t){r.forEach(function(e){typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var QM=function(r,t){var e=r.setup.wheel,n=e.disabled,s=e.wheelDisabled,i=e.touchPadDisabled,a=e.excluded,u=r.isInitialized,o=r.isPanning,l=t.target,c=u&&!o&&!n&&l;if(!c||s&&!t.ctrlKey||i&&t.ctrlKey)return!1;var d=Qm(l,a);return!d},ZM=function(r){return r?r.deltaY<0?1:-1:0};function JM(r,t){var e=ZM(r),n=hM(t,e);return n}function C8(r,t,e){var n=t.getBoundingClientRect(),s=0,i=0;if("clientX"in r)s=(r.clientX-n.left)/e,i=(r.clientY-n.top)/e;else{var a=r.touches[0];s=(a.clientX-n.left)/e,i=(a.clientY-n.top)/e}return(Number.isNaN(s)||Number.isNaN(i))&&console.error("No mouse or touch offset found"),{x:s,y:i}}var ej=function(r,t,e,n,s){var i=r.transformState.scale,a=r.wrapperComponent,u=r.setup,o=u.maxScale,l=u.minScale,c=u.zoomAnimation,d=u.disablePadding,f=c.size,h=c.disabled;if(!a)throw new Error("Wrapper is not mounted");var g=i+t*e,v=n?!1:!h,p=Kf(Es(g,3),l,o,f,v&&!d);return p},tj=function(r,t){var e=r.previousWheelEvent,n=r.transformState.scale,s=r.setup,i=s.maxScale,a=s.minScale;return e?n<i||n>a||Math.sign(e.deltaY)!==Math.sign(t.deltaY)||e.deltaY>0&&e.deltaY<t.deltaY||e.deltaY<0&&e.deltaY>t.deltaY||Math.sign(e.deltaY)!==Math.sign(t.deltaY):!1},rj=function(r,t){var e=r.setup.pinch,n=e.disabled,s=e.excluded,i=r.isInitialized,a=t.target,u=i&&!n&&a;if(!u)return!1;var o=Qm(a,s);return!o},nj=function(r){var t=r.setup.pinch.disabled,e=r.isInitialized,n=r.pinchStartDistance,s=e&&!t&&n;return!!s},ij=function(r,t,e){var n=e.getBoundingClientRect(),s=r.touches,i=Es(s[0].clientX-n.left,5),a=Es(s[0].clientY-n.top,5),u=Es(s[1].clientX-n.left,5),o=Es(s[1].clientY-n.top,5);return{x:(i+u)/2/t,y:(a+o)/2/t}},N8=function(r){return Math.sqrt(Math.pow(r.touches[0].pageX-r.touches[1].pageX,2)+Math.pow(r.touches[0].pageY-r.touches[1].pageY,2))},sj=function(r,t){var e=r.pinchStartScale,n=r.pinchStartDistance,s=r.setup,i=s.maxScale,a=s.minScale,u=s.zoomAnimation,o=s.disablePadding,l=u.size,c=u.disabled;if(!e||n===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return r.transformState.scale;var d=t/n,f=d*e;return Kf(Es(f,2),a,i,l,!c&&!o)},aj=160,oj=100,lj=function(r,t){var e=r.props,n=e.onWheelStart,s=e.onZoomStart;r.wheelStopEventTimer||($s(r),on(Zr(r),t,n),on(Zr(r),t,s))},uj=function(r,t){var e=r.props,n=e.onWheel,s=e.onZoom,i=r.contentComponent,a=r.setup,u=r.transformState,o=u.scale,l=a.limitToBounds,c=a.centerZoomedOut,d=a.zoomAnimation,f=a.wheel,h=a.disablePadding,g=a.smooth,v=d.size,p=d.disabled,y=f.step,m=f.smoothStep;if(!i)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var b=JM(t,null),k=g?m*Math.abs(t.deltaY):y,N=ej(r,b,k,!t.ctrlKey);if(o!==N){var B=eu(r,N),j=C8(t,i,o),T=p||v===0||c||h,M=l&&T,U=Ym(r,j.x,j.y,N,B,M),O=U.x,I=U.y;r.previousWheelEvent=t,r.setTransformState(N,O,I),on(Zr(r),t,n),on(Zr(r),t,s)}},cj=function(r,t){var e=r.props,n=e.onWheelStop,s=e.onZoomStop;Y1(r.wheelAnimationTimer),r.wheelAnimationTimer=setTimeout(function(){r.mounted&&(x8(r,t.x,t.y),r.wheelAnimationTimer=null)},oj);var i=tj(r,t);i&&(Y1(r.wheelStopEventTimer),r.wheelStopEventTimer=setTimeout(function(){r.mounted&&(r.wheelStopEventTimer=null,on(Zr(r),t,n),on(Zr(r),t,s))},aj))},P8=function(r){for(var t=0,e=0,n=0;n<2;n+=1)t+=r.touches[n].clientX,e+=r.touches[n].clientY;var s=t/2,i=e/2;return{x:s,y:i}},hj=function(r,t){var e=N8(t);r.pinchStartDistance=e,r.lastDistance=e,r.pinchStartScale=r.transformState.scale,r.isPanning=!1;var n=P8(t);r.pinchLastCenterX=n.x,r.pinchLastCenterY=n.y,$s(r)},fj=function(r,t){var e=r.contentComponent,n=r.pinchStartDistance,s=r.wrapperComponent,i=r.transformState.scale,a=r.setup,u=a.limitToBounds,o=a.centerZoomedOut,l=a.zoomAnimation,c=a.alignmentAnimation,d=l.disabled,f=l.size;if(!(n===null||!e)){var h=ij(t,i,e);if(!(!Number.isFinite(h.x)||!Number.isFinite(h.y))){var g=N8(t),v=sj(r,g),p=P8(t),y=p.x-(r.pinchLastCenterX||0),m=p.y-(r.pinchLastCenterY||0);if(!(v===i&&y===0&&m===0)){r.pinchLastCenterX=p.x,r.pinchLastCenterY=p.y;var b=eu(r,v),k=d||f===0||o,N=u&&k,B=Ym(r,h.x,h.y,v,b,N),j=B.x,T=B.y;r.pinchMidpoint=h,r.lastDistance=g;var M=c.sizeX,U=c.sizeY,O=ml(r,M),I=ml(r,U),E=j+y,R=T+m,A=Xf(E,R,b,u,O,I,s),w=A.x,_=A.y;r.setTransformState(v,w,_)}}}},dj=function(r){var t=r.pinchMidpoint;r.velocity=null,r.lastDistance=null,r.pinchMidpoint=null,r.pinchStartScale=null,r.pinchStartDistance=null,x8(r,t==null?void 0:t.x,t==null?void 0:t.y)},I8=function(r,t){var e=r.props.onZoomStop,n=r.setup.doubleClick.animationTime;Y1(r.doubleClickStopEventTimer),r.doubleClickStopEventTimer=setTimeout(function(){r.doubleClickStopEventTimer=null,on(Zr(r),t,e)},n)},pj=function(r,t){var e=r.props,n=e.onZoomStart,s=e.onZoom,i=r.setup.doubleClick,a=i.animationTime,u=i.animationType;on(Zr(r),t,n),A8(r,a,u,function(){return on(Zr(r),t,s)}),I8(r,t)};function mj(r,t){return r==="toggle"?t===1?1:-1:r==="zoomOut"?-1:1}function gj(r,t){var e=r.setup,n=r.doubleClickStopEventTimer,s=r.transformState,i=r.contentComponent,a=s.scale,u=r.props,o=u.onZoomStart,l=u.onZoom,c=e.doubleClick,d=c.disabled,f=c.mode,h=c.step,g=c.animationTime,v=c.animationType;if(!d&&!n){if(f==="reset")return pj(r,t);if(!i)return console.error("No ContentComponent found");var p=mj(f,r.transformState.scale),y=k8(r,p,h);if(a!==y){on(Zr(r),t,o);var m=C8(t,i,a),b=uv(r,y,m.x,m.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");on(Zr(r),t,l),kl(r,b,g,v),I8(r,t)}}}var yj=function(r,t){var e=r.isInitialized,n=r.setup,s=r.wrapperComponent,i=n.doubleClick,a=i.disabled,u=i.excluded,o=t.target,l=s==null?void 0:s.contains(o),c=e&&o&&l&&!a;if(!c)return!1;var d=Qm(o,u);return!d},vj=function(){function r(t){var e=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(n){e.props=n,eu(e,e.transformState.scale),e.setup=Hw(n)},this.initializeWindowEvents=function(){var n,s,i=dg(),a=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,u=a==null?void 0:a.defaultView;(s=e.wrapperComponent)===null||s===void 0||s.addEventListener("wheel",e.onWheelPanning,i),u==null||u.addEventListener("mousedown",e.onPanningStart,i),u==null||u.addEventListener("mousemove",e.onPanning,i),u==null||u.addEventListener("mouseup",e.onPanningStop,i),a==null||a.addEventListener("mouseleave",e.clearPanning,i),u==null||u.addEventListener("keyup",e.setKeyUnPressed,i),u==null||u.addEventListener("keydown",e.setKeyPressed,i)},this.cleanupWindowEvents=function(){var n,s,i=dg(),a=(n=e.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,u=a==null?void 0:a.defaultView;u==null||u.removeEventListener("mousedown",e.onPanningStart,i),u==null||u.removeEventListener("mousemove",e.onPanning,i),u==null||u.removeEventListener("mouseup",e.onPanningStop,i),a==null||a.removeEventListener("mouseleave",e.clearPanning,i),u==null||u.removeEventListener("keyup",e.setKeyUnPressed,i),u==null||u.removeEventListener("keydown",e.setKeyPressed,i),document.removeEventListener("mouseleave",e.clearPanning,i),$s(e),(s=e.observer)===null||s===void 0||s.disconnect()},this.handleInitializeWrapperEvents=function(n){var s=dg();n.addEventListener("wheel",e.onWheelZoom,s),n.addEventListener("dblclick",e.onDoubleClick,s),n.addEventListener("touchstart",e.onTouchPanningStart,s),n.addEventListener("touchmove",e.onTouchPanning,s),n.addEventListener("touchend",e.onTouchPanningStop,s)},this.handleInitialize=function(n,s){var i=!1,a=e.setup.centerOnInit,u=function(o,l){for(var c=0,d=o;c<d.length;c++){var f=d[c];if(f.target===l)return!0}return!1};e.applyTransformation(),e.onInitCallbacks.forEach(function(o){o(Zr(e))}),e.observer=new ResizeObserver(function(o){if(u(o,n)||u(o,s))if(a&&!i){var l=s.offsetWidth,c=s.offsetHeight;(l>0||c>0)&&(i=!0,e.setCenter())}else $s(e),eu(e,e.transformState.scale),lv(e,0)}),e.observer.observe(n),e.observer.observe(s)},this.onWheelZoom=function(n){var s=e.setup.disabled;if(!s){var i=QM(e,n);if(i){var a=e.isPressingKeys(e.setup.wheel.activationKeys);a&&(lj(e,n),uj(e,n),cj(e,n))}}},this.onWheelPanning=function(n){var s=e.setup,i=s.disabled,a=s.wheel,u=s.panning;if(!(!e.wrapperComponent||!e.contentComponent||i||!a.wheelDisabled||u.disabled||!u.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var o=e.transformState,l=o.positionX,c=o.positionY,d=l-n.deltaX,f=c-n.deltaY,h=u.lockAxisX?l:d,g=u.lockAxisY?c:f,v=e.setup.alignmentAnimation,p=v.sizeX,y=v.sizeY,m=ml(e,p),b=ml(e,y);h===l&&g===c||_8(e,h,g,m,b)}},this.onPanningStart=function(n){var s=e.setup.disabled,i=e.props.onPanningStart;if(!s){var a=Fw(e,n);if(a){var u=e.isPressingKeys(e.setup.panning.activationKeys);u&&(n.button===0&&!e.setup.panning.allowLeftClickPan||n.button===1&&!e.setup.panning.allowMiddleClickPan||n.button===2&&!e.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),$s(e),zw(e,n),on(Zr(e),n,i)))}}},this.onPanning=function(n){var s=e.setup.disabled,i=e.props.onPanning;if(!s){var a=Bw(e);if(a){var u=e.isPressingKeys(e.setup.panning.activationKeys);u&&(n.preventDefault(),n.stopPropagation(),Vw(e,n.clientX,n.clientY),on(Zr(e),n,i))}}},this.onPanningStop=function(n){var s=e.props.onPanningStop;e.isPanning&&(BM(e),on(Zr(e),n,s))},this.onPinchStart=function(n){var s=e.setup.disabled,i=e.props,a=i.onPinchingStart,u=i.onZoomStart;if(!s){var o=rj(e,n);o&&(hj(e,n),$s(e),on(Zr(e),n,a),on(Zr(e),n,u))}},this.onPinch=function(n){var s=e.setup.disabled,i=e.props,a=i.onPinching,u=i.onZoom;if(!s){var o=nj(e);o&&(n.preventDefault(),n.stopPropagation(),fj(e,n),on(Zr(e),n,a),on(Zr(e),n,u))}},this.onPinchStop=function(n){var s=e.props,i=s.onPinchingStop,a=s.onZoomStop;e.pinchStartScale&&(dj(e),on(Zr(e),n,i),on(Zr(e),n,a))},this.onTouchPanningStart=function(n){var s=e.setup.disabled,i=e.props.onPanningStart;if(!s){var a=Fw(e,n);if(a){var u=e.lastTouch&&+new Date-e.lastTouch<200&&n.touches.length===1;if(!u){e.lastTouch=+new Date,$s(e);var o=n.touches,l=o.length===1,c=o.length===2;l&&($s(e),zw(e,n),on(Zr(e),n,i)),c&&e.onPinchStart(n)}}}},this.onTouchPanning=function(n){var s=e.setup.disabled,i=e.props.onPanning;if(e.isPanning&&n.touches.length===1){if(s)return;var a=Bw(e);if(!a)return;n.preventDefault(),n.stopPropagation();var u=n.touches[0];Vw(e,u.clientX,u.clientY),on(Zr(e),n,i)}else n.touches.length>1&&e.onPinch(n)},this.onTouchPanningStop=function(n){e.onPanningStop(n),e.onPinchStop(n)},this.onDoubleClick=function(n){var s=e.setup.disabled;if(!s){var i=yj(e,n);i&&gj(e,n)}},this.clearPanning=function(n){e.isPanning&&e.onPanningStop(n)},this.setKeyPressed=function(n){e.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){e.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(s){return e.pressedKeys[s]}):!0},this.setTransformState=function(n,s,i){var a=e.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(s)&&!Number.isNaN(i)){n!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=n),e.transformState.positionX=s,e.transformState.positionY=i,e.applyTransformation();var u=Zr(e);e.onChangeCallbacks.forEach(function(o){return o(u)}),on(u,{scale:n,positionX:s,positionY:i},a)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var n=T8(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,s,i){return e.props.customTransform?e.props.customTransform(n,s,i):GM(n,s,i)},this.applyTransformation=function(){if(!(!e.mounted||!e.contentComponent)){var n=e.transformState,s=n.scale,i=n.positionX,a=n.positionY,u=e.handleTransformStyles(i,a,s);e.contentComponent.style.transform=u}},this.getContext=function(){return Zr(e)},this.onChange=function(n){return e.onChangeCallbacks.has(n)||e.onChangeCallbacks.add(n),function(){e.onChangeCallbacks.delete(n)}},this.onInit=function(n){return e.onInitCallbacks.has(n)||e.onInitCallbacks.add(n),function(){e.onInitCallbacks.delete(n)}},this.init=function(n,s){e.cleanupWindowEvents(),e.wrapperComponent=n,e.contentComponent=s,eu(e,e.transformState.scale),e.handleInitializeWrapperEvents(n),e.handleInitialize(n,s),e.initializeWindowEvents(),e.isInitialized=!0;var i=Zr(e);on(i,void 0,e.props.onInit)},this.props=t,this.setup=Hw(this.props),this.transformState=S8(this.props)}return r}(),cv=ll.createContext(null),bj=function(r,t){return typeof r=="function"?r(t):r},wj=ll.forwardRef(function(r,t){var e=Le.useRef(new vj(r)).current,n=bj(r.children,G1(e));return Le.useImperativeHandle(t,function(){return G1(e)},[e]),Le.useEffect(function(){e.update(r)},[e,r]),ll.createElement(cv.Provider,{value:e},n)});ll.forwardRef(function(r,t){var e=Le.useRef(null),n=Le.useContext(cv);return Le.useEffect(function(){return n.onChange(function(s){if(e.current){var i=0,a=0;e.current.style.transform=n.handleTransformStyles(i,a,1/s.instance.transformState.scale)}})},[n]),ll.createElement("div",al({},r,{ref:YM([e,t])}))});function _j(r,t){t===void 0&&(t={});var e=t.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r))}}var xj=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,$w={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};_j(xj);var Sj=function(r){var t=r.children,e=r.wrapperClass,n=e===void 0?"":e,s=r.contentClass,i=s===void 0?"":s,a=r.wrapperStyle,u=r.contentStyle,o=r.wrapperProps,l=o===void 0?{}:o,c=r.contentProps,d=c===void 0?{}:c,f=Le.useContext(cv),h=f.init,g=f.cleanupWindowEvents,v=Le.useRef(null),p=Le.useRef(null);return Le.useEffect(function(){var y=v.current,m=p.current;return y!==null&&m!==null&&h&&(h==null||h(y,m)),function(){g==null||g()}},[]),ll.createElement("div",al({},l,{ref:v,className:"".concat(K1.wrapperClass," ").concat($w.wrapper," ").concat(n),style:a}),ll.createElement("div",al({},d,{ref:p,className:"".concat(K1.contentClass," ").concat($w.content," ").concat(i),style:u}),t))};function kj({repuesto:r,tipo:t,onUpload:e,onDelete:n,onSetPrimary:s}){var M,U,O,I,E;const[i,a]=Le.useState(0),[u,o]=Le.useState(null),[l,c]=Le.useState(!1),[d,f]=Le.useState([]),[h,g]=Le.useState(0),[v,p]=Le.useState(!1),y=Le.useRef(null),b=[...(t==="manual"?r==null?void 0:r.imagenesManual:r==null?void 0:r.fotosReales)||[]].sort((R,A)=>R.orden-A.orden),k=async R=>{const A=R.target.files;if(!A||!r||A.length===0)return;const w=Array.from(A);f(w),g(0),p(!0),y.current&&(y.current.value="")},N=async R=>{if(r){c(!0);try{await e(R,r.id,t),h<d.length-1?(g(A=>A+1),p(!0)):(f([]),g(0))}catch(A){console.error("Error al subir imagen:",A)}finally{c(!1)}}},B=()=>{p(!1),h<d.length-1?(g(R=>R+1),setTimeout(()=>p(!0),100)):(f([]),g(0))},j=()=>{a(R=>R>0?R-1:b.length-1)},T=()=>{a(R=>R<b.length-1?R+1:0)};return r?H.jsxs("div",{className:"h-full flex flex-col bg-white rounded-lg border border-gray-200 overflow-hidden animate-slideInRight",children:[H.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"font-semibold text-gray-800",children:t==="manual"?"Imgenes del Manual":"Fotos Reales"}),H.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[r.codigoBaader," - ",r.textoBreve.substring(0,30),"..."]})]}),H.jsx(ts,{size:"sm",onClick:()=>{var R;return(R=y.current)==null?void 0:R.click()},loading:l,icon:H.jsx(_f,{className:"w-4 h-4"}),children:"Agregar"}),H.jsx("input",{ref:y,type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden"})]})}),H.jsx("div",{className:"flex-1 flex flex-col",children:b.length===0?H.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 missing-image-indicator cursor-pointer",onClick:()=>{var R;return(R=y.current)==null?void 0:R.click()},children:[H.jsx(cm,{className:"w-12 h-12 text-amber-500 mb-3"}),H.jsx("p",{className:"text-amber-700 font-medium mb-1",children:"Sin imgenes"}),H.jsxs("p",{className:"text-sm text-amber-600 text-center",children:["Haz clic para agregar ",t==="manual"?"imgenes del manual":"fotos reales"]})]}):H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"relative flex-1 bg-gray-100 flex items-center justify-center min-h-[200px]",children:[H.jsx("img",{src:(M=b[i])==null?void 0:M.url,alt:((U=b[i])==null?void 0:U.descripcion)||"Imagen del repuesto",className:"max-w-full max-h-full object-contain cursor-zoom-in",onClick:()=>o(b[i])}),b.length>1&&H.jsxs(H.Fragment,{children:[H.jsx("button",{onClick:j,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:H.jsx(c8,{className:"w-5 h-5"})}),H.jsx("button",{onClick:T,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:H.jsx(h8,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[i+1," / ",b.length]}),H.jsx("button",{onClick:()=>o(b[i]),className:"absolute top-2 right-2 p-2 bg-white/80 rounded-full shadow hover:bg-white transition-colors",children:H.jsx(qR,{className:"w-4 h-4"})}),((O=b[i])==null?void 0:O.esPrincipal)&&H.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs rounded-full flex items-center gap-1",children:[H.jsx(ug,{className:"w-3 h-3 fill-current"}),"Principal"]})]}),H.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:H.jsx("div",{className:"flex gap-2 overflow-x-auto carousel-container pb-1",children:b.map((R,A)=>H.jsxs("div",{className:`
                      relative flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer
                      border-2 transition-all carousel-item
                      ${A===i?"border-primary-500":"border-transparent hover:border-gray-300"}
                    `,onClick:()=>a(A),children:[H.jsx("img",{src:R.url,alt:"",className:"w-full h-full object-cover"}),R.esPrincipal&&H.jsx(ug,{className:"absolute top-1 right-1 w-3 h-3 text-yellow-400 fill-current"})]},R.id))})}),H.jsxs("div",{className:"p-3 border-t border-gray-200 flex items-center gap-2",children:[H.jsxs("button",{onClick:()=>r&&s(r,b[i]),className:`flex items-center gap-1 px-3 py-1.5 rounded text-sm transition-colors ${(I=b[i])!=null&&I.esPrincipal?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[(E=b[i])!=null&&E.esPrincipal?H.jsx(ug,{className:"w-4 h-4 fill-current"}):H.jsx(zR,{className:"w-4 h-4"}),"Principal"]}),H.jsxs("button",{onClick:()=>r&&n(r,b[i]),className:"flex items-center gap-1 px-3 py-1.5 rounded text-sm bg-red-100 text-red-600 hover:bg-red-200 transition-colors ml-auto",children:[H.jsx(xf,{className:"w-4 h-4"}),"Eliminar"]})]})]})}),H.jsx(Wf,{isOpen:!!u,onClose:()=>o(null),size:"full",children:H.jsxs("div",{className:"relative w-full h-[70vh]",children:[H.jsx("button",{onClick:()=>o(null),className:"absolute top-2 right-2 z-10 p-2 bg-white rounded-full shadow hover:bg-gray-100",children:H.jsx(ti,{className:"w-5 h-5"})}),u&&H.jsx(wj,{children:H.jsx(Sj,{wrapperStyle:{width:"100%",height:"100%"},contentStyle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:H.jsx("img",{src:u.url,alt:u.descripcion,className:"max-w-full max-h-full object-contain"})})}),H.jsx("p",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-gray-500 bg-white/80 px-3 py-1 rounded",children:"Usa el scroll para hacer zoom"})]})}),H.jsx(cM,{isOpen:v,onClose:B,file:d[h]||null,onConfirm:N})]}):null}function Gd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var R8={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,s,i){function a(l,c){if(!s[l]){if(!n[l]){var d=typeof Gd=="function"&&Gd;if(!c&&d)return d(l,!0);if(u)return u(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[l]={exports:{}};n[l][0].call(h.exports,function(g){return a(n[l][1][g]||g)},h,h.exports,e,n,s,i)}return s[l].exports}for(var u=typeof Gd=="function"&&Gd,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,n,s){const i=e("fs"),a=e("fast-csv"),u=e("dayjs/plugin/customParseFormat"),o=e("dayjs/plugin/utc"),l=e("dayjs").extend(u).extend(o),c=e("../utils/stream-buf"),{fs:{exists:d}}=e("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,g){if(g=g||{},!await d(h))throw new Error("File not found: "+h);const v=i.createReadStream(h),p=await this.read(v,g);return v.close(),p}read(h,g){return g=g||{},new Promise((v,p)=>{const y=this.workbook.addWorksheet(g.sheetName),m=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=g.map||function(N){if(N==="")return null;const B=Number(N);if(!Number.isNaN(B)&&B!==1/0)return B;const j=m.reduce((M,U)=>{if(M)return M;const O=l(N,U,!0);return O.isValid()?O:null},null);if(j)return new Date(j.valueOf());const T=f[N];return T!==void 0?T:N},k=a.parse(g.parserOptions).on("data",N=>{y.addRow(N.map(b))}).on("end",()=>{k.emit("worksheet",y)});k.on("worksheet",v).on("error",p),h.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,g){return new Promise((v,p)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),m=a.format(g.formatterOptions);h.on("finish",()=>{v()}),m.on("error",p),m.pipe(h);const{dateFormat:b,dateUTC:k}=g,N=g.map||(T=>{if(T){if(T.text||T.hyperlink)return T.hyperlink||T.text||"";if(T.formula||T.result)return T.result||"";if(T instanceof Date)return b?k?l.utc(T).format(b):l(T).format(b):k?l.utc(T).format():l(T).format();if(T.error)return T.error;if(typeof T=="object")return JSON.stringify(T)}return T}),B=g.includeEmptyRows===void 0||g.includeEmptyRows;let j=1;y&&y.eachRow((T,M)=>{if(B)for(;j++<M-1;)m.write([]);const{values:U}=T;U.shift(),m.write(U.map(N)),j=M}),m.end()})}writeFile(h,g){const v={encoding:(g=g||{}).encoding||"utf8"},p=i.createWriteStream(h,v);return this.write(p,g)}async writeBuffer(h){const g=new c;return await this.write(g,h),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(o,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=o,l)if(typeof l=="string"){const d=i.decodeAddress(l);this.nativeCol=d.col+c,this.nativeColOff=0,this.nativeRow=d.row+c,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+c,this.row=l.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(o){return o instanceof a||o==null?o:new a(o)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(o){this.nativeCol=Math.floor(o),this.nativeColOff=Math.floor((o-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(o){this.nativeRow=Math.floor(o),this.nativeRowOff=Math.floor((o-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(o){this.nativeCol=o.nativeCol,this.nativeColOff=o.nativeColOff,this.nativeRow=o.nativeRow,this.nativeRowOff=o.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,s){const i=e("../utils/col-cache"),a=e("../utils/under-dash"),u=e("./enums"),{slideFormula:o}=e("../utils/shared-formula"),l=e("./note");class c{constructor(h,g,v){if(!h||!g)throw new Error("A Cell needs a Row");this._row=h,this._column=g,i.validateAddress(v),this._address=v,this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(h.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,g,v){const p=h&&h.numFmt||g&&g.numFmt;p&&(v.numFmt=p);const y=h&&h.font||g&&g.font;y&&(v.font=y);const m=h&&h.alignment||g&&g.alignment;m&&(v.alignment=m);const b=h&&h.border||g&&g.border;b&&(v.border=b);const k=h&&h.fill||g&&g.fill;k&&(v.fill=k);const N=h&&h.protection||g&&g.protection;return N&&(v.protection=N),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(h,g){this._value.release(),this._value=d.create(c.Types.Merge,this,h),g||(this.style=h.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===c.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==c.Types.Merge?(this._value.release(),this._value=d.create(d.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new l(h)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===c.Types.String&&(this._value=d.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),h.forEach(v=>{g.addEx(this.fullAddress,v)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=d.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=l.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}c.Types=u.ValueType;const d={getType:f=>f==null?c.Types.Null:f instanceof String||typeof f=="string"?c.Types.String:typeof f=="number"?c.Types.Number:typeof f=="boolean"?c.Types.Boolean:f instanceof Date?c.Types.Date:f.text&&f.hyperlink?c.Types.Hyperlink:f.formula||f.sharedFormula?c.Types.Formula:f.richText?c.Types.RichText:f.sharedString?c.Types.SharedString:f.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(f){this.model={address:f.address,type:c.Types.Null}}get value(){return null}set value(f){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:c.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},g=v=>{const p=f[v];p&&(h[v]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(d.getType(f)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return c.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?u.ValueType.Null:f instanceof String||typeof f=="string"?u.ValueType.String:typeof f=="number"?u.ValueType.Number:f instanceof Date?u.ValueType.Date:f.text&&f.hyperlink?u.ValueType.Hyperlink:f.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&o(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof c?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,g){const v=this.types[f];if(!v)throw new Error("Could not create Value of type "+f);return new v(h,g)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),u=e("../utils/col-cache");class o{constructor(c,d,f){this._worksheet=c,this._number=d,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((d,f)=>{this._worksheet.getCell(f+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&i.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,d){const f=this.number;d||(d=c,c=null),this._worksheet.eachRow(c,(h,g)=>{d(h.getCell(f),g)})}get values(){const c=[];return this.eachCell((d,f)=>{d&&d.type!==a.ValueType.Null&&(c[f]=d.value)}),c}set values(c){if(!c)return;const d=this.number;let f=0;c.hasOwnProperty("0")&&(f=1),c.forEach((h,g)=>{this._worksheet.getCell(g+f,d).value=h})}_applyStyle(c,d){return this.style[c]=d,this.eachCell(f=>{f[c]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const d=[];let f=null;return c&&c.forEach((h,g)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=g+1:(f={min:g+1,max:g+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},d.push(f))}),d.length?d:void 0}static fromModel(c,d){const f=[];let h=1,g=0;for(d=(d=d||[]).sort(function(v,p){return v.min-p.min});g<d.length;){const v=d[g++];for(;h<v.min;)f.push(new o(c,h++));for(;h<=v.max;)f.push(new o(c,h++,v))}return f.length?f:null}}n.exports=o},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),u=e("../utils/cell-matrix"),o=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new u)}add(c,d){const f=a.decodeEx(c);this.addEx(f,d)}addEx(c,d){const f=this.getMatrix(d);if(c.top)for(let h=c.left;h<=c.right;h++)for(let g=c.top;g<=c.bottom;g++){const v={sheetName:c.sheetName,address:a.n2l(h)+g,row:g,col:h};f.addCellEx(v)}else f.addCellEx(c)}remove(c,d){const f=a.decodeEx(c);this.removeEx(f,d)}removeEx(c,d){this.getMatrix(d).removeCellEx(c)}removeAllNames(c){i.each(this.matrixMap,d=>{d.removeCellEx(c)})}forEach(c){i.each(this.matrixMap,(d,f)=>{d.forEach(h=>{c(f,h)})})}getNames(c){return this.getNamesEx(a.decodeEx(c))}getNamesEx(c){return i.map(this.matrixMap,(d,f)=>d.findCellEx(c)&&f).filter(Boolean)}_explore(c,d){d.mark=!1;const{sheetName:f}=d,h=new o(d.row,d.col,d.row,d.col,f);let g,v;function p(m,b){const k=c.findCellAt(f,m,d.col);return!(!k||!k.mark)&&(h[b]=m,k.mark=!1,!0)}for(v=d.row-1;p(v,"top");v--);for(v=d.row+1;p(v,"bottom");v++);function y(m,b){const k=[];for(v=h.top;v<=h.bottom;v++){const N=c.findCellAt(f,v,m);if(!N||!N.mark)return!1;k.push(N)}h[b]=m;for(let N=0;N<k.length;N++)k[N].mark=!1;return!0}for(g=d.col-1;y(g,"left");g--);for(g=d.col+1;y(g,"right");g++);return h}getRanges(c,d){return(d=d||this.matrixMap[c])?(d.forEach(f=>{f.mark=!0}),{name:c,ranges:d.map(f=>f.mark&&this._explore(d,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,d){c.forEachInSheet(d,(f,h,g)=>{f&&(f.row===h&&f.col===g||(f.row=h,f.col=g,f.address=a.n2l(g)+h))})}spliceRows(c,d,f,h){i.each(this.matrixMap,g=>{g.spliceRows(c,d,f,h),this.normaliseMatrix(g,c)})}spliceColumns(c,d,f,h){i.each(this.matrixMap,g=>{g.spliceColumns(c,d,f,h),this.normaliseMatrix(g,c)})}get model(){return i.map(this.matrixMap,(c,d)=>this.getRanges(d,c)).filter(c=>c.ranges.length)}set model(c){const d=this.matrixMap={};c.forEach(f=>{const h=d[f.name]=new u;f.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&h.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const i=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(u,o){this.worksheet=u,this.model=o}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:o,imageId:l,range:c,hyperlinks:d}=u;if(this.type=o,this.imageId=l,o==="image")if(typeof c=="string"){const f=i.decode(c);this.range={tl:new a(this.worksheet,{col:f.left,row:f.top},-1),br:new a(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,c.tl,0),br:c.br&&new a(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:d||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const i=e("../utils/under-dash");class a{constructor(o){this.note=o}get model(){let o=null;switch(typeof this.note){case"string":o={type:"note",note:{texts:[{text:this.note}]}};break;default:o={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,o)}set model(o){const{note:l}=o,{texts:c}=l;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=l}static fromModel(o){const l=new a;return l.model=o,l}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(o,l,c,d,f){if(arguments.length<4){const h=i.decodeAddress(o),g=i.decodeAddress(l);this.model={top:Math.min(h.row,g.row),left:Math.min(h.col,g.col),bottom:Math.max(h.row,g.row),right:Math.max(h.col,g.col),sheetName:c},this.setTLBR(h.row,h.col,g.row,g.col,f)}else this.model={top:Math.min(o,c),left:Math.min(l,d),bottom:Math.max(o,c),right:Math.max(l,d),sheetName:f}}decode(o){switch(o.length){case 5:this.setTLBR(o[0],o[1],o[2],o[3],o[4]);break;case 4:this.setTLBR(o[0],o[1],o[2],o[3]);break;case 3:this.setTLBR(o[0],o[1],o[2]);break;case 2:this.setTLBR(o[0],o[1]);break;case 1:{const l=o[0];if(l instanceof a)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const c=i.decodeEx(l);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+o.length)}}get top(){return this.model.top||1}set top(o){this.model.top=o}get left(){return this.model.left||1}set left(o){this.model.left=o}get bottom(){return this.model.bottom||1}set bottom(o){this.model.bottom=o}get right(){return this.model.right||1}set right(o){this.model.right=o}get sheetName(){return this.model.sheetName}set sheetName(o){this.model.sheetName=o}get _serialisedSheetName(){const{sheetName:o}=this.model;return o?/^[a-zA-Z0-9]*$/.test(o)?o+"!":`'${o}'!`:""}expand(o,l,c,d){(!this.model.top||o<this.top)&&(this.top=o),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(o){if(o){const{dimensions:l,number:c}=o;l&&this.expand(c,l.min,c,l.max)}}expandToAddress(o){const l=i.decodeEx(o);this.expand(l.row,l.col,l.row,l.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&!(o.bottom<this.top)&&!(o.top>this.bottom)&&!(o.right<this.left)&&!(o.left>this.right)}contains(o){const l=i.decodeEx(o);return this.containsEx(l)}containsEx(o){return(!o.sheetName||!this.sheetName||o.sheetName===this.sheetName)&&o.row>=this.top&&o.row<=this.bottom&&o.col>=this.left&&o.col<=this.right}forEachAddress(o){for(let l=this.left;l<=this.right;l++)for(let c=this.top;c<=this.bottom;c++)o(i.encodeAddress(c,l),c,l)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),u=e("../utils/col-cache"),o=e("./cell");n.exports=class{constructor(l,c){this._worksheet=l,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let c=this._cells[l.col-1];if(!c){const d=this._worksheet.getColumn(l.col);c=new o(this,d,l.address),this._cells[l.col-1]=c}return c}getCell(l){if(typeof l=="string"){const c=this._worksheet.getColumnKey(l);l=c?c.number:u.l2n(l)}return this._cells[l-1]||this.getCellEx({address:u.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,c){const d=l+c;for(var f=arguments.length,h=new Array(f>2?f-2:0),g=2;g<f;g++)h[g-2]=arguments[g];const v=h.length-c,p=this._cells.length;let y,m,b;if(v<0)for(y=l+h.length;y<=p;y++)b=this._cells[y-1],m=this._cells[y-v-1],m?(b=this.getCell(y),b.value=m.value,b.style=m.style,b._comment=m._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(v>0)for(y=p;y>=d;y--)m=this._cells[y-1],m?(b=this.getCell(y+v),b.value=m.value,b.style=m.style,b._comment=m._comment):this._cells[y+v-1]=void 0;for(y=0;y<h.length;y++)b=this.getCell(l+y),b.value=h[y],b.style={},b._comment=void 0}eachCell(l,c){if(c||(c=l,l=null),l&&l.includeEmpty){const d=this._cells.length;for(let f=1;f<=d;f++)c(this.getCell(f),f)}else this._cells.forEach((d,f)=>{d&&d.type!==a.ValueType.Null&&c(d,f+1)})}addPageBreak(l,c){const d=this._worksheet,f=Math.max(0,l-1)||0,h=Math.max(0,c-1)||16838,g={id:this._number,max:h,man:1};f&&(g.min=f),d.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(c=>{c&&c.type!==a.ValueType.Null&&(l[c.col]=c.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let c=0;l.hasOwnProperty("0")&&(c=1),l.forEach((d,f)=>{d!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,f+c),row:this._number,col:f+c}).value=d)})}else this._worksheet.eachColumnKey((c,d)=>{l[d]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=l[d])})}get hasValues(){return i.some(this._cells,l=>l&&l.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,c=0;return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&((!l||l>d.col)&&(l=d.col),c<d.col&&(c=d.col))}),l>0?{min:l,max:c}:null}_applyStyle(l,c){return this.style[l]=c,this._cells.forEach(d=>{d&&(d[l]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let c=0,d=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!c||c>f.col)&&(c=f.col),d<f.col&&(d=f.col),l.push(h))}}),this.height||l.length?{cells:l,number:this.number,min:c,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],l.cells.forEach(d=>{switch(d.type){case o.Types.Merge:break;default:{let f;if(d.address)f=u.decodeAddress(d.address);else if(c){const{row:h}=c,g=c.col+1;f={row:h,col:g,address:u.encodeAddress(h,g),$col$row:`$${u.n2l(g)}$${h}`}}c=f,this.getCellEx(f).model=d;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(o,l,c){this.table=o,this.column=l,this.index=c}_set(o,l){this.table.cacheState(),this.column[o]=l}get name(){return this.column.name}set name(o){this._set("name",o)}get filterButton(){return this.column.filterButton}set filterButton(o){this.column.filterButton=o}get style(){return this.column.style}set style(o){this.column.style=o}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(o){this._set("totalsRowLabel",o)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(o){this._set("totalsRowFunction",o)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(o){this._set("totalsRowResult",o)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(o){this._set("totalsRowFormula",o)}}n.exports=class{constructor(u,o){this.worksheet=u,o&&(this.table=o,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,o=(v,p,y)=>{v[p]===void 0&&(v[p]=y)};o(u,"headerRow",!0),o(u,"totalsRow",!1),o(u,"style",{}),o(u.style,"theme","TableStyleMedium2"),o(u.style,"showFirstColumn",!1),o(u.style,"showLastColumn",!1),o(u.style,"showRowStripes",!1),o(u.style,"showColumnStripes",!1);const l=(v,p)=>{if(!v)throw new Error(p)};l(u.ref,"Table must have ref"),l(u.columns,"Table must have column definitions"),l(u.rows,"Table must have row definitions"),u.tl=i.decodeAddress(u.ref);const{row:c,col:d}=u.tl;l(c>0,"Table must be on valid row"),l(d>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:g}=this;u.autoFilterRef=i.encode(c,d,c+h-1,d+f-1),u.tableRef=i.encode(c,d,c+g-1,d+f-1),u.columns.forEach((v,p)=>{l(v.name,`Column ${p} must have a name`),p===0?o(v,"totalsRowLabel","Total"):(o(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const u=(h,g)=>{g&&Object.keys(g).forEach(v=>{h[v]=g[v]})},{worksheet:o,table:l}=this,{row:c,col:d}=l.tl;let f=0;if(l.headerRow){const h=o.getRow(c+f++);l.columns.forEach((g,v)=>{const{style:p,name:y}=g,m=h.getCell(d+v);m.value=y,u(m,p)})}if(l.rows.forEach(h=>{const g=o.getRow(c+f++);h.forEach((v,p)=>{const y=g.getCell(d+p);y.value=v,u(y,l.columns[p].style)})}),l.totalsRow){const h=o.getRow(c+f++);l.columns.forEach((g,v)=>{const p=h.getCell(d+v);if(v===0)p.value=g.totalsRowLabel;else{const y=this.getFormula(g);p.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}u(p,g.style)})}}load(u){const{table:o}=this,{row:l,col:c}=o.tl;let d=0;if(o.headerRow){const f=u.getRow(l+d++);o.columns.forEach((h,g)=>{f.getCell(c+g).value=h.name})}if(o.rows.forEach(f=>{const h=u.getRow(l+d++);f.forEach((g,v)=>{h.getCell(c+v).value=g})}),o.totalsRow){const f=u.getRow(l+d++);o.columns.forEach((h,g)=>{const v=f.getCell(c+g);g===0?v.value=h.totalsRowLabel:this.getFormula(h)&&(v.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let o=0;o<this._cache.tableHeight;o++){const l=this.worksheet.getRow(u.row+o);for(let c=0;c<this._cache.width;c++)l.getCell(u.col+c).value=null}else{for(let o=this.tableHeight;o<this._cache.tableHeight;o++){const l=this.worksheet.getRow(u.row+o);for(let c=0;c<this._cache.width;c++)l.getCell(u.col+c).value=null}for(let o=0;o<this.tableHeight;o++){const l=this.worksheet.getRow(u.row+o);for(let c=this.width;c<this._cache.width;c++)l.getCell(u.col+c).value=null}}this.store()}addRow(u,o){this.cacheState(),o===void 0?this.table.rows.push(u):this.table.rows.splice(o,0,u)}removeRows(u){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,o)}getColumn(u){const o=this.table.columns[u];return new a(this,o,u)}addColumn(u,o,l){this.cacheState(),l===void 0?(this.table.columns.push(u),this.table.rows.forEach((c,d)=>{c.push(o[d])})):(this.table.columns.splice(l,0,u),this.table.rows.forEach((c,d)=>{c.splice(l,0,o[d])}))}removeColumns(u){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,o),this.table.rows.forEach(l=>{l.splice(u,o)})}_assign(u,o,l){this.cacheState(),u[o]=l}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(e,n,s){const i=e("./worksheet"),a=e("./defined-names"),u=e("../xlsx/xlsx"),o=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new o(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,c){const d=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const f=this._worksheets.reduce((v,p)=>(p&&p.orderNo)>v?p.orderNo:v,0),h=Object.assign({},c,{id:d,name:l,orderNo:f+1,workbook:this}),g=new i(h);return this._worksheets[d]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const c=this.getWorksheet(l);c&&c.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(c=>c&&c.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,c)=>l.orderNo-c.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(c=>{l(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const c=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),c}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(c=>{const{id:d,name:f,state:h}=c,g=l.sheets&&l.sheets.findIndex(v=>v.id===d);(this._worksheets[d]=new i({id:d,name:f,orderNo:g,state:h,workbook:this})).model=c}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),u=e("./range"),o=e("./row"),l=e("./column"),c=e("./enums"),d=e("./image"),f=e("./table"),h=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:v}=e("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new h,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new u;return this._rows.forEach(y=>{if(y){const m=y.dimensions;m&&p.expand(y.number,m.min,y.number,m.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((b,k)=>{const N=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(b,N)},0);let y=1;const m=this._columns=[];p.forEach(b=>{const k=new l(this,y++,!1);m.push(k),k.defn=b})}getColumnKey(p){return this._keys[p]}setColumnKey(p,y){this._keys[p]=y}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){i.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const y=this._keys[p];if(y)return y;p=a.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let y=this._columns.length+1;for(;y<=p;)this._columns.push(new l(this,y++))}return this._columns[p-1]}spliceColumns(p,y){const m=this._rows.length;for(var b=arguments.length,k=new Array(b>2?b-2:0),N=2;N<b;N++)k[N-2]=arguments[N];if(k.length>0)for(let M=0;M<m;M++){const U=[p,y];k.forEach(I=>{U.push(I[M]||null)});const O=this.getRow(M+1);O.splice.apply(O,U)}else this._rows.forEach(M=>{M&&M.splice(p,y)});const B=k.length-y,j=p+y,T=this._columns.length;if(B<0)for(let M=p+k.length;M<=T;M++)this.getColumn(M).defn=this.getColumn(M-B).defn;else if(B>0)for(let M=T;M>=j;M--)this.getColumn(M+B).defn=this.getColumn(M).defn;for(let M=p;M<p+k.length;M++)this.getColumn(M).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,y,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(y=>{p=Math.max(p,y.cellCount)}),p}get actualColumnCount(){const p=[];let y=0;return this.eachRow(m=>{m.eachCell(b=>{let{col:k}=b;p[k]||(p[k]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const p=this._rows;let y=p.length;for(;y>0&&p[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,y){return this._rows.slice(p-1,p-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let y=this._rows[p-1];return y||(y=this._rows[p-1]=new o(this,p)),y}getRows(p,y){if(y<1)return;const m=[];for(let b=p;b<p+y;b++)m.push(this.getRow(b));return m}addRow(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,b=this.getRow(m);return b.values=p,this._setStyleOption(m,y[0]==="i"?y:"n"),b}addRows(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return p.forEach(b=>{m.push(this.addRow(b,y))}),m}insertRow(p,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,y),this._setStyleOption(p,m),this.getRow(p)}insertRows(p,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...y),m!=="n")for(let b=0;b<y.length;b++)m[0]==="o"&&this.findRow(y.length+p+b)!==void 0?this._copyStyle(y.length+p+b,p+b,m[1]==="+"):m[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+b,m[1]==="+");return this.getRows(p,y.length)}_setStyleOption(p){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,y[1]==="+")}_copyStyle(p,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(p),k=this.getRow(y);k.style=v(b.style),b.eachCell({includeEmpty:m},(N,B)=>{k.getCell(B).style=v(N.style)}),k.height=b.height}duplicateRow(p,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[p-1],k=new Array(y).fill(b.values);this.spliceRows(p+1,m?0:y,...k);for(let N=0;N<y;N++){const B=this._rows[p+N];B.style=b.style,B.height=b.height,b.eachCell({includeEmpty:!0},(j,T)=>{B.getCell(T).style=j.style})}}spliceRows(p,y){const m=p+y;for(var b=arguments.length,k=new Array(b>2?b-2:0),N=2;N<b;N++)k[N-2]=arguments[N];const B=k.length,j=B-y,T=this._rows.length;let M,U;if(j<0)for(p===T&&(this._rows[T-1]=void 0),M=m;M<=T;M++)if(U=this._rows[M-1],U){const O=this.getRow(M+j);O.values=U.values,O.style=U.style,O.height=U.height,U.eachCell({includeEmpty:!0},(I,E)=>{O.getCell(E).style=I.style}),this._rows[M-1]=void 0}else this._rows[M+j-1]=void 0;else if(j>0)for(M=T;M>=m;M--)if(U=this._rows[M-1],U){const O=this.getRow(M+j);O.values=U.values,O.style=U.style,O.height=U.height,U.eachCell({includeEmpty:!0},(I,E)=>{if(O.getCell(E).style=I.style,I._value.constructor.name==="MergeValue"){const R=this.getRow(I._row._number+B).getCell(E),A=I._value._master,w=this.getRow(A._row._number+B).getCell(A._column._number);R.merge(w)}})}else this._rows[M+j-1]=void 0;for(M=0;M<B;M++){const O=this.getRow(p+M);O.style={},O.values=k[M]}this.workbook.definedNames.spliceRows(this.name,p,y,B)}eachRow(p,y){if(y||(y=p,p=void 0),p&&p.includeEmpty){const m=this._rows.length;for(let b=1;b<=m;b++)y(this.getRow(b),b)}else this._rows.forEach(m=>{m&&m.hasValues&&y(m,m.number)})}getSheetValues(){const p=[];return this._rows.forEach(y=>{y&&(p[y.number]=y.values)}),p}findCell(p,y){const m=a.getAddress(p,y),b=this._rows[m.row-1];return b?b.findCell(m.col):void 0}getCell(p,y){const m=a.getAddress(p,y);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new u(y);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new u(y);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(p,y){i.each(this._merges,b=>{if(b.intersects(p))throw new Error("Cannot merge already merged cells")});const m=this.getCell(p.top,p.left);for(let b=p.top;b<=p.bottom;b++)for(let k=p.left;k<=p.right;k++)(b>p.top||k>p.left)&&this.getCell(b,k).merge(m,y);this._merges[m.address]=p}_unMergeMaster(p){const y=this._merges[p.address];if(y){for(let m=y.top;m<=y.bottom;m++)for(let b=y.left;b<=y.right;b++)this.getCell(m,b).unmerge();delete this._merges[p.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];const b=new u(y);for(let k=b.top;k<=b.bottom;k++)for(let N=b.left;N<=b.right;N++){const B=this.findCell(k,N);B&&(B.type===c.ValueType.Merge?this._unMergeMaster(B.master):this._merges[B.address]&&this._unMergeMaster(B))}}fillFormula(p,y,m){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=a.decode(p),{top:N,left:B,bottom:j,right:T}=k,M=T-B+1,U=a.encodeAddress(N,B),O=b==="shared";let I;I=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(R,A)=>m[R-N][A-B]:(R,A)=>m[(R-N)*M+(A-B)]:()=>{};let E=!0;for(let R=N;R<=j;R++)for(let A=B;A<=T;A++)E?(this.getCell(R,A).value={shareType:b,formula:y,ref:p,result:I(R,A)},E=!1):this.getCell(R,A).value=O?{sharedFormula:U,result:I(R,A)}:I(R,A)}addImage(p,y){const m={type:"image",imageId:p,range:y};this._media.push(new d(this,m))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const y={type:"background",imageId:p};this._media.push(new d(this,y))}getBackgroundImageId(){const p=this._media.find(y=>y.type==="background");return p&&p.imageId}protect(p,y){return new Promise(m=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!p&&"spinCount"in y&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(p){const y=new f(this,p);return this.tables[p.name]=y,y}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};p.cols=l.toModel(this.columns);const y=p.rows=[],m=p.dimensions=new u;return this._rows.forEach(b=>{const k=b&&b.model;k&&(m.expand(k.number,k.min,k.number,k.max),y.push(k))}),p.merges=[],i.each(this._merges,b=>{p.merges.push(b.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(y=>{const m=new o(this,y.number);this._rows[m.number-1]=m,m.model=y})}_parseMergeCells(p){i.each(p.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(p){this.name=p.name,this._columns=l.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new h(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(y=>new d(this,y)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((y,m)=>{const b=new f;return b.model=m,y[m.name]=b,y},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(u=>{i[u]=a[u]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(e,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");s.stringToBuffer=function(u){return typeof u!="string"?u:i?a.from(i.encode(u).buffer):a.from(u)}},{buffer:220}],18:[function(e,n,s){const i=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(a.decodeEx(u))}getCell(u){return this.findCellEx(a.decodeEx(u),!0)}findCell(u){return this.findCellEx(a.decodeEx(u),!1)}findCellAt(u,o,l){const c=this.sheets[u],d=c&&c[o];return d&&d[l]}addCellEx(u){if(u.top)for(let o=u.top;o<=u.bottom;o++)for(let l=u.left;l<=u.right;l++)this.getCellAt(u.sheetName,o,l);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,o){const l=this.findSheet(u,o),c=this.findSheetRow(l,u,o);return this.findRowCell(c,u,o)}getCellAt(u,o,l){const c=this.sheets[u]||(this.sheets[u]=[]),d=c[o]||(c[o]=[]);return d[l]||(d[l]={sheetName:u,address:a.n2l(l)+o,row:o,col:l})}removeCellEx(u){const o=this.findSheet(u);if(!o)return;const l=this.findSheetRow(o,u);l&&delete l[u.col]}forEachInSheet(u,o){const l=this.sheets[u];l&&l.forEach((c,d)=>{c&&c.forEach((f,h)=>{f&&o(f,d,h)})})}forEach(u){i.each(this.sheets,(o,l)=>{this.forEachInSheet(l,u)})}map(u){const o=[];return this.forEach(l=>{o.push(u(l))}),o}findSheet(u,o){const l=u.sheetName;return this.sheets[l]?this.sheets[l]:o?this.sheets[l]=[]:void 0}findSheetRow(u,o,l){const{row:c}=o;return u&&u[c]?u[c]:l?u[c]=[]:void 0}findRowCell(u,o,l){const{col:c}=o;return u&&u[c]?u[c]:l?u[c]=this.template?Object.assign(o,JSON.parse(JSON.stringify(this.template))):o:void 0}spliceRows(u,o,l,c){const d=this.sheets[u];if(d){const f=[];for(let h=0;h<c;h++)f.push([]);d.splice(o,l,...f)}}spliceColumns(u,o,l,c){const d=this.sheets[u];if(d){const f=[];for(let h=0;h<c;h++)f.push(null);i.each(d,h=>{h.splice(o,l,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let o,l,c,d,f,h=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;h<=26;)o=this._dictionary[h-1],this._n2l[h]=o,this._l2n[o]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(h=27;h<=702;)l=h-27,c=l%26,d=Math.floor(l/26),o=this._dictionary[d]+this._dictionary[c],this._n2l[h]=o,this._l2n[o]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(h=703;h<=16384;)l=h-703,c=l%26,d=Math.floor(l/26)%26,f=Math.floor(l/676),o=this._dictionary[f]+this._dictionary[d]+this._dictionary[c],this._n2l[h]=o,this._l2n[o]=h,h++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!i.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const o=u.length<5&&this._hash[u];if(o)return o;let l=!1,c="",d=0,f=!1,h="",g=0;for(let p,y=0;y<u.length;y++)if(p=u.charCodeAt(y),!f&&p>=65&&p<=90)l=!0,c+=u[y],d=26*d+p-64;else if(p>=48&&p<=57)f=!0,h+=u[y],g=10*g+p-48;else if(f&&l&&p!==36)break;if(l){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else d=void 0;f||(g=void 0);const v={address:u=c+h,col:d,row:g,$col$row:`$${c}$${h}`};return d<=100&&g<=100&&(this._hash[u]=v,this._hash[v.$col$row]=v),v},getAddress(u,o){if(o){const l=this.n2l(o)+u;return this.decodeAddress(l)}return this.decodeAddress(u)},decode(u){const o=u.split(":");if(o.length===2){const l=this.decodeAddress(o[0]),c=this.decodeAddress(o[1]),d={top:Math.min(l.row,c.row),left:Math.min(l.col,c.col),bottom:Math.max(l.row,c.row),right:Math.max(l.col,c.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(u)},decodeEx(u){const o=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=o[1]||o[2],c=o[3],d=c.split(":");if(d.length>1){let h=this.decodeAddress(d[0]),g=this.decodeAddress(d[1]);const v=Math.min(h.row,g.row),p=Math.min(h.col,g.col),y=Math.max(h.row,g.row),m=Math.max(h.col,g.col);return h=this.n2l(p)+v,g=this.n2l(m)+y,{top:v,left:p,bottom:y,right:m,sheetName:l,tl:{address:h,col:p,row:v,$col$row:`$${this.n2l(p)}$${v}`,sheetName:l},br:{address:g,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:l},dimensions:`${h}:${g}`}}if(c.startsWith("#"))return l?{sheetName:l,error:c}:{error:c};const f=this.decodeAddress(c);return l?{sheetName:l,...f}:f},encodeAddress:(u,o)=>a.n2l(o)+u,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,o){const[l,c,,d,f]=u,[h,g]=o;return h>=l&&h<=d&&g>=c&&g<=f}};n.exports=a},{}],20:[function(e,n,s){const i=(u,o)=>({...u,...o.reduce((l,c)=>(u[c]&&(l[c]={...u[c]}),l),{})}),a=function(u,o,l){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[l]&&(o[l]=i(u[l],c))};s.copyStyle=u=>{if(!u)return u;if(o=u,Object.keys(o).length===0)return{};var o;const l={...u};return a(u,l,"font",["color"]),a(u,l,"alignment"),a(u,l,"protection"),u.border&&(a(u,l,"border"),a(u.border,l.border,"top",["color"]),a(u.border,l.border,"left",["color"]),a(u.border,l.border,"bottom",["color"]),a(u.border,l.border,"right",["color"]),a(u.border,l.border,"diagonal",["color"])),u.fill&&(a(u,l,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(l.fill.stops=u.fill.stops.map(c=>i(c,["color"])))),l}},{}],21:[function(e,n,s){(function(i){(function(){const a=e("crypto"),u={hash(o){const l=a.createHash(o);for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return l.update(i.concat(d)),l.digest()},convertPasswordToHash(o,l,c,d){if(l=l.toLowerCase(),a.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const f=i.from(o,"utf16le");let h=this.hash(l,i.from(c,"base64"),f);for(let g=0;g<d;g++){const v=i.alloc(4);v.writeUInt32LE(g,0),h=this.hash(l,h,v)}return h.toString("base64")},randomBytes:o=>a.randomBytes(o)};n.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:i}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:u}=e("./browser-buffer-decode");n.exports=async function*(o){o.pipe&&!o[Symbol.asyncIterator]&&(o=o.pipe(new a));const l=new i;let c;l.on("error",f=>{c=f});let d=[];l.on("opentag",f=>d.push({eventType:"opentag",value:f})),l.on("text",f=>d.push({eventType:"text",value:f})),l.on("closetag",f=>d.push({eventType:"closetag",value:f}));for await(const f of o){if(l.write(u(f)),c)throw c;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const i=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(o,l,c){const d=i.decode(l),f=i.decode(c);return o.replace(a,(h,g,v,p,y)=>{if(y)return h;const m=u.exec(p);if(m){const b=m[1],k=m[2].toUpperCase(),N=m[3],B=m[4];if(k.length>3||k.length===3&&k>"XFD")return h;let j=i.l2n(k),T=parseInt(B,10);return b||(j+=f.col-d.col),N||(T+=f.row-d.row),(g||"")+(b||"")+i.n2l(j)+(N||"")+T}return h})}}},{"./col-cache":19}],24:[function(e,n,s){(function(i,a){(function(){const u=e("readable-stream"),o=e("./utils"),l=e("./string-buf");class c{constructor(p,y){this._data=p,this._encoding=y}get length(){return this.toBuffer().length}copy(p,y,m,b){return this.toBuffer().copy(p,y,m,b)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,m,b){return this._data._buf.copy(p,y,m,b)}toBuffer(){return this._data.toBuffer()}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,y,m,b){this._data.copy(p,y,m,b)}toBuffer(){return this._data}}class h{constructor(p){this.size=p,this.buffer=a.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let y;return p===0?null:p===void 0||p>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=a.alloc(p),this.buffer.copy(y,0,this.iRead,p),this.iRead+=p,y)}write(p,y,m){const b=Math.min(m,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,y,y+b),this.iWrite+=b,b}}const g=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};o.inherits(g,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const v=new h(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map(function(p){return new Promise(y=>{p.write(v.toBuffer(),()=>{y()})})}))},_writeToBuffers(v){let p=0;const y=v.length;for(;p<y;)p+=this._getWritableBuffer().write(v,p,y-p)},async write(v,p,y){let m;if(p instanceof Function&&(y=p,p="utf8"),y=y||o.nop,v instanceof l)m=new d(v);else if(v instanceof a)m=new f(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new c(v,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),i.nextTick(y)):(await this._pipe(m),y());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,p,y){const m=b=>{b?y(b):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};v?this.write(v,p,m):m()},read(v){let p;if(v){for(p=[];v&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],m=y.read(v);v-=m.length,p.push(m),y.eod&&y.full&&this.buffers.shift()}return a.concat(p)}return p=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],a.concat(p)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(p=>p!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let u=2*this._buf.length;for(;u<a;)u*=2;const o=i.alloc(u);this._buf.copy(o,0),this._buf=o}addText(a){this._buffer=void 0;let u=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+a.length),u=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=u}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,u={each:function(o,l){o&&(Array.isArray(o)?o.forEach(l):Object.keys(o).forEach(c=>{l(o[c],c)}))},some:function(o,l){return!!o&&(Array.isArray(o)?o.some(l):Object.keys(o).some(c=>l(o[c],c)))},every:function(o,l){return!o||(Array.isArray(o)?o.every(l):Object.keys(o).every(c=>l(o[c],c)))},map:function(o,l){return o?Array.isArray(o)?o.map(l):Object.keys(o).map(c=>l(o[c],c)):[]},keyBy:(o,l)=>o.reduce((c,d)=>(c[d[l]]=d,c),{}),isEqual:function(o,l){const c=typeof o,d=typeof l,f=Array.isArray(o),h=Array.isArray(l);let g;if(c!==d)return!1;switch(typeof o){case"object":if(f||h)return!(!f||!h)&&o.length===l.length&&o.every((v,p)=>{const y=l[p];return u.isEqual(v,y)});if(o===null||l===null)return o===l;if(g=Object.keys(o),Object.keys(l).length!==g.length)return!1;for(const v of g)if(!l.hasOwnProperty(v))return!1;return u.every(o,(v,p)=>{const y=l[p];return u.isEqual(v,y)});default:return o===l}},escapeHtml(o){const l=a.exec(o);if(!l)return o;let c="",d="",f=0,h=l.index;for(;h<o.length;h++){switch(o.charAt(h)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}f!==h&&(c+=o.substring(f,h)),f=h+1,c+=d}return f!==h?c+o.substring(f,h):c},strcmp:(o,l)=>o<l?-1:o>l?1:0,isUndefined:o=>i.call(o)==="[object Undefined]",isObject:o=>i.call(o)==="[object Object]",deepMerge(){const o=arguments[0]||{},{length:l}=arguments;let c,d,f;function h(g,v){c=o[v],f=Array.isArray(g),u.isObject(g)||f?(f?(f=!1,d=c&&Array.isArray(c)?c:[]):d=c&&u.isObject(c)?c:{},o[v]=u.deepMerge(d,g)):u.isUndefined(g)||(o[v]=g)}for(let g=0;g<l;g++)u.each(arguments[g],h);return o}};n.exports=u},{}],27:[function(e,n,s){(function(i,a){(function(){const u=e("fs"),o=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:c=>new Promise(d=>{i.setImmediate?a(()=>{d(c)}):setTimeout(()=>{d(c)},1)}),inherits:function(c,d,f,h){c.super_=d,h||(h=f,f=null),f&&Object.keys(f).forEach(v=>{Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(f,v))});const g={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(v=>{g[v]=Object.getOwnPropertyDescriptor(h,v)}),c.prototype=Object.create(d.prototype,g)},dateToExcel:(c,d)=>25569+c.getTime()/864e5-(d?1462:0),excelToDate(c,d){const f=Math.round(24*(c-25569+(d?1462:0))*3600*1e3);return new Date(f)},parsePath(c){const d=c.lastIndexOf("/");return{path:c.substring(0,d),name:c.substring(d+1)}},getRelsPath(c){const d=l.parsePath(c);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(c){const d=o.exec(c);if(!d)return c;let f="",h="",g=0,v=d.index;for(;v<c.length;v++){const p=c.charCodeAt(v);switch(p){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){h="";break}continue}g!==v&&(f+=c.substring(g,v)),g=v+1,h&&(f+=h)}return g!==v?f+c.substring(g,v):f},xmlDecode:c=>c.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(c){const d=parseInt(c,10);return Number.isNaN(d)?0:d},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(d=>{u.access(c,u.constants.F_OK,f=>{d(!f)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=l}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const i=e("./under-dash"),a=e("./utils");function u(c,d,f){c.push(` ${d}="${a.xmlEncode(f.toString())}"`)}function o(c,d){if(d){const f=[];i.each(d,(h,g)=>{h!==void 0&&u(f,g,h)}),c.push(f.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const f=this._xml;f.push("<?xml"),o(f,d),f.push(`?>
`)}openNode(d,f){const h=this.tos,g=this._xml;h&&this.open&&g.push(">"),this._stack.push(d),g.push("<"),g.push(d),o(g,f),this.leaf=!0,this.open=!0}addAttribute(d,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&u(this._xml,d,f)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o(this._xml,d)}writeText(d){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(a.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(d),f.push(">")),this.open=!1,this.leaf=!1}leafNode(d,f,h){this.openNode(d,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(i){(function(){const a=e("events"),u=e("jszip"),o=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class c extends a.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new u,this.stream=new o}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=l(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:c}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const i=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof u?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const c of l)for(const{eventType:d,value:f}of c)if(d==="opentag")this.parseOpen(f);else if(d==="text")this.parseText(f);else if(d==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(l){return this.parse(i(l))}get xml(){return this.toXml(this.model)}toXml(l){const c=new a;return this.render(c,l),c.xml}static toAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(d)return c}else if(d||l!==c)return l.toString()}static toStringAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,c,d)}static toStringValue(l,c){return l===void 0?c:l}static toBoolAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(d)return c}else if(d||l!==c)return l?"1":"0"}static toBoolValue(l,c){return l===void 0?c:l==="1"}static toIntAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,c,d)}static toIntValue(l,c){return l===void 0?c:parseInt(l,10)}static toFloatAttribute(l,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,c,d)}static toFloatValue(l,c){return l===void 0?c:parseFloat(l)}}n.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/col-cache");function u(l){try{return a.decodeEx(l),!0}catch{return!1}}function o(l){const c=[];let d=!1,f="";return l.split(",").forEach(h=>{if(!h)return;const g=(h.match(/'/g)||[]).length;if(!g)return void(d?f+=h+",":u(h)&&c.push(h));const v=g%2==0;!d&&v&&u(h)?c.push(h):d&&!v?(d=!1,u(f+h)&&c.push(f+h),f=""):(d=!0,f+=h+",")}),c}n.exports=class extends i{render(l,c){l.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),l.writeText(c.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:o(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(u,o){u.leafNode("sheet",{sheetId:o.id,name:o.name,state:o.state,"r:id":o.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:i.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,u){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,u){a.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,u){const o={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(o.visibility=u.visibility),a.leafNode("workbookView",o)}parseOpen(a){if(a.name==="workbookView"){const u=this.model={},o=function(c,d,f){const h=d!==void 0?u[c]=d:f;h!==void 0&&(u[c]=h)},l=function(c,d,f){const h=d!==void 0?u[c]=parseInt(d,10):f;h!==void 0&&(u[c]=h)};return l("x",a.attributes.xWindow,0),l("y",a.attributes.yWindow,0),l("width",a.attributes.windowWidth,25e3),l("height",a.attributes.windowHeight,1e4),o("visibility",a.attributes.visibility,"visible"),l("activeTab",a.attributes.activeTab,void 0),l("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),o=e("../base-xform"),l=e("../static-xform"),c=e("../list-xform"),d=e("./defined-name-xform"),f=e("./sheet-xform"),h=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),v=e("./workbook-calc-properties-xform");class p extends o{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new c({tag:"bookViews",count:!1,childXform:new h}),sheets:new c({tag:"sheets",count:!1,childXform:new f}),definedNames:new c({tag:"definedNames",count:!1,childXform:new d}),calcPr:new v}}prepare(m){m.sheets=m.worksheets;const b=[];let k=0;m.sheets.forEach(N=>{if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(B=>{const j=B.split(":"),T={name:"_xlnm.Print_Area",ranges:[`'${N.name}'!$${j[0]}:$${j[1]}`],localSheetId:k};b.push(T)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){const B=[];if(N.pageSetup.printTitlesColumn){const T=N.pageSetup.printTitlesColumn.split(":");B.push(`'${N.name}'!$${T[0]}:$${T[1]}`)}if(N.pageSetup.printTitlesRow){const T=N.pageSetup.printTitlesRow.split(":");B.push(`'${N.name}'!$${T[0]}:$${T[1]}`)}const j={name:"_xlnm.Print_Titles",ranges:B,localSheetId:k};b.push(j)}k++}),b.length&&(m.definedNames=m.definedNames.concat(b)),(m.media||[]).forEach((N,B)=>{N.name=N.type+(B+1)})}render(m,b){m.openXml(u.StdDocAttributes),m.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,b.properties),this.map.bookViews.render(m,b.views),this.map.sheets.render(m,b.sheets),this.map.definedNames.render(m,b.definedNames),this.map.calcPr.render(m,b.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const b=(m.workbookRels||[]).reduce((T,M)=>(T[M.Id]=M,T),{}),k=[];let N,B=0;(m.sheets||[]).forEach(T=>{const M=b[T.rId];M&&(N=m.worksheetHash["xl/"+M.Target.replace(/^(\s|\/xl\/)+/,"")],N&&(N.name=T.name,N.id=T.id,N.state=T.state,k[B++]=N))});const j=[];i.each(m.definedNames,T=>{if(T.name==="_xlnm.Print_Area"){if(N=k[T.localSheetId],N){N.pageSetup||(N.pageSetup={});const M=a.decodeEx(T.ranges[0]);N.pageSetup.printArea=N.pageSetup.printArea?`${N.pageSetup.printArea}&&${M.dimensions}`:M.dimensions}}else if(T.name==="_xlnm.Print_Titles"){if(N=k[T.localSheetId],N){N.pageSetup||(N.pageSetup={});const M=T.ranges.join(","),U=/\$/g,O=/\$\d+:\$\d+/,I=M.match(O);if(I&&I.length){const A=I[0];N.pageSetup.printTitlesRow=A.replace(U,"")}const E=/\$[A-Z]+:\$[A-Z]+/,R=M.match(E);if(R&&R.length){const A=R[0];N.pageSetup.printTitlesColumn=A.replace(U,"")}}}else j.push(T)}),m.definedNames=j,m.media.forEach((T,M)=>{T.index=M})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const i=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),u=e("../base-xform"),o=n.exports=function(l){this.model=l};a.inherits(o,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(l,c){c=c||this.model,l.openNode("comment",{ref:c.ref,authorId:0}),l.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(d=>{this.richTextXform.render(l,d)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),u=e("../base-xform"),o=e("./comment-xform"),l=n.exports=function(){this.map={comment:new o}};a.inherits(l,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,d){d=d||this.model,c.openXml(i.StdDocAttributes),c.openNode("comments",l.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),d.comments.forEach(f=>{this.map.comment.render(c,f)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,u,o){(u===o[2]||this.tag==="x:SizeWithCells"&&u===o[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const u=Math.floor(a.left),o=Math.floor(68*(a.left-u)),l=Math.floor(a.top),c=Math.floor(18*(a.top-l)),d=Math.floor(a.right),f=Math.floor(68*(a.right-d)),h=Math.floor(a.bottom);return[u,o,l,c,d,f,h,Math.floor(18*(a.bottom-h))]}getDefaultRect(a){const u=a.col,o=Math.max(a.row-2,0);return[u,6,o,14,u+2,2,o+4,16]}render(a,u){const o=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);a.leafNode("x:Anchor",null,o.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-anchor-xform"),u=e("./style/vml-protection-xform"),o=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new o({tag:"x:SizeWithCells"}),"x:MoveWithCells":new o({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,d){const{protection:f,editAs:h}=d.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,h,l),this.map["x:SizeWithCells"].render(c,h,l),this.map["x:Anchor"].render(c,d),this.map["x:Locked"].render(c,f.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,f.lockText),c.leafNode("x:Row",null,d.refAddress.row-1),c.leafNode("x:Column",null,d.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(c).length;this.model.editAs=l[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),u=e("./vml-shape-xform");class o extends a{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(c,d){c.openXml(i.StdDocAttributes),c.openNode(this.tag,o.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),d.comments.forEach((f,h)=>{this.map["v:shape"].render(c,f,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,d){c.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}o.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-textbox-xform"),u=e("./vml-client-data-xform");class o extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new u}}get tag(){return"v:shape"}render(c,d,f){c.openNode("v:shape",o.V_SHAPE_ATTRIBUTES(d,f)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,d),this.map["x:ClientData"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}o.V_SHAPE_ATTRIBUTES=(l,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),n.exports=o},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,u,o){return`${parseFloat(a)*u.toFixed(2)}${o}`}reverseConversionUnit(a){return(a||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(a,u){const o={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:l}=u.note&&u.note.margins;Array.isArray(l)&&(l=l.map(c=>this.conversionUnit(c,10,"mm")).join(",")),l&&(o.inset=l)}a.openNode("v:textbox",o),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,u){this.model[a]=u.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,u){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,u.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,u){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(o=>{a.leafNode("vt:lpstr",void 0,o.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),u=e("../simple/string-xform"),o=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class c extends a{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new o,TitleOfParts:new l}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("Properties",c.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform");class u extends a{render(l,c){l.openXml(i.StdDocAttributes),l.openNode("Types",u.PROPERTY_ATTRIBUTES);const d={};(c.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;d[h]||(d[h]=!0,l.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;l.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(f=>{l.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(f=>{l.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(f=>{let{commentName:h}=f;l.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),u=e("../simple/date-xform"),o=e("../simple/string-xform"),l=e("../simple/integer-xform");class c extends a{constructor(){super(),this.map={"dc:creator":new o({tag:"dc:creator"}),"dc:title":new o({tag:"dc:title"}),"dc:subject":new o({tag:"dc:subject"}),"dc:description":new o({tag:"dc:description"}),"dc:identifier":new o({tag:"dc:identifier"}),"dc:language":new o({tag:"dc:language"}),"cp:keywords":new o({tag:"cp:keywords"}),"cp:category":new o({tag:"cp:category"}),"cp:lastModifiedBy":new o({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new o({tag:"cp:version"}),"cp:contentStatus":new o({tag:"cp:contentStatus"}),"cp:contentType":new o({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,u){a.leafNode("Relationship",u)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),u=e("./relationship-xform");class o extends a{constructor(){super(),this.map={Relationship:new u}}render(c,d){d=d||this._values,c.openXml(i.StdDocAttributes),c.openNode("Relationships",o.RELATIONSHIPS_ATTRIBUTES),d.forEach(f=>{this.map.Relationship.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}o.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,u){if(a&&a.rId){const o=u.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(o){const l=o[1],c=u.mediaIndex[l];return u.media[c]}}}}},{"../base-xform":32}],57:[function(e,n,s){const i=e("../base-xform"),a=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(u,o){u.openNode(this.tag),this.map["a:blip"].render(u,o),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,u){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const i=e("../base-xform"),a=e("./hlink-click-xform"),u=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(o,l){o.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(o,l),this.map["a:extLst"].render(o,l),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const i=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends i{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(u,o){u.openNode(this.tag),this.map["xdr:col"].render(u,o.nativeCol),this.map["xdr:colOff"].render(u,o.nativeColOff),this.map["xdr:row"].render(u,o.nativeRow),this.map["xdr:rowOff"].render(u,o.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),u=e("../base-xform"),o=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class c extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new o,"xdr:oneCellAnchor":new l}}prepare(f){f.anchors.forEach((h,g)=>{h.anchorType=function(v){return(typeof v.range=="string"?i.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:g})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(a.StdDocAttributes),f.openNode(this.tag,c.DRAWING_ATTRIBUTES),h.anchors.forEach(g=>{this.map[g.anchorType].render(f,g)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,h):this.map["xdr:oneCellAnchor"].reconcile(g,h)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,u){a.openNode(this.tag);const o=Math.floor(9525*u.width),l=Math.floor(9525*u.height);a.addAttribute("cx",o),a.addAttribute("cy",l),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,u){u.hyperlinks&&u.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const i=e("../base-xform"),a=e("./c-nv-pr-xform"),u=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(o,l){o.openNode(this.tag),this.map["xdr:cNvPr"].render(o,l),this.map["xdr:cNvPicPr"].render(o,l),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),u=e("./cell-position-xform"),o=e("./ext-xform"),l=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new o({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,d){this.map["xdr:pic"].prepare(c.picture,d)}render(c,d){c.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,d.range.tl),this.map["xdr:ext"].render(c,d.range.ext),this.map["xdr:pic"].render(c,d.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,d){c.medium=this.reconcilePicture(c.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const i=e("../base-xform"),a=e("../static-xform"),u=e("./blip-fill-xform"),o=e("./nv-pic-pr-xform"),l=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new o,"xdr:blipFill":new u,"xdr:spPr":new a(l)}}get tag(){return"xdr:pic"}prepare(c,d){c.index=d.index+1}render(c,d){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,d),this.map["xdr:blipFill"].render(c,d),this.map["xdr:spPr"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),u=e("./cell-position-xform"),o=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new o,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:to"].render(l,c.range.br),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,u){const{childXform:o}=this;a&&a.forEach((l,c)=>{u.index=c,o.prepare(l,u)})}render(a,u){if(this.always||u&&u.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,u&&u.length||0);const{childXform:o}=this;(u||[]).forEach((l,c)=>{o.render(a,l,c)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,u){if(a){const{childXform:o}=this;a.forEach(l=>{o.reconcile(l,u)})}}}},{"./base-xform":32}],72:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(u,o){if(o)if(typeof o=="string")u.leafNode("autoFilter",{ref:o});else{const l=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},c=l(o.from),d=l(o.to);c&&d&&u.leafNode("autoFilter",{ref:`${c}:${d}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform"),u=e("../../../doc/range"),o=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function c(d){if(d==null)return o.ValueType.Null;if(d instanceof String||typeof d=="string")return o.ValueType.String;if(typeof d=="number")return o.ValueType.Number;if(typeof d=="boolean")return o.ValueType.Boolean;if(d instanceof Date)return o.ValueType.Date;if(d.text&&d.hyperlink)return o.ValueType.Hyperlink;if(d.formula)return o.ValueType.Formula;if(d.error)return o.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(d,f){const h=f.styles.addStyleModel(d.style||{},function(g){switch(g.type){case o.ValueType.Formula:return c(g.result);default:return g.type}}(d));switch(h&&(d.styleId=h),d.comment&&f.comments.push({...d.comment,ref:d.address}),d.type){case o.ValueType.String:case o.ValueType.RichText:f.sharedStrings&&(d.ssId=f.sharedStrings.add(d.value));break;case o.ValueType.Date:f.date1904&&(d.date1904=!0);break;case o.ValueType.Hyperlink:f.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=f.sharedStrings.add(d.text)),f.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case o.ValueType.Merge:f.merges.add(d);break;case o.ValueType.Formula:if(f.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=f.siFormulae++),d.formula)f.formulae[d.address]=d;else if(d.sharedFormula){const g=f.formulae[d.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);g.si===void 0?(g.shareType="shared",g.si=f.siFormulae++,g.range=new u(g.address,d.address)):g.range&&g.range.expandToAddress(d.address),d.si=g.si}}}renderFormula(d,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(c(f.result)){case o.ValueType.Null:d.leafNode("f",h,f.formula);break;case o.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case o.ValueType.Number:d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case o.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result?1:0);break;case o.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result.error);break;case o.ValueType.Date:d.leafNode("f",h,f.formula),d.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,f){if(f.type!==o.ValueType.Null||f.styleId){switch(d.openNode("c"),d.addAttribute("r",f.address),f.styleId&&d.addAttribute("s",f.styleId),f.type){case o.ValueType.Null:break;case o.ValueType.Number:d.leafNode("v",null,f.value);break;case o.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,f.value?"1":"0");break;case o.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,f.value.error);break;case o.ValueType.String:case o.ValueType.RichText:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(d,h)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,f.value));break;case o.ValueType.Date:d.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case o.ValueType.Hyperlink:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,f.text));break;case o.ValueType.Formula:this.renderFormula(d,f);break;case o.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=o.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=o.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=o.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=o.ValueType.String;break;case"b":f.type=o.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=o.ValueType.Error,f.value={error:f.value};break;default:f.type=o.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=o.ValueType.Null:f.type=o.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,f){const h=d.styleId&&f.styles&&f.styles.getStyleModel(d.styleId);switch(h&&(d.style=h),d.styleId!==void 0&&(d.styleId=void 0),d.type){case o.ValueType.String:typeof d.value=="number"&&f.sharedStrings&&(d.value=f.sharedStrings.getString(d.value)),d.value.richText&&(d.type=o.ValueType.RichText);break;case o.ValueType.Number:h&&i.isDateFmt(h.numFmt)&&(d.type=o.ValueType.Date,d.value=i.excelToDate(d.value,f.date1904));break;case o.ValueType.Formula:d.result!==void 0&&h&&i.isDateFmt(h.numFmt)&&(d.result=i.excelToDate(d.result,f.date1904)),d.shareType==="shared"&&(d.ref?f.formulae[d.si]=d.address:(d.sharedFormula=f.formulae[d.si],delete d.shareType),delete d.si)}const g=f.hyperlinkMap[d.address];g&&(d.type===o.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=o.ValueType.Hyperlink,d.hyperlink=g);const v=f.commentsMap&&f.commentsMap[d.address];v&&(d.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,u){a.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(a){let{attributes:u}=a;this.model={iconSet:u.iconSet,iconId:i.toIntValue(u.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:i}=e("uuid"),a=e("../../base-xform"),u=e("../../composite-xform"),o=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new o,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?o.isExt(h):!(h.type!=="iconSet"||!h.custom&&!c[h.iconSet])}prepare(h){d.isExt(h)&&(h.x14Id=`{${i()}}`.toUpperCase())}render(h,g){if(d.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(h,g);break;case"iconSet":this.renderIconSet(h,g)}}renderDataBar(h,g){h.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(h,g),h.closeNode()}renderIconSet(h,g){h.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(h,g),h.closeNode()}createNewModel(h){let{attributes:g}=h;return{type:g.type,x14Id:g.id,priority:a.toIntValue(g.priority)}}onParserClose(h,g){Object.assign(this.model,g.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const i=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(u,o){u.openNode(this.tag,{type:o.type}),o.value!==void 0&&this.fExtXform.render(u,o.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,o){switch(u){case"xm:f":this.model.value=o.model?parseFloat(o.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const i=e("../../composite-xform"),a=e("./sqref-ext-xform"),u=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(o,l){o.rules.forEach(c=>{this.cfRule.prepare(c,l)})}render(o,l){l.rules.some(u.isExt)&&(o.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(u.isExt).forEach(c=>this.cfRule.render(o,c)),this.sqRef.render(o,l.ref),o.closeNode())}createNewModel(){return{rules:[]}}onParserClose(o,l){switch(o){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),u=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(o){return o.hasExtContent===void 0&&(o.hasExtContent=o.some(l=>l.rules.some(a.isExt))),o.hasExtContent}prepare(o,l){o.forEach(c=>{this.cfXform.prepare(c,l)})}render(o,l){this.hasContent(l)&&(o.openNode(this.tag),l.forEach(c=>this.cfXform.render(o,c)),o.closeNode())}createNewModel(){return[]}onParserClose(o,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),u=e("../../style/color-xform"),o=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,c){l.openNode(this.tag,{minLength:i.toIntAttribute(c.minLength,0,!0),maxLength:i.toIntAttribute(c.maxLength,100,!0),border:i.toBoolAttribute(c.border,!1),gradient:i.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(c.axisPosition,"auto"),direction:i.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),this.borderColorXform.render(l,c.borderColor),this.negativeBorderColorXform.render(l,c.negativeBorderColor),this.negativeFillColorXform.render(l,c.negativeFillColor),this.axisColorXform.render(l,c.axisColor),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{cfvo:[],minLength:i.toIntValue(c.minLength,0),maxLength:i.toIntValue(c.maxLength,100),border:i.toBoolValue(c.border,!1),gradient:i.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(c.axisPosition,"auto"),direction:i.toStringValue(c.direction,"leftToRight")}}onParserClose(l,c){const[,d]=l.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),u=e("./cfvo-ext-xform"),o=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new o}}get tag(){return"x14:iconSet"}render(l,c){l.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0),custom:i.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(d=>{this.cfvoXform.render(l,d)}),c.icons&&c.icons.forEach((d,f)=>{d.iconId=f,this.cfIconXform.render(l,d)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{cfvo:[],iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse,!1),showValue:i.toBoolValue(c.showValue,!0)}}onParserClose(l,c){const[,d]=l.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),u=e("../../../../doc/range"),o=e("./databar-xform"),l=e("./ext-lst-ref-xform"),c=e("./formula-xform"),d=e("./color-scale-xform"),f=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:y,operator:m}=p;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:m}}};class v extends a{constructor(){super(),this.map={dataBar:this.databarXform=new o,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!h[y.iconSet]}render(y,m){switch(m.type){case"expression":this.renderExpression(y,m);break;case"cellIs":this.renderCellIs(y,m);break;case"top10":this.renderTop10(y,m);break;case"aboveAverage":this.renderAboveAverage(y,m);break;case"dataBar":this.renderDataBar(y,m);break;case"colorScale":this.renderColorScale(y,m);break;case"iconSet":this.renderIconSet(y,m);break;case"containsText":this.renderText(y,m);break;case"timePeriod":this.renderTimePeriod(y,m)}}renderExpression(y,m){y.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(y,m.formulae[0]),y.closeNode()}renderCellIs(y,m){y.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(b=>{this.formulaXform.render(y,b)}),y.closeNode()}renderTop10(y,m){y.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:i.toBoolAttribute(m.percent,!1),bottom:i.toBoolAttribute(m.bottom,!1),rank:i.toIntValue(m.rank,10,!0)})}renderAboveAverage(y,m){y.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:i.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(y,m){y.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(y,m),this.extLstRefXform.render(y,m),y.closeNode()}renderColorScale(y,m){y.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(y,m),y.closeNode()}renderIconSet(y,m){v.isPrimitive(m)&&(y.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(y,m),y.closeNode())}renderText(y,m){y.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:i.toStringAttribute(m.operator,"containsText")});const b=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const N=new u(k.ref),{tl:B}=N;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${B})))`;case"containsBlanks":return`LEN(TRIM(${B}))=0`;case"notContainsBlanks":return`LEN(TRIM(${B}))>0`;case"containsErrors":return`ISERROR(${B})`;case"notContainsErrors":return`NOT(ISERROR(${B}))`;default:return}})(m);b&&this.formulaXform.render(y,b),y.closeNode()}renderTimePeriod(y,m){y.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const b=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const N=new u(k.ref),{tl:B}=N;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${B},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${B},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${B},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${B},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${B},1)=TODAY()-1`;case"today":return`FLOOR(${B},1)=TODAY()`;case"tomorrow":return`FLOOR(${B},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${B},1)<=6,FLOOR(${B},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0-1)),YEAR(${B})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${B})=MONTH(TODAY()),YEAR(${B})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0+1)),YEAR(${B})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);b&&this.formulaXform.render(y,b),y.closeNode()}createNewModel(y){let{attributes:m}=y;return{...g(m),dxfId:i.toIntValue(m.dxfId),priority:i.toIntValue(m.priority),timePeriod:m.timePeriod,percent:i.toBoolValue(m.percent),bottom:i.toBoolValue(m.bottom),rank:i.toIntValue(m.rank),aboveAverage:i.toBoolValue(m.aboveAverage)}}onParserClose(y,m){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}n.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,u){a.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new a}}get tag(){return"colorScale"}render(o,l){o.openNode(this.tag),l.cfvo.forEach(c=>{this.cfvoXform.render(o,c)}),l.color.forEach(c=>{this.colorXform.render(o,c)}),o.closeNode()}createNewModel(o){return{cfvo:[],color:[]}}onParserClose(o,l){this.model[o].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(u,o){o.rules.some(a.isPrimitive)&&(u.openNode(this.tag,{sqref:o.ref}),o.rules.forEach(l=>{a.isPrimitive(l)&&(l.ref=o.ref,this.map.cfRule.render(u,l))}),u.closeNode())}createNewModel(u){let{attributes:o}=u;return{ref:o.sqref,rules:[]}}onParserClose(u,o){this.model.rules.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const i=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,o){let l=u.reduce((c,d)=>Math.max(c,...d.rules.map(f=>f.priority||0)),1);u.forEach(c=>{c.rules.forEach(d=>{d.priority||(d.priority=l++),d.style&&(d.dxfId=o.styles.addDxfStyle(d.style))})})}render(u,o){o.forEach(l=>{this.cfXform.render(u,l)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,o){u.forEach(l=>{l.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=o.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new a}}get tag(){return"dataBar"}render(o,l){o.openNode(this.tag),l.cfvo.forEach(c=>{this.cfvoXform.render(o,c)}),this.colorXform.render(o,l.color),o.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(o,l){switch(o){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform");class u extends i{get tag(){return"x14:id"}render(c,d){c.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class o extends a{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(c,d){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,d.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){this.model.x14Id=d.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new o}}get tag(){return"extLst"}render(l,c){l.openNode(this.tag),this.map.ext.render(l,c),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,u){a.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),u=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(o,l){o.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(c=>{this.cfvoXform.render(o,c)}),o.closeNode()}createNewModel(o){let{attributes:l}=o;return{iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse),showValue:i.toBoolValue(l.showValue),cfvo:[]}}onParserClose(o,l){this.model[o].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(u,o){const l=o.styles.addStyleModel(u.style||{});l&&(u.styleId=l)}render(u,o){u.openNode("col"),u.addAttribute("min",o.min),u.addAttribute("max",o.max),o.width&&u.addAttribute("width",o.width),o.styleId&&u.addAttribute("style",o.styleId),o.hidden&&u.addAttribute("hidden","1"),o.bestFit&&u.addAttribute("bestFit","1"),o.outlineLevel&&u.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const o=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(o.styleId=parseInt(u.attributes.style,10)),i.parseBoolean(u.attributes.hidden)&&(o.hidden=!0),i.parseBoolean(u.attributes.bestFit)&&(o.bestFit=!0),u.attributes.outlineLevel&&(o.outlineLevel=parseInt(u.attributes.outlineLevel,10)),i.parseBoolean(u.attributes.collapsed)&&(o.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,o){u.styleId&&(u.style=o.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/utils"),u=e("../../../utils/col-cache"),o=e("../base-xform"),l=e("../../../doc/range");function c(f,h,g,v){const p=h[g];p!==void 0?f[g]=p:v!==void 0&&(f[g]=v)}function d(f,h,g,v){const p=h[g];p!==void 0&&(f[g]=a.parseBoolean(p))}n.exports=class extends o{get tag(){return"dataValidations"}render(f,h){const g=function(v){const p=i.map(v,(b,k)=>({address:k,dataValidation:b,marked:!1})).sort((b,k)=>i.strcmp(b.address,k.address)),y=i.keyBy(p,"address"),m=(b,k,N)=>{for(let B=0;B<k;B++){const j=u.encodeAddress(b.row+B,N);if(!v[j]||!i.isEqual(v[b.address],v[j]))return!1}return!0};return p.map(b=>{if(!b.marked){const k=u.decodeEx(b.address);if(k.dimensions)return y[k.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let N=1,B=u.encodeAddress(k.row+N,k.col);for(;v[B]&&i.isEqual(b.dataValidation,v[B]);)N++,B=u.encodeAddress(k.row+N,k.col);let j=1;for(;m(k,N,k.col+j);)j++;for(let T=0;T<N;T++)for(let M=0;M<j;M++)B=u.encodeAddress(k.row+T,k.col+M),y[B].marked=!0;if(N>1||j>1){const T=k.row+(N-1),M=k.col+(j-1);return{...b.dataValidation,sqref:`${b.address}:${u.encodeAddress(T,M)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(h);g.length&&(f.openNode("dataValidations",{count:g.length}),g.forEach(v=>{f.openNode("dataValidation"),v.type!=="any"&&(f.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&f.addAttribute("operator",v.operator),v.allowBlank&&f.addAttribute("allowBlank","1")),v.showInputMessage&&f.addAttribute("showInputMessage","1"),v.promptTitle&&f.addAttribute("promptTitle",v.promptTitle),v.prompt&&f.addAttribute("prompt",v.prompt),v.showErrorMessage&&f.addAttribute("showErrorMessage","1"),v.errorStyle&&f.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&f.addAttribute("errorTitle",v.errorTitle),v.error&&f.addAttribute("error",v.error),f.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((p,y)=>{f.openNode("formula"+(y+1)),v.type==="date"?f.writeText(a.dateToExcel(new Date(p))):f.writeText(p),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&d(h,f.attributes,"allowBlank"),d(h,f.attributes,"showInputMessage"),d(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:c(h,f.attributes,"operator","between")}return c(h,f.attributes,"promptTitle"),c(h,f.attributes,"prompt"),c(h,f.attributes,"errorStyle"),c(h,f.attributes,"errorTitle"),c(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new l(h).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=a.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,u){u&&a.leafNode("dimension",{ref:u})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,u){u&&a.leafNode(this.tag,{"r:id":u.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const i=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class u extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,c){this.conditionalFormattings.prepare(l.conditionalFormattings,c)}render(l,c){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,c.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model[l]=c.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(o,l){this.ext.prepare(o,l)}hasContent(o){return this.ext.hasContent(o)}render(o,l){this.hasContent(l)&&(o.openNode("extLst"),this.ext.render(o,l),o.closeNode())}createNewModel(){return{}}onParserClose(o,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,u){if(u){a.addRollback();let o=!1;a.openNode("headerFooter"),u.differentFirst&&(a.addAttribute("differentFirst","1"),o=!0),u.differentOddEven&&(a.addAttribute("differentOddEven","1"),o=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(a.leafNode("oddHeader",null,u.oddHeader),o=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(a.leafNode("oddFooter",null,u.oddFooter),o=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(a.leafNode("evenHeader",null,u.evenHeader),o=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(a.leafNode("evenFooter",null,u.evenFooter),o=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(a.leafNode("firstHeader",null,u.firstHeader),o=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(a.leafNode("firstFooter",null,u.firstFooter),o=!0),o?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,u){this.isInternalLink(u)?a.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):a.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,u){a.leafNode("mergeCell",{ref:u})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../doc/range"),u=e("../../../utils/col-cache"),o=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const c=`${l.master}:${l.address}`;this.merges[l.master]=new a(c)}}get mergeCells(){return i.map(this.merges,l=>l.range)}reconcile(l,c){i.each(l,d=>{const f=u.decode(d);for(let h=f.top;h<=f.bottom;h++){const g=c[h-1];for(let v=f.left;v<=f.right;v++){const p=g.cells[v-1];p?p.type===o.ValueType.Merge&&(p.master=f.tl):g.cells[v]={type:o.ValueType.Null,address:u.encodeAddress(h,v)}}}})}getMasterAddress(l){const c=this.hash[l];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const i=e("../base-xform"),a=u=>u!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(u,o){return!(!o||!a(o.summaryBelow)&&!a(o.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:a(o.summaryBelow)?Number(o.summaryBelow):void 0,summaryRight:a(o.summaryRight)?Number(o.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:a(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:a(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,u){a.leafNode("brk",u)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(u,o){if(o){const l={left:o.left,right:o.right,top:o.top,bottom:o.bottom,header:o.header,footer:o.footer};i.some(l,c=>c!==void 0)&&u.leafNode(this.tag,l)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,u){return!(!u||!u.fitToPage)&&(a.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function u(d){return d?"1":void 0}function o(d){switch(d){case"overThenDown":return d;default:return}}function l(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function c(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(d,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:o(f.pageOrder),blackAndWhite:u(f.blackAndWhite),draft:u(f.draft),cellComments:l(f.cellComments),errors:c(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:u(f.firstPageNumber),usePrinterDefaults:u(f.usePrinterDefaults),copies:f.copies};i.some(h,g=>g!==void 0)&&d.leafNode(this.tag,h)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(f=d.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,u){u&&a.leafNode(this.tag,{"r:id":u.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function u(o){return o?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(o,l){if(l){const c={headings:u(l.showRowColHeaders),gridLines:u(l.showGridLines),horizontalCentered:u(l.horizontalCentered),verticalCentered:u(l.verticalCentered)};i.some(c,d=>d!==void 0)&&o.leafNode(this.tag,c)}}parseOpen(o){switch(o.name){case this.tag:return this.model={showRowColHeaders:o.attributes.headings==="1",showGridLines:o.attributes.gridLines==="1",horizontalCentered:o.attributes.horizontalCentered==="1",verticalCentered:o.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const i=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(u,o){if(o&&o.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,o.length),u.addAttribute("manualBreakCount",o.length));const{childXform:l}=this;o.forEach(c=>{l.render(u,c)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),u=e("./cell-xform");n.exports=class extends i{constructor(o){super(),this.maxItems=o&&o.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(o,l){const c=l.styles.addStyleModel(o.style);c&&(o.styleId=c);const d=this.map.c;o.cells.forEach(f=>{d.prepare(f,l)})}render(o,l,c){o.openNode("row"),o.addAttribute("r",l.number),l.height&&(o.addAttribute("ht",l.height),o.addAttribute("customHeight","1")),l.hidden&&o.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&o.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(o.addAttribute("s",l.styleId),o.addAttribute("customFormat","1")),o.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1");const d=this.map.c;l.cells.forEach(f=>{d.render(o,f,c)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;if(o.name==="row"){this.numRowsSeen+=1;const l=o.attributes.spans?o.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],c=this.model={number:parseInt(o.attributes.r,10),min:l[0],max:l[1],cells:[]};return o.attributes.s&&(c.styleId=parseInt(o.attributes.s,10)),a.parseBoolean(o.attributes.hidden)&&(c.hidden=!0),a.parseBoolean(o.attributes.bestFit)&&(c.bestFit=!0),o.attributes.ht&&(c.height=parseFloat(o.attributes.ht)),o.attributes.outlineLevel&&(c.outlineLevel=parseInt(o.attributes.outlineLevel,10)),a.parseBoolean(o.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(o,l){o.style=o.styleId?l.styles.getStyleModel(o.styleId):{},o.styleId!==void 0&&(o.styleId=void 0);const c=this.map.c;o.cells.forEach(d=>{c.reconcile(d,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(u,o){if(o){const l={defaultRowHeight:o.defaultRowHeight,outlineLevelRow:o.outlineLevelRow,outlineLevelCol:o.outlineLevelCol,"x14ac:dyDescent":o.dyDescent};o.defaultColWidth&&(l.defaultColWidth=o.defaultColWidth),o.defaultRowHeight&&o.defaultRowHeight===15||(l.customHeight="1"),i.some(l,c=>c!==void 0)&&u.leafNode("sheetFormatPr",l)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const i=e("../base-xform"),a=e("../style/color-xform"),u=e("./page-setup-properties-xform"),o=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new u,outlinePr:new o}}get tag(){return"sheetPr"}render(l,c){if(c){l.addRollback(),l.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(l,c.tabColor)||d,d=this.map.pageSetUpPr.render(l,c.pageSetup)||d,d=this.map.outlinePr.render(l,c.outlineProperties)||d,d?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function u(l,c){return l?c:void 0}function o(l,c){return l===c||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(l,c){if(c){const d={sheet:u(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:u(c.formatCells,"0"),formatColumns:u(c.formatColumns,"0"),formatRows:u(c.formatRows,"0"),insertColumns:u(c.insertColumns,"0"),insertRows:u(c.insertRows,"0"),insertHyperlinks:u(c.insertHyperlinks,"0"),deleteColumns:u(c.deleteColumns,"0"),deleteRows:u(c.deleteRows,"0"),sort:u(c.sort,"0"),autoFilter:u(c.autoFilter,"0"),pivotTables:u(c.pivotTables,"0")};c.sheet&&(d.algorithmName=c.algorithmName,d.hashValue=c.hashValue,d.saltValue=c.saltValue,d.spinCount=c.spinCount,d.objects=u(c.objects===!1,"1"),d.scenarios=u(c.scenarios===!1,"1")),i.some(d,f=>f!==void 0)&&l.leafNode(this.tag,d)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:o(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:o(l.attributes.formatCells,"0"),formatColumns:o(l.attributes.formatColumns,"0"),formatRows:o(l.attributes.formatRows,"0"),insertColumns:o(l.attributes.insertColumns,"0"),insertRows:o(l.attributes.insertRows,"0"),insertHyperlinks:o(l.attributes.insertHyperlinks,"0"),deleteColumns:o(l.attributes.deleteColumns,"0"),deleteRows:o(l.attributes.deleteRows,"0"),sort:o(l.attributes.sort,"0"),autoFilter:o(l.attributes.autoFilter,"0"),pivotTables:o(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(o){switch(o.state){case"frozen":case"split":break;default:o.state="normal"}}render(o,l){o.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const c=function(v,p,y){y&&o.addAttribute(v,p)};let d,f,h,g;switch(c("rightToLeft","1",l.rightToLeft===!0),c("tabSelected","1",l.tabSelected),c("showRuler","0",l.showRuler===!1),c("showRowColHeaders","0",l.showRowColHeaders===!1),c("showGridLines","0",l.showGridLines===!1),c("zoomScale",l.zoomScale,l.zoomScale),c("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),c("view",l.style,l.style),l.state){case"frozen":f=l.xSplit||0,h=l.ySplit||0,d=l.topLeftCell||i.getAddress(h+1,f+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",o.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:d,activePane:g,state:"frozen"}),o.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),o.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),o.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&o.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}o.closeNode()}parseOpen(o){switch(o.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(o.attributes.workbookViewId,10),rightToLeft:o.attributes.rightToLeft==="1",tabSelected:o.attributes.tabSelected==="1",showRuler:o.attributes.showRuler!=="0",showRowColHeaders:o.attributes.showRowColHeaders!=="0",showGridLines:o.attributes.showGridLines!=="0",zoomScale:parseInt(o.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(o.attributes.zoomScaleNormal||"100",10),style:o.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(o.attributes.xSplit||"0",10),ySplit:parseInt(o.attributes.ySplit||"0",10),topLeftCell:o.attributes.topLeftCell,activePane:o.attributes.activePane||"topLeft",state:o.attributes.state},!0;case"selection":{const l=o.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:o.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(o){let l,c;switch(o){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(l.activeCell=c.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(l.activeCell=c.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,u){u&&a.leafNode(this.tag,{"r:id":u.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),o=e("../../rel-type"),l=e("./merges"),c=e("../base-xform"),d=e("../list-xform"),f=e("./row-xform"),h=e("./col-xform"),g=e("./dimension-xform"),v=e("./hyperlink-xform"),p=e("./merge-cell-xform"),y=e("./data-validations-xform"),m=e("./sheet-properties-xform"),b=e("./sheet-format-properties-xform"),k=e("./sheet-view-xform"),N=e("./sheet-protection-xform"),B=e("./page-margins-xform"),j=e("./page-setup-xform"),T=e("./print-options-xform"),M=e("./auto-filter-xform"),U=e("./picture-xform"),O=e("./drawing-xform"),I=e("./table-part-xform"),E=e("./row-breaks-xform"),R=e("./header-footer-xform"),A=e("./cf/conditional-formattings-xform"),w=e("./ext-lst-xform"),_=(S,C)=>{if(!C||!C.length)return S;if(!S||!S.length)return C;const q={},P={};return S.forEach($=>{q[$.ref]=$,$.rules.forEach(X=>{const{x14Id:Z}=X;Z&&(P[Z]=X)})}),C.forEach($=>{$.rules.forEach(X=>{const Z=P[X.x14Id];Z?((V,Q)=>{Object.keys(Q).forEach(F=>{const D=V[F],K=Q[F];D===void 0&&K!==void 0&&(V[F]=K)})})(Z,X):q[$.ref]?q[$.ref].rules.push(X):S.push({ref:$.ref,rules:[X]})})}),S};class x extends c{constructor(C){super();const{maxRows:q,maxCols:P,ignoreNodes:$}=C||{};this.ignoreNodes=$||[],this.map={sheetPr:new m,dimension:new g,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new b,cols:new d({tag:"cols",count:!1,childXform:new h}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:P}),maxItems:q}),autoFilter:new M,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new E,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new B,dataValidations:new y,pageSetup:new j,headerFooter:new R,printOptions:new T,picture:new U,drawing:new O,sheetProtection:new N,tableParts:new d({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new A,extLst:new w}}prepare(C,q){q.merges=new l,C.hyperlinks=q.hyperlinks=[],C.comments=q.comments=[],q.formulae={},q.siFormulae=0,this.map.cols.prepare(C.cols,q),this.map.sheetData.prepare(C.rows,q),this.map.conditionalFormatting.prepare(C.conditionalFormattings,q),C.mergeCells=q.merges.mergeCells;const P=C.rels=[];function $(V){return"rId"+(V.length+1)}if(C.hyperlinks.forEach(V=>{const Q=$(P);V.rId=Q,P.push({Id:Q,Type:o.Hyperlink,Target:V.target,TargetMode:"External"})}),C.comments.length>0){const V={Id:$(P),Type:o.Comments,Target:`../comments${C.id}.xml`};P.push(V);const Q={Id:$(P),Type:o.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};P.push(Q),C.comments.forEach(F=>{F.refAddress=a.decodeAddress(F.ref)}),q.commentRefs.push({commentName:"comments"+C.id,vmlDrawing:"vmlDrawing"+C.id})}const X=[];let Z;C.media.forEach(V=>{if(V.type==="background"){const Q=$(P);Z=q.media[V.imageId],P.push({Id:Q,Type:o.Image,Target:`../media/${Z.name}.${Z.extension}`}),C.background={rId:Q},C.image=q.media[V.imageId]}else if(V.type==="image"){let{drawing:Q}=C;Z=q.media[V.imageId],Q||(Q=C.drawing={rId:$(P),name:"drawing"+ ++q.drawingsCount,anchors:[],rels:[]},q.drawings.push(Q),P.push({Id:Q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Q.name}.xml`}));let F=this.preImageId===V.imageId?X[V.imageId]:X[Q.rels.length];F||(F=$(Q.rels),X[Q.rels.length]=F,Q.rels.push({Id:F,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Z.name}.${Z.extension}`}));const D={picture:{rId:F},range:V.range};if(V.hyperlinks&&V.hyperlinks.hyperlink){const K=$(Q.rels);X[Q.rels.length]=K,D.picture.hyperlinks={tooltip:V.hyperlinks.tooltip,rId:K},Q.rels.push({Id:K,Type:o.Hyperlink,Target:V.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=V.imageId,Q.anchors.push(D)}}),C.tables.forEach(V=>{const Q=$(P);V.rId=Q,P.push({Id:Q,Type:o.Table,Target:"../tables/"+V.target}),V.columns.forEach(F=>{const{style:D}=F;D&&(F.dxfId=q.styles.addDxfStyle(D))})}),this.map.extLst.prepare(C,q)}render(C,q){C.openXml(u.StdDocAttributes),C.openNode("worksheet",x.WORKSHEET_ATTRIBUTES);const P=q.properties?{defaultRowHeight:q.properties.defaultRowHeight,dyDescent:q.properties.dyDescent,outlineLevelCol:q.properties.outlineLevelCol,outlineLevelRow:q.properties.outlineLevelRow}:void 0;q.properties&&q.properties.defaultColWidth&&(P.defaultColWidth=q.properties.defaultColWidth);const $={outlineProperties:q.properties&&q.properties.outlineProperties,tabColor:q.properties&&q.properties.tabColor,pageSetup:q.pageSetup&&q.pageSetup.fitToPage?{fitToPage:q.pageSetup.fitToPage}:void 0},X=q.pageSetup&&q.pageSetup.margins,Z={showRowColHeaders:q.pageSetup&&q.pageSetup.showRowColHeaders,showGridLines:q.pageSetup&&q.pageSetup.showGridLines,horizontalCentered:q.pageSetup&&q.pageSetup.horizontalCentered,verticalCentered:q.pageSetup&&q.pageSetup.verticalCentered},V=q.sheetProtection;this.map.sheetPr.render(C,$),this.map.dimension.render(C,q.dimensions),this.map.sheetViews.render(C,q.views),this.map.sheetFormatPr.render(C,P),this.map.cols.render(C,q.cols),this.map.sheetData.render(C,q.rows),this.map.sheetProtection.render(C,V),this.map.autoFilter.render(C,q.autoFilter),this.map.mergeCells.render(C,q.mergeCells),this.map.conditionalFormatting.render(C,q.conditionalFormattings),this.map.dataValidations.render(C,q.dataValidations),this.map.hyperlinks.render(C,q.hyperlinks),this.map.printOptions.render(C,Z),this.map.pageMargins.render(C,X),this.map.pageSetup.render(C,q.pageSetup),this.map.headerFooter.render(C,q.headerFooter),this.map.rowBreaks.render(C,q.rowBreaks),this.map.drawing.render(C,q.drawing),this.map.picture.render(C,q.background),this.map.tableParts.render(C,q.tables),this.map.extLst.render(C,q),q.rels&&q.rels.forEach(Q=>{Q.Type===o.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":Q.Id})}),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name==="worksheet"?(i.each(this.map,q=>{q.reset()}),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"worksheet":{const q=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(q.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(q.outlineProperties=this.map.sheetPr.model.outlineProperties);const P={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},$=Object.assign(P,this.map.pageSetup.model,this.map.printOptions.model),X=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:q,views:this.map.sheetViews.model,pageSetup:$,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:X},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(C,q){const P=(C.relationships||[]).reduce((X,Z)=>{if(X[Z.Id]=Z,Z.Type===o.Comments&&(C.comments=q.comments[Z.Target].comments),Z.Type===o.VmlDrawing&&C.comments&&C.comments.length){const V=q.vmlDrawings[Z.Target].comments;C.comments.forEach((Q,F)=>{Q.note=Object.assign({},Q.note,V[F])})}return X},{});if(q.commentsMap=(C.comments||[]).reduce((X,Z)=>(Z.ref&&(X[Z.ref]=Z),X),{}),q.hyperlinkMap=(C.hyperlinks||[]).reduce((X,Z)=>(Z.rId&&(X[Z.address]=P[Z.rId].Target),X),{}),q.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach(X=>{X.cells=X.cells&&X.cells.filter(Boolean)||[]}),this.map.cols.reconcile(C.cols,q),this.map.sheetData.reconcile(C.rows,q),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,q),C.media=[],C.drawing){const X=P[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(X){const Z=X[1];q.drawings[Z].anchors.forEach(V=>{if(V.medium){const Q={type:"image",imageId:V.medium.index,range:V.range,hyperlinks:V.picture.hyperlinks};C.media.push(Q)}})}}const $=C.background&&P[C.background.rId];if($){const X=$.Target.split("/media/")[1],Z=q.mediaIndex&&q.mediaIndex[X];Z!==void 0&&C.media.push({type:"background",imageId:Z})}C.tables=(C.tables||[]).map(X=>{const Z=P[X.rId];return q.tables[Z.Target]}),delete C.relationships,delete C.hyperlinks,delete C.comments}}x.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=x},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,u){u&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=a.parse||function(u){return new Date(u)}}render(a,u){u&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(u)):a.writeText(this._format(u)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,u){(u||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,u):a.writeText(u),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,u){u!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,u):a.writeText(u),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const i=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends i{constructor(u){super(),this._model=u}render(u){if(!this._xml){const o=new a;(function l(c,d){c.openNode(d.tag,d.$),d.c&&d.c.forEach(f=>{l(c,f)}),d.t&&c.writeText(d.t),c.closeNode()})(o,this._model),this._xml=o.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(o,l){if(o.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:c}=this.map;l.richText.forEach(d=>{c.render(o,d)})}else l&&this.map.t.render(o,l.text);o.closeNode()}parseOpen(o){const{name:l}=o;return this.parser?(this.parser.parseOpen(o),!0):l===this.tag?(this.model={sb:parseInt(o.attributes.sb,10),eb:parseInt(o.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const i=e("./text-xform"),a=e("../style/font-xform"),u=e("../base-xform");class o extends u{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(o.FONT_OPTIONS))}render(c,d){d=d||this.model,c.openNode("r"),d.font&&this.fontXform.render(c,d.font),this.textXform.render(c,d.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}o.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=o},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),u=e("./phonetic-text-xform"),o=e("../base-xform");n.exports=class extends o{constructor(l){super(),this.model=l,this.map={r:new a,t:new i,rPh:new u}}get tag(){return"si"}render(l,c){l.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(d=>{this.map.r.render(l,d)}):this.map.t.render(l,""):c!=null&&this.map.t.render(l,c),l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),u=e("./shared-string-xform");n.exports=class extends a{constructor(o){super(),this.model=o||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(o){return this.model.values[o]}add(o){return o.richText?this.addRichText(o):this.addText(o)}addText(o){let l=this.hash[o];return l===void 0&&(l=this.hash[o]=this.model.values.length,this.model.values.push(o)),this.model.count++,l}addRichText(o){const l=this.sharedStringXform.toXml(o);let c=this.rich[l];return c===void 0&&(c=this.rich[l]=this.model.values.length,this.model.values.push(o)),this.model.count++,c}render(o,l){l=l||this._values,o.openXml(i.StdDocAttributes),o.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const c=this.sharedStringXform;l.values.forEach(d=>{c.render(o,d)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(o),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(o){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,u){a.openNode("t"),/^\s|\n|\s$/.test(u)&&a.addAttribute("xml:space","preserve"),a.writeText(u),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/utils"),u=e("../base-xform"),o={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=a.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=a.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},l={toXml(c){if(c=o.textRotation(c)){if(c==="vertical")return 255;const d=Math.round(c);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(c){const d=a.validInt(c);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends u{get tag(){return"alignment"}render(c,d){c.addRollback(),c.openNode("alignment");let f=!1;function h(g,v){v&&(c.addAttribute(g,v),f=!0)}h("horizontal",o.horizontal(d.horizontal)),h("vertical",o.vertical(d.vertical)),h("wrapText",!!o.wrapText(d.wrapText)&&"1"),h("shrinkToFit",!!o.shrinkToFit(d.shrinkToFit)&&"1"),h("indent",o.indent(d.indent)),h("textRotation",l.toXml(d.textRotation)),h("readingOrder",o.readingOrder(d.readingOrder)),c.closeNode(),f?c.commit():c.rollback()}parseOpen(c){const d={};let f=!1;function h(g,v,p){g&&(d[v]=p,f=!0)}h(c.attributes.horizontal,"horizontal",c.attributes.horizontal),h(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),h(c.attributes.wrapText,"wrapText",a.parseBoolean(c.attributes.wrapText)),h(c.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(c.attributes.shrinkToFit)),h(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),h(c.attributes.textRotation,"textRotation",l.toModel(c.attributes.textRotation)),h(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),u=e("./color-xform");class o extends i{constructor(c){super(),this.name=c,this.map={color:new u}}get tag(){return this.name}render(c,d,f){const h=d&&d.color||f||this.defaultColor;c.openNode(this.name),d&&d.style&&(c.addAttribute("style",d.style),h&&this.map.color.render(c,h)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:d}=c.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return o.validStyleValues[c]}}o.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,c)=>(l[c]=!0,l),{}),n.exports=class extends i{constructor(){super(),this.map={top:new o("top"),left:new o("left"),bottom:new o("bottom"),right:new o("right"),diagonal:new o("diagonal")}}render(l,c){const{color:d}=c;function f(h,g){h&&!h.color&&c.color&&(h={...h,color:c.color}),g.render(l,h,d)}l.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&l.addAttribute("diagonalUp","1"),c.diagonal.down&&l.addAttribute("diagonalDown","1")),f(c.left,this.map.left),f(c.right,this.map.right),f(c.top,this.map.top),f(c.bottom,this.map.bottom),f(c.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const c=this.model={},d=function(f,h,g){h&&(g&&Object.assign(h,g),c[f]=h)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,u){return!!u&&(a.openNode(this.name),u.argb?a.addAttribute("rgb",u.argb):u.theme!==void 0?(a.addAttribute("theme",u.theme),u.tint!==void 0&&a.addAttribute("tint",u.tint)):u.indexed!==void 0?a.addAttribute("indexed",u.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),u=e("./border-xform"),o=e("./fill-xform"),l=e("./font-xform"),c=e("./numfmt-xform"),d=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new u,fill:new o,font:new l,numFmt:new c,protection:new d}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const g={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,g)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const i=e("../base-xform"),a=e("./color-xform");class u extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class o extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const g=this.map.stop;h.stops.forEach(v=>{g.render(f,v)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={patternFill:new o,gradientFill:new l}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return c.validPatternValues[f]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,f)=>(d[f]=!0,d),{}),c.StopXform=u,c.PatternFillXform=o,c.GradientFillXform=l,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const i=e("./color-xform"),a=e("../simple/boolean-xform"),u=e("../simple/integer-xform"),o=e("../simple/string-xform"),l=e("./underline-xform"),c=e("../../../utils/under-dash"),d=e("../base-xform");class f extends d{constructor(g){super(),this.options=g||f.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new o({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new o({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new o({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,v){const{map:p}=this;g.openNode(this.options.tagName),c.each(this.map,(y,m)=>{p[m].xform.render(g,v[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const v=this.map[g];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),u=e("../base-xform"),o=function(){const c={};return i.each(a,(d,f)=>{d.f&&(c[d.f]=parseInt(f,10))}),c}();class l extends u{constructor(d,f){super(),this.id=d,this.formatCode=f}get tag(){return"numFmt"}render(d,f){d.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(c){return o[c]},l.getDefaultFmtCode=function(c){return a[c]&&a[c].f},n.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const i=e("../base-xform"),a={boolean:(u,o)=>u===void 0?o:u};n.exports=class extends i{get tag(){return"protection"}render(u,o){u.addRollback(),u.openNode("protection");let l=!1;function c(d,f){f!==void 0&&(u.addAttribute(d,f),l=!0)}c("locked",a.boolean(o.locked,!0)?void 0:"0"),c("hidden",a.boolean(o.hidden,!1)?"1":void 0),u.closeNode(),l?u.commit():u.rollback()}parseOpen(u){const o={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},l=!o.locked||o.hidden;this.model=l?o:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),u=e("./protection-xform");n.exports=class extends i{constructor(o){super(),this.xfId=!(!o||!o.xfId),this.map={alignment:new a,protection:new u}}get tag(){return"xf"}render(o,l){o.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&o.addAttribute("xfId",l.xfId||0),l.numFmtId&&o.addAttribute("applyNumberFormat","1"),l.fontId&&o.addAttribute("applyFont","1"),l.fillId&&o.addAttribute("applyFill","1"),l.borderId&&o.addAttribute("applyBorder","1"),l.alignment&&o.addAttribute("applyAlignment","1"),l.protection&&o.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(o,l.alignment),l.protection&&this.map.protection.render(o,l.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"xf":return this.model={numFmtId:parseInt(o.attributes.numFmtId,10),fontId:parseInt(o.attributes.fontId,10),fillId:parseInt(o.attributes.fillId,10),borderId:parseInt(o.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(o.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(o),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):o!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),u=e("../base-xform"),o=e("../static-xform"),l=e("../list-xform"),c=e("./font-xform"),d=e("./fill-xform"),f=e("./border-xform"),h=e("./numfmt-xform"),g=e("./style-xform"),v=e("./dxf-xform");class p extends u{constructor(m){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new h}),fonts:new l({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new d}),borders:new l({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new h,font:new c,fill:new d,border:new f,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,b){b=b||this.model,m.openXml(a.StdDocAttributes),m.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(m.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(k=>{m.writeXml(k)}),m.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(k=>{m.writeXml(k)}),m.closeNode(),m.openNode("fills",{count:b.fills.length}),b.fills.forEach(k=>{m.writeXml(k)}),m.closeNode(),m.openNode("borders",{count:b.borders.length}),b.borders.forEach(k=>{m.writeXml(k)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(k=>{m.writeXml(k)}),m.closeNode()):(this.map.numFmts.render(m,b.numFmts),this.map.fonts.render(m,b.fonts),this.map.fills.render(m,b.fills),this.map.borders.render(m,b.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,b.styles)),p.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,b.dxfs),p.STATIC_XFORMS.tableStyles.render(m),p.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const b=(k,N)=>{N.model&&N.model.length&&(this.model[k]=N.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(N=>{k[N.id]=N.formatCode})}return!1}default:return!0}}addStyleModel(m,b){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const k={};if(b=b||i.ValueType.Number,m.numFmt)k.numFmtId=this._addNumFmtStr(m.numFmt);else switch(b){case i.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(k.fontId=this._addFont(m.font)),m.border&&(k.borderId=this._addBorder(m.border)),m.fill&&(k.fillId=this._addFill(m.fill)),m.alignment&&(k.alignment=m.alignment),m.protection&&(k.protection=m.protection);const N=this._addStyle(k);return this.weakMap&&this.weakMap.set(m,N),N}getStyleModel(m){const b=this.model.styles[m];if(!b)return null;let k=this.index.model[m];if(k)return k;if(k=this.index.model[m]={},b.numFmtId){const B=this.index.numFmt[b.numFmtId]||h.getDefaultFmtCode(b.numFmtId);B&&(k.numFmt=B)}function N(B,j,T){if(T||T===0){const M=j[T];M&&(k[B]=M)}}return N("font",this.model.fonts,b.fontId),N("border",this.model.borders,b.borderId),N("fill",this.model.fills,b.fillId),b.alignment&&(k.alignment=b.alignment),b.protection&&(k.protection=b.protection),k}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const b=this.map.style.toXml(m);let k=this.index.style[b];return k===void 0&&(k=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),k}_addNumFmtStr(m){let b=h.getDefaultFmtId(m);if(b!==void 0||(b=this.index.numFmt[m],b!==void 0))return b;b=this.index.numFmt[m]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:b,formatCode:m});return this.model.numFmts.push(k),b}_addFont(m){const b=this.map.font.toXml(m);let k=this.index.font[b];return k===void 0&&(k=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),k}_addBorder(m){const b=this.map.border.toXml(m);let k=this.index.border[b];return k===void 0&&(k=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),k}_addFill(m){const b=this.map.fill.toXml(m);let k=this.index.fill[b];return k===void 0&&(k=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),k}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new o({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new o({tag:"dxfs",$:{count:0}}),tableStyles:new o({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new o({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,m){switch(m){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const i=e("../base-xform");class a extends i{constructor(o){super(),this.model=o}get tag(){return"u"}render(o,l){if((l=l||this.model)===!0)o.leafNode("u");else{const c=a.Attributes[l];c&&o.leafNode("u",c)}}parseOpen(o){o.name==="u"&&(this.model=o.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,s){const i=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((o,l)=>{this.map.filterColumn.prepare(o,{index:l})})}render(u,o){return u.openNode(this.tag,{ref:o.autoFilterRef}),o.columns.forEach(l=>{this.map.filterColumn.render(u,l)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,u){a.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const i=e("../base-xform"),a=e("../list-xform"),u=e("./custom-filter-xform"),o=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new o})}}get tag(){return"filterColumn"}prepare(l,c){l.colId=c.index.toString()}render(l,c){return c.customFilters?(l.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(l,c.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:c}=l;switch(l.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,u){a.leafNode(this.tag,{val:u.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,u){a.id=u.index+1}render(a,u){return a.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:u}=a;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,u){return a.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:u}=a;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),u=e("../list-xform"),o=e("./auto-filter-xform"),l=e("./table-column-xform"),c=e("./table-style-info-xform");class d extends a{constructor(){super(),this.map={autoFilter:new o,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new c}}prepare(h,g){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,g)}get tag(){return"table"}render(h,g){h.openXml(i.StdDocAttributes),h.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(h,g),this.map.tableColumns.render(h,g.columns),this.map.tableStyleInfo.render(h,g.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:g,attributes:v}=h;switch(g){case this.tag:this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,v)=>{this.model.columns[v].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,g){h.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=g.styles.getDxfStyle(v.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(i,a){(function(){const u=e("fs"),o=e("jszip"),{PassThrough:l}=e("readable-stream"),c=e("../utils/zip-stream"),d=e("../utils/stream-buf"),f=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),v=e("./xform/style/styles-xform"),p=e("./xform/core/core-xform"),y=e("./xform/strings/shared-strings-xform"),m=e("./xform/core/relationships-xform"),b=e("./xform/core/content-types-xform"),k=e("./xform/core/app-xform"),N=e("./xform/book/workbook-xform"),B=e("./xform/sheet/worksheet-xform"),j=e("./xform/drawing/drawing-xform"),T=e("./xform/table/table-xform"),M=e("./xform/comment/comments-xform"),U=e("./xform/comment/vml-notes-xform"),O=e("./xml/theme1");class I{constructor(R){this.workbook=R}async readFile(R,A){if(!await f.fs.exists(R))throw new Error("File not found: "+R);const w=u.createReadStream(R);try{const _=await this.read(w,A);return w.close(),_}catch(_){throw w.close(),_}}parseRels(R){return new m().parseStream(R)}parseWorkbook(R){return new N().parseStream(R)}parseSharedStrings(R){return new y().parseStream(R)}reconcile(R,A){const w=new N,_=new B(A),x=new j,S=new T;w.reconcile(R);const C={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach($=>{const X=R.drawings[$],Z=R.drawingRels[$];Z&&(C.rels=Z.reduce((V,Q)=>(V[Q.Id]=Q,V),{}),(X.anchors||[]).forEach(V=>{const Q=V.picture&&V.picture.hyperlinks;Q&&C.rels[Q.rId]&&(Q.hyperlink=C.rels[Q.rId].Target,delete Q.rId)}),x.reconcile(X,C))});const q={styles:R.styles};Object.values(R.tables).forEach($=>{S.reconcile($,q)});const P={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach($=>{$.relationships=R.worksheetRels[$.sheetNo],_.reconcile($,P)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}async _processWorksheetEntry(R,A,w,_,x){const S=new B(_),C=await S.parseStream(R);C.sheetNo=w,A.worksheetHash[x]=C,A.worksheets.push(C)}async _processCommentEntry(R,A,w){const _=new M,x=await _.parseStream(R);A.comments[`../${w}.xml`]=x}async _processTableEntry(R,A,w){const _=new T,x=await _.parseStream(R);A.tables[`../tables/${w}.xml`]=x}async _processWorksheetRelsEntry(R,A,w){const _=new m,x=await _.parseStream(R);A.worksheetRels[w]=x}async _processMediaEntry(R,A,w){const _=w.lastIndexOf(".");if(_>=1){const x=w.substr(_+1),S=w.substr(0,_);await new Promise((C,q)=>{const P=new d;P.on("finish",()=>{A.mediaIndex[w]=A.media.length,A.mediaIndex[S]=A.media.length;const $={type:"image",name:S,extension:x,buffer:P.toBuffer()};A.media.push($),C()}),R.on("error",$=>{q($)}),R.pipe(P)})}}async _processDrawingEntry(R,A,w){const _=new j,x=await _.parseStream(R);A.drawings[w]=x}async _processDrawingRelsEntry(R,A,w){const _=new m,x=await _.parseStream(R);A.drawingRels[w]=x}async _processVmlDrawingEntry(R,A,w){const _=new U,x=await _.parseStream(R);A.vmlDrawings[`../drawings/${w}.vml`]=x}async _processThemeEntry(R,A,w){await new Promise((_,x)=>{const S=new d;R.on("error",x),S.on("error",x),S.on("finish",()=>{A.themes[w]=S.read().toString(),_()}),R.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(R,A){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new l));const w=[];for await(const _ of R)w.push(_);return this.load(a.concat(w),A)}async load(R,A){let w;w=A&&A.base64?a.from(R.toString(),"base64"):R;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},x=await o.loadAsync(w);for(const S of Object.values(x.files))if(!S.dir){let C,q=S.name;if(q[0]==="/"&&(q=q.substr(1)),q.match(/xl\/media\//)||q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))C=new l,C.write(await S.async("nodebuffer"));else{let P;C=new l({writableObjectMode:!0,readableObjectMode:!0}),P=i.browser?g(await S.async("nodebuffer")):await S.async("string");const $=16384;for(let X=0;X<P.length;X+=$)C.write(P.substring(X,X+$))}switch(C.end(),q){case"_rels/.rels":_.globalRels=await this.parseRels(C);break;case"xl/workbook.xml":{const P=await this.parseWorkbook(C);_.sheets=P.sheets,_.definedNames=P.definedNames,_.views=P.views,_.properties=P.properties,_.calcProperties=P.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(C);break;case"xl/sharedStrings.xml":_.sharedStrings=new y,await _.sharedStrings.parseStream(C);break;case"xl/styles.xml":_.styles=new v,await _.styles.parseStream(C);break;case"docProps/app.xml":{const P=new k,$=await P.parseStream(C);_.company=$.company,_.manager=$.manager;break}case"docProps/core.xml":{const P=new p,$=await P.parseStream(C);Object.assign(_,$);break}default:{let P=q.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(P){await this._processWorksheetEntry(C,_,P[1],A,q);break}if(P=q.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),P){await this._processWorksheetRelsEntry(C,_,P[1]);break}if(P=q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),P){await this._processThemeEntry(C,_,P[1]);break}if(P=q.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),P){await this._processMediaEntry(C,_,P[1]);break}if(P=q.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),P){await this._processDrawingEntry(C,_,P[1]);break}if(P=q.match(/xl\/(comments\d+)[.]xml/),P){await this._processCommentEntry(C,_,P[1]);break}if(P=q.match(/xl\/tables\/(table\d+)[.]xml/),P){await this._processTableEntry(C,_,P[1]);break}if(P=q.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),P){await this._processDrawingRelsEntry(C,_,P[1]);break}if(P=q.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),P){await this._processVmlDrawingEntry(C,_,P[1]);break}}}}return this.reconcile(_,A),this.workbook.model=_,this.workbook}async addMedia(R,A){await Promise.all(A.media.map(async w=>{if(w.type==="image"){const _=`xl/media/${w.name}.${w.extension}`;if(w.filename){const x=await function(S,C){return new Promise((q,P)=>{u.readFile(S,C,($,X)=>{$?P($):q(X)})})}(w.filename);return R.append(x,{name:_})}if(w.buffer)return R.append(w.buffer,{name:_});if(w.base64){const x=w.base64,S=x.substring(x.indexOf(",")+1);return R.append(S,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(R,A){const w=new j,_=new m;A.worksheets.forEach(x=>{const{drawing:S}=x;if(S){w.prepare(S,{});let C=w.toXml(S);R.append(C,{name:`xl/drawings/${S.name}.xml`}),C=_.toXml(S.rels),R.append(C,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(R,A){const w=new T;A.worksheets.forEach(_=>{const{tables:x}=_;x.forEach(S=>{w.prepare(S,{});const C=w.toXml(S);R.append(C,{name:"xl/tables/"+S.target})})})}async addContentTypes(R,A){const w=new b().toXml(A);R.append(w,{name:"[Content_Types].xml"})}async addApp(R,A){const w=new k().toXml(A);R.append(w,{name:"docProps/app.xml"})}async addCore(R,A){const w=new p;R.append(w.toXml(A),{name:"docProps/core.xml"})}async addThemes(R,A){const w=A.themes||{theme1:O};Object.keys(w).forEach(_=>{const x=w[_],S=`xl/theme/${_}.xml`;R.append(x,{name:S})})}async addOfficeRels(R){const A=new m().toXml([{Id:"rId1",Type:I.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:I.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:I.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(A,{name:"_rels/.rels"})}async addWorkbookRels(R,A){let w=1;const _=[{Id:"rId"+w++,Type:I.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:I.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&_.push({Id:"rId"+w++,Type:I.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(S=>{S.rId="rId"+w++,_.push({Id:S.rId,Type:I.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const x=new m().toXml(_);R.append(x,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(R,A){A.sharedStrings&&A.sharedStrings.count&&R.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(R,A){const{xml:w}=A.styles;w&&R.append(w,{name:"xl/styles.xml"})}async addWorkbook(R,A){const w=new N;R.append(w.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(R,A){const w=new B,_=new m,x=new M,S=new U;A.worksheets.forEach(C=>{let q=new h;w.render(q,C),R.append(q.xml,{name:`xl/worksheets/sheet${C.id}.xml`}),C.rels&&C.rels.length&&(q=new h,_.render(q,C.rels),R.append(q.xml,{name:`xl/worksheets/_rels/sheet${C.id}.xml.rels`})),C.comments.length>0&&(q=new h,x.render(q,C),R.append(q.xml,{name:`xl/comments${C.id}.xml`}),q=new h,S.render(q,C),R.append(q.xml,{name:`xl/drawings/vmlDrawing${C.id}.vml`}))})}_finalize(R){return new Promise((A,w)=>{R.on("finish",()=>{A(this)}),R.on("error",w),R.finalize()})}prepareModel(R,A){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,R.useStyles=A.useStyles===void 0||A.useStyles,R.sharedStrings=new y,R.styles=R.useStyles?new v(!0):new v.Mock;const w=new N,_=new B;w.prepare(R);const x={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};x.drawings=R.drawings=[],x.commentRefs=R.commentRefs=[];let S=0;R.tables=[],R.worksheets.forEach(C=>{C.tables.forEach(q=>{S++,q.target=`table${S}.xml`,q.id=S,R.tables.push(q)}),_.prepare(C,x)})}async write(R,A){A=A||{};const{model:w}=this.workbook,_=new c.ZipWriter(A.zip);return _.pipe(R),this.prepareModel(w,A),await this.addContentTypes(_,w),await this.addOfficeRels(_,w),await this.addWorkbookRels(_,w),await this.addWorksheets(_,w),await this.addSharedStrings(_,w),await this.addDrawings(_,w),await this.addTables(_,w),await Promise.all([this.addThemes(_,w),this.addStyles(_,w)]),await this.addMedia(_,w),await Promise.all([this.addApp(_,w),this.addCore(_,w)]),await this.addWorkbook(_,w),this._finalize(_)}writeFile(R,A){const w=u.createWriteStream(R);return new Promise((_,x)=>{w.on("finish",()=>{_()}),w.on("error",S=>{x(S)}),this.write(w,A).then(()=>{w.end()}).catch(S=>{x(S)})})}async writeBuffer(R){const A=new d;return await this.write(A,R),A.read()}}I.RelType=e("./rel-type"),n.exports=I}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=e("stream"),u=e("./formatter");class o extends a.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new u.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,d,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(g,v)=>g?(h=!0,f(g)):(v&&v.forEach(p=>{this.push(i.from(p,"utf8"))}),h=!0,f()))}catch(g){if(h)throw g;f(g)}}_flush(c){this.rowFormatter.finish((d,f)=>d?c(d):(f&&f.forEach(h=>{this.push(i.from(h,"utf8"))}),c()))}}s.CsvFormatterStream=o}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(e("lodash.isboolean")),u=i(e("lodash.isnil")),o=i(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const c=`[${l.delimiter}${o.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(l){this._headers=l}shouldQuote(l,c){const d=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(d)?d:Array.isArray(d)?d[l]:this._headers!==null&&d[this._headers[l]]}format(l,c,d){const f=(""+(u.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,d)?this.quoteField(f):f}quoteField(l){const{quote:c}=this.formatterOptions;return`${c}${l}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(e("lodash.isfunction")),u=i(e("lodash.isequal")),o=e("./FieldFormatter"),l=e("../types");class c{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new o.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return c.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return l.isSyncTransform(f)?(h,g)=>{let v=null;try{v=f(h)}catch(p){return g(p)}return g(null,v)}:(h,g)=>{f(h,g)}}set rowTransform(f){if(!a.default(f))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(f)}format(f,h){this.callTransformer(f,(g,v)=>{if(g)return h(g);if(!f)return h(null);const p=[];if(v){const{shouldFormatColumns:y,headers:m}=this.checkHeaders(v);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),y){const b=this.gatherColumns(v);p.push(this.formatColumns(b,!1))}}return h(null,p)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=c.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?c.isRowHashArray(f)?this.headers.map((h,g)=>{const v=f[g];return v?v[1]:""}):c.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,g)=>f[g]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const g=f.map((p,y)=>this.fieldFormatter.format(p,y,h)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(i){(function(){var a=Object.create?function(y,m,b,k){k===void 0&&(k=b),Object.defineProperty(y,k,{enumerable:!0,get:function(){return m[b]}})}:function(y,m,b,k){k===void 0&&(k=b),y[k]=m[b]},u=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},o=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&a(m,y,b);return u(m,y),m},l=function(y,m){for(var b in y)b==="default"||Object.prototype.hasOwnProperty.call(m,b)||a(m,y,b)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const c=e("util"),d=e("stream"),f=o(e("fs")),h=e("./FormatterOptions"),g=e("./CsvFormatterStream");l(e("./types"),s);var v=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var p=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),s.format=y=>new g.CsvFormatterStream(new h.FormatterOptions(y)),s.write=(y,m)=>{const b=s.format(m),k=c.promisify((N,B)=>{b.write(N,void 0,B)});return y.reduce((N,B)=>N.then(()=>k(B)),Promise.resolve()).then(()=>b.end()).catch(N=>{b.emit("error",N)}),b},s.writeToStream=(y,m,b)=>s.write(m,b).pipe(y),s.writeToBuffer=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],k=new d.Writable({write(N,B,j){b.push(N),j()}});return new Promise((N,B)=>{k.on("error",B).on("finish",()=>N(i.concat(b))),s.write(y,m).pipe(k)})},s.writeToString=(y,m)=>s.writeToBuffer(y,m).then(b=>b.toString()),s.writeToPath=(y,m,b)=>{const k=f.createWriteStream(y,{encoding:"utf8"});return s.write(m,b).pipe(k)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=e("string_decoder"),u=e("stream"),o=e("./transforms"),l=e("./parser");class c extends u.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new l.Parser(f),this.headerTransformer=new o.HeaderTransformer(f),this.decoder=new a.StringDecoder(f.encoding),this.rowTransformerValidator=new o.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,g=new Array(h>1?h-1:0),v=1;v<h;v++)g[v-1]=arguments[v];return super.emit(f,...g)}_transform(f,h,g){if(this.hasHitRowLimit)return g();const v=c.wrapDoneCallback(g);try{const{lines:p}=this,y=p+this.decoder.write(f),m=this.parse(y,!0);return this.processRows(m,v)}catch(p){return v(p)}}_flush(f){const h=c.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const g=this.lines+this.decoder.end(),v=this.parse(g,!1);return this.processRows(v,h)}catch(g){return h(g)}}parse(f,h){if(!f)return[];const{line:g,rows:v}=this.parser.parse(f,h);return this.lines=g,v}processRows(f,h){const g=f.length,v=p=>{const y=k=>k?h(k):p%100!=0?v(p+1):void i(()=>v(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const m=f[p];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(m,(k,N)=>{if(k)return this.rowCount-=1,y(k);if(!N)return y(new Error("expected transform result"));if(N.isValid){if(N.row)return this.pushRow(N.row,y)}else this.emit("data-invalid",N.row,b,N.reason);return y()})};v(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(g,v)=>g?h(g):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(g){h(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(g){h(g)}}static wrapDoneCallback(f){let h=!1;return function(g){if(g){if(h)throw g;return h=!0,void f(g)}for(var v=arguments.length,p=new Array(v>1?v-1:0),y=1;y<v;y++)p[y-1]=arguments[y];f(...p)}}}s.CsvParserStream=c}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(e("lodash.escaperegexp")),u=i(e("lodash.isnil"));s.ParserOptions=class{constructor(o){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,o||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var i=Object.create?function(v,p,y,m){m===void 0&&(m=y),Object.defineProperty(v,m,{enumerable:!0,get:function(){return p[y]}})}:function(v,p,y,m){m===void 0&&(m=y),v[m]=p[y]},a=Object.create?function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}:function(v,p){v.default=p},u=function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&i(p,v,y);return a(p,v),p},o=function(v,p){for(var y in v)y==="default"||Object.prototype.hasOwnProperty.call(p,y)||i(p,v,y)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const l=u(e("fs")),c=e("stream"),d=e("./ParserOptions"),f=e("./CsvParserStream");o(e("./types"),s);var h=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=v=>new f.CsvParserStream(new d.ParserOptions(v)),s.parseStream=(v,p)=>v.pipe(new f.CsvParserStream(new d.ParserOptions(p))),s.parseFile=function(v){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(v).pipe(new f.CsvParserStream(new d.ParserOptions(p)))},s.parseString=(v,p)=>{const y=new c.Readable;return y.push(v),y.push(null),y.pipe(new f.CsvParserStream(new d.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=e("./Scanner"),a=e("./RowParser"),u=e("./Token");class o{constructor(c){this.parserOptions=c,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,d){const f=new i.Scanner({line:o.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(c){const d=[];let f=!0;for(;f;)f=this.parseRow(c,d);return{line:c.line,rows:d}}parseWithComments(c){const{parserOptions:d}=this,f=[];for(let h=c.nextCharacterToken;h!==null;h=c.nextCharacterToken)if(u.Token.isTokenComment(h,d)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:f};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:f};c.truncateToCursor()}else if(!this.parseRow(c,f))break;return{line:c.line,rows:f}}parseRow(c,d){if(!c.nextNonSpaceToken)return!1;const f=this.rowParser.parse(c);return f!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(f)||d.push(f),!0)}}s.Parser=o},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=e("./column"),a=e("./Token");s.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new i.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:o}=this,{hasMoreData:l}=u,c=u,d=[];let f=this.getStartToken(c,d);for(;f;){if(a.Token.isTokenRowDelimiter(f))return c.advancePastToken(f),!c.hasMoreCharacters&&a.Token.isTokenCarriageReturn(f,o)&&l?null:(c.truncateToCursor(),d);if(!this.shouldSkipColumnParse(c,f,d)){const h=this.columnParser.parse(c);if(h===null)return null;d.push(h)}f=c.nextNonSpaceToken}return l?null:(c.truncateToCursor(),d)}getStartToken(u,o){const l=u.nextNonSpaceToken;return l!==null&&a.Token.isTokenDelimiter(l,this.parserOptions)?(o.push(""),u.nextNonSpaceToken):l}shouldSkipColumnParse(u,o,l){const{parserOptions:c}=this;if(a.Token.isTokenDelimiter(o,c)){u.advancePastToken(o);const d=u.nextCharacterToken;if(!u.hasMoreCharacters||d!==null&&a.Token.isTokenRowDelimiter(d)||d!==null&&a.Token.isTokenDelimiter(d,c))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=e("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,o=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(o)===-1)return null;const l=o.exec(u);if(l==null)return null;const c=l[1],d=this.cursor+(l.index||0);return new i.Token({token:c,startCursor:d,endCursor:d+c.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:o}=this;return o<=u?null:new i.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=a.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),u=e("../Token");s.ColumnParser=class{constructor(o){this.parserOptions=o,this.quotedColumnParser=new a.QuotedColumnParser(o),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(o)}parse(o){const{nextNonSpaceToken:l}=o;return l!==null&&u.Token.isTokenQuote(l,this.parserOptions)?(o.advanceToToken(l),this.quotedColumnParser.parse(o)):this.nonQuotedColumnParser.parse(o)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:o}=this,l=[];let c=u.nextCharacterToken;for(;c&&!a.Token.isTokenDelimiter(c,o)&&!a.Token.isTokenRowDelimiter(c);c=u.nextCharacterToken)l.push(c.token),u.advancePastToken(c);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const o=u.cursor,{foundClosingQuote:l,col:c}=this.gatherDataBetweenQuotes(u);if(!l){if(u.advanceTo(o),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),c}gatherDataBetweenQuotes(u){const{parserOptions:o}=this;let l=!1,c=!1;const d=[];let f=u.nextCharacterToken;for(;!c&&f!==null;f=u.nextCharacterToken){const h=a.Token.isTokenQuote(f,o);if(!l&&h)l=!0;else if(l)if(a.Token.isTokenEscapeCharacter(f,o)){u.advancePastToken(f);const g=u.nextCharacterToken;g!==null&&(a.Token.isTokenQuote(g,o)||a.Token.isTokenEscapeCharacter(g,o))?(d.push(g.token),f=g):h?c=!0:d.push(f.token)}else h?c=!0:d.push(f.token);u.advancePastToken(f)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:c}}checkForMalformedColumn(u){const{parserOptions:o}=this,{nextNonSpaceToken:l}=u;if(l){const c=a.Token.isTokenDelimiter(l,o),d=a.Token.isTokenRowDelimiter(l);if(!c&&!d){const f=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${o.escapedDelimiter}' OR new line got: '${l.token}'. at '${f}`)}u.advanceToToken(l)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var u=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var o=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return o.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var u=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var o=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return o.Token}});var l=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(e("lodash.isundefined")),u=i(e("lodash.isfunction")),o=i(e("lodash.uniq")),l=i(e("lodash.groupby"));s.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):u.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,d){return this.shouldMapRow(c)?d(null,this.processRow(c)):d(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&c.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return d.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const d={},{headers:f,headersLength:h}=this;for(let g=0;g<h;g+=1){const v=f[g];if(!a.default(v)){const p=c[g];a.default(p)?d[v]="":d[v]=p}}return d}setHeaders(c){var d;const f=c.filter(h=>!!h);if(o.default(f).length!==f.length){const h=l.default(f),g=Object.keys(h).filter(v=>h[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(e("lodash.isfunction")),u=e("../types");class o{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return u.isSyncTransform(c)?(d,f)=>{let h=null;try{h=c(d)}catch(g){return f(g)}return f(null,h)}:c}static createValidator(c){return u.isSyncValidate(c)?(d,f)=>{f(null,{row:d,isValid:c(d)})}:(d,f)=>{c(d,(h,g,v)=>h?f(h):f(null,g?{row:d,isValid:g,reason:v}:{row:d,isValid:!1,reason:v}))}}set rowTransform(c){if(!a.default(c))throw new TypeError("The transform should be a function");this._rowTransform=o.createTransform(c)}set rowValidator(c){if(!a.default(c))throw new TypeError("The validate should be a function");this._rowValidator=o.createValidator(c)}transformAndValidate(c,d){return this.callTransformer(c,(f,h)=>f?d(f):h?this.callValidator(h,(g,v)=>g?d(g):v&&!v.isValid?d(null,{row:h,isValid:!1,reason:v.reason}):d(null,{row:h,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(c,d){return this._rowTransform?this._rowTransform(c,d):d(null,c)}callValidator(c,d){return this._rowValidator?this._rowValidator(c,d):d(null,{row:c,isValid:!0})}}s.RowTransformerValidator=o},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,s){const i=s;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const i=e("./encoders"),a=e("./decoders"),u=e("inherits");function o(l,c){this.name=l,this.body=c,this.decoders={},this.encoders={}}s.define=function(l,c){return new o(l,c)},o.prototype._createNamed=function(l){const c=this.name;function d(f){this._initNamed(f,c)}return u(d,l),d.prototype._initNamed=function(f,h){l.call(this,f,h)},new d(this)},o.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(a[l])),this.decoders[l]},o.prototype.decode=function(l,c,d){return this._getDecoder(c).decode(l,d)},o.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(i[l])),this.encoders[l]},o.prototype.encode=function(l,c,d){return this._getEncoder(c).encode(l,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const i=e("inherits"),a=e("../base/reporter").Reporter,u=e("safer-buffer").Buffer;function o(c,d){a.call(this,d),u.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function l(c,d){if(Array.isArray(c))this.length=0,this.value=c.map(function(f){return l.isEncoderBuffer(f)||(f=new l(f,d)),this.length+=f.length,f},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return d.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=u.byteLength(c);else{if(!u.isBuffer(c))return d.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}i(o,a),s.DecoderBuffer=o,o.isDecoderBuffer=function(c){return c instanceof o?!0:typeof c=="object"&&u.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},o.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},o.prototype.restore=function(c){const d=new o(this.base);return d.offset=c.offset,d.length=this.offset,this.offset=c.offset,a.prototype.restore.call(this,c.reporter),d},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},o.prototype.skip=function(c,d){if(!(this.offset+c<=this.length))return this.error(d||"DecoderBuffer overrun");const f=new o(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+c,this.offset+=c,f},o.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},s.EncoderBuffer=l,l.isEncoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},l.prototype.join=function(c,d){return c||(c=u.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(c,d),d+=f.length}):(typeof this.value=="number"?c[d]=this.value:typeof this.value=="string"?c.write(this.value,d):u.isBuffer(this.value)&&this.value.copy(c,d),d+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const i=s;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const i=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,u=e("../base/buffer").DecoderBuffer,o=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function d(h,g,v){const p={};this._baseState=p,p.name=v,p.enc=h,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=d;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const h=this._baseState,g={};f.forEach(function(p){g[p]=h[p]});const v=new this.constructor(g.parent);return v._baseState=g,v},d.prototype._wrap=function(){const h=this._baseState;c.forEach(function(g){this[g]=function(){const v=new this.constructor(this);return h.children.push(v),v[g].apply(v,arguments)}},this)},d.prototype._init=function(h){const g=this._baseState;o(g.parent===null),h.call(this),g.children=g.children.filter(function(v){return v._baseState.parent===this},this),o.equal(g.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(h){const g=this._baseState,v=h.filter(function(p){return p instanceof this.constructor},this);h=h.filter(function(p){return!(p instanceof this.constructor)},this),v.length!==0&&(o(g.children===null),g.children=v,v.forEach(function(p){p._baseState.parent=this},this)),h.length!==0&&(o(g.args===null),g.args=h,g.reverseArgs=h.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach(function(m){m==(0|m)&&(m|=0);const b=p[m];y[b]=m}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){d.prototype[h]=function(){const g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),l.forEach(function(h){d.prototype[h]=function(){const g=this._baseState,v=Array.prototype.slice.call(arguments);return o(g.tag===null),g.tag=h,this._useArgs(v),this}}),d.prototype.use=function(h){o(h);const g=this._baseState;return o(g.use===null),g.use=h,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(h){const g=this._baseState;return o(g.default===null),g.default=h,g.optional=!0,this},d.prototype.explicit=function(h){const g=this._baseState;return o(g.explicit===null&&g.implicit===null),g.explicit=h,this},d.prototype.implicit=function(h){const g=this._baseState;return o(g.explicit===null&&g.implicit===null),g.implicit=h,this},d.prototype.obj=function(){const h=this._baseState,g=Array.prototype.slice.call(arguments);return h.obj=!0,g.length!==0&&this._useArgs(g),this},d.prototype.key=function(h){const g=this._baseState;return o(g.key===null),g.key=h,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(h){const g=this._baseState;return o(g.choice===null),g.choice=h,this._useArgs(Object.keys(h).map(function(v){return h[v]})),this},d.prototype.contains=function(h){const g=this._baseState;return o(g.use===null),g.contains=h,this},d.prototype._decode=function(h,g){const v=this._baseState;if(v.parent===null)return h.wrapResult(v.children[0]._decode(h,g));let p,y=v.default,m=!0,b=null;if(v.key!==null&&(b=h.enterKey(v.key)),v.optional){let k=null;if(v.explicit!==null?k=v.explicit:v.implicit!==null?k=v.implicit:v.tag!==null&&(k=v.tag),k!==null||v.any){if(m=this._peekTag(h,k,v.any),h.isError(m))return m}else{const N=h.save();try{v.choice===null?this._decodeGeneric(v.tag,h,g):this._decodeChoice(h,g),m=!0}catch{m=!1}h.restore(N)}}if(v.obj&&m&&(p=h.enterObject()),m){if(v.explicit!==null){const N=this._decodeTag(h,v.explicit);if(h.isError(N))return N;h=N}const k=h.offset;if(v.use===null&&v.choice===null){let N;v.any&&(N=h.save());const B=this._decodeTag(h,v.implicit!==null?v.implicit:v.tag,v.any);if(h.isError(B))return B;v.any?y=h.raw(N):h=B}if(g&&g.track&&v.tag!==null&&g.track(h.path(),k,h.length,"tagged"),g&&g.track&&v.tag!==null&&g.track(h.path(),h.offset,h.length,"content"),v.any||(y=v.choice===null?this._decodeGeneric(v.tag,h,g):this._decodeChoice(h,g)),h.isError(y))return y;if(v.any||v.choice!==null||v.children===null||v.children.forEach(function(N){N._decode(h,g)}),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const N=new u(y);y=this._getUse(v.contains,h._reporterState.obj)._decode(N,g)}}return v.obj&&m&&(y=h.leaveObject(p)),v.key===null||y===null&&m!==!0?b!==null&&h.exitKey(b):h.leaveKey(b,v.key,y),y},d.prototype._decodeGeneric=function(h,g,v){const p=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(g,h,p.args[0],v):/str$/.test(h)?this._decodeStr(g,h,v):h==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],v):h==="objid"?this._decodeObjid(g,null,null,v):h==="gentime"||h==="utctime"?this._decodeTime(g,h,v):h==="null_"?this._decodeNull(g,v):h==="bool"?this._decodeBool(g,v):h==="objDesc"?this._decodeStr(g,h,v):h==="int"||h==="enum"?this._decodeInt(g,p.args&&p.args[0],v):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,v):g.error("unknown tag: "+h)},d.prototype._getUse=function(h,g){const v=this._baseState;return v.useDecoder=this._use(h,g),o(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},d.prototype._decodeChoice=function(h,g){const v=this._baseState;let p=null,y=!1;return Object.keys(v.choice).some(function(m){const b=h.save(),k=v.choice[m];try{const N=k._decode(h,g);if(h.isError(N))return!1;p={type:m,value:N},y=!0}catch{return h.restore(b),!1}return!0},this),y?p:h.error("Choice not matched")},d.prototype._createEncoderBuffer=function(h){return new a(h,this.reporter)},d.prototype._encode=function(h,g,v){const p=this._baseState;if(p.default!==null&&p.default===h)return;const y=this._encodeValue(h,g,v);return y===void 0||this._skipDefault(y,g,v)?void 0:y},d.prototype._encodeValue=function(h,g,v){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(h,g||new i);let y=null;if(this.reporter=g,p.optional&&h===void 0){if(p.default===null)return;h=p.default}let m=null,b=!1;if(p.any)y=this._createEncoderBuffer(h);else if(p.choice)y=this._encodeChoice(h,g);else if(p.contains)m=this._getUse(p.contains,v)._encode(h,g),b=!0;else if(p.children)m=p.children.map(function(k){if(k._baseState.tag==="null_")return k._encode(null,g,h);if(k._baseState.key===null)return g.error("Child should have a key");const N=g.enterKey(k._baseState.key);if(typeof h!="object")return g.error("Child expected, but input is not object");const B=k._encode(h[k._baseState.key],g,h);return g.leaveKey(N),B},this).filter(function(k){return k}),m=this._createEncoderBuffer(m);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(h))return g.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,m=this._createEncoderBuffer(h.map(function(N){const B=this._baseState;return this._getUse(B.args[0],h)._encode(N,g)},k))}else p.use!==null?y=this._getUse(p.use,v)._encode(h,g):(m=this._encodePrimitive(p.tag,h),b=!0);if(!p.any&&p.choice===null){const k=p.implicit!==null?p.implicit:p.tag,N=p.implicit===null?"universal":"context";k===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(k,b,N,m))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},d.prototype._encodeChoice=function(h,g){const v=this._baseState,p=v.choice[h.type];return p||o(!1,h.type+" not found in "+JSON.stringify(Object.keys(v.choice))),p._encode(h.value,g)},d.prototype._encodePrimitive=function(h,g){const v=this._baseState;if(/str$/.test(h))return this._encodeStr(g,h);if(h==="objid"&&v.args)return this._encodeObjid(g,v.reverseArgs[0],v.args[1]);if(h==="objid")return this._encodeObjid(g,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(g,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(g,v.args&&v.reverseArgs[0]);if(h==="bool")return this._encodeBool(g);if(h==="objDesc")return this._encodeStr(g,h);throw new Error("Unsupported tag: "+h)},d.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},d.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const i=e("inherits");function a(o){this._reporterState={obj:null,path:[],options:o||{},errors:[]}}function u(o,l){this.path=o,this.rethrow(l)}s.Reporter=a,a.prototype.isError=function(o){return o instanceof u},a.prototype.save=function(){const o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},a.prototype.restore=function(o){const l=this._reporterState;l.obj=o.obj,l.path=l.path.slice(0,o.pathLen)},a.prototype.enterKey=function(o){return this._reporterState.path.push(o)},a.prototype.exitKey=function(o){const l=this._reporterState;l.path=l.path.slice(0,o-1)},a.prototype.leaveKey=function(o,l,c){const d=this._reporterState;this.exitKey(o),d.obj!==null&&(d.obj[l]=c)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const o=this._reporterState,l=o.obj;return o.obj={},l},a.prototype.leaveObject=function(o){const l=this._reporterState,c=l.obj;return l.obj=o,c},a.prototype.error=function(o){let l;const c=this._reporterState,d=o instanceof u;if(l=d?o:new u(c.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),o.message||o,o.stack),!c.options.partial)throw l;return d||c.errors.push(l),l},a.prototype.wrapResult=function(o){const l=this._reporterState;return l.options.partial?{result:this.isError(o)?null:o,errors:l.errors}:o},i(u,Error),u.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,n,s){function i(a){const u={};return Object.keys(a).forEach(function(o){(0|o)==o&&(o|=0);const l=a[o];u[l]=o}),u}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(e,n,s){const i=s;i._reverse=function(a){const u={};return Object.keys(a).forEach(function(o){(0|o)==o&&(o|=0);const l=a[o];u[l]=o}),u},i.der=e("./der")},{"./der":176}],178:[function(e,n,s){const i=e("inherits"),a=e("bn.js"),u=e("../base/buffer").DecoderBuffer,o=e("../base/node"),l=e("../constants/der");function c(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new d,this.tree._init(g.body)}function d(g){o.call(this,"der",g)}function f(g,v){let p=g.readUInt8(v);if(g.isError(p))return p;const y=l.tagClass[p>>6],m=(32&p)==0;if((31&p)==31){let b=p;for(p=0;(128&b)==128;){if(b=g.readUInt8(v),g.isError(b))return b;p<<=7,p|=127&b}}else p&=31;return{cls:y,primitive:m,tag:p,tagStr:l.tag[p]}}function h(g,v,p){let y=g.readUInt8(p);if(g.isError(y))return y;if(!v&&y===128)return null;if(!(128&y))return y;const m=127&y;if(m>4)return g.error("length octect is too long");y=0;for(let b=0;b<m;b++){y<<=8;const k=g.readUInt8(p);if(g.isError(k))return k;y|=k}return y}n.exports=c,c.prototype.decode=function(g,v){return u.isDecoderBuffer(g)||(g=new u(g,v)),this.tree._decode(g,v)},i(d,o),d.prototype._peekTag=function(g,v,p){if(g.isEmpty())return!1;const y=g.save(),m=f(g,'Failed to peek tag: "'+v+'"');return g.isError(m)?m:(g.restore(y),m.tag===v||m.tagStr===v||m.tagStr+"of"===v||p)},d.prototype._decodeTag=function(g,v,p){const y=f(g,'Failed to decode tag of "'+v+'"');if(g.isError(y))return y;let m=h(g,y.primitive,'Failed to get length of "'+v+'"');if(g.isError(m))return m;if(!p&&y.tag!==v&&y.tagStr!==v&&y.tagStr+"of"!==v)return g.error('Failed to match tag: "'+v+'"');if(y.primitive||m!==null)return g.skip(m,'Failed to match body of: "'+v+'"');const b=g.save(),k=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(k)?k:(m=g.offset-b.offset,g.restore(b),g.skip(m,'Failed to match body of: "'+v+'"'))},d.prototype._skipUntilEnd=function(g,v){for(;;){const p=f(g,v);if(g.isError(p))return p;const y=h(g,p.primitive,v);if(g.isError(y))return y;let m;if(m=p.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,v),g.isError(m))return m;if(p.tagStr==="end")break}},d.prototype._decodeList=function(g,v,p,y){const m=[];for(;!g.isEmpty();){const b=this._peekTag(g,"end");if(g.isError(b))return b;const k=p.decode(g,"der",y);if(g.isError(k)&&b)break;m.push(k)}return m},d.prototype._decodeStr=function(g,v){if(v==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(v==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let m=0;m<p.length/2;m++)y+=String.fromCharCode(p.readUInt16BE(2*m));return y}if(v==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return g.raw();if(v==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?g.raw().toString():g.error("Decoding of string type: "+v+" unsupported")},d.prototype._decodeObjid=function(g,v,p){let y;const m=[];let b=0,k=0;for(;!g.isEmpty();)k=g.readUInt8(),b<<=7,b|=127&k,!(128&k)&&(m.push(b),b=0);128&k&&m.push(b);const N=m[0]/40|0,B=m[0]%40;if(y=p?m:[N,B].concat(m.slice(1)),v){let j=v[y.join(" ")];j===void 0&&(j=v[y.join(".")]),j!==void 0&&(y=j)}return y},d.prototype._decodeTime=function(g,v){const p=g.raw().toString();let y,m,b,k,N,B;if(v==="gentime")y=0|p.slice(0,4),m=0|p.slice(4,6),b=0|p.slice(6,8),k=0|p.slice(8,10),N=0|p.slice(10,12),B=0|p.slice(12,14);else{if(v!=="utctime")return g.error("Decoding "+v+" time is not supported yet");y=0|p.slice(0,2),m=0|p.slice(2,4),b=0|p.slice(4,6),k=0|p.slice(6,8),N=0|p.slice(8,10),B=0|p.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,m-1,b,k,N,B,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(g){const v=g.readUInt8();return g.isError(v)?v:v!==0},d.prototype._decodeInt=function(g,v){const p=g.raw();let y=new a(p);return v&&(y=v[y.toString(10)]||y),y},d.prototype._use=function(g,v){return typeof g=="function"&&(g=g(v)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,u=e("./der");function o(l){u.call(this,l),this.enc="pem"}i(o,u),n.exports=o,o.prototype.decode=function(l,c){const d=l.toString().split(/[\r\n]+/g),f=c.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,v=-1;for(let m=0;m<d.length;m++){const b=d[m].match(h);if(b!==null&&b[2]===f){if(g!==-1){if(b[1]!=="END")break;v=m;break}if(b[1]!=="BEGIN")break;g=m}}if(g===-1||v===-1)throw new Error("PEM section not found for: "+f);const p=d.slice(g+1,v).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const y=a.from(p,"base64");return u.prototype.decode.call(this,y,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,u=e("../base/node"),o=e("../constants/der");function l(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new c,this.tree._init(f.body)}function c(f){u.call(this,"der",f)}function d(f){return f<10?"0"+f:f}n.exports=l,l.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},i(c,u),c.prototype._encodeComposite=function(f,h,g,v){const p=function(b,k,N,B){let j;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),o.tagByName.hasOwnProperty(b))j=o.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return B.error("Unknown tag: "+b);j=b}return j>=31?B.error("Multi-octet tag encoding unsupported"):(k||(j|=32),j|=o.tagClassByName[N||"universal"]<<6,j)}(f,h,g,this.reporter);if(v.length<128){const b=a.alloc(2);return b[0]=p,b[1]=v.length,this._createEncoderBuffer([b,v])}let y=1;for(let b=v.length;b>=256;b>>=8)y++;const m=a.alloc(2+y);m[0]=p,m[1]=128|y;for(let b=1+y,k=v.length;k>0;b--,k>>=8)m[b]=255&k;return this._createEncoderBuffer([m,v])},c.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const g=a.alloc(2*f.length);for(let v=0;v<f.length;v++)g.writeUInt16BE(f.charCodeAt(v),2*v);return this._createEncoderBuffer(g)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},c.prototype._encodeObjid=function(f,h,g){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let m=0;m<f.length;m++)f[m]|=0}else if(Array.isArray(f)){f=f.slice();for(let m=0;m<f.length;m++)f[m]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let v=0;for(let m=0;m<f.length;m++){let b=f[m];for(v++;b>=128;b>>=7)v++}const p=a.alloc(v);let y=p.length-1;for(let m=f.length-1;m>=0;m--){let b=f[m];for(p[y--]=127&b;(b>>=7)>0;)p[y--]=128|127&b}return this._createEncoderBuffer(p)},c.prototype._encodeTime=function(f,h){let g;const v=new Date(f);return h==="gentime"?g=[d(v.getUTCFullYear()),d(v.getUTCMonth()+1),d(v.getUTCDate()),d(v.getUTCHours()),d(v.getUTCMinutes()),d(v.getUTCSeconds()),"Z"].join(""):h==="utctime"?g=[d(v.getUTCFullYear()%100),d(v.getUTCMonth()+1),d(v.getUTCDate()),d(v.getUTCHours()),d(v.getUTCMinutes()),d(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(g,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!a.isBuffer(f)){const p=f.toArray();!f.sign&&128&p[0]&&p.unshift(0),f=a.from(p)}if(a.isBuffer(f)){let p=f.length;f.length===0&&p++;const y=a.alloc(p);return f.copy(y),f.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let g=1;for(let p=f;p>=256;p>>=8)g++;const v=new Array(g);for(let p=v.length-1;p>=0;p--)v[p]=255&f,f>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(a.from(v))},c.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},c.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},c.prototype._skipDefault=function(f,h,g){const v=this._baseState;let p;if(v.default===null)return!1;const y=f.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,h,g).join()),y.length!==v.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==v.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const i=e("inherits"),a=e("./der");function u(o){a.call(this,o),this.enc="pem"}i(u,a),n.exports=u,u.prototype.encode=function(o,l){const c=a.prototype.encode.call(this,o).toString("base64"),d=["-----BEGIN "+l.label+"-----"];for(let f=0;f<c.length;f+=64)d.push(c.slice(f,f+64));return d.push("-----END "+l.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(i,a){function u(E,R){if(!E)throw new Error(R||"Assertion failed")}function o(E,R){E.super_=R;var A=function(){};A.prototype=R.prototype,E.prototype=new A,E.prototype.constructor=E}function l(E,R,A){if(l.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(R!=="le"&&R!=="be"||(A=R,R=10),this._init(E||0,R||10,A||"be"))}var c;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(E,R){var A=E.charCodeAt(R);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function f(E,R,A){var w=d(E,A);return A-1>=R&&(w|=d(E,A-1)<<4),w}function h(E,R,A,w){for(var _=0,x=Math.min(E.length,A),S=R;S<x;S++){var C=E.charCodeAt(S)-48;_*=w,_+=C>=49?C-49+10:C>=17?C-17+10:C}return _}l.isBN=function(E){return E instanceof l||E!==null&&typeof E=="object"&&E.constructor.wordSize===l.wordSize&&Array.isArray(E.words)},l.max=function(E,R){return E.cmp(R)>0?E:R},l.min=function(E,R){return E.cmp(R)<0?E:R},l.prototype._init=function(E,R,A){if(typeof E=="number")return this._initNumber(E,R,A);if(typeof E=="object")return this._initArray(E,R,A);R==="hex"&&(R=16),u(R===(0|R)&&R>=2&&R<=36);var w=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<E.length&&(R===16?this._parseHex(E,w,A):(this._parseBase(E,R,w),A==="le"&&this._initArray(this.toArray(),R,A)))},l.prototype._initNumber=function(E,R,A){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(u(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),R,A)},l.prototype._initArray=function(E,R,A){if(u(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,x,S=0;if(A==="be")for(w=E.length-1,_=0;w>=0;w-=3)x=E[w]|E[w-1]<<8|E[w-2]<<16,this.words[_]|=x<<S&67108863,this.words[_+1]=x>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);else if(A==="le")for(w=0,_=0;w<E.length;w+=3)x=E[w]|E[w+1]<<8|E[w+2]<<16,this.words[_]|=x<<S&67108863,this.words[_+1]=x>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);return this.strip()},l.prototype._parseHex=function(E,R,A){this.length=Math.ceil((E.length-R)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var _,x=0,S=0;if(A==="be")for(w=E.length-1;w>=R;w-=2)_=f(E,R,w)<<x,this.words[S]|=67108863&_,x>=18?(x-=18,S+=1,this.words[S]|=_>>>26):x+=8;else for(w=(E.length-R)%2==0?R+1:R;w<E.length;w+=2)_=f(E,R,w)<<x,this.words[S]|=67108863&_,x>=18?(x-=18,S+=1,this.words[S]|=_>>>26):x+=8;this.strip()},l.prototype._parseBase=function(E,R,A){this.words=[0],this.length=1;for(var w=0,_=1;_<=67108863;_*=R)w++;w--,_=_/R|0;for(var x=E.length-A,S=x%w,C=Math.min(x,x-S)+A,q=0,P=A;P<C;P+=w)q=h(E,P,P+w,R),this.imuln(_),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(S!==0){var $=1;for(q=h(E,P,E.length,R),P=0;P<S;P++)$*=R;this.imuln($),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},l.prototype.copy=function(E){E.words=new Array(this.length);for(var R=0;R<this.length;R++)E.words[R]=this.words[R];E.length=this.length,E.negative=this.negative,E.red=this.red},l.prototype.clone=function(){var E=new l(null);return this.copy(E),E},l.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(E,R,A){A.negative=R.negative^E.negative;var w=E.length+R.length|0;A.length=w,w=w-1|0;var _=0|E.words[0],x=0|R.words[0],S=_*x,C=67108863&S,q=S/67108864|0;A.words[0]=C;for(var P=1;P<w;P++){for(var $=q>>>26,X=67108863&q,Z=Math.min(P,R.length-1),V=Math.max(0,P-E.length+1);V<=Z;V++){var Q=P-V|0;$+=(S=(_=0|E.words[Q])*(x=0|R.words[V])+X)/67108864|0,X=67108863&S}A.words[P]=0|X,q=0|$}return q!==0?A.words[P]=0|q:A.length--,A.strip()}l.prototype.toString=function(E,R){var A;if(R=0|R||1,(E=E||10)===16||E==="hex"){A="";for(var w=0,_=0,x=0;x<this.length;x++){var S=this.words[x],C=(16777215&(S<<w|_)).toString(16);A=(_=S>>>24-w&16777215)!==0||x!==this.length-1?g[6-C.length]+C+A:C+A,(w+=2)>=26&&(w-=26,x--)}for(_!==0&&(A=_.toString(16)+A);A.length%R!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(E===(0|E)&&E>=2&&E<=36){var q=v[E],P=p[E];A="";var $=this.clone();for($.negative=0;!$.isZero();){var X=$.modn(P).toString(E);A=($=$.idivn(P)).isZero()?X+A:g[q-X.length]+X+A}for(this.isZero()&&(A="0"+A);A.length%R!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}u(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(E,R){return u(c!==void 0),this.toArrayLike(c,E,R)},l.prototype.toArray=function(E,R){return this.toArrayLike(Array,E,R)},l.prototype.toArrayLike=function(E,R,A){var w=this.byteLength(),_=A||Math.max(1,w);u(w<=_,"byte array longer than desired length"),u(_>0,"Requested array length <= 0"),this.strip();var x,S,C=R==="le",q=new E(_),P=this.clone();if(C){for(S=0;!P.isZero();S++)x=P.andln(255),P.iushrn(8),q[S]=x;for(;S<_;S++)q[S]=0}else{for(S=0;S<_-w;S++)q[S]=0;for(S=0;!P.isZero();S++)x=P.andln(255),P.iushrn(8),q[_-S-1]=x}return q},Math.clz32?l.prototype._countBits=function(E){return 32-Math.clz32(E)}:l.prototype._countBits=function(E){var R=E,A=0;return R>=4096&&(A+=13,R>>>=13),R>=64&&(A+=7,R>>>=7),R>=8&&(A+=4,R>>>=4),R>=2&&(A+=2,R>>>=2),A+R},l.prototype._zeroBits=function(E){if(E===0)return 26;var R=E,A=0;return!(8191&R)&&(A+=13,R>>>=13),!(127&R)&&(A+=7,R>>>=7),!(15&R)&&(A+=4,R>>>=4),!(3&R)&&(A+=2,R>>>=2),!(1&R)&&A++,A},l.prototype.bitLength=function(){var E=this.words[this.length-1],R=this._countBits(E);return 26*(this.length-1)+R},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,R=0;R<this.length;R++){var A=this._zeroBits(this.words[R]);if(E+=A,A!==26)break}return E},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},l.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var R=0;R<E.length;R++)this.words[R]=this.words[R]|E.words[R];return this.strip()},l.prototype.ior=function(E){return u((this.negative|E.negative)==0),this.iuor(E)},l.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},l.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},l.prototype.iuand=function(E){var R;R=this.length>E.length?E:this;for(var A=0;A<R.length;A++)this.words[A]=this.words[A]&E.words[A];return this.length=R.length,this.strip()},l.prototype.iand=function(E){return u((this.negative|E.negative)==0),this.iuand(E)},l.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},l.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},l.prototype.iuxor=function(E){var R,A;this.length>E.length?(R=this,A=E):(R=E,A=this);for(var w=0;w<A.length;w++)this.words[w]=R.words[w]^A.words[w];if(this!==R)for(;w<R.length;w++)this.words[w]=R.words[w];return this.length=R.length,this.strip()},l.prototype.ixor=function(E){return u((this.negative|E.negative)==0),this.iuxor(E)},l.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},l.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},l.prototype.inotn=function(E){u(typeof E=="number"&&E>=0);var R=0|Math.ceil(E/26),A=E%26;this._expand(R),A>0&&R--;for(var w=0;w<R;w++)this.words[w]=67108863&~this.words[w];return A>0&&(this.words[w]=~this.words[w]&67108863>>26-A),this.strip()},l.prototype.notn=function(E){return this.clone().inotn(E)},l.prototype.setn=function(E,R){u(typeof E=="number"&&E>=0);var A=E/26|0,w=E%26;return this._expand(A+1),this.words[A]=R?this.words[A]|1<<w:this.words[A]&~(1<<w),this.strip()},l.prototype.iadd=function(E){var R,A,w;if(this.negative!==0&&E.negative===0)return this.negative=0,R=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,R=this.isub(E),E.negative=1,R._normSign();this.length>E.length?(A=this,w=E):(A=E,w=this);for(var _=0,x=0;x<w.length;x++)R=(0|A.words[x])+(0|w.words[x])+_,this.words[x]=67108863&R,_=R>>>26;for(;_!==0&&x<A.length;x++)R=(0|A.words[x])+_,this.words[x]=67108863&R,_=R>>>26;if(this.length=A.length,_!==0)this.words[this.length]=_,this.length++;else if(A!==this)for(;x<A.length;x++)this.words[x]=A.words[x];return this},l.prototype.add=function(E){var R;return E.negative!==0&&this.negative===0?(E.negative=0,R=this.sub(E),E.negative^=1,R):E.negative===0&&this.negative!==0?(this.negative=0,R=E.sub(this),this.negative=1,R):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},l.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var R=this.iadd(E);return E.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var A,w,_=this.cmp(E);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(A=this,w=E):(A=E,w=this);for(var x=0,S=0;S<w.length;S++)x=(R=(0|A.words[S])-(0|w.words[S])+x)>>26,this.words[S]=67108863&R;for(;x!==0&&S<A.length;S++)x=(R=(0|A.words[S])+x)>>26,this.words[S]=67108863&R;if(x===0&&S<A.length&&A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this.length=Math.max(this.length,S),A!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(E){return this.clone().isub(E)};var m=function(E,R,A){var w,_,x,S=E.words,C=R.words,q=A.words,P=0,$=0|S[0],X=8191&$,Z=$>>>13,V=0|S[1],Q=8191&V,F=V>>>13,D=0|S[2],K=8191&D,ee=D>>>13,ue=0|S[3],ie=8191&ue,ae=ue>>>13,ce=0|S[4],ne=8191&ce,se=ce>>>13,ye=0|S[5],me=8191&ye,_e=ye>>>13,xe=0|S[6],ke=8191&xe,Ce=xe>>>13,Oe=0|S[7],Ue=8191&Oe,ve=Oe>>>13,Be=0|S[8],$e=8191&Be,He=Be>>>13,Xe=0|S[9],Te=8191&Xe,ht=Xe>>>13,Ze=0|C[0],st=8191&Ze,it=Ze>>>13,yt=0|C[1],vt=8191&yt,kt=yt>>>13,or=0|C[2],wt=8191&or,Gt=or>>>13,Yt=0|C[3],At=8191&Yt,_t=Yt>>>13,Mt=0|C[4],Ot=8191&Mt,Wt=Mt>>>13,tr=0|C[5],jt=8191&tr,ut=tr>>>13,ur=0|C[6],Bt=8191&ur,Ee=ur>>>13,Ie=0|C[7],We=8191&Ie,at=Ie>>>13,Ut=0|C[8],pt=8191&Ut,Pt=Ut>>>13,It=0|C[9],Et=8191&It,zt=It>>>13;A.negative=E.negative^R.negative,A.length=19;var Ct=(P+(w=Math.imul(X,st))|0)+((8191&(_=(_=Math.imul(X,it))+Math.imul(Z,st)|0))<<13)|0;P=((x=Math.imul(Z,it))+(_>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(Q,st),_=(_=Math.imul(Q,it))+Math.imul(F,st)|0,x=Math.imul(F,it);var Xt=(P+(w=w+Math.imul(X,vt)|0)|0)+((8191&(_=(_=_+Math.imul(X,kt)|0)+Math.imul(Z,vt)|0))<<13)|0;P=((x=x+Math.imul(Z,kt)|0)+(_>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,w=Math.imul(K,st),_=(_=Math.imul(K,it))+Math.imul(ee,st)|0,x=Math.imul(ee,it),w=w+Math.imul(Q,vt)|0,_=(_=_+Math.imul(Q,kt)|0)+Math.imul(F,vt)|0,x=x+Math.imul(F,kt)|0;var Cr=(P+(w=w+Math.imul(X,wt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Gt)|0)+Math.imul(Z,wt)|0))<<13)|0;P=((x=x+Math.imul(Z,Gt)|0)+(_>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,w=Math.imul(ie,st),_=(_=Math.imul(ie,it))+Math.imul(ae,st)|0,x=Math.imul(ae,it),w=w+Math.imul(K,vt)|0,_=(_=_+Math.imul(K,kt)|0)+Math.imul(ee,vt)|0,x=x+Math.imul(ee,kt)|0,w=w+Math.imul(Q,wt)|0,_=(_=_+Math.imul(Q,Gt)|0)+Math.imul(F,wt)|0,x=x+Math.imul(F,Gt)|0;var Qe=(P+(w=w+Math.imul(X,At)|0)|0)+((8191&(_=(_=_+Math.imul(X,_t)|0)+Math.imul(Z,At)|0))<<13)|0;P=((x=x+Math.imul(Z,_t)|0)+(_>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,w=Math.imul(ne,st),_=(_=Math.imul(ne,it))+Math.imul(se,st)|0,x=Math.imul(se,it),w=w+Math.imul(ie,vt)|0,_=(_=_+Math.imul(ie,kt)|0)+Math.imul(ae,vt)|0,x=x+Math.imul(ae,kt)|0,w=w+Math.imul(K,wt)|0,_=(_=_+Math.imul(K,Gt)|0)+Math.imul(ee,wt)|0,x=x+Math.imul(ee,Gt)|0,w=w+Math.imul(Q,At)|0,_=(_=_+Math.imul(Q,_t)|0)+Math.imul(F,At)|0,x=x+Math.imul(F,_t)|0;var bt=(P+(w=w+Math.imul(X,Ot)|0)|0)+((8191&(_=(_=_+Math.imul(X,Wt)|0)+Math.imul(Z,Ot)|0))<<13)|0;P=((x=x+Math.imul(Z,Wt)|0)+(_>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(me,st),_=(_=Math.imul(me,it))+Math.imul(_e,st)|0,x=Math.imul(_e,it),w=w+Math.imul(ne,vt)|0,_=(_=_+Math.imul(ne,kt)|0)+Math.imul(se,vt)|0,x=x+Math.imul(se,kt)|0,w=w+Math.imul(ie,wt)|0,_=(_=_+Math.imul(ie,Gt)|0)+Math.imul(ae,wt)|0,x=x+Math.imul(ae,Gt)|0,w=w+Math.imul(K,At)|0,_=(_=_+Math.imul(K,_t)|0)+Math.imul(ee,At)|0,x=x+Math.imul(ee,_t)|0,w=w+Math.imul(Q,Ot)|0,_=(_=_+Math.imul(Q,Wt)|0)+Math.imul(F,Ot)|0,x=x+Math.imul(F,Wt)|0;var Ht=(P+(w=w+Math.imul(X,jt)|0)|0)+((8191&(_=(_=_+Math.imul(X,ut)|0)+Math.imul(Z,jt)|0))<<13)|0;P=((x=x+Math.imul(Z,ut)|0)+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,w=Math.imul(ke,st),_=(_=Math.imul(ke,it))+Math.imul(Ce,st)|0,x=Math.imul(Ce,it),w=w+Math.imul(me,vt)|0,_=(_=_+Math.imul(me,kt)|0)+Math.imul(_e,vt)|0,x=x+Math.imul(_e,kt)|0,w=w+Math.imul(ne,wt)|0,_=(_=_+Math.imul(ne,Gt)|0)+Math.imul(se,wt)|0,x=x+Math.imul(se,Gt)|0,w=w+Math.imul(ie,At)|0,_=(_=_+Math.imul(ie,_t)|0)+Math.imul(ae,At)|0,x=x+Math.imul(ae,_t)|0,w=w+Math.imul(K,Ot)|0,_=(_=_+Math.imul(K,Wt)|0)+Math.imul(ee,Ot)|0,x=x+Math.imul(ee,Wt)|0,w=w+Math.imul(Q,jt)|0,_=(_=_+Math.imul(Q,ut)|0)+Math.imul(F,jt)|0,x=x+Math.imul(F,ut)|0;var nr=(P+(w=w+Math.imul(X,Bt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Ee)|0)+Math.imul(Z,Bt)|0))<<13)|0;P=((x=x+Math.imul(Z,Ee)|0)+(_>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(Ue,st),_=(_=Math.imul(Ue,it))+Math.imul(ve,st)|0,x=Math.imul(ve,it),w=w+Math.imul(ke,vt)|0,_=(_=_+Math.imul(ke,kt)|0)+Math.imul(Ce,vt)|0,x=x+Math.imul(Ce,kt)|0,w=w+Math.imul(me,wt)|0,_=(_=_+Math.imul(me,Gt)|0)+Math.imul(_e,wt)|0,x=x+Math.imul(_e,Gt)|0,w=w+Math.imul(ne,At)|0,_=(_=_+Math.imul(ne,_t)|0)+Math.imul(se,At)|0,x=x+Math.imul(se,_t)|0,w=w+Math.imul(ie,Ot)|0,_=(_=_+Math.imul(ie,Wt)|0)+Math.imul(ae,Ot)|0,x=x+Math.imul(ae,Wt)|0,w=w+Math.imul(K,jt)|0,_=(_=_+Math.imul(K,ut)|0)+Math.imul(ee,jt)|0,x=x+Math.imul(ee,ut)|0,w=w+Math.imul(Q,Bt)|0,_=(_=_+Math.imul(Q,Ee)|0)+Math.imul(F,Bt)|0,x=x+Math.imul(F,Ee)|0;var be=(P+(w=w+Math.imul(X,We)|0)|0)+((8191&(_=(_=_+Math.imul(X,at)|0)+Math.imul(Z,We)|0))<<13)|0;P=((x=x+Math.imul(Z,at)|0)+(_>>>13)|0)+(be>>>26)|0,be&=67108863,w=Math.imul($e,st),_=(_=Math.imul($e,it))+Math.imul(He,st)|0,x=Math.imul(He,it),w=w+Math.imul(Ue,vt)|0,_=(_=_+Math.imul(Ue,kt)|0)+Math.imul(ve,vt)|0,x=x+Math.imul(ve,kt)|0,w=w+Math.imul(ke,wt)|0,_=(_=_+Math.imul(ke,Gt)|0)+Math.imul(Ce,wt)|0,x=x+Math.imul(Ce,Gt)|0,w=w+Math.imul(me,At)|0,_=(_=_+Math.imul(me,_t)|0)+Math.imul(_e,At)|0,x=x+Math.imul(_e,_t)|0,w=w+Math.imul(ne,Ot)|0,_=(_=_+Math.imul(ne,Wt)|0)+Math.imul(se,Ot)|0,x=x+Math.imul(se,Wt)|0,w=w+Math.imul(ie,jt)|0,_=(_=_+Math.imul(ie,ut)|0)+Math.imul(ae,jt)|0,x=x+Math.imul(ae,ut)|0,w=w+Math.imul(K,Bt)|0,_=(_=_+Math.imul(K,Ee)|0)+Math.imul(ee,Bt)|0,x=x+Math.imul(ee,Ee)|0,w=w+Math.imul(Q,We)|0,_=(_=_+Math.imul(Q,at)|0)+Math.imul(F,We)|0,x=x+Math.imul(F,at)|0;var Me=(P+(w=w+Math.imul(X,pt)|0)|0)+((8191&(_=(_=_+Math.imul(X,Pt)|0)+Math.imul(Z,pt)|0))<<13)|0;P=((x=x+Math.imul(Z,Pt)|0)+(_>>>13)|0)+(Me>>>26)|0,Me&=67108863,w=Math.imul(Te,st),_=(_=Math.imul(Te,it))+Math.imul(ht,st)|0,x=Math.imul(ht,it),w=w+Math.imul($e,vt)|0,_=(_=_+Math.imul($e,kt)|0)+Math.imul(He,vt)|0,x=x+Math.imul(He,kt)|0,w=w+Math.imul(Ue,wt)|0,_=(_=_+Math.imul(Ue,Gt)|0)+Math.imul(ve,wt)|0,x=x+Math.imul(ve,Gt)|0,w=w+Math.imul(ke,At)|0,_=(_=_+Math.imul(ke,_t)|0)+Math.imul(Ce,At)|0,x=x+Math.imul(Ce,_t)|0,w=w+Math.imul(me,Ot)|0,_=(_=_+Math.imul(me,Wt)|0)+Math.imul(_e,Ot)|0,x=x+Math.imul(_e,Wt)|0,w=w+Math.imul(ne,jt)|0,_=(_=_+Math.imul(ne,ut)|0)+Math.imul(se,jt)|0,x=x+Math.imul(se,ut)|0,w=w+Math.imul(ie,Bt)|0,_=(_=_+Math.imul(ie,Ee)|0)+Math.imul(ae,Bt)|0,x=x+Math.imul(ae,Ee)|0,w=w+Math.imul(K,We)|0,_=(_=_+Math.imul(K,at)|0)+Math.imul(ee,We)|0,x=x+Math.imul(ee,at)|0,w=w+Math.imul(Q,pt)|0,_=(_=_+Math.imul(Q,Pt)|0)+Math.imul(F,pt)|0,x=x+Math.imul(F,Pt)|0;var Ke=(P+(w=w+Math.imul(X,Et)|0)|0)+((8191&(_=(_=_+Math.imul(X,zt)|0)+Math.imul(Z,Et)|0))<<13)|0;P=((x=x+Math.imul(Z,zt)|0)+(_>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,w=Math.imul(Te,vt),_=(_=Math.imul(Te,kt))+Math.imul(ht,vt)|0,x=Math.imul(ht,kt),w=w+Math.imul($e,wt)|0,_=(_=_+Math.imul($e,Gt)|0)+Math.imul(He,wt)|0,x=x+Math.imul(He,Gt)|0,w=w+Math.imul(Ue,At)|0,_=(_=_+Math.imul(Ue,_t)|0)+Math.imul(ve,At)|0,x=x+Math.imul(ve,_t)|0,w=w+Math.imul(ke,Ot)|0,_=(_=_+Math.imul(ke,Wt)|0)+Math.imul(Ce,Ot)|0,x=x+Math.imul(Ce,Wt)|0,w=w+Math.imul(me,jt)|0,_=(_=_+Math.imul(me,ut)|0)+Math.imul(_e,jt)|0,x=x+Math.imul(_e,ut)|0,w=w+Math.imul(ne,Bt)|0,_=(_=_+Math.imul(ne,Ee)|0)+Math.imul(se,Bt)|0,x=x+Math.imul(se,Ee)|0,w=w+Math.imul(ie,We)|0,_=(_=_+Math.imul(ie,at)|0)+Math.imul(ae,We)|0,x=x+Math.imul(ae,at)|0,w=w+Math.imul(K,pt)|0,_=(_=_+Math.imul(K,Pt)|0)+Math.imul(ee,pt)|0,x=x+Math.imul(ee,Pt)|0;var rt=(P+(w=w+Math.imul(Q,Et)|0)|0)+((8191&(_=(_=_+Math.imul(Q,zt)|0)+Math.imul(F,Et)|0))<<13)|0;P=((x=x+Math.imul(F,zt)|0)+(_>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(Te,wt),_=(_=Math.imul(Te,Gt))+Math.imul(ht,wt)|0,x=Math.imul(ht,Gt),w=w+Math.imul($e,At)|0,_=(_=_+Math.imul($e,_t)|0)+Math.imul(He,At)|0,x=x+Math.imul(He,_t)|0,w=w+Math.imul(Ue,Ot)|0,_=(_=_+Math.imul(Ue,Wt)|0)+Math.imul(ve,Ot)|0,x=x+Math.imul(ve,Wt)|0,w=w+Math.imul(ke,jt)|0,_=(_=_+Math.imul(ke,ut)|0)+Math.imul(Ce,jt)|0,x=x+Math.imul(Ce,ut)|0,w=w+Math.imul(me,Bt)|0,_=(_=_+Math.imul(me,Ee)|0)+Math.imul(_e,Bt)|0,x=x+Math.imul(_e,Ee)|0,w=w+Math.imul(ne,We)|0,_=(_=_+Math.imul(ne,at)|0)+Math.imul(se,We)|0,x=x+Math.imul(se,at)|0,w=w+Math.imul(ie,pt)|0,_=(_=_+Math.imul(ie,Pt)|0)+Math.imul(ae,pt)|0,x=x+Math.imul(ae,Pt)|0;var Nt=(P+(w=w+Math.imul(K,Et)|0)|0)+((8191&(_=(_=_+Math.imul(K,zt)|0)+Math.imul(ee,Et)|0))<<13)|0;P=((x=x+Math.imul(ee,zt)|0)+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,w=Math.imul(Te,At),_=(_=Math.imul(Te,_t))+Math.imul(ht,At)|0,x=Math.imul(ht,_t),w=w+Math.imul($e,Ot)|0,_=(_=_+Math.imul($e,Wt)|0)+Math.imul(He,Ot)|0,x=x+Math.imul(He,Wt)|0,w=w+Math.imul(Ue,jt)|0,_=(_=_+Math.imul(Ue,ut)|0)+Math.imul(ve,jt)|0,x=x+Math.imul(ve,ut)|0,w=w+Math.imul(ke,Bt)|0,_=(_=_+Math.imul(ke,Ee)|0)+Math.imul(Ce,Bt)|0,x=x+Math.imul(Ce,Ee)|0,w=w+Math.imul(me,We)|0,_=(_=_+Math.imul(me,at)|0)+Math.imul(_e,We)|0,x=x+Math.imul(_e,at)|0,w=w+Math.imul(ne,pt)|0,_=(_=_+Math.imul(ne,Pt)|0)+Math.imul(se,pt)|0,x=x+Math.imul(se,Pt)|0;var ft=(P+(w=w+Math.imul(ie,Et)|0)|0)+((8191&(_=(_=_+Math.imul(ie,zt)|0)+Math.imul(ae,Et)|0))<<13)|0;P=((x=x+Math.imul(ae,zt)|0)+(_>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(Te,Ot),_=(_=Math.imul(Te,Wt))+Math.imul(ht,Ot)|0,x=Math.imul(ht,Wt),w=w+Math.imul($e,jt)|0,_=(_=_+Math.imul($e,ut)|0)+Math.imul(He,jt)|0,x=x+Math.imul(He,ut)|0,w=w+Math.imul(Ue,Bt)|0,_=(_=_+Math.imul(Ue,Ee)|0)+Math.imul(ve,Bt)|0,x=x+Math.imul(ve,Ee)|0,w=w+Math.imul(ke,We)|0,_=(_=_+Math.imul(ke,at)|0)+Math.imul(Ce,We)|0,x=x+Math.imul(Ce,at)|0,w=w+Math.imul(me,pt)|0,_=(_=_+Math.imul(me,Pt)|0)+Math.imul(_e,pt)|0,x=x+Math.imul(_e,Pt)|0;var mt=(P+(w=w+Math.imul(ne,Et)|0)|0)+((8191&(_=(_=_+Math.imul(ne,zt)|0)+Math.imul(se,Et)|0))<<13)|0;P=((x=x+Math.imul(se,zt)|0)+(_>>>13)|0)+(mt>>>26)|0,mt&=67108863,w=Math.imul(Te,jt),_=(_=Math.imul(Te,ut))+Math.imul(ht,jt)|0,x=Math.imul(ht,ut),w=w+Math.imul($e,Bt)|0,_=(_=_+Math.imul($e,Ee)|0)+Math.imul(He,Bt)|0,x=x+Math.imul(He,Ee)|0,w=w+Math.imul(Ue,We)|0,_=(_=_+Math.imul(Ue,at)|0)+Math.imul(ve,We)|0,x=x+Math.imul(ve,at)|0,w=w+Math.imul(ke,pt)|0,_=(_=_+Math.imul(ke,Pt)|0)+Math.imul(Ce,pt)|0,x=x+Math.imul(Ce,Pt)|0;var vr=(P+(w=w+Math.imul(me,Et)|0)|0)+((8191&(_=(_=_+Math.imul(me,zt)|0)+Math.imul(_e,Et)|0))<<13)|0;P=((x=x+Math.imul(_e,zt)|0)+(_>>>13)|0)+(vr>>>26)|0,vr&=67108863,w=Math.imul(Te,Bt),_=(_=Math.imul(Te,Ee))+Math.imul(ht,Bt)|0,x=Math.imul(ht,Ee),w=w+Math.imul($e,We)|0,_=(_=_+Math.imul($e,at)|0)+Math.imul(He,We)|0,x=x+Math.imul(He,at)|0,w=w+Math.imul(Ue,pt)|0,_=(_=_+Math.imul(Ue,Pt)|0)+Math.imul(ve,pt)|0,x=x+Math.imul(ve,Pt)|0;var rr=(P+(w=w+Math.imul(ke,Et)|0)|0)+((8191&(_=(_=_+Math.imul(ke,zt)|0)+Math.imul(Ce,Et)|0))<<13)|0;P=((x=x+Math.imul(Ce,zt)|0)+(_>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(Te,We),_=(_=Math.imul(Te,at))+Math.imul(ht,We)|0,x=Math.imul(ht,at),w=w+Math.imul($e,pt)|0,_=(_=_+Math.imul($e,Pt)|0)+Math.imul(He,pt)|0,x=x+Math.imul(He,Pt)|0;var lr=(P+(w=w+Math.imul(Ue,Et)|0)|0)+((8191&(_=(_=_+Math.imul(Ue,zt)|0)+Math.imul(ve,Et)|0))<<13)|0;P=((x=x+Math.imul(ve,zt)|0)+(_>>>13)|0)+(lr>>>26)|0,lr&=67108863,w=Math.imul(Te,pt),_=(_=Math.imul(Te,Pt))+Math.imul(ht,pt)|0,x=Math.imul(ht,Pt);var Vt=(P+(w=w+Math.imul($e,Et)|0)|0)+((8191&(_=(_=_+Math.imul($e,zt)|0)+Math.imul(He,Et)|0))<<13)|0;P=((x=x+Math.imul(He,zt)|0)+(_>>>13)|0)+(Vt>>>26)|0,Vt&=67108863;var _r=(P+(w=Math.imul(Te,Et))|0)+((8191&(_=(_=Math.imul(Te,zt))+Math.imul(ht,Et)|0))<<13)|0;return P=((x=Math.imul(ht,zt))+(_>>>13)|0)+(_r>>>26)|0,_r&=67108863,q[0]=Ct,q[1]=Xt,q[2]=Cr,q[3]=Qe,q[4]=bt,q[5]=Ht,q[6]=nr,q[7]=be,q[8]=Me,q[9]=Ke,q[10]=rt,q[11]=Nt,q[12]=ft,q[13]=mt,q[14]=vr,q[15]=rr,q[16]=lr,q[17]=Vt,q[18]=_r,P!==0&&(q[19]=P,A.length++),A};function b(E,R,A){return new k().mulp(E,R,A)}function k(E,R){this.x=E,this.y=R}Math.imul||(m=y),l.prototype.mulTo=function(E,R){var A=this.length+E.length;return this.length===10&&E.length===10?m(this,E,R):A<63?y(this,E,R):A<1024?function(w,_,x){x.negative=_.negative^w.negative,x.length=w.length+_.length;for(var S=0,C=0,q=0;q<x.length-1;q++){var P=C;C=0;for(var $=67108863&S,X=Math.min(q,_.length-1),Z=Math.max(0,q-w.length+1);Z<=X;Z++){var V=q-Z,Q=(0|w.words[V])*(0|_.words[Z]),F=67108863&Q;$=67108863&(F=F+$|0),C+=(P=(P=P+(Q/67108864|0)|0)+(F>>>26)|0)>>>26,P&=67108863}x.words[q]=$,S=P,P=C}return S!==0?x.words[q]=S:x.length--,x.strip()}(this,E,R):b(this,E,R)},k.prototype.makeRBT=function(E){for(var R=new Array(E),A=l.prototype._countBits(E)-1,w=0;w<E;w++)R[w]=this.revBin(w,A,E);return R},k.prototype.revBin=function(E,R,A){if(E===0||E===A-1)return E;for(var w=0,_=0;_<R;_++)w|=(1&E)<<R-_-1,E>>=1;return w},k.prototype.permute=function(E,R,A,w,_,x){for(var S=0;S<x;S++)w[S]=R[E[S]],_[S]=A[E[S]]},k.prototype.transform=function(E,R,A,w,_,x){this.permute(x,E,R,A,w,_);for(var S=1;S<_;S<<=1)for(var C=S<<1,q=Math.cos(2*Math.PI/C),P=Math.sin(2*Math.PI/C),$=0;$<_;$+=C)for(var X=q,Z=P,V=0;V<S;V++){var Q=A[$+V],F=w[$+V],D=A[$+V+S],K=w[$+V+S],ee=X*D-Z*K;K=X*K+Z*D,D=ee,A[$+V]=Q+D,w[$+V]=F+K,A[$+V+S]=Q-D,w[$+V+S]=F-K,V!==C&&(ee=q*X-P*Z,Z=q*Z+P*X,X=ee)}},k.prototype.guessLen13b=function(E,R){var A=1|Math.max(R,E),w=1&A,_=0;for(A=A/2|0;A;A>>>=1)_++;return 1<<_+1+w},k.prototype.conjugate=function(E,R,A){if(!(A<=1))for(var w=0;w<A/2;w++){var _=E[w];E[w]=E[A-w-1],E[A-w-1]=_,_=R[w],R[w]=-R[A-w-1],R[A-w-1]=-_}},k.prototype.normalize13b=function(E,R){for(var A=0,w=0;w<R/2;w++){var _=8192*Math.round(E[2*w+1]/R)+Math.round(E[2*w]/R)+A;E[w]=67108863&_,A=_<67108864?0:_/67108864|0}return E},k.prototype.convert13b=function(E,R,A,w){for(var _=0,x=0;x<R;x++)_+=0|E[x],A[2*x]=8191&_,_>>>=13,A[2*x+1]=8191&_,_>>>=13;for(x=2*R;x<w;++x)A[x]=0;u(_===0),u((-8192&_)==0)},k.prototype.stub=function(E){for(var R=new Array(E),A=0;A<E;A++)R[A]=0;return R},k.prototype.mulp=function(E,R,A){var w=2*this.guessLen13b(E.length,R.length),_=this.makeRBT(w),x=this.stub(w),S=new Array(w),C=new Array(w),q=new Array(w),P=new Array(w),$=new Array(w),X=new Array(w),Z=A.words;Z.length=w,this.convert13b(E.words,E.length,S,w),this.convert13b(R.words,R.length,P,w),this.transform(S,x,C,q,w,_),this.transform(P,x,$,X,w,_);for(var V=0;V<w;V++){var Q=C[V]*$[V]-q[V]*X[V];q[V]=C[V]*X[V]+q[V]*$[V],C[V]=Q}return this.conjugate(C,q,w),this.transform(C,q,Z,x,w,_),this.conjugate(Z,x,w),this.normalize13b(Z,w),A.negative=E.negative^R.negative,A.length=E.length+R.length,A.strip()},l.prototype.mul=function(E){var R=new l(null);return R.words=new Array(this.length+E.length),this.mulTo(E,R)},l.prototype.mulf=function(E){var R=new l(null);return R.words=new Array(this.length+E.length),b(this,E,R)},l.prototype.imul=function(E){return this.clone().mulTo(E,this)},l.prototype.imuln=function(E){u(typeof E=="number"),u(E<67108864);for(var R=0,A=0;A<this.length;A++){var w=(0|this.words[A])*E,_=(67108863&w)+(67108863&R);R>>=26,R+=w/67108864|0,R+=_>>>26,this.words[A]=67108863&_}return R!==0&&(this.words[A]=R,this.length++),this},l.prototype.muln=function(E){return this.clone().imuln(E)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(E){var R=function(x){for(var S=new Array(x.bitLength()),C=0;C<S.length;C++){var q=C/26|0,P=C%26;S[C]=(x.words[q]&1<<P)>>>P}return S}(E);if(R.length===0)return new l(1);for(var A=this,w=0;w<R.length&&R[w]===0;w++,A=A.sqr());if(++w<R.length)for(var _=A.sqr();w<R.length;w++,_=_.sqr())R[w]!==0&&(A=A.mul(_));return A},l.prototype.iushln=function(E){u(typeof E=="number"&&E>=0);var R,A=E%26,w=(E-A)/26,_=67108863>>>26-A<<26-A;if(A!==0){var x=0;for(R=0;R<this.length;R++){var S=this.words[R]&_,C=(0|this.words[R])-S<<A;this.words[R]=C|x,x=S>>>26-A}x&&(this.words[R]=x,this.length++)}if(w!==0){for(R=this.length-1;R>=0;R--)this.words[R+w]=this.words[R];for(R=0;R<w;R++)this.words[R]=0;this.length+=w}return this.strip()},l.prototype.ishln=function(E){return u(this.negative===0),this.iushln(E)},l.prototype.iushrn=function(E,R,A){var w;u(typeof E=="number"&&E>=0),w=R?(R-R%26)/26:0;var _=E%26,x=Math.min((E-_)/26,this.length),S=67108863^67108863>>>_<<_,C=A;if(w-=x,w=Math.max(0,w),C){for(var q=0;q<x;q++)C.words[q]=this.words[q];C.length=x}if(x!==0)if(this.length>x)for(this.length-=x,q=0;q<this.length;q++)this.words[q]=this.words[q+x];else this.words[0]=0,this.length=1;var P=0;for(q=this.length-1;q>=0&&(P!==0||q>=w);q--){var $=0|this.words[q];this.words[q]=P<<26-_|$>>>_,P=$&S}return C&&P!==0&&(C.words[C.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(E,R,A){return u(this.negative===0),this.iushrn(E,R,A)},l.prototype.shln=function(E){return this.clone().ishln(E)},l.prototype.ushln=function(E){return this.clone().iushln(E)},l.prototype.shrn=function(E){return this.clone().ishrn(E)},l.prototype.ushrn=function(E){return this.clone().iushrn(E)},l.prototype.testn=function(E){u(typeof E=="number"&&E>=0);var R=E%26,A=(E-R)/26,w=1<<R;return!(this.length<=A)&&!!(this.words[A]&w)},l.prototype.imaskn=function(E){u(typeof E=="number"&&E>=0);var R=E%26,A=(E-R)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(R!==0&&A++,this.length=Math.min(A,this.length),R!==0){var w=67108863^67108863>>>R<<R;this.words[this.length-1]&=w}return this.strip()},l.prototype.maskn=function(E){return this.clone().imaskn(E)},l.prototype.iaddn=function(E){return u(typeof E=="number"),u(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},l.prototype._iaddn=function(E){this.words[0]+=E;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},l.prototype.isubn=function(E){if(u(typeof E=="number"),u(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},l.prototype.addn=function(E){return this.clone().iaddn(E)},l.prototype.subn=function(E){return this.clone().isubn(E)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(E,R,A){var w,_,x=E.length+A;this._expand(x);var S=0;for(w=0;w<E.length;w++){_=(0|this.words[w+A])+S;var C=(0|E.words[w])*R;S=((_-=67108863&C)>>26)-(C/67108864|0),this.words[w+A]=67108863&_}for(;w<this.length-A;w++)S=(_=(0|this.words[w+A])+S)>>26,this.words[w+A]=67108863&_;if(S===0)return this.strip();for(u(S===-1),S=0,w=0;w<this.length;w++)S=(_=-(0|this.words[w])+S)>>26,this.words[w]=67108863&_;return this.negative=1,this.strip()},l.prototype._wordDiv=function(E,R){var A=(this.length,E.length),w=this.clone(),_=E,x=0|_.words[_.length-1];(A=26-this._countBits(x))!==0&&(_=_.ushln(A),w.iushln(A),x=0|_.words[_.length-1]);var S,C=w.length-_.length;if(R!=="mod"){(S=new l(null)).length=C+1,S.words=new Array(S.length);for(var q=0;q<S.length;q++)S.words[q]=0}var P=w.clone()._ishlnsubmul(_,1,C);P.negative===0&&(w=P,S&&(S.words[C]=1));for(var $=C-1;$>=0;$--){var X=67108864*(0|w.words[_.length+$])+(0|w.words[_.length+$-1]);for(X=Math.min(X/x|0,67108863),w._ishlnsubmul(_,X,$);w.negative!==0;)X--,w.negative=0,w._ishlnsubmul(_,1,$),w.isZero()||(w.negative^=1);S&&(S.words[$]=X)}return S&&S.strip(),w.strip(),R!=="div"&&A!==0&&w.iushrn(A),{div:S||null,mod:w}},l.prototype.divmod=function(E,R,A){return u(!E.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&E.negative===0?(x=this.neg().divmod(E,R),R!=="mod"&&(w=x.div.neg()),R!=="div"&&(_=x.mod.neg(),A&&_.negative!==0&&_.iadd(E)),{div:w,mod:_}):this.negative===0&&E.negative!==0?(x=this.divmod(E.neg(),R),R!=="mod"&&(w=x.div.neg()),{div:w,mod:x.mod}):this.negative&E.negative?(x=this.neg().divmod(E.neg(),R),R!=="div"&&(_=x.mod.neg(),A&&_.negative!==0&&_.isub(E)),{div:x.div,mod:_}):E.length>this.length||this.cmp(E)<0?{div:new l(0),mod:this}:E.length===1?R==="div"?{div:this.divn(E.words[0]),mod:null}:R==="mod"?{div:null,mod:new l(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new l(this.modn(E.words[0]))}:this._wordDiv(E,R);var w,_,x},l.prototype.div=function(E){return this.divmod(E,"div",!1).div},l.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},l.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},l.prototype.divRound=function(E){var R=this.divmod(E);if(R.mod.isZero())return R.div;var A=R.div.negative!==0?R.mod.isub(E):R.mod,w=E.ushrn(1),_=E.andln(1),x=A.cmp(w);return x<0||_===1&&x===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},l.prototype.modn=function(E){u(E<=67108863);for(var R=(1<<26)%E,A=0,w=this.length-1;w>=0;w--)A=(R*A+(0|this.words[w]))%E;return A},l.prototype.idivn=function(E){u(E<=67108863);for(var R=0,A=this.length-1;A>=0;A--){var w=(0|this.words[A])+67108864*R;this.words[A]=w/E|0,R=w%E}return this.strip()},l.prototype.divn=function(E){return this.clone().idivn(E)},l.prototype.egcd=function(E){u(E.negative===0),u(!E.isZero());var R=this,A=E.clone();R=R.negative!==0?R.umod(E):R.clone();for(var w=new l(1),_=new l(0),x=new l(0),S=new l(1),C=0;R.isEven()&&A.isEven();)R.iushrn(1),A.iushrn(1),++C;for(var q=A.clone(),P=R.clone();!R.isZero();){for(var $=0,X=1;!(R.words[0]&X)&&$<26;++$,X<<=1);if($>0)for(R.iushrn($);$-- >0;)(w.isOdd()||_.isOdd())&&(w.iadd(q),_.isub(P)),w.iushrn(1),_.iushrn(1);for(var Z=0,V=1;!(A.words[0]&V)&&Z<26;++Z,V<<=1);if(Z>0)for(A.iushrn(Z);Z-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(q),S.isub(P)),x.iushrn(1),S.iushrn(1);R.cmp(A)>=0?(R.isub(A),w.isub(x),_.isub(S)):(A.isub(R),x.isub(w),S.isub(_))}return{a:x,b:S,gcd:A.iushln(C)}},l.prototype._invmp=function(E){u(E.negative===0),u(!E.isZero());var R=this,A=E.clone();R=R.negative!==0?R.umod(E):R.clone();for(var w,_=new l(1),x=new l(0),S=A.clone();R.cmpn(1)>0&&A.cmpn(1)>0;){for(var C=0,q=1;!(R.words[0]&q)&&C<26;++C,q<<=1);if(C>0)for(R.iushrn(C);C-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var P=0,$=1;!(A.words[0]&$)&&P<26;++P,$<<=1);if(P>0)for(A.iushrn(P);P-- >0;)x.isOdd()&&x.iadd(S),x.iushrn(1);R.cmp(A)>=0?(R.isub(A),_.isub(x)):(A.isub(R),x.isub(_))}return(w=R.cmpn(1)===0?_:x).cmpn(0)<0&&w.iadd(E),w},l.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var R=this.clone(),A=E.clone();R.negative=0,A.negative=0;for(var w=0;R.isEven()&&A.isEven();w++)R.iushrn(1),A.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;A.isEven();)A.iushrn(1);var _=R.cmp(A);if(_<0){var x=R;R=A,A=x}else if(_===0||A.cmpn(1)===0)break;R.isub(A)}return A.iushln(w)},l.prototype.invm=function(E){return this.egcd(E).a.umod(E)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(E){return this.words[0]&E},l.prototype.bincn=function(E){u(typeof E=="number");var R=E%26,A=(E-R)/26,w=1<<R;if(this.length<=A)return this._expand(A+1),this.words[A]|=w,this;for(var _=w,x=A;_!==0&&x<this.length;x++){var S=0|this.words[x];_=(S+=_)>>>26,S&=67108863,this.words[x]=S}return _!==0&&(this.words[x]=_,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(E){var R,A=E<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)R=1;else{A&&(E=-E),u(E<=67108863,"Number is too big");var w=0|this.words[0];R=w===E?0:w<E?-1:1}return this.negative!==0?0|-R:R},l.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var R=this.ucmp(E);return this.negative!==0?0|-R:R},l.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var R=0,A=this.length-1;A>=0;A--){var w=0|this.words[A],_=0|E.words[A];if(w!==_){w<_?R=-1:w>_&&(R=1);break}}return R},l.prototype.gtn=function(E){return this.cmpn(E)===1},l.prototype.gt=function(E){return this.cmp(E)===1},l.prototype.gten=function(E){return this.cmpn(E)>=0},l.prototype.gte=function(E){return this.cmp(E)>=0},l.prototype.ltn=function(E){return this.cmpn(E)===-1},l.prototype.lt=function(E){return this.cmp(E)===-1},l.prototype.lten=function(E){return this.cmpn(E)<=0},l.prototype.lte=function(E){return this.cmp(E)<=0},l.prototype.eqn=function(E){return this.cmpn(E)===0},l.prototype.eq=function(E){return this.cmp(E)===0},l.red=function(E){return new O(E)},l.prototype.toRed=function(E){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},l.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(E){return this.red=E,this},l.prototype.forceRed=function(E){return u(!this.red,"Already a number in reduction context"),this._forceRed(E)},l.prototype.redAdd=function(E){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},l.prototype.redIAdd=function(E){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},l.prototype.redSub=function(E){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},l.prototype.redISub=function(E){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},l.prototype.redShl=function(E){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},l.prototype.redMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},l.prototype.redIMul=function(E){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},l.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(E){return u(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var N={k256:null,p224:null,p192:null,p25519:null};function B(E,R){this.name=E,this.p=new l(R,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function T(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(E){if(typeof E=="string"){var R=l._prime(E);this.m=R.p,this.prime=R}else u(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function I(E){O.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var E=new l(null);return E.words=new Array(Math.ceil(this.n/13)),E},B.prototype.ireduce=function(E){var R,A=E;do this.split(A,this.tmp),R=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(R>this.n);var w=R<this.n?-1:A.ucmp(this.p);return w===0?(A.words[0]=0,A.length=1):w>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},B.prototype.split=function(E,R){E.iushrn(this.n,0,R)},B.prototype.imulK=function(E){return E.imul(this.k)},o(j,B),j.prototype.split=function(E,R){for(var A=Math.min(E.length,9),w=0;w<A;w++)R.words[w]=E.words[w];if(R.length=A,E.length<=9)return E.words[0]=0,void(E.length=1);var _=E.words[9];for(R.words[R.length++]=4194303&_,w=10;w<E.length;w++){var x=0|E.words[w];E.words[w-10]=(4194303&x)<<4|_>>>22,_=x}_>>>=22,E.words[w-10]=_,_===0&&E.length>10?E.length-=10:E.length-=9},j.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var R=0,A=0;A<E.length;A++){var w=0|E.words[A];R+=977*w,E.words[A]=67108863&R,R=64*w+(R/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},o(T,B),o(M,B),o(U,B),U.prototype.imulK=function(E){for(var R=0,A=0;A<E.length;A++){var w=19*(0|E.words[A])+R,_=67108863&w;w>>>=26,E.words[A]=_,R=w}return R!==0&&(E.words[E.length++]=R),E},l._prime=function(E){if(N[E])return N[E];var R;if(E==="k256")R=new j;else if(E==="p224")R=new T;else if(E==="p192")R=new M;else{if(E!=="p25519")throw new Error("Unknown prime "+E);R=new U}return N[E]=R,R},O.prototype._verify1=function(E){u(E.negative===0,"red works only with positives"),u(E.red,"red works only with red numbers")},O.prototype._verify2=function(E,R){u((E.negative|R.negative)==0,"red works only with positives"),u(E.red&&E.red===R.red,"red works only with red numbers")},O.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},O.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},O.prototype.add=function(E,R){this._verify2(E,R);var A=E.add(R);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},O.prototype.iadd=function(E,R){this._verify2(E,R);var A=E.iadd(R);return A.cmp(this.m)>=0&&A.isub(this.m),A},O.prototype.sub=function(E,R){this._verify2(E,R);var A=E.sub(R);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},O.prototype.isub=function(E,R){this._verify2(E,R);var A=E.isub(R);return A.cmpn(0)<0&&A.iadd(this.m),A},O.prototype.shl=function(E,R){return this._verify1(E),this.imod(E.ushln(R))},O.prototype.imul=function(E,R){return this._verify2(E,R),this.imod(E.imul(R))},O.prototype.mul=function(E,R){return this._verify2(E,R),this.imod(E.mul(R))},O.prototype.isqr=function(E){return this.imul(E,E.clone())},O.prototype.sqr=function(E){return this.mul(E,E)},O.prototype.sqrt=function(E){if(E.isZero())return E.clone();var R=this.m.andln(3);if(u(R%2==1),R===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(E,A)}for(var w=this.m.subn(1),_=0;!w.isZero()&&w.andln(1)===0;)_++,w.iushrn(1);u(!w.isZero());var x=new l(1).toRed(this),S=x.redNeg(),C=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new l(2*q*q).toRed(this);this.pow(q,C).cmp(S)!==0;)q.redIAdd(S);for(var P=this.pow(q,w),$=this.pow(E,w.addn(1).iushrn(1)),X=this.pow(E,w),Z=_;X.cmp(x)!==0;){for(var V=X,Q=0;V.cmp(x)!==0;Q++)V=V.redSqr();u(Q<Z);var F=this.pow(P,new l(1).iushln(Z-Q-1));$=$.redMul(F),P=F.redSqr(),X=X.redMul(P),Z=Q}return $},O.prototype.invm=function(E){var R=E._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},O.prototype.pow=function(E,R){if(R.isZero())return new l(1).toRed(this);if(R.cmpn(1)===0)return E.clone();var A=new Array(16);A[0]=new l(1).toRed(this),A[1]=E;for(var w=2;w<A.length;w++)A[w]=this.mul(A[w-1],E);var _=A[0],x=0,S=0,C=R.bitLength()%26;for(C===0&&(C=26),w=R.length-1;w>=0;w--){for(var q=R.words[w],P=C-1;P>=0;P--){var $=q>>P&1;_!==A[0]&&(_=this.sqr(_)),$!==0||x!==0?(x<<=1,x|=$,(++S===4||w===0&&P===0)&&(_=this.mul(_,A[x]),S=0,x=0)):S=0}C=26}return _},O.prototype.convertTo=function(E){var R=E.umod(this.m);return R===E?R.clone():R},O.prototype.convertFrom=function(E){var R=E.clone();return R.red=null,R},l.mont=function(E){return new I(E)},o(I,O),I.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},I.prototype.convertFrom=function(E){var R=this.imod(E.mul(this.rinv));return R.red=null,R},I.prototype.imul=function(E,R){if(E.isZero()||R.isZero())return E.words[0]=0,E.length=1,E;var A=E.imul(R),w=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=A.isub(w).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},I.prototype.mul=function(E,R){if(E.isZero()||R.isZero())return new l(0)._forceRed(this);var A=E.mul(R),w=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=A.isub(w).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},I.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(h){var g=d(h),v=g[0],p=g[1];return 3*(v+p)/4-p},s.toByteArray=function(h){var g,v,p=d(h),y=p[0],m=p[1],b=new u(function(B,j,T){return 3*(j+T)/4-T}(0,y,m)),k=0,N=m>0?y-4:y;for(v=0;v<N;v+=4)g=a[h.charCodeAt(v)]<<18|a[h.charCodeAt(v+1)]<<12|a[h.charCodeAt(v+2)]<<6|a[h.charCodeAt(v+3)],b[k++]=g>>16&255,b[k++]=g>>8&255,b[k++]=255&g;return m===2&&(g=a[h.charCodeAt(v)]<<2|a[h.charCodeAt(v+1)]>>4,b[k++]=255&g),m===1&&(g=a[h.charCodeAt(v)]<<10|a[h.charCodeAt(v+1)]<<4|a[h.charCodeAt(v+2)]>>2,b[k++]=g>>8&255,b[k++]=255&g),b},s.fromByteArray=function(h){for(var g,v=h.length,p=v%3,y=[],m=0,b=v-p;m<b;m+=16383)y.push(f(h,m,m+16383>b?b:m+16383));return p===1?(g=h[v-1],y.push(i[g>>2]+i[g<<4&63]+"==")):p===2&&(g=(h[v-2]<<8)+h[v-1],y.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),y.join("")};for(var i=[],a=[],u=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=o.length;l<c;++l)i[l]=o[l],a[o.charCodeAt(l)]=l;function d(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=h.indexOf("=");return v===-1&&(v=g),[v,v===g?0:4-v%4]}function f(h,g,v){for(var p,y,m=[],b=g;b<v;b+=3)p=(h[b]<<16&16711680)+(h[b+1]<<8&65280)+(255&h[b+2]),m.push(i[(y=p)>>18&63]+i[y>>12&63]+i[y>>6&63]+i[63&y]);return m.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,s){(function(i,a){function u(A,w){if(!A)throw new Error(w||"Assertion failed")}function o(A,w){A.super_=w;var _=function(){};_.prototype=w.prototype,A.prototype=new _,A.prototype.constructor=A}function l(A,w,_){if(l.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(w!=="le"&&w!=="be"||(_=w,w=10),this._init(A||0,w||10,_||"be"))}var c;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(A,w){var _=A.charCodeAt(w);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void u(!1,"Invalid character in "+A)}function f(A,w,_){var x=d(A,_);return _-1>=w&&(x|=d(A,_-1)<<4),x}function h(A,w,_,x){for(var S=0,C=0,q=Math.min(A.length,_),P=w;P<q;P++){var $=A.charCodeAt(P)-48;S*=x,C=$>=49?$-49+10:$>=17?$-17+10:$,u($>=0&&C<x,"Invalid character"),S+=C}return S}function g(A,w){A.words=w.words,A.length=w.length,A.negative=w.negative,A.red=w.red}if(l.isBN=function(A){return A instanceof l||A!==null&&typeof A=="object"&&A.constructor.wordSize===l.wordSize&&Array.isArray(A.words)},l.max=function(A,w){return A.cmp(w)>0?A:w},l.min=function(A,w){return A.cmp(w)<0?A:w},l.prototype._init=function(A,w,_){if(typeof A=="number")return this._initNumber(A,w,_);if(typeof A=="object")return this._initArray(A,w,_);w==="hex"&&(w=16),u(w===(0|w)&&w>=2&&w<=36);var x=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<A.length&&(w===16?this._parseHex(A,x,_):(this._parseBase(A,w,x),_==="le"&&this._initArray(this.toArray(),w,_)))},l.prototype._initNumber=function(A,w,_){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(u(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),w,_)},l.prototype._initArray=function(A,w,_){if(u(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,C,q=0;if(_==="be")for(x=A.length-1,S=0;x>=0;x-=3)C=A[x]|A[x-1]<<8|A[x-2]<<16,this.words[S]|=C<<q&67108863,this.words[S+1]=C>>>26-q&67108863,(q+=24)>=26&&(q-=26,S++);else if(_==="le")for(x=0,S=0;x<A.length;x+=3)C=A[x]|A[x+1]<<8|A[x+2]<<16,this.words[S]|=C<<q&67108863,this.words[S+1]=C>>>26-q&67108863,(q+=24)>=26&&(q-=26,S++);return this._strip()},l.prototype._parseHex=function(A,w,_){this.length=Math.ceil((A.length-w)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,C=0,q=0;if(_==="be")for(x=A.length-1;x>=w;x-=2)S=f(A,w,x)<<C,this.words[q]|=67108863&S,C>=18?(C-=18,q+=1,this.words[q]|=S>>>26):C+=8;else for(x=(A.length-w)%2==0?w+1:w;x<A.length;x+=2)S=f(A,w,x)<<C,this.words[q]|=67108863&S,C>=18?(C-=18,q+=1,this.words[q]|=S>>>26):C+=8;this._strip()},l.prototype._parseBase=function(A,w,_){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=w)x++;x--,S=S/w|0;for(var C=A.length-_,q=C%x,P=Math.min(C,C-q)+_,$=0,X=_;X<P;X+=x)$=h(A,X,X+x,w),this.imuln(S),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(q!==0){var Z=1;for($=h(A,X,A.length,w),X=0;X<q;X++)Z*=w;this.imuln(Z),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this._strip()},l.prototype.copy=function(A){A.words=new Array(this.length);for(var w=0;w<this.length;w++)A.words[w]=this.words[w];A.length=this.length,A.negative=this.negative,A.red=this.red},l.prototype._move=function(A){g(A,this)},l.prototype.clone=function(){var A=new l(null);return this.copy(A),A},l.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{l.prototype.inspect=v}else l.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(A,w){var _;if(w=0|w||1,(A=A||10)===16||A==="hex"){_="";for(var x=0,S=0,C=0;C<this.length;C++){var q=this.words[C],P=(16777215&(q<<x|S)).toString(16);S=q>>>24-x&16777215,(x+=2)>=26&&(x-=26,C--),_=S!==0||C!==this.length-1?p[6-P.length]+P+_:P+_}for(S!==0&&(_=S.toString(16)+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(A===(0|A)&&A>=2&&A<=36){var $=y[A],X=m[A];_="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var V=Z.modrn(X).toString(A);_=(Z=Z.idivn(X)).isZero()?V+_:p[$-V.length]+V+_}for(this.isZero()&&(_="0"+_);_.length%w!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}u(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},l.prototype.toJSON=function(){return this.toString(16,2)},c&&(l.prototype.toBuffer=function(A,w){return this.toArrayLike(c,A,w)}),l.prototype.toArray=function(A,w){return this.toArrayLike(Array,A,w)};function b(A,w,_){_.negative=w.negative^A.negative;var x=A.length+w.length|0;_.length=x,x=x-1|0;var S=0|A.words[0],C=0|w.words[0],q=S*C,P=67108863&q,$=q/67108864|0;_.words[0]=P;for(var X=1;X<x;X++){for(var Z=$>>>26,V=67108863&$,Q=Math.min(X,w.length-1),F=Math.max(0,X-A.length+1);F<=Q;F++){var D=X-F|0;Z+=(q=(S=0|A.words[D])*(C=0|w.words[F])+V)/67108864|0,V=67108863&q}_.words[X]=0|V,$=0|Z}return $!==0?_.words[X]=0|$:_.length--,_._strip()}l.prototype.toArrayLike=function(A,w,_){this._strip();var x=this.byteLength(),S=_||Math.max(1,x);u(x<=S,"byte array longer than desired length"),u(S>0,"Requested array length <= 0");var C=function(q,P){return q.allocUnsafe?q.allocUnsafe(P):new q(P)}(A,S);return this["_toArrayLike"+(w==="le"?"LE":"BE")](C,x),C},l.prototype._toArrayLikeLE=function(A,w){for(var _=0,x=0,S=0,C=0;S<this.length;S++){var q=this.words[S]<<C|x;A[_++]=255&q,_<A.length&&(A[_++]=q>>8&255),_<A.length&&(A[_++]=q>>16&255),C===6?(_<A.length&&(A[_++]=q>>24&255),x=0,C=0):(x=q>>>24,C+=2)}if(_<A.length)for(A[_++]=x;_<A.length;)A[_++]=0},l.prototype._toArrayLikeBE=function(A,w){for(var _=A.length-1,x=0,S=0,C=0;S<this.length;S++){var q=this.words[S]<<C|x;A[_--]=255&q,_>=0&&(A[_--]=q>>8&255),_>=0&&(A[_--]=q>>16&255),C===6?(_>=0&&(A[_--]=q>>24&255),x=0,C=0):(x=q>>>24,C+=2)}if(_>=0)for(A[_--]=x;_>=0;)A[_--]=0},Math.clz32?l.prototype._countBits=function(A){return 32-Math.clz32(A)}:l.prototype._countBits=function(A){var w=A,_=0;return w>=4096&&(_+=13,w>>>=13),w>=64&&(_+=7,w>>>=7),w>=8&&(_+=4,w>>>=4),w>=2&&(_+=2,w>>>=2),_+w},l.prototype._zeroBits=function(A){if(A===0)return 26;var w=A,_=0;return!(8191&w)&&(_+=13,w>>>=13),!(127&w)&&(_+=7,w>>>=7),!(15&w)&&(_+=4,w>>>=4),!(3&w)&&(_+=2,w>>>=2),!(1&w)&&_++,_},l.prototype.bitLength=function(){var A=this.words[this.length-1],w=this._countBits(A);return 26*(this.length-1)+w},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,w=0;w<this.length;w++){var _=this._zeroBits(this.words[w]);if(A+=_,_!==26)break}return A},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},l.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var w=0;w<A.length;w++)this.words[w]=this.words[w]|A.words[w];return this._strip()},l.prototype.ior=function(A){return u((this.negative|A.negative)==0),this.iuor(A)},l.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},l.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},l.prototype.iuand=function(A){var w;w=this.length>A.length?A:this;for(var _=0;_<w.length;_++)this.words[_]=this.words[_]&A.words[_];return this.length=w.length,this._strip()},l.prototype.iand=function(A){return u((this.negative|A.negative)==0),this.iuand(A)},l.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},l.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},l.prototype.iuxor=function(A){var w,_;this.length>A.length?(w=this,_=A):(w=A,_=this);for(var x=0;x<_.length;x++)this.words[x]=w.words[x]^_.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this._strip()},l.prototype.ixor=function(A){return u((this.negative|A.negative)==0),this.iuxor(A)},l.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},l.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},l.prototype.inotn=function(A){u(typeof A=="number"&&A>=0);var w=0|Math.ceil(A/26),_=A%26;this._expand(w),_>0&&w--;for(var x=0;x<w;x++)this.words[x]=67108863&~this.words[x];return _>0&&(this.words[x]=~this.words[x]&67108863>>26-_),this._strip()},l.prototype.notn=function(A){return this.clone().inotn(A)},l.prototype.setn=function(A,w){u(typeof A=="number"&&A>=0);var _=A/26|0,x=A%26;return this._expand(_+1),this.words[_]=w?this.words[_]|1<<x:this.words[_]&~(1<<x),this._strip()},l.prototype.iadd=function(A){var w,_,x;if(this.negative!==0&&A.negative===0)return this.negative=0,w=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,w=this.isub(A),A.negative=1,w._normSign();this.length>A.length?(_=this,x=A):(_=A,x=this);for(var S=0,C=0;C<x.length;C++)w=(0|_.words[C])+(0|x.words[C])+S,this.words[C]=67108863&w,S=w>>>26;for(;S!==0&&C<_.length;C++)w=(0|_.words[C])+S,this.words[C]=67108863&w,S=w>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;C<_.length;C++)this.words[C]=_.words[C];return this},l.prototype.add=function(A){var w;return A.negative!==0&&this.negative===0?(A.negative=0,w=this.sub(A),A.negative^=1,w):A.negative===0&&this.negative!==0?(this.negative=0,w=A.sub(this),this.negative=1,w):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},l.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var w=this.iadd(A);return A.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var _,x,S=this.cmp(A);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,x=A):(_=A,x=this);for(var C=0,q=0;q<x.length;q++)C=(w=(0|_.words[q])-(0|x.words[q])+C)>>26,this.words[q]=67108863&w;for(;C!==0&&q<_.length;q++)C=(w=(0|_.words[q])+C)>>26,this.words[q]=67108863&w;if(C===0&&q<_.length&&_!==this)for(;q<_.length;q++)this.words[q]=_.words[q];return this.length=Math.max(this.length,q),_!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(A){return this.clone().isub(A)};var k=function(A,w,_){var x,S,C,q=A.words,P=w.words,$=_.words,X=0,Z=0|q[0],V=8191&Z,Q=Z>>>13,F=0|q[1],D=8191&F,K=F>>>13,ee=0|q[2],ue=8191&ee,ie=ee>>>13,ae=0|q[3],ce=8191&ae,ne=ae>>>13,se=0|q[4],ye=8191&se,me=se>>>13,_e=0|q[5],xe=8191&_e,ke=_e>>>13,Ce=0|q[6],Oe=8191&Ce,Ue=Ce>>>13,ve=0|q[7],Be=8191&ve,$e=ve>>>13,He=0|q[8],Xe=8191&He,Te=He>>>13,ht=0|q[9],Ze=8191&ht,st=ht>>>13,it=0|P[0],yt=8191&it,vt=it>>>13,kt=0|P[1],or=8191&kt,wt=kt>>>13,Gt=0|P[2],Yt=8191&Gt,At=Gt>>>13,_t=0|P[3],Mt=8191&_t,Ot=_t>>>13,Wt=0|P[4],tr=8191&Wt,jt=Wt>>>13,ut=0|P[5],ur=8191&ut,Bt=ut>>>13,Ee=0|P[6],Ie=8191&Ee,We=Ee>>>13,at=0|P[7],Ut=8191&at,pt=at>>>13,Pt=0|P[8],It=8191&Pt,Et=Pt>>>13,zt=0|P[9],Ct=8191&zt,Xt=zt>>>13;_.negative=A.negative^w.negative,_.length=19;var Cr=(X+(x=Math.imul(V,yt))|0)+((8191&(S=(S=Math.imul(V,vt))+Math.imul(Q,yt)|0))<<13)|0;X=((C=Math.imul(Q,vt))+(S>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(D,yt),S=(S=Math.imul(D,vt))+Math.imul(K,yt)|0,C=Math.imul(K,vt);var Qe=(X+(x=x+Math.imul(V,or)|0)|0)+((8191&(S=(S=S+Math.imul(V,wt)|0)+Math.imul(Q,or)|0))<<13)|0;X=((C=C+Math.imul(Q,wt)|0)+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(ue,yt),S=(S=Math.imul(ue,vt))+Math.imul(ie,yt)|0,C=Math.imul(ie,vt),x=x+Math.imul(D,or)|0,S=(S=S+Math.imul(D,wt)|0)+Math.imul(K,or)|0,C=C+Math.imul(K,wt)|0;var bt=(X+(x=x+Math.imul(V,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(V,At)|0)+Math.imul(Q,Yt)|0))<<13)|0;X=((C=C+Math.imul(Q,At)|0)+(S>>>13)|0)+(bt>>>26)|0,bt&=67108863,x=Math.imul(ce,yt),S=(S=Math.imul(ce,vt))+Math.imul(ne,yt)|0,C=Math.imul(ne,vt),x=x+Math.imul(ue,or)|0,S=(S=S+Math.imul(ue,wt)|0)+Math.imul(ie,or)|0,C=C+Math.imul(ie,wt)|0,x=x+Math.imul(D,Yt)|0,S=(S=S+Math.imul(D,At)|0)+Math.imul(K,Yt)|0,C=C+Math.imul(K,At)|0;var Ht=(X+(x=x+Math.imul(V,Mt)|0)|0)+((8191&(S=(S=S+Math.imul(V,Ot)|0)+Math.imul(Q,Mt)|0))<<13)|0;X=((C=C+Math.imul(Q,Ot)|0)+(S>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,x=Math.imul(ye,yt),S=(S=Math.imul(ye,vt))+Math.imul(me,yt)|0,C=Math.imul(me,vt),x=x+Math.imul(ce,or)|0,S=(S=S+Math.imul(ce,wt)|0)+Math.imul(ne,or)|0,C=C+Math.imul(ne,wt)|0,x=x+Math.imul(ue,Yt)|0,S=(S=S+Math.imul(ue,At)|0)+Math.imul(ie,Yt)|0,C=C+Math.imul(ie,At)|0,x=x+Math.imul(D,Mt)|0,S=(S=S+Math.imul(D,Ot)|0)+Math.imul(K,Mt)|0,C=C+Math.imul(K,Ot)|0;var nr=(X+(x=x+Math.imul(V,tr)|0)|0)+((8191&(S=(S=S+Math.imul(V,jt)|0)+Math.imul(Q,tr)|0))<<13)|0;X=((C=C+Math.imul(Q,jt)|0)+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(xe,yt),S=(S=Math.imul(xe,vt))+Math.imul(ke,yt)|0,C=Math.imul(ke,vt),x=x+Math.imul(ye,or)|0,S=(S=S+Math.imul(ye,wt)|0)+Math.imul(me,or)|0,C=C+Math.imul(me,wt)|0,x=x+Math.imul(ce,Yt)|0,S=(S=S+Math.imul(ce,At)|0)+Math.imul(ne,Yt)|0,C=C+Math.imul(ne,At)|0,x=x+Math.imul(ue,Mt)|0,S=(S=S+Math.imul(ue,Ot)|0)+Math.imul(ie,Mt)|0,C=C+Math.imul(ie,Ot)|0,x=x+Math.imul(D,tr)|0,S=(S=S+Math.imul(D,jt)|0)+Math.imul(K,tr)|0,C=C+Math.imul(K,jt)|0;var be=(X+(x=x+Math.imul(V,ur)|0)|0)+((8191&(S=(S=S+Math.imul(V,Bt)|0)+Math.imul(Q,ur)|0))<<13)|0;X=((C=C+Math.imul(Q,Bt)|0)+(S>>>13)|0)+(be>>>26)|0,be&=67108863,x=Math.imul(Oe,yt),S=(S=Math.imul(Oe,vt))+Math.imul(Ue,yt)|0,C=Math.imul(Ue,vt),x=x+Math.imul(xe,or)|0,S=(S=S+Math.imul(xe,wt)|0)+Math.imul(ke,or)|0,C=C+Math.imul(ke,wt)|0,x=x+Math.imul(ye,Yt)|0,S=(S=S+Math.imul(ye,At)|0)+Math.imul(me,Yt)|0,C=C+Math.imul(me,At)|0,x=x+Math.imul(ce,Mt)|0,S=(S=S+Math.imul(ce,Ot)|0)+Math.imul(ne,Mt)|0,C=C+Math.imul(ne,Ot)|0,x=x+Math.imul(ue,tr)|0,S=(S=S+Math.imul(ue,jt)|0)+Math.imul(ie,tr)|0,C=C+Math.imul(ie,jt)|0,x=x+Math.imul(D,ur)|0,S=(S=S+Math.imul(D,Bt)|0)+Math.imul(K,ur)|0,C=C+Math.imul(K,Bt)|0;var Me=(X+(x=x+Math.imul(V,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(V,We)|0)+Math.imul(Q,Ie)|0))<<13)|0;X=((C=C+Math.imul(Q,We)|0)+(S>>>13)|0)+(Me>>>26)|0,Me&=67108863,x=Math.imul(Be,yt),S=(S=Math.imul(Be,vt))+Math.imul($e,yt)|0,C=Math.imul($e,vt),x=x+Math.imul(Oe,or)|0,S=(S=S+Math.imul(Oe,wt)|0)+Math.imul(Ue,or)|0,C=C+Math.imul(Ue,wt)|0,x=x+Math.imul(xe,Yt)|0,S=(S=S+Math.imul(xe,At)|0)+Math.imul(ke,Yt)|0,C=C+Math.imul(ke,At)|0,x=x+Math.imul(ye,Mt)|0,S=(S=S+Math.imul(ye,Ot)|0)+Math.imul(me,Mt)|0,C=C+Math.imul(me,Ot)|0,x=x+Math.imul(ce,tr)|0,S=(S=S+Math.imul(ce,jt)|0)+Math.imul(ne,tr)|0,C=C+Math.imul(ne,jt)|0,x=x+Math.imul(ue,ur)|0,S=(S=S+Math.imul(ue,Bt)|0)+Math.imul(ie,ur)|0,C=C+Math.imul(ie,Bt)|0,x=x+Math.imul(D,Ie)|0,S=(S=S+Math.imul(D,We)|0)+Math.imul(K,Ie)|0,C=C+Math.imul(K,We)|0;var Ke=(X+(x=x+Math.imul(V,Ut)|0)|0)+((8191&(S=(S=S+Math.imul(V,pt)|0)+Math.imul(Q,Ut)|0))<<13)|0;X=((C=C+Math.imul(Q,pt)|0)+(S>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,x=Math.imul(Xe,yt),S=(S=Math.imul(Xe,vt))+Math.imul(Te,yt)|0,C=Math.imul(Te,vt),x=x+Math.imul(Be,or)|0,S=(S=S+Math.imul(Be,wt)|0)+Math.imul($e,or)|0,C=C+Math.imul($e,wt)|0,x=x+Math.imul(Oe,Yt)|0,S=(S=S+Math.imul(Oe,At)|0)+Math.imul(Ue,Yt)|0,C=C+Math.imul(Ue,At)|0,x=x+Math.imul(xe,Mt)|0,S=(S=S+Math.imul(xe,Ot)|0)+Math.imul(ke,Mt)|0,C=C+Math.imul(ke,Ot)|0,x=x+Math.imul(ye,tr)|0,S=(S=S+Math.imul(ye,jt)|0)+Math.imul(me,tr)|0,C=C+Math.imul(me,jt)|0,x=x+Math.imul(ce,ur)|0,S=(S=S+Math.imul(ce,Bt)|0)+Math.imul(ne,ur)|0,C=C+Math.imul(ne,Bt)|0,x=x+Math.imul(ue,Ie)|0,S=(S=S+Math.imul(ue,We)|0)+Math.imul(ie,Ie)|0,C=C+Math.imul(ie,We)|0,x=x+Math.imul(D,Ut)|0,S=(S=S+Math.imul(D,pt)|0)+Math.imul(K,Ut)|0,C=C+Math.imul(K,pt)|0;var rt=(X+(x=x+Math.imul(V,It)|0)|0)+((8191&(S=(S=S+Math.imul(V,Et)|0)+Math.imul(Q,It)|0))<<13)|0;X=((C=C+Math.imul(Q,Et)|0)+(S>>>13)|0)+(rt>>>26)|0,rt&=67108863,x=Math.imul(Ze,yt),S=(S=Math.imul(Ze,vt))+Math.imul(st,yt)|0,C=Math.imul(st,vt),x=x+Math.imul(Xe,or)|0,S=(S=S+Math.imul(Xe,wt)|0)+Math.imul(Te,or)|0,C=C+Math.imul(Te,wt)|0,x=x+Math.imul(Be,Yt)|0,S=(S=S+Math.imul(Be,At)|0)+Math.imul($e,Yt)|0,C=C+Math.imul($e,At)|0,x=x+Math.imul(Oe,Mt)|0,S=(S=S+Math.imul(Oe,Ot)|0)+Math.imul(Ue,Mt)|0,C=C+Math.imul(Ue,Ot)|0,x=x+Math.imul(xe,tr)|0,S=(S=S+Math.imul(xe,jt)|0)+Math.imul(ke,tr)|0,C=C+Math.imul(ke,jt)|0,x=x+Math.imul(ye,ur)|0,S=(S=S+Math.imul(ye,Bt)|0)+Math.imul(me,ur)|0,C=C+Math.imul(me,Bt)|0,x=x+Math.imul(ce,Ie)|0,S=(S=S+Math.imul(ce,We)|0)+Math.imul(ne,Ie)|0,C=C+Math.imul(ne,We)|0,x=x+Math.imul(ue,Ut)|0,S=(S=S+Math.imul(ue,pt)|0)+Math.imul(ie,Ut)|0,C=C+Math.imul(ie,pt)|0,x=x+Math.imul(D,It)|0,S=(S=S+Math.imul(D,Et)|0)+Math.imul(K,It)|0,C=C+Math.imul(K,Et)|0;var Nt=(X+(x=x+Math.imul(V,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(V,Xt)|0)+Math.imul(Q,Ct)|0))<<13)|0;X=((C=C+Math.imul(Q,Xt)|0)+(S>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,x=Math.imul(Ze,or),S=(S=Math.imul(Ze,wt))+Math.imul(st,or)|0,C=Math.imul(st,wt),x=x+Math.imul(Xe,Yt)|0,S=(S=S+Math.imul(Xe,At)|0)+Math.imul(Te,Yt)|0,C=C+Math.imul(Te,At)|0,x=x+Math.imul(Be,Mt)|0,S=(S=S+Math.imul(Be,Ot)|0)+Math.imul($e,Mt)|0,C=C+Math.imul($e,Ot)|0,x=x+Math.imul(Oe,tr)|0,S=(S=S+Math.imul(Oe,jt)|0)+Math.imul(Ue,tr)|0,C=C+Math.imul(Ue,jt)|0,x=x+Math.imul(xe,ur)|0,S=(S=S+Math.imul(xe,Bt)|0)+Math.imul(ke,ur)|0,C=C+Math.imul(ke,Bt)|0,x=x+Math.imul(ye,Ie)|0,S=(S=S+Math.imul(ye,We)|0)+Math.imul(me,Ie)|0,C=C+Math.imul(me,We)|0,x=x+Math.imul(ce,Ut)|0,S=(S=S+Math.imul(ce,pt)|0)+Math.imul(ne,Ut)|0,C=C+Math.imul(ne,pt)|0,x=x+Math.imul(ue,It)|0,S=(S=S+Math.imul(ue,Et)|0)+Math.imul(ie,It)|0,C=C+Math.imul(ie,Et)|0;var ft=(X+(x=x+Math.imul(D,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(D,Xt)|0)+Math.imul(K,Ct)|0))<<13)|0;X=((C=C+Math.imul(K,Xt)|0)+(S>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(Ze,Yt),S=(S=Math.imul(Ze,At))+Math.imul(st,Yt)|0,C=Math.imul(st,At),x=x+Math.imul(Xe,Mt)|0,S=(S=S+Math.imul(Xe,Ot)|0)+Math.imul(Te,Mt)|0,C=C+Math.imul(Te,Ot)|0,x=x+Math.imul(Be,tr)|0,S=(S=S+Math.imul(Be,jt)|0)+Math.imul($e,tr)|0,C=C+Math.imul($e,jt)|0,x=x+Math.imul(Oe,ur)|0,S=(S=S+Math.imul(Oe,Bt)|0)+Math.imul(Ue,ur)|0,C=C+Math.imul(Ue,Bt)|0,x=x+Math.imul(xe,Ie)|0,S=(S=S+Math.imul(xe,We)|0)+Math.imul(ke,Ie)|0,C=C+Math.imul(ke,We)|0,x=x+Math.imul(ye,Ut)|0,S=(S=S+Math.imul(ye,pt)|0)+Math.imul(me,Ut)|0,C=C+Math.imul(me,pt)|0,x=x+Math.imul(ce,It)|0,S=(S=S+Math.imul(ce,Et)|0)+Math.imul(ne,It)|0,C=C+Math.imul(ne,Et)|0;var mt=(X+(x=x+Math.imul(ue,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(ue,Xt)|0)+Math.imul(ie,Ct)|0))<<13)|0;X=((C=C+Math.imul(ie,Xt)|0)+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Ze,Mt),S=(S=Math.imul(Ze,Ot))+Math.imul(st,Mt)|0,C=Math.imul(st,Ot),x=x+Math.imul(Xe,tr)|0,S=(S=S+Math.imul(Xe,jt)|0)+Math.imul(Te,tr)|0,C=C+Math.imul(Te,jt)|0,x=x+Math.imul(Be,ur)|0,S=(S=S+Math.imul(Be,Bt)|0)+Math.imul($e,ur)|0,C=C+Math.imul($e,Bt)|0,x=x+Math.imul(Oe,Ie)|0,S=(S=S+Math.imul(Oe,We)|0)+Math.imul(Ue,Ie)|0,C=C+Math.imul(Ue,We)|0,x=x+Math.imul(xe,Ut)|0,S=(S=S+Math.imul(xe,pt)|0)+Math.imul(ke,Ut)|0,C=C+Math.imul(ke,pt)|0,x=x+Math.imul(ye,It)|0,S=(S=S+Math.imul(ye,Et)|0)+Math.imul(me,It)|0,C=C+Math.imul(me,Et)|0;var vr=(X+(x=x+Math.imul(ce,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(ce,Xt)|0)+Math.imul(ne,Ct)|0))<<13)|0;X=((C=C+Math.imul(ne,Xt)|0)+(S>>>13)|0)+(vr>>>26)|0,vr&=67108863,x=Math.imul(Ze,tr),S=(S=Math.imul(Ze,jt))+Math.imul(st,tr)|0,C=Math.imul(st,jt),x=x+Math.imul(Xe,ur)|0,S=(S=S+Math.imul(Xe,Bt)|0)+Math.imul(Te,ur)|0,C=C+Math.imul(Te,Bt)|0,x=x+Math.imul(Be,Ie)|0,S=(S=S+Math.imul(Be,We)|0)+Math.imul($e,Ie)|0,C=C+Math.imul($e,We)|0,x=x+Math.imul(Oe,Ut)|0,S=(S=S+Math.imul(Oe,pt)|0)+Math.imul(Ue,Ut)|0,C=C+Math.imul(Ue,pt)|0,x=x+Math.imul(xe,It)|0,S=(S=S+Math.imul(xe,Et)|0)+Math.imul(ke,It)|0,C=C+Math.imul(ke,Et)|0;var rr=(X+(x=x+Math.imul(ye,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(ye,Xt)|0)+Math.imul(me,Ct)|0))<<13)|0;X=((C=C+Math.imul(me,Xt)|0)+(S>>>13)|0)+(rr>>>26)|0,rr&=67108863,x=Math.imul(Ze,ur),S=(S=Math.imul(Ze,Bt))+Math.imul(st,ur)|0,C=Math.imul(st,Bt),x=x+Math.imul(Xe,Ie)|0,S=(S=S+Math.imul(Xe,We)|0)+Math.imul(Te,Ie)|0,C=C+Math.imul(Te,We)|0,x=x+Math.imul(Be,Ut)|0,S=(S=S+Math.imul(Be,pt)|0)+Math.imul($e,Ut)|0,C=C+Math.imul($e,pt)|0,x=x+Math.imul(Oe,It)|0,S=(S=S+Math.imul(Oe,Et)|0)+Math.imul(Ue,It)|0,C=C+Math.imul(Ue,Et)|0;var lr=(X+(x=x+Math.imul(xe,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(xe,Xt)|0)+Math.imul(ke,Ct)|0))<<13)|0;X=((C=C+Math.imul(ke,Xt)|0)+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,x=Math.imul(Ze,Ie),S=(S=Math.imul(Ze,We))+Math.imul(st,Ie)|0,C=Math.imul(st,We),x=x+Math.imul(Xe,Ut)|0,S=(S=S+Math.imul(Xe,pt)|0)+Math.imul(Te,Ut)|0,C=C+Math.imul(Te,pt)|0,x=x+Math.imul(Be,It)|0,S=(S=S+Math.imul(Be,Et)|0)+Math.imul($e,It)|0,C=C+Math.imul($e,Et)|0;var Vt=(X+(x=x+Math.imul(Oe,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(Oe,Xt)|0)+Math.imul(Ue,Ct)|0))<<13)|0;X=((C=C+Math.imul(Ue,Xt)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,x=Math.imul(Ze,Ut),S=(S=Math.imul(Ze,pt))+Math.imul(st,Ut)|0,C=Math.imul(st,pt),x=x+Math.imul(Xe,It)|0,S=(S=S+Math.imul(Xe,Et)|0)+Math.imul(Te,It)|0,C=C+Math.imul(Te,Et)|0;var _r=(X+(x=x+Math.imul(Be,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(Be,Xt)|0)+Math.imul($e,Ct)|0))<<13)|0;X=((C=C+Math.imul($e,Xt)|0)+(S>>>13)|0)+(_r>>>26)|0,_r&=67108863,x=Math.imul(Ze,It),S=(S=Math.imul(Ze,Et))+Math.imul(st,It)|0,C=Math.imul(st,Et);var Kt=(X+(x=x+Math.imul(Xe,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(Xe,Xt)|0)+Math.imul(Te,Ct)|0))<<13)|0;X=((C=C+Math.imul(Te,Xt)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863;var xr=(X+(x=Math.imul(Ze,Ct))|0)+((8191&(S=(S=Math.imul(Ze,Xt))+Math.imul(st,Ct)|0))<<13)|0;return X=((C=Math.imul(st,Xt))+(S>>>13)|0)+(xr>>>26)|0,xr&=67108863,$[0]=Cr,$[1]=Qe,$[2]=bt,$[3]=Ht,$[4]=nr,$[5]=be,$[6]=Me,$[7]=Ke,$[8]=rt,$[9]=Nt,$[10]=ft,$[11]=mt,$[12]=vr,$[13]=rr,$[14]=lr,$[15]=Vt,$[16]=_r,$[17]=Kt,$[18]=xr,X!==0&&($[19]=X,_.length++),_};function N(A,w,_){_.negative=w.negative^A.negative,_.length=A.length+w.length;for(var x=0,S=0,C=0;C<_.length-1;C++){var q=S;S=0;for(var P=67108863&x,$=Math.min(C,w.length-1),X=Math.max(0,C-A.length+1);X<=$;X++){var Z=C-X,V=(0|A.words[Z])*(0|w.words[X]),Q=67108863&V;P=67108863&(Q=Q+P|0),S+=(q=(q=q+(V/67108864|0)|0)+(Q>>>26)|0)>>>26,q&=67108863}_.words[C]=P,x=q,q=S}return x!==0?_.words[C]=x:_.length--,_._strip()}function B(A,w,_){return N(A,w,_)}Math.imul||(k=b),l.prototype.mulTo=function(A,w){var _=this.length+A.length;return this.length===10&&A.length===10?k(this,A,w):_<63?b(this,A,w):_<1024?N(this,A,w):B(this,A,w)},l.prototype.mul=function(A){var w=new l(null);return w.words=new Array(this.length+A.length),this.mulTo(A,w)},l.prototype.mulf=function(A){var w=new l(null);return w.words=new Array(this.length+A.length),B(this,A,w)},l.prototype.imul=function(A){return this.clone().mulTo(A,this)},l.prototype.imuln=function(A){var w=A<0;w&&(A=-A),u(typeof A=="number"),u(A<67108864);for(var _=0,x=0;x<this.length;x++){var S=(0|this.words[x])*A,C=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=C>>>26,this.words[x]=67108863&C}return _!==0&&(this.words[x]=_,this.length++),w?this.ineg():this},l.prototype.muln=function(A){return this.clone().imuln(A)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(A){var w=function(C){for(var q=new Array(C.bitLength()),P=0;P<q.length;P++){var $=P/26|0,X=P%26;q[P]=C.words[$]>>>X&1}return q}(A);if(w.length===0)return new l(1);for(var _=this,x=0;x<w.length&&w[x]===0;x++,_=_.sqr());if(++x<w.length)for(var S=_.sqr();x<w.length;x++,S=S.sqr())w[x]!==0&&(_=_.mul(S));return _},l.prototype.iushln=function(A){u(typeof A=="number"&&A>=0);var w,_=A%26,x=(A-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var C=0;for(w=0;w<this.length;w++){var q=this.words[w]&S,P=(0|this.words[w])-q<<_;this.words[w]=P|C,C=q>>>26-_}C&&(this.words[w]=C,this.length++)}if(x!==0){for(w=this.length-1;w>=0;w--)this.words[w+x]=this.words[w];for(w=0;w<x;w++)this.words[w]=0;this.length+=x}return this._strip()},l.prototype.ishln=function(A){return u(this.negative===0),this.iushln(A)},l.prototype.iushrn=function(A,w,_){var x;u(typeof A=="number"&&A>=0),x=w?(w-w%26)/26:0;var S=A%26,C=Math.min((A-S)/26,this.length),q=67108863^67108863>>>S<<S,P=_;if(x-=C,x=Math.max(0,x),P){for(var $=0;$<C;$++)P.words[$]=this.words[$];P.length=C}if(C!==0)if(this.length>C)for(this.length-=C,$=0;$<this.length;$++)this.words[$]=this.words[$+C];else this.words[0]=0,this.length=1;var X=0;for($=this.length-1;$>=0&&(X!==0||$>=x);$--){var Z=0|this.words[$];this.words[$]=X<<26-S|Z>>>S,X=Z&q}return P&&X!==0&&(P.words[P.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(A,w,_){return u(this.negative===0),this.iushrn(A,w,_)},l.prototype.shln=function(A){return this.clone().ishln(A)},l.prototype.ushln=function(A){return this.clone().iushln(A)},l.prototype.shrn=function(A){return this.clone().ishrn(A)},l.prototype.ushrn=function(A){return this.clone().iushrn(A)},l.prototype.testn=function(A){u(typeof A=="number"&&A>=0);var w=A%26,_=(A-w)/26,x=1<<w;return!(this.length<=_)&&!!(this.words[_]&x)},l.prototype.imaskn=function(A){u(typeof A=="number"&&A>=0);var w=A%26,_=(A-w)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(w!==0&&_++,this.length=Math.min(_,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this._strip()},l.prototype.maskn=function(A){return this.clone().imaskn(A)},l.prototype.iaddn=function(A){return u(typeof A=="number"),u(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},l.prototype._iaddn=function(A){this.words[0]+=A;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},l.prototype.isubn=function(A){if(u(typeof A=="number"),u(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},l.prototype.addn=function(A){return this.clone().iaddn(A)},l.prototype.subn=function(A){return this.clone().isubn(A)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(A,w,_){var x,S,C=A.length+_;this._expand(C);var q=0;for(x=0;x<A.length;x++){S=(0|this.words[x+_])+q;var P=(0|A.words[x])*w;q=((S-=67108863&P)>>26)-(P/67108864|0),this.words[x+_]=67108863&S}for(;x<this.length-_;x++)q=(S=(0|this.words[x+_])+q)>>26,this.words[x+_]=67108863&S;if(q===0)return this._strip();for(u(q===-1),q=0,x=0;x<this.length;x++)q=(S=-(0|this.words[x])+q)>>26,this.words[x]=67108863&S;return this.negative=1,this._strip()},l.prototype._wordDiv=function(A,w){var _=(this.length,A.length),x=this.clone(),S=A,C=0|S.words[S.length-1];(_=26-this._countBits(C))!==0&&(S=S.ushln(_),x.iushln(_),C=0|S.words[S.length-1]);var q,P=x.length-S.length;if(w!=="mod"){(q=new l(null)).length=P+1,q.words=new Array(q.length);for(var $=0;$<q.length;$++)q.words[$]=0}var X=x.clone()._ishlnsubmul(S,1,P);X.negative===0&&(x=X,q&&(q.words[P]=1));for(var Z=P-1;Z>=0;Z--){var V=67108864*(0|x.words[S.length+Z])+(0|x.words[S.length+Z-1]);for(V=Math.min(V/C|0,67108863),x._ishlnsubmul(S,V,Z);x.negative!==0;)V--,x.negative=0,x._ishlnsubmul(S,1,Z),x.isZero()||(x.negative^=1);q&&(q.words[Z]=V)}return q&&q._strip(),x._strip(),w!=="div"&&_!==0&&x.iushrn(_),{div:q||null,mod:x}},l.prototype.divmod=function(A,w,_){return u(!A.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&A.negative===0?(C=this.neg().divmod(A,w),w!=="mod"&&(x=C.div.neg()),w!=="div"&&(S=C.mod.neg(),_&&S.negative!==0&&S.iadd(A)),{div:x,mod:S}):this.negative===0&&A.negative!==0?(C=this.divmod(A.neg(),w),w!=="mod"&&(x=C.div.neg()),{div:x,mod:C.mod}):this.negative&A.negative?(C=this.neg().divmod(A.neg(),w),w!=="div"&&(S=C.mod.neg(),_&&S.negative!==0&&S.isub(A)),{div:C.div,mod:S}):A.length>this.length||this.cmp(A)<0?{div:new l(0),mod:this}:A.length===1?w==="div"?{div:this.divn(A.words[0]),mod:null}:w==="mod"?{div:null,mod:new l(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new l(this.modrn(A.words[0]))}:this._wordDiv(A,w);var x,S,C},l.prototype.div=function(A){return this.divmod(A,"div",!1).div},l.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},l.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},l.prototype.divRound=function(A){var w=this.divmod(A);if(w.mod.isZero())return w.div;var _=w.div.negative!==0?w.mod.isub(A):w.mod,x=A.ushrn(1),S=A.andln(1),C=_.cmp(x);return C<0||S===1&&C===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},l.prototype.modrn=function(A){var w=A<0;w&&(A=-A),u(A<=67108863);for(var _=(1<<26)%A,x=0,S=this.length-1;S>=0;S--)x=(_*x+(0|this.words[S]))%A;return w?-x:x},l.prototype.modn=function(A){return this.modrn(A)},l.prototype.idivn=function(A){var w=A<0;w&&(A=-A),u(A<=67108863);for(var _=0,x=this.length-1;x>=0;x--){var S=(0|this.words[x])+67108864*_;this.words[x]=S/A|0,_=S%A}return this._strip(),w?this.ineg():this},l.prototype.divn=function(A){return this.clone().idivn(A)},l.prototype.egcd=function(A){u(A.negative===0),u(!A.isZero());var w=this,_=A.clone();w=w.negative!==0?w.umod(A):w.clone();for(var x=new l(1),S=new l(0),C=new l(0),q=new l(1),P=0;w.isEven()&&_.isEven();)w.iushrn(1),_.iushrn(1),++P;for(var $=_.clone(),X=w.clone();!w.isZero();){for(var Z=0,V=1;!(w.words[0]&V)&&Z<26;++Z,V<<=1);if(Z>0)for(w.iushrn(Z);Z-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd($),S.isub(X)),x.iushrn(1),S.iushrn(1);for(var Q=0,F=1;!(_.words[0]&F)&&Q<26;++Q,F<<=1);if(Q>0)for(_.iushrn(Q);Q-- >0;)(C.isOdd()||q.isOdd())&&(C.iadd($),q.isub(X)),C.iushrn(1),q.iushrn(1);w.cmp(_)>=0?(w.isub(_),x.isub(C),S.isub(q)):(_.isub(w),C.isub(x),q.isub(S))}return{a:C,b:q,gcd:_.iushln(P)}},l.prototype._invmp=function(A){u(A.negative===0),u(!A.isZero());var w=this,_=A.clone();w=w.negative!==0?w.umod(A):w.clone();for(var x,S=new l(1),C=new l(0),q=_.clone();w.cmpn(1)>0&&_.cmpn(1)>0;){for(var P=0,$=1;!(w.words[0]&$)&&P<26;++P,$<<=1);if(P>0)for(w.iushrn(P);P-- >0;)S.isOdd()&&S.iadd(q),S.iushrn(1);for(var X=0,Z=1;!(_.words[0]&Z)&&X<26;++X,Z<<=1);if(X>0)for(_.iushrn(X);X-- >0;)C.isOdd()&&C.iadd(q),C.iushrn(1);w.cmp(_)>=0?(w.isub(_),S.isub(C)):(_.isub(w),C.isub(S))}return(x=w.cmpn(1)===0?S:C).cmpn(0)<0&&x.iadd(A),x},l.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var w=this.clone(),_=A.clone();w.negative=0,_.negative=0;for(var x=0;w.isEven()&&_.isEven();x++)w.iushrn(1),_.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=w.cmp(_);if(S<0){var C=w;w=_,_=C}else if(S===0||_.cmpn(1)===0)break;w.isub(_)}return _.iushln(x)},l.prototype.invm=function(A){return this.egcd(A).a.umod(A)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(A){return this.words[0]&A},l.prototype.bincn=function(A){u(typeof A=="number");var w=A%26,_=(A-w)/26,x=1<<w;if(this.length<=_)return this._expand(_+1),this.words[_]|=x,this;for(var S=x,C=_;S!==0&&C<this.length;C++){var q=0|this.words[C];S=(q+=S)>>>26,q&=67108863,this.words[C]=q}return S!==0&&(this.words[C]=S,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(A){var w,_=A<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)w=1;else{_&&(A=-A),u(A<=67108863,"Number is too big");var x=0|this.words[0];w=x===A?0:x<A?-1:1}return this.negative!==0?0|-w:w},l.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var w=this.ucmp(A);return this.negative!==0?0|-w:w},l.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var w=0,_=this.length-1;_>=0;_--){var x=0|this.words[_],S=0|A.words[_];if(x!==S){x<S?w=-1:x>S&&(w=1);break}}return w},l.prototype.gtn=function(A){return this.cmpn(A)===1},l.prototype.gt=function(A){return this.cmp(A)===1},l.prototype.gten=function(A){return this.cmpn(A)>=0},l.prototype.gte=function(A){return this.cmp(A)>=0},l.prototype.ltn=function(A){return this.cmpn(A)===-1},l.prototype.lt=function(A){return this.cmp(A)===-1},l.prototype.lten=function(A){return this.cmpn(A)<=0},l.prototype.lte=function(A){return this.cmp(A)<=0},l.prototype.eqn=function(A){return this.cmpn(A)===0},l.prototype.eq=function(A){return this.cmp(A)===0},l.red=function(A){return new E(A)},l.prototype.toRed=function(A){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},l.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(A){return this.red=A,this},l.prototype.forceRed=function(A){return u(!this.red,"Already a number in reduction context"),this._forceRed(A)},l.prototype.redAdd=function(A){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},l.prototype.redIAdd=function(A){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},l.prototype.redSub=function(A){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},l.prototype.redISub=function(A){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},l.prototype.redShl=function(A){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},l.prototype.redMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},l.prototype.redIMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},l.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(A){return u(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var j={k256:null,p224:null,p192:null,p25519:null};function T(A,w){this.name=A,this.p=new l(w,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(A){if(typeof A=="string"){var w=l._prime(A);this.m=w.p,this.prime=w}else u(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function R(A){E.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var A=new l(null);return A.words=new Array(Math.ceil(this.n/13)),A},T.prototype.ireduce=function(A){var w,_=A;do this.split(_,this.tmp),w=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(w>this.n);var x=w<this.n?-1:_.ucmp(this.p);return x===0?(_.words[0]=0,_.length=1):x>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},T.prototype.split=function(A,w){A.iushrn(this.n,0,w)},T.prototype.imulK=function(A){return A.imul(this.k)},o(M,T),M.prototype.split=function(A,w){for(var _=Math.min(A.length,9),x=0;x<_;x++)w.words[x]=A.words[x];if(w.length=_,A.length<=9)return A.words[0]=0,void(A.length=1);var S=A.words[9];for(w.words[w.length++]=4194303&S,x=10;x<A.length;x++){var C=0|A.words[x];A.words[x-10]=(4194303&C)<<4|S>>>22,S=C}S>>>=22,A.words[x-10]=S,S===0&&A.length>10?A.length-=10:A.length-=9},M.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var w=0,_=0;_<A.length;_++){var x=0|A.words[_];w+=977*x,A.words[_]=67108863&w,w=64*x+(w/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},o(U,T),o(O,T),o(I,T),I.prototype.imulK=function(A){for(var w=0,_=0;_<A.length;_++){var x=19*(0|A.words[_])+w,S=67108863&x;x>>>=26,A.words[_]=S,w=x}return w!==0&&(A.words[A.length++]=w),A},l._prime=function(A){if(j[A])return j[A];var w;if(A==="k256")w=new M;else if(A==="p224")w=new U;else if(A==="p192")w=new O;else{if(A!=="p25519")throw new Error("Unknown prime "+A);w=new I}return j[A]=w,w},E.prototype._verify1=function(A){u(A.negative===0,"red works only with positives"),u(A.red,"red works only with red numbers")},E.prototype._verify2=function(A,w){u((A.negative|w.negative)==0,"red works only with positives"),u(A.red&&A.red===w.red,"red works only with red numbers")},E.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(g(A,A.umod(this.m)._forceRed(this)),A)},E.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},E.prototype.add=function(A,w){this._verify2(A,w);var _=A.add(w);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},E.prototype.iadd=function(A,w){this._verify2(A,w);var _=A.iadd(w);return _.cmp(this.m)>=0&&_.isub(this.m),_},E.prototype.sub=function(A,w){this._verify2(A,w);var _=A.sub(w);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},E.prototype.isub=function(A,w){this._verify2(A,w);var _=A.isub(w);return _.cmpn(0)<0&&_.iadd(this.m),_},E.prototype.shl=function(A,w){return this._verify1(A),this.imod(A.ushln(w))},E.prototype.imul=function(A,w){return this._verify2(A,w),this.imod(A.imul(w))},E.prototype.mul=function(A,w){return this._verify2(A,w),this.imod(A.mul(w))},E.prototype.isqr=function(A){return this.imul(A,A.clone())},E.prototype.sqr=function(A){return this.mul(A,A)},E.prototype.sqrt=function(A){if(A.isZero())return A.clone();var w=this.m.andln(3);if(u(w%2==1),w===3){var _=this.m.add(new l(1)).iushrn(2);return this.pow(A,_)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);u(!x.isZero());var C=new l(1).toRed(this),q=C.redNeg(),P=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new l(2*$*$).toRed(this);this.pow($,P).cmp(q)!==0;)$.redIAdd(q);for(var X=this.pow($,x),Z=this.pow(A,x.addn(1).iushrn(1)),V=this.pow(A,x),Q=S;V.cmp(C)!==0;){for(var F=V,D=0;F.cmp(C)!==0;D++)F=F.redSqr();u(D<Q);var K=this.pow(X,new l(1).iushln(Q-D-1));Z=Z.redMul(K),X=K.redSqr(),V=V.redMul(X),Q=D}return Z},E.prototype.invm=function(A){var w=A._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},E.prototype.pow=function(A,w){if(w.isZero())return new l(1).toRed(this);if(w.cmpn(1)===0)return A.clone();var _=new Array(16);_[0]=new l(1).toRed(this),_[1]=A;for(var x=2;x<_.length;x++)_[x]=this.mul(_[x-1],A);var S=_[0],C=0,q=0,P=w.bitLength()%26;for(P===0&&(P=26),x=w.length-1;x>=0;x--){for(var $=w.words[x],X=P-1;X>=0;X--){var Z=$>>X&1;S!==_[0]&&(S=this.sqr(S)),Z!==0||C!==0?(C<<=1,C|=Z,(++q===4||x===0&&X===0)&&(S=this.mul(S,_[C]),q=0,C=0)):q=0}P=26}return S},E.prototype.convertTo=function(A){var w=A.umod(this.m);return w===A?w.clone():w},E.prototype.convertFrom=function(A){var w=A.clone();return w.red=null,w},l.mont=function(A){return new R(A)},o(R,E),R.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},R.prototype.convertFrom=function(A){var w=this.imod(A.mul(this.rinv));return w.red=null,w},R.prototype.imul=function(A,w){if(A.isZero()||w.isZero())return A.words[0]=0,A.length=1,A;var _=A.imul(w),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(x).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},R.prototype.mul=function(A,w){if(A.isZero()||w.isZero())return new l(0)._forceRed(this);var _=A.mul(w),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(x).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},R.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var i;function a(o){this.rand=o}if(n.exports=function(o){return i||(i=new a(null)),i.generate(o)},n.exports.Rand=a,a.prototype.generate=function(o){return this._rand(o)},a.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var l=new Uint8Array(o),c=0;c<l.length;c++)l[c]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(o){var l=new Uint8Array(o);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(o){var l=new Uint8Array(o);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=e("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(o){return u.randomBytes(o)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(f){i.isBuffer(f)||(f=i.from(f));for(var h=f.length/4|0,g=new Array(h),v=0;v<h;v++)g[v]=f.readUInt32BE(4*v);return g}function u(f){for(;0<f.length;f++)f[0]=0}function o(f,h,g,v,p){for(var y,m,b,k,N=g[0],B=g[1],j=g[2],T=g[3],M=f[0]^h[0],U=f[1]^h[1],O=f[2]^h[2],I=f[3]^h[3],E=4,R=1;R<p;R++)y=N[M>>>24]^B[U>>>16&255]^j[O>>>8&255]^T[255&I]^h[E++],m=N[U>>>24]^B[O>>>16&255]^j[I>>>8&255]^T[255&M]^h[E++],b=N[O>>>24]^B[I>>>16&255]^j[M>>>8&255]^T[255&U]^h[E++],k=N[I>>>24]^B[M>>>16&255]^j[U>>>8&255]^T[255&O]^h[E++],M=y,U=m,O=b,I=k;return y=(v[M>>>24]<<24|v[U>>>16&255]<<16|v[O>>>8&255]<<8|v[255&I])^h[E++],m=(v[U>>>24]<<24|v[O>>>16&255]<<16|v[I>>>8&255]<<8|v[255&M])^h[E++],b=(v[O>>>24]<<24|v[I>>>16&255]<<16|v[M>>>8&255]<<8|v[255&U])^h[E++],k=(v[I>>>24]<<24|v[M>>>16&255]<<16|v[U>>>8&255]<<8|v[255&O])^h[E++],[y>>>=0,m>>>=0,b>>>=0,k>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var g=[],v=[],p=[[],[],[],[]],y=[[],[],[],[]],m=0,b=0,k=0;k<256;++k){var N=b^b<<1^b<<2^b<<3^b<<4;N=N>>>8^255&N^99,g[m]=N,v[N]=m;var B=f[m],j=f[B],T=f[j],M=257*f[N]^16843008*N;p[0][m]=M<<24|M>>>8,p[1][m]=M<<16|M>>>16,p[2][m]=M<<8|M>>>24,p[3][m]=M,M=16843009*T^65537*j^257*B^16843008*m,y[0][N]=M<<24|M>>>8,y[1][N]=M<<16|M>>>16,y[2][N]=M<<8|M>>>24,y[3][N]=M,m===0?m=b=1:(m=B^f[f[f[T^B]]],b^=f[f[b]])}return{SBOX:g,INV_SBOX:v,SUB_MIX:p,INV_SUB_MIX:y}}();function d(f){this._key=a(f),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var f=this._key,h=f.length,g=h+6,v=4*(g+1),p=[],y=0;y<h;y++)p[y]=f[y];for(y=h;y<v;y++){var m=p[y-1];y%h==0?(m=m<<8|m>>>24,m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m],m^=l[y/h|0]<<24):h>6&&y%h==4&&(m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m]),p[y]=p[y-h]^m}for(var b=[],k=0;k<v;k++){var N=v-k,B=p[N-(k%4?0:4)];b[k]=k<4||N<=4?B:c.INV_SUB_MIX[0][c.SBOX[B>>>24]]^c.INV_SUB_MIX[1][c.SBOX[B>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[B>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&B]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=b},d.prototype.encryptBlockRaw=function(f){return o(f=a(f),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},d.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),g=i.allocUnsafe(16);return g.writeUInt32BE(h[0],0),g.writeUInt32BE(h[1],4),g.writeUInt32BE(h[2],8),g.writeUInt32BE(h[3],12),g},d.prototype.decryptBlock=function(f){var h=(f=a(f))[1];f[1]=f[3],f[3]=h;var g=o(f,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),v=i.allocUnsafe(16);return v.writeUInt32BE(g[0],0),v.writeUInt32BE(g[3],4),v.writeUInt32BE(g[2],8),v.writeUInt32BE(g[1],12),v},d.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,u=e("cipher-base"),o=e("inherits"),l=e("./ghash"),c=e("buffer-xor"),d=e("./incr32");function f(h,g,v,p){u.call(this);var y=a.alloc(4,0);this._cipher=new i.AES(g);var m=this._cipher.encryptBlock(y);this._ghash=new l(m),v=function(b,k,N){if(k.length===12)return b._finID=a.concat([k,a.from([0,0,0,1])]),a.concat([k,a.from([0,0,0,2])]);var B=new l(N),j=k.length,T=j%16;B.update(k),T&&(T=16-T,B.update(a.alloc(T,0))),B.update(a.alloc(8,0));var M=8*j,U=a.alloc(8);U.writeUIntBE(M,0,8),B.update(U),b._finID=B.state;var O=a.from(b._finID);return d(O),O}(this,v,m),this._prev=a.from(v),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}o(f,u),f.prototype._update=function(h){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=a.alloc(g,0),this._ghash.update(g))}this._called=!0;var v=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(v),this._len+=h.length,v},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,v){var p=0;g.length!==v.length&&p++;for(var y=Math.min(g.length,v.length),m=0;m<y;++m)p+=g[m]^v[m];return p}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var i=e("./encrypter"),a=e("./decrypter"),u=e("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var i=e("./authCipher"),a=e("safe-buffer").Buffer,u=e("./modes"),o=e("./streamCipher"),l=e("cipher-base"),c=e("./aes"),d=e("evp_bytestokey");function f(v,p,y){l.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(p),this._prev=a.from(y),this._mode=v,this._autopadding=!0}function h(){this.cache=a.allocUnsafe(0)}function g(v,p,y){var m=u[v.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),m.mode!=="GCM"&&y.length!==m.iv)throw new TypeError("invalid iv length "+y.length);if(typeof p=="string"&&(p=a.from(p)),p.length!==m.key/8)throw new TypeError("invalid key length "+p.length);return m.type==="stream"?new o(m.module,p,y,!0):m.type==="auth"?new i(m.module,p,y,!0):new f(m.module,p,y)}e("inherits")(f,l),f.prototype._update=function(v){var p,y;this._cache.add(v);for(var m=[];p=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,p),m.push(y);return a.concat(m)},f.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return function(p){var y=p[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var m=-1;++m<y;)if(p[m+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return p.slice(0,16-y)}(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},h.prototype.add=function(v){this.cache=a.concat([this.cache,v])},h.prototype.get=function(v){var p;if(v){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(v,p){var y=u[v.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var m=d(p,!1,y.key,y.iv);return g(v,m.key,m.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var i=e("./modes"),a=e("./authCipher"),u=e("safe-buffer").Buffer,o=e("./streamCipher"),l=e("cipher-base"),c=e("./aes"),d=e("evp_bytestokey");function f(p,y,m){l.call(this),this._cache=new g,this._cipher=new c.AES(y),this._prev=u.from(m),this._mode=p,this._autopadding=!0}e("inherits")(f,l),f.prototype._update=function(p){var y,m;this._cache.add(p);for(var b=[];y=this._cache.get();)m=this._mode.encrypt(this,y),b.push(m);return u.concat(b)};var h=u.alloc(16,16);function g(){this.cache=u.allocUnsafe(0)}function v(p,y,m){var b=i[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=u.from(y)),y.length!==b.key/8)throw new TypeError("invalid key length "+y.length);if(typeof m=="string"&&(m=u.from(m)),b.mode!=="GCM"&&m.length!==b.iv)throw new TypeError("invalid iv length "+m.length);return b.type==="stream"?new o(b.module,y,m):b.type==="auth"?new a(b.module,y,m):new f(b.module,y,m)}f.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=u.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,y=u.allocUnsafe(p),m=-1;++m<p;)y.writeUInt8(p,m);return u.concat([this.cache,y])},s.createCipheriv=v,s.createCipher=function(p,y){var m=i[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var b=d(y,!1,m.key,m.iv);return v(p,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.alloc(16,0);function u(l){var c=i.allocUnsafe(16);return c.writeUInt32BE(l[0]>>>0,0),c.writeUInt32BE(l[1]>>>0,4),c.writeUInt32BE(l[2]>>>0,8),c.writeUInt32BE(l[3]>>>0,12),c}function o(l){this.h=l,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}o.prototype.ghash=function(l){for(var c=-1;++c<l.length;)this.state[c]^=l[c];this._multiply()},o.prototype._multiply=function(){for(var l,c,d,f=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],h=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),d=(1&f[3])!=0,c=3;c>0;c--)f[c]=f[c]>>>1|(1&f[c-1])<<31;f[0]=f[0]>>>1,d&&(f[0]=f[0]^225<<24)}this.state=u(h)},o.prototype.update=function(l){var c;for(this.cache=i.concat([this.cache,l]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},o.prototype.final=function(l,c){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(u([0,l,0,c])),this.state},n.exports=o},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(i){for(var a,u=i.length;u--;){if((a=i.readUInt8(u))!==255){a++,i.writeUInt8(a,u);break}i.writeUInt8(0,u)}}},{}],196:[function(e,n,s){var i=e("buffer-xor");s.encrypt=function(a,u){var o=i(u,a._prev);return a._prev=a._cipher.encryptBlock(o),a._prev},s.decrypt=function(a,u){var o=a._prev;a._prev=u;var l=a._cipher.decryptBlock(u);return i(l,o)}},{"buffer-xor":219}],197:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("buffer-xor");function u(o,l,c){var d=l.length,f=a(l,o._cache);return o._cache=o._cache.slice(d),o._prev=i.concat([o._prev,c?l:f]),f}s.encrypt=function(o,l,c){for(var d,f=i.allocUnsafe(0);l.length;){if(o._cache.length===0&&(o._cache=o._cipher.encryptBlock(o._prev),o._prev=i.allocUnsafe(0)),!(o._cache.length<=l.length)){f=i.concat([f,u(o,l,c)]);break}d=o._cache.length,f=i.concat([f,u(o,l.slice(0,d),c)]),l=l.slice(d)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(o,l,c){for(var d,f,h=-1,g=0;++h<8;)d=l&1<<7-h?128:0,g+=(128&(f=o._cipher.encryptBlock(o._prev)[0]^d))>>h%8,o._prev=u(o._prev,c?d:f);return g}function u(o,l){var c=o.length,d=-1,f=i.allocUnsafe(o.length);for(o=i.concat([o,i.from([l])]);++d<c;)f[d]=o[d]<<1|o[d+1]>>7;return f}s.encrypt=function(o,l,c){for(var d=l.length,f=i.allocUnsafe(d),h=-1;++h<d;)f[h]=a(o,l[h],c);return f}},{"safe-buffer":494}],199:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(u,o,l){var c=u._cipher.encryptBlock(u._prev)[0]^o;return u._prev=i.concat([u._prev.slice(1),i.from([l?o:c])]),c}s.encrypt=function(u,o,l){for(var c=o.length,d=i.allocUnsafe(c),f=-1;++f<c;)d[f]=a(u,o[f],l);return d}},{"safe-buffer":494}],200:[function(e,n,s){var i=e("buffer-xor"),a=e("safe-buffer").Buffer,u=e("../incr32");function o(l){var c=l._cipher.encryptBlockRaw(l._prev);return u(l._prev),c}s.encrypt=function(l,c){var d=Math.ceil(c.length/16),f=l._cache.length;l._cache=a.concat([l._cache,a.allocUnsafe(16*d)]);for(var h=0;h<d;h++){var g=o(l),v=f+16*h;l._cache.writeUInt32BE(g[0],v+0),l._cache.writeUInt32BE(g[1],v+4),l._cache.writeUInt32BE(g[2],v+8),l._cache.writeUInt32BE(g[3],v+12)}var p=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),i(c,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(e,n,s){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var u in a)a[u].module=i[a[u].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(i){(function(){var a=e("buffer-xor");function u(o){return o._prev=o._cipher.encryptBlock(o._prev),o._prev}s.encrypt=function(o,l){for(;o._cache.length<l.length;)o._cache=i.concat([o._cache,u(o)]);var c=o._cache.slice(0,l.length);return o._cache=o._cache.slice(l.length),a(l,c)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,u=e("cipher-base");function o(l,c,d,f){u.call(this),this._cipher=new i.AES(c),this._prev=a.from(d),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=f,this._mode=l}e("inherits")(o,u),o.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},n.exports=o},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var i=e("browserify-des"),a=e("browserify-aes/browser"),u=e("browserify-aes/modes"),o=e("browserify-des/modes"),l=e("evp_bytestokey");function c(f,h,g){if(f=f.toLowerCase(),u[f])return a.createCipheriv(f,h,g);if(o[f])return new i({key:h,iv:g,mode:f});throw new TypeError("invalid suite type")}function d(f,h,g){if(f=f.toLowerCase(),u[f])return a.createDecipheriv(f,h,g);if(o[f])return new i({key:h,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,h){var g,v;if(f=f.toLowerCase(),u[f])g=u[f].key,v=u[f].iv;else{if(!o[f])throw new TypeError("invalid suite type");g=8*o[f].key,v=o[f].iv}var p=l(h,!1,g,v);return c(f,p.key,p.iv)},s.createCipheriv=s.Cipheriv=c,s.createDecipher=s.Decipher=function(f,h){var g,v;if(f=f.toLowerCase(),u[f])g=u[f].key,v=u[f].iv;else{if(!o[f])throw new TypeError("invalid suite type");g=8*o[f].key,v=o[f].iv}var p=l(h,!1,g,v);return d(f,p.key,p.iv)},s.createDecipheriv=s.Decipheriv=d,s.listCiphers=s.getCiphers=function(){return Object.keys(o).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var i=e("cipher-base"),a=e("des.js"),u=e("inherits"),o=e("safe-buffer").Buffer,l={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function c(d){i.call(this);var f,h=d.mode.toLowerCase(),g=l[h];f=d.decrypt?"decrypt":"encrypt";var v=d.key;o.isBuffer(v)||(v=o.from(v)),h!=="des-ede"&&h!=="des-ede-cbc"||(v=o.concat([v,v.slice(0,8)]));var p=d.iv;o.isBuffer(p)||(p=o.from(p)),this._des=g.create({key:v,iv:p,type:f})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],n.exports=c,u(c,i),c.prototype._update=function(d){return o.from(this._des.update(d))},c.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),u=e("randombytes");function o(c){var d,f=c.modulus.byteLength();do d=new a(u(f));while(d.cmp(c.modulus)>=0||!d.umod(c.prime1)||!d.umod(c.prime2));return d}function l(c,d){var f=function(j){var T=o(j);return{blinder:T.toRed(a.mont(j.modulus)).redPow(new a(j.publicExponent)).fromRed(),unblinder:T.invm(j.modulus)}}(d),h=d.modulus.byteLength(),g=new a(c).mul(f.blinder).umod(d.modulus),v=g.toRed(a.mont(d.prime1)),p=g.toRed(a.mont(d.prime2)),y=d.coefficient,m=d.prime1,b=d.prime2,k=v.redPow(d.exponent1).fromRed(),N=p.redPow(d.exponent2).fromRed(),B=k.isub(N).imul(y).umod(m).imul(b);return N.iadd(B).imul(f.unblinder).umod(d.modulus).toArrayLike(i,"be",h)}l.getr=o,n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hash"),u=e("readable-stream"),o=e("inherits"),l=e("./sign"),c=e("./verify"),d=e("./algorithms.json");function f(p){u.Writable.call(this);var y=d[p];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=a(y.hash),this._tag=y.id,this._signType=y.sign}function h(p){u.Writable.call(this);var y=d[p];if(!y)throw new Error("Unknown message digest");this._hash=a(y.hash),this._tag=y.id,this._signType=y.sign}function g(p){return new f(p)}function v(p){return new h(p)}Object.keys(d).forEach(function(p){d[p].id=i.from(d[p].id,"hex"),d[p.toLowerCase()]=d[p]}),o(f,u.Writable),f.prototype._write=function(p,y,m){this._hash.update(p),m()},f.prototype.update=function(p,y){return typeof p=="string"&&(p=i.from(p,y)),this._hash.update(p),this},f.prototype.sign=function(p,y){this.end();var m=this._hash.digest(),b=l(m,p,this._hashType,this._signType,this._tag);return y?b.toString(y):b},o(h,u.Writable),h.prototype._write=function(p,y,m){this._hash.update(p),m()},h.prototype.update=function(p,y){return typeof p=="string"&&(p=i.from(p,y)),this._hash.update(p),this},h.prototype.verify=function(p,y,m){typeof y=="string"&&(y=i.from(y,m)),this.end();var b=this._hash.digest();return c(y,b,p,this._signType,this._tag)},n.exports={Sign:g,Verify:v,createSign:g,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hmac"),u=e("browserify-rsa"),o=e("elliptic").ec,l=e("bn.js"),c=e("parse-asn1"),d=e("./curves.json");function f(p,y,m,b){if((p=i.from(p.toArray())).length<y.byteLength()){var k=i.alloc(y.byteLength()-p.length);p=i.concat([k,p])}var N=m.length,B=function(M,U){M=(M=h(M,U)).mod(U);var O=i.from(M.toArray());if(O.length<U.byteLength()){var I=i.alloc(U.byteLength()-O.length);O=i.concat([I,O])}return O}(m,y),j=i.alloc(N);j.fill(1);var T=i.alloc(N);return T=a(b,T).update(j).update(i.from([0])).update(p).update(B).digest(),j=a(b,T).update(j).digest(),{k:T=a(b,T).update(j).update(i.from([1])).update(p).update(B).digest(),v:j=a(b,T).update(j).digest()}}function h(p,y){var m=new l(p),b=(p.length<<3)-y.bitLength();return b>0&&m.ishrn(b),m}function g(p,y,m){var b,k;do{for(b=i.alloc(0);8*b.length<p.bitLength();)y.v=a(m,y.k).update(y.v).digest(),b=i.concat([b,y.v]);k=h(b,p),y.k=a(m,y.k).update(y.v).update(i.from([0])).digest(),y.v=a(m,y.k).update(y.v).digest()}while(k.cmp(p)!==-1);return k}function v(p,y,m,b){return p.toRed(l.mont(m)).redPow(y).fromRed().mod(b)}n.exports=function(p,y,m,b,k){var N=c(y);if(N.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(M,U){var O=d[U.curve.join(".")];if(!O)throw new Error("unknown curve "+U.curve.join("."));var I=new o(O).keyFromPrivate(U.privateKey).sign(M);return i.from(I.toDER())}(p,N)}if(N.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(M,U,O){for(var I,E=U.params.priv_key,R=U.params.p,A=U.params.q,w=U.params.g,_=new l(0),x=h(M,A).mod(A),S=!1,C=f(E,A,M,O);S===!1;)I=g(A,C,O),_=v(w,I,R,A),(S=I.invm(A).imul(x.add(E.mul(_))).mod(A)).cmpn(0)===0&&(S=!1,_=new l(0));return function(q,P){q=q.toArray(),P=P.toArray(),128&q[0]&&(q=[0].concat(q)),128&P[0]&&(P=[0].concat(P));var $=[48,q.length+P.length+4,2,q.length];return $=$.concat(q,[2,P.length],P),i.from($)}(_,S)}(p,N,m)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");p=i.concat([k,p]);for(var B=N.modulus.byteLength(),j=[0,1];p.length+j.length+1<B;)j.push(255);j.push(0);for(var T=-1;++T<p.length;)j.push(p[T]);return u(j,N)},n.exports.getKey=f,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("bn.js"),u=e("elliptic").ec,o=e("parse-asn1"),l=e("./curves.json");function c(d,f){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(d,f,h,g,v){var p=o(h);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(j,T,M){var U=l[M.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var O=new u(U),I=M.data.subjectPrivateKey.data;return O.verify(T,j,I)}(d,f,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(j,T,M){var U=M.data.p,O=M.data.q,I=M.data.g,E=M.data.pub_key,R=o.signature.decode(j,"der"),A=R.s,w=R.r;c(A,O),c(w,O);var _=a.mont(U),x=A.invm(O);return I.toRed(_).redPow(new a(T).mul(x).mod(O)).fromRed().mul(E.toRed(_).redPow(w.mul(x).mod(O)).fromRed()).mod(U).mod(O).cmp(w)===0}(d,f,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([v,f]);for(var y=p.modulus.byteLength(),m=[1],b=0;f.length+m.length+2<y;)m.push(255),b++;m.push(0);for(var k=-1;++k<f.length;)m.push(f[k]);m=i.from(m);var N=a.mont(p.modulus);d=(d=new a(d).toRed(N)).redPow(new a(p.publicExponent)),d=i.from(d.fromRed().toArray());var B=b<8?1:0;for(y=Math.min(d.length,m.length),d.length!==m.length&&(B=1),k=-1;++k<y;)B|=d[k]^m[k];return B===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var i=e("buffer"),a=i.Buffer;function u(l,c){for(var d in l)c[d]=l[d]}function o(l,c,d){return a(l,c,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(u(i,s),s.Buffer=o),u(a,o),o.from=function(l,c,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,c,d)},o.alloc=function(l,c,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=a(l);return c!==void 0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],218:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(p){var y;switch(this.encoding=function(m){var b=function(k){if(!k)return"utf8";for(var N;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(N)return;k=(""+k).toLowerCase(),N=!0}}(m);if(typeof b!="string"&&(i.isEncoding===a||!a(m)))throw new Error("Unknown encoding: "+m);return b||m}(p),this.encoding){case"utf16le":this.text=c,this.end=d,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=f,this.end=h,y=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(y)}function o(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function l(p){var y=this.lastTotal-this.lastNeed,m=function(b,k,N){if((192&k[0])!=128)return b.lastNeed=0,"";if(b.lastNeed>1&&k.length>1){if((192&k[1])!=128)return b.lastNeed=1,"";if(b.lastNeed>2&&k.length>2&&(192&k[2])!=128)return b.lastNeed=2,""}}(this,p);return m!==void 0?m:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function c(p,y){if((p.length-y)%2==0){var m=p.toString("utf16le",y);if(m){var b=m.charCodeAt(m.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function d(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,m)}return y}function f(p,y){var m=(p.length-y)%3;return m===0?p.toString("base64",y):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-m))}function h(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}s.StringDecoder=u,u.prototype.write=function(p){if(p.length===0)return"";var y,m;if(this.lastNeed){if((y=this.fillLast(p))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<p.length?y?y+this.text(p,m):this.text(p,m):y||""},u.prototype.end=function(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"":y},u.prototype.text=function(p,y){var m=function(k,N,B){var j=N.length-1;if(j<B)return 0;var T=o(N[j]);return T>=0?(T>0&&(k.lastNeed=T-1),T):--j<B||T===-2?0:(T=o(N[j]))>=0?(T>0&&(k.lastNeed=T-2),T):--j<B||T===-2?0:(T=o(N[j]))>=0?(T>0&&(T===2?T=0:k.lastNeed=T-3),T):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=m;var b=p.length-(m-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",y,b)},u.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(i){(function(){n.exports=function(a,u){for(var o=Math.min(a.length,u.length),l=new i(o),c=0;c<o;++c)l[c]=a[c]^u[c];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(i){(function(){var a=e("base64-js"),u=e("ieee754");s.Buffer=l,s.SlowBuffer=function(F){return+F!=F&&(F=0),l.alloc(+F)},s.INSPECT_MAX_BYTES=50;function o(F){if(F>2147483647)throw new RangeError('The value "'+F+'" is invalid for option "size"');var D=new Uint8Array(F);return D.__proto__=l.prototype,D}function l(F,D,K){if(typeof F=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(F)}return c(F,D,K)}function c(F,D,K){if(typeof F=="string")return function(ie,ae){if(typeof ae=="string"&&ae!==""||(ae="utf8"),!l.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);var ce=0|v(ie,ae),ne=o(ce),se=ne.write(ie,ae);return se!==ce&&(ne=ne.slice(0,se)),ne}(F,D);if(ArrayBuffer.isView(F))return h(F);if(F==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(V(F,ArrayBuffer)||F&&V(F.buffer,ArrayBuffer))return function(ie,ae,ce){if(ae<0||ie.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<ae+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=ae===void 0&&ce===void 0?new Uint8Array(ie):ce===void 0?new Uint8Array(ie,ae):new Uint8Array(ie,ae,ce),ne.__proto__=l.prototype,ne}(F,D,K);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=F.valueOf&&F.valueOf();if(ee!=null&&ee!==F)return l.from(ee,D,K);var ue=function(ie){if(l.isBuffer(ie)){var ae=0|g(ie.length),ce=o(ae);return ce.length===0||ie.copy(ce,0,0,ae),ce}if(ie.length!==void 0)return typeof ie.length!="number"||Q(ie.length)?o(0):h(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return h(ie.data)}(F);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return l.from(F[Symbol.toPrimitive]("string"),D,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function d(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function f(F){return d(F),o(F<0?0:0|g(F))}function h(F){for(var D=F.length<0?0:0|g(F.length),K=o(D),ee=0;ee<D;ee+=1)K[ee]=255&F[ee];return K}function g(F){if(F>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|F}function v(F,D){if(l.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||V(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var K=F.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&K===0)return 0;for(var ue=!1;;)switch(D){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return $(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return X(F).length;default:if(ue)return ee?-1:$(F).length;D=(""+D).toLowerCase(),ue=!0}}function p(F,D,K){var ee=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return R(this,D,K);case"utf8":case"utf-8":return O(this,D,K);case"ascii":return I(this,D,K);case"latin1":case"binary":return E(this,D,K);case"base64":return U(this,D,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,D,K);default:if(ee)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),ee=!0}}function y(F,D,K){var ee=F[D];F[D]=F[K],F[K]=ee}function m(F,D,K,ee,ue){if(F.length===0)return-1;if(typeof K=="string"?(ee=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),Q(K=+K)&&(K=ue?0:F.length-1),K<0&&(K=F.length+K),K>=F.length){if(ue)return-1;K=F.length-1}else if(K<0){if(!ue)return-1;K=0}if(typeof D=="string"&&(D=l.from(D,ee)),l.isBuffer(D))return D.length===0?-1:b(F,D,K,ee,ue);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(F,D,K):Uint8Array.prototype.lastIndexOf.call(F,D,K):b(F,[D],K,ee,ue);throw new TypeError("val must be string, number or Buffer")}function b(F,D,K,ee,ue){var ie,ae=1,ce=F.length,ne=D.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(F.length<2||D.length<2)return-1;ae=2,ce/=2,ne/=2,K/=2}function se(xe,ke){return ae===1?xe[ke]:xe.readUInt16BE(ke*ae)}if(ue){var ye=-1;for(ie=K;ie<ce;ie++)if(se(F,ie)===se(D,ye===-1?0:ie-ye)){if(ye===-1&&(ye=ie),ie-ye+1===ne)return ye*ae}else ye!==-1&&(ie-=ie-ye),ye=-1}else for(K+ne>ce&&(K=ce-ne),ie=K;ie>=0;ie--){for(var me=!0,_e=0;_e<ne;_e++)if(se(F,ie+_e)!==se(D,_e)){me=!1;break}if(me)return ie}return-1}function k(F,D,K,ee){K=Number(K)||0;var ue=F.length-K;ee?(ee=Number(ee))>ue&&(ee=ue):ee=ue;var ie=D.length;ee>ie/2&&(ee=ie/2);for(var ae=0;ae<ee;++ae){var ce=parseInt(D.substr(2*ae,2),16);if(Q(ce))return ae;F[K+ae]=ce}return ae}function N(F,D,K,ee){return Z($(D,F.length-K),F,K,ee)}function B(F,D,K,ee){return Z(function(ue){for(var ie=[],ae=0;ae<ue.length;++ae)ie.push(255&ue.charCodeAt(ae));return ie}(D),F,K,ee)}function j(F,D,K,ee){return B(F,D,K,ee)}function T(F,D,K,ee){return Z(X(D),F,K,ee)}function M(F,D,K,ee){return Z(function(ue,ie){for(var ae,ce,ne,se=[],ye=0;ye<ue.length&&!((ie-=2)<0);++ye)ae=ue.charCodeAt(ye),ce=ae>>8,ne=ae%256,se.push(ne),se.push(ce);return se}(D,F.length-K),F,K,ee)}function U(F,D,K){return D===0&&K===F.length?a.fromByteArray(F):a.fromByteArray(F.slice(D,K))}function O(F,D,K){K=Math.min(F.length,K);for(var ee=[],ue=D;ue<K;){var ie,ae,ce,ne,se=F[ue],ye=null,me=se>239?4:se>223?3:se>191?2:1;if(ue+me<=K)switch(me){case 1:se<128&&(ye=se);break;case 2:(192&(ie=F[ue+1]))==128&&(ne=(31&se)<<6|63&ie)>127&&(ye=ne);break;case 3:ie=F[ue+1],ae=F[ue+2],(192&ie)==128&&(192&ae)==128&&(ne=(15&se)<<12|(63&ie)<<6|63&ae)>2047&&(ne<55296||ne>57343)&&(ye=ne);break;case 4:ie=F[ue+1],ae=F[ue+2],ce=F[ue+3],(192&ie)==128&&(192&ae)==128&&(192&ce)==128&&(ne=(15&se)<<18|(63&ie)<<12|(63&ae)<<6|63&ce)>65535&&ne<1114112&&(ye=ne)}ye===null?(ye=65533,me=1):ye>65535&&(ye-=65536,ee.push(ye>>>10&1023|55296),ye=56320|1023&ye),ee.push(ye),ue+=me}return function(_e){var xe=_e.length;if(xe<=4096)return String.fromCharCode.apply(String,_e);for(var ke="",Ce=0;Ce<xe;)ke+=String.fromCharCode.apply(String,_e.slice(Ce,Ce+=4096));return ke}(ee)}s.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=function(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(F,D,K){return c(F,D,K)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(F,D,K){return function(ee,ue,ie){return d(ee),ee<=0?o(ee):ue!==void 0?typeof ie=="string"?o(ee).fill(ue,ie):o(ee).fill(ue):o(ee)}(F,D,K)},l.allocUnsafe=function(F){return f(F)},l.allocUnsafeSlow=function(F){return f(F)},l.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==l.prototype},l.compare=function(F,D){if(V(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),V(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(F)||!l.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===D)return 0;for(var K=F.length,ee=D.length,ue=0,ie=Math.min(K,ee);ue<ie;++ue)if(F[ue]!==D[ue]){K=F[ue],ee=D[ue];break}return K<ee?-1:ee<K?1:0},l.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(F,D){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return l.alloc(0);var K;if(D===void 0)for(D=0,K=0;K<F.length;++K)D+=F[K].length;var ee=l.allocUnsafe(D),ue=0;for(K=0;K<F.length;++K){var ie=F[K];if(V(ie,Uint8Array)&&(ie=l.from(ie)),!l.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(ee,ue),ue+=ie.length}return ee},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<F;D+=2)y(this,D,D+1);return this},l.prototype.swap32=function(){var F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<F;D+=4)y(this,D,D+3),y(this,D+1,D+2);return this},l.prototype.swap64=function(){var F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<F;D+=8)y(this,D,D+7),y(this,D+1,D+6),y(this,D+2,D+5),y(this,D+3,D+4);return this},l.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?O(this,0,F):p.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(F){if(!l.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F||l.compare(this,F)===0},l.prototype.inspect=function(){var F="",D=s.INSPECT_MAX_BYTES;return F=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(F+=" ... "),"<Buffer "+F+">"},l.prototype.compare=function(F,D,K,ee,ue){if(V(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),!l.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(D===void 0&&(D=0),K===void 0&&(K=F?F.length:0),ee===void 0&&(ee=0),ue===void 0&&(ue=this.length),D<0||K>F.length||ee<0||ue>this.length)throw new RangeError("out of range index");if(ee>=ue&&D>=K)return 0;if(ee>=ue)return-1;if(D>=K)return 1;if(this===F)return 0;for(var ie=(ue>>>=0)-(ee>>>=0),ae=(K>>>=0)-(D>>>=0),ce=Math.min(ie,ae),ne=this.slice(ee,ue),se=F.slice(D,K),ye=0;ye<ce;++ye)if(ne[ye]!==se[ye]){ie=ne[ye],ae=se[ye];break}return ie<ae?-1:ae<ie?1:0},l.prototype.includes=function(F,D,K){return this.indexOf(F,D,K)!==-1},l.prototype.indexOf=function(F,D,K){return m(this,F,D,K,!0)},l.prototype.lastIndexOf=function(F,D,K){return m(this,F,D,K,!1)},l.prototype.write=function(F,D,K,ee){if(D===void 0)ee="utf8",K=this.length,D=0;else if(K===void 0&&typeof D=="string")ee=D,K=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(K)?(K>>>=0,ee===void 0&&(ee="utf8")):(ee=K,K=void 0)}var ue=this.length-D;if((K===void 0||K>ue)&&(K=ue),F.length>0&&(K<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ie=!1;;)switch(ee){case"hex":return k(this,F,D,K);case"utf8":case"utf-8":return N(this,F,D,K);case"ascii":return B(this,F,D,K);case"latin1":case"binary":return j(this,F,D,K);case"base64":return T(this,F,D,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,F,D,K);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ie=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(F,D,K){var ee="";K=Math.min(F.length,K);for(var ue=D;ue<K;++ue)ee+=String.fromCharCode(127&F[ue]);return ee}function E(F,D,K){var ee="";K=Math.min(F.length,K);for(var ue=D;ue<K;++ue)ee+=String.fromCharCode(F[ue]);return ee}function R(F,D,K){var ee=F.length;(!D||D<0)&&(D=0),(!K||K<0||K>ee)&&(K=ee);for(var ue="",ie=D;ie<K;++ie)ue+=P(F[ie]);return ue}function A(F,D,K){for(var ee=F.slice(D,K),ue="",ie=0;ie<ee.length;ie+=2)ue+=String.fromCharCode(ee[ie]+256*ee[ie+1]);return ue}function w(F,D,K){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>K)throw new RangeError("Trying to access beyond buffer length")}function _(F,D,K,ee,ue,ie){if(!l.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ue||D<ie)throw new RangeError('"value" argument is out of bounds');if(K+ee>F.length)throw new RangeError("Index out of range")}function x(F,D,K,ee,ue,ie){if(K+ee>F.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function S(F,D,K,ee,ue){return D=+D,K>>>=0,ue||x(F,0,K,4),u.write(F,D,K,ee,23,4),K+4}function C(F,D,K,ee,ue){return D=+D,K>>>=0,ue||x(F,0,K,8),u.write(F,D,K,ee,52,8),K+8}l.prototype.slice=function(F,D){var K=this.length;(F=~~F)<0?(F+=K)<0&&(F=0):F>K&&(F=K),(D=D===void 0?K:~~D)<0?(D+=K)<0&&(D=0):D>K&&(D=K),D<F&&(D=F);var ee=this.subarray(F,D);return ee.__proto__=l.prototype,ee},l.prototype.readUIntLE=function(F,D,K){F>>>=0,D>>>=0,K||w(F,D,this.length);for(var ee=this[F],ue=1,ie=0;++ie<D&&(ue*=256);)ee+=this[F+ie]*ue;return ee},l.prototype.readUIntBE=function(F,D,K){F>>>=0,D>>>=0,K||w(F,D,this.length);for(var ee=this[F+--D],ue=1;D>0&&(ue*=256);)ee+=this[F+--D]*ue;return ee},l.prototype.readUInt8=function(F,D){return F>>>=0,D||w(F,1,this.length),this[F]},l.prototype.readUInt16LE=function(F,D){return F>>>=0,D||w(F,2,this.length),this[F]|this[F+1]<<8},l.prototype.readUInt16BE=function(F,D){return F>>>=0,D||w(F,2,this.length),this[F]<<8|this[F+1]},l.prototype.readUInt32LE=function(F,D){return F>>>=0,D||w(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+16777216*this[F+3]},l.prototype.readUInt32BE=function(F,D){return F>>>=0,D||w(F,4,this.length),16777216*this[F]+(this[F+1]<<16|this[F+2]<<8|this[F+3])},l.prototype.readIntLE=function(F,D,K){F>>>=0,D>>>=0,K||w(F,D,this.length);for(var ee=this[F],ue=1,ie=0;++ie<D&&(ue*=256);)ee+=this[F+ie]*ue;return ee>=(ue*=128)&&(ee-=Math.pow(2,8*D)),ee},l.prototype.readIntBE=function(F,D,K){F>>>=0,D>>>=0,K||w(F,D,this.length);for(var ee=D,ue=1,ie=this[F+--ee];ee>0&&(ue*=256);)ie+=this[F+--ee]*ue;return ie>=(ue*=128)&&(ie-=Math.pow(2,8*D)),ie},l.prototype.readInt8=function(F,D){return F>>>=0,D||w(F,1,this.length),128&this[F]?-1*(255-this[F]+1):this[F]},l.prototype.readInt16LE=function(F,D){F>>>=0,D||w(F,2,this.length);var K=this[F]|this[F+1]<<8;return 32768&K?4294901760|K:K},l.prototype.readInt16BE=function(F,D){F>>>=0,D||w(F,2,this.length);var K=this[F+1]|this[F]<<8;return 32768&K?4294901760|K:K},l.prototype.readInt32LE=function(F,D){return F>>>=0,D||w(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},l.prototype.readInt32BE=function(F,D){return F>>>=0,D||w(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},l.prototype.readFloatLE=function(F,D){return F>>>=0,D||w(F,4,this.length),u.read(this,F,!0,23,4)},l.prototype.readFloatBE=function(F,D){return F>>>=0,D||w(F,4,this.length),u.read(this,F,!1,23,4)},l.prototype.readDoubleLE=function(F,D){return F>>>=0,D||w(F,8,this.length),u.read(this,F,!0,52,8)},l.prototype.readDoubleBE=function(F,D){return F>>>=0,D||w(F,8,this.length),u.read(this,F,!1,52,8)},l.prototype.writeUIntLE=function(F,D,K,ee){F=+F,D>>>=0,K>>>=0,ee||_(this,F,D,K,Math.pow(2,8*K)-1,0);var ue=1,ie=0;for(this[D]=255&F;++ie<K&&(ue*=256);)this[D+ie]=F/ue&255;return D+K},l.prototype.writeUIntBE=function(F,D,K,ee){F=+F,D>>>=0,K>>>=0,ee||_(this,F,D,K,Math.pow(2,8*K)-1,0);var ue=K-1,ie=1;for(this[D+ue]=255&F;--ue>=0&&(ie*=256);)this[D+ue]=F/ie&255;return D+K},l.prototype.writeUInt8=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,1,255,0),this[D]=255&F,D+1},l.prototype.writeUInt16LE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,2,65535,0),this[D]=255&F,this[D+1]=F>>>8,D+2},l.prototype.writeUInt16BE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,2,65535,0),this[D]=F>>>8,this[D+1]=255&F,D+2},l.prototype.writeUInt32LE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,4,4294967295,0),this[D+3]=F>>>24,this[D+2]=F>>>16,this[D+1]=F>>>8,this[D]=255&F,D+4},l.prototype.writeUInt32BE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,4,4294967295,0),this[D]=F>>>24,this[D+1]=F>>>16,this[D+2]=F>>>8,this[D+3]=255&F,D+4},l.prototype.writeIntLE=function(F,D,K,ee){if(F=+F,D>>>=0,!ee){var ue=Math.pow(2,8*K-1);_(this,F,D,K,ue-1,-ue)}var ie=0,ae=1,ce=0;for(this[D]=255&F;++ie<K&&(ae*=256);)F<0&&ce===0&&this[D+ie-1]!==0&&(ce=1),this[D+ie]=(F/ae>>0)-ce&255;return D+K},l.prototype.writeIntBE=function(F,D,K,ee){if(F=+F,D>>>=0,!ee){var ue=Math.pow(2,8*K-1);_(this,F,D,K,ue-1,-ue)}var ie=K-1,ae=1,ce=0;for(this[D+ie]=255&F;--ie>=0&&(ae*=256);)F<0&&ce===0&&this[D+ie+1]!==0&&(ce=1),this[D+ie]=(F/ae>>0)-ce&255;return D+K},l.prototype.writeInt8=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,1,127,-128),F<0&&(F=255+F+1),this[D]=255&F,D+1},l.prototype.writeInt16LE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,2,32767,-32768),this[D]=255&F,this[D+1]=F>>>8,D+2},l.prototype.writeInt16BE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,2,32767,-32768),this[D]=F>>>8,this[D+1]=255&F,D+2},l.prototype.writeInt32LE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,4,2147483647,-2147483648),this[D]=255&F,this[D+1]=F>>>8,this[D+2]=F>>>16,this[D+3]=F>>>24,D+4},l.prototype.writeInt32BE=function(F,D,K){return F=+F,D>>>=0,K||_(this,F,D,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[D]=F>>>24,this[D+1]=F>>>16,this[D+2]=F>>>8,this[D+3]=255&F,D+4},l.prototype.writeFloatLE=function(F,D,K){return S(this,F,D,!0,K)},l.prototype.writeFloatBE=function(F,D,K){return S(this,F,D,!1,K)},l.prototype.writeDoubleLE=function(F,D,K){return C(this,F,D,!0,K)},l.prototype.writeDoubleBE=function(F,D,K){return C(this,F,D,!1,K)},l.prototype.copy=function(F,D,K,ee){if(!l.isBuffer(F))throw new TypeError("argument should be a Buffer");if(K||(K=0),ee||ee===0||(ee=this.length),D>=F.length&&(D=F.length),D||(D=0),ee>0&&ee<K&&(ee=K),ee===K||F.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),F.length-D<ee-K&&(ee=F.length-D+K);var ue=ee-K;if(this===F&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,K,ee);else if(this===F&&K<D&&D<ee)for(var ie=ue-1;ie>=0;--ie)F[ie+D]=this[ie+K];else Uint8Array.prototype.set.call(F,this.subarray(K,ee),D);return ue},l.prototype.fill=function(F,D,K,ee){if(typeof F=="string"){if(typeof D=="string"?(ee=D,D=0,K=this.length):typeof K=="string"&&(ee=K,K=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!l.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(F.length===1){var ue=F.charCodeAt(0);(ee==="utf8"&&ue<128||ee==="latin1")&&(F=ue)}}else typeof F=="number"&&(F&=255);if(D<0||this.length<D||this.length<K)throw new RangeError("Out of range index");if(K<=D)return this;var ie;if(D>>>=0,K=K===void 0?this.length:K>>>0,F||(F=0),typeof F=="number")for(ie=D;ie<K;++ie)this[ie]=F;else{var ae=l.isBuffer(F)?F:l.from(F,ee),ce=ae.length;if(ce===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(ie=0;ie<K-D;++ie)this[ie+D]=ae[ie%ce]}return this};var q=/[^+/0-9A-Za-z-_]/g;function P(F){return F<16?"0"+F.toString(16):F.toString(16)}function $(F,D){var K;D=D||1/0;for(var ee=F.length,ue=null,ie=[],ae=0;ae<ee;++ae){if((K=F.charCodeAt(ae))>55295&&K<57344){if(!ue){if(K>56319){(D-=3)>-1&&ie.push(239,191,189);continue}if(ae+1===ee){(D-=3)>-1&&ie.push(239,191,189);continue}ue=K;continue}if(K<56320){(D-=3)>-1&&ie.push(239,191,189),ue=K;continue}K=65536+(ue-55296<<10|K-56320)}else ue&&(D-=3)>-1&&ie.push(239,191,189);if(ue=null,K<128){if((D-=1)<0)break;ie.push(K)}else if(K<2048){if((D-=2)<0)break;ie.push(K>>6|192,63&K|128)}else if(K<65536){if((D-=3)<0)break;ie.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;ie.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ie}function X(F){return a.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(F))}function Z(F,D,K,ee){for(var ue=0;ue<ee&&!(ue+K>=D.length||ue>=F.length);++ue)D[ue+K]=F[ue];return ue}function V(F,D){return F instanceof D||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===D.name}function Q(F){return F!=F}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("stream").Transform,u=e("string_decoder").StringDecoder;function o(l){a.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,a),o.prototype.update=function(l,c,d){typeof l=="string"&&(l=i.from(l,c));var f=this._update(l);return this.hashMode?this:(d&&(f=this._toString(f,d)),f)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(l,c,d){var f;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(h){f=h}finally{d(f)}},o.prototype._flush=function(l){var c;try{this.push(this.__final())}catch(d){c=d}l(c)},o.prototype._finalOrDigest=function(l){var c=this.__final()||i.alloc(0);return l&&(c=this._toString(c,l,!0)),c},o.prototype._toString=function(l,c,d){if(this._decoder||(this._decoder=new u(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var f=this._decoder.write(l);return d&&(f+=this._decoder.end()),f},n.exports=o},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/try-to-string"),u=TypeError;n.exports=function(o){if(i(o))return o;throw new u(a(o)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var i=e("../internals/is-constructor"),a=e("../internals/try-to-string"),u=TypeError;n.exports=function(o){if(i(o))return o;throw new u(a(o)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var i=e("../internals/is-callable"),a=String,u=TypeError;n.exports=function(o){if(typeof o=="object"||i(o))return o;throw new u("Can't set "+a(o)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/object-create"),u=e("../internals/object-define-property").f,o=i("unscopables"),l=Array.prototype;l[o]===void 0&&u(l,o,{configurable:!0,value:a(null)}),n.exports=function(c){l[o][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var i=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(u,o){if(i(o,u))return u;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var i=e("../internals/is-object"),a=String,u=TypeError;n.exports=function(o){if(i(o))return o;throw new u(a(o)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),o=function(l){return function(c,d,f){var h,g=i(c),v=u(g),p=a(f,v);if(l&&d!=d){for(;v>p;)if((h=g[p++])!=h)return!0}else for(;v>p;p++)if((l||p in g)&&g[p]===d)return l||p||0;return!l&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),u=e("../internals/indexed-object"),o=e("../internals/to-object"),l=e("../internals/length-of-array-like"),c=e("../internals/array-species-create"),d=a([].push),f=function(h){var g=h===1,v=h===2,p=h===3,y=h===4,m=h===6,b=h===7,k=h===5||m;return function(N,B,j,T){for(var M,U,O=o(N),I=u(O),E=i(B,j),R=l(I),A=0,w=T||c,_=g?w(N,R):v||b?w(N,0):void 0;R>A;A++)if((k||A in I)&&(U=E(M=I[A],A,O),h))if(g)_[A]=U;else if(U)switch(h){case 3:return!0;case 5:return M;case 6:return A;case 2:d(_,M)}else switch(h){case 4:return!1;case 7:d(_,M)}return m?-1:p||y?y:_}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var i=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),u=e("../internals/create-property"),o=Array,l=Math.max;n.exports=function(c,d,f){for(var h=a(c),g=i(d,h),v=i(f===void 0?h:f,h),p=o(l(v-g,0)),y=0;g<v;g++,y++)u(p,y,c[g]);return p.length=y,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var i=e("../internals/is-array"),a=e("../internals/is-constructor"),u=e("../internals/is-object"),o=e("../internals/well-known-symbol")("species"),l=Array;n.exports=function(c){var d;return i(c)&&(d=c.constructor,(a(d)&&(d===l||i(d.prototype))||u(d)&&(d=d[o])===null)&&(d=void 0)),d===void 0?l:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var i=e("../internals/array-species-constructor");n.exports=function(a,u){return new(i(a))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var i=e("../internals/well-known-symbol")("iterator"),a=!1;try{var u=0,o={next:function(){return{done:!!u++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch{}n.exports=function(l,c){try{if(!c&&!a)return!1}catch{return!1}var d=!1;try{var f={};f[i]=function(){return{next:function(){return{done:d=!0}}}},l(f)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=i({}.toString),u=i("".slice);n.exports=function(o){return u(a(o),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var i=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),u=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("toStringTag"),l=Object,c=u(function(){return arguments}())==="Arguments";n.exports=i?u:function(d){var f,h,g;return d===void 0?"Undefined":d===null?"Null":typeof(h=function(v,p){try{return v[p]}catch{}}(f=l(d),o))=="string"?h:c?u(f):(g=u(f))==="Object"&&a(f.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),o=e("../internals/object-define-property");n.exports=function(l,c,d){for(var f=a(c),h=o.f,g=u.f,v=0;v<f.length;v++){var p=f[v];i(l,p)||d&&i(d,p)||h(l,p,g(c,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var i=e("../internals/well-known-symbol")("match");n.exports=function(a){var u=/./;try{"/./"[a](u)}catch{try{return u[i]=!1,"/./"[a](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var i=e("../internals/fails");n.exports=!i(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=i?function(o,l,c){return a.f(o,l,u(1,c))}:function(o,l,c){return o[l]=c,o}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(e,n,s){var i=e("../internals/to-property-key"),a=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=function(o,l,c){var d=i(l);d in o?a.f(o,d,u(0,c)):o[d]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var i=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(u,o,l){return l.get&&i(l.get,o,{getter:!0}),l.set&&i(l.set,o,{setter:!0}),a.f(u,o,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/object-define-property"),u=e("../internals/make-built-in"),o=e("../internals/define-global-property");n.exports=function(l,c,d,f){f||(f={});var h=f.enumerable,g=f.name!==void 0?f.name:c;if(i(d)&&u(d,g,f),f.global)h?l[c]=d:o(c,d);else{try{f.unsafe?l[c]&&(h=!0):delete l[c]}catch{}h?l[c]=d:a.f(l,c,{value:d,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var i=e("../internals/global"),a=Object.defineProperty;n.exports=function(u,o){try{a(i,u,{value:o,configurable:!0,writable:!0})}catch{i[u]=o}return o}},{"../internals/global":274}],247:[function(e,n,s){var i=e("../internals/fails");n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-object"),u=i.document,o=a(u)&&a(u.createElement);n.exports=function(l){return o?u.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var i=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var i,a,u=e("../internals/global"),o=e("../internals/engine-user-agent"),l=u.process,c=u.Deno,d=l&&l.versions||c&&c.version,f=d&&d.v8;f&&(a=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),o=e("../internals/define-built-in"),l=e("../internals/define-global-property"),c=e("../internals/copy-constructor-properties"),d=e("../internals/is-forced");n.exports=function(f,h){var g,v,p,y,m,b=f.target,k=f.global,N=f.stat;if(g=k?i:N?i[b]||l(b,{}):(i[b]||{}).prototype)for(v in h){if(y=h[v],p=f.dontCallGetSet?(m=a(g,v))&&m.value:g[v],!d(k?v:b+(N?".":"#")+v,f.forced)&&p!==void 0){if(typeof y==typeof p)continue;c(y,p)}(f.sham||p&&p.sham)&&u(y,"sham",!0),o(g,v,y,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,u=a.apply,o=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?o.bind(u):function(){return o.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var i=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),u=e("../internals/function-bind-native"),o=i(i.bind);n.exports=function(l,c){return a(l),c===void 0?l:u?o(l,c):function(){return l.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var i=e("../internals/fails");n.exports=!i(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/has-own-property"),u=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,l=a(u,"name"),c=l&&(function(){}).name==="something",d=l&&(!i||i&&o(u,"name").configurable);n.exports={EXISTS:l,PROPER:c,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(u,o,l){try{return i(a(Object.getOwnPropertyDescriptor(u,o)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(u){if(i(u)==="Function")return a(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,u=a.call,o=i&&a.bind.bind(u,u);n.exports=i?o:function(l){return function(){return u.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),u=function(o){return a(o)?o:void 0};n.exports=function(o,l){return arguments.length<2?u(i[o]):i[o]&&i[o][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var i=e("../internals/classof"),a=e("../internals/get-method"),u=e("../internals/is-null-or-undefined"),o=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!u(c))return a(c,l)||a(c,"@@iterator")||o[i(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/a-callable"),u=e("../internals/an-object"),o=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),c=TypeError;n.exports=function(d,f){var h=arguments.length<2?l(d):f;if(a(h))return u(i(h,d));throw new c(o(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),u=e("../internals/is-callable"),o=e("../internals/classof-raw"),l=e("../internals/to-string"),c=i([].push);n.exports=function(d){if(u(d))return d;if(a(d)){for(var f=d.length,h=[],g=0;g<f;g++){var v=d[g];typeof v=="string"?c(h,v):typeof v!="number"&&o(v)!=="Number"&&o(v)!=="String"||c(h,l(v))}var p=h.length,y=!0;return function(m,b){if(y)return y=!1,b;if(a(this))return b;for(var k=0;k<p;k++)if(h[k]===m)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var i=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(u,o){var l=u[o];return a(l)?void 0:i(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(i){(function(){var a=function(u){return u&&u.Math===Math&&u};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),u=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(o,l){return u(a(o),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(e,n,s){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),u=e("../internals/document-create-element");n.exports=!i&&!a(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),u=e("../internals/classof-raw"),o=Object,l=i("".split);n.exports=a(function(){return!o("z").propertyIsEnumerable(0)})?function(c){return u(c)==="String"?l(c,""):o(c)}:o},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),u=e("../internals/shared-store"),o=i(Function.toString);a(u.inspectSource)||(u.inspectSource=function(l){return o(l)}),n.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var i,a,u,o=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),c=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),f=e("../internals/has-own-property"),h=e("../internals/shared-store"),g=e("../internals/shared-key"),v=e("../internals/hidden-keys"),p=l.TypeError,y=l.WeakMap;if(o||h.state){var m=h.state||(h.state=new y);m.get=m.get,m.has=m.has,m.set=m.set,i=function(k,N){if(m.has(k))throw new p("Object already initialized");return N.facade=k,m.set(k,N),N},a=function(k){return m.get(k)||{}},u=function(k){return m.has(k)}}else{var b=g("state");v[b]=!0,i=function(k,N){if(f(k,b))throw new p("Object already initialized");return N.facade=k,d(k,b,N),N},a=function(k){return f(k,b)?k[b]:{}},u=function(k){return f(k,b)}}n.exports={set:i,get:a,has:u,enforce:function(k){return u(k)?a(k):i(k,{})},getterFor:function(k){return function(N){var B;if(!c(N)||(B=a(N)).type!==k)throw new p("Incompatible receiver, "+k+" required");return B}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/iterators"),u=i("iterator"),o=Array.prototype;n.exports=function(l){return l!==void 0&&(a.Array===l||o[u]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var i=e("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(u){return typeof u=="function"||u===a}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),u=e("../internals/is-callable"),o=e("../internals/classof"),l=e("../internals/get-built-in"),c=e("../internals/inspect-source"),d=function(){},f=[],h=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=i(g.exec),p=!g.test(d),y=function(b){if(!u(b))return!1;try{return h(d,f,b),!0}catch{return!1}},m=function(b){if(!u(b))return!1;switch(o(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!v(g,c(b))}catch{return!0}};m.sham=!0,n.exports=!h||a(function(){var b;return y(y.call)||!y(Object)||!y(function(){b=!0})||b})?m:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var i=e("../internals/fails"),a=e("../internals/is-callable"),u=/#|\.prototype\./,o=function(h,g){var v=c[l(h)];return v===f||v!==d&&(a(g)?i(g):!!g)},l=o.normalize=function(h){return String(h).replace(u,".").toLowerCase()},c=o.data={},d=o.NATIVE="N",f=o.POLYFILL="P";n.exports=o},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(i){return i==null}},{}],289:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/document-all"),u=a.all;n.exports=a.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:i(o)||o===u}:function(o){return typeof o=="object"?o!==null:i(o)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var i=e("../internals/is-object"),a=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");n.exports=function(o){var l;return i(o)&&((l=o[u])!==void 0?!!l:a(o)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),o=e("../internals/use-symbol-as-uid"),l=Object;n.exports=o?function(c){return typeof c=="symbol"}:function(c){var d=i("Symbol");return a(d)&&u(d.prototype,l(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-call"),u=e("../internals/an-object"),o=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),c=e("../internals/length-of-array-like"),d=e("../internals/object-is-prototype-of"),f=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),v=TypeError,p=function(m,b){this.stopped=m,this.result=b},y=p.prototype;n.exports=function(m,b,k){var N,B,j,T,M,U,O,I=k&&k.that,E=!(!k||!k.AS_ENTRIES),R=!(!k||!k.IS_RECORD),A=!(!k||!k.IS_ITERATOR),w=!(!k||!k.INTERRUPTED),_=i(b,I),x=function(C){return N&&g(N,"normal",C),new p(!0,C)},S=function(C){return E?(u(C),w?_(C[0],C[1],x):_(C[0],C[1])):w?_(C,x):_(C)};if(R)N=m.iterator;else if(A)N=m;else{if(!(B=h(m)))throw new v(o(m)+" is not iterable");if(l(B)){for(j=0,T=c(m);T>j;j++)if((M=S(m[j]))&&d(y,M))return M;return new p(!1)}N=f(m,B)}for(U=R?m.next:N.next;!(O=a(U,N)).done;){try{M=S(O.value)}catch(C){g(N,"throw",C)}if(typeof M=="object"&&M&&d(y,M))return M}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/an-object"),u=e("../internals/get-method");n.exports=function(o,l,c){var d,f;a(o);try{if(!(d=u(o,"return"))){if(l==="throw")throw c;return c}d=i(d,o)}catch(h){f=!0,d=h}if(l==="throw")throw c;if(f)throw d;return a(d),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var i=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),o=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),c=function(){return this};n.exports=function(d,f,h,g){var v=f+" Iterator";return d.prototype=a(i,{next:u(+!g,h)}),o(d,v,!1,!0),l[v]=c,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),u=e("../internals/is-pure"),o=e("../internals/function-name"),l=e("../internals/is-callable"),c=e("../internals/iterator-create-constructor"),d=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),v=e("../internals/define-built-in"),p=e("../internals/well-known-symbol"),y=e("../internals/iterators"),m=e("../internals/iterators-core"),b=o.PROPER,k=o.CONFIGURABLE,N=m.IteratorPrototype,B=m.BUGGY_SAFARI_ITERATORS,j=p("iterator"),T=function(){return this};n.exports=function(M,U,O,I,E,R,A){c(O,U,I);var w,_,x,S=function(V){if(V===E&&X)return X;if(!B&&V&&V in P)return P[V];switch(V){case"keys":case"values":case"entries":return function(){return new O(this,V)}}return function(){return new O(this)}},C=U+" Iterator",q=!1,P=M.prototype,$=P[j]||P["@@iterator"]||E&&P[E],X=!B&&$||S(E),Z=U==="Array"&&P.entries||$;if(Z&&(w=d(Z.call(new M)))!==Object.prototype&&w.next&&(u||d(w)===N||(f?f(w,N):l(w[j])||v(w,j,T)),h(w,C,!0,!0),u&&(y[C]=T)),b&&E==="values"&&$&&$.name!=="values"&&(!u&&k?g(P,"name","values"):(q=!0,X=function(){return a($,this)})),E)if(_={values:S("values"),keys:R?X:S("keys"),entries:S("entries")},A)for(x in _)(B||q||!(x in P))&&v(P,x,_[x]);else i({target:U,proto:!0,forced:B||q},_);return u&&!A||P[j]===X||v(P,j,X,{name:E}),y[U]=X,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var i,a,u,o=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/is-object"),d=e("../internals/object-create"),f=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),v=e("../internals/is-pure"),p=g("iterator"),y=!1;[].keys&&("next"in(u=[].keys())?(a=f(f(u)))!==Object.prototype&&(i=a):y=!0),!c(i)||o(function(){var m={};return i[p].call(m)!==m})?i={}:v&&(i=d(i)),l(i[p])||h(i,p,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var i=e("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),u=e("../internals/is-callable"),o=e("../internals/has-own-property"),l=e("../internals/descriptors"),c=e("../internals/function-name").CONFIGURABLE,d=e("../internals/inspect-source"),f=e("../internals/internal-state"),h=f.enforce,g=f.get,v=String,p=Object.defineProperty,y=i("".slice),m=i("".replace),b=i([].join),k=l&&!a(function(){return p(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),B=n.exports=function(j,T,M){y(v(T),0,7)==="Symbol("&&(T="["+m(v(T),/^Symbol\(([^)]*)\)/,"$1")+"]"),M&&M.getter&&(T="get "+T),M&&M.setter&&(T="set "+T),(!o(j,"name")||c&&j.name!==T)&&(l?p(j,"name",{value:T,configurable:!0}):j.name=T),k&&M&&o(M,"arity")&&j.length!==M.arity&&p(j,"length",{value:M.arity});try{M&&o(M,"constructor")&&M.constructor?l&&p(j,"prototype",{writable:!1}):j.prototype&&(j.prototype=void 0)}catch{}var U=h(j);return o(U,"source")||(U.source=b(N,typeof T=="string"?T:"")),j};Function.prototype.toString=B(function(){return u(this)&&g(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(u){var o=+u;return(o>0?a:i)(o)}},{}],302:[function(e,n,s){var i,a,u,o,l,c=e("../internals/global"),d=e("../internals/function-bind-context"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,g=e("../internals/queue"),v=e("../internals/engine-is-ios"),p=e("../internals/engine-is-ios-pebble"),y=e("../internals/engine-is-webos-webkit"),m=e("../internals/engine-is-node"),b=c.MutationObserver||c.WebKitMutationObserver,k=c.document,N=c.process,B=c.Promise,j=f(c,"queueMicrotask"),T=j&&j.value;if(!T){var M=new g,U=function(){var O,I;for(m&&(O=N.domain)&&O.exit();I=M.get();)try{I()}catch(E){throw M.head&&i(),E}O&&O.enter()};v||m||y||!b||!k?!p&&B&&B.resolve?((o=B.resolve(void 0)).constructor=B,l=d(o.then,o),i=function(){l(U)}):m?i=function(){N.nextTick(U)}:(h=d(h,c),i=function(){h(U)}):(a=!0,u=k.createTextNode(""),new b(U).observe(u,{characterData:!0}),i=function(){u.data=a=!a}),T=function(O){M.head||i(),M.add(O)}}n.exports=T},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var i=e("../internals/a-callable"),a=TypeError,u=function(o){var l,c;this.promise=new o(function(d,f){if(l!==void 0||c!==void 0)throw new a("Bad Promise constructor");l=d,c=f}),this.resolve=i(l),this.reject=i(c)};n.exports.f=function(o){return new u(o)}},{"../internals/a-callable":222}],304:[function(e,n,s){var i=e("../internals/is-regexp"),a=TypeError;n.exports=function(u){if(i(u))throw new a("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),u=e("../internals/function-call"),o=e("../internals/fails"),l=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),h=e("../internals/indexed-object"),g=Object.assign,v=Object.defineProperty,p=a([].concat);n.exports=!g||o(function(){if(i&&g({b:1},g(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},m={},b=Symbol("assign detection");return y[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(k){m[k]=k}),g({},y)[b]!==7||l(g({},m)).join("")!=="abcdefghijklmnopqrst"})?function(y,m){for(var b=f(y),k=arguments.length,N=1,B=c.f,j=d.f;k>N;)for(var T,M=h(arguments[N++]),U=B?p(l(M),B(M)):l(M),O=U.length,I=0;O>I;)T=U[I++],i&&!u(j,M,T)||(b[T]=M[T]);return b}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var i,a=e("../internals/an-object"),u=e("../internals/object-define-properties"),o=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),c=e("../internals/html"),d=e("../internals/document-create-element"),f=e("../internals/shared-key"),h=f("IE_PROTO"),g=function(){},v=function(m){return"<script>"+m+"<\/script>"},p=function(m){m.write(v("")),m.close();var b=m.parentWindow.Object;return m=null,b},y=function(){try{i=new ActiveXObject("htmlfile")}catch{}var m,b;y=typeof document<"u"?document.domain&&i?p(i):((b=d("iframe")).style.display="none",c.appendChild(b),b.src="javascript:",(m=b.contentWindow.document).open(),m.write(v("document.F=Object")),m.close(),m.F):p(i);for(var k=o.length;k--;)delete y.prototype[o[k]];return y()};l[h]=!0,n.exports=Object.create||function(m,b){var k;return m!==null?(g.prototype=a(m),k=new g,g.prototype=null,k[h]=m):k=y(),b===void 0?k:u.f(k,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),u=e("../internals/object-define-property"),o=e("../internals/an-object"),l=e("../internals/to-indexed-object"),c=e("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(d,f){o(d);for(var h,g=l(f),v=c(f),p=v.length,y=0;p>y;)u.f(d,h=v[y++],g[h]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),u=e("../internals/v8-prototype-define-bug"),o=e("../internals/an-object"),l=e("../internals/to-property-key"),c=TypeError,d=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=i?u?function(h,g,v){if(o(h),g=l(g),o(v),typeof h=="function"&&g==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var p=f(h,g);p&&p.writable&&(h[g]=v.value,v={configurable:"configurable"in v?v.configurable:p.configurable,enumerable:"enumerable"in v?v.enumerable:p.enumerable,writable:!1})}return d(h,g,v)}:d:function(h,g,v){if(o(h),g=l(g),o(v),a)try{return d(h,g,v)}catch{}if("get"in v||"set"in v)throw new c("Accessors not supported");return"value"in v&&(h[g]=v.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-call"),u=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),c=e("../internals/to-property-key"),d=e("../internals/has-own-property"),f=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=i?h:function(g,v){if(g=l(g),v=c(v),f)try{return h(g,v)}catch{}if(d(g,v))return o(!a(u.f,g,v),g[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),u=e("../internals/object-get-own-property-names").f,o=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return l&&i(c)==="Window"?function(d){try{return u(d)}catch{return o(l)}}(c):u(a(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(u){return i(u,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/is-callable"),u=e("../internals/to-object"),o=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),c=o("IE_PROTO"),d=Object,f=d.prototype;n.exports=l?d.getPrototypeOf:function(h){var g=u(h);if(i(g,c))return g[c];var v=g.constructor;return a(v)&&g instanceof v?v.prototype:g instanceof d?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),u=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),c=i([].push);n.exports=function(d,f){var h,g=u(d),v=0,p=[];for(h in g)!a(l,h)&&a(g,h)&&c(p,h);for(;f.length>v;)a(g,h=f[v++])&&(~o(p,h)||c(p,h));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(u){return i(u,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u=a&&!i.call({1:2},1);s.f=u?function(o){var l=a(this,o);return!!l&&l.enumerable}:i},{}],318:[function(e,n,s){var i=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),u=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,l=!1,c={};try{(o=i(Object.prototype,"__proto__","set"))(c,[]),l=c instanceof Array}catch{}return function(d,f){return a(d),u(f),l?o(d,f):d.__proto__=f,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),u=e("../internals/function-uncurry-this"),o=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),d=u(e("../internals/object-property-is-enumerable").f),f=u([].push),h=i&&a(function(){var v=Object.create(null);return v[2]=2,!d(v,2)}),g=function(v){return function(p){for(var y,m=c(p),b=l(m),k=h&&o(m)===null,N=b.length,B=0,j=[];N>B;)y=b[B++],i&&!(k?y in m:d(m,y))||f(j,v?[y,m[y]]:m[y]);return j}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-callable"),u=e("../internals/is-object"),o=TypeError;n.exports=function(l,c){var d,f;if(c==="string"&&a(d=l.toString)&&!u(f=i(d,l))||a(d=l.valueOf)&&!u(f=i(d,l))||c!=="string"&&a(d=l.toString)&&!u(f=i(d,l)))return f;throw new o("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),u=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),c=a([].concat);n.exports=i("Reflect","ownKeys")||function(d){var f=u.f(l(d)),h=o.f;return h?c(f,h(d)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/promise-native-constructor"),u=e("../internals/is-callable"),o=e("../internals/is-forced"),l=e("../internals/inspect-source"),c=e("../internals/well-known-symbol"),d=e("../internals/engine-is-browser"),f=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),v=a&&a.prototype,p=c("species"),y=!1,m=u(i.PromiseRejectionEvent),b=o("Promise",function(){var k=l(a),N=k!==String(a);if(!N&&g===66||h&&(!v.catch||!v.finally))return!0;if(!g||g<51||!/native code/.test(k)){var B=new a(function(T){T(1)}),j=function(T){T(function(){},function(){})};if((B.constructor={})[p]=j,!(y=B.then(function(){})instanceof j))return!0}return!N&&(d||f)&&!m});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:m,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/is-object"),u=e("../internals/new-promise-capability");n.exports=function(o,l){if(i(o),a(l)&&l.constructor===o)return l;var c=u.f(o);return(0,c.resolve)(l),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var i=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=u||!a(function(o){i.all(o).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var u={item:a,next:null},o=this.tail;o?o.next=u:this.head=u,this.tail=u},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(e,n,s){var i=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(u){if(i(u))throw new a("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),u=e("../internals/well-known-symbol"),o=e("../internals/descriptors"),l=u("species");n.exports=function(c){var d=i(c);o&&d&&!d[l]&&a(d,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var i=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),u=e("../internals/well-known-symbol")("toStringTag");n.exports=function(o,l,c){o&&!c&&(o=o.prototype),o&&!a(o,u)&&i(o,u,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var i=e("../internals/shared"),a=e("../internals/uid"),u=i("keys");n.exports=function(o){return u[o]||(u[o]=a(o))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/define-global-property"),u=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var i=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(u,o){return a[u]||(a[u]=o!==void 0?o:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/a-constructor"),u=e("../internals/is-null-or-undefined"),o=e("../internals/well-known-symbol")("species");n.exports=function(l,c){var d,f=i(l).constructor;return f===void 0||u(d=i(f)[o])?c:a(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var i=e("../internals/engine-v8-version"),a=e("../internals/fails"),u=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var o=Symbol("symbol detection");return!u(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/get-built-in"),u=e("../internals/well-known-symbol"),o=e("../internals/define-built-in");n.exports=function(){var l=a("Symbol"),c=l&&l.prototype,d=c&&c.valueOf,f=u("toPrimitive");c&&!c[f]&&o(c,f,function(h){return i(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var i,a,u,o,l=e("../internals/global"),c=e("../internals/function-apply"),d=e("../internals/function-bind-context"),f=e("../internals/is-callable"),h=e("../internals/has-own-property"),g=e("../internals/fails"),v=e("../internals/html"),p=e("../internals/array-slice"),y=e("../internals/document-create-element"),m=e("../internals/validate-arguments-length"),b=e("../internals/engine-is-ios"),k=e("../internals/engine-is-node"),N=l.setImmediate,B=l.clearImmediate,j=l.process,T=l.Dispatch,M=l.Function,U=l.MessageChannel,O=l.String,I=0,E={};g(function(){i=l.location});var R=function(x){if(h(E,x)){var S=E[x];delete E[x],S()}},A=function(x){return function(){R(x)}},w=function(x){R(x.data)},_=function(x){l.postMessage(O(x),i.protocol+"//"+i.host)};N&&B||(N=function(x){m(arguments.length,1);var S=f(x)?x:M(x),C=p(arguments,1);return E[++I]=function(){c(S,void 0,C)},a(I),I},B=function(x){delete E[x]},k?a=function(x){j.nextTick(A(x))}:T&&T.now?a=function(x){T.now(A(x))}:U&&!b?(o=(u=new U).port2,u.port1.onmessage=w,a=d(o.postMessage,o)):l.addEventListener&&f(l.postMessage)&&!l.importScripts&&i&&i.protocol!=="file:"&&!g(_)?(a=_,l.addEventListener("message",w,!1)):a="onreadystatechange"in y("script")?function(x){v.appendChild(y("script")).onreadystatechange=function(){v.removeChild(this),R(x)}}:function(x){setTimeout(A(x),0)}),n.exports={set:N,clear:B}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.max,u=Math.min;n.exports=function(o,l){var c=i(o);return c<0?a(c+l,0):u(c,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var i=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(u){return i(a(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var i=e("../internals/math-trunc");n.exports=function(a){var u=+a;return u!=u||u===0?0:i(u)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(u){return u>0?a(i(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var i=e("../internals/require-object-coercible"),a=Object;n.exports=function(u){return a(i(u))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-object"),u=e("../internals/is-symbol"),o=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),c=e("../internals/well-known-symbol"),d=TypeError,f=c("toPrimitive");n.exports=function(h,g){if(!a(h)||u(h))return h;var v,p=o(h,f);if(p){if(g===void 0&&(g="default"),v=i(p,h,g),!a(v)||u(v))return v;throw new d("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(h,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var i=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(u){var o=i(u,"string");return a(o)?o:o+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var i=e("../internals/classof"),a=String;n.exports=function(u){if(i(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(u)}},{"../internals/classof":236}],349:[function(e,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=0,u=Math.random(),o=i(1 .toString);n.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+o(++a+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails");n.exports=i&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var i=TypeError;n.exports=function(a,u){if(a<u)throw new i("Not enough arguments");return a}},{}],354:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),u=i.WeakMap;n.exports=a(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var i=e("../internals/path"),a=e("../internals/has-own-property"),u=e("../internals/well-known-symbol-wrapped"),o=e("../internals/object-define-property").f;n.exports=function(l){var c=i.Symbol||(i.Symbol={});a(c,l)||o(c,l,{value:u.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var i=e("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/shared"),u=e("../internals/has-own-property"),o=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),c=e("../internals/use-symbol-as-uid"),d=i.Symbol,f=a("wks"),h=c?d.for||d:d&&d.withoutSetter||o;n.exports=function(g){return u(f,g)||(f[g]=l&&u(d,g)?d[g]:h("Symbol."+g)),f[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").findIndex,u=e("../internals/add-to-unscopables"),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),i({target:"Array",proto:!0,forced:o},{findIndex:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").find,u=e("../internals/add-to-unscopables"),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i({target:"Array",proto:!0,forced:o},{find:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-includes").includes,u=e("../internals/fails"),o=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(l){return a(this,l,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),o=e("../internals/internal-state"),l=e("../internals/object-define-property").f,c=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),f=e("../internals/is-pure"),h=e("../internals/descriptors"),g=o.set,v=o.getterFor("Array Iterator");n.exports=c(Array,"Array",function(y,m){g(this,{type:"Array Iterator",target:i(y),index:0,kind:m})},function(){var y=v(this),m=y.target,b=y.kind,k=y.index++;if(!m||k>=m.length)return y.target=void 0,d(void 0,!0);switch(b){case"keys":return d(k,!1);case"values":return d(m[k],!1)}return d([k,m[k]],!1)},"values");var p=u.Arguments=u.Array;if(a("keys"),a("values"),a("entries"),!f&&h&&p.name!=="values")try{l(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),u=e("../internals/function-apply"),o=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),c=e("../internals/fails"),d=e("../internals/is-callable"),f=e("../internals/is-symbol"),h=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),v=e("../internals/symbol-constructor-detection"),p=String,y=a("JSON","stringify"),m=l(/./.exec),b=l("".charAt),k=l("".charCodeAt),N=l("".replace),B=l(1 .toString),j=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,U=!v||c(function(){var R=a("Symbol")("stringify detection");return y([R])!=="[null]"||y({a:R})!=="{}"||y(Object(R))!=="{}"}),O=c(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),I=function(R,A){var w=h(arguments),_=g(A);if(d(_)||R!==void 0&&!f(R))return w[1]=function(x,S){if(d(_)&&(S=o(_,this,p(x),S)),!f(S))return S},u(y,null,w)},E=function(R,A,w){var _=b(w,A-1),x=b(w,A+1);return m(T,R)&&!m(M,x)||m(M,R)&&!m(T,_)?"\\u"+B(k(R,0),16):R};y&&i({target:"JSON",stat:!0,arity:3,forced:U||O},{stringify:function(R,A,w){var _=h(arguments),x=u(U?I:y,null,_);return O&&typeof x=="string"?N(x,j,E):x}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),o=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");i({target:"Object",stat:!0,forced:!a||u(function(){o.f(1)})},{getOwnPropertySymbols:function(c){var d=o.f;return d?d(l(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/to-object"),u=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(o){return u(a(o))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(u){return a(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),u=e("../internals/a-callable"),o=e("../internals/new-promise-capability"),l=e("../internals/perform"),c=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(d){var f=this,h=o.f(f),g=h.resolve,v=h.reject,p=l(function(){var y=u(f.resolve),m=[],b=0,k=1;c(d,function(N){var B=b++,j=!1;k++,a(y,f,N).then(function(T){j||(j=!0,m[B]=T,--k||g(m))},v)}),--k||g(m)});return p.error&&v(p.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,o=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),c=e("../internals/is-callable"),d=e("../internals/define-built-in"),f=o&&o.prototype;if(i({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(g){return this.then(void 0,g)}}),!a&&c(o)){var h=l("Promise").prototype.catch;f.catch!==h&&d(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var i,a,u,o=e("../internals/export"),l=e("../internals/is-pure"),c=e("../internals/engine-is-node"),d=e("../internals/global"),f=e("../internals/function-call"),h=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),v=e("../internals/set-to-string-tag"),p=e("../internals/set-species"),y=e("../internals/a-callable"),m=e("../internals/is-callable"),b=e("../internals/is-object"),k=e("../internals/an-instance"),N=e("../internals/species-constructor"),B=e("../internals/task").set,j=e("../internals/microtask"),T=e("../internals/host-report-errors"),M=e("../internals/perform"),U=e("../internals/queue"),O=e("../internals/internal-state"),I=e("../internals/promise-native-constructor"),E=e("../internals/promise-constructor-detection"),R=e("../internals/new-promise-capability"),A=E.CONSTRUCTOR,w=E.REJECTION_EVENT,_=E.SUBCLASSING,x=O.getterFor("Promise"),S=O.set,C=I&&I.prototype,q=I,P=C,$=d.TypeError,X=d.document,Z=d.process,V=R.f,Q=V,F=!!(X&&X.createEvent&&d.dispatchEvent),D=function(me){var _e;return!(!b(me)||!m(_e=me.then))&&_e},K=function(me,_e){var xe,ke,Ce,Oe=_e.value,Ue=_e.state===1,ve=Ue?me.ok:me.fail,Be=me.resolve,$e=me.reject,He=me.domain;try{ve?(Ue||(_e.rejection===2&&ce(_e),_e.rejection=1),ve===!0?xe=Oe:(He&&He.enter(),xe=ve(Oe),He&&(He.exit(),Ce=!0)),xe===me.promise?$e(new $("Promise-chain cycle")):(ke=D(xe))?f(ke,xe,Be,$e):Be(xe)):$e(Oe)}catch(Xe){He&&!Ce&&He.exit(),$e(Xe)}},ee=function(me,_e){me.notified||(me.notified=!0,j(function(){for(var xe,ke=me.reactions;xe=ke.get();)K(xe,me);me.notified=!1,_e&&!me.rejection&&ie(me)}))},ue=function(me,_e,xe){var ke,Ce;F?((ke=X.createEvent("Event")).promise=_e,ke.reason=xe,ke.initEvent(me,!1,!0),d.dispatchEvent(ke)):ke={promise:_e,reason:xe},!w&&(Ce=d["on"+me])?Ce(ke):me==="unhandledrejection"&&T("Unhandled promise rejection",xe)},ie=function(me){f(B,d,function(){var _e,xe=me.facade,ke=me.value;if(ae(me)&&(_e=M(function(){c?Z.emit("unhandledRejection",ke,xe):ue("unhandledrejection",xe,ke)}),me.rejection=c||ae(me)?2:1,_e.error))throw _e.value})},ae=function(me){return me.rejection!==1&&!me.parent},ce=function(me){f(B,d,function(){var _e=me.facade;c?Z.emit("rejectionHandled",_e):ue("rejectionhandled",_e,me.value)})},ne=function(me,_e,xe){return function(ke){me(_e,ke,xe)}},se=function(me,_e,xe){me.done||(me.done=!0,xe&&(me=xe),me.value=_e,me.state=2,ee(me,!0))},ye=function(me,_e,xe){if(!me.done){me.done=!0,xe&&(me=xe);try{if(me.facade===_e)throw new $("Promise can't be resolved itself");var ke=D(_e);ke?j(function(){var Ce={done:!1};try{f(ke,_e,ne(ye,Ce,me),ne(se,Ce,me))}catch(Oe){se(Ce,Oe,me)}}):(me.value=_e,me.state=1,ee(me,!1))}catch(Ce){se({done:!1},Ce,me)}}};if(A&&(P=(q=function(me){k(this,P),y(me),f(i,this);var _e=x(this);try{me(ne(ye,_e),ne(se,_e))}catch(xe){se(_e,xe)}}).prototype,(i=function(me){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new U,rejection:!1,state:0,value:void 0})}).prototype=h(P,"then",function(me,_e){var xe=x(this),ke=V(N(this,q));return xe.parent=!0,ke.ok=!m(me)||me,ke.fail=m(_e)&&_e,ke.domain=c?Z.domain:void 0,xe.state===0?xe.reactions.add(ke):j(function(){K(ke,xe)}),ke.promise}),a=function(){var me=new i,_e=x(me);this.promise=me,this.resolve=ne(ye,_e),this.reject=ne(se,_e)},R.f=V=function(me){return me===q||me===void 0?new a(me):Q(me)},!l&&m(I)&&C!==Object.prototype)){u=C.then,_||h(C,"then",function(me,_e){var xe=this;return new q(function(ke,Ce){f(u,xe,ke,Ce)}).then(me,_e)},{unsafe:!0});try{delete C.constructor}catch{}g&&g(C,P)}o({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:q}),v(q,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),o=e("../internals/fails"),l=e("../internals/get-built-in"),c=e("../internals/is-callable"),d=e("../internals/species-constructor"),f=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),g=u&&u.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!u&&o(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(p){var y=d(this,l("Promise")),m=c(p);return this.then(m?function(b){return f(y,p()).then(function(){return b})}:p,m?function(b){return f(y,p()).then(function(){throw b})}:p)}}),!a&&c(u)){var v=l("Promise").prototype.finally;g.finally!==v&&h(g,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),u=e("../internals/a-callable"),o=e("../internals/new-promise-capability"),l=e("../internals/perform"),c=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(d){var f=this,h=o.f(f),g=h.reject,v=l(function(){var p=u(f.resolve);c(d,function(y){a(p,f,y).then(h.resolve,g)})});return v.error&&g(v.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),u=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(o){var l=u.f(this);return a(l.reject,void 0,o),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),u=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-resolve"),d=a("Promise"),f=u&&!l;i({target:"Promise",stat:!0,forced:u||l},{resolve:function(h){return c(f&&this===d?o:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),u=e("../internals/to-absolute-index"),o=RangeError,l=String.fromCharCode,c=String.fromCodePoint,d=a([].join);i({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(f){for(var h,g=[],v=arguments.length,p=0;v>p;){if(h=+arguments[p++],u(h,1114111)!==h)throw new o(h+" is not a valid code point");g[p]=h<65536?l(h):l(55296+((h-=65536)>>10),h%1024+56320)}return d(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),u=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible"),l=e("../internals/to-string"),c=e("../internals/correct-is-regexp-logic"),d=a("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(f){return!!~d(l(o(this)),l(u(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/global"),u=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),c=e("../internals/descriptors"),d=e("../internals/symbol-constructor-detection"),f=e("../internals/fails"),h=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),v=e("../internals/an-object"),p=e("../internals/to-indexed-object"),y=e("../internals/to-property-key"),m=e("../internals/to-string"),b=e("../internals/create-property-descriptor"),k=e("../internals/object-create"),N=e("../internals/object-keys"),B=e("../internals/object-get-own-property-names"),j=e("../internals/object-get-own-property-names-external"),T=e("../internals/object-get-own-property-symbols"),M=e("../internals/object-get-own-property-descriptor"),U=e("../internals/object-define-property"),O=e("../internals/object-define-properties"),I=e("../internals/object-property-is-enumerable"),E=e("../internals/define-built-in"),R=e("../internals/define-built-in-accessor"),A=e("../internals/shared"),w=e("../internals/shared-key"),_=e("../internals/hidden-keys"),x=e("../internals/uid"),S=e("../internals/well-known-symbol"),C=e("../internals/well-known-symbol-wrapped"),q=e("../internals/well-known-symbol-define"),P=e("../internals/symbol-define-to-primitive"),$=e("../internals/set-to-string-tag"),X=e("../internals/internal-state"),Z=e("../internals/array-iteration").forEach,V=w("hidden"),Q=X.set,F=X.getterFor("Symbol"),D=Object.prototype,K=a.Symbol,ee=K&&K.prototype,ue=a.RangeError,ie=a.TypeError,ae=a.QObject,ce=M.f,ne=U.f,se=j.f,ye=I.f,me=o([].push),_e=A("symbols"),xe=A("op-symbols"),ke=A("wks"),Ce=!ae||!ae.prototype||!ae.prototype.findChild,Oe=function(Ze,st,it){var yt=ce(D,st);yt&&delete D[st],ne(Ze,st,it),yt&&Ze!==D&&ne(D,st,yt)},Ue=c&&f(function(){return k(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!==7})?Oe:ne,ve=function(Ze,st){var it=_e[Ze]=k(ee);return Q(it,{type:"Symbol",tag:Ze,description:st}),c||(it.description=st),it},Be=function(Ze,st,it){Ze===D&&Be(xe,st,it),v(Ze);var yt=y(st);return v(it),h(_e,yt)?(it.enumerable?(h(Ze,V)&&Ze[V][yt]&&(Ze[V][yt]=!1),it=k(it,{enumerable:b(0,!1)})):(h(Ze,V)||ne(Ze,V,b(1,{})),Ze[V][yt]=!0),Ue(Ze,yt,it)):ne(Ze,yt,it)},$e=function(Ze,st){v(Ze);var it=p(st),yt=N(it).concat(ht(it));return Z(yt,function(vt){c&&!u(He,it,vt)||Be(Ze,vt,it[vt])}),Ze},He=function(Ze){var st=y(Ze),it=u(ye,this,st);return!(this===D&&h(_e,st)&&!h(xe,st))&&(!(it||!h(this,st)||!h(_e,st)||h(this,V)&&this[V][st])||it)},Xe=function(Ze,st){var it=p(Ze),yt=y(st);if(it!==D||!h(_e,yt)||h(xe,yt)){var vt=ce(it,yt);return!vt||!h(_e,yt)||h(it,V)&&it[V][yt]||(vt.enumerable=!0),vt}},Te=function(Ze){var st=se(p(Ze)),it=[];return Z(st,function(yt){h(_e,yt)||h(_,yt)||me(it,yt)}),it},ht=function(Ze){var st=Ze===D,it=se(st?xe:p(Ze)),yt=[];return Z(it,function(vt){!h(_e,vt)||st&&!h(D,vt)||me(yt,_e[vt])}),yt};d||(E(ee=(K=function(){if(g(ee,this))throw new ie("Symbol is not a constructor");var Ze=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,st=x(Ze),it=function(yt){this===D&&u(it,xe,yt),h(this,V)&&h(this[V],st)&&(this[V][st]=!1);var vt=b(1,yt);try{Ue(this,st,vt)}catch(kt){if(!(kt instanceof ue))throw kt;Oe(this,st,vt)}};return c&&Ce&&Ue(D,st,{configurable:!0,set:it}),ve(st,Ze)}).prototype,"toString",function(){return F(this).tag}),E(K,"withoutSetter",function(Ze){return ve(x(Ze),Ze)}),I.f=He,U.f=Be,O.f=$e,M.f=Xe,B.f=j.f=Te,T.f=ht,C.f=function(Ze){return ve(S(Ze),Ze)},c&&(R(ee,"description",{configurable:!0,get:function(){return F(this).description}}),l||E(D,"propertyIsEnumerable",He,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K}),Z(N(ke),function(Ze){q(Ze)}),i({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Ce=!0},useSimple:function(){Ce=!1}}),i({target:"Object",stat:!0,forced:!d,sham:!c},{create:function(Ze,st){return st===void 0?k(Ze):$e(k(Ze),st)},defineProperty:Be,defineProperties:$e,getOwnPropertyDescriptor:Xe}),i({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Te}),P(),$(K,"Symbol"),_[V]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),u=e("../internals/has-own-property"),o=e("../internals/to-string"),l=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),d=l("string-to-symbol-registry"),f=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(h){var g=o(h);if(u(d,g))return d[g];var v=a("Symbol")(g);return d[g]=v,f[v]=g,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/has-own-property"),u=e("../internals/is-symbol"),o=e("../internals/try-to-string"),l=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),d=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(f){if(!u(f))throw new TypeError(o(f)+" is not a symbol");if(a(d,f))return d[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(i){(function(){var a=e("elliptic"),u=e("bn.js");n.exports=function(d){return new l(d)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(d){this.curveType=o[d],this.curveType||(this.curveType={name:d}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function c(d,f,h){Array.isArray(d)||(d=d.toArray());var g=new i(d);if(h&&g.length<h){var v=new i(h-g.length);v.fill(0),g=i.concat([v,g])}return f?g.toString(f):g}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,l.prototype.generateKeys=function(d,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,f)},l.prototype.computeSecret=function(d,f,h){return f=f||"utf8",i.isBuffer(d)||(d=new i(d,f)),c(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},l.prototype.getPublicKey=function(d,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),c(h,d)},l.prototype.getPrivateKey=function(d){return c(this.keys.getPrivate(),d)},l.prototype.setPublicKey=function(d,f){return f=f||"utf8",i.isBuffer(d)||(d=new i(d,f)),this.keys._importPublic(d),this},l.prototype.setPrivateKey=function(d,f){f=f||"utf8",i.isBuffer(d)||(d=new i(d,f));var h=new u(d);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var i=e("inherits"),a=e("md5.js"),u=e("ripemd160"),o=e("sha.js"),l=e("cipher-base");function c(d){l.call(this,"digest"),this._hash=d}i(c,l),c.prototype._update=function(d){this._hash.update(d)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new a:d==="rmd160"||d==="ripemd160"?new u:new c(o(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var i=e("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(e,n,s){var i=e("inherits"),a=e("./legacy"),u=e("cipher-base"),o=e("safe-buffer").Buffer,l=e("create-hash/md5"),c=e("ripemd160"),d=e("sha.js"),f=o.alloc(128);function h(g,v){u.call(this,"digest"),typeof v=="string"&&(v=o.from(v));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=v,v.length>p?v=(g==="rmd160"?new c:d(g)).update(v).digest():v.length<p&&(v=o.concat([v,f],p));for(var y=this._ipad=o.allocUnsafe(p),m=this._opad=o.allocUnsafe(p),b=0;b<p;b++)y[b]=54^v[b],m[b]=92^v[b];this._hash=g==="rmd160"?new c:d(g),this._hash.update(y)}i(h,u),h.prototype._update=function(g){this._hash.update(g)},h.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new c:d(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,v){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new h("rmd160",v):g==="md5"?new a(l,v):new h(g,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var i=e("inherits"),a=e("safe-buffer").Buffer,u=e("cipher-base"),o=a.alloc(128);function l(c,d){u.call(this,"digest"),typeof d=="string"&&(d=a.from(d)),this._alg=c,this._key=d,d.length>64?d=c(d):d.length<64&&(d=a.concat([d,o],64));for(var f=this._ipad=a.allocUnsafe(64),h=this._opad=a.allocUnsafe(64),g=0;g<64;g++)f[g]=54^d[g],h[g]=92^d[g];this._hash=[f]}i(l,u),l.prototype._update=function(c){this._hash.push(c)},l.prototype._final=function(){var c=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,c]))},n.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),a=Object.keys(i),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return u};var o=e("pbkdf2");s.pbkdf2=o.pbkdf2,s.pbkdf2Sync=o.pbkdf2Sync;var l=e("browserify-cipher");s.Cipher=l.Cipher,s.createCipher=l.createCipher,s.Cipheriv=l.Cipheriv,s.createCipheriv=l.createCipheriv,s.Decipher=l.Decipher,s.createDecipher=l.createDecipher,s.Decipheriv=l.Decipheriv,s.createDecipheriv=l.createDecipheriv,s.getCiphers=l.getCiphers,s.listCiphers=l.listCiphers;var c=e("diffie-hellman");s.DiffieHellmanGroup=c.DiffieHellmanGroup,s.createDiffieHellmanGroup=c.createDiffieHellmanGroup,s.getDiffieHellman=c.getDiffieHellman,s.createDiffieHellman=c.createDiffieHellman,s.DiffieHellman=c.DiffieHellman;var d=e("browserify-sign");s.createSign=d.createSign,s.Sign=d.Sign,s.createVerify=d.createVerify,s.Verify=d.Verify,s.createECDH=e("create-ecdh");var f=e("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var h=e("randomfill");s.randomFill=h.randomFill,s.randomFillSync=h.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,function(){var i=6e4,a=36e5,u="millisecond",o="second",l="minute",c="hour",d="day",f="week",h="month",g="quarter",v="year",p="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var _=["th","st","nd","rd"],x=w%100;return"["+w+(_[(x-20)%10]||_[x]||_[0])+"]"}},N=function(w,_,x){var S=String(w);return!S||S.length>=_?w:""+Array(_+1-S.length).join(x)+w},B={s:N,z:function(w){var _=-w.utcOffset(),x=Math.abs(_),S=Math.floor(x/60),C=x%60;return(_<=0?"+":"-")+N(S,2,"0")+":"+N(C,2,"0")},m:function w(_,x){if(_.date()<x.date())return-w(x,_);var S=12*(x.year()-_.year())+(x.month()-_.month()),C=_.clone().add(S,h),q=x-C<0,P=_.clone().add(S+(q?-1:1),h);return+(-(S+(x-C)/(q?C-P:P-C))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:h,y:v,w:f,d,D:p,h:c,m:l,s:o,ms:u,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},j="en",T={};T[j]=k;var M="$isDayjsObject",U=function(w){return w instanceof R||!(!w||!w[M])},O=function w(_,x,S){var C;if(!_)return j;if(typeof _=="string"){var q=_.toLowerCase();T[q]&&(C=q),x&&(T[q]=x,C=q);var P=_.split("-");if(!C&&P.length>1)return w(P[0])}else{var $=_.name;T[$]=_,C=$}return!S&&C&&(j=C),C||!S&&j},I=function(w,_){if(U(w))return w.clone();var x=typeof _=="object"?_:{};return x.date=w,x.args=arguments,new R(x)},E=B;E.l=O,E.i=U,E.w=function(w,_){return I(w,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var R=function(){function w(x){this.$L=O(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[M]=!0}var _=w.prototype;return _.parse=function(x){this.$d=function(S){var C=S.date,q=S.utc;if(C===null)return new Date(NaN);if(E.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var P=C.match(m);if(P){var $=P[2]-1||0,X=(P[7]||"0").substring(0,3);return q?new Date(Date.UTC(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,X)):new Date(P[1],$,P[3]||1,P[4]||0,P[5]||0,P[6]||0,X)}}return new Date(C)}(x),this.init()},_.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},_.$utils=function(){return E},_.isValid=function(){return this.$d.toString()!==y},_.isSame=function(x,S){var C=I(x);return this.startOf(S)<=C&&C<=this.endOf(S)},_.isAfter=function(x,S){return I(x)<this.startOf(S)},_.isBefore=function(x,S){return this.endOf(S)<I(x)},_.$g=function(x,S,C){return E.u(x)?this[S]:this.set(C,x)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(x,S){var C=this,q=!!E.u(S)||S,P=E.p(x),$=function(ee,ue){var ie=E.w(C.$u?Date.UTC(C.$y,ue,ee):new Date(C.$y,ue,ee),C);return q?ie:ie.endOf(d)},X=function(ee,ue){return E.w(C.toDate()[ee].apply(C.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(ue)),C)},Z=this.$W,V=this.$M,Q=this.$D,F="set"+(this.$u?"UTC":"");switch(P){case v:return q?$(1,0):$(31,11);case h:return q?$(1,V):$(0,V+1);case f:var D=this.$locale().weekStart||0,K=(Z<D?Z+7:Z)-D;return $(q?Q-K:Q+(6-K),V);case d:case p:return X(F+"Hours",0);case c:return X(F+"Minutes",1);case l:return X(F+"Seconds",2);case o:return X(F+"Milliseconds",3);default:return this.clone()}},_.endOf=function(x){return this.startOf(x,!1)},_.$set=function(x,S){var C,q=E.p(x),P="set"+(this.$u?"UTC":""),$=(C={},C[d]=P+"Date",C[p]=P+"Date",C[h]=P+"Month",C[v]=P+"FullYear",C[c]=P+"Hours",C[l]=P+"Minutes",C[o]=P+"Seconds",C[u]=P+"Milliseconds",C)[q],X=q===d?this.$D+(S-this.$W):S;if(q===h||q===v){var Z=this.clone().set(p,1);Z.$d[$](X),Z.init(),this.$d=Z.set(p,Math.min(this.$D,Z.daysInMonth())).$d}else $&&this.$d[$](X);return this.init(),this},_.set=function(x,S){return this.clone().$set(x,S)},_.get=function(x){return this[E.p(x)]()},_.add=function(x,S){var C,q=this;x=Number(x);var P=E.p(S),$=function(V){var Q=I(q);return E.w(Q.date(Q.date()+Math.round(V*x)),q)};if(P===h)return this.set(h,this.$M+x);if(P===v)return this.set(v,this.$y+x);if(P===d)return $(1);if(P===f)return $(7);var X=(C={},C[l]=i,C[c]=a,C[o]=1e3,C)[P]||1,Z=this.$d.getTime()+x*X;return E.w(Z,this)},_.subtract=function(x,S){return this.add(-1*x,S)},_.format=function(x){var S=this,C=this.$locale();if(!this.isValid())return C.invalidDate||y;var q=x||"YYYY-MM-DDTHH:mm:ssZ",P=E.z(this),$=this.$H,X=this.$m,Z=this.$M,V=C.weekdays,Q=C.months,F=C.meridiem,D=function(ue,ie,ae,ce){return ue&&(ue[ie]||ue(S,q))||ae[ie].slice(0,ce)},K=function(ue){return E.s($%12||12,ue,"0")},ee=F||function(ue,ie,ae){var ce=ue<12?"AM":"PM";return ae?ce.toLowerCase():ce};return q.replace(b,function(ue,ie){return ie||function(ae){switch(ae){case"YY":return String(S.$y).slice(-2);case"YYYY":return E.s(S.$y,4,"0");case"M":return Z+1;case"MM":return E.s(Z+1,2,"0");case"MMM":return D(C.monthsShort,Z,Q,3);case"MMMM":return D(Q,Z);case"D":return S.$D;case"DD":return E.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return D(C.weekdaysMin,S.$W,V,2);case"ddd":return D(C.weekdaysShort,S.$W,V,3);case"dddd":return V[S.$W];case"H":return String($);case"HH":return E.s($,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return ee($,X,!0);case"A":return ee($,X,!1);case"m":return String(X);case"mm":return E.s(X,2,"0");case"s":return String(S.$s);case"ss":return E.s(S.$s,2,"0");case"SSS":return E.s(S.$ms,3,"0");case"Z":return P}return null}(ue)||P.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(x,S,C){var q,P=this,$=E.p(S),X=I(x),Z=(X.utcOffset()-this.utcOffset())*i,V=this-X,Q=function(){return E.m(P,X)};switch($){case v:q=Q()/12;break;case h:q=Q();break;case g:q=Q()/3;break;case f:q=(V-Z)/6048e5;break;case d:q=(V-Z)/864e5;break;case c:q=V/a;break;case l:q=V/i;break;case o:q=V/1e3;break;default:q=V}return C?q:E.a(q)},_.daysInMonth=function(){return this.endOf(h).$D},_.$locale=function(){return T[this.$L]},_.locale=function(x,S){if(!x)return this.$L;var C=this.clone(),q=O(x,S,!0);return q&&(C.$L=q),C},_.clone=function(){return E.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},w}(),A=R.prototype;return I.prototype=A,[["$ms",u],["$s",o],["$m",l],["$H",c],["$W",d],["$M",h],["$y",v],["$D",p]].forEach(function(w){A[w[1]]=function(_){return this.$g(_,w[0],w[1])}}),I.extend=function(w,_){return w.$i||(w(_,R,I),w.$i=!0),I},I.locale=O,I.isDayjs=U,I.unix=function(w){return I(1e3*w)},I.en=T[j],I.Ls=T,I.p={},I})},{}],392:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,o=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},d=function(m){return(m=+m)+(m>68?1900:2e3)},f=function(m){return function(b){this[m]=+b}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var k=b.match(/([+-]|\d\d)/g),N=60*k[1]+(+k[2]||0);return N===0?0:k[0]==="+"?-N:N}(m)}],g=function(m){var b=c[m];return b&&(b.indexOf?b:b.s.concat(b.f))},v=function(m,b){var k,N=c.meridiem;if(N){for(var B=1;B<=24;B+=1)if(m.indexOf(N(B,0,b))>-1){k=B>12;break}}else k=m===(b?"pm":"PM");return k},p={A:[l,function(m){this.afternoon=v(m,!1)}],a:[l,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[u,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[o,f("seconds")],ss:[o,f("seconds")],m:[o,f("minutes")],mm:[o,f("minutes")],H:[o,f("hours")],h:[o,f("hours")],HH:[o,f("hours")],hh:[o,f("hours")],D:[o,f("day")],DD:[u,f("day")],Do:[l,function(m){var b=c.ordinal,k=m.match(/\d+/);if(this.day=k[0],b)for(var N=1;N<=31;N+=1)b(N).replace(/\[|\]/g,"")===m&&(this.day=N)}],M:[o,f("month")],MM:[u,f("month")],MMM:[l,function(m){var b=g("months"),k=(g("monthsShort")||b.map(function(N){return N.slice(0,3)})).indexOf(m)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[l,function(m){var b=g("months").indexOf(m)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,f("year")],YY:[u,function(m){this.year=d(m)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function y(m){var b,k;b=m,k=c&&c.formats;for(var N=(m=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,E,R){var A=R&&R.toUpperCase();return E||k[R]||i[R]||k[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,_,x){return _||x.slice(1)})})).match(a),B=N.length,j=0;j<B;j+=1){var T=N[j],M=p[T],U=M&&M[0],O=M&&M[1];N[j]=O?{regex:U,parser:O}:T.replace(/^\[|\]$/g,"")}return function(I){for(var E={},R=0,A=0;R<B;R+=1){var w=N[R];if(typeof w=="string")A+=w.length;else{var _=w.regex,x=w.parser,S=I.slice(A),C=_.exec(S)[0];x.call(E,C),I=I.replace(C,"")}}return function(q){var P=q.afternoon;if(P!==void 0){var $=q.hours;P?$<12&&(q.hours+=12):$===12&&(q.hours=0),delete q.afternoon}}(E),E}}return function(m,b,k){k.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(d=m.parseTwoDigitYear);var N=b.prototype,B=N.parse;N.parse=function(j){var T=j.date,M=j.utc,U=j.args;this.$u=M;var O=U[1];if(typeof O=="string"){var I=U[2]===!0,E=U[3]===!0,R=I||E,A=U[2];E&&(A=U[2]),c=this.$locale(),!I&&A&&(c=k.Ls[A]),this.$d=function(S,C,q){try{if(["x","X"].indexOf(C)>-1)return new Date((C==="X"?1e3:1)*S);var P=y(C)(S),$=P.year,X=P.month,Z=P.day,V=P.hours,Q=P.minutes,F=P.seconds,D=P.milliseconds,K=P.zone,ee=new Date,ue=Z||($||X?1:ee.getDate()),ie=$||ee.getFullYear(),ae=0;$&&!X||(ae=X>0?X-1:ee.getMonth());var ce=V||0,ne=Q||0,se=F||0,ye=D||0;return K?new Date(Date.UTC(ie,ae,ue,ce,ne,se,ye+60*K.offset*1e3)):q?new Date(Date.UTC(ie,ae,ue,ce,ne,se,ye)):new Date(ie,ae,ue,ce,ne,se,ye)}catch{return new Date("")}}(T,O,M),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),R&&T!=this.format(O)&&(this.$d=new Date("")),c={}}else if(O instanceof Array)for(var w=O.length,_=1;_<=w;_+=1){U[1]=O[_-1];var x=k.apply(this,U);if(x.isValid()){this.$d=x.$d,this.$L=x.$L,this.init();break}_===w&&(this.$d=new Date(""))}else B.call(this,j)}}})},{}],393:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(o,l,c){var d=l.prototype;c.utc=function(m){var b={date:m,utc:!0,args:arguments};return new l(b)},d.utc=function(m){var b=c(this.toDate(),{locale:this.$L,utc:!0});return m?b.add(this.utcOffset(),i):b},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var f=d.parse;d.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),f.call(this,m)};var h=d.init;d.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else h.call(this)};var g=d.utcOffset;d.utcOffset=function(m,b){var k=this.$utils().u;if(k(m))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof m=="string"&&(m=function(T){T===void 0&&(T="");var M=T.match(a);if(!M)return null;var U=(""+M[0]).match(u)||["-",0,0],O=U[0],I=60*+U[1]+ +U[2];return I===0?0:O==="+"?I:-I}(m))===null)return this;var N=Math.abs(m)<=16?60*m:m,B=this;if(b)return B.$offset=N,B.$u=m===0,B;if(m!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(N+j,i)).$offset=N,B.$x.$localOffset=j}else B=this.utc();return B};var v=d.format;d.format=function(m){var b=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,b)},d.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var p=d.toDate;d.toDate=function(m){return m==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=d.diff;d.diff=function(m,b,k){if(m&&this.$u===m.$u)return y.call(this,m,b,k);var N=this.local(),B=c(m).local();return y.call(N,B,b,k)}}})},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),u={};function o(l){i.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=l[c]}s.instantiate=function(l){function c(g){l.call(this,g),this._cbcInit()}a(c,l);for(var d=Object.keys(u),f=0;f<d.length;f++){var h=d[f];c.prototype[h]=u[h]}return c.create=function(g){return new c(g)},c},u._cbcInit=function(){var l=new o(this.options.iv);this._cbcState=l},u._update=function(l,c,d,f){var h=this._cbcState,g=this.constructor.super_.prototype,v=h.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)v[p]^=l[c+p];for(g._update.call(this,v,0,d,f),p=0;p<this.blockSize;p++)v[p]=d[f+p]}else{for(g._update.call(this,l,c,d,f),p=0;p<this.blockSize;p++)d[f+p]^=v[p];for(p=0;p<this.blockSize;p++)v[p]=l[c+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var i=e("minimalistic-assert");function a(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},a.prototype._buffer=function(u,o){for(var l=Math.min(this.buffer.length-this.bufferOff,u.length-o),c=0;c<l;c++)this.buffer[this.bufferOff+c]=u[o+c];return this.bufferOff+=l,l},a.prototype._flushBuffer=function(u,o){return this._update(this.buffer,0,u,o),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(u){var o=0,l=0,c=(this.bufferOff+u.length)/this.blockSize|0,d=new Array(c*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(u,o),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(d,l)));for(var f=u.length-(u.length-o)%this.blockSize;o<f;o+=this.blockSize)this._update(u,o,d,l),l+=this.blockSize;for(;o<u.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=u[o];return d},a.prototype._updateDecrypt=function(u){for(var o=0,l=0,c=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,d=new Array(c*this.blockSize);c>0;c--)o+=this._buffer(u,o),l+=this._flushBuffer(d,l);return o+=this._buffer(u,o),d},a.prototype.final=function(u){var o,l;return u&&(o=this.update(u)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),o?o.concat(l):l},a.prototype._pad=function(u,o){if(o===0)return!1;for(;o<u.length;)u[o++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},a.prototype._unpad=function(u){return u},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),u=e("./utils"),o=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function c(f){o.call(this,f);var h=new l;this._desState=h,this.deriveKeys(h,f.key)}a(c,o),n.exports=c,c.create=function(f){return new c(f)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(f,h){f.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var g=u.readUInt32BE(h,0),v=u.readUInt32BE(h,4);u.pc1(g,v,f.tmp,0),g=f.tmp[0],v=f.tmp[1];for(var p=0;p<f.keys.length;p+=2){var y=d[p>>>1];g=u.r28shl(g,y),v=u.r28shl(v,y),u.pc2(g,v,f.keys,p)}},c.prototype._update=function(f,h,g,v){var p=this._desState,y=u.readUInt32BE(f,h),m=u.readUInt32BE(f,h+4);u.ip(y,m,p.tmp,0),y=p.tmp[0],m=p.tmp[1],this.type==="encrypt"?this._encrypt(p,y,m,p.tmp,0):this._decrypt(p,y,m,p.tmp,0),y=p.tmp[0],m=p.tmp[1],u.writeUInt32BE(g,y,v),u.writeUInt32BE(g,m,v+4)},c.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var g=f.length-h,v=h;v<f.length;v++)f[v]=g;return!0},c.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],g=f.length-h;g<f.length;g++)i.equal(f[g],h);return f.slice(0,f.length-h)},c.prototype._encrypt=function(f,h,g,v,p){for(var y=h,m=g,b=0;b<f.keys.length;b+=2){var k=f.keys[b],N=f.keys[b+1];u.expand(m,f.tmp,0),k^=f.tmp[0],N^=f.tmp[1];var B=u.substitute(k,N),j=m;m=(y^u.permute(B))>>>0,y=j}u.rip(m,y,v,p)},c.prototype._decrypt=function(f,h,g,v,p){for(var y=g,m=h,b=f.keys.length-2;b>=0;b-=2){var k=f.keys[b],N=f.keys[b+1];u.expand(y,f.tmp,0),k^=f.tmp[0],N^=f.tmp[1];var B=u.substitute(k,N),j=y;y=(m^u.permute(B))>>>0,m=j}u.rip(y,m,v,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),u=e("./cipher"),o=e("./des");function l(d,f){i.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),g=f.slice(8,16),v=f.slice(16,24);this.ciphers=d==="encrypt"?[o.create({type:"encrypt",key:h}),o.create({type:"decrypt",key:g}),o.create({type:"encrypt",key:v})]:[o.create({type:"decrypt",key:v}),o.create({type:"encrypt",key:g}),o.create({type:"decrypt",key:h})]}function c(d){u.call(this,d);var f=new l(this.type,this.options.key);this._edeState=f}a(c,u),n.exports=c,c.create=function(d){return new c(d)},c.prototype._update=function(d,f,h,g){var v=this._edeState;v.ciphers[0]._update(d,f,h,g),v.ciphers[1]._update(h,g,h,g),v.ciphers[2]._update(h,g,h,g)},c.prototype._pad=o.prototype._pad,c.prototype._unpad=o.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(o,l){return(o[0+l]<<24|o[1+l]<<16|o[2+l]<<8|o[3+l])>>>0},s.writeUInt32BE=function(o,l,c){o[0+c]=l>>>24,o[1+c]=l>>>16&255,o[2+c]=l>>>8&255,o[3+c]=255&l},s.ip=function(o,l,c,d){for(var f=0,h=0,g=6;g>=0;g-=2){for(var v=0;v<=24;v+=8)f<<=1,f|=l>>>v+g&1;for(v=0;v<=24;v+=8)f<<=1,f|=o>>>v+g&1}for(g=6;g>=0;g-=2){for(v=1;v<=25;v+=8)h<<=1,h|=l>>>v+g&1;for(v=1;v<=25;v+=8)h<<=1,h|=o>>>v+g&1}c[d+0]=f>>>0,c[d+1]=h>>>0},s.rip=function(o,l,c,d){for(var f=0,h=0,g=0;g<4;g++)for(var v=24;v>=0;v-=8)f<<=1,f|=l>>>v+g&1,f<<=1,f|=o>>>v+g&1;for(g=4;g<8;g++)for(v=24;v>=0;v-=8)h<<=1,h|=l>>>v+g&1,h<<=1,h|=o>>>v+g&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.pc1=function(o,l,c,d){for(var f=0,h=0,g=7;g>=5;g--){for(var v=0;v<=24;v+=8)f<<=1,f|=l>>v+g&1;for(v=0;v<=24;v+=8)f<<=1,f|=o>>v+g&1}for(v=0;v<=24;v+=8)f<<=1,f|=l>>v+g&1;for(g=1;g<=3;g++){for(v=0;v<=24;v+=8)h<<=1,h|=l>>v+g&1;for(v=0;v<=24;v+=8)h<<=1,h|=o>>v+g&1}for(v=0;v<=24;v+=8)h<<=1,h|=o>>v+g&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.r28shl=function(o,l){return o<<l&268435455|o>>>28-l};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(o,l,c,d){for(var f=0,h=0,g=i.length>>>1,v=0;v<g;v++)f<<=1,f|=o>>>i[v]&1;for(v=g;v<i.length;v++)h<<=1,h|=l>>>i[v]&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.expand=function(o,l,c){var d=0,f=0;d=(1&o)<<5|o>>>27;for(var h=23;h>=15;h-=4)d<<=6,d|=o>>>h&63;for(h=11;h>=3;h-=4)f|=o>>>h&63,f<<=6;f|=(31&o)<<1|o>>>31,l[c+0]=d>>>0,l[c+1]=f>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(o,l){for(var c=0,d=0;d<4;d++)c<<=4,c|=a[64*d+(o>>>18-6*d&63)];for(d=0;d<4;d++)c<<=4,c|=a[256+64*d+(l>>>18-6*d&63)];return c>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(o){for(var l=0,c=0;c<u.length;c++)l<<=1,l|=o>>>u[c]&1;return l>>>0},s.padSplit=function(o,l,c){for(var d=o.toString(2);d.length<l;)d="0"+d;for(var f=[],h=0;h<l;h+=c)f.push(d.slice(h,h+c));return f.join(" ")}},{}],400:[function(e,n,s){(function(i){(function(){var a=e("./lib/generatePrime"),u=e("./lib/primes.json"),o=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(c){var d=new i(u[c].prime,"hex"),f=new i(u[c].gen,"hex");return new o(d,f)},s.createDiffieHellman=s.DiffieHellman=function c(d,f,h,g){return i.isBuffer(f)||l[f]===void 0?c(d,"binary",f,h):(f=f||"binary",g=g||"binary",h=h||new i([2]),i.isBuffer(h)||(h=new i(h,g)),typeof d=="number"?new o(a(d,h),h,!0):(i.isBuffer(d)||(d=new i(d,f)),new o(d,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),u=new(e("miller-rabin")),o=new a(24),l=new a(11),c=new a(10),d=new a(3),f=new a(7),h=e("./generatePrime"),g=e("randombytes");function v(k,N){return N=N||"utf8",i.isBuffer(k)||(k=new i(k,N)),this._pub=new a(k),this}function p(k,N){return N=N||"utf8",i.isBuffer(k)||(k=new i(k,N)),this._priv=new a(k),this}n.exports=m;var y={};function m(k,N,B){this.setGenerator(N),this.__prime=new a(k),this._prime=a.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=v,this.setPrivateKey=p):this._primeCode=8}function b(k,N){var B=new i(k.toArray());return N?B.toString(N):B}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(k,N){var B=N.toString("hex"),j=[B,k.toString(16)].join("_");if(j in y)return y[j];var T,M=0;if(k.isEven()||!h.simpleSieve||!h.fermatTest(k)||!u.test(k))return M+=1,M+=B==="02"||B==="05"?8:4,y[j]=M,M;switch(u.test(k.shrn(1))||(M+=2),B){case"02":k.mod(o).cmp(l)&&(M+=8);break;case"05":(T=k.mod(c)).cmp(d)&&T.cmp(f)&&(M+=8);break;default:M+=4}return y[j]=M,M}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new a(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(k){var N=(k=(k=new a(k)).toRed(this._prime)).redPow(this._priv).fromRed(),B=new i(N.toArray()),j=this.getPrime();if(B.length<j.length){var T=new i(j.length-B.length);T.fill(0),B=i.concat([T,B])}return B},m.prototype.getPublicKey=function(k){return b(this._pub,k)},m.prototype.getPrivateKey=function(k){return b(this._priv,k)},m.prototype.getPrime=function(k){return b(this.__prime,k)},m.prototype.getGenerator=function(k){return b(this._gen,k)},m.prototype.setGenerator=function(k,N){return N=N||"utf8",i.isBuffer(k)||(k=new i(k,N)),this.__gen=k,this._gen=new a(k),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var i=e("randombytes");n.exports=k,k.simpleSieve=m,k.fermatTest=b;var a=e("bn.js"),u=new a(24),o=new(e("miller-rabin")),l=new a(1),c=new a(2),d=new a(5),f=(new a(16),new a(8),new a(10)),h=new a(3),g=(new a(7),new a(11)),v=new a(4),p=(new a(12),null);function y(){if(p!==null)return p;var N=[];N[0]=2;for(var B=1,j=3;j<1048576;j+=2){for(var T=Math.ceil(Math.sqrt(j)),M=0;M<B&&N[M]<=T&&j%N[M]!=0;M++);B!==M&&N[M]<=T||(N[B++]=j)}return p=N,N}function m(N){for(var B=y(),j=0;j<B.length;j++)if(N.modn(B[j])===0)return N.cmpn(B[j])===0;return!0}function b(N){var B=a.mont(N);return c.toRed(B).redPow(N.subn(1)).fromRed().cmpn(1)===0}function k(N,B){if(N<16)return new a(B===2||B===5?[140,123]:[140,39]);var j,T;for(B=new a(B);;){for(j=new a(i(Math.ceil(N/8)));j.bitLength()>N;)j.ishrn(1);if(j.isEven()&&j.iadd(l),j.testn(1)||j.iadd(c),B.cmp(c)){if(!B.cmp(d))for(;j.mod(f).cmp(h);)j.iadd(v)}else for(;j.mod(u).cmp(g);)j.iadd(v);if(m(T=j.shrn(1))&&m(j)&&b(T)&&b(j)&&o.test(T)&&o.test(j))return j}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var i=s;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),u=a.getNAF,o=a.getJSF,l=a.assert;function c(f,h){this.type=f,this.p=new i(h.p,16),this.red=h.prime?i.red(h.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=h.n&&new i(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(f,h){this.curve=f,this.type=h,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(f,h){l(f.precomputed);var g=f._getDoubles(),v=u(h,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var y,m,b=[];for(y=0;y<v.length;y+=g.step){m=0;for(var k=y+g.step-1;k>=y;k--)m=(m<<1)+v[k];b.push(m)}for(var N=this.jpoint(null,null,null),B=this.jpoint(null,null,null),j=p;j>0;j--){for(y=0;y<b.length;y++)(m=b[y])===j?B=B.mixedAdd(g.points[y]):m===-j&&(B=B.mixedAdd(g.points[y].neg()));N=N.add(B)}return N.toP()},c.prototype._wnafMul=function(f,h){var g=4,v=f._getNAFPoints(g);g=v.wnd;for(var p=v.points,y=u(h,g,this._bitLength),m=this.jpoint(null,null,null),b=y.length-1;b>=0;b--){for(var k=0;b>=0&&y[b]===0;b--)k++;if(b>=0&&k++,m=m.dblp(k),b<0)break;var N=y[b];l(N!==0),m=f.type==="affine"?N>0?m.mixedAdd(p[N-1>>1]):m.mixedAdd(p[-N-1>>1].neg()):N>0?m.add(p[N-1>>1]):m.add(p[-N-1>>1].neg())}return f.type==="affine"?m.toP():m},c.prototype._wnafMulAdd=function(f,h,g,v,p){var y,m,b,k=this._wnafT1,N=this._wnafT2,B=this._wnafT3,j=0;for(y=0;y<v;y++){var T=(b=h[y])._getNAFPoints(f);k[y]=T.wnd,N[y]=T.points}for(y=v-1;y>=1;y-=2){var M=y-1,U=y;if(k[M]===1&&k[U]===1){var O=[h[M],null,null,h[U]];h[M].y.cmp(h[U].y)===0?(O[1]=h[M].add(h[U]),O[2]=h[M].toJ().mixedAdd(h[U].neg())):h[M].y.cmp(h[U].y.redNeg())===0?(O[1]=h[M].toJ().mixedAdd(h[U]),O[2]=h[M].add(h[U].neg())):(O[1]=h[M].toJ().mixedAdd(h[U]),O[2]=h[M].toJ().mixedAdd(h[U].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],E=o(g[M],g[U]);for(j=Math.max(E[0].length,j),B[M]=new Array(j),B[U]=new Array(j),m=0;m<j;m++){var R=0|E[0][m],A=0|E[1][m];B[M][m]=I[3*(R+1)+(A+1)],B[U][m]=0,N[M]=O}}else B[M]=u(g[M],k[M],this._bitLength),B[U]=u(g[U],k[U],this._bitLength),j=Math.max(B[M].length,j),j=Math.max(B[U].length,j)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(y=j;y>=0;y--){for(var x=0;y>=0;){var S=!0;for(m=0;m<v;m++)_[m]=0|B[m][y],_[m]!==0&&(S=!1);if(!S)break;x++,y--}if(y>=0&&x++,w=w.dblp(x),y<0)break;for(m=0;m<v;m++){var C=_[m];C!==0&&(C>0?b=N[m][C-1>>1]:C<0&&(b=N[m][-C-1>>1].neg()),w=b.type==="affine"?w.mixedAdd(b):w.add(b))}}for(y=0;y<v;y++)N[y]=null;return p?w:w.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(f,h){f=a.toArray(f,h);var g=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*g)return f[0]===6?l(f[f.length-1]%2==0):f[0]===7&&l(f[f.length-1]%2==1),this.point(f.slice(1,1+g),f.slice(1+g,1+2*g));if((f[0]===2||f[0]===3)&&f.length-1===g)return this.pointFromX(f.slice(1,1+g),f[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(f){return this.encode(f,!0)},d.prototype._encode=function(f){var h=this.curve.p.byteLength(),g=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",h))},d.prototype.encode=function(f,h){return a.encode(this._encode(h),f)},d.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},d.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},d.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],v=this,p=0;p<h;p+=f){for(var y=0;y<f;y++)v=v.dbl();g.push(v)}return{step:f,points:g}},d.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],g=(1<<f)-1,v=g===1?null:this.dbl(),p=1;p<g;p++)h[p]=h[p-1].add(v);return{wnd:f,points:h}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(f){for(var h=this,g=0;g<f;g++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),u=e("inherits"),o=e("./base"),l=i.assert;function c(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",f),this.a=new a(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function d(f,h,g,v,p){o.BasePoint.call(this,f,"projective"),h===null&&g===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(h,16),this.y=new a(g,16),this.z=v?new a(v,16):this.curve.one,this.t=p&&new a(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(c,o),n.exports=c,c.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},c.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},c.prototype.jpoint=function(f,h,g,v){return this.point(f,h,g,v)},c.prototype.pointFromX=function(f,h){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),v=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=v.redMul(p.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var b=m.fromRed().isOdd();return(h&&!b||!h&&b)&&(m=m.redNeg()),this.point(f,m)},c.prototype.pointFromY=function(f,h){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr(),v=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=v.redMul(p.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==h&&(m=m.redNeg()),this.point(m,f)},c.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),g=f.y.redSqr(),v=h.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(g)));return v.cmp(p)===0},u(d,o.BasePoint),c.prototype.pointFromJSON=function(f){return d.fromJSON(this,f)},c.prototype.point=function(f,h,g,v){return new d(this,f,h,g,v)},d.fromJSON=function(f,h){return new d(f,h[0],h[1],h[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var v=this.curve._mulA(f),p=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),y=v.redAdd(h),m=y.redSub(g),b=v.redSub(h),k=p.redMul(m),N=y.redMul(b),B=p.redMul(b),j=m.redMul(y);return this.curve.point(k,N,j,B)},d.prototype._projDbl=function(){var f,h,g,v,p,y,m=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var N=(v=this.curve._mulA(b)).redAdd(k);this.zOne?(f=m.redSub(b).redSub(k).redMul(N.redSub(this.curve.two)),h=N.redMul(v.redSub(k)),g=N.redSqr().redSub(N).redSub(N)):(p=this.z.redSqr(),y=N.redSub(p).redISub(p),f=m.redSub(b).redISub(k).redMul(y),h=N.redMul(v.redSub(k)),g=N.redMul(y))}else v=b.redAdd(k),p=this.curve._mulC(this.z).redSqr(),y=v.redSub(p).redSub(p),f=this.curve._mulC(m.redISub(v)).redMul(y),h=this.curve._mulC(v).redMul(b.redISub(k)),g=v.redMul(y);return this.curve.point(f,h,g)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),g=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),v=this.t.redMul(this.curve.dd).redMul(f.t),p=this.z.redMul(f.z.redAdd(f.z)),y=g.redSub(h),m=p.redSub(v),b=p.redAdd(v),k=g.redAdd(h),N=y.redMul(m),B=b.redMul(k),j=y.redMul(k),T=m.redMul(b);return this.curve.point(N,B,T,j)},d.prototype._projAdd=function(f){var h,g,v=this.z.redMul(f.z),p=v.redSqr(),y=this.x.redMul(f.x),m=this.y.redMul(f.y),b=this.curve.d.redMul(y).redMul(m),k=p.redSub(b),N=p.redAdd(b),B=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(y).redISub(m),j=v.redMul(k).redMul(B);return this.curve.twisted?(h=v.redMul(N).redMul(m.redSub(this.curve._mulA(y))),g=k.redMul(N)):(h=v.redMul(N).redMul(m.redSub(y)),g=this.curve._mulC(k).redMul(N)),this.curve.point(j,h,g)},d.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},d.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!1)},d.prototype.jmulAdd=function(f,h,g){return this.curve._wnafMulAdd(1,[this,h],[f,g],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},d.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var g=f.clone(),v=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(v),this.x.cmp(h)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var i=s;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var i=e("bn.js"),a=e("inherits"),u=e("./base"),o=e("../utils");function l(d){u.call(this,"mont",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(d,f,h){u.BasePoint.call(this,d,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(l,u),n.exports=l,l.prototype.validate=function(d){var f=d.normalize().x,h=f.redSqr(),g=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return g.redSqrt().redSqr().cmp(g)===0},a(c,u.BasePoint),l.prototype.decodePoint=function(d,f){return this.point(o.toArray(d,f),1)},l.prototype.point=function(d,f){return new c(this,d,f)},l.prototype.pointFromJSON=function(d){return c.fromJSON(this,d)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(d,f){return new c(d,f[0],f[1]||d.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=d.redSub(f),g=d.redMul(f),v=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(g,v)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(d,f){var h=this.x.redAdd(this.z),g=this.x.redSub(this.z),v=d.x.redAdd(d.z),p=d.x.redSub(d.z).redMul(h),y=v.redMul(g),m=f.z.redMul(p.redAdd(y).redSqr()),b=f.x.redMul(p.redISub(y).redSqr());return this.curve.point(m,b)},c.prototype.mul=function(d){for(var f=d.clone(),h=this,g=this.curve.point(null,null),v=[];f.cmpn(0)!==0;f.iushrn(1))v.push(f.andln(1));for(var p=v.length-1;p>=0;p--)v[p]===0?(h=h.diffAdd(g,this),g=g.dbl()):(g=h.diffAdd(g,this),h=h.dbl());return g},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),u=e("inherits"),o=e("./base"),l=i.assert;function c(h){o.call(this,"short",h),this.a=new a(h.a,16).toRed(this.red),this.b=new a(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(h,g,v,p){o.BasePoint.call(this,h,"affine"),g===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(g,16),this.y=new a(v,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,g,v,p){o.BasePoint.call(this,h,"jacobian"),g===null&&v===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(g,16),this.y=new a(v,16),this.z=new a(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(c,o),n.exports=c,c.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,v;if(h.beta)g=new a(h.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(h.lambda)v=new a(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?v=y[0]:(v=y[1],l(this.g.mul(v).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:v,basis:h.basis?h.basis.map(function(m){return{a:new a(m.a,16),b:new a(m.b,16)}}):this._getEndoBasis(v)}}},c.prototype._getEndoRoots=function(h){var g=h===this.p?this.red:a.mont(h),v=new a(2).toRed(g).redInvm(),p=v.redNeg(),y=new a(3).toRed(g).redNeg().redSqrt().redMul(v);return[p.redAdd(y).fromRed(),p.redSub(y).fromRed()]},c.prototype._getEndoBasis=function(h){for(var g,v,p,y,m,b,k,N,B,j=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=h,M=this.n.clone(),U=new a(1),O=new a(0),I=new a(0),E=new a(1),R=0;T.cmpn(0)!==0;){var A=M.div(T);N=M.sub(A.mul(T)),B=I.sub(A.mul(U));var w=E.sub(A.mul(O));if(!p&&N.cmp(j)<0)g=k.neg(),v=U,p=N.neg(),y=B;else if(p&&++R==2)break;k=N,M=T,T=N,I=U,U=B,E=O,O=w}m=N.neg(),b=B;var _=p.sqr().add(y.sqr());return m.sqr().add(b.sqr()).cmp(_)>=0&&(m=g,b=v),p.negative&&(p=p.neg(),y=y.neg()),m.negative&&(m=m.neg(),b=b.neg()),[{a:p,b:y},{a:m,b}]},c.prototype._endoSplit=function(h){var g=this.endo.basis,v=g[0],p=g[1],y=p.b.mul(h).divRound(this.n),m=v.b.neg().mul(h).divRound(this.n),b=y.mul(v.a),k=m.mul(p.a),N=y.mul(v.b),B=m.mul(p.b);return{k1:h.sub(b).sub(k),k2:N.add(B).neg()}},c.prototype.pointFromX=function(h,g){(h=new a(h,16)).red||(h=h.toRed(this.red));var v=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),p=v.redSqrt();if(p.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var y=p.fromRed().isOdd();return(g&&!y||!g&&y)&&(p=p.redNeg()),this.point(h,p)},c.prototype.validate=function(h){if(h.inf)return!0;var g=h.x,v=h.y,p=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return v.redSqr().redISub(y).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(h,g,v){for(var p=this._endoWnafT1,y=this._endoWnafT2,m=0;m<h.length;m++){var b=this._endoSplit(g[m]),k=h[m],N=k._getBeta();b.k1.negative&&(b.k1.ineg(),k=k.neg(!0)),b.k2.negative&&(b.k2.ineg(),N=N.neg(!0)),p[2*m]=k,p[2*m+1]=N,y[2*m]=b.k1,y[2*m+1]=b.k2}for(var B=this._wnafMulAdd(1,p,y,2*m,v),j=0;j<2*m;j++)p[j]=null,y[j]=null;return B},u(d,o.BasePoint),c.prototype.point=function(h,g,v){return new d(this,h,g,v)},c.prototype.pointFromJSON=function(h,g){return d.fromJSON(this,h,g)},d.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var v=this.curve,p=function(y){return v.point(y.x.redMul(v.endo.beta),y.y)};h.beta=g,g.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(p)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(p)}}}return g}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(h,g,v){typeof g=="string"&&(g=JSON.parse(g));var p=h.point(g[0],g[1],v);if(!g[2])return p;function y(b){return h.point(b[0],b[1],v)}var m=g[2];return p.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[p].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[p].concat(m.naf.points.map(y))}},p},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var g=this.y.redSub(h.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(h.x).redInvm()));var v=g.redSqr().redISub(this.x).redISub(h.x),p=g.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,p)},d.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,v=this.x.redSqr(),p=h.redInvm(),y=v.redAdd(v).redIAdd(v).redIAdd(g).redMul(p),m=y.redSqr().redISub(this.x.redAdd(this.x)),b=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,b)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(h){return h=new a(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,g,v){var p=[this,g],y=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(p,y):this.curve._wnafMulAdd(1,p,y,2)},d.prototype.jmulAdd=function(h,g,v){var p=[this,g],y=[h,v];return this.curve.endo?this.curve._endoWnafMulAdd(p,y,!0):this.curve._wnafMulAdd(1,p,y,2,!0)},d.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},d.prototype.neg=function(h){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var v=this.precomputed,p=function(y){return y.neg()};g.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(p)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(p)}}}return g},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(f,o.BasePoint),c.prototype.jpoint=function(h,g,v){return new f(this,h,g,v)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),g=h.redSqr(),v=this.x.redMul(g),p=this.y.redMul(g).redMul(h);return this.curve.point(v,p)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var g=h.z.redSqr(),v=this.z.redSqr(),p=this.x.redMul(g),y=h.x.redMul(v),m=this.y.redMul(g.redMul(h.z)),b=h.y.redMul(v.redMul(this.z)),k=p.redSub(y),N=m.redSub(b);if(k.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=k.redSqr(),j=B.redMul(k),T=p.redMul(B),M=N.redSqr().redIAdd(j).redISub(T).redISub(T),U=N.redMul(T.redISub(M)).redISub(m.redMul(j)),O=this.z.redMul(h.z).redMul(k);return this.curve.jpoint(M,U,O)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var g=this.z.redSqr(),v=this.x,p=h.x.redMul(g),y=this.y,m=h.y.redMul(g).redMul(this.z),b=v.redSub(p),k=y.redSub(m);if(b.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=b.redSqr(),B=N.redMul(b),j=v.redMul(N),T=k.redSqr().redIAdd(B).redISub(j).redISub(j),M=k.redMul(j.redISub(T)).redISub(y.redMul(B)),U=this.z.redMul(b);return this.curve.jpoint(T,M,U)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var v=this;for(g=0;g<h;g++)v=v.dbl();return v}var p=this.curve.a,y=this.curve.tinv,m=this.x,b=this.y,k=this.z,N=k.redSqr().redSqr(),B=b.redAdd(b);for(g=0;g<h;g++){var j=m.redSqr(),T=B.redSqr(),M=T.redSqr(),U=j.redAdd(j).redIAdd(j).redIAdd(p.redMul(N)),O=m.redMul(T),I=U.redSqr().redISub(O.redAdd(O)),E=O.redISub(I),R=U.redMul(E);R=R.redIAdd(R).redISub(M);var A=B.redMul(k);g+1<h&&(N=N.redMul(M)),m=I,k=A,B=R}return this.curve.jpoint(m,B.redMul(y),k)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,g,v;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var k=p.redAdd(p).redIAdd(p),N=k.redSqr().redISub(b).redISub(b),B=m.redIAdd(m);B=(B=B.redIAdd(B)).redIAdd(B),h=N,g=k.redMul(b.redISub(N)).redISub(B),v=this.y.redAdd(this.y)}else{var j=this.x.redSqr(),T=this.y.redSqr(),M=T.redSqr(),U=this.x.redAdd(T).redSqr().redISub(j).redISub(M);U=U.redIAdd(U);var O=j.redAdd(j).redIAdd(j),I=O.redSqr(),E=M.redIAdd(M);E=(E=E.redIAdd(E)).redIAdd(E),h=I.redISub(U).redISub(U),g=O.redMul(U.redISub(h)).redISub(E),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(h,g,v)},f.prototype._threeDbl=function(){var h,g,v;if(this.zOne){var p=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),b=this.x.redAdd(y).redSqr().redISub(p).redISub(m);b=b.redIAdd(b);var k=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),N=k.redSqr().redISub(b).redISub(b);h=N;var B=m.redIAdd(m);B=(B=B.redIAdd(B)).redIAdd(B),g=k.redMul(b.redISub(N)).redISub(B),v=this.y.redAdd(this.y)}else{var j=this.z.redSqr(),T=this.y.redSqr(),M=this.x.redMul(T),U=this.x.redSub(j).redMul(this.x.redAdd(j));U=U.redAdd(U).redIAdd(U);var O=M.redIAdd(M),I=(O=O.redIAdd(O)).redAdd(O);h=U.redSqr().redISub(I),v=this.y.redAdd(this.z).redSqr().redISub(T).redISub(j);var E=T.redSqr();E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E),g=U.redMul(O.redISub(h)).redISub(E)}return this.curve.jpoint(h,g,v)},f.prototype._dbl=function(){var h=this.curve.a,g=this.x,v=this.y,p=this.z,y=p.redSqr().redSqr(),m=g.redSqr(),b=v.redSqr(),k=m.redAdd(m).redIAdd(m).redIAdd(h.redMul(y)),N=g.redAdd(g),B=(N=N.redIAdd(N)).redMul(b),j=k.redSqr().redISub(B.redAdd(B)),T=B.redISub(j),M=b.redSqr();M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var U=k.redMul(T).redISub(M),O=v.redAdd(v).redMul(p);return this.curve.jpoint(j,U,O)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),g=this.y.redSqr(),v=this.z.redSqr(),p=g.redSqr(),y=h.redAdd(h).redIAdd(h),m=y.redSqr(),b=this.x.redAdd(g).redSqr().redISub(h).redISub(p),k=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(m)).redSqr(),N=p.redIAdd(p);N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var B=y.redIAdd(b).redSqr().redISub(m).redISub(k).redISub(N),j=g.redMul(B);j=(j=j.redIAdd(j)).redIAdd(j);var T=this.x.redMul(k).redISub(j);T=(T=T.redIAdd(T)).redIAdd(T);var M=this.y.redMul(B.redMul(N.redISub(B)).redISub(b.redMul(k)));M=(M=(M=M.redIAdd(M)).redIAdd(M)).redIAdd(M);var U=this.z.redAdd(b).redSqr().redISub(v).redISub(k);return this.curve.jpoint(T,M,U)},f.prototype.mul=function(h,g){return h=new a(h,g),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var g=this.z.redSqr(),v=h.z.redSqr();if(this.x.redMul(v).redISub(h.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),y=v.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(p)).cmpn(0)===0},f.prototype.eqXToP=function(h){var g=this.z.redSqr(),v=h.toRed(this.curve.red).redMul(g);if(this.x.cmp(v)===0)return!0;for(var p=h.clone(),y=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(y),this.x.cmp(v)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var i,a=s,u=e("hash.js"),o=e("./curve"),l=e("./utils").assert;function c(f){f.type==="short"?this.curve=new o.short(f):f.type==="edwards"?this.curve=new o.edwards(f):this.curve=new o.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(f,h){Object.defineProperty(a,f,{configurable:!0,enumerable:!0,get:function(){var g=new c(h);return Object.defineProperty(a,f,{configurable:!0,enumerable:!0,value:g}),g}})}a.PresetCurve=c,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var i=e("bn.js"),a=e("hmac-drbg"),u=e("../utils"),o=e("../curves"),l=e("brorand"),c=u.assert,d=e("./key"),f=e("./signature");function h(g){if(!(this instanceof h))return new h(g);typeof g=="string"&&(c(Object.prototype.hasOwnProperty.call(o,g),"Unknown curve "+g),g=o[g]),g instanceof o.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=h,h.prototype.keyPair=function(g){return new d(this,g)},h.prototype.keyFromPrivate=function(g,v){return d.fromPrivate(this,g,v)},h.prototype.keyFromPublic=function(g,v){return d.fromPublic(this,g,v)},h.prototype.genKeyPair=function(g){g||(g={});for(var v=new a({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),y=this.n.sub(new i(2));;){var m=new i(v.generate(p));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},h.prototype._truncateToN=function(g,v){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!v&&g.cmp(this.n)>=0?g.sub(this.n):g},h.prototype.sign=function(g,v,p,y){typeof p=="object"&&(y=p,p=null),y||(y={}),v=this.keyFromPrivate(v,p),g=this._truncateToN(new i(g,16));for(var m=this.n.byteLength(),b=v.getPrivate().toArray("be",m),k=g.toArray("be",m),N=new a({hash:this.hash,entropy:b,nonce:k,pers:y.pers,persEnc:y.persEnc||"utf8"}),B=this.n.sub(new i(1)),j=0;;j++){var T=y.k?y.k(j):new i(N.generate(this.n.byteLength()));if(!((T=this._truncateToN(T,!0)).cmpn(1)<=0||T.cmp(B)>=0)){var M=this.g.mul(T);if(!M.isInfinity()){var U=M.getX(),O=U.umod(this.n);if(O.cmpn(0)!==0){var I=T.invm(this.n).mul(O.mul(v.getPrivate()).iadd(g));if((I=I.umod(this.n)).cmpn(0)!==0){var E=(M.getY().isOdd()?1:0)|(U.cmp(O)!==0?2:0);return y.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),E^=1),new f({r:O,s:I,recoveryParam:E})}}}}}},h.prototype.verify=function(g,v,p,y){g=this._truncateToN(new i(g,16)),p=this.keyFromPublic(p,y);var m=(v=new f(v,"hex")).r,b=v.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var k,N=b.invm(this.n),B=N.mul(g).umod(this.n),j=N.mul(m).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(B,p.getPublic(),j)).isInfinity()&&k.eqXToP(m):!(k=this.g.mulAdd(B,p.getPublic(),j)).isInfinity()&&k.getX().umod(this.n).cmp(m)===0},h.prototype.recoverPubKey=function(g,v,p,y){c((3&p)===p,"The recovery param is more than two bits"),v=new f(v,y);var m=this.n,b=new i(g),k=v.r,N=v.s,B=1&p,j=p>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&j)throw new Error("Unable to find sencond key candinate");k=j?this.curve.pointFromX(k.add(this.curve.n),B):this.curve.pointFromX(k,B);var T=v.r.invm(m),M=m.sub(b).mul(T).umod(m),U=N.mul(T).umod(m);return this.g.mulAdd(M,k,U)},h.prototype.getKeyRecoveryParam=function(g,v,p,y){if((v=new f(v,y)).recoveryParam!==null)return v.recoveryParam;for(var m=0;m<4;m++){var b;try{b=this.recoverPubKey(g,v,m)}catch{continue}if(b.eq(p))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var i=e("bn.js"),a=e("../utils").assert;function u(o,l){this.ec=o,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}n.exports=u,u.fromPublic=function(o,l,c){return l instanceof u?l:new u(o,{pub:l,pubEnc:c})},u.fromPrivate=function(o,l,c){return l instanceof u?l:new u(o,{priv:l,privEnc:c})},u.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(o,l){return typeof o=="string"&&(l=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,o):this.pub},u.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(o,l){this.priv=new i(o,l||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(o,l){if(o.x||o.y)return this.ec.curve.type==="mont"?a(o.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(o.x&&o.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(o.x,o.y));this.pub=this.ec.curve.decodePoint(o,l)},u.prototype.derive=function(o){return o.validate()||a(o.validate(),"public point not validated"),o.mul(this.priv).getX()},u.prototype.sign=function(o,l,c){return this.ec.sign(o,this,l,c)},u.prototype.verify=function(o,l){return this.ec.verify(o,l,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),u=a.assert;function o(h,g){if(h instanceof o)return h;this._importDER(h,g)||(u(h.r&&h.s,"Signature without r or s"),this.r=new i(h.r,16),this.s=new i(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function l(){this.place=0}function c(h,g){var v=h[g.place++];if(!(128&v))return v;var p=15&v;if(p===0||p>4)return!1;for(var y=0,m=0,b=g.place;m<p;m++,b++)y<<=8,y|=h[b],y>>>=0;return!(y<=127)&&(g.place=b,y)}function d(h){for(var g=0,v=h.length-1;!h[g]&&!(128&h[g+1])&&g<v;)g++;return g===0?h:h.slice(g)}function f(h,g){if(g<128)h.push(g);else{var v=1+(Math.log(g)/Math.LN2>>>3);for(h.push(128|v);--v;)h.push(g>>>(v<<3)&255);h.push(g)}}n.exports=o,o.prototype._importDER=function(h,g){h=a.toArray(h,g);var v=new l;if(h[v.place++]!==48)return!1;var p=c(h,v);if(p===!1||p+v.place!==h.length||h[v.place++]!==2)return!1;var y=c(h,v);if(y===!1)return!1;var m=h.slice(v.place,y+v.place);if(v.place+=y,h[v.place++]!==2)return!1;var b=c(h,v);if(b===!1||h.length!==b+v.place)return!1;var k=h.slice(v.place,b+v.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new i(m),this.s=new i(k),this.recoveryParam=null,!0},o.prototype.toDER=function(h){var g=this.r.toArray(),v=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&v[0]&&(v=[0].concat(v)),g=d(g),v=d(v);!(v[0]||128&v[1]);)v=v.slice(1);var p=[2];f(p,g.length),(p=p.concat(g)).push(2),f(p,v.length);var y=p.concat(v),m=[48];return f(m,y.length),m=m.concat(y),a.encode(m,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var i=e("hash.js"),a=e("../curves"),u=e("../utils"),o=u.assert,l=u.parseBytes,c=e("./key"),d=e("./signature");function f(h){if(o(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=a[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=i.sha512}n.exports=f,f.prototype.sign=function(h,g){h=l(h);var v=this.keyFromSecret(g),p=this.hashInt(v.messagePrefix(),h),y=this.g.mul(p),m=this.encodePoint(y),b=this.hashInt(m,v.pubBytes(),h).mul(v.priv()),k=p.add(b).umod(this.curve.n);return this.makeSignature({R:y,S:k,Rencoded:m})},f.prototype.verify=function(h,g,v){h=l(h),g=this.makeSignature(g);var p=this.keyFromPublic(v),y=this.hashInt(g.Rencoded(),p.pubBytes(),h),m=this.g.mul(g.S());return g.R().add(p.pub().mul(y)).eq(m)},f.prototype.hashInt=function(){for(var h=this.hash(),g=0;g<arguments.length;g++)h.update(arguments[g]);return u.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return c.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return c.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof d?h:new d(this,h)},f.prototype.encodePoint=function(h){var g=h.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=h.getX().isOdd()?128:0,g},f.prototype.decodePoint=function(h){var g=(h=u.parseBytes(h)).length-1,v=h.slice(0,g).concat(-129&h[g]),p=(128&h[g])!=0,y=u.intFromLE(v);return this.curve.pointFromY(y,p)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return u.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var i=e("../utils"),a=i.assert,u=i.parseBytes,o=i.cachedProperty;function l(c,d){this.eddsa=c,this._secret=u(d.secret),c.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=u(d.pub)}l.fromPublic=function(c,d){return d instanceof l?d:new l(c,{pub:d})},l.fromSecret=function(c,d){return d instanceof l?d:new l(c,{secret:d})},l.prototype.secret=function(){return this._secret},o(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(l,"privBytes",function(){var c=this.eddsa,d=this.hash(),f=c.encodingLength-1,h=d.slice(0,c.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h}),o(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(c){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},l.prototype.verify=function(c,d){return this.eddsa.verify(c,d,this)},l.prototype.getSecret=function(c){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),c)},l.prototype.getPublic=function(c){return i.encode(this.pubBytes(),c)},n.exports=l},{"../utils":419}],417:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),u=a.assert,o=a.cachedProperty,l=a.parseBytes;function c(d,f){this.eddsa=d,typeof f!="object"&&(f=l(f)),Array.isArray(f)&&(f={R:f.slice(0,d.encodingLength),S:f.slice(d.encodingLength)}),u(f.R&&f.S,"Signature without R or S"),d.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var i=s,a=e("bn.js"),u=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");i.assert=u,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(l,c,d){var f=new Array(Math.max(l.bitLength(),d)+1);f.fill(0);for(var h=1<<c+1,g=l.clone(),v=0;v<f.length;v++){var p,y=g.andln(h-1);g.isOdd()?(p=y>(h>>1)-1?(h>>1)-y:y,g.isubn(p)):p=0,f[v]=p,g.iushrn(1)}return f},i.getJSF=function(l,c){var d=[[],[]];l=l.clone(),c=c.clone();for(var f,h=0,g=0;l.cmpn(-h)>0||c.cmpn(-g)>0;){var v,p,y=l.andln(3)+h&3,m=c.andln(3)+g&3;y===3&&(y=-1),m===3&&(m=-1),v=1&y?(f=l.andln(7)+h&7)!==3&&f!==5||m!==2?y:-y:0,d[0].push(v),p=1&m?(f=c.andln(7)+g&7)!==3&&f!==5||y!==2?m:-m:0,d[1].push(p),2*h===v+1&&(h=1-h),2*g===p+1&&(g=1-g),l.iushrn(1),c.iushrn(1)}return d},i.cachedProperty=function(l,c,d){var f="_"+c;l.prototype[c]=function(){return this[f]!==void 0?this[f]:this[f]=d.call(this)}},i.parseBytes=function(l){return typeof l=="string"?i.toArray(l,"hex"):l},i.intFromLE=function(l){return new a(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var i=Object.create||function(T){var M=function(){};return M.prototype=T,new M},a=Object.keys||function(T){var M=[];for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&M.push(U);return U},u=Function.prototype.bind||function(T){var M=this;return function(){return M.apply(T,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var l,c=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),l=d.x===0}catch{l=!1}function f(T){return T._maxListeners===void 0?o.defaultMaxListeners:T._maxListeners}function h(T,M,U){if(M)T.call(U);else for(var O=T.length,I=j(T,O),E=0;E<O;++E)I[E].call(U)}function g(T,M,U,O){if(M)T.call(U,O);else for(var I=T.length,E=j(T,I),R=0;R<I;++R)E[R].call(U,O)}function v(T,M,U,O,I){if(M)T.call(U,O,I);else for(var E=T.length,R=j(T,E),A=0;A<E;++A)R[A].call(U,O,I)}function p(T,M,U,O,I,E){if(M)T.call(U,O,I,E);else for(var R=T.length,A=j(T,R),w=0;w<R;++w)A[w].call(U,O,I,E)}function y(T,M,U,O){if(M)T.apply(U,O);else for(var I=T.length,E=j(T,I),R=0;R<I;++R)E[R].apply(U,O)}function m(T,M,U,O){var I,E,R;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if((E=T._events)?(E.newListener&&(T.emit("newListener",M,U.listener?U.listener:U),E=T._events),R=E[M]):(E=T._events=i(null),T._eventsCount=0),R){if(typeof R=="function"?R=E[M]=O?[U,R]:[R,U]:O?R.unshift(U):R.push(U),!R.warned&&(I=f(T))&&I>0&&R.length>I){R.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(M)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=T,A.type=M,A.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else R=E[M]=U,++T._eventsCount;return T}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),M=0;M<T.length;++M)T[M]=arguments[M];this.listener.apply(this.target,T)}}function k(T,M,U){var O={fired:!1,wrapFn:void 0,target:T,type:M,listener:U},I=u.call(b,O);return I.listener=U,O.wrapFn=I,I}function N(T,M,U){var O=T._events;if(!O)return[];var I=O[M];return I?typeof I=="function"?U?[I.listener||I]:[I]:U?function(E){for(var R=new Array(E.length),A=0;A<R.length;++A)R[A]=E[A].listener||E[A];return R}(I):j(I,I.length):[]}function B(T){var M=this._events;if(M){var U=M[T];if(typeof U=="function")return 1;if(U)return U.length}return 0}function j(T,M){for(var U=new Array(M),O=0;O<M;++O)U[O]=T[O];return U}l?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(T){if(typeof T!="number"||T<0||T!=T)throw new TypeError('"defaultMaxListeners" must be a positive number');c=T}}):o.defaultMaxListeners=c,o.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||isNaN(T))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=T,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(T){var M,U,O,I,E,R,A=T==="error";if(R=this._events)A=A&&R.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(M=arguments[1]),M instanceof Error)throw M;var w=new Error('Unhandled "error" event. ('+M+")");throw w.context=M,w}if(!(U=R[T]))return!1;var _=typeof U=="function";switch(O=arguments.length){case 1:h(U,_,this);break;case 2:g(U,_,this,arguments[1]);break;case 3:v(U,_,this,arguments[1],arguments[2]);break;case 4:p(U,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(O-1),E=1;E<O;E++)I[E-1]=arguments[E];y(U,_,this,I)}return!0},o.prototype.addListener=function(T,M){return m(this,T,M,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(T,M){return m(this,T,M,!0)},o.prototype.once=function(T,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.on(T,k(this,T,M)),this},o.prototype.prependOnceListener=function(T,M){if(typeof M!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(T,k(this,T,M)),this},o.prototype.removeListener=function(T,M){var U,O,I,E,R;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if(!(O=this._events))return this;if(!(U=O[T]))return this;if(U===M||U.listener===M)--this._eventsCount==0?this._events=i(null):(delete O[T],O.removeListener&&this.emit("removeListener",T,U.listener||M));else if(typeof U!="function"){for(I=-1,E=U.length-1;E>=0;E--)if(U[E]===M||U[E].listener===M){R=U[E].listener,I=E;break}if(I<0)return this;I===0?U.shift():function(A,w){for(var _=w,x=_+1,S=A.length;x<S;_+=1,x+=1)A[_]=A[x];A.pop()}(U,I),U.length===1&&(O[T]=U[0]),O.removeListener&&this.emit("removeListener",T,R||M)}return this},o.prototype.removeAllListeners=function(T){var M,U,O;if(!(U=this._events))return this;if(!U.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):U[T]&&(--this._eventsCount==0?this._events=i(null):delete U[T]),this;if(arguments.length===0){var I,E=a(U);for(O=0;O<E.length;++O)(I=E[O])!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(M=U[T])=="function")this.removeListener(T,M);else if(M)for(O=M.length-1;O>=0;O--)this.removeListener(T,M[O]);return this},o.prototype.listeners=function(T){return N(this,T,!0)},o.prototype.rawListeners=function(T){return N(this,T,!1)},o.listenerCount=function(T,M){return typeof T.listenerCount=="function"?T.listenerCount(M):B.call(T,M)},o.prototype.listenerCount=B,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(u,o,l,c){if(i.isBuffer(u)||(u=i.from(u,"binary")),o&&(i.isBuffer(o)||(o=i.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=l/8,f=i.alloc(d),h=i.alloc(c||0),g=i.alloc(0);d>0||c>0;){var v=new a;v.update(g),v.update(u),o&&v.update(o),g=v.digest();var p=0;if(d>0){var y=f.length-d;p=Math.min(d,g.length),g.copy(f,y,0,p),d-=p}if(p<g.length&&c>0){var m=h.length-c,b=Math.min(c,g.length-p);g.copy(h,m,p,p+b),c-=b}}return g.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function u(o){a.call(this),this._block=i.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(u,a),u.prototype._transform=function(o,l,c){var d=null;try{this.update(o,l)}catch(f){d=f}c(d)},u.prototype._flush=function(o){var l=null;try{this.push(this.digest())}catch(c){l=c}o(l)},u.prototype.update=function(o,l){if(function(v,p){if(!i.isBuffer(v)&&typeof v!="string")throw new TypeError(p+" must be a string or a buffer")}(o,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(o)||(o=i.from(o,l));for(var c=this._block,d=0;this._blockOffset+o.length-d>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)c[f++]=o[d++];this._update(),this._blockOffset=0}for(;d<o.length;)c[this._blockOffset++]=o[d++];for(var h=0,g=8*o.length;g>0;++h)this._length[h]+=g,(g=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*g);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();o!==void 0&&(l=l.toString(o)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return l},u.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var i=s;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=u,u.prototype.update=function(o,l){if(o=i.toArray(o,l),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){var c=(o=this.pending).length%this._delta8;this.pending=o.slice(o.length-c,o.length),this.pending.length===0&&(this.pending=null),o=i.join32(o,0,o.length-c,this.endian);for(var d=0;d<o.length;d+=this._delta32)this._update(o,d,d+this._delta32)}return this},u.prototype.digest=function(o){return this.update(this._pad()),a(this.pending===null),this._digest(o)},u.prototype._pad=function(){var o=this.pendingTotal,l=this._delta8,c=l-(o+this.padLength)%l,d=new Array(c+this.padLength);d[0]=128;for(var f=1;f<c;f++)d[f]=0;if(o<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)d[f++]=0;d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=o>>>24&255,d[f++]=o>>>16&255,d[f++]=o>>>8&255,d[f++]=255&o}else for(d[f++]=255&o,d[f++]=o>>>8&255,d[f++]=o>>>16&255,d[f++]=o>>>24&255,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,h=8;h<this.padLength;h++)d[f++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function u(o,l,c){if(!(this instanceof u))return new u(o,l,c);this.Hash=o,this.blockSize=o.blockSize/8,this.outSize=o.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(l,c))}n.exports=u,u.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),a(o.length<=this.blockSize);for(var l=o.length;l<this.blockSize;l++)o.push(0);for(l=0;l<o.length;l++)o[l]^=54;for(this.inner=new this.Hash().update(o),l=0;l<o.length;l++)o[l]^=106;this.outer=new this.Hash().update(o)},u.prototype.update=function(o,l){return this.inner.update(o,l),this},u.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var i=e("./utils"),a=e("./common"),u=i.rotl32,o=i.sum32,l=i.sum32_3,c=i.sum32_4,d=a.BlockHash;function f(){if(!(this instanceof f))return new f;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(k,N,B,j){return k<=15?N^B^j:k<=31?N&B|~N&j:k<=47?(N|~B)^j:k<=63?N&j|B&~j:N^(B|~j)}function g(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function v(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}i.inherits(f,d),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(k,N){for(var B=this.h[0],j=this.h[1],T=this.h[2],M=this.h[3],U=this.h[4],O=B,I=j,E=T,R=M,A=U,w=0;w<80;w++){var _=o(u(c(B,h(w,j,T,M),k[p[w]+N],g(w)),m[w]),U);B=U,U=M,M=u(T,10),T=j,j=_,_=o(u(c(O,h(79-w,I,E,R),k[y[w]+N],v(w)),b[w]),A),O=A,A=R,R=u(E,10),E=I,I=_}_=l(this.h[1],T,R),this.h[1]=l(this.h[2],M,A),this.h[2]=l(this.h[3],U,O),this.h[3]=l(this.h[4],B,I),this.h[4]=l(this.h[0],j,E),this.h[0]=_},f.prototype._digest=function(k){return k==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var i=e("../utils"),a=e("../common"),u=e("./common"),o=i.rotl32,l=i.sum32,c=i.sum32_5,d=u.ft_1,f=a.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,f),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(v,p){for(var y=this.W,m=0;m<16;m++)y[m]=v[p+m];for(;m<y.length;m++)y[m]=o(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var b=this.h[0],k=this.h[1],N=this.h[2],B=this.h[3],j=this.h[4];for(m=0;m<y.length;m++){var T=~~(m/20),M=c(o(b,5),d(T,k,N,B),j,y[m],h[T]);j=B,B=N,N=o(k,30),k=b,b=M}this.h[0]=l(this.h[0],b),this.h[1]=l(this.h[1],k),this.h[2]=l(this.h[2],N),this.h[3]=l(this.h[3],B),this.h[4]=l(this.h[4],j)},g.prototype._digest=function(v){return v==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var i=e("../utils"),a=e("./256");function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(u,a),n.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(o){return o==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var i=e("../utils"),a=e("../common"),u=e("./common"),o=e("minimalistic-assert"),l=i.sum32,c=i.sum32_4,d=i.sum32_5,f=u.ch32,h=u.maj32,g=u.s0_256,v=u.s1_256,p=u.g0_256,y=u.g1_256,m=a.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}i.inherits(k,m),n.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(N,B){for(var j=this.W,T=0;T<16;T++)j[T]=N[B+T];for(;T<j.length;T++)j[T]=c(y(j[T-2]),j[T-7],p(j[T-15]),j[T-16]);var M=this.h[0],U=this.h[1],O=this.h[2],I=this.h[3],E=this.h[4],R=this.h[5],A=this.h[6],w=this.h[7];for(o(this.k.length===j.length),T=0;T<j.length;T++){var _=d(w,v(E),f(E,R,A),this.k[T],j[T]),x=l(g(M),h(M,U,O));w=A,A=R,R=E,E=l(I,_),I=O,O=U,U=M,M=l(_,x)}this.h[0]=l(this.h[0],M),this.h[1]=l(this.h[1],U),this.h[2]=l(this.h[2],O),this.h[3]=l(this.h[3],I),this.h[4]=l(this.h[4],E),this.h[5]=l(this.h[5],R),this.h[6]=l(this.h[6],A),this.h[7]=l(this.h[7],w)},k.prototype._digest=function(N){return N==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var i=e("../utils"),a=e("./512");function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(u,a),n.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(o){return o==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var i=e("../utils"),a=e("../common"),u=e("minimalistic-assert"),o=i.rotr64_hi,l=i.rotr64_lo,c=i.shr64_hi,d=i.shr64_lo,f=i.sum64,h=i.sum64_hi,g=i.sum64_lo,v=i.sum64_4_hi,p=i.sum64_4_lo,y=i.sum64_5_hi,m=i.sum64_5_lo,b=a.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function B(x,S,C,q,P){var $=x&C^~x&P;return $<0&&($+=4294967296),$}function j(x,S,C,q,P,$){var X=S&q^~S&$;return X<0&&(X+=4294967296),X}function T(x,S,C,q,P){var $=x&C^x&P^C&P;return $<0&&($+=4294967296),$}function M(x,S,C,q,P,$){var X=S&q^S&$^q&$;return X<0&&(X+=4294967296),X}function U(x,S){var C=o(x,S,28)^o(S,x,2)^o(S,x,7);return C<0&&(C+=4294967296),C}function O(x,S){var C=l(x,S,28)^l(S,x,2)^l(S,x,7);return C<0&&(C+=4294967296),C}function I(x,S){var C=o(x,S,14)^o(x,S,18)^o(S,x,9);return C<0&&(C+=4294967296),C}function E(x,S){var C=l(x,S,14)^l(x,S,18)^l(S,x,9);return C<0&&(C+=4294967296),C}function R(x,S){var C=o(x,S,1)^o(x,S,8)^c(x,S,7);return C<0&&(C+=4294967296),C}function A(x,S){var C=l(x,S,1)^l(x,S,8)^d(x,S,7);return C<0&&(C+=4294967296),C}function w(x,S){var C=o(x,S,19)^o(S,x,29)^c(x,S,6);return C<0&&(C+=4294967296),C}function _(x,S){var C=l(x,S,19)^l(S,x,29)^d(x,S,6);return C<0&&(C+=4294967296),C}i.inherits(N,b),n.exports=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(x,S){for(var C=this.W,q=0;q<32;q++)C[q]=x[S+q];for(;q<C.length;q+=2){var P=w(C[q-4],C[q-3]),$=_(C[q-4],C[q-3]),X=C[q-14],Z=C[q-13],V=R(C[q-30],C[q-29]),Q=A(C[q-30],C[q-29]),F=C[q-32],D=C[q-31];C[q]=v(P,$,X,Z,V,Q,F,D),C[q+1]=p(P,$,X,Z,V,Q,F,D)}},N.prototype._update=function(x,S){this._prepareBlock(x,S);var C=this.W,q=this.h[0],P=this.h[1],$=this.h[2],X=this.h[3],Z=this.h[4],V=this.h[5],Q=this.h[6],F=this.h[7],D=this.h[8],K=this.h[9],ee=this.h[10],ue=this.h[11],ie=this.h[12],ae=this.h[13],ce=this.h[14],ne=this.h[15];u(this.k.length===C.length);for(var se=0;se<C.length;se+=2){var ye=ce,me=ne,_e=I(D,K),xe=E(D,K),ke=B(D,K,ee,ue,ie),Ce=j(D,K,ee,ue,ie,ae),Oe=this.k[se],Ue=this.k[se+1],ve=C[se],Be=C[se+1],$e=y(ye,me,_e,xe,ke,Ce,Oe,Ue,ve,Be),He=m(ye,me,_e,xe,ke,Ce,Oe,Ue,ve,Be);ye=U(q,P),me=O(q,P),_e=T(q,P,$,X,Z),xe=M(q,P,$,X,Z,V);var Xe=h(ye,me,_e,xe),Te=g(ye,me,_e,xe);ce=ie,ne=ae,ie=ee,ae=ue,ee=D,ue=K,D=h(Q,F,$e,He),K=g(F,F,$e,He),Q=Z,F=V,Z=$,V=X,$=q,X=P,q=h($e,He,Xe,Te),P=g($e,He,Xe,Te)}f(this.h,0,q,P),f(this.h,2,$,X),f(this.h,4,Z,V),f(this.h,6,Q,F),f(this.h,8,D,K),f(this.h,10,ee,ue),f(this.h,12,ie,ae),f(this.h,14,ce,ne)},N.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var i=e("../utils").rotr32;function a(l,c,d){return l&c^~l&d}function u(l,c,d){return l&c^l&d^c&d}function o(l,c,d){return l^c^d}s.ft_1=function(l,c,d,f){return l===0?a(c,d,f):l===1||l===3?o(c,d,f):l===2?u(c,d,f):void 0},s.ch32=a,s.maj32=u,s.p32=o,s.s0_256=function(l){return i(l,2)^i(l,13)^i(l,22)},s.s1_256=function(l){return i(l,6)^i(l,11)^i(l,25)},s.g0_256=function(l){return i(l,7)^i(l,18)^l>>>3},s.g1_256=function(l){return i(l,17)^i(l,19)^l>>>10}},{"../utils":437}],437:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits");function u(d,f){return(64512&d.charCodeAt(f))==55296&&!(f<0||f+1>=d.length)&&(64512&d.charCodeAt(f+1))==56320}function o(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function l(d){return d.length===1?"0"+d:d}function c(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}s.inherits=a,s.toArray=function(d,f){if(Array.isArray(d))return d.slice();if(!d)return[];var h=[];if(typeof d=="string")if(f){if(f==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),v=0;v<d.length;v+=2)h.push(parseInt(d[v]+d[v+1],16))}else for(var g=0,v=0;v<d.length;v++){var p=d.charCodeAt(v);p<128?h[g++]=p:p<2048?(h[g++]=p>>6|192,h[g++]=63&p|128):u(d,v)?(p=65536+((1023&p)<<10)+(1023&d.charCodeAt(++v)),h[g++]=p>>18|240,h[g++]=p>>12&63|128,h[g++]=p>>6&63|128,h[g++]=63&p|128):(h[g++]=p>>12|224,h[g++]=p>>6&63|128,h[g++]=63&p|128)}else for(v=0;v<d.length;v++)h[v]=0|d[v];return h},s.toHex=function(d){for(var f="",h=0;h<d.length;h++)f+=l(d[h].toString(16));return f},s.htonl=o,s.toHex32=function(d,f){for(var h="",g=0;g<d.length;g++){var v=d[g];f==="little"&&(v=o(v)),h+=c(v.toString(16))}return h},s.zero2=l,s.zero8=c,s.join32=function(d,f,h,g){var v=h-f;i(v%4==0);for(var p=new Array(v/4),y=0,m=f;y<p.length;y++,m+=4){var b;b=g==="big"?d[m]<<24|d[m+1]<<16|d[m+2]<<8|d[m+3]:d[m+3]<<24|d[m+2]<<16|d[m+1]<<8|d[m],p[y]=b>>>0}return p},s.split32=function(d,f){for(var h=new Array(4*d.length),g=0,v=0;g<d.length;g++,v+=4){var p=d[g];f==="big"?(h[v]=p>>>24,h[v+1]=p>>>16&255,h[v+2]=p>>>8&255,h[v+3]=255&p):(h[v+3]=p>>>24,h[v+2]=p>>>16&255,h[v+1]=p>>>8&255,h[v]=255&p)}return h},s.rotr32=function(d,f){return d>>>f|d<<32-f},s.rotl32=function(d,f){return d<<f|d>>>32-f},s.sum32=function(d,f){return d+f>>>0},s.sum32_3=function(d,f,h){return d+f+h>>>0},s.sum32_4=function(d,f,h,g){return d+f+h+g>>>0},s.sum32_5=function(d,f,h,g,v){return d+f+h+g+v>>>0},s.sum64=function(d,f,h,g){var v=d[f],p=g+d[f+1]>>>0,y=(p<g?1:0)+h+v;d[f]=y>>>0,d[f+1]=p},s.sum64_hi=function(d,f,h,g){return(f+g>>>0<f?1:0)+d+h>>>0},s.sum64_lo=function(d,f,h,g){return f+g>>>0},s.sum64_4_hi=function(d,f,h,g,v,p,y,m){var b=0,k=f;return b+=(k=k+g>>>0)<f?1:0,b+=(k=k+p>>>0)<p?1:0,d+h+v+y+(b+=(k=k+m>>>0)<m?1:0)>>>0},s.sum64_4_lo=function(d,f,h,g,v,p,y,m){return f+g+p+m>>>0},s.sum64_5_hi=function(d,f,h,g,v,p,y,m,b,k){var N=0,B=f;return N+=(B=B+g>>>0)<f?1:0,N+=(B=B+p>>>0)<p?1:0,N+=(B=B+m>>>0)<m?1:0,d+h+v+y+b+(N+=(B=B+k>>>0)<k?1:0)>>>0},s.sum64_5_lo=function(d,f,h,g,v,p,y,m,b,k){return f+g+p+m+k>>>0},s.rotr64_hi=function(d,f,h){return(f<<32-h|d>>>h)>>>0},s.rotr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0},s.shr64_hi=function(d,f,h){return d>>>h},s.shr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var i=e("hash.js"),a=e("minimalistic-crypto-utils"),u=e("minimalistic-assert");function o(l){if(!(this instanceof o))return new o(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=a.toArray(l.entropy,l.entropyEnc||"hex"),d=a.toArray(l.nonce,l.nonceEnc||"hex"),f=a.toArray(l.pers,l.persEnc||"hex");u(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,d,f)}n.exports=o,o.prototype._init=function(l,c,d){var f=l.concat(c).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(l){var c=this._hmac().update(this.V).update([0]);l&&(c=c.update(l)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(l,c,d,f){typeof c!="string"&&(f=d,d=c,c=null),l=a.toArray(l,c),d=a.toArray(d,f),u(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(d||[])),this._reseed=1},o.prototype.generate=function(l,c,d,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(f=d,d=c,c=null),d&&(d=a.toArray(d,f||"hex"),this._update(d));for(var h=[];h.length<l;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var g=h.slice(0,l);return this._update(d),this._reseed++,a.encode(g,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,u,o,l){var c,d,f=8*l-o-1,h=(1<<f)-1,g=h>>1,v=-7,p=u?l-1:0,y=u?-1:1,m=i[a+p];for(p+=y,c=m&(1<<-v)-1,m>>=-v,v+=f;v>0;c=256*c+i[a+p],p+=y,v-=8);for(d=c&(1<<-v)-1,c>>=-v,v+=o;v>0;d=256*d+i[a+p],p+=y,v-=8);if(c===0)c=1-g;else{if(c===h)return d?NaN:1/0*(m?-1:1);d+=Math.pow(2,o),c-=g}return(m?-1:1)*d*Math.pow(2,c-o)},s.write=function(i,a,u,o,l,c){var d,f,h,g=8*c-l-1,v=(1<<g)-1,p=v>>1,y=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=o?0:c-1,b=o?1:-1,k=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(f=isNaN(a)?1:0,d=v):(d=Math.floor(Math.log(a)/Math.LN2),a*(h=Math.pow(2,-d))<1&&(d--,h*=2),(a+=d+p>=1?y/h:y*Math.pow(2,1-p))*h>=2&&(d++,h/=2),d+p>=v?(f=0,d=v):d+p>=1?(f=(a*h-1)*Math.pow(2,l),d+=p):(f=a*Math.pow(2,p-1)*Math.pow(2,l),d=0));l>=8;i[u+m]=255&f,m+=b,f/=256,l-=8);for(d=d<<l|f,g+=l;g>0;i[u+m]=255&d,m+=b,d/=256,g-=8);i[u+m-b]|=128*k}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var u=function(){};u.prototype=a.prototype,i.prototype=new u,i.prototype.constructor=i}}},{}],441:[function(e,n,s){(function(i,a,u,o,l,c,d,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof s=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(g,v,p){function y(k,N){if(!v[k]){if(!g[k]){var B=typeof e=="function"&&e;if(!N&&B)return B(k,!0);if(m)return m(k,!0);var j=new Error("Cannot find module '"+k+"'");throw j.code="MODULE_NOT_FOUND",j}var T=v[k]={exports:{}};g[k][0].call(T.exports,function(M){return y(g[k][1][M]||M)},T,T.exports,h,g,v,p)}return v[k].exports}for(var m=typeof e=="function"&&e,b=0;b<p.length;b++)y(p[b]);return y}({1:[function(h,g,v){var p=h("./utils"),y=h("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(b){for(var k,N,B,j,T,M,U,O=[],I=0,E=b.length,R=E,A=p.getTypeOf(b)!=="string";I<b.length;)R=E-I,B=A?(k=b[I++],N=I<E?b[I++]:0,I<E?b[I++]:0):(k=b.charCodeAt(I++),N=I<E?b.charCodeAt(I++):0,I<E?b.charCodeAt(I++):0),j=k>>2,T=(3&k)<<4|N>>4,M=1<R?(15&N)<<2|B>>6:64,U=2<R?63&B:64,O.push(m.charAt(j)+m.charAt(T)+m.charAt(M)+m.charAt(U));return O.join("")},v.decode=function(b){var k,N,B,j,T,M,U=0,O=0,I="data:";if(b.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var E,R=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===m.charAt(64)&&R--,b.charAt(b.length-2)===m.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=y.uint8array?new Uint8Array(0|R):new Array(0|R);U<b.length;)k=m.indexOf(b.charAt(U++))<<2|(j=m.indexOf(b.charAt(U++)))>>4,N=(15&j)<<4|(T=m.indexOf(b.charAt(U++)))>>2,B=(3&T)<<6|(M=m.indexOf(b.charAt(U++))),E[O++]=k,T!==64&&(E[O++]=N),M!==64&&(E[O++]=B);return E}},{"./support":30,"./utils":32}],2:[function(h,g,v){var p=h("./external"),y=h("./stream/DataWorker"),m=h("./stream/Crc32Probe"),b=h("./stream/DataLengthProbe");function k(N,B,j,T,M){this.compressedSize=N,this.uncompressedSize=B,this.crc32=j,this.compression=T,this.compressedContent=M}k.prototype={getContentWorker:function(){var N=new y(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),B=this;return N.on("end",function(){if(this.streamInfo.data_length!==B.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),N},getCompressedWorker:function(){return new y(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(N,B,j){return N.pipe(new m).pipe(new b("uncompressedSize")).pipe(B.compressWorker(j)).pipe(new b("compressedSize")).withStreamInfo("compression",B)},g.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,g,v){var p=h("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},v.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,g,v){var p=h("./utils"),y=function(){for(var m,b=[],k=0;k<256;k++){m=k;for(var N=0;N<8;N++)m=1&m?3988292384^m>>>1:m>>>1;b[k]=m}return b}();g.exports=function(m,b){return m!==void 0&&m.length?p.getTypeOf(m)!=="string"?function(k,N,B,j){var T=y,M=0+B;k^=-1;for(var U=0;U<M;U++)k=k>>>8^T[255&(k^N[U])];return-1^k}(0|b,m,m.length):function(k,N,B,j){var T=y,M=0+B;k^=-1;for(var U=0;U<M;U++)k=k>>>8^T[255&(k^N.charCodeAt(U))];return-1^k}(0|b,m,m.length):0}},{"./utils":32}],5:[function(h,g,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(h,g,v){var p;p=typeof Promise<"u"?Promise:h("lie"),g.exports={Promise:p}},{lie:37}],7:[function(h,g,v){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=h("pako"),m=h("./utils"),b=h("./stream/GenericWorker"),k=p?"uint8array":"array";function N(B,j){b.call(this,"FlateWorker/"+B),this._pako=null,this._pakoAction=B,this._pakoOptions=j,this.meta={}}v.magic="\b\0",m.inherits(N,b),N.prototype.processChunk=function(B){this.meta=B.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(k,B.data),!1)},N.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},N.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},N.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var B=this;this._pako.onData=function(j){B.push({data:j,meta:B.meta})}},v.compressWorker=function(B){return new N("Deflate",B)},v.uncompressWorker=function(){return new N("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,g,v){function p(T,M){var U,O="";for(U=0;U<M;U++)O+=String.fromCharCode(255&T),T>>>=8;return O}function y(T,M,U,O,I,E){var R,A,w=T.file,_=T.compression,x=E!==k.utf8encode,S=m.transformTo("string",E(w.name)),C=m.transformTo("string",k.utf8encode(w.name)),q=w.comment,P=m.transformTo("string",E(q)),$=m.transformTo("string",k.utf8encode(q)),X=C.length!==w.name.length,Z=$.length!==q.length,V="",Q="",F="",D=w.dir,K=w.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};M&&!U||(ee.crc32=T.crc32,ee.compressedSize=T.compressedSize,ee.uncompressedSize=T.uncompressedSize);var ue=0;M&&(ue|=8),x||!X&&!Z||(ue|=2048);var ie=0,ae=0;D&&(ie|=16),I==="UNIX"?(ae=798,ie|=function(ne,se){var ye=ne;return ne||(ye=se?16893:33204),(65535&ye)<<16}(w.unixPermissions,D)):(ae=20,ie|=function(ne){return 63&(ne||0)}(w.dosPermissions)),R=K.getUTCHours(),R<<=6,R|=K.getUTCMinutes(),R<<=5,R|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),X&&(Q=p(1,1)+p(N(S),4)+C,V+="up"+p(Q.length,2)+Q),Z&&(F=p(1,1)+p(N(P),4)+$,V+="uc"+p(F.length,2)+F);var ce="";return ce+=`
\0`,ce+=p(ue,2),ce+=_.magic,ce+=p(R,2),ce+=p(A,2),ce+=p(ee.crc32,4),ce+=p(ee.compressedSize,4),ce+=p(ee.uncompressedSize,4),ce+=p(S.length,2),ce+=p(V.length,2),{fileRecord:B.LOCAL_FILE_HEADER+ce+S+V,dirRecord:B.CENTRAL_FILE_HEADER+p(ae,2)+ce+p(P.length,2)+"\0\0\0\0"+p(ie,4)+p(O,4)+S+V+P}}var m=h("../utils"),b=h("../stream/GenericWorker"),k=h("../utf8"),N=h("../crc32"),B=h("../signature");function j(T,M,U,O){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=U,this.encodeFileName=O,this.streamFiles=T,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(j,b),j.prototype.push=function(T){var M=T.meta.percent||0,U=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(T):(this.bytesWritten+=T.data.length,b.prototype.push.call(this,{data:T.data,meta:{currentFile:this.currentFile,percent:U?(M+100*(U-O-1))/U:100}}))},j.prototype.openedSource=function(T){this.currentSourceOffset=this.bytesWritten,this.currentFile=T.file.name;var M=this.streamFiles&&!T.file.dir;if(M){var U=y(T,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:U.fileRecord,meta:{percent:0}})}else this.accumulate=!0},j.prototype.closedSource=function(T){this.accumulate=!1;var M=this.streamFiles&&!T.file.dir,U=y(T,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(U.dirRecord),M)this.push({data:function(O){return B.DATA_DESCRIPTOR+p(O.crc32,4)+p(O.compressedSize,4)+p(O.uncompressedSize,4)}(T),meta:{percent:100}});else for(this.push({data:U.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},j.prototype.flush=function(){for(var T=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var U=this.bytesWritten-T,O=function(I,E,R,A,w){var _=m.transformTo("string",w(A));return B.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(I,2)+p(I,2)+p(E,4)+p(R,4)+p(_.length,2)+_}(this.dirRecords.length,U,T,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},j.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},j.prototype.registerPrevious=function(T){this._sources.push(T);var M=this;return T.on("data",function(U){M.processChunk(U)}),T.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),T.on("error",function(U){M.error(U)}),this},j.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},j.prototype.error=function(T){var M=this._sources;if(!b.prototype.error.call(this,T))return!1;for(var U=0;U<M.length;U++)try{M[U].error(T)}catch{}return!0},j.prototype.lock=function(){b.prototype.lock.call(this);for(var T=this._sources,M=0;M<T.length;M++)T[M].lock()},g.exports=j},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,g,v){var p=h("../compressions"),y=h("./ZipFileWorker");v.generateWorker=function(m,b,k){var N=new y(b.streamFiles,k,b.platform,b.encodeFileName),B=0;try{m.forEach(function(j,T){B++;var M=function(E,R){var A=E||R,w=p[A];if(!w)throw new Error(A+" is not a valid compression method !");return w}(T.options.compression,b.compression),U=T.options.compressionOptions||b.compressionOptions||{},O=T.dir,I=T.date;T._compressWorker(M,U).withStreamInfo("file",{name:j,dir:O,date:I,comment:T.comment||"",unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions}).pipe(N)}),N.entriesCount=B}catch(j){N.error(j)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,g,v){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new p;for(var m in this)typeof this[m]!="function"&&(y[m]=this[m]);return y}}(p.prototype=h("./object")).loadAsync=h("./load"),p.support=h("./support"),p.defaults=h("./defaults"),p.version="3.10.1",p.loadAsync=function(y,m){return new p().loadAsync(y,m)},p.external=h("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,g,v){var p=h("./utils"),y=h("./external"),m=h("./utf8"),b=h("./zipEntries"),k=h("./stream/Crc32Probe"),N=h("./nodejsUtils");function B(j){return new y.Promise(function(T,M){var U=j.decompressed.getContentWorker().pipe(new k);U.on("error",function(O){M(O)}).on("end",function(){U.streamInfo.crc32!==j.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}g.exports=function(j,T){var M=this;return T=p.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),N.isNode&&N.isStream(j)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",j,!0,T.optimizedBinaryString,T.base64).then(function(U){var O=new b(T);return O.load(U),O}).then(function(U){var O=[y.Promise.resolve(U)],I=U.files;if(T.checkCRC32)for(var E=0;E<I.length;E++)O.push(B(I[E]));return y.Promise.all(O)}).then(function(U){for(var O=U.shift(),I=O.files,E=0;E<I.length;E++){var R=I[E],A=R.fileNameStr,w=p.resolve(R.fileNameStr);M.file(w,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:T.createFolders}),R.dir||(M.file(w).unsafeOriginalName=A)}return O.zipComment.length&&(M.comment=O.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,g,v){var p=h("../utils"),y=h("../stream/GenericWorker");function m(b,k){y.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(k)}p.inherits(m,y),m.prototype._bindStream=function(b){var k=this;(this._stream=b).pause(),b.on("data",function(N){k.push({data:N,meta:{percent:0}})}).on("error",function(N){k.isPaused?this.generatedError=N:k.error(N)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},m.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,g,v){var p=h("readable-stream").Readable;function y(m,b,k){p.call(this,b),this._helper=m;var N=this;m.on("data",function(B,j){N.push(B)||N._helper.pause(),k&&k(j)}).on("error",function(B){N.emit("error",B)}).on("end",function(){N.push(null)})}h("../utils").inherits(y,p),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(h,g,v){g.exports={isNode:u!==void 0,newBufferFrom:function(p,y){if(u.from&&u.from!==Uint8Array.from)return u.from(p,y);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new u(p,y)},allocBuffer:function(p){if(u.alloc)return u.alloc(p);var y=new u(p);return y.fill(0),y},isBuffer:function(p){return u.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(h,g,v){function p(w,_,x){var S,C=m.getTypeOf(_),q=m.extend(x||{},N);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(w=I(w)),q.createFolders&&(S=O(w))&&E.call(this,S,!0);var P=C==="string"&&q.binary===!1&&q.base64===!1;x&&x.binary!==void 0||(q.binary=!P),(_ instanceof B&&_.uncompressedSize===0||q.dir||!_||_.length===0)&&(q.base64=!1,q.binary=!0,_="",q.compression="STORE",C="string");var $;$=_ instanceof B||_ instanceof b?_:M.isNode&&M.isStream(_)?new U(w,_):m.prepareContent(w,_,q.binary,q.optimizedBinaryString,q.base64);var X=new j(w,$,q);this.files[w]=X}var y=h("./utf8"),m=h("./utils"),b=h("./stream/GenericWorker"),k=h("./stream/StreamHelper"),N=h("./defaults"),B=h("./compressedObject"),j=h("./zipObject"),T=h("./generate"),M=h("./nodejsUtils"),U=h("./nodejs/NodejsStreamInputAdapter"),O=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var _=w.lastIndexOf("/");return 0<_?w.substring(0,_):""},I=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},E=function(w,_){return _=_!==void 0?_:N.createFolders,w=I(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:_}),this.files[w]};function R(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var _,x,S;for(_ in this.files)S=this.files[_],(x=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&w(x,S)},filter:function(w){var _=[];return this.forEach(function(x,S){w(x,S)&&_.push(S)}),_},file:function(w,_,x){if(arguments.length!==1)return w=this.root+w,p.call(this,w,_,x),this;if(R(w)){var S=w;return this.filter(function(q,P){return!P.dir&&S.test(q)})}var C=this.files[this.root+w];return C&&!C.dir?C:null},folder:function(w){if(!w)return this;if(R(w))return this.filter(function(C,q){return q.dir&&w.test(C)});var _=this.root+w,x=E.call(this,_),S=this.clone();return S.root=x.name,S},remove:function(w){w=this.root+w;var _=this.files[w];if(_||(w.slice(-1)!=="/"&&(w+="/"),_=this.files[w]),_&&!_.dir)delete this.files[w];else for(var x=this.filter(function(C,q){return q.name.slice(0,w.length)===w}),S=0;S<x.length;S++)delete this.files[x[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var _,x={};try{if((x=m.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");m.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var S=x.comment||this.comment||"";_=T.generateWorker(this,x,S)}catch(C){(_=new b("error")).error(C)}return new k(_,x.type||"string",x.mimeType)},generateAsync:function(w,_){return this.generateInternalStream(w).accumulate(_)},generateNodeStream:function(w,_){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(_)}};g.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,g,v){g.exports=h("stream")},{stream:void 0}],17:[function(h,g,v){var p=h("./DataReader");function y(m){p.call(this,m);for(var b=0;b<this.data.length;b++)m[b]=255&m[b]}h("../utils").inherits(y,p),y.prototype.byteAt=function(m){return this.data[this.zero+m]},y.prototype.lastIndexOfSignature=function(m){for(var b=m.charCodeAt(0),k=m.charCodeAt(1),N=m.charCodeAt(2),B=m.charCodeAt(3),j=this.length-4;0<=j;--j)if(this.data[j]===b&&this.data[j+1]===k&&this.data[j+2]===N&&this.data[j+3]===B)return j-this.zero;return-1},y.prototype.readAndCheckSignature=function(m){var b=m.charCodeAt(0),k=m.charCodeAt(1),N=m.charCodeAt(2),B=m.charCodeAt(3),j=this.readData(4);return b===j[0]&&k===j[1]&&N===j[2]&&B===j[3]},y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(h,g,v){var p=h("../utils");function y(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var b,k=0;for(this.checkOffset(m),b=this.index+m-1;b>=this.index;b--)k=(k<<8)+this.byteAt(b);return this.index+=m,k},readString:function(m){return p.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},g.exports=y},{"../utils":32}],19:[function(h,g,v){var p=h("./Uint8ArrayReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.readData=function(m){this.checkOffset(m);var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,g,v){var p=h("./DataReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},y.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},y.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},y.prototype.readData=function(m){this.checkOffset(m);var b=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(h,g,v){var p=h("./ArrayReader");function y(m){p.call(this,m)}h("../utils").inherits(y,p),y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,b},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(h,g,v){var p=h("../utils"),y=h("../support"),m=h("./ArrayReader"),b=h("./StringReader"),k=h("./NodeBufferReader"),N=h("./Uint8ArrayReader");g.exports=function(B){var j=p.getTypeOf(B);return p.checkSupport(j),j!=="string"||y.uint8array?j==="nodebuffer"?new k(B):y.uint8array?new N(p.transformTo("uint8array",B)):new m(p.transformTo("array",B)):new b(B)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,g,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,g,v){var p=h("./GenericWorker"),y=h("../utils");function m(b){p.call(this,"ConvertWorker to "+b),this.destType=b}y.inherits(m,p),m.prototype.processChunk=function(b){this.push({data:y.transformTo(this.destType,b.data),meta:b.meta})},g.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(h,g,v){var p=h("./GenericWorker"),y=h("../crc32");function m(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(m,p),m.prototype.processChunk=function(b){this.streamInfo.crc32=y(b.data,this.streamInfo.crc32||0),this.push(b)},g.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,g,v){var p=h("../utils"),y=h("./GenericWorker");function m(b){y.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}p.inherits(m,y),m.prototype.processChunk=function(b){if(b){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+b.data.length}y.prototype.processChunk.call(this,b)},g.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(h,g,v){var p=h("../utils"),y=h("./GenericWorker");function m(b){y.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(N){k.dataIsReady=!0,k.data=N,k.max=N&&N.length||0,k.type=p.getTypeOf(N),k.isPaused||k._tickAndRepeat()},function(N){k.error(N)})}p.inherits(m,y),m.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,k);break;case"uint8array":b=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":b=this.data.slice(this.index,k)}return this.index=k,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(h,g,v){function p(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,m){return this._listeners[y].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,m){if(this._listeners[y])for(var b=0;b<this._listeners[y].length;b++)this._listeners[y][b].call(this,m)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var m=this;return y.on("data",function(b){m.processChunk(b)}),y.on("end",function(){m.end()}),y.on("error",function(b){m.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,m){return this.extraStreamInfo[y]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=p},{}],29:[function(h,g,v){var p=h("../utils"),y=h("./ConvertWorker"),m=h("./GenericWorker"),b=h("../base64"),k=h("../support"),N=h("../external"),B=null;if(k.nodestream)try{B=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function j(T,M,U){var O=M;switch(M){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=M,this._mimeType=U,p.checkSupport(O),this._worker=T.pipe(new y(O)),T.lock()}catch(I){this._worker=new m("error"),this._worker.error(I)}}j.prototype={accumulate:function(T){return function(M,U){return new N.Promise(function(O,I){var E=[],R=M._internalType,A=M._outputType,w=M._mimeType;M.on("data",function(_,x){E.push(_),U&&U(x)}).on("error",function(_){E=[],I(_)}).on("end",function(){try{var _=function(x,S,C){switch(x){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),C);case"base64":return b.encode(S);default:return p.transformTo(x,S)}}(A,function(x,S){var C,q=0,P=null,$=0;for(C=0;C<S.length;C++)$+=S[C].length;switch(x){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(P=new Uint8Array($),C=0;C<S.length;C++)P.set(S[C],q),q+=S[C].length;return P;case"nodebuffer":return u.concat(S);default:throw new Error("concat : unsupported type '"+x+"'")}}(R,E),w);O(_)}catch(x){I(x)}E=[]}).resume()})}(this,T)},on:function(T,M){var U=this;return T==="data"?this._worker.on(T,function(O){M.call(U,O.data,O.meta)}):this._worker.on(T,function(){p.delay(M,arguments,U)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(T){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new B(this,{objectMode:this._outputType!=="nodebuffer"},T)}},g.exports=j},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,g,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=u!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var p=new ArrayBuffer(0);try{v.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(p),v.blob=y.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!h("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(h,g,v){for(var p=h("./utils"),y=h("./support"),m=h("./nodejsUtils"),b=h("./stream/GenericWorker"),k=new Array(256),N=0;N<256;N++)k[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function B(){b.call(this,"utf-8 decode"),this.leftOver=null}function j(){b.call(this,"utf-8 encode")}k[254]=k[254]=1,v.utf8encode=function(T){return y.nodebuffer?m.newBufferFrom(T,"utf-8"):function(M){var U,O,I,E,R,A=M.length,w=0;for(E=0;E<A;E++)(64512&(O=M.charCodeAt(E)))==55296&&E+1<A&&(64512&(I=M.charCodeAt(E+1)))==56320&&(O=65536+(O-55296<<10)+(I-56320),E++),w+=O<128?1:O<2048?2:O<65536?3:4;for(U=y.uint8array?new Uint8Array(w):new Array(w),E=R=0;R<w;E++)(64512&(O=M.charCodeAt(E)))==55296&&E+1<A&&(64512&(I=M.charCodeAt(E+1)))==56320&&(O=65536+(O-55296<<10)+(I-56320),E++),O<128?U[R++]=O:(O<2048?U[R++]=192|O>>>6:(O<65536?U[R++]=224|O>>>12:(U[R++]=240|O>>>18,U[R++]=128|O>>>12&63),U[R++]=128|O>>>6&63),U[R++]=128|63&O);return U}(T)},v.utf8decode=function(T){return y.nodebuffer?p.transformTo("nodebuffer",T).toString("utf-8"):function(M){var U,O,I,E,R=M.length,A=new Array(2*R);for(U=O=0;U<R;)if((I=M[U++])<128)A[O++]=I;else if(4<(E=k[I]))A[O++]=65533,U+=E-1;else{for(I&=E===2?31:E===3?15:7;1<E&&U<R;)I=I<<6|63&M[U++],E--;1<E?A[O++]=65533:I<65536?A[O++]=I:(I-=65536,A[O++]=55296|I>>10&1023,A[O++]=56320|1023&I)}return A.length!==O&&(A.subarray?A=A.subarray(0,O):A.length=O),p.applyFromCharCode(A)}(T=p.transformTo(y.uint8array?"uint8array":"array",T))},p.inherits(B,b),B.prototype.processChunk=function(T){var M=p.transformTo(y.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var U=M;(M=new Uint8Array(U.length+this.leftOver.length)).set(this.leftOver,0),M.set(U,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var O=function(E,R){var A;for((R=R||E.length)>E.length&&(R=E.length),A=R-1;0<=A&&(192&E[A])==128;)A--;return A<0||A===0?R:A+k[E[A]]>R?A:R}(M),I=M;O!==M.length&&(y.uint8array?(I=M.subarray(0,O),this.leftOver=M.subarray(O,M.length)):(I=M.slice(0,O),this.leftOver=M.slice(O,M.length))),this.push({data:v.utf8decode(I),meta:T.meta})},B.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=B,p.inherits(j,b),j.prototype.processChunk=function(T){this.push({data:v.utf8encode(T.data),meta:T.meta})},v.Utf8EncodeWorker=j},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,g,v){var p=h("./support"),y=h("./base64"),m=h("./nodejsUtils"),b=h("./external");function k(U){return U}function N(U,O){for(var I=0;I<U.length;++I)O[I]=255&U.charCodeAt(I);return O}h("setimmediate"),v.newBlob=function(U,O){v.checkSupport("blob");try{return new Blob([U],{type:O})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(U),I.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var B={stringifyByChunk:function(U,O,I){var E=[],R=0,A=U.length;if(A<=I)return String.fromCharCode.apply(null,U);for(;R<A;)O==="array"||O==="nodebuffer"?E.push(String.fromCharCode.apply(null,U.slice(R,Math.min(R+I,A)))):E.push(String.fromCharCode.apply(null,U.subarray(R,Math.min(R+I,A)))),R+=I;return E.join("")},stringifyByChar:function(U){for(var O="",I=0;I<U.length;I++)O+=String.fromCharCode(U[I]);return O},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function j(U){var O=65536,I=v.getTypeOf(U),E=!0;if(I==="uint8array"?E=B.applyCanBeUsed.uint8array:I==="nodebuffer"&&(E=B.applyCanBeUsed.nodebuffer),E)for(;1<O;)try{return B.stringifyByChunk(U,I,O)}catch{O=Math.floor(O/2)}return B.stringifyByChar(U)}function T(U,O){for(var I=0;I<U.length;I++)O[I]=U[I];return O}v.applyFromCharCode=j;var M={};M.string={string:k,array:function(U){return N(U,new Array(U.length))},arraybuffer:function(U){return M.string.uint8array(U).buffer},uint8array:function(U){return N(U,new Uint8Array(U.length))},nodebuffer:function(U){return N(U,m.allocBuffer(U.length))}},M.array={string:j,array:k,arraybuffer:function(U){return new Uint8Array(U).buffer},uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return m.newBufferFrom(U)}},M.arraybuffer={string:function(U){return j(new Uint8Array(U))},array:function(U){return T(new Uint8Array(U),new Array(U.byteLength))},arraybuffer:k,uint8array:function(U){return new Uint8Array(U)},nodebuffer:function(U){return m.newBufferFrom(new Uint8Array(U))}},M.uint8array={string:j,array:function(U){return T(U,new Array(U.length))},arraybuffer:function(U){return U.buffer},uint8array:k,nodebuffer:function(U){return m.newBufferFrom(U)}},M.nodebuffer={string:j,array:function(U){return T(U,new Array(U.length))},arraybuffer:function(U){return M.nodebuffer.uint8array(U).buffer},uint8array:function(U){return T(U,new Uint8Array(U.length))},nodebuffer:k},v.transformTo=function(U,O){if(O=O||"",!U)return O;v.checkSupport(U);var I=v.getTypeOf(O);return M[I][U](O)},v.resolve=function(U){for(var O=U.split("/"),I=[],E=0;E<O.length;E++){var R=O[E];R==="."||R===""&&E!==0&&E!==O.length-1||(R===".."?I.pop():I.push(R))}return I.join("/")},v.getTypeOf=function(U){return typeof U=="string"?"string":Object.prototype.toString.call(U)==="[object Array]"?"array":p.nodebuffer&&m.isBuffer(U)?"nodebuffer":p.uint8array&&U instanceof Uint8Array?"uint8array":p.arraybuffer&&U instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(U){if(!p[U.toLowerCase()])throw new Error(U+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(U){var O,I,E="";for(I=0;I<(U||"").length;I++)E+="\\x"+((O=U.charCodeAt(I))<16?"0":"")+O.toString(16).toUpperCase();return E},v.delay=function(U,O,I){f(function(){U.apply(I||null,O||[])})},v.inherits=function(U,O){function I(){}I.prototype=O.prototype,U.prototype=new I},v.extend=function(){var U,O,I={};for(U=0;U<arguments.length;U++)for(O in arguments[U])Object.prototype.hasOwnProperty.call(arguments[U],O)&&I[O]===void 0&&(I[O]=arguments[U][O]);return I},v.prepareContent=function(U,O,I,E,R){return b.Promise.resolve(O).then(function(A){return p.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new b.Promise(function(w,_){var x=new FileReader;x.onload=function(S){w(S.target.result)},x.onerror=function(S){_(S.target.error)},x.readAsArrayBuffer(A)}):A}).then(function(A){var w=v.getTypeOf(A);return w?(w==="arraybuffer"?A=v.transformTo("uint8array",A):w==="string"&&(R?A=y.decode(A):I&&E!==!0&&(A=function(_){return N(_,p.uint8array?new Uint8Array(_.length):new Array(_.length))}(A))),A):b.Promise.reject(new Error("Can't read the data of '"+U+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,g,v){var p=h("./reader/readerFor"),y=h("./utils"),m=h("./signature"),b=h("./zipEntry"),k=h("./support");function N(B){this.files=[],this.loadOptions=B}N.prototype={checkSignature:function(B){if(!this.reader.readAndCheckSignature(B)){this.reader.index-=4;var j=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(j)+", expected "+y.pretty(B)+")")}},isSignature:function(B,j){var T=this.reader.index;this.reader.setIndex(B);var M=this.reader.readString(4)===j;return this.reader.setIndex(T),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var B=this.reader.readData(this.zipCommentLength),j=k.uint8array?"uint8array":"array",T=y.transformTo(j,B);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var B,j,T,M=this.zip64EndOfCentralSize-44;0<M;)B=this.reader.readInt(2),j=this.reader.readInt(4),T=this.reader.readData(j),this.zip64ExtensibleData[B]={id:B,length:j,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var B,j;for(B=0;B<this.files.length;B++)j=this.files[B],this.reader.setIndex(j.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),j.readLocalPart(this.reader),j.handleUTF8(),j.processAttributes()},readCentralDir:function(){var B;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(B=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(B);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var B=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(B<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(B);var j=B;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(B=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(B),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var T=this.centralDirOffset+this.centralDirSize;this.zip64&&(T+=20,T+=12+this.zip64EndOfCentralSize);var M=j-T;if(0<M)this.isSignature(j,m.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(B){this.reader=p(B)},load:function(B){this.prepareReader(B),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,g,v){var p=h("./reader/readerFor"),y=h("./utils"),m=h("./compressedObject"),b=h("./crc32"),k=h("./utf8"),N=h("./compressions"),B=h("./support");function j(T,M){this.options=T,this.loadOptions=M}j.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(T){var M,U;if(T.skip(22),this.fileNameLength=T.readInt(2),U=T.readInt(2),this.fileName=T.readData(this.fileNameLength),T.skip(U),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=function(O){for(var I in N)if(Object.prototype.hasOwnProperty.call(N,I)&&N[I].magic===O)return N[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,M,T.readData(this.compressedSize))},readCentralPart:function(T){this.versionMadeBy=T.readInt(2),T.skip(2),this.bitFlag=T.readInt(2),this.compressionMethod=T.readString(2),this.date=T.readDate(),this.crc32=T.readInt(4),this.compressedSize=T.readInt(4),this.uncompressedSize=T.readInt(4);var M=T.readInt(2);if(this.extraFieldsLength=T.readInt(2),this.fileCommentLength=T.readInt(2),this.diskNumberStart=T.readInt(2),this.internalFileAttributes=T.readInt(2),this.externalFileAttributes=T.readInt(4),this.localHeaderOffset=T.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");T.skip(M),this.readExtraFields(T),this.parseZIP64ExtraField(T),this.fileComment=T.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var T=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),T==0&&(this.dosPermissions=63&this.externalFileAttributes),T==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var T=p(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=T.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=T.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=T.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=T.readInt(4))}},readExtraFields:function(T){var M,U,O,I=T.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});T.index+4<I;)M=T.readInt(2),U=T.readInt(2),O=T.readData(U),this.extraFields[M]={id:M,length:U,value:O};T.setIndex(I)},handleUTF8:function(){var T=B.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var U=y.transformTo(T,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(U)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var I=y.transformTo(T,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var T=this.extraFields[28789];if(T){var M=p(T.value);return M.readInt(1)!==1||b(this.fileName)!==M.readInt(4)?null:k.utf8decode(M.readData(T.length-5))}return null},findExtraFieldUnicodeComment:function(){var T=this.extraFields[25461];if(T){var M=p(T.value);return M.readInt(1)!==1||b(this.fileComment)!==M.readInt(4)?null:k.utf8decode(M.readData(T.length-5))}return null}},g.exports=j},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,g,v){function p(M,U,O){this.name=M,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=U,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var y=h("./stream/StreamHelper"),m=h("./stream/DataWorker"),b=h("./utf8"),k=h("./compressedObject"),N=h("./stream/GenericWorker");p.prototype={internalStream:function(M){var U=null,O="string";try{if(!M)throw new Error("No output type specified.");var I=(O=M.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),U=this._decompressWorker();var E=!this._dataBinary;E&&!I&&(U=U.pipe(new b.Utf8EncodeWorker)),!E&&I&&(U=U.pipe(new b.Utf8DecodeWorker))}catch(R){(U=new N("error")).error(R)}return new y(U,O,"")},async:function(M,U){return this.internalStream(M).accumulate(U)},nodeStream:function(M,U){return this.internalStream(M||"nodebuffer").toNodejsStream(U)},_compressWorker:function(M,U){if(this._data instanceof k&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new b.Utf8EncodeWorker)),k.createWorkerFrom(O,M,U)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof N?this._data:new m(this._data)}};for(var B=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],j=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<B.length;T++)p.prototype[B[T]]=j;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,g,v){(function(p){var y,m,b=p.MutationObserver||p.WebKitMutationObserver;if(b){var k=0,N=new b(M),B=p.document.createTextNode("");N.observe(B,{characterData:!0}),y=function(){B.data=k=++k%2}}else if(p.setImmediate||p.MessageChannel===void 0)y="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var U=p.document.createElement("script");U.onreadystatechange=function(){M(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},p.document.documentElement.appendChild(U)}:function(){setTimeout(M,0)};else{var j=new p.MessageChannel;j.port1.onmessage=M,y=function(){j.port2.postMessage(0)}}var T=[];function M(){var U,O;m=!0;for(var I=T.length;I;){for(O=T,T=[],U=-1;++U<I;)O[U]();I=T.length}m=!1}g.exports=function(U){T.push(U)!==1||m||y()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,g,v){var p=h("immediate");function y(){}var m={},b=["REJECTED"],k=["FULFILLED"],N=["PENDING"];function B(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,I!==y&&U(this,I)}function j(I,E,R){this.promise=I,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function T(I,E,R){p(function(){var A;try{A=E(R)}catch(w){return m.reject(I,w)}A===I?m.reject(I,new TypeError("Cannot resolve promise with itself")):m.resolve(I,A)})}function M(I){var E=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof E=="function")return function(){E.apply(I,arguments)}}function U(I,E){var R=!1;function A(x){R||(R=!0,m.reject(I,x))}function w(x){R||(R=!0,m.resolve(I,x))}var _=O(function(){E(w,A)});_.status==="error"&&A(_.value)}function O(I,E){var R={};try{R.value=I(E),R.status="success"}catch(A){R.status="error",R.value=A}return R}(g.exports=B).prototype.finally=function(I){if(typeof I!="function")return this;var E=this.constructor;return this.then(function(R){return E.resolve(I()).then(function(){return R})},function(R){return E.resolve(I()).then(function(){throw R})})},B.prototype.catch=function(I){return this.then(null,I)},B.prototype.then=function(I,E){if(typeof I!="function"&&this.state===k||typeof E!="function"&&this.state===b)return this;var R=new this.constructor(y);return this.state!==N?T(R,this.state===k?I:E,this.outcome):this.queue.push(new j(R,I,E)),R},j.prototype.callFulfilled=function(I){m.resolve(this.promise,I)},j.prototype.otherCallFulfilled=function(I){T(this.promise,this.onFulfilled,I)},j.prototype.callRejected=function(I){m.reject(this.promise,I)},j.prototype.otherCallRejected=function(I){T(this.promise,this.onRejected,I)},m.resolve=function(I,E){var R=O(M,E);if(R.status==="error")return m.reject(I,R.value);var A=R.value;if(A)U(I,A);else{I.state=k,I.outcome=E;for(var w=-1,_=I.queue.length;++w<_;)I.queue[w].callFulfilled(E)}return I},m.reject=function(I,E){I.state=b,I.outcome=E;for(var R=-1,A=I.queue.length;++R<A;)I.queue[R].callRejected(E);return I},B.resolve=function(I){return I instanceof this?I:m.resolve(new this(y),I)},B.reject=function(I){var E=new this(y);return m.reject(E,I)},B.all=function(I){var E=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=I.length,A=!1;if(!R)return this.resolve([]);for(var w=new Array(R),_=0,x=-1,S=new this(y);++x<R;)C(I[x],x);return S;function C(q,P){E.resolve(q).then(function($){w[P]=$,++_!==R||A||(A=!0,m.resolve(S,w))},function($){A||(A=!0,m.reject(S,$))})}},B.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=I.length,R=!1;if(!E)return this.resolve([]);for(var A,w=-1,_=new this(y);++w<E;)A=I[w],this.resolve(A).then(function(x){R||(R=!0,m.resolve(_,x))},function(x){R||(R=!0,m.reject(_,x))});return _}},{immediate:36}],38:[function(h,g,v){var p={};(0,h("./lib/utils/common").assign)(p,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,g,v){var p=h("./zlib/deflate"),y=h("./utils/common"),m=h("./utils/strings"),b=h("./zlib/messages"),k=h("./zlib/zstream"),N=Object.prototype.toString;function B(T){if(!(this instanceof B))return new B(T);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},T||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var U=p.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(U!==0)throw new Error(b[U]);if(M.header&&p.deflateSetHeader(this.strm,M.header),M.dictionary){var O;if(O=typeof M.dictionary=="string"?m.string2buf(M.dictionary):N.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(U=p.deflateSetDictionary(this.strm,O))!==0)throw new Error(b[U]);this._dict_set=!0}}function j(T,M){var U=new B(M);if(U.push(T,!0),U.err)throw U.msg||b[U.err];return U.result}B.prototype.push=function(T,M){var U,O,I=this.strm,E=this.options.chunkSize;if(this.ended)return!1;O=M===~~M?M:M===!0?4:0,typeof T=="string"?I.input=m.string2buf(T):N.call(T)==="[object ArrayBuffer]"?I.input=new Uint8Array(T):I.input=T,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new y.Buf8(E),I.next_out=0,I.avail_out=E),(U=p.deflate(I,O))!==1&&U!==0)return this.onEnd(U),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(y.shrinkBuf(I.output,I.next_out))):this.onData(y.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&U!==1);return O===4?(U=p.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===0):O!==2||(this.onEnd(0),!(I.avail_out=0))},B.prototype.onData=function(T){this.chunks.push(T)},B.prototype.onEnd=function(T){T===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},v.Deflate=B,v.deflate=j,v.deflateRaw=function(T,M){return(M=M||{}).raw=!0,j(T,M)},v.gzip=function(T,M){return(M=M||{}).gzip=!0,j(T,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,g,v){var p=h("./zlib/inflate"),y=h("./utils/common"),m=h("./utils/strings"),b=h("./zlib/constants"),k=h("./zlib/messages"),N=h("./zlib/zstream"),B=h("./zlib/gzheader"),j=Object.prototype.toString;function T(U){if(!(this instanceof T))return new T(U);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},U||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||U&&U.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&!(15&O.windowBits)&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var I=p.inflateInit2(this.strm,O.windowBits);if(I!==b.Z_OK)throw new Error(k[I]);this.header=new B,p.inflateGetHeader(this.strm,this.header)}function M(U,O){var I=new T(O);if(I.push(U,!0),I.err)throw I.msg||k[I.err];return I.result}T.prototype.push=function(U,O){var I,E,R,A,w,_,x=this.strm,S=this.options.chunkSize,C=this.options.dictionary,q=!1;if(this.ended)return!1;E=O===~~O?O:O===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof U=="string"?x.input=m.binstring2buf(U):j.call(U)==="[object ArrayBuffer]"?x.input=new Uint8Array(U):x.input=U,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new y.Buf8(S),x.next_out=0,x.avail_out=S),(I=p.inflate(x,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&C&&(_=typeof C=="string"?m.string2buf(C):j.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,I=p.inflateSetDictionary(this.strm,_)),I===b.Z_BUF_ERROR&&q===!0&&(I=b.Z_OK,q=!1),I!==b.Z_STREAM_END&&I!==b.Z_OK)return this.onEnd(I),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&I!==b.Z_STREAM_END&&(x.avail_in!==0||E!==b.Z_FINISH&&E!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=m.utf8border(x.output,x.next_out),A=x.next_out-R,w=m.buf2string(x.output,R),x.next_out=A,x.avail_out=S-A,A&&y.arraySet(x.output,x.output,R,A,0),this.onData(w)):this.onData(y.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(q=!0)}while((0<x.avail_in||x.avail_out===0)&&I!==b.Z_STREAM_END);return I===b.Z_STREAM_END&&(E=b.Z_FINISH),E===b.Z_FINISH?(I=p.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===b.Z_OK):E!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(x.avail_out=0))},T.prototype.onData=function(U){this.chunks.push(U)},T.prototype.onEnd=function(U){U===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},v.Inflate=T,v.inflate=M,v.inflateRaw=function(U,O){return(O=O||{}).raw=!0,M(U,O)},v.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,g,v){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(b){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var N=k.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var B in N)N.hasOwnProperty(B)&&(b[B]=N[B])}}return b},v.shrinkBuf=function(b,k){return b.length===k?b:b.subarray?b.subarray(0,k):(b.length=k,b)};var y={arraySet:function(b,k,N,B,j){if(k.subarray&&b.subarray)b.set(k.subarray(N,N+B),j);else for(var T=0;T<B;T++)b[j+T]=k[N+T]},flattenChunks:function(b){var k,N,B,j,T,M;for(k=B=0,N=b.length;k<N;k++)B+=b[k].length;for(M=new Uint8Array(B),k=j=0,N=b.length;k<N;k++)T=b[k],M.set(T,j),j+=T.length;return M}},m={arraySet:function(b,k,N,B,j){for(var T=0;T<B;T++)b[j+T]=k[N+T]},flattenChunks:function(b){return[].concat.apply([],b)}};v.setTyped=function(b){b?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,y)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,m))},v.setTyped(p)},{}],42:[function(h,g,v){var p=h("./common"),y=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var b=new p.Buf8(256),k=0;k<256;k++)b[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function N(B,j){if(j<65537&&(B.subarray&&m||!B.subarray&&y))return String.fromCharCode.apply(null,p.shrinkBuf(B,j));for(var T="",M=0;M<j;M++)T+=String.fromCharCode(B[M]);return T}b[254]=b[254]=1,v.string2buf=function(B){var j,T,M,U,O,I=B.length,E=0;for(U=0;U<I;U++)(64512&(T=B.charCodeAt(U)))==55296&&U+1<I&&(64512&(M=B.charCodeAt(U+1)))==56320&&(T=65536+(T-55296<<10)+(M-56320),U++),E+=T<128?1:T<2048?2:T<65536?3:4;for(j=new p.Buf8(E),U=O=0;O<E;U++)(64512&(T=B.charCodeAt(U)))==55296&&U+1<I&&(64512&(M=B.charCodeAt(U+1)))==56320&&(T=65536+(T-55296<<10)+(M-56320),U++),T<128?j[O++]=T:(T<2048?j[O++]=192|T>>>6:(T<65536?j[O++]=224|T>>>12:(j[O++]=240|T>>>18,j[O++]=128|T>>>12&63),j[O++]=128|T>>>6&63),j[O++]=128|63&T);return j},v.buf2binstring=function(B){return N(B,B.length)},v.binstring2buf=function(B){for(var j=new p.Buf8(B.length),T=0,M=j.length;T<M;T++)j[T]=B.charCodeAt(T);return j},v.buf2string=function(B,j){var T,M,U,O,I=j||B.length,E=new Array(2*I);for(T=M=0;T<I;)if((U=B[T++])<128)E[M++]=U;else if(4<(O=b[U]))E[M++]=65533,T+=O-1;else{for(U&=O===2?31:O===3?15:7;1<O&&T<I;)U=U<<6|63&B[T++],O--;1<O?E[M++]=65533:U<65536?E[M++]=U:(U-=65536,E[M++]=55296|U>>10&1023,E[M++]=56320|1023&U)}return N(E,M)},v.utf8border=function(B,j){var T;for((j=j||B.length)>B.length&&(j=B.length),T=j-1;0<=T&&(192&B[T])==128;)T--;return T<0||T===0?j:T+b[B[T]]>j?T:j}},{"./common":41}],43:[function(h,g,v){g.exports=function(p,y,m,b){for(var k=65535&p|0,N=p>>>16&65535|0,B=0;m!==0;){for(m-=B=2e3<m?2e3:m;N=N+(k=k+y[b++]|0)|0,--B;);k%=65521,N%=65521}return k|N<<16|0}},{}],44:[function(h,g,v){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,g,v){var p=function(){for(var y,m=[],b=0;b<256;b++){y=b;for(var k=0;k<8;k++)y=1&y?3988292384^y>>>1:y>>>1;m[b]=y}return m}();g.exports=function(y,m,b,k){var N=p,B=k+b;y^=-1;for(var j=k;j<B;j++)y=y>>>8^N[255&(y^m[j])];return-1^y}},{}],46:[function(h,g,v){var p,y=h("../utils/common"),m=h("./trees"),b=h("./adler32"),k=h("./crc32"),N=h("./messages"),B=-2,j=258,T=262,M=113;function U(V,Q){return V.msg=N[Q],Q}function O(V){return(V<<1)-(4<V?9:0)}function I(V){for(var Q=V.length;0<=--Q;)V[Q]=0}function E(V){var Q=V.state,F=Q.pending;F>V.avail_out&&(F=V.avail_out),F!==0&&(y.arraySet(V.output,Q.pending_buf,Q.pending_out,F,V.next_out),V.next_out+=F,Q.pending_out+=F,V.total_out+=F,V.avail_out-=F,Q.pending-=F,Q.pending===0&&(Q.pending_out=0))}function R(V,Q){m._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Q),V.block_start=V.strstart,E(V.strm)}function A(V,Q){V.pending_buf[V.pending++]=Q}function w(V,Q){V.pending_buf[V.pending++]=Q>>>8&255,V.pending_buf[V.pending++]=255&Q}function _(V,Q){var F,D,K=V.max_chain_length,ee=V.strstart,ue=V.prev_length,ie=V.nice_match,ae=V.strstart>V.w_size-T?V.strstart-(V.w_size-T):0,ce=V.window,ne=V.w_mask,se=V.prev,ye=V.strstart+j,me=ce[ee+ue-1],_e=ce[ee+ue];V.prev_length>=V.good_match&&(K>>=2),ie>V.lookahead&&(ie=V.lookahead);do if(ce[(F=Q)+ue]===_e&&ce[F+ue-1]===me&&ce[F]===ce[ee]&&ce[++F]===ce[ee+1]){ee+=2,F++;do;while(ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ce[++ee]===ce[++F]&&ee<ye);if(D=j-(ye-ee),ee=ye-j,ue<D){if(V.match_start=Q,ie<=(ue=D))break;me=ce[ee+ue-1],_e=ce[ee+ue]}}while((Q=se[Q&ne])>ae&&--K!=0);return ue<=V.lookahead?ue:V.lookahead}function x(V){var Q,F,D,K,ee,ue,ie,ae,ce,ne,se=V.w_size;do{if(K=V.window_size-V.lookahead-V.strstart,V.strstart>=se+(se-T)){for(y.arraySet(V.window,V.window,se,se,0),V.match_start-=se,V.strstart-=se,V.block_start-=se,Q=F=V.hash_size;D=V.head[--Q],V.head[Q]=se<=D?D-se:0,--F;);for(Q=F=se;D=V.prev[--Q],V.prev[Q]=se<=D?D-se:0,--F;);K+=se}if(V.strm.avail_in===0)break;if(ue=V.strm,ie=V.window,ae=V.strstart+V.lookahead,ne=void 0,(ce=K)<(ne=ue.avail_in)&&(ne=ce),F=ne===0?0:(ue.avail_in-=ne,y.arraySet(ie,ue.input,ue.next_in,ne,ae),ue.state.wrap===1?ue.adler=b(ue.adler,ie,ne,ae):ue.state.wrap===2&&(ue.adler=k(ue.adler,ie,ne,ae)),ue.next_in+=ne,ue.total_in+=ne,ne),V.lookahead+=F,V.lookahead+V.insert>=3)for(ee=V.strstart-V.insert,V.ins_h=V.window[ee],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ee+3-1])&V.hash_mask,V.prev[ee&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ee,ee++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<T&&V.strm.avail_in!==0)}function S(V,Q){for(var F,D;;){if(V.lookahead<T){if(x(V),V.lookahead<T&&Q===0)return 1;if(V.lookahead===0)break}if(F=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,F=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),F!==0&&V.strstart-F<=V.w_size-T&&(V.match_length=_(V,F)),V.match_length>=3)if(D=m._tr_tally(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,F=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else D=m._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(D&&(R(V,!1),V.strm.avail_out===0))return 1}return V.insert=V.strstart<2?V.strstart:2,Q===4?(R(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?1:2}function C(V,Q){for(var F,D,K;;){if(V.lookahead<T){if(x(V),V.lookahead<T&&Q===0)return 1;if(V.lookahead===0)break}if(F=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,F=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,F!==0&&V.prev_length<V.max_lazy_match&&V.strstart-F<=V.w_size-T&&(V.match_length=_(V,F),V.match_length<=5&&(V.strategy===1||V.match_length===3&&4096<V.strstart-V.match_start)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){for(K=V.strstart+V.lookahead-3,D=m._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=K&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,F=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=2,V.strstart++,D&&(R(V,!1),V.strm.avail_out===0))return 1}else if(V.match_available){if((D=m._tr_tally(V,0,V.window[V.strstart-1]))&&R(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(D=m._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,Q===4?(R(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?1:2}function q(V,Q,F,D,K){this.good_length=V,this.max_lazy=Q,this.nice_length=F,this.max_chain=D,this.func=K}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(V){var Q;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,(Q=V.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?42:M,V.adler=Q.wrap===2?0:1,Q.last_flush=0,m._tr_init(Q),0):U(V,B)}function X(V){var Q=$(V);return Q===0&&function(F){F.window_size=2*F.w_size,I(F.head),F.max_lazy_match=p[F.level].max_lazy,F.good_match=p[F.level].good_length,F.nice_match=p[F.level].nice_length,F.max_chain_length=p[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=2,F.match_available=0,F.ins_h=0}(V.state),Q}function Z(V,Q,F,D,K,ee){if(!V)return B;var ue=1;if(Q===-1&&(Q=6),D<0?(ue=0,D=-D):15<D&&(ue=2,D-=16),K<1||9<K||F!==8||D<8||15<D||Q<0||9<Q||ee<0||4<ee)return U(V,B);D===8&&(D=9);var ie=new P;return(V.state=ie).strm=V,ie.wrap=ue,ie.gzhead=null,ie.w_bits=D,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=K+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new y.Buf8(2*ie.w_size),ie.head=new y.Buf16(ie.hash_size),ie.prev=new y.Buf16(ie.w_size),ie.lit_bufsize=1<<K+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new y.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=Q,ie.strategy=ee,ie.method=F,X(V)}p=[new q(0,0,0,0,function(V,Q){var F=65535;for(F>V.pending_buf_size-5&&(F=V.pending_buf_size-5);;){if(V.lookahead<=1){if(x(V),V.lookahead===0&&Q===0)return 1;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var D=V.block_start+F;if((V.strstart===0||V.strstart>=D)&&(V.lookahead=V.strstart-D,V.strstart=D,R(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-T&&(R(V,!1),V.strm.avail_out===0))return 1}return V.insert=0,Q===4?(R(V,!0),V.strm.avail_out===0?3:4):(V.strstart>V.block_start&&(R(V,!1),V.strm.avail_out),1)}),new q(4,4,8,4,S),new q(4,5,16,8,S),new q(4,6,32,32,S),new q(4,4,16,16,C),new q(8,16,32,32,C),new q(8,16,128,128,C),new q(8,32,128,256,C),new q(32,128,258,1024,C),new q(32,258,258,4096,C)],v.deflateInit=function(V,Q){return Z(V,Q,8,15,8,0)},v.deflateInit2=Z,v.deflateReset=X,v.deflateResetKeep=$,v.deflateSetHeader=function(V,Q){return V&&V.state?V.state.wrap!==2?B:(V.state.gzhead=Q,0):B},v.deflate=function(V,Q){var F,D,K,ee;if(!V||!V.state||5<Q||Q<0)return V?U(V,B):B;if(D=V.state,!V.output||!V.input&&V.avail_in!==0||D.status===666&&Q!==4)return U(V,V.avail_out===0?-5:B);if(D.strm=V,F=D.last_flush,D.last_flush=Q,D.status===42)if(D.wrap===2)V.adler=0,A(D,31),A(D,139),A(D,8),D.gzhead?(A(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),A(D,255&D.gzhead.time),A(D,D.gzhead.time>>8&255),A(D,D.gzhead.time>>16&255),A(D,D.gzhead.time>>24&255),A(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),A(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(A(D,255&D.gzhead.extra.length),A(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(V.adler=k(V.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(A(D,0),A(D,0),A(D,0),A(D,0),A(D,0),A(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),A(D,3),D.status=M);else{var ue=8+(D.w_bits-8<<4)<<8;ue|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(ue|=32),ue+=31-ue%31,D.status=M,w(D,ue),D.strstart!==0&&(w(D,V.adler>>>16),w(D,65535&V.adler)),V.adler=1}if(D.status===69)if(D.gzhead.extra){for(K=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>K&&(V.adler=k(V.adler,D.pending_buf,D.pending-K,K)),E(V),K=D.pending,D.pending!==D.pending_buf_size));)A(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>K&&(V.adler=k(V.adler,D.pending_buf,D.pending-K,K)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){K=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>K&&(V.adler=k(V.adler,D.pending_buf,D.pending-K,K)),E(V),K=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,A(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>K&&(V.adler=k(V.adler,D.pending_buf,D.pending-K,K)),ee===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){K=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>K&&(V.adler=k(V.adler,D.pending_buf,D.pending-K,K)),E(V),K=D.pending,D.pending===D.pending_buf_size)){ee=1;break}ee=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,A(D,ee)}while(ee!==0);D.gzhead.hcrc&&D.pending>K&&(V.adler=k(V.adler,D.pending_buf,D.pending-K,K)),ee===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&E(V),D.pending+2<=D.pending_buf_size&&(A(D,255&V.adler),A(D,V.adler>>8&255),V.adler=0,D.status=M)):D.status=M),D.pending!==0){if(E(V),V.avail_out===0)return D.last_flush=-1,0}else if(V.avail_in===0&&O(Q)<=O(F)&&Q!==4)return U(V,-5);if(D.status===666&&V.avail_in!==0)return U(V,-5);if(V.avail_in!==0||D.lookahead!==0||Q!==0&&D.status!==666){var ie=D.strategy===2?function(ae,ce){for(var ne;;){if(ae.lookahead===0&&(x(ae),ae.lookahead===0)){if(ce===0)return 1;break}if(ae.match_length=0,ne=m._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ne&&(R(ae,!1),ae.strm.avail_out===0))return 1}return ae.insert=0,ce===4?(R(ae,!0),ae.strm.avail_out===0?3:4):ae.last_lit&&(R(ae,!1),ae.strm.avail_out===0)?1:2}(D,Q):D.strategy===3?function(ae,ce){for(var ne,se,ye,me,_e=ae.window;;){if(ae.lookahead<=j){if(x(ae),ae.lookahead<=j&&ce===0)return 1;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=3&&0<ae.strstart&&(se=_e[ye=ae.strstart-1])===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]){me=ae.strstart+j;do;while(se===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]&&se===_e[++ye]&&ye<me);ae.match_length=j-(me-ye),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=3?(ne=m._tr_tally(ae,1,ae.match_length-3),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ne=m._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ne&&(R(ae,!1),ae.strm.avail_out===0))return 1}return ae.insert=0,ce===4?(R(ae,!0),ae.strm.avail_out===0?3:4):ae.last_lit&&(R(ae,!1),ae.strm.avail_out===0)?1:2}(D,Q):p[D.level].func(D,Q);if(ie!==3&&ie!==4||(D.status=666),ie===1||ie===3)return V.avail_out===0&&(D.last_flush=-1),0;if(ie===2&&(Q===1?m._tr_align(D):Q!==5&&(m._tr_stored_block(D,0,0,!1),Q===3&&(I(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),E(V),V.avail_out===0))return D.last_flush=-1,0}return Q!==4?0:D.wrap<=0?1:(D.wrap===2?(A(D,255&V.adler),A(D,V.adler>>8&255),A(D,V.adler>>16&255),A(D,V.adler>>24&255),A(D,255&V.total_in),A(D,V.total_in>>8&255),A(D,V.total_in>>16&255),A(D,V.total_in>>24&255)):(w(D,V.adler>>>16),w(D,65535&V.adler)),E(V),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},v.deflateEnd=function(V){var Q;return V&&V.state?(Q=V.state.status)!==42&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==M&&Q!==666?U(V,B):(V.state=null,Q===M?U(V,-3):0):B},v.deflateSetDictionary=function(V,Q){var F,D,K,ee,ue,ie,ae,ce,ne=Q.length;if(!V||!V.state||(ee=(F=V.state).wrap)===2||ee===1&&F.status!==42||F.lookahead)return B;for(ee===1&&(V.adler=b(V.adler,Q,ne,0)),F.wrap=0,ne>=F.w_size&&(ee===0&&(I(F.head),F.strstart=0,F.block_start=0,F.insert=0),ce=new y.Buf8(F.w_size),y.arraySet(ce,Q,ne-F.w_size,F.w_size,0),Q=ce,ne=F.w_size),ue=V.avail_in,ie=V.next_in,ae=V.input,V.avail_in=ne,V.next_in=0,V.input=Q,x(F);F.lookahead>=3;){for(D=F.strstart,K=F.lookahead-2;F.ins_h=(F.ins_h<<F.hash_shift^F.window[D+3-1])&F.hash_mask,F.prev[D&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=D,D++,--K;);F.strstart=D,F.lookahead=2,x(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=2,F.match_available=0,V.next_in=ie,V.input=ae,V.avail_in=ue,F.wrap=ee,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,g,v){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,g,v){g.exports=function(p,y){var m,b,k,N,B,j,T,M,U,O,I,E,R,A,w,_,x,S,C,q,P,$,X,Z,V;m=p.state,b=p.next_in,Z=p.input,k=b+(p.avail_in-5),N=p.next_out,V=p.output,B=N-(y-p.avail_out),j=N+(p.avail_out-257),T=m.dmax,M=m.wsize,U=m.whave,O=m.wnext,I=m.window,E=m.hold,R=m.bits,A=m.lencode,w=m.distcode,_=(1<<m.lenbits)-1,x=(1<<m.distbits)-1;e:do{R<15&&(E+=Z[b++]<<R,R+=8,E+=Z[b++]<<R,R+=8),S=A[E&_];t:for(;;){if(E>>>=C=S>>>24,R-=C,(C=S>>>16&255)==0)V[N++]=65535&S;else{if(!(16&C)){if(!(64&C)){S=A[(65535&S)+(E&(1<<C)-1)];continue t}if(32&C){m.mode=12;break e}p.msg="invalid literal/length code",m.mode=30;break e}q=65535&S,(C&=15)&&(R<C&&(E+=Z[b++]<<R,R+=8),q+=E&(1<<C)-1,E>>>=C,R-=C),R<15&&(E+=Z[b++]<<R,R+=8,E+=Z[b++]<<R,R+=8),S=w[E&x];r:for(;;){if(E>>>=C=S>>>24,R-=C,!(16&(C=S>>>16&255))){if(!(64&C)){S=w[(65535&S)+(E&(1<<C)-1)];continue r}p.msg="invalid distance code",m.mode=30;break e}if(P=65535&S,R<(C&=15)&&(E+=Z[b++]<<R,(R+=8)<C&&(E+=Z[b++]<<R,R+=8)),T<(P+=E&(1<<C)-1)){p.msg="invalid distance too far back",m.mode=30;break e}if(E>>>=C,R-=C,(C=N-B)<P){if(U<(C=P-C)&&m.sane){p.msg="invalid distance too far back",m.mode=30;break e}if(X=I,($=0)===O){if($+=M-C,C<q){for(q-=C;V[N++]=I[$++],--C;);$=N-P,X=V}}else if(O<C){if($+=M+O-C,(C-=O)<q){for(q-=C;V[N++]=I[$++],--C;);if($=0,O<q){for(q-=C=O;V[N++]=I[$++],--C;);$=N-P,X=V}}}else if($+=O-C,C<q){for(q-=C;V[N++]=I[$++],--C;);$=N-P,X=V}for(;2<q;)V[N++]=X[$++],V[N++]=X[$++],V[N++]=X[$++],q-=3;q&&(V[N++]=X[$++],1<q&&(V[N++]=X[$++]))}else{for($=N-P;V[N++]=V[$++],V[N++]=V[$++],V[N++]=V[$++],2<(q-=3););q&&(V[N++]=V[$++],1<q&&(V[N++]=V[$++]))}break}}break}}while(b<k&&N<j);b-=q=R>>3,E&=(1<<(R-=q<<3))-1,p.next_in=b,p.next_out=N,p.avail_in=b<k?k-b+5:5-(b-k),p.avail_out=N<j?j-N+257:257-(N-j),m.hold=E,m.bits=R}},{}],49:[function(h,g,v){var p=h("../utils/common"),y=h("./adler32"),m=h("./crc32"),b=h("./inffast"),k=h("./inftrees"),N=-2;function B(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(_){var x;return _&&_.state?(x=_.state,_.total_in=_.total_out=x.total=0,_.msg="",x.wrap&&(_.adler=1&x.wrap),x.mode=1,x.last=0,x.havedict=0,x.dmax=32768,x.head=null,x.hold=0,x.bits=0,x.lencode=x.lendyn=new p.Buf32(852),x.distcode=x.distdyn=new p.Buf32(592),x.sane=1,x.back=-1,0):N}function M(_){var x;return _&&_.state?((x=_.state).wsize=0,x.whave=0,x.wnext=0,T(_)):N}function U(_,x){var S,C;return _&&_.state?(C=_.state,x<0?(S=0,x=-x):(S=1+(x>>4),x<48&&(x&=15)),x&&(x<8||15<x)?N:(C.window!==null&&C.wbits!==x&&(C.window=null),C.wrap=S,C.wbits=x,M(_))):N}function O(_,x){var S,C;return _?(C=new j,(_.state=C).window=null,(S=U(_,x))!==0&&(_.state=null),S):N}var I,E,R=!0;function A(_){if(R){var x;for(I=new p.Buf32(512),E=new p.Buf32(32),x=0;x<144;)_.lens[x++]=8;for(;x<256;)_.lens[x++]=9;for(;x<280;)_.lens[x++]=7;for(;x<288;)_.lens[x++]=8;for(k(1,_.lens,0,288,I,0,_.work,{bits:9}),x=0;x<32;)_.lens[x++]=5;k(2,_.lens,0,32,E,0,_.work,{bits:5}),R=!1}_.lencode=I,_.lenbits=9,_.distcode=E,_.distbits=5}function w(_,x,S,C){var q,P=_.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new p.Buf8(P.wsize)),C>=P.wsize?(p.arraySet(P.window,x,S-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(C<(q=P.wsize-P.wnext)&&(q=C),p.arraySet(P.window,x,S-C,q,P.wnext),(C-=q)?(p.arraySet(P.window,x,S-C,C,0),P.wnext=C,P.whave=P.wsize):(P.wnext+=q,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=q))),0}v.inflateReset=M,v.inflateReset2=U,v.inflateResetKeep=T,v.inflateInit=function(_){return O(_,15)},v.inflateInit2=O,v.inflate=function(_,x){var S,C,q,P,$,X,Z,V,Q,F,D,K,ee,ue,ie,ae,ce,ne,se,ye,me,_e,xe,ke,Ce=0,Oe=new p.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return N;(S=_.state).mode===12&&(S.mode=13),$=_.next_out,q=_.output,Z=_.avail_out,P=_.next_in,C=_.input,X=_.avail_in,V=S.hold,Q=S.bits,F=X,D=Z,_e=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(2&S.wrap&&V===35615){Oe[S.check=0]=255&V,Oe[1]=V>>>8&255,S.check=m(S.check,Oe,2,0),Q=V=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&V)<<8)+(V>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&V)!=8){_.msg="unknown compression method",S.mode=30;break}if(Q-=4,me=8+(15&(V>>>=4)),S.wbits===0)S.wbits=me;else if(me>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<me,_.adler=S.check=1,S.mode=512&V?10:12,Q=V=0;break;case 2:for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(S.flags=V,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=V>>8&1),512&S.flags&&(Oe[0]=255&V,Oe[1]=V>>>8&255,S.check=m(S.check,Oe,2,0)),Q=V=0,S.mode=3;case 3:for(;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.head&&(S.head.time=V),512&S.flags&&(Oe[0]=255&V,Oe[1]=V>>>8&255,Oe[2]=V>>>16&255,Oe[3]=V>>>24&255,S.check=m(S.check,Oe,4,0)),Q=V=0,S.mode=4;case 4:for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.head&&(S.head.xflags=255&V,S.head.os=V>>8),512&S.flags&&(Oe[0]=255&V,Oe[1]=V>>>8&255,S.check=m(S.check,Oe,2,0)),Q=V=0,S.mode=5;case 5:if(1024&S.flags){for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.length=V,S.head&&(S.head.extra_len=V),512&S.flags&&(Oe[0]=255&V,Oe[1]=V>>>8&255,S.check=m(S.check,Oe,2,0)),Q=V=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(X<(K=S.length)&&(K=X),K&&(S.head&&(me=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,C,P,K,me)),512&S.flags&&(S.check=m(S.check,C,K,P)),X-=K,P+=K,S.length-=K),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(X===0)break e;for(K=0;me=C[P+K++],S.head&&me&&S.length<65536&&(S.head.name+=String.fromCharCode(me)),me&&K<X;);if(512&S.flags&&(S.check=m(S.check,C,K,P)),X-=K,P+=K,me)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(X===0)break e;for(K=0;me=C[P+K++],S.head&&me&&S.length<65536&&(S.head.comment+=String.fromCharCode(me)),me&&K<X;);if(512&S.flags&&(S.check=m(S.check,C,K,P)),X-=K,P+=K,me)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;Q<16;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(V!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}Q=V=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}_.adler=S.check=B(V),Q=V=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=$,_.avail_out=Z,_.next_in=P,_.avail_in=X,S.hold=V,S.bits=Q,2;_.adler=S.check=1,S.mode=12;case 12:if(x===5||x===6)break e;case 13:if(S.last){V>>>=7&Q,Q-=7&Q,S.mode=27;break}for(;Q<3;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}switch(S.last=1&V,Q-=1,3&(V>>>=1)){case 0:S.mode=14;break;case 1:if(A(S),S.mode=20,x!==6)break;V>>>=2,Q-=2;break e;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}V>>>=2,Q-=2;break;case 14:for(V>>>=7&Q,Q-=7&Q;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if((65535&V)!=(V>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&V,Q=V=0,S.mode=15,x===6)break e;case 15:S.mode=16;case 16:if(K=S.length){if(X<K&&(K=X),Z<K&&(K=Z),K===0)break e;p.arraySet(q,C,P,K,$),X-=K,P+=K,Z-=K,$+=K,S.length-=K;break}S.mode=12;break;case 17:for(;Q<14;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(S.nlen=257+(31&V),V>>>=5,Q-=5,S.ndist=1+(31&V),V>>>=5,Q-=5,S.ncode=4+(15&V),V>>>=4,Q-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;Q<3;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.lens[Ue[S.have++]]=7&V,V>>>=3,Q-=3}for(;S.have<19;)S.lens[Ue[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,xe={bits:S.lenbits},_e=k(0,S.lens,0,19,S.lencode,0,S.work,xe),S.lenbits=xe.bits,_e){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ae=(Ce=S.lencode[V&(1<<S.lenbits)-1])>>>16&255,ce=65535&Ce,!((ie=Ce>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(ce<16)V>>>=ie,Q-=ie,S.lens[S.have++]=ce;else{if(ce===16){for(ke=ie+2;Q<ke;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(V>>>=ie,Q-=ie,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}me=S.lens[S.have-1],K=3+(3&V),V>>>=2,Q-=2}else if(ce===17){for(ke=ie+3;Q<ke;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}Q-=ie,me=0,K=3+(7&(V>>>=ie)),V>>>=3,Q-=3}else{for(ke=ie+7;Q<ke;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}Q-=ie,me=0,K=11+(127&(V>>>=ie)),V>>>=7,Q-=7}if(S.have+K>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;K--;)S.lens[S.have++]=me}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,xe={bits:S.lenbits},_e=k(1,S.lens,0,S.nlen,S.lencode,0,S.work,xe),S.lenbits=xe.bits,_e){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,xe={bits:S.distbits},_e=k(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,xe),S.distbits=xe.bits,_e){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,x===6)break e;case 20:S.mode=21;case 21:if(6<=X&&258<=Z){_.next_out=$,_.avail_out=Z,_.next_in=P,_.avail_in=X,S.hold=V,S.bits=Q,b(_,D),$=_.next_out,q=_.output,Z=_.avail_out,P=_.next_in,C=_.input,X=_.avail_in,V=S.hold,Q=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ae=(Ce=S.lencode[V&(1<<S.lenbits)-1])>>>16&255,ce=65535&Ce,!((ie=Ce>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(ae&&!(240&ae)){for(ne=ie,se=ae,ye=ce;ae=(Ce=S.lencode[ye+((V&(1<<ne+se)-1)>>ne)])>>>16&255,ce=65535&Ce,!(ne+(ie=Ce>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}V>>>=ne,Q-=ne,S.back+=ne}if(V>>>=ie,Q-=ie,S.back+=ie,S.length=ce,ae===0){S.mode=26;break}if(32&ae){S.back=-1,S.mode=12;break}if(64&ae){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ae,S.mode=22;case 22:if(S.extra){for(ke=S.extra;Q<ke;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.length+=V&(1<<S.extra)-1,V>>>=S.extra,Q-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ae=(Ce=S.distcode[V&(1<<S.distbits)-1])>>>16&255,ce=65535&Ce,!((ie=Ce>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(!(240&ae)){for(ne=ie,se=ae,ye=ce;ae=(Ce=S.distcode[ye+((V&(1<<ne+se)-1)>>ne)])>>>16&255,ce=65535&Ce,!(ne+(ie=Ce>>>24)<=Q);){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}V>>>=ne,Q-=ne,S.back+=ne}if(V>>>=ie,Q-=ie,S.back+=ie,64&ae){_.msg="invalid distance code",S.mode=30;break}S.offset=ce,S.extra=15&ae,S.mode=24;case 24:if(S.extra){for(ke=S.extra;Q<ke;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}S.offset+=V&(1<<S.extra)-1,V>>>=S.extra,Q-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Z===0)break e;if(K=D-Z,S.offset>K){if((K=S.offset-K)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}ee=K>S.wnext?(K-=S.wnext,S.wsize-K):S.wnext-K,K>S.length&&(K=S.length),ue=S.window}else ue=q,ee=$-S.offset,K=S.length;for(Z<K&&(K=Z),Z-=K,S.length-=K;q[$++]=ue[ee++],--K;);S.length===0&&(S.mode=21);break;case 26:if(Z===0)break e;q[$++]=S.length,Z--,S.mode=21;break;case 27:if(S.wrap){for(;Q<32;){if(X===0)break e;X--,V|=C[P++]<<Q,Q+=8}if(D-=Z,_.total_out+=D,S.total+=D,D&&(_.adler=S.check=S.flags?m(S.check,q,D,$-D):y(S.check,q,D,$-D)),D=Z,(S.flags?V:B(V))!==S.check){_.msg="incorrect data check",S.mode=30;break}Q=V=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;Q<32;){if(X===0)break e;X--,V+=C[P++]<<Q,Q+=8}if(V!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}Q=V=0}S.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return N}return _.next_out=$,_.avail_out=Z,_.next_in=P,_.avail_in=X,S.hold=V,S.bits=Q,(S.wsize||D!==_.avail_out&&S.mode<30&&(S.mode<27||x!==4))&&w(_,_.output,_.next_out,D-_.avail_out)?(S.mode=31,-4):(F-=_.avail_in,D-=_.avail_out,_.total_in+=F,_.total_out+=D,S.total+=D,S.wrap&&D&&(_.adler=S.check=S.flags?m(S.check,q,D,_.next_out-D):y(S.check,q,D,_.next_out-D)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(F==0&&D===0||x===4)&&_e===0&&(_e=-5),_e)},v.inflateEnd=function(_){if(!_||!_.state)return N;var x=_.state;return x.window&&(x.window=null),_.state=null,0},v.inflateGetHeader=function(_,x){var S;return _&&_.state&&2&(S=_.state).wrap?((S.head=x).done=!1,0):N},v.inflateSetDictionary=function(_,x){var S,C=x.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?N:S.mode===11&&y(1,x,C,0)!==S.check?-3:w(_,x,C,C)?(S.mode=31,-4):(S.havedict=1,0):N},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,g,v){var p=h("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(N,B,j,T,M,U,O,I){var E,R,A,w,_,x,S,C,q,P=I.bits,$=0,X=0,Z=0,V=0,Q=0,F=0,D=0,K=0,ee=0,ue=0,ie=null,ae=0,ce=new p.Buf16(16),ne=new p.Buf16(16),se=null,ye=0;for($=0;$<=15;$++)ce[$]=0;for(X=0;X<T;X++)ce[B[j+X]]++;for(Q=P,V=15;1<=V&&ce[V]===0;V--);if(V<Q&&(Q=V),V===0)return M[U++]=20971520,M[U++]=20971520,I.bits=1,0;for(Z=1;Z<V&&ce[Z]===0;Z++);for(Q<Z&&(Q=Z),$=K=1;$<=15;$++)if(K<<=1,(K-=ce[$])<0)return-1;if(0<K&&(N===0||V!==1))return-1;for(ne[1]=0,$=1;$<15;$++)ne[$+1]=ne[$]+ce[$];for(X=0;X<T;X++)B[j+X]!==0&&(O[ne[B[j+X]]++]=X);if(x=N===0?(ie=se=O,19):N===1?(ie=y,ae-=257,se=m,ye-=257,256):(ie=b,se=k,-1),$=Z,_=U,D=X=ue=0,A=-1,w=(ee=1<<(F=Q))-1,N===1&&852<ee||N===2&&592<ee)return 1;for(;;){for(S=$-D,q=O[X]<x?(C=0,O[X]):O[X]>x?(C=se[ye+O[X]],ie[ae+O[X]]):(C=96,0),E=1<<$-D,Z=R=1<<F;M[_+(ue>>D)+(R-=E)]=S<<24|C<<16|q|0,R!==0;);for(E=1<<$-1;ue&E;)E>>=1;if(E!==0?(ue&=E-1,ue+=E):ue=0,X++,--ce[$]==0){if($===V)break;$=B[j+O[X]]}if(Q<$&&(ue&w)!==A){for(D===0&&(D=Q),_+=Z,K=1<<(F=$-D);F+D<V&&!((K-=ce[F+D])<=0);)F++,K<<=1;if(ee+=1<<F,N===1&&852<ee||N===2&&592<ee)return 1;M[A=ue&w]=Q<<24|F<<16|_-U|0}}return ue!==0&&(M[_+ue]=$-D<<24|64<<16|0),I.bits=Q,0}},{"../utils/common":41}],51:[function(h,g,v){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,g,v){var p=h("../utils/common");function y(se){for(var ye=se.length;0<=--ye;)se[ye]=0}var m=256,b=286,k=30,N=15,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(576);y(U);var O=new Array(60);y(O);var I=new Array(512);y(I);var E=new Array(256);y(E);var R=new Array(29);y(R);var A,w,_,x=new Array(k);function S(se,ye,me,_e,xe){this.static_tree=se,this.extra_bits=ye,this.extra_base=me,this.elems=_e,this.max_length=xe,this.has_stree=se&&se.length}function C(se,ye){this.dyn_tree=se,this.max_code=0,this.stat_desc=ye}function q(se){return se<256?I[se]:I[256+(se>>>7)]}function P(se,ye){se.pending_buf[se.pending++]=255&ye,se.pending_buf[se.pending++]=ye>>>8&255}function $(se,ye,me){se.bi_valid>16-me?(se.bi_buf|=ye<<se.bi_valid&65535,P(se,se.bi_buf),se.bi_buf=ye>>16-se.bi_valid,se.bi_valid+=me-16):(se.bi_buf|=ye<<se.bi_valid&65535,se.bi_valid+=me)}function X(se,ye,me){$(se,me[2*ye],me[2*ye+1])}function Z(se,ye){for(var me=0;me|=1&se,se>>>=1,me<<=1,0<--ye;);return me>>>1}function V(se,ye,me){var _e,xe,ke=new Array(16),Ce=0;for(_e=1;_e<=N;_e++)ke[_e]=Ce=Ce+me[_e-1]<<1;for(xe=0;xe<=ye;xe++){var Oe=se[2*xe+1];Oe!==0&&(se[2*xe]=Z(ke[Oe]++,Oe))}}function Q(se){var ye;for(ye=0;ye<b;ye++)se.dyn_ltree[2*ye]=0;for(ye=0;ye<k;ye++)se.dyn_dtree[2*ye]=0;for(ye=0;ye<19;ye++)se.bl_tree[2*ye]=0;se.dyn_ltree[512]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function F(se){8<se.bi_valid?P(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function D(se,ye,me,_e){var xe=2*ye,ke=2*me;return se[xe]<se[ke]||se[xe]===se[ke]&&_e[ye]<=_e[me]}function K(se,ye,me){for(var _e=se.heap[me],xe=me<<1;xe<=se.heap_len&&(xe<se.heap_len&&D(ye,se.heap[xe+1],se.heap[xe],se.depth)&&xe++,!D(ye,_e,se.heap[xe],se.depth));)se.heap[me]=se.heap[xe],me=xe,xe<<=1;se.heap[me]=_e}function ee(se,ye,me){var _e,xe,ke,Ce,Oe=0;if(se.last_lit!==0)for(;_e=se.pending_buf[se.d_buf+2*Oe]<<8|se.pending_buf[se.d_buf+2*Oe+1],xe=se.pending_buf[se.l_buf+Oe],Oe++,_e===0?X(se,xe,ye):(X(se,(ke=E[xe])+m+1,ye),(Ce=B[ke])!==0&&$(se,xe-=R[ke],Ce),X(se,ke=q(--_e),me),(Ce=j[ke])!==0&&$(se,_e-=x[ke],Ce)),Oe<se.last_lit;);X(se,256,ye)}function ue(se,ye){var me,_e,xe,ke=ye.dyn_tree,Ce=ye.stat_desc.static_tree,Oe=ye.stat_desc.has_stree,Ue=ye.stat_desc.elems,ve=-1;for(se.heap_len=0,se.heap_max=573,me=0;me<Ue;me++)ke[2*me]!==0?(se.heap[++se.heap_len]=ve=me,se.depth[me]=0):ke[2*me+1]=0;for(;se.heap_len<2;)ke[2*(xe=se.heap[++se.heap_len]=ve<2?++ve:0)]=1,se.depth[xe]=0,se.opt_len--,Oe&&(se.static_len-=Ce[2*xe+1]);for(ye.max_code=ve,me=se.heap_len>>1;1<=me;me--)K(se,ke,me);for(xe=Ue;me=se.heap[1],se.heap[1]=se.heap[se.heap_len--],K(se,ke,1),_e=se.heap[1],se.heap[--se.heap_max]=me,se.heap[--se.heap_max]=_e,ke[2*xe]=ke[2*me]+ke[2*_e],se.depth[xe]=(se.depth[me]>=se.depth[_e]?se.depth[me]:se.depth[_e])+1,ke[2*me+1]=ke[2*_e+1]=xe,se.heap[1]=xe++,K(se,ke,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(Be,$e){var He,Xe,Te,ht,Ze,st,it=$e.dyn_tree,yt=$e.max_code,vt=$e.stat_desc.static_tree,kt=$e.stat_desc.has_stree,or=$e.stat_desc.extra_bits,wt=$e.stat_desc.extra_base,Gt=$e.stat_desc.max_length,Yt=0;for(ht=0;ht<=N;ht++)Be.bl_count[ht]=0;for(it[2*Be.heap[Be.heap_max]+1]=0,He=Be.heap_max+1;He<573;He++)Gt<(ht=it[2*it[2*(Xe=Be.heap[He])+1]+1]+1)&&(ht=Gt,Yt++),it[2*Xe+1]=ht,yt<Xe||(Be.bl_count[ht]++,Ze=0,wt<=Xe&&(Ze=or[Xe-wt]),st=it[2*Xe],Be.opt_len+=st*(ht+Ze),kt&&(Be.static_len+=st*(vt[2*Xe+1]+Ze)));if(Yt!==0){do{for(ht=Gt-1;Be.bl_count[ht]===0;)ht--;Be.bl_count[ht]--,Be.bl_count[ht+1]+=2,Be.bl_count[Gt]--,Yt-=2}while(0<Yt);for(ht=Gt;ht!==0;ht--)for(Xe=Be.bl_count[ht];Xe!==0;)yt<(Te=Be.heap[--He])||(it[2*Te+1]!==ht&&(Be.opt_len+=(ht-it[2*Te+1])*it[2*Te],it[2*Te+1]=ht),Xe--)}}(se,ye),V(ke,ve,se.bl_count)}function ie(se,ye,me){var _e,xe,ke=-1,Ce=ye[1],Oe=0,Ue=7,ve=4;for(Ce===0&&(Ue=138,ve=3),ye[2*(me+1)+1]=65535,_e=0;_e<=me;_e++)xe=Ce,Ce=ye[2*(_e+1)+1],++Oe<Ue&&xe===Ce||(Oe<ve?se.bl_tree[2*xe]+=Oe:xe!==0?(xe!==ke&&se.bl_tree[2*xe]++,se.bl_tree[32]++):Oe<=10?se.bl_tree[34]++:se.bl_tree[36]++,ke=xe,ve=(Oe=0)===Ce?(Ue=138,3):xe===Ce?(Ue=6,3):(Ue=7,4))}function ae(se,ye,me){var _e,xe,ke=-1,Ce=ye[1],Oe=0,Ue=7,ve=4;for(Ce===0&&(Ue=138,ve=3),_e=0;_e<=me;_e++)if(xe=Ce,Ce=ye[2*(_e+1)+1],!(++Oe<Ue&&xe===Ce)){if(Oe<ve)for(;X(se,xe,se.bl_tree),--Oe!=0;);else xe!==0?(xe!==ke&&(X(se,xe,se.bl_tree),Oe--),X(se,16,se.bl_tree),$(se,Oe-3,2)):Oe<=10?(X(se,17,se.bl_tree),$(se,Oe-3,3)):(X(se,18,se.bl_tree),$(se,Oe-11,7));ke=xe,ve=(Oe=0)===Ce?(Ue=138,3):xe===Ce?(Ue=6,3):(Ue=7,4)}}y(x);var ce=!1;function ne(se,ye,me,_e){$(se,0+(_e?1:0),3),function(xe,ke,Ce,Oe){F(xe),P(xe,Ce),P(xe,~Ce),p.arraySet(xe.pending_buf,xe.window,ke,Ce,xe.pending),xe.pending+=Ce}(se,ye,me)}v._tr_init=function(se){ce||(function(){var ye,me,_e,xe,ke,Ce=new Array(16);for(xe=_e=0;xe<28;xe++)for(R[xe]=_e,ye=0;ye<1<<B[xe];ye++)E[_e++]=xe;for(E[_e-1]=xe,xe=ke=0;xe<16;xe++)for(x[xe]=ke,ye=0;ye<1<<j[xe];ye++)I[ke++]=xe;for(ke>>=7;xe<k;xe++)for(x[xe]=ke<<7,ye=0;ye<1<<j[xe]-7;ye++)I[256+ke++]=xe;for(me=0;me<=N;me++)Ce[me]=0;for(ye=0;ye<=143;)U[2*ye+1]=8,ye++,Ce[8]++;for(;ye<=255;)U[2*ye+1]=9,ye++,Ce[9]++;for(;ye<=279;)U[2*ye+1]=7,ye++,Ce[7]++;for(;ye<=287;)U[2*ye+1]=8,ye++,Ce[8]++;for(V(U,287,Ce),ye=0;ye<k;ye++)O[2*ye+1]=5,O[2*ye]=Z(ye,5);A=new S(U,B,257,b,N),w=new S(O,j,0,k,N),_=new S(new Array(0),T,0,19,7)}(),ce=!0),se.l_desc=new C(se.dyn_ltree,A),se.d_desc=new C(se.dyn_dtree,w),se.bl_desc=new C(se.bl_tree,_),se.bi_buf=0,se.bi_valid=0,Q(se)},v._tr_stored_block=ne,v._tr_flush_block=function(se,ye,me,_e){var xe,ke,Ce=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(Oe){var Ue,ve=4093624447;for(Ue=0;Ue<=31;Ue++,ve>>>=1)if(1&ve&&Oe.dyn_ltree[2*Ue]!==0)return 0;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return 1;for(Ue=32;Ue<m;Ue++)if(Oe.dyn_ltree[2*Ue]!==0)return 1;return 0}(se)),ue(se,se.l_desc),ue(se,se.d_desc),Ce=function(Oe){var Ue;for(ie(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),ie(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),ue(Oe,Oe.bl_desc),Ue=18;3<=Ue&&Oe.bl_tree[2*M[Ue]+1]===0;Ue--);return Oe.opt_len+=3*(Ue+1)+5+5+4,Ue}(se),xe=se.opt_len+3+7>>>3,(ke=se.static_len+3+7>>>3)<=xe&&(xe=ke)):xe=ke=me+5,me+4<=xe&&ye!==-1?ne(se,ye,me,_e):se.strategy===4||ke===xe?($(se,2+(_e?1:0),3),ee(se,U,O)):($(se,4+(_e?1:0),3),function(Oe,Ue,ve,Be){var $e;for($(Oe,Ue-257,5),$(Oe,ve-1,5),$(Oe,Be-4,4),$e=0;$e<Be;$e++)$(Oe,Oe.bl_tree[2*M[$e]+1],3);ae(Oe,Oe.dyn_ltree,Ue-1),ae(Oe,Oe.dyn_dtree,ve-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Ce+1),ee(se,se.dyn_ltree,se.dyn_dtree)),Q(se),_e&&F(se)},v._tr_tally=function(se,ye,me){return se.pending_buf[se.d_buf+2*se.last_lit]=ye>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&ye,se.pending_buf[se.l_buf+se.last_lit]=255&me,se.last_lit++,ye===0?se.dyn_ltree[2*me]++:(se.matches++,ye--,se.dyn_ltree[2*(E[me]+m+1)]++,se.dyn_dtree[2*q(ye)]++),se.last_lit===se.lit_bufsize-1},v._tr_align=function(se){$(se,2,3),X(se,256,U),function(ye){ye.bi_valid===16?(P(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(h,g,v){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,g,v){(function(p){(function(y,m){if(!y.setImmediate){var b,k,N,B,j=1,T={},M=!1,U=y.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(y);O=O&&O.setTimeout?O:y,b={}.toString.call(y.process)==="[object process]"?function(A){i.nextTick(function(){E(A)})}:function(){if(y.postMessage&&!y.importScripts){var A=!0,w=y.onmessage;return y.onmessage=function(){A=!1},y.postMessage("","*"),y.onmessage=w,A}}()?(B="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",R,!1):y.attachEvent("onmessage",R),function(A){y.postMessage(B+A,"*")}):y.MessageChannel?((N=new MessageChannel).port1.onmessage=function(A){E(A.data)},function(A){N.port2.postMessage(A)}):U&&"onreadystatechange"in U.createElement("script")?(k=U.documentElement,function(A){var w=U.createElement("script");w.onreadystatechange=function(){E(A),w.onreadystatechange=null,k.removeChild(w),w=null},k.appendChild(w)}):function(A){setTimeout(E,0,A)},O.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var w=new Array(arguments.length-1),_=0;_<w.length;_++)w[_]=arguments[_+1];var x={callback:A,args:w};return T[j]=x,b(j),j++},O.clearImmediate=I}function I(A){delete T[A]}function E(A){if(M)setTimeout(E,0,A);else{var w=T[A];if(w){M=!0;try{(function(_){var x=_.callback,S=_.args;switch(S.length){case 0:x();break;case 1:x(S[0]);break;case 2:x(S[0],S[1]);break;case 3:x(S[0],S[1],S[2]);break;default:x.apply(void 0,S)}})(w)}finally{I(A),M=!1}}}}function R(A){A.source===y&&typeof A.data=="string"&&A.data.indexOf(B)===0&&E(+A.data.slice(B.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,u=RegExp(a.source),o=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,c=o||l||Function("return this")(),d=Object.prototype.toString,f=c.Symbol,h=f?f.prototype:void 0,g=h?h.toString:void 0;function v(p){if(typeof p=="string")return p;if(function(m){return typeof m=="symbol"||function(b){return!!b&&typeof b=="object"}(m)&&d.call(m)=="[object Symbol]"}(p))return g?g.call(p):"";var y=p+"";return y=="0"&&1/p==-1/0?"-0":y}n.exports=function(p){var y;return(p=(y=p)==null?"":v(y))&&u.test(p)?p.replace(a,"\\$&"):p}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",u="[object Map]",o="[object Object]",l="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[a]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[u]=y["[object Number]"]=y[o]=y["[object RegExp]"]=y[l]=y["[object String]"]=y["[object WeakMap]"]=!1;var m=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,k=m||b||Function("return this")(),N=typeof s=="object"&&s&&!s.nodeType&&s,B=N&&typeof n=="object"&&n&&!n.nodeType&&n,j=B&&B.exports===N&&m.process,T=function(){try{return j&&j.binding("util")}catch{}}(),M=T&&T.isTypedArray;function U(be,Me,Ke,rt){for(var Nt=-1,ft=be?be.length:0;++Nt<ft;){var mt=be[Nt];Me(rt,mt,Ke(mt),be)}return rt}function O(be,Me){for(var Ke=-1,rt=be?be.length:0;++Ke<rt;)if(Me(be[Ke],Ke,be))return!0;return!1}function I(be){var Me=!1;if(be!=null&&typeof be.toString!="function")try{Me=!!(be+"")}catch{}return Me}function E(be){var Me=-1,Ke=Array(be.size);return be.forEach(function(rt,Nt){Ke[++Me]=[Nt,rt]}),Ke}function R(be){var Me=-1,Ke=Array(be.size);return be.forEach(function(rt){Ke[++Me]=rt}),Ke}var A,w,_,x=Array.prototype,S=Function.prototype,C=Object.prototype,q=k["__core-js_shared__"],P=(A=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",$=S.toString,X=C.hasOwnProperty,Z=C.toString,V=RegExp("^"+$.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=k.Symbol,F=k.Uint8Array,D=C.propertyIsEnumerable,K=x.splice,ee=(w=Object.keys,_=Object,function(be){return w(_(be))}),ue=Ot(k,"DataView"),ie=Ot(k,"Map"),ae=Ot(k,"Promise"),ce=Ot(k,"Set"),ne=Ot(k,"WeakMap"),se=Ot(Object,"create"),ye=Ie(ue),me=Ie(ie),_e=Ie(ae),xe=Ie(ce),ke=Ie(ne),Ce=Q?Q.prototype:void 0,Oe=Ce?Ce.valueOf:void 0,Ue=Ce?Ce.toString:void 0;function ve(be){var Me=-1,Ke=be?be.length:0;for(this.clear();++Me<Ke;){var rt=be[Me];this.set(rt[0],rt[1])}}function Be(be){var Me=-1,Ke=be?be.length:0;for(this.clear();++Me<Ke;){var rt=be[Me];this.set(rt[0],rt[1])}}function $e(be){var Me=-1,Ke=be?be.length:0;for(this.clear();++Me<Ke;){var rt=be[Me];this.set(rt[0],rt[1])}}function He(be){var Me=-1,Ke=be?be.length:0;for(this.__data__=new $e;++Me<Ke;)this.add(be[Me])}function Xe(be){this.__data__=new Be(be)}function Te(be,Me){var Ke=It(be)||Pt(be)?function(mt,vr){for(var rr=-1,lr=Array(mt);++rr<mt;)lr[rr]=vr(rr);return lr}(be.length,String):[],rt=Ke.length,Nt=!!rt;for(var ft in be)!X.call(be,ft)||Nt&&(ft=="length"||tr(ft,rt))||Ke.push(ft);return Ke}function ht(be,Me){for(var Ke=be.length;Ke--;)if(pt(be[Ke][0],Me))return Ke;return-1}function Ze(be,Me,Ke,rt){return it(be,function(Nt,ft,mt){Me(rt,Nt,Ke(Nt),mt)}),rt}ve.prototype.clear=function(){this.__data__=se?se(null):{}},ve.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},ve.prototype.get=function(be){var Me=this.__data__;if(se){var Ke=Me[be];return Ke==="__lodash_hash_undefined__"?void 0:Ke}return X.call(Me,be)?Me[be]:void 0},ve.prototype.has=function(be){var Me=this.__data__;return se?Me[be]!==void 0:X.call(Me,be)},ve.prototype.set=function(be,Me){return this.__data__[be]=se&&Me===void 0?"__lodash_hash_undefined__":Me,this},Be.prototype.clear=function(){this.__data__=[]},Be.prototype.delete=function(be){var Me=this.__data__,Ke=ht(Me,be);return!(Ke<0)&&(Ke==Me.length-1?Me.pop():K.call(Me,Ke,1),!0)},Be.prototype.get=function(be){var Me=this.__data__,Ke=ht(Me,be);return Ke<0?void 0:Me[Ke][1]},Be.prototype.has=function(be){return ht(this.__data__,be)>-1},Be.prototype.set=function(be,Me){var Ke=this.__data__,rt=ht(Ke,be);return rt<0?Ke.push([be,Me]):Ke[rt][1]=Me,this},$e.prototype.clear=function(){this.__data__={hash:new ve,map:new(ie||Be),string:new ve}},$e.prototype.delete=function(be){return Mt(this,be).delete(be)},$e.prototype.get=function(be){return Mt(this,be).get(be)},$e.prototype.has=function(be){return Mt(this,be).has(be)},$e.prototype.set=function(be,Me){return Mt(this,be).set(be,Me),this},He.prototype.add=He.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},He.prototype.has=function(be){return this.__data__.has(be)},Xe.prototype.clear=function(){this.__data__=new Be},Xe.prototype.delete=function(be){return this.__data__.delete(be)},Xe.prototype.get=function(be){return this.__data__.get(be)},Xe.prototype.has=function(be){return this.__data__.has(be)},Xe.prototype.set=function(be,Me){var Ke=this.__data__;if(Ke instanceof Be){var rt=Ke.__data__;if(!ie||rt.length<199)return rt.push([be,Me]),this;Ke=this.__data__=new $e(rt)}return Ke.set(be,Me),this};var st,it=(st=function(be,Me){return be&&yt(be,Me,Ht)},function(be,Me){if(be==null)return be;if(!Et(be))return st(be,Me);for(var Ke=be.length,rt=-1,Nt=Object(be);++rt<Ke&&Me(Nt[rt],rt,Nt)!==!1;);return be}),yt=function(be){return function(Me,Ke,rt){for(var Nt=-1,ft=Object(Me),mt=rt(Me),vr=mt.length;vr--;){var rr=mt[++Nt];if(Ke(ft[rr],rr,ft)===!1)break}return Me}}();function vt(be,Me){for(var Ke=0,rt=(Me=jt(Me,be)?[Me]:At(Me)).length;be!=null&&Ke<rt;)be=be[Ee(Me[Ke++])];return Ke&&Ke==rt?be:void 0}function kt(be,Me){return be!=null&&Me in Object(be)}function or(be,Me,Ke,rt,Nt){return be===Me||(be==null||Me==null||!Xt(be)&&!Cr(Me)?be!=be&&Me!=Me:function(ft,mt,vr,rr,lr,Vt){var _r=It(ft),Kt=It(mt),xr="[object Array]",jr="[object Array]";_r||(xr=(xr=Wt(ft))==a?o:xr),Kt||(jr=(jr=Wt(mt))==a?o:jr);var tn=xr==o&&!I(ft),un=jr==o&&!I(mt),Un=xr==jr;if(Un&&!tn)return Vt||(Vt=new Xe),_r||bt(ft)?_t(ft,mt,vr,rr,lr,Vt):function(wr,yr,ai,Sr,Li,cn,xn){switch(ai){case"[object DataView]":if(wr.byteLength!=yr.byteLength||wr.byteOffset!=yr.byteOffset)return!1;wr=wr.buffer,yr=yr.buffer;case"[object ArrayBuffer]":return!(wr.byteLength!=yr.byteLength||!Sr(new F(wr),new F(yr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+wr,+yr);case"[object Error]":return wr.name==yr.name&&wr.message==yr.message;case"[object RegExp]":case"[object String]":return wr==yr+"";case u:var Oi=E;case l:var hs=2&cn;if(Oi||(Oi=R),wr.size!=yr.size&&!hs)return!1;var Js=xn.get(wr);if(Js)return Js==yr;cn|=1,xn.set(wr,yr);var zn=_t(Oi(wr),Oi(yr),Sr,Li,cn,xn);return xn.delete(wr),zn;case"[object Symbol]":if(Oe)return Oe.call(wr)==Oe.call(yr)}return!1}(ft,mt,xr,vr,rr,lr,Vt);if(!(2&lr)){var mn=tn&&X.call(ft,"__wrapped__"),xi=un&&X.call(mt,"__wrapped__");if(mn||xi){var Br=mn?ft.value():ft,gn=xi?mt.value():mt;return Vt||(Vt=new Xe),vr(Br,gn,rr,lr,Vt)}}return Un?(Vt||(Vt=new Xe),function(wr,yr,ai,Sr,Li,cn){var xn=2&Li,Oi=Ht(wr),hs=Oi.length,Js=Ht(yr).length;if(hs!=Js&&!xn)return!1;for(var zn=hs;zn--;){var Xn=Oi[zn];if(!(xn?Xn in yr:X.call(yr,Xn)))return!1}var Ns=cn.get(wr);if(Ns&&cn.get(yr))return Ns==yr;var Si=!0;cn.set(wr,yr),cn.set(yr,wr);for(var Ur=xn;++zn<hs;){Xn=Oi[zn];var Ps=wr[Xn],fs=yr[Xn];if(Sr)var er=xn?Sr(fs,Ps,Xn,yr,wr,cn):Sr(Ps,fs,Xn,wr,yr,cn);if(!(er===void 0?Ps===fs||ai(Ps,fs,Sr,Li,cn):er)){Si=!1;break}Ur||(Ur=Xn=="constructor")}if(Si&&!Ur){var ki=wr.constructor,ea=yr.constructor;ki==ea||!("constructor"in wr)||!("constructor"in yr)||typeof ki=="function"&&ki instanceof ki&&typeof ea=="function"&&ea instanceof ea||(Si=!1)}return cn.delete(wr),cn.delete(yr),Si}(ft,mt,vr,rr,lr,Vt)):!1}(be,Me,or,Ke,rt,Nt))}function wt(be){return!(!Xt(be)||function(Me){return!!P&&P in Me}(be))&&(zt(be)||I(be)?V:v).test(Ie(be))}function Gt(be){return typeof be=="function"?be:be==null?nr:typeof be=="object"?It(be)?function(rt,Nt){return jt(rt)&&ut(Nt)?ur(Ee(rt),Nt):function(ft){var mt=function(vr,rr,lr){var Vt=vr==null?void 0:vt(vr,rr);return Vt===void 0?lr:Vt}(ft,rt);return mt===void 0&&mt===Nt?function(vr,rr){return vr!=null&&function(lr,Vt,_r){Vt=jt(Vt,lr)?[Vt]:At(Vt);for(var Kt,xr=-1,jr=Vt.length;++xr<jr;){var tn=Ee(Vt[xr]);if(!(Kt=lr!=null&&_r(lr,tn)))break;lr=lr[tn]}return Kt||!!(jr=lr?lr.length:0)&&Ct(jr)&&tr(tn,jr)&&(It(lr)||Pt(lr))}(vr,rr,kt)}(ft,rt):or(Nt,mt,void 0,3)}}(be[0],be[1]):function(rt){var Nt=function(ft){for(var mt=Ht(ft),vr=mt.length;vr--;){var rr=mt[vr],lr=ft[rr];mt[vr]=[rr,lr,ut(lr)]}return mt}(rt);return Nt.length==1&&Nt[0][2]?ur(Nt[0][0],Nt[0][1]):function(ft){return ft===rt||function(mt,vr,rr,lr){var Vt=rr.length,_r=Vt;if(mt==null)return!_r;for(mt=Object(mt);Vt--;){var Kt=rr[Vt];if(Kt[2]?Kt[1]!==mt[Kt[0]]:!(Kt[0]in mt))return!1}for(;++Vt<_r;){var xr=(Kt=rr[Vt])[0],jr=mt[xr],tn=Kt[1];if(Kt[2]){if(jr===void 0&&!(xr in mt))return!1}else{var un=new Xe,Un;if(!(Un===void 0?or(tn,jr,lr,3,un):Un))return!1}}return!0}(ft,rt,Nt)}}(be):jt(Me=be)?(Ke=Ee(Me),function(rt){return rt==null?void 0:rt[Ke]}):function(rt){return function(Nt){return vt(Nt,rt)}}(Me);var Me,Ke}function Yt(be){if(Ke=(Me=be)&&Me.constructor,rt=typeof Ke=="function"&&Ke.prototype||C,Me!==rt)return ee(be);var Me,Ke,rt,Nt=[];for(var ft in Object(be))X.call(be,ft)&&ft!="constructor"&&Nt.push(ft);return Nt}function At(be){return It(be)?be:Bt(be)}function _t(be,Me,Ke,rt,Nt,ft){var mt=2&Nt,vr=be.length,rr=Me.length;if(vr!=rr&&!(mt&&rr>vr))return!1;var lr=ft.get(be);if(lr&&ft.get(Me))return lr==Me;var Vt=-1,_r=!0,Kt=1&Nt?new He:void 0;for(ft.set(be,Me),ft.set(Me,be);++Vt<vr;){var xr=be[Vt],jr=Me[Vt];if(rt)var tn=mt?rt(jr,xr,Vt,Me,be,ft):rt(xr,jr,Vt,be,Me,ft);if(tn!==void 0){if(tn)continue;_r=!1;break}if(Kt){if(!O(Me,function(un,Un){if(!Kt.has(Un)&&(xr===un||Ke(xr,un,rt,Nt,ft)))return Kt.add(Un)})){_r=!1;break}}else if(xr!==jr&&!Ke(xr,jr,rt,Nt,ft)){_r=!1;break}}return ft.delete(be),ft.delete(Me),_r}function Mt(be,Me){var Ke,rt,Nt=be.__data__;return((rt=typeof(Ke=Me))=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?Ke!=="__proto__":Ke===null)?Nt[typeof Me=="string"?"string":"hash"]:Nt.map}function Ot(be,Me){var Ke=function(rt,Nt){return rt==null?void 0:rt[Nt]}(be,Me);return wt(Ke)?Ke:void 0}var Wt=function(be){return Z.call(be)};function tr(be,Me){return!!(Me=Me??9007199254740991)&&(typeof be=="number"||p.test(be))&&be>-1&&be%1==0&&be<Me}function jt(be,Me){if(It(be))return!1;var Ke=typeof be;return!(Ke!="number"&&Ke!="symbol"&&Ke!="boolean"&&be!=null&&!Qe(be))||d.test(be)||!c.test(be)||Me!=null&&be in Object(Me)}function ut(be){return be==be&&!Xt(be)}function ur(be,Me){return function(Ke){return Ke!=null&&Ke[be]===Me&&(Me!==void 0||be in Object(Ke))}}(ue&&Wt(new ue(new ArrayBuffer(1)))!="[object DataView]"||ie&&Wt(new ie)!=u||ae&&Wt(ae.resolve())!="[object Promise]"||ce&&Wt(new ce)!=l||ne&&Wt(new ne)!="[object WeakMap]")&&(Wt=function(be){var Me=Z.call(be),Ke=Me==o?be.constructor:void 0,rt=Ke?Ie(Ke):void 0;if(rt)switch(rt){case ye:return"[object DataView]";case me:return u;case _e:return"[object Promise]";case xe:return l;case ke:return"[object WeakMap]"}return Me});var Bt=Ut(function(be){var Me;be=(Me=be)==null?"":function(rt){if(typeof rt=="string")return rt;if(Qe(rt))return Ue?Ue.call(rt):"";var Nt=rt+"";return Nt=="0"&&1/rt==-1/0?"-0":Nt}(Me);var Ke=[];return f.test(be)&&Ke.push(""),be.replace(h,function(rt,Nt,ft,mt){Ke.push(ft?mt.replace(g,"$1"):Nt||rt)}),Ke});function Ee(be){if(typeof be=="string"||Qe(be))return be;var Me=be+"";return Me=="0"&&1/be==-1/0?"-0":Me}function Ie(be){if(be!=null){try{return $.call(be)}catch{}try{return be+""}catch{}}return""}var We,at=(We=function(be,Me,Ke){X.call(be,Ke)?be[Ke].push(Me):be[Ke]=[Me]},function(be,Me){var Ke=It(be)?U:Ze,rt={};return Ke(be,We,Gt(Me),rt)});function Ut(be,Me){if(typeof be!="function"||Me&&typeof Me!="function")throw new TypeError("Expected a function");var Ke=function(){var rt=arguments,Nt=Me?Me.apply(this,rt):rt[0],ft=Ke.cache;if(ft.has(Nt))return ft.get(Nt);var mt=be.apply(this,rt);return Ke.cache=ft.set(Nt,mt),mt};return Ke.cache=new(Ut.Cache||$e),Ke}function pt(be,Me){return be===Me||be!=be&&Me!=Me}function Pt(be){return function(Me){return Cr(Me)&&Et(Me)}(be)&&X.call(be,"callee")&&(!D.call(be,"callee")||Z.call(be)==a)}Ut.Cache=$e;var It=Array.isArray;function Et(be){return be!=null&&Ct(be.length)&&!zt(be)}function zt(be){var Me=Xt(be)?Z.call(be):"";return Me=="[object Function]"||Me=="[object GeneratorFunction]"}function Ct(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function Xt(be){var Me=typeof be;return!!be&&(Me=="object"||Me=="function")}function Cr(be){return!!be&&typeof be=="object"}function Qe(be){return typeof be=="symbol"||Cr(be)&&Z.call(be)=="[object Symbol]"}var bt=M?function(be){return function(Me){return be(Me)}}(M):function(be){return Cr(be)&&Ct(be.length)&&!!y[Z.call(be)]};function Ht(be){return Et(be)?Te(be):Yt(be)}function nr(be){return be}n.exports=at}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||function(u){return!!u&&typeof u=="object"}(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",u="[object Map]",o="[object Object]",l="[object Set]",c=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[a]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[u]=f["[object Number]"]=f[o]=f["[object RegExp]"]=f[l]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,v=h||g||Function("return this")(),p=typeof s=="object"&&s&&!s.nodeType&&s,y=p&&typeof n=="object"&&n&&!n.nodeType&&n,m=y&&y.exports===p,b=m&&h.process,k=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),N=k&&k.isTypedArray;function B(Ee,Ie){for(var We=-1,at=Ee==null?0:Ee.length;++We<at;)if(Ie(Ee[We],We,Ee))return!0;return!1}function j(Ee){var Ie=-1,We=Array(Ee.size);return Ee.forEach(function(at,Ut){We[++Ie]=[Ut,at]}),We}function T(Ee){var Ie=-1,We=Array(Ee.size);return Ee.forEach(function(at){We[++Ie]=at}),We}var M,U,O,I=Array.prototype,E=Function.prototype,R=Object.prototype,A=v["__core-js_shared__"],w=E.toString,_=R.hasOwnProperty,x=(M=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",S=R.toString,C=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=m?v.Buffer:void 0,P=v.Symbol,$=v.Uint8Array,X=R.propertyIsEnumerable,Z=I.splice,V=P?P.toStringTag:void 0,Q=Object.getOwnPropertySymbols,F=q?q.isBuffer:void 0,D=(U=Object.keys,O=Object,function(Ee){return U(O(Ee))}),K=kt(v,"DataView"),ee=kt(v,"Map"),ue=kt(v,"Promise"),ie=kt(v,"Set"),ae=kt(v,"WeakMap"),ce=kt(Object,"create"),ne=Yt(K),se=Yt(ee),ye=Yt(ue),me=Yt(ie),_e=Yt(ae),xe=P?P.prototype:void 0,ke=xe?xe.valueOf:void 0;function Ce(Ee){var Ie=-1,We=Ee==null?0:Ee.length;for(this.clear();++Ie<We;){var at=Ee[Ie];this.set(at[0],at[1])}}function Oe(Ee){var Ie=-1,We=Ee==null?0:Ee.length;for(this.clear();++Ie<We;){var at=Ee[Ie];this.set(at[0],at[1])}}function Ue(Ee){var Ie=-1,We=Ee==null?0:Ee.length;for(this.clear();++Ie<We;){var at=Ee[Ie];this.set(at[0],at[1])}}function ve(Ee){var Ie=-1,We=Ee==null?0:Ee.length;for(this.__data__=new Ue;++Ie<We;)this.add(Ee[Ie])}function Be(Ee){var Ie=this.__data__=new Oe(Ee);this.size=Ie.size}function $e(Ee,Ie){var We=Mt(Ee),at=!We&&_t(Ee),Ut=!We&&!at&&Ot(Ee),pt=!We&&!at&&!Ut&&ur(Ee),Pt=We||at||Ut||pt,It=Pt?function(Ct,Xt){for(var Cr=-1,Qe=Array(Ct);++Cr<Ct;)Qe[Cr]=Xt(Cr);return Qe}(Ee.length,String):[],Et=It.length;for(var zt in Ee)!_.call(Ee,zt)||Pt&&(zt=="length"||Ut&&(zt=="offset"||zt=="parent")||pt&&(zt=="buffer"||zt=="byteLength"||zt=="byteOffset")||Gt(zt,Et))||It.push(zt);return It}function He(Ee,Ie){for(var We=Ee.length;We--;)if(At(Ee[We][0],Ie))return We;return-1}function Xe(Ee){return Ee==null?Ee===void 0?"[object Undefined]":"[object Null]":V&&V in Object(Ee)?function(Ie){var We=_.call(Ie,V),at=Ie[V];try{Ie[V]=void 0;var Ut=!0}catch{}var pt=S.call(Ie);return Ut&&(We?Ie[V]=at:delete Ie[V]),pt}(Ee):function(Ie){return S.call(Ie)}(Ee)}function Te(Ee){return ut(Ee)&&Xe(Ee)==a}function ht(Ee,Ie,We,at,Ut){return Ee===Ie||(Ee==null||Ie==null||!ut(Ee)&&!ut(Ie)?Ee!=Ee&&Ie!=Ie:function(pt,Pt,It,Et,zt,Ct){var Xt=Mt(pt),Cr=Mt(Pt),Qe=Xt?"[object Array]":wt(pt),bt=Cr?"[object Array]":wt(Pt),Ht=(Qe=Qe==a?o:Qe)==o,nr=(bt=bt==a?o:bt)==o,be=Qe==bt;if(be&&Ot(pt)){if(!Ot(Pt))return!1;Xt=!0,Ht=!1}if(be&&!Ht)return Ct||(Ct=new Be),Xt||ur(pt)?it(pt,Pt,It,Et,zt,Ct):function(ft,mt,vr,rr,lr,Vt,_r){switch(vr){case"[object DataView]":if(ft.byteLength!=mt.byteLength||ft.byteOffset!=mt.byteOffset)return!1;ft=ft.buffer,mt=mt.buffer;case"[object ArrayBuffer]":return!(ft.byteLength!=mt.byteLength||!Vt(new $(ft),new $(mt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+ft,+mt);case"[object Error]":return ft.name==mt.name&&ft.message==mt.message;case"[object RegExp]":case"[object String]":return ft==mt+"";case u:var Kt=j;case l:var xr=1&rr;if(Kt||(Kt=T),ft.size!=mt.size&&!xr)return!1;var jr=_r.get(ft);if(jr)return jr==mt;rr|=2,_r.set(ft,mt);var tn=it(Kt(ft),Kt(mt),rr,lr,Vt,_r);return _r.delete(ft),tn;case"[object Symbol]":if(ke)return ke.call(ft)==ke.call(mt)}return!1}(pt,Pt,Qe,It,Et,zt,Ct);if(!(1&It)){var Me=Ht&&_.call(pt,"__wrapped__"),Ke=nr&&_.call(Pt,"__wrapped__");if(Me||Ke){var rt=Me?pt.value():pt,Nt=Ke?Pt.value():Pt;return Ct||(Ct=new Be),zt(rt,Nt,It,Et,Ct)}}return be?(Ct||(Ct=new Be),function(ft,mt,vr,rr,lr,Vt){var _r=1&vr,Kt=yt(ft),xr=Kt.length,jr=yt(mt).length;if(xr!=jr&&!_r)return!1;for(var tn=xr;tn--;){var un=Kt[tn];if(!(_r?un in mt:_.call(mt,un)))return!1}var Un=Vt.get(ft);if(Un&&Vt.get(mt))return Un==mt;var mn=!0;Vt.set(ft,mt),Vt.set(mt,ft);for(var xi=_r;++tn<xr;){un=Kt[tn];var Br=ft[un],gn=mt[un];if(rr)var wr=_r?rr(gn,Br,un,mt,ft,Vt):rr(Br,gn,un,ft,mt,Vt);if(!(wr===void 0?Br===gn||lr(Br,gn,vr,rr,Vt):wr)){mn=!1;break}xi||(xi=un=="constructor")}if(mn&&!xi){var yr=ft.constructor,ai=mt.constructor;yr==ai||!("constructor"in ft)||!("constructor"in mt)||typeof yr=="function"&&yr instanceof yr&&typeof ai=="function"&&ai instanceof ai||(mn=!1)}return Vt.delete(ft),Vt.delete(mt),mn}(pt,Pt,It,Et,zt,Ct)):!1}(Ee,Ie,We,at,ht,Ut))}function Ze(Ee){return!(!jt(Ee)||function(Ie){return!!x&&x in Ie}(Ee))&&(Wt(Ee)?C:c).test(Yt(Ee))}function st(Ee){if(We=(Ie=Ee)&&Ie.constructor,at=typeof We=="function"&&We.prototype||R,Ie!==at)return D(Ee);var Ie,We,at,Ut=[];for(var pt in Object(Ee))_.call(Ee,pt)&&pt!="constructor"&&Ut.push(pt);return Ut}function it(Ee,Ie,We,at,Ut,pt){var Pt=1&We,It=Ee.length,Et=Ie.length;if(It!=Et&&!(Pt&&Et>It))return!1;var zt=pt.get(Ee);if(zt&&pt.get(Ie))return zt==Ie;var Ct=-1,Xt=!0,Cr=2&We?new ve:void 0;for(pt.set(Ee,Ie),pt.set(Ie,Ee);++Ct<It;){var Qe=Ee[Ct],bt=Ie[Ct];if(at)var Ht=Pt?at(bt,Qe,Ct,Ie,Ee,pt):at(Qe,bt,Ct,Ee,Ie,pt);if(Ht!==void 0){if(Ht)continue;Xt=!1;break}if(Cr){if(!B(Ie,function(nr,be){if(Me=be,!Cr.has(Me)&&(Qe===nr||Ut(Qe,nr,We,at,pt)))return Cr.push(be);var Me})){Xt=!1;break}}else if(Qe!==bt&&!Ut(Qe,bt,We,at,pt)){Xt=!1;break}}return pt.delete(Ee),pt.delete(Ie),Xt}function yt(Ee){return function(Ie,We,at){var Ut=We(Ie);return Mt(Ie)?Ut:function(pt,Pt){for(var It=-1,Et=Pt.length,zt=pt.length;++It<Et;)pt[zt+It]=Pt[It];return pt}(Ut,at(Ie))}(Ee,Bt,or)}function vt(Ee,Ie){var We,at,Ut=Ee.__data__;return((at=typeof(We=Ie))=="string"||at=="number"||at=="symbol"||at=="boolean"?We!=="__proto__":We===null)?Ut[typeof Ie=="string"?"string":"hash"]:Ut.map}function kt(Ee,Ie){var We=function(at,Ut){return at==null?void 0:at[Ut]}(Ee,Ie);return Ze(We)?We:void 0}Ce.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},Ce.prototype.delete=function(Ee){var Ie=this.has(Ee)&&delete this.__data__[Ee];return this.size-=Ie?1:0,Ie},Ce.prototype.get=function(Ee){var Ie=this.__data__;if(ce){var We=Ie[Ee];return We==="__lodash_hash_undefined__"?void 0:We}return _.call(Ie,Ee)?Ie[Ee]:void 0},Ce.prototype.has=function(Ee){var Ie=this.__data__;return ce?Ie[Ee]!==void 0:_.call(Ie,Ee)},Ce.prototype.set=function(Ee,Ie){var We=this.__data__;return this.size+=this.has(Ee)?0:1,We[Ee]=ce&&Ie===void 0?"__lodash_hash_undefined__":Ie,this},Oe.prototype.clear=function(){this.__data__=[],this.size=0},Oe.prototype.delete=function(Ee){var Ie=this.__data__,We=He(Ie,Ee);return!(We<0)&&(We==Ie.length-1?Ie.pop():Z.call(Ie,We,1),--this.size,!0)},Oe.prototype.get=function(Ee){var Ie=this.__data__,We=He(Ie,Ee);return We<0?void 0:Ie[We][1]},Oe.prototype.has=function(Ee){return He(this.__data__,Ee)>-1},Oe.prototype.set=function(Ee,Ie){var We=this.__data__,at=He(We,Ee);return at<0?(++this.size,We.push([Ee,Ie])):We[at][1]=Ie,this},Ue.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(ee||Oe),string:new Ce}},Ue.prototype.delete=function(Ee){var Ie=vt(this,Ee).delete(Ee);return this.size-=Ie?1:0,Ie},Ue.prototype.get=function(Ee){return vt(this,Ee).get(Ee)},Ue.prototype.has=function(Ee){return vt(this,Ee).has(Ee)},Ue.prototype.set=function(Ee,Ie){var We=vt(this,Ee),at=We.size;return We.set(Ee,Ie),this.size+=We.size==at?0:1,this},ve.prototype.add=ve.prototype.push=function(Ee){return this.__data__.set(Ee,"__lodash_hash_undefined__"),this},ve.prototype.has=function(Ee){return this.__data__.has(Ee)},Be.prototype.clear=function(){this.__data__=new Oe,this.size=0},Be.prototype.delete=function(Ee){var Ie=this.__data__,We=Ie.delete(Ee);return this.size=Ie.size,We},Be.prototype.get=function(Ee){return this.__data__.get(Ee)},Be.prototype.has=function(Ee){return this.__data__.has(Ee)},Be.prototype.set=function(Ee,Ie){var We=this.__data__;if(We instanceof Oe){var at=We.__data__;if(!ee||at.length<199)return at.push([Ee,Ie]),this.size=++We.size,this;We=this.__data__=new Ue(at)}return We.set(Ee,Ie),this.size=We.size,this};var or=Q?function(Ee){return Ee==null?[]:(Ee=Object(Ee),function(Ie,We){for(var at=-1,Ut=Ie==null?0:Ie.length,pt=0,Pt=[];++at<Ut;){var It=Ie[at];We(It,at,Ie)&&(Pt[pt++]=It)}return Pt}(Q(Ee),function(Ie){return X.call(Ee,Ie)}))}:function(){return[]},wt=Xe;function Gt(Ee,Ie){return!!(Ie=Ie??9007199254740991)&&(typeof Ee=="number"||d.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<Ie}function Yt(Ee){if(Ee!=null){try{return w.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function At(Ee,Ie){return Ee===Ie||Ee!=Ee&&Ie!=Ie}(K&&wt(new K(new ArrayBuffer(1)))!="[object DataView]"||ee&&wt(new ee)!=u||ue&&wt(ue.resolve())!="[object Promise]"||ie&&wt(new ie)!=l||ae&&wt(new ae)!="[object WeakMap]")&&(wt=function(Ee){var Ie=Xe(Ee),We=Ie==o?Ee.constructor:void 0,at=We?Yt(We):"";if(at)switch(at){case ne:return"[object DataView]";case se:return u;case ye:return"[object Promise]";case me:return l;case _e:return"[object WeakMap]"}return Ie});var _t=Te(function(){return arguments}())?Te:function(Ee){return ut(Ee)&&_.call(Ee,"callee")&&!X.call(Ee,"callee")},Mt=Array.isArray,Ot=F||function(){return!1};function Wt(Ee){if(!jt(Ee))return!1;var Ie=Xe(Ee);return Ie=="[object Function]"||Ie=="[object GeneratorFunction]"||Ie=="[object AsyncFunction]"||Ie=="[object Proxy]"}function tr(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=9007199254740991}function jt(Ee){var Ie=typeof Ee;return Ee!=null&&(Ie=="object"||Ie=="function")}function ut(Ee){return Ee!=null&&typeof Ee=="object"}var ur=N?function(Ee){return function(Ie){return Ee(Ie)}}(N):function(Ee){return ut(Ee)&&tr(Ee.length)&&!!f[Xe(Ee)]};function Bt(Ee){return(Ie=Ee)!=null&&tr(Ie.length)&&!Wt(Ie)?$e(Ee):st(Ee);var Ie}n.exports=function(Ee,Ie){return ht(Ee,Ie)}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,o=a||u||Function("return this")(),l=Object.prototype,c=l.hasOwnProperty,d=l.toString,f=o.Symbol,h=f?f.toStringTag:void 0;function g(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":h&&h in Object(v)?function(p){var y=c.call(p,h),m=p[h];try{p[h]=void 0;var b=!0}catch{}var k=d.call(p);return b&&(y?p[h]=m:delete p[h]),k}(v):function(p){return d.call(p)}(v)}n.exports=function(v){if(!function(y){var m=typeof y;return y!=null&&(m=="object"||m=="function")}(v))return!1;var p=g(v);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(i){return i==null}},{}],448:[function(e,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,u=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,l=u||o||Function("return this")();function c(P,$){return!!(P&&P.length)&&function(X,Z,V){if(Z!=Z)return function(D,K,ee,ue){for(var ie=D.length,ae=ee+-1;++ae<ie;)if(K(D[ae],ae,D))return ae;return-1}(X,d,V);for(var Q=V-1,F=X.length;++Q<F;)if(X[Q]===Z)return Q;return-1}(P,$,0)>-1}function d(P){return P!=P}function f(P,$){return P.has($)}function h(P){var $=-1,X=Array(P.size);return P.forEach(function(Z){X[++$]=Z}),X}var g,v=Array.prototype,p=Function.prototype,y=Object.prototype,m=l["__core-js_shared__"],b=(g=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",k=p.toString,N=y.hasOwnProperty,B=y.toString,j=RegExp("^"+k.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=v.splice,M=C(l,"Map"),U=C(l,"Set"),O=C(Object,"create");function I(P){var $=-1,X=P?P.length:0;for(this.clear();++$<X;){var Z=P[$];this.set(Z[0],Z[1])}}function E(P){var $=-1,X=P?P.length:0;for(this.clear();++$<X;){var Z=P[$];this.set(Z[0],Z[1])}}function R(P){var $=-1,X=P?P.length:0;for(this.clear();++$<X;){var Z=P[$];this.set(Z[0],Z[1])}}function A(P){var $=-1,X=P?P.length:0;for(this.__data__=new R;++$<X;)this.add(P[$])}function w(P,$){for(var X,Z,V=P.length;V--;)if((X=P[V][0])===(Z=$)||X!=X&&Z!=Z)return V;return-1}function _(P){return!(!q(P)||($=P,b&&b in $))&&(function(X){var Z=q(X)?B.call(X):"";return Z=="[object Function]"||Z=="[object GeneratorFunction]"}(P)||function(X){var Z=!1;if(X!=null&&typeof X.toString!="function")try{Z=!!(X+"")}catch{}return Z}(P)?j:a).test(function(X){if(X!=null){try{return k.call(X)}catch{}try{return X+""}catch{}}return""}(P));var $}I.prototype.clear=function(){this.__data__=O?O(null):{}},I.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},I.prototype.get=function(P){var $=this.__data__;if(O){var X=$[P];return X==="__lodash_hash_undefined__"?void 0:X}return N.call($,P)?$[P]:void 0},I.prototype.has=function(P){var $=this.__data__;return O?$[P]!==void 0:N.call($,P)},I.prototype.set=function(P,$){return this.__data__[P]=O&&$===void 0?"__lodash_hash_undefined__":$,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(P){var $=this.__data__,X=w($,P);return!(X<0)&&(X==$.length-1?$.pop():T.call($,X,1),!0)},E.prototype.get=function(P){var $=this.__data__,X=w($,P);return X<0?void 0:$[X][1]},E.prototype.has=function(P){return w(this.__data__,P)>-1},E.prototype.set=function(P,$){var X=this.__data__,Z=w(X,P);return Z<0?X.push([P,$]):X[Z][1]=$,this},R.prototype.clear=function(){this.__data__={hash:new I,map:new(M||E),string:new I}},R.prototype.delete=function(P){return S(this,P).delete(P)},R.prototype.get=function(P){return S(this,P).get(P)},R.prototype.has=function(P){return S(this,P).has(P)},R.prototype.set=function(P,$){return S(this,P).set(P,$),this},A.prototype.add=A.prototype.push=function(P){return this.__data__.set(P,"__lodash_hash_undefined__"),this},A.prototype.has=function(P){return this.__data__.has(P)};var x=U&&1/h(new U([,-0]))[1]==1/0?function(P){return new U(P)}:function(){};function S(P,$){var X,Z,V=P.__data__;return((Z=typeof(X=$))=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?X!=="__proto__":X===null)?V[typeof $=="string"?"string":"hash"]:V.map}function C(P,$){var X=function(Z,V){return Z==null?void 0:Z[V]}(P,$);return _(X)?X:void 0}function q(P){var $=typeof P;return!!P&&($=="object"||$=="function")}n.exports=function(P){return P&&P.length?function($,X,Z){var V=-1,Q=c,F=$.length,D=!0,K=[],ee=K;if(F>=200){var ue=x($);if(ue)return h(ue);D=!1,Q=f,ee=new A}else ee=K;e:for(;++V<F;){var ie=$[V],ae=ie;if(ie=ie!==0?ie:0,D&&ae==ae){for(var ce=ee.length;ce--;)if(ee[ce]===ae)continue e;K.push(ie)}else Q(ee,ae,Z)||(ee!==K&&ee.push(ae),K.push(ie))}return K}(P):[]}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var i=e("inherits"),a=e("hash-base"),u=e("safe-buffer").Buffer,o=new Array(16);function l(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(v,p){return v<<p|v>>>32-p}function d(v,p,y,m,b,k,N){return c(v+(p&y|~p&m)+b+k|0,N)+p|0}function f(v,p,y,m,b,k,N){return c(v+(p&m|y&~m)+b+k|0,N)+p|0}function h(v,p,y,m,b,k,N){return c(v+(p^y^m)+b+k|0,N)+p|0}function g(v,p,y,m,b,k,N){return c(v+(y^(p|~m))+b+k|0,N)+p|0}i(l,a),l.prototype._update=function(){for(var v=o,p=0;p<16;++p)v[p]=this._block.readInt32LE(4*p);var y=this._a,m=this._b,b=this._c,k=this._d;y=d(y,m,b,k,v[0],3614090360,7),k=d(k,y,m,b,v[1],3905402710,12),b=d(b,k,y,m,v[2],606105819,17),m=d(m,b,k,y,v[3],3250441966,22),y=d(y,m,b,k,v[4],4118548399,7),k=d(k,y,m,b,v[5],1200080426,12),b=d(b,k,y,m,v[6],2821735955,17),m=d(m,b,k,y,v[7],4249261313,22),y=d(y,m,b,k,v[8],1770035416,7),k=d(k,y,m,b,v[9],2336552879,12),b=d(b,k,y,m,v[10],4294925233,17),m=d(m,b,k,y,v[11],2304563134,22),y=d(y,m,b,k,v[12],1804603682,7),k=d(k,y,m,b,v[13],4254626195,12),b=d(b,k,y,m,v[14],2792965006,17),y=f(y,m=d(m,b,k,y,v[15],1236535329,22),b,k,v[1],4129170786,5),k=f(k,y,m,b,v[6],3225465664,9),b=f(b,k,y,m,v[11],643717713,14),m=f(m,b,k,y,v[0],3921069994,20),y=f(y,m,b,k,v[5],3593408605,5),k=f(k,y,m,b,v[10],38016083,9),b=f(b,k,y,m,v[15],3634488961,14),m=f(m,b,k,y,v[4],3889429448,20),y=f(y,m,b,k,v[9],568446438,5),k=f(k,y,m,b,v[14],3275163606,9),b=f(b,k,y,m,v[3],4107603335,14),m=f(m,b,k,y,v[8],1163531501,20),y=f(y,m,b,k,v[13],2850285829,5),k=f(k,y,m,b,v[2],4243563512,9),b=f(b,k,y,m,v[7],1735328473,14),y=h(y,m=f(m,b,k,y,v[12],2368359562,20),b,k,v[5],4294588738,4),k=h(k,y,m,b,v[8],2272392833,11),b=h(b,k,y,m,v[11],1839030562,16),m=h(m,b,k,y,v[14],4259657740,23),y=h(y,m,b,k,v[1],2763975236,4),k=h(k,y,m,b,v[4],1272893353,11),b=h(b,k,y,m,v[7],4139469664,16),m=h(m,b,k,y,v[10],3200236656,23),y=h(y,m,b,k,v[13],681279174,4),k=h(k,y,m,b,v[0],3936430074,11),b=h(b,k,y,m,v[3],3572445317,16),m=h(m,b,k,y,v[6],76029189,23),y=h(y,m,b,k,v[9],3654602809,4),k=h(k,y,m,b,v[12],3873151461,11),b=h(b,k,y,m,v[15],530742520,16),y=g(y,m=h(m,b,k,y,v[2],3299628645,23),b,k,v[0],4096336452,6),k=g(k,y,m,b,v[7],1126891415,10),b=g(b,k,y,m,v[14],2878612391,15),m=g(m,b,k,y,v[5],4237533241,21),y=g(y,m,b,k,v[12],1700485571,6),k=g(k,y,m,b,v[3],2399980690,10),b=g(b,k,y,m,v[10],4293915773,15),m=g(m,b,k,y,v[1],2240044497,21),y=g(y,m,b,k,v[8],1873313359,6),k=g(k,y,m,b,v[15],4264355552,10),b=g(b,k,y,m,v[6],2734768916,15),m=g(m,b,k,y,v[13],1309151649,21),y=g(y,m,b,k,v[4],4149444226,6),k=g(k,y,m,b,v[11],3174756917,10),b=g(b,k,y,m,v[2],718787259,15),m=g(m,b,k,y,v[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+m|0,this._c=this._c+b|0,this._d=this._d+k|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=u.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},n.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var i=e("bn.js"),a=e("brorand");function u(o){this.rand=o||new a.Rand}n.exports=u,u.create=function(o){return new u(o)},u.prototype._randbelow=function(o){var l=o.bitLength(),c=Math.ceil(l/8);do var d=new i(this.rand.generate(c));while(d.cmp(o)>=0);return d},u.prototype._randrange=function(o,l){var c=l.sub(o);return o.add(this._randbelow(c))},u.prototype.test=function(o,l,c){var d=o.bitLength(),f=i.mont(o),h=new i(1).toRed(f);l||(l=Math.max(1,d/48|0));for(var g=o.subn(1),v=0;!g.testn(v);v++);for(var p=o.shrn(v),y=g.toRed(f);l>0;l--){var m=this._randrange(new i(2),g);c&&c(m);var b=m.toRed(f).redPow(p);if(b.cmp(h)!==0&&b.cmp(y)!==0){for(var k=1;k<v;k++){if((b=b.redSqr()).cmp(h)===0)return!1;if(b.cmp(y)===0)break}if(k===v)return!1}}return!0},u.prototype.getDivisor=function(o,l){var c=o.bitLength(),d=i.mont(o),f=new i(1).toRed(d);l||(l=Math.max(1,c/48|0));for(var h=o.subn(1),g=0;!h.testn(g);g++);for(var v=o.shrn(g),p=h.toRed(d);l>0;l--){var y=this._randrange(new i(2),h),m=o.gcd(y);if(m.cmpn(1)!==0)return m;var b=y.toRed(d).redPow(v);if(b.cmp(f)!==0&&b.cmp(p)!==0){for(var k=1;k<g;k++){if((b=b.redSqr()).cmp(f)===0)return b.fromRed().subn(1).gcd(o);if(b.cmp(p)===0)break}if(k===g)return(b=b.redSqr()).fromRed().subn(1).gcd(o)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function i(a,u){if(!a)throw new Error(u||"Assertion failed")}n.exports=i,i.equal=function(a,u,o){if(a!=u)throw new Error(o||"Assertion failed: "+a+" != "+u)}},{}],454:[function(e,n,s){var i=s;function a(o){return o.length===1?"0"+o:o}function u(o){for(var l="",c=0;c<o.length;c++)l+=a(o[c].toString(16));return l}i.toArray=function(o,l){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var d=0;d<o.length;d++)c[d]=0|o[d];return c}if(l==="hex")for((o=o.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(o="0"+o),d=0;d<o.length;d+=2)c.push(parseInt(o[d]+o[d+1],16));else for(d=0;d<o.length;d++){var f=o.charCodeAt(d),h=f>>8,g=255&f;h?c.push(h,g):c.push(g)}return c},i.zero2=a,i.toHex=u,i.encode=function(o,l){return l==="hex"?u(o):o}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var i=e("asn1.js");s.certificate=e("./certificate");var a=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=a;var u=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=u;var o=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});s.PublicKey=o;var l=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});s.PrivateKey=c;var d=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=d;var f=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=f,s.DSAparam=i.define("DSAparam",function(){this.int()});var h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=h;var g=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var i=e("asn1.js"),a=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(u)}),d=i.define("RDNSequence",function(){this.seqof(c)}),f=i.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),g=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(e,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,o=e("evp_bytestokey"),l=e("browserify-aes"),c=e("safe-buffer").Buffer;n.exports=function(d,f){var h,g=d.toString(),v=g.match(i);if(v){var p="aes"+v[1],y=c.from(v[2],"hex"),m=c.from(v[3].replace(/[\r\n]/g,""),"base64"),b=o(f,y.slice(0,8),parseInt(v[1],10)).key,k=[],N=l.createDecipheriv(p,b,y);k.push(N.update(m)),k.push(N.final()),h=c.concat(k)}else{var B=g.match(u);h=c.from(B[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(a)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var i=e("./asn1"),a=e("./aesid.json"),u=e("./fixProc"),o=e("browserify-aes"),l=e("pbkdf2"),c=e("safe-buffer").Buffer;function d(f){var h;typeof f!="object"||c.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=c.from(f));var g,v,p=u(f,h),y=p.tag,m=p.data;switch(y){case"CERTIFICATE":v=i.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=i.PublicKey.decode(m,"der")),g=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=i.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=function(b,k){var N=b.algorithm.decrypt.kde.kdeparams.salt,B=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),j=a[b.algorithm.decrypt.cipher.algo.join(".")],T=b.algorithm.decrypt.cipher.iv,M=b.subjectPrivateKey,U=parseInt(j.split("-")[1],10)/8,O=l.pbkdf2Sync(k,N,B,U,"sha1"),I=o.createDecipheriv(j,O,T),E=[];return E.push(I.update(M)),E.push(I.final()),c.concat(E)}(m=i.EncryptedPrivateKey.decode(m,"der"),h);case"PRIVATE KEY":switch(g=(v=i.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:i.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=i.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=i.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+y)}}n.exports=d,d.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(i){(function(){var a,u,o=e("safe-buffer").Buffer,l=e("./precondition"),c=e("./default-encoding"),d=e("./sync"),f=e("./to-buffer"),h=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function p(){return u||(u=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function y(m,b,k,N,B){return h.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(j){return h.deriveBits({name:"PBKDF2",salt:b,iterations:k,hash:{name:B}},j,N<<3)}).then(function(j){return o.from(j)})}n.exports=function(m,b,k,N,B,j){typeof B=="function"&&(j=B,B=void 0);var T=g[(B=B||"sha1").toLowerCase()];if(T&&typeof i.Promise=="function"){if(l(k,N),m=f(m,c,"Password"),b=f(b,c,"Salt"),typeof j!="function")throw new Error("No callback provided to pbkdf2");(function(M,U){M.then(function(O){p()(function(){U(null,O)})},function(O){p()(function(){U(O)})})})(function(M){if(i.process&&!i.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(v[M]!==void 0)return v[M];var U=y(a=a||o.alloc(8),a,10,128,M).then(function(){return!0}).catch(function(){return!1});return v[M]=U,U}(T).then(function(M){return M?y(m,b,k,N,T):d(m,b,k,N,B)}),j)}else p()(function(){var M;try{M=d(m,b,k,N,B)}catch(U){return j(U)}j(null,M)})}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(i,a){(function(){var u;a.process&&a.process.browser?u="utf-8":a.process&&a.process.version?u=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",n.exports=u}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,u){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>i||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var i=e("create-hash/md5"),a=e("ripemd160"),u=e("sha.js"),o=e("safe-buffer").Buffer,l=e("./precondition"),c=e("./default-encoding"),d=e("./to-buffer"),f=o.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(v,p,y){var m=function(T){function M(U){return u(T).update(U).digest()}return T==="rmd160"||T==="ripemd160"?function(U){return new a().update(U).digest()}:T==="md5"?i:M}(v),b=v==="sha512"||v==="sha384"?128:64;p.length>b?p=m(p):p.length<b&&(p=o.concat([p,f],b));for(var k=o.allocUnsafe(b+h[v]),N=o.allocUnsafe(b+h[v]),B=0;B<b;B++)k[B]=54^p[B],N[B]=92^p[B];var j=o.allocUnsafe(b+y+4);k.copy(j,0,0,b),this.ipad1=j,this.ipad2=k,this.opad=N,this.alg=v,this.blocksize=b,this.hash=m,this.size=h[v]}g.prototype.run=function(v,p){return v.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(v,p,y,m,b){l(y,m);var k=new g(b=b||"sha1",v=d(v,c,"Password"),(p=d(p,c,"Salt")).length),N=o.allocUnsafe(m),B=o.allocUnsafe(p.length+4);p.copy(B,0,0,p.length);for(var j=0,T=h[b],M=Math.ceil(m/T),U=1;U<=M;U++){B.writeUInt32BE(U,p.length);for(var O=k.run(B,k.ipad1),I=O,E=1;E<y;E++){I=k.run(I,k.ipad2);for(var R=0;R<T;R++)O[R]^=I[R]}O.copy(N,j),j+=T}return N}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var i=e("safe-buffer").Buffer;n.exports=function(a,u,o){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,u);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(o+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,u,o,l){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var c,d,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick(function(){a.call(null,u)});case 3:return i.nextTick(function(){a.call(null,u,o)});case 4:return i.nextTick(function(){a.call(null,u,o,l)});default:for(c=new Array(f-1),d=0;d<c.length;)c[d++]=arguments[d];return i.nextTick(function(){a.apply(null,c)})}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var i,a,u=n.exports={};function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(b){if(i===setTimeout)return setTimeout(b,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:o}catch{i=o}try{a=typeof clearTimeout=="function"?clearTimeout:l}catch{a=l}})();var d,f=[],h=!1,g=-1;function v(){h&&d&&(h=!1,d.length?f=d.concat(f):g=-1,f.length&&p())}function p(){if(!h){var b=c(v);h=!0;for(var k=f.length;k;){for(d=f,f=[];++g<k;)d&&d[g].run();g=-1,k=f.length}d=null,h=!1,function(N){if(a===clearTimeout)return clearTimeout(N);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(N);try{a(N)}catch{try{return a.call(null,N)}catch{return a.call(this,N)}}}(b)}}function y(b,k){this.fun=b,this.array=k}function m(){}u.nextTick=function(b){var k=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)k[N-1]=arguments[N];f.push(new y(b,k)),f.length!==1||h||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=m,u.addListener=m,u.once=m,u.off=m,u.removeListener=m,u.removeAllListeners=m,u.emit=m,u.prependListener=m,u.prependOnceListener=m,u.listeners=function(b){return[]},u.binding=function(b){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(b){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var i=e("create-hash"),a=e("safe-buffer").Buffer;function u(o){var l=a.allocUnsafe(4);return l.writeUInt32BE(o,0),l}n.exports=function(o,l){for(var c,d=a.alloc(0),f=0;d.length<l;)c=u(f++),d=a.concat([d,i("sha1").update(o).update(c).digest()]);return d.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var i=e("parse-asn1"),a=e("./mgf"),u=e("./xor"),o=e("bn.js"),l=e("browserify-rsa"),c=e("create-hash"),d=e("./withPublic"),f=e("safe-buffer").Buffer;n.exports=function(h,g,v){var p;p=h.padding?h.padding:v?1:4;var y,m=i(h),b=m.modulus.byteLength();if(g.length>b||new o(g).cmp(m.modulus)>=0)throw new Error("decryption error");y=v?d(new o(g),m):l(g,m);var k=f.alloc(b-y.length);if(y=f.concat([k,y],b),p===4)return function(N,B){var j=N.modulus.byteLength(),T=c("sha1").update(f.alloc(0)).digest(),M=T.length;if(B[0]!==0)throw new Error("decryption error");var U=B.slice(1,M+1),O=B.slice(M+1),I=u(U,a(O,M)),E=u(O,a(I,j-M-1));if(function(A,w){A=f.from(A),w=f.from(w);var _=0,x=A.length;A.length!==w.length&&(_++,x=Math.min(A.length,w.length));for(var S=-1;++S<x;)_+=A[S]^w[S];return _}(T,E.slice(0,M)))throw new Error("decryption error");for(var R=M;E[R]===0;)R++;if(E[R++]!==1)throw new Error("decryption error");return E.slice(R)}(m,y);if(p===1)return function(N,B,j){for(var T=B.slice(0,2),M=2,U=0;B[M++]!==0;)if(M>=B.length){U++;break}var O=B.slice(2,M-1);if((T.toString("hex")!=="0002"&&!j||T.toString("hex")!=="0001"&&j)&&U++,O.length<8&&U++,U)throw new Error("decryption error");return B.slice(M)}(0,y,v);if(p===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var i=e("parse-asn1"),a=e("randombytes"),u=e("create-hash"),o=e("./mgf"),l=e("./xor"),c=e("bn.js"),d=e("./withPublic"),f=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(g,v,p){var y;y=g.padding?g.padding:p?1:4;var m,b=i(g);if(y===4)m=function(k,N){var B=k.modulus.byteLength(),j=N.length,T=u("sha1").update(h.alloc(0)).digest(),M=T.length,U=2*M;if(j>B-U-2)throw new Error("message too long");var O=h.alloc(B-j-U-2),I=B-M-1,E=a(M),R=l(h.concat([T,O,h.alloc(1,1),N],I),o(E,I)),A=l(E,o(R,M));return new c(h.concat([h.alloc(1),A,R],B))}(b,v);else if(y===1)m=function(k,N,B){var j,T=N.length,M=k.modulus.byteLength();if(T>M-11)throw new Error("message too long");return j=B?h.alloc(M-T-3,255):function(U){for(var O,I=h.allocUnsafe(U),E=0,R=a(2*U),A=0;E<U;)A===R.length&&(R=a(2*U),A=0),(O=R[A++])&&(I[E++]=O);return I}(M-T-3),new c(h.concat([h.from([0,B?1:2]),j,h.alloc(1),N],M))}(b,v,p);else{if(y!==3)throw new Error("unknown padding");if((m=new c(v)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return p?f(m,b):d(m,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var i=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(u,o){return a.from(u.toRed(i.mont(o.modulus)).redPow(new i(o.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(i,a){for(var u=i.length,o=-1;++o<u;)i[o]^=a[o];return i}},{}],475:[function(e,n,s){(function(i,a){(function(){var u=e("safe-buffer").Buffer,o=a.crypto||a.msCrypto;o&&o.getRandomValues?n.exports=function(l,c){if(l>4294967295)throw new RangeError("requested too many random bytes");var d=u.allocUnsafe(l);if(l>0)if(l>65536)for(var f=0;f<l;f+=65536)o.getRandomValues(d.slice(f,f+65536));else o.getRandomValues(d);return typeof c=="function"?i.nextTick(function(){c(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(i,a){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var o=e("safe-buffer"),l=e("randombytes"),c=o.Buffer,d=o.kMaxLength,f=a.crypto||a.msCrypto,h=Math.pow(2,32)-1;function g(y,m){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>h||y<0)throw new TypeError("offset must be a uint32");if(y>d||y>m)throw new RangeError("offset out of range")}function v(y,m,b){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>h||y<0)throw new TypeError("size must be a uint32");if(y+m>b||y>d)throw new RangeError("buffer too small")}function p(y,m,b,k){if(i.browser){var N=y.buffer,B=new Uint8Array(N,m,b);return f.getRandomValues(B),k?void i.nextTick(function(){k(null,y)}):y}if(!k)return l(b).copy(y,m),y;l(b,function(j,T){if(j)return k(j);T.copy(y,m),k(null,y)})}f&&f.getRandomValues||!i.browser?(s.randomFill=function(y,m,b,k){if(!(c.isBuffer(y)||y instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")k=m,m=0,b=y.length;else if(typeof b=="function")k=b,b=y.length-m;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return g(m,y.length),v(b,m,y.length),p(y,m,b,k)},s.randomFillSync=function(y,m,b){if(m===void 0&&(m=0),!(c.isBuffer(y)||y instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(m,y.length),b===void 0&&(b=y.length-m),v(b,m,y.length),p(y,m,b)}):(s.randomFill=u,s.randomFillSync=u)}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var i={};function a(o,l,c){c||(c=Error);var d=function(f){var h,g;function v(p,y,m){return f.call(this,function(b,k,N){return typeof l=="string"?l:l(b,k,N)}(p,y,m))||this}return g=f,(h=v).prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g,v}(c);d.prototype.name=c.name,d.prototype.code=o,i[o]=d}function u(o,l){if(Array.isArray(o)){var c=o.length;return o=o.map(function(d){return String(d)}),c>2?"one of ".concat(l," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}return"of ".concat(l," ").concat(String(o))}a("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(o,l,c){var d,f,h;if(typeof l=="string"&&(f="not ",l.substr(0,f.length)===f)?(d="must not be",l=l.replace(/^not /,"")):d="must be",function(v,p,y){return(y===void 0||y>v.length)&&(y=v.length),v.substring(y-p.length,y)===p}(o," argument"))h="The ".concat(o," ").concat(d," ").concat(u(l,"type"));else{var g=function(v,p,y){return typeof y!="number"&&(y=0),!(y+p.length>v.length)&&v.indexOf(p,y)!==-1}(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(g," ").concat(d," ").concat(u(l,"type"))}return h+=". Received type ".concat(typeof c)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,s){(function(i){(function(){var a=Object.keys||function(v){var p=[];for(var y in v)p.push(y);return p};n.exports=f;var u=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(f,u);for(var l=a(o.prototype),c=0;c<l.length;c++){var d=l[c];f.prototype[d]||(f.prototype[d]=o.prototype[d])}function f(v){if(!(this instanceof f))return new f(v);u.call(this,v),o.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(g,this)}function g(v){v.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=a;var i=e("./_stream_transform");function a(u){if(!(this instanceof a))return new a(u);i.call(this,u)}e("inherits")(a,i),a.prototype._transform=function(u,o,l){l(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(i,a){(function(){var u;n.exports=I,I.ReadableState=O,e("events").EventEmitter;var o=function(F,D){return F.listeners(D).length},l=e("./internal/streams/stream"),c=e("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var g,v,p,y=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,k=e("../errors").codes,N=k.ERR_INVALID_ARG_TYPE,B=k.ERR_STREAM_PUSH_AFTER_EOF,j=k.ERR_METHOD_NOT_IMPLEMENTED,T=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(I,l);var M=m.errorOrDestroy,U=["error","close","destroy","pause","resume"];function O(F,D,K){u=u||e("./_stream_duplex"),F=F||{},typeof K!="boolean"&&(K=D instanceof u),this.objectMode=!!F.objectMode,K&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=b(this,F,"readableHighWaterMark",K),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(F.encoding),this.encoding=F.encoding)}function I(F){if(u=u||e("./_stream_duplex"),!(this instanceof I))return new I(F);var D=this instanceof u;this._readableState=new O(F,this,D),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),l.call(this)}function E(F,D,K,ee,ue){f("readableAddChunk",D);var ie,ae=F._readableState;if(D===null)ae.reading=!1,function(ce,ne){if(f("onEofChunk"),!ne.ended){if(ne.decoder){var se=ne.decoder.end();se&&se.length&&(ne.buffer.push(se),ne.length+=ne.objectMode?1:se.length)}ne.ended=!0,ne.sync?w(ce):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,_(ce)))}}(F,ae);else if(ue||(ie=function(ce,ne){var se;ye=ne,c.isBuffer(ye)||ye instanceof d||typeof ne=="string"||ne===void 0||ce.objectMode||(se=new N("chunk",["string","Buffer","Uint8Array"],ne));var ye;return se}(ae,D)),ie)M(F,ie);else if(ae.objectMode||D&&D.length>0)if(typeof D=="string"||ae.objectMode||Object.getPrototypeOf(D)===c.prototype||(D=function(ce){return c.from(ce)}(D)),ee)ae.endEmitted?M(F,new T):R(F,ae,D,!0);else if(ae.ended)M(F,new B);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!K?(D=ae.decoder.write(D),ae.objectMode||D.length!==0?R(F,ae,D,!1):x(F,ae)):R(F,ae,D,!1)}else ee||(ae.reading=!1,x(F,ae));return!ae.ended&&(ae.length<ae.highWaterMark||ae.length===0)}function R(F,D,K,ee){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,F.emit("data",K)):(D.length+=D.objectMode?1:K.length,ee?D.buffer.unshift(K):D.buffer.push(K),D.needReadable&&w(F)),x(F,D)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),I.prototype.destroy=m.destroy,I.prototype._undestroy=m.undestroy,I.prototype._destroy=function(F,D){D(F)},I.prototype.push=function(F,D){var K,ee=this._readableState;return ee.objectMode?K=!0:typeof F=="string"&&((D=D||ee.defaultEncoding)!==ee.encoding&&(F=c.from(F,D),D=""),K=!0),E(this,F,D,!1,K)},I.prototype.unshift=function(F){return E(this,F,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(F){g||(g=e("string_decoder/").StringDecoder);var D=new g(F);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,ee="";K!==null;)ee+=D.write(K.data),K=K.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};function A(F,D){return F<=0||D.length===0&&D.ended?0:D.objectMode?1:F!=F?D.flowing&&D.length?D.buffer.head.data.length:D.length:(F>D.highWaterMark&&(D.highWaterMark=function(K){return K>=1073741824?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(F)),F<=D.length?F:D.ended?D.length:(D.needReadable=!0,0))}function w(F){var D=F._readableState;f("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(f("emitReadable",D.flowing),D.emittedReadable=!0,i.nextTick(_,F))}function _(F){var D=F._readableState;f("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(F.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,$(F)}function x(F,D){D.readingMore||(D.readingMore=!0,i.nextTick(S,F,D))}function S(F,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var K=D.length;if(f("maybeReadMore read 0"),F.read(0),K===D.length)break}D.readingMore=!1}function C(F){var D=F._readableState;D.readableListening=F.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:F.listenerCount("data")>0&&F.resume()}function q(F){f("readable nexttick read 0"),F.read(0)}function P(F,D){f("resume",D.reading),D.reading||F.read(0),D.resumeScheduled=!1,F.emit("resume"),$(F),D.flowing&&!D.reading&&F.read(0)}function $(F){var D=F._readableState;for(f("flow",D.flowing);D.flowing&&F.read()!==null;);}function X(F,D){return D.length===0?null:(D.objectMode?K=D.buffer.shift():!F||F>=D.length?(K=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):K=D.buffer.consume(F,D.decoder),K);var K}function Z(F){var D=F._readableState;f("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,i.nextTick(V,D,F))}function V(F,D){if(f("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,D.readable=!1,D.emit("end"),F.autoDestroy)){var K=D._writableState;(!K||K.autoDestroy&&K.finished)&&D.destroy()}}function Q(F,D){for(var K=0,ee=F.length;K<ee;K++)if(F[K]===D)return K;return-1}I.prototype.read=function(F){f("read",F),F=parseInt(F,10);var D=this._readableState,K=F;if(F!==0&&(D.emittedReadable=!1),F===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return f("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?Z(this):w(this),null;if((F=A(F,D))===0&&D.ended)return D.length===0&&Z(this),null;var ee,ue=D.needReadable;return f("need readable",ue),(D.length===0||D.length-F<D.highWaterMark)&&f("length less than watermark",ue=!0),D.ended||D.reading?f("reading or ended",ue=!1):ue&&(f("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(F=A(K,D))),(ee=F>0?X(F,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,F=0):(D.length-=F,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),K!==F&&D.ended&&Z(this)),ee!==null&&this.emit("data",ee),ee},I.prototype._read=function(F){M(this,new j("_read()"))},I.prototype.pipe=function(F,D){var K=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=F;break;case 1:ee.pipes=[ee.pipes,F];break;default:ee.pipes.push(F)}ee.pipesCount+=1,f("pipe count=%d opts=%j",ee.pipesCount,D);var ue=(!D||D.end!==!1)&&F!==i.stdout&&F!==i.stderr?ae:xe;function ie(ke,Ce){f("onunpipe"),ke===K&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,f("cleanup"),F.removeListener("close",me),F.removeListener("finish",_e),F.removeListener("drain",ce),F.removeListener("error",ye),F.removeListener("unpipe",ie),K.removeListener("end",ae),K.removeListener("end",xe),K.removeListener("data",se),ne=!0,!ee.awaitDrain||F._writableState&&!F._writableState.needDrain||ce())}function ae(){f("onend"),F.end()}ee.endEmitted?i.nextTick(ue):K.once("end",ue),F.on("unpipe",ie);var ce=function(ke){return function(){var Ce=ke._readableState;f("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&o(ke,"data")&&(Ce.flowing=!0,$(ke))}}(K);F.on("drain",ce);var ne=!1;function se(ke){f("ondata");var Ce=F.write(ke);f("dest.write",Ce),Ce===!1&&((ee.pipesCount===1&&ee.pipes===F||ee.pipesCount>1&&Q(ee.pipes,F)!==-1)&&!ne&&(f("false write response, pause",ee.awaitDrain),ee.awaitDrain++),K.pause())}function ye(ke){f("onerror",ke),xe(),F.removeListener("error",ye),o(F,"error")===0&&M(F,ke)}function me(){F.removeListener("finish",_e),xe()}function _e(){f("onfinish"),F.removeListener("close",me),xe()}function xe(){f("unpipe"),K.unpipe(F)}return K.on("data",se),function(ke,Ce,Oe){if(typeof ke.prependListener=="function")return ke.prependListener(Ce,Oe);ke._events&&ke._events[Ce]?Array.isArray(ke._events[Ce])?ke._events[Ce].unshift(Oe):ke._events[Ce]=[Oe,ke._events[Ce]]:ke.on(Ce,Oe)}(F,"error",ye),F.once("close",me),F.once("finish",_e),F.emit("pipe",K),ee.flowing||(f("pipe resume"),K.resume()),F},I.prototype.unpipe=function(F){var D=this._readableState,K={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return F&&F!==D.pipes||(F||(F=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,F&&F.emit("unpipe",this,K)),this;if(!F){var ee=D.pipes,ue=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var ie=0;ie<ue;ie++)ee[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=Q(D.pipes,F);return ae===-1||(D.pipes.splice(ae,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),F.emit("unpipe",this,K)),this},I.prototype.on=function(F,D){var K=l.prototype.on.call(this,F,D),ee=this._readableState;return F==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):F==="readable"&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,f("on readable",ee.length,ee.reading),ee.length?w(this):ee.reading||i.nextTick(q,this))),K},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(F,D){var K=l.prototype.removeListener.call(this,F,D);return F==="readable"&&i.nextTick(C,this),K},I.prototype.removeAllListeners=function(F){var D=l.prototype.removeAllListeners.apply(this,arguments);return F!=="readable"&&F!==void 0||i.nextTick(C,this),D},I.prototype.resume=function(){var F=this._readableState;return F.flowing||(f("resume"),F.flowing=!F.readableListening,function(D,K){K.resumeScheduled||(K.resumeScheduled=!0,i.nextTick(P,D,K))}(this,F)),F.paused=!1,this},I.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(F){var D=this,K=this._readableState,ee=!1;for(var ue in F.on("end",function(){if(f("wrapped end"),K.decoder&&!K.ended){var ae=K.decoder.end();ae&&ae.length&&D.push(ae)}D.push(null)}),F.on("data",function(ae){f("wrapped data"),K.decoder&&(ae=K.decoder.write(ae)),K.objectMode&&ae==null||(K.objectMode||ae&&ae.length)&&(D.push(ae)||(ee=!0,F.pause()))}),F)this[ue]===void 0&&typeof F[ue]=="function"&&(this[ue]=function(ae){return function(){return F[ae].apply(F,arguments)}}(ue));for(var ie=0;ie<U.length;ie++)F.on(U[ie],this.emit.bind(this,U[ie]));return this._read=function(ae){f("wrapped _read",ae),ee&&(ee=!1,F.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=e("./internal/streams/async_iterator")),v(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),I._fromList=X,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(I.from=function(F,D){return p===void 0&&(p=e("./internal/streams/from")),p(I,F,D)})}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=f;var i=e("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=i.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function d(v,p){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new u);y.writechunk=null,y.writecb=null,p!=null&&this.push(p),m(v);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function f(v){if(!(this instanceof f))return new f(v);c.call(this,v),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",h)}function h(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(p,y){g(v,p,y)})}function g(v,p,y){if(p)return v.emit("error",p);if(y!=null&&v.push(y),v._writableState.length)throw new l;if(v._transformState.transforming)throw new o;return v.push(null)}e("inherits")(f,c),f.prototype.push=function(v,p){return this._transformState.needTransform=!1,c.prototype.push.call(this,v,p)},f.prototype._transform=function(v,p,y){y(new a("_transform()"))},f.prototype._write=function(v,p,y){var m=this._transformState;if(m.writecb=y,m.writechunk=v,m.writeencoding=p,!m.transforming){var b=this._readableState;(m.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},f.prototype._read=function(v){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},f.prototype._destroy=function(v,p){c.prototype._destroy.call(this,v,function(y){p(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(i,a){(function(){function u(S){var C=this;this.next=null,this.entry=null,this.finish=function(){(function(q,P,$){var X=q.entry;for(q.entry=null;X;){var Z=X.callback;P.pendingcb--,Z($),X=X.next}P.corkedRequestsFree.next=q})(C,S)}}var o;n.exports=I,I.WritableState=O;var l={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),d=e("buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,g=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,y=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,k=p.ERR_STREAM_CANNOT_PIPE,N=p.ERR_STREAM_DESTROYED,B=p.ERR_STREAM_NULL_VALUES,j=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,M=g.errorOrDestroy;function U(){}function O(S,C,q){o=o||e("./_stream_duplex"),S=S||{},typeof q!="boolean"&&(q=C instanceof o),this.objectMode=!!S.objectMode,q&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=v(this,S,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=S.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){(function(X,Z){var V=X._writableState,Q=V.sync,F=V.writecb;if(typeof F!="function")throw new b;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(V),Z)(function(K,ee,ue,ie,ae){--ee.pendingcb,ue?(i.nextTick(ae,ie),i.nextTick(x,K,ee),K._writableState.errorEmitted=!0,M(K,ie)):(ae(ie),K._writableState.errorEmitted=!0,M(K,ie),x(K,ee))})(X,V,Q,Z,F);else{var D=w(V)||X.destroyed;D||V.corked||V.bufferProcessing||!V.bufferedRequest||A(X,V),Q?i.nextTick(R,X,V,D,F):R(X,V,D,F)}})(C,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function I(S){var C=this instanceof(o=o||e("./_stream_duplex"));if(!C&&!h.call(I,this))return new I(S);this._writableState=new O(S,this,C),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function E(S,C,q,P,$,X,Z){C.writelen=P,C.writecb=Z,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new N("write")):q?S._writev($,C.onwrite):S._write($,X,C.onwrite),C.sync=!1}function R(S,C,q,P){q||function($,X){X.length===0&&X.needDrain&&(X.needDrain=!1,$.emit("drain"))}(S,C),C.pendingcb--,P(),x(S,C)}function A(S,C){C.bufferProcessing=!0;var q=C.bufferedRequest;if(S._writev&&q&&q.next){var P=C.bufferedRequestCount,$=new Array(P),X=C.corkedRequestsFree;X.entry=q;for(var Z=0,V=!0;q;)$[Z]=q,q.isBuf||(V=!1),q=q.next,Z+=1;$.allBuffers=V,E(S,C,!0,C.length,$,"",X.finish),C.pendingcb++,C.lastBufferedRequest=null,X.next?(C.corkedRequestsFree=X.next,X.next=null):C.corkedRequestsFree=new u(C),C.bufferedRequestCount=0}else{for(;q;){var Q=q.chunk,F=q.encoding,D=q.callback;if(E(S,C,!1,C.objectMode?1:Q.length,Q,F,D),q=q.next,C.bufferedRequestCount--,C.writing)break}q===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=q,C.bufferProcessing=!1}function w(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function _(S,C){S._final(function(q){C.pendingcb--,q&&M(S,q),C.prefinished=!0,S.emit("prefinish"),x(S,C)})}function x(S,C){var q=w(C);if(q&&(function($,X){X.prefinished||X.finalCalled||(typeof $._final!="function"||X.destroyed?(X.prefinished=!0,$.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,i.nextTick(_,$,X)))}(S,C),C.pendingcb===0&&(C.finished=!0,S.emit("finish"),C.autoDestroy))){var P=S._readableState;(!P||P.autoDestroy&&P.endEmitted)&&S.destroy()}return q}e("inherits")(I,c),O.prototype.getBuffer=function(){for(var S=this.bufferedRequest,C=[];S;)C.push(S),S=S.next;return C},function(){try{Object.defineProperty(O.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(S){return!!h.call(this,S)||this===I&&S&&S._writableState instanceof O}})):h=function(S){return S instanceof this},I.prototype.pipe=function(){M(this,new k)},I.prototype.write=function(S,C,q){var P,$=this._writableState,X=!1,Z=!$.objectMode&&(P=S,d.isBuffer(P)||P instanceof f);return Z&&!d.isBuffer(S)&&(S=function(V){return d.from(V)}(S)),typeof C=="function"&&(q=C,C=null),Z?C="buffer":C||(C=$.defaultEncoding),typeof q!="function"&&(q=U),$.ending?function(V,Q){var F=new j;M(V,F),i.nextTick(Q,F)}(this,q):(Z||function(V,Q,F,D){var K;return F===null?K=new B:typeof F=="string"||Q.objectMode||(K=new y("chunk",["string","Buffer"],F)),!K||(M(V,K),i.nextTick(D,K),!1)}(this,$,S,q))&&($.pendingcb++,X=function(V,Q,F,D,K,ee){if(!F){var ue=function(ne,se,ye){return ne.objectMode||ne.decodeStrings===!1||typeof se!="string"||(se=d.from(se,ye)),se}(Q,D,K);D!==ue&&(F=!0,K="buffer",D=ue)}var ie=Q.objectMode?1:D.length;Q.length+=ie;var ae=Q.length<Q.highWaterMark;if(ae||(Q.needDrain=!0),Q.writing||Q.corked){var ce=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:D,encoding:K,isBuf:F,callback:ee,next:null},ce?ce.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else E(V,Q,!1,ie,D,K,ee);return ae}(this,$,Z,S,C,q)),X},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||A(this,S))},I.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new T(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(S,C,q){q(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(S,C,q){var P=this._writableState;return typeof S=="function"?(q=S,S=null,C=null):typeof C=="function"&&(q=C,C=null),S!=null&&this.write(S,C),P.corked&&(P.corked=1,this.uncork()),P.ending||function($,X,Z){X.ending=!0,x($,X),Z&&(X.finished?i.nextTick(Z):$.once("finish",Z)),X.ended=!0,$.writable=!1}(this,P,q),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),I.prototype.destroy=g.destroy,I.prototype._undestroy=g.undestroy,I.prototype._destroy=function(S,C){C(S)}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(i){(function(){var a;function u(N,B,j){return(B=function(T){var M=function(U,O){if(typeof U!="object"||U===null)return U;var I=U[Symbol.toPrimitive];if(I!==void 0){var E=I.call(U,O);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(U)}(T,"string");return typeof M=="symbol"?M:String(M)}(B))in N?Object.defineProperty(N,B,{value:j,enumerable:!0,configurable:!0,writable:!0}):N[B]=j,N}var o=e("./end-of-stream"),l=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream");function p(N,B){return{value:N,done:B}}function y(N){var B=N[l];if(B!==null){var j=N[v].read();j!==null&&(N[h]=null,N[l]=null,N[c]=null,B(p(j,!1)))}}function m(N){i.nextTick(y,N)}var b=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((u(a={get stream(){return this[v]},next:function(){var N=this,B=this[d];if(B!==null)return Promise.reject(B);if(this[f])return Promise.resolve(p(void 0,!0));if(this[v].destroyed)return new Promise(function(U,O){i.nextTick(function(){N[d]?O(N[d]):U(p(void 0,!0))})});var j,T=this[h];if(T)j=new Promise(function(U,O){return function(I,E){U.then(function(){O[f]?I(p(void 0,!0)):O[g](I,E)},E)}}(T,this));else{var M=this[v].read();if(M!==null)return Promise.resolve(p(M,!1));j=new Promise(this[g])}return this[h]=j,j}},Symbol.asyncIterator,function(){return this}),u(a,"return",function(){var N=this;return new Promise(function(B,j){N[v].destroy(null,function(T){T?j(T):B(p(void 0,!0))})})}),a),b);n.exports=function(N){var B,j=Object.create(k,(u(B={},v,{value:N,writable:!0}),u(B,l,{value:null,writable:!0}),u(B,c,{value:null,writable:!0}),u(B,d,{value:null,writable:!0}),u(B,f,{value:N._readableState.endEmitted,writable:!0}),u(B,g,{value:function(T,M){var U=j[v].read();U?(j[h]=null,j[l]=null,j[c]=null,T(p(U,!1))):(j[l]=T,j[c]=M)},writable:!0}),B));return j[h]=null,o(N,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=j[c];return M!==null&&(j[h]=null,j[l]=null,j[c]=null,M(T)),void(j[d]=T)}var U=j[l];U!==null&&(j[h]=null,j[l]=null,j[c]=null,U(p(void 0,!0))),j[f]=!0}),N.on("readable",m.bind(null,j)),j}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function i(h,g){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);g&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),v.push.apply(v,p)}return v}function a(h){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?i(Object(v),!0).forEach(function(p){u(h,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):i(Object(v)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(v,p))})}return h}function u(h,g,v){return(g=l(g))in h?Object.defineProperty(h,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[g]=v,h}function o(h,g){for(var v=0;v<g.length;v++){var p=g[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,l(p.key),p)}}function l(h){var g=function(v,p){if(typeof v!="object"||v===null)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,p);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(v)}(h,"string");return typeof g=="symbol"?g:String(g)}var c=e("buffer").Buffer,d=e("util").inspect,f=d&&d.custom||"inspect";n.exports=function(){function h(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var g,v;return g=h,(v=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=p+y.data;return m}},{key:"concat",value:function(p){if(this.length===0)return c.alloc(0);for(var y,m,b,k=c.allocUnsafe(p>>>0),N=this.head,B=0;N;)y=N.data,m=k,b=B,c.prototype.copy.call(y,m,b),B+=N.data.length,N=N.next;return k}},{key:"consume",value:function(p,y){var m;return p<this.head.data.length?(m=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):m=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,m=1,b=y.data;for(p-=b.length;y=y.next;){var k=y.data,N=p>k.length?k.length:p;if(N===k.length?b+=k:b+=k.slice(0,p),(p-=N)==0){N===k.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=k.slice(N));break}++m}return this.length-=m,b}},{key:"_getBuffer",value:function(p){var y=c.allocUnsafe(p),m=this.head,b=1;for(m.data.copy(y),p-=m.data.length;m=m.next;){var k=m.data,N=p>k.length?k.length:p;if(k.copy(y,y.length-p,0,N),(p-=N)==0){N===k.length?(++b,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=k.slice(N));break}++b}return this.length-=b,y}},{key:f,value:function(p,y){return d(this,a(a({},y),{},{depth:0,customInspect:!1}))}}])&&o(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,n,s){(function(i){(function(){function a(l,c){o(l,c),u(l)}function u(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function o(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var d=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,l)):i.nextTick(o,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(g){!c&&g?d._writableState?d._writableState.errorEmitted?i.nextTick(u,d):(d._writableState.errorEmitted=!0,i.nextTick(a,d,g)):i.nextTick(a,d,g):c?(i.nextTick(u,d),c(g)):i.nextTick(u,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,c){var d=l._readableState,f=l._writableState;d&&d.autoDestroy||f&&f.autoDestroy?l.destroy(c):l.emit("error",c)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function u(o,l,c){if(typeof l=="function")return u(o,null,l);l||(l={}),c=function(N){var B=!1;return function(){if(!B){B=!0;for(var j=arguments.length,T=new Array(j),M=0;M<j;M++)T[M]=arguments[M];N.apply(this,T)}}}(c||a);var d=l.readable||l.readable!==!1&&o.readable,f=l.writable||l.writable!==!1&&o.writable,h=function(){o.writable||v()},g=o._writableState&&o._writableState.finished,v=function(){f=!1,g=!0,d||c.call(o)},p=o._readableState&&o._readableState.endEmitted,y=function(){d=!1,p=!0,f||c.call(o)},m=function(N){c.call(o,N)},b=function(){var N;return d&&!p?(o._readableState&&o._readableState.ended||(N=new i),c.call(o,N)):f&&!g?(o._writableState&&o._writableState.ended||(N=new i),c.call(o,N)):void 0},k=function(){o.req.on("finish",v)};return function(N){return N.setHeader&&typeof N.abort=="function"}(o)?(o.on("complete",v),o.on("abort",b),o.req?k():o.on("request",k)):f&&!o._writableState&&(o.on("end",h),o.on("close",h)),o.on("end",y),o.on("finish",v),l.error!==!1&&o.on("error",m),o.on("close",b),function(){o.removeListener("complete",v),o.removeListener("abort",b),o.removeListener("request",k),o.req&&o.req.removeListener("finish",v),o.removeListener("end",h),o.removeListener("close",h),o.removeListener("finish",v),o.removeListener("end",y),o.removeListener("error",m),o.removeListener("close",b)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var i,a=e("../../../errors").codes,u=a.ERR_MISSING_ARGS,o=a.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function c(g,v,p,y){y=function(k){var N=!1;return function(){N||(N=!0,k.apply(void 0,arguments))}}(y);var m=!1;g.on("close",function(){m=!0}),i===void 0&&(i=e("./end-of-stream")),i(g,{readable:v,writable:p},function(k){if(k)return y(k);m=!0,y()});var b=!1;return function(k){if(!m&&!b)return b=!0,function(N){return N.setHeader&&typeof N.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(k||new o("pipe"))}}function d(g){g()}function f(g,v){return g.pipe(v)}function h(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}n.exports=function(){for(var g=arguments.length,v=new Array(g),p=0;p<g;p++)v[p]=arguments[p];var y,m=h(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new u("streams");var b=v.map(function(k,N){var B=N<v.length-1;return c(k,B,N>0,function(j){y||(y=j),j&&b.forEach(d),B||(b.forEach(d),m(y))})});return v.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,u,o,l){var c=function(d,f,h){return d.highWaterMark!=null?d.highWaterMark:f?d[h]:null}(u,l,o);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new i(l?o:"highWaterMark",c);return Math.floor(c)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var i=function(a){var u=Object.prototype,o=u.hasOwnProperty,l=Object.defineProperty||function(x,S,C){x[S]=C.value},c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function g(x,S,C){return Object.defineProperty(x,S,{value:C,enumerable:!0,configurable:!0,writable:!0}),x[S]}try{g({},"")}catch{g=function(S,C,q){return S[C]=q}}function v(x,S,C,q){var P=S&&S.prototype instanceof m?S:m,$=Object.create(P.prototype),X=new A(q||[]);return l($,"_invoke",{value:O(x,C,X)}),$}function p(x,S,C){try{return{type:"normal",arg:x.call(S,C)}}catch(q){return{type:"throw",arg:q}}}a.wrap=v;var y={};function m(){}function b(){}function k(){}var N={};g(N,d,function(){return this});var B=Object.getPrototypeOf,j=B&&B(B(w([])));j&&j!==u&&o.call(j,d)&&(N=j);var T=k.prototype=m.prototype=Object.create(N);function M(x){["next","throw","return"].forEach(function(S){g(x,S,function(C){return this._invoke(S,C)})})}function U(x,S){var C;l(this,"_invoke",{value:function(q,P){function $(){return new S(function(X,Z){(function V(Q,F,D,K){var ee=p(x[Q],x,F);if(ee.type!=="throw"){var ue=ee.arg,ie=ue.value;return ie&&typeof ie=="object"&&o.call(ie,"__await")?S.resolve(ie.__await).then(function(ae){V("next",ae,D,K)},function(ae){V("throw",ae,D,K)}):S.resolve(ie).then(function(ae){ue.value=ae,D(ue)},function(ae){return V("throw",ae,D,K)})}K(ee.arg)})(q,P,X,Z)})}return C=C?C.then($,$):$()}})}function O(x,S,C){var q="suspendedStart";return function(P,$){if(q==="executing")throw new Error("Generator is already running");if(q==="completed"){if(P==="throw")throw $;return _()}for(C.method=P,C.arg=$;;){var X=C.delegate;if(X){var Z=I(X,C);if(Z){if(Z===y)continue;return Z}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(q==="suspendedStart")throw q="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);q="executing";var V=p(x,S,C);if(V.type==="normal"){if(q=C.done?"completed":"suspendedYield",V.arg===y)continue;return{value:V.arg,done:C.done}}V.type==="throw"&&(q="completed",C.method="throw",C.arg=V.arg)}}}function I(x,S){var C=S.method,q=x.iterator[C];if(q===void 0)return S.delegate=null,C==="throw"&&x.iterator.return&&(S.method="return",S.arg=void 0,I(x,S),S.method==="throw")||C!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+C+"' method")),y;var P=p(q,x.iterator,S.arg);if(P.type==="throw")return S.method="throw",S.arg=P.arg,S.delegate=null,y;var $=P.arg;return $?$.done?(S[x.resultName]=$.value,S.next=x.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,y):$:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,y)}function E(x){var S={tryLoc:x[0]};1 in x&&(S.catchLoc=x[1]),2 in x&&(S.finallyLoc=x[2],S.afterLoc=x[3]),this.tryEntries.push(S)}function R(x){var S=x.completion||{};S.type="normal",delete S.arg,x.completion=S}function A(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(E,this),this.reset(!0)}function w(x){if(x){var S=x[d];if(S)return S.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var C=-1,q=function P(){for(;++C<x.length;)if(o.call(x,C))return P.value=x[C],P.done=!1,P;return P.value=void 0,P.done=!0,P};return q.next=q}}return{next:_}}function _(){return{value:void 0,done:!0}}return b.prototype=k,l(T,"constructor",{value:k,configurable:!0}),l(k,"constructor",{value:b,configurable:!0}),b.displayName=g(k,h,"GeneratorFunction"),a.isGeneratorFunction=function(x){var S=typeof x=="function"&&x.constructor;return!!S&&(S===b||(S.displayName||S.name)==="GeneratorFunction")},a.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,k):(x.__proto__=k,g(x,h,"GeneratorFunction")),x.prototype=Object.create(T),x},a.awrap=function(x){return{__await:x}},M(U.prototype),g(U.prototype,f,function(){return this}),a.AsyncIterator=U,a.async=function(x,S,C,q,P){P===void 0&&(P=Promise);var $=new U(v(x,S,C,q),P);return a.isGeneratorFunction(S)?$:$.next().then(function(X){return X.done?X.value:$.next()})},M(T),g(T,h,"Generator"),g(T,d,function(){return this}),g(T,"toString",function(){return"[object Generator]"}),a.keys=function(x){var S=Object(x),C=[];for(var q in S)C.push(q);return C.reverse(),function P(){for(;C.length;){var $=C.pop();if($ in S)return P.value=$,P.done=!1,P}return P.done=!0,P}},a.values=w,A.prototype={constructor:A,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!x)for(var S in this)S.charAt(0)==="t"&&o.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var S=this;function C(V,Q){return $.type="throw",$.arg=x,S.next=V,Q&&(S.method="next",S.arg=void 0),!!Q}for(var q=this.tryEntries.length-1;q>=0;--q){var P=this.tryEntries[q],$=P.completion;if(P.tryLoc==="root")return C("end");if(P.tryLoc<=this.prev){var X=o.call(P,"catchLoc"),Z=o.call(P,"finallyLoc");if(X&&Z){if(this.prev<P.catchLoc)return C(P.catchLoc,!0);if(this.prev<P.finallyLoc)return C(P.finallyLoc)}else if(X){if(this.prev<P.catchLoc)return C(P.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return C(P.finallyLoc)}}}},abrupt:function(x,S){for(var C=this.tryEntries.length-1;C>=0;--C){var q=this.tryEntries[C];if(q.tryLoc<=this.prev&&o.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var P=q;break}}P&&(x==="break"||x==="continue")&&P.tryLoc<=S&&S<=P.finallyLoc&&(P=null);var $=P?P.completion:{};return $.type=x,$.arg=S,P?(this.method="next",this.next=P.finallyLoc,y):this.complete($)},complete:function(x,S){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&S&&(this.next=S),y},finish:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.finallyLoc===x)return this.complete(C.completion,C.afterLoc),R(C),y}},catch:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var C=this.tryEntries[S];if(C.tryLoc===x){var q=C.completion;if(q.type==="throw"){var P=q.arg;R(C)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(x,S,C){return this.delegate={iterator:w(x),resultName:S,nextLoc:C},this.method==="next"&&(this.arg=void 0),y}},a}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,s){var i=e("buffer").Buffer,a=e("inherits"),u=e("hash-base"),o=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function v(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(B,j){return B<<j|B>>>32-j}function y(B,j,T,M,U,O,I,E){return p(B+(j^T^M)+O+I|0,E)+U|0}function m(B,j,T,M,U,O,I,E){return p(B+(j&T|~j&M)+O+I|0,E)+U|0}function b(B,j,T,M,U,O,I,E){return p(B+((j|~T)^M)+O+I|0,E)+U|0}function k(B,j,T,M,U,O,I,E){return p(B+(j&M|T&~M)+O+I|0,E)+U|0}function N(B,j,T,M,U,O,I,E){return p(B+(j^(T|~M))+O+I|0,E)+U|0}a(v,u),v.prototype._update=function(){for(var B=o,j=0;j<16;++j)B[j]=this._block.readInt32LE(4*j);for(var T=0|this._a,M=0|this._b,U=0|this._c,O=0|this._d,I=0|this._e,E=0|this._a,R=0|this._b,A=0|this._c,w=0|this._d,_=0|this._e,x=0;x<80;x+=1){var S,C;x<16?(S=y(T,M,U,O,I,B[l[x]],h[0],d[x]),C=N(E,R,A,w,_,B[c[x]],g[0],f[x])):x<32?(S=m(T,M,U,O,I,B[l[x]],h[1],d[x]),C=k(E,R,A,w,_,B[c[x]],g[1],f[x])):x<48?(S=b(T,M,U,O,I,B[l[x]],h[2],d[x]),C=b(E,R,A,w,_,B[c[x]],g[2],f[x])):x<64?(S=k(T,M,U,O,I,B[l[x]],h[3],d[x]),C=m(E,R,A,w,_,B[c[x]],g[3],f[x])):(S=N(T,M,U,O,I,B[l[x]],h[4],d[x]),C=y(E,R,A,w,_,B[c[x]],g[4],f[x])),T=I,I=O,O=p(U,10),U=M,M=S,E=_,_=w,w=p(A,10),A=R,R=C}var q=this._b+U+w|0;this._b=this._c+O+_|0,this._c=this._d+I+E|0,this._d=this._e+T+R|0,this._e=this._a+M+A|0,this._a=q},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var B=i.alloc?i.alloc(20):new i(20);return B.writeInt32LE(this._a,0),B.writeInt32LE(this._b,4),B.writeInt32LE(this._c,8),B.writeInt32LE(this._d,12),B.writeInt32LE(this._e,16),B},n.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),a=i.Buffer;function u(l,c){for(var d in l)c[d]=l[d]}function o(l,c,d){return a(l,c,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(u(i,s),s.Buffer=o),o.prototype=Object.create(a.prototype),u(a,o),o.from=function(l,c,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,c,d)},o.alloc=function(l,c,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=a(l);return c!==void 0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],495:[function(e,n,s){(function(i){(function(){var a,u=e("buffer"),o=u.Buffer,l={};for(a in u)u.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(l[a]=u[a]);var c=l.Buffer={};for(a in o)o.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(c[a]=o[a]);if(l.Buffer.prototype=o.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(d,f,h){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return o(d,f,h)}),c.alloc||(c.alloc=function(d,f,h){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var g=o(d);return f&&f.length!==0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),n.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),u=e("xmlchars/xmlns/1.0/ed3");var o=i.isS,l=i.isChar,c=i.isNameStartChar,d=i.isNameChar,f=i.S_LIST,h=i.NAME_RE,g=a.isChar,v=u.isNCNameStartChar,p=u.isNCNameChar,y=u.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:m,xmlns:b},N={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},B=w=>w===34||w===39,j=[34,39],T=[...j,91,62],M=[...j,60,93],U=[61,63,...f],O=[...f,62,38,60];function I(w,_,x){switch(_){case"xml":x!==m&&w.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":x!==b&&w.fail(`xmlns prefix must be bound to ${b}.`)}switch(x){case b:w.fail(_===""?`the default namespace may not be set to ${x}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case m:switch(_){case"xml":break;case"":w.fail(`the default namespace may not be set to ${x}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const E=w=>y.test(w),R=w=>h.test(w);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=v,this.nameCheck=p,this.isName=E,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const x=this.opt.additionalNamespaces;x!=null&&(function(S,C){for(const q of Object.keys(C))I(S,q,C[q])}(this,x),Object.assign(this.ns,x))}else this.nameStartCheck=c,this.nameCheck=d,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:x}=this.opt;if(x===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");x="1.0"}this.setXMLVersion(x),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(N),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,_){this[A[w]]=_}off(w){this[A[w]]=void 0}makeError(w){var _;let x=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(x.length>0&&(x+=":"),x+=`${this.line}:${this.column}`),x.length>0&&(x+=": "),new Error(x+w)}fail(w){const _=this.makeError(w),x=this.errorHandler;if(x===void 0)throw _;return x(_),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;w===null?(_=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let x=w.length;const S=w.charCodeAt(x-1);!_&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=w[x-1],x--,w=w.slice(0,x));const{stateTable:C}=this;for(this.chunk=w,this.i=0;this.i<x;)C[this.state].call(this);return this.chunkPosition+=x,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const x=w.charCodeAt(_);if(this.column++,x<55296){if(x>=32||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const S=65536+1024*(x-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:w,i:_}=this;if(this.prevI=_,this.i=_+1,_>=w.length)return-1;const x=w.charCodeAt(_);if(this.column++,x<55296){if(x>31&&x<127||x>159&&x!==8232||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const C=w.charCodeAt(_+1);C!==10&&C!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const S=65536+1024*(x-55296)+(w.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:_}=this;const{chunk:x}=this;for(;;){const S=this.getCode(),C=S===-2,q=C?10:S;if(q===-1||w.includes(q))return this.text+=x.slice(_,this.prevI),q;C&&(this.text+=x.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(w){let{i:_}=this;const{chunk:x}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=x.slice(_,this.prevI)+`
`,_=this.i,S=10;break;case-1:return this.text+=x.slice(_),!1}if(S===w)return this.text+=x.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:w,i:_}=this;for(;;){const x=this.getCode();if(x===-1)return this.name+=w.slice(_),-1;if(!d(x))return this.name+=w.slice(_,this.prevI),x===-2?10:x}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!o(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,_=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const _=this.captureTo(T);switch(_){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:B(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(M);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:B(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=w;this.text+=w,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:x}=this,S=this.entity+_.slice(w,this.prevI);let C;this.state=x,S===""?(this.fail("empty entity name."),C="&;"):(C=this.parseEntity(S),this.entity=""),x===13&&this.textHandler===void 0||(this.text+=C);break e}case-1:this.entity+=_.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(c(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const _=this.getCodeNorm();_===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const _=this.getCodeNorm();switch(_){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||o(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:_}=this;for(;;){const x=this.getCodeNorm();if(x===-1)return void(this.piTarget+=w.slice(_));if(!this.nameCheck(x)){this.piTarget+=w.slice(_,this.prevI);const S=x===63;S||o(x)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:o(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const _=this.getCodeNorm();if(_===62){const{piTarget:x}=this;x.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:x,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(U);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");o(w)||(B(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const x=_;this.xmlDecl.version=x,/^1\.[0-9]+$/.test(x)?this.opt.forceXMLVersion||this.setXMLVersion(x):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(o(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const _=this.captureNameChars();if(_===-1)return;const x=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=x.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,x),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:o(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(c(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:o(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():c(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();B(w)?(this.q=w,this.state=40):o(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:_}=this;let{i:x}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+_.slice(x,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(x,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(x,this.prevI)+" ",x=this.i;break;case 60:return this.text+=_.slice(x,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(x))}}sAttribValueClosed(){const w=this.getCodeNorm();o(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:c(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(O);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():o(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:_}=this;const{chunk:x,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:C}=this,q=x.slice(w,this.prevI);C.length!==0?(S(C+q),this.text=""):q.length!==0&&S(q)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=x.slice(w,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:S!==void 0&&(this.text+=x.slice(w,this.prevI)+`
`),w=this.i,_=0;break;case-1:S!==void 0&&(this.text+=x.slice(w));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:w}=this;const{chunk:_,textHandler:x}=this;let S=!1;e:for(;;){const C=this.getCode();switch(C){case 60:if(this.state=15,x!==void 0){const{text:q}=this,P=_.slice(w,this.prevI);q.length!==0?(x(q+P),this.text=""):P.length!==0&&x(P)}break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=_.slice(w,this.prevI)),S=!0;break e;case-2:x!==void 0&&(this.text+=_.slice(w,this.prevI)+`
`),w=this.i;break;case-1:x!==void 0&&(this.text+=_.slice(w));break e;default:o(C)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,_){var x;const{prefix:S,local:C}=this.qname(w),q={name:w,prefix:S,local:C,value:_};if(this.attribList.push(q),(x=this.attributeHandler)===null||x===void 0||x.call(this,q),S==="xmlns"){const P=_.trim();this.currentXMLVersion==="1.0"&&P===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[C]=P,I(this,C,P)}else if(w==="xmlns"){const P=_.trim();this.topNS[""]=P,I(this,"",P)}}pushAttribPlain(w,_){var x;const S={name:w,value:_};this.attribList.push(S),(x=this.attributeHandler)===null||x===void 0||x.call(this,S)}end(){var w,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:x}=this;for(;x.length>0;){const C=x.pop();this.fail("unclosed tag: "+C.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,S),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(w){var _,x;let S=this.topNS[w];if(S!==void 0)return S;const{tags:C}=this;for(let q=C.length-1;q>=0;q--)if(S=C[q].ns[w],S!==void 0)return S;return S=this.ns[w],S!==void 0?S:(x=(_=this.opt).resolvePrefix)===null||x===void 0?void 0:x.call(_,w)}qname(w){const _=w.indexOf(":");if(_===-1)return{prefix:"",local:w};const x=w.slice(_+1),S=w.slice(0,_);return(S===""||x===""||x.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:S,local:x}}processAttribsNS(){var w;const{attribList:_}=this,x=this.tag;{const{prefix:q,local:P}=this.qname(x.name);x.prefix=q,x.local=P;const $=x.uri=(w=this.resolve(q))!==null&&w!==void 0?w:"";q!==""&&(q==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),$===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),x.uri=q))}if(_.length===0)return;const{attributes:S}=x,C=new Set;for(const q of _){const{name:P,prefix:$,local:X}=q;let Z,V;$===""?(Z=P==="xmlns"?b:"",V=P):(Z=this.resolve($),Z===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify($)}.`),Z=$),V=`{${Z}}${X}`),C.has(V)&&this.fail(`duplicate attribute: ${V}.`),C.add(V),q.uri=Z,S[P]=q}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,_=this.tag.attributes;for(const{name:x,value:S}of w)_[x]!==void 0&&this.fail(`duplicate attribute: ${x}.`),_[x]=S;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:_}=this,x=this.tag;x.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,x),_.push(x),this.state=13,this.name=""}openSelfClosingTag(){var w,_,x;this.processAttribs();const{tags:S}=this,C=this.tag;C.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,C),(_=this.closeTagHandler)===null||_===void 0||_.call(this,C),(this.tag=(x=S[S.length-1])!==null&&x!==void 0?x:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const x=this.closeTagHandler;let S=w.length;for(;S-- >0;){const C=this.tag=w.pop();if(this.topNS=C.ns,x==null||x(C),C.name===_)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(w){if(w[0]!=="#"){const x=this.ENTITIES[w];return x!==void 0?x:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let _=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?_=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(_=parseInt(w.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(u,o){this._block=i.alloc(u),this._finalSize=o,this._blockSize=u,this._len=0}a.prototype.update=function(u,o){typeof u=="string"&&(o=o||"utf8",u=i.from(u,o));for(var l=this._block,c=this._blockSize,d=u.length,f=this._len,h=0;h<d;){for(var g=f%c,v=Math.min(d-h,c-g),p=0;p<v;p++)l[g+p]=u[h+p];h+=v,(f+=v)%c==0&&this._update(l)}return this._len+=d,this},a.prototype.digest=function(u){var o=this._len%this._blockSize;this._block[o]=128,this._block.fill(0,o+1),o>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var c=(4294967295&l)>>>0,d=(l-c)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var f=this._hash();return u?f.toString(u):f},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,s){var i=n.exports=function(a){a=a.toLowerCase();var u=i[a];if(!u)throw new Error(a+" is not supported (we accept pull requests)");return new u};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var i=e("inherits"),a=e("./hash"),u=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function c(){this.init(),this._w=l,a.call(this,64,56)}function d(h){return h<<30|h>>>2}function f(h,g,v,p){return h===0?g&v|~g&p:h===2?g&v|g&p|v&p:g^v^p}i(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(h){for(var g,v=this._w,p=0|this._a,y=0|this._b,m=0|this._c,b=0|this._d,k=0|this._e,N=0;N<16;++N)v[N]=h.readInt32BE(4*N);for(;N<80;++N)v[N]=v[N-3]^v[N-8]^v[N-14]^v[N-16];for(var B=0;B<80;++B){var j=~~(B/20),T=0|((g=p)<<5|g>>>27)+f(j,y,m,b)+k+v[B]+o[j];k=b,b=m,m=d(y),y=p,p=T}this._a=p+this._a|0,this._b=y+this._b|0,this._c=m+this._c|0,this._d=b+this._d|0,this._e=k+this._e|0},c.prototype._hash=function(){var h=u.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var i=e("inherits"),a=e("./hash"),u=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function c(){this.init(),this._w=l,a.call(this,64,56)}function d(g){return g<<5|g>>>27}function f(g){return g<<30|g>>>2}function h(g,v,p,y){return g===0?v&p|~v&y:g===2?v&p|v&y|p&y:v^p^y}i(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(g){for(var v,p=this._w,y=0|this._a,m=0|this._b,b=0|this._c,k=0|this._d,N=0|this._e,B=0;B<16;++B)p[B]=g.readInt32BE(4*B);for(;B<80;++B)p[B]=(v=p[B-3]^p[B-8]^p[B-14]^p[B-16])<<1|v>>>31;for(var j=0;j<80;++j){var T=~~(j/20),M=d(y)+h(T,m,b,k)+N+p[j]+o[T]|0;N=k,k=b,b=f(m),m=y,y=M}this._a=y+this._a|0,this._b=m+this._b|0,this._c=b+this._c|0,this._d=k+this._d|0,this._e=N+this._e|0},c.prototype._hash=function(){var g=u.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var i=e("inherits"),a=e("./sha256"),u=e("./hash"),o=e("safe-buffer").Buffer,l=new Array(64);function c(){this.init(),this._w=l,u.call(this,64,56)}i(c,a),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var d=o.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var i=e("inherits"),a=e("./hash"),u=e("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function c(){this.init(),this._w=l,a.call(this,64,56)}function d(p,y,m){return m^p&(y^m)}function f(p,y,m){return p&y|m&(p|y)}function h(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function v(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}i(c,a),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(p){for(var y,m=this._w,b=0|this._a,k=0|this._b,N=0|this._c,B=0|this._d,j=0|this._e,T=0|this._f,M=0|this._g,U=0|this._h,O=0;O<16;++O)m[O]=p.readInt32BE(4*O);for(;O<64;++O)m[O]=0|(((y=m[O-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+m[O-7]+v(m[O-15])+m[O-16];for(var I=0;I<64;++I){var E=U+g(j)+d(j,T,M)+o[I]+m[I]|0,R=h(b)+f(b,k,N)|0;U=M,M=T,T=j,j=B+E|0,B=N,N=k,k=b,b=E+R|0}this._a=b+this._a|0,this._b=k+this._b|0,this._c=N+this._c|0,this._d=B+this._d|0,this._e=j+this._e|0,this._f=T+this._f|0,this._g=M+this._g|0,this._h=U+this._h|0},c.prototype._hash=function(){var p=u.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var i=e("inherits"),a=e("./sha512"),u=e("./hash"),o=e("safe-buffer").Buffer,l=new Array(160);function c(){this.init(),this._w=l,u.call(this,128,112)}i(c,a),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var d=o.allocUnsafe(48);function f(h,g,v){d.writeInt32BE(h,v),d.writeInt32BE(g,v+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),d},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var i=e("inherits"),a=e("./hash"),u=e("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function c(){this.init(),this._w=l,a.call(this,128,112)}function d(k,N,B){return B^k&(N^B)}function f(k,N,B){return k&N|B&(k|N)}function h(k,N){return(k>>>28|N<<4)^(N>>>2|k<<30)^(N>>>7|k<<25)}function g(k,N){return(k>>>14|N<<18)^(k>>>18|N<<14)^(N>>>9|k<<23)}function v(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^k>>>7}function p(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^(k>>>7|N<<25)}function y(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^k>>>6}function m(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^(k>>>6|N<<26)}function b(k,N){return k>>>0<N>>>0?1:0}i(c,a),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(k){for(var N=this._w,B=0|this._ah,j=0|this._bh,T=0|this._ch,M=0|this._dh,U=0|this._eh,O=0|this._fh,I=0|this._gh,E=0|this._hh,R=0|this._al,A=0|this._bl,w=0|this._cl,_=0|this._dl,x=0|this._el,S=0|this._fl,C=0|this._gl,q=0|this._hl,P=0;P<32;P+=2)N[P]=k.readInt32BE(4*P),N[P+1]=k.readInt32BE(4*P+4);for(;P<160;P+=2){var $=N[P-30],X=N[P-30+1],Z=v($,X),V=p(X,$),Q=y($=N[P-4],X=N[P-4+1]),F=m(X,$),D=N[P-14],K=N[P-14+1],ee=N[P-32],ue=N[P-32+1],ie=V+K|0,ae=Z+D+b(ie,V)|0;ae=(ae=ae+Q+b(ie=ie+F|0,F)|0)+ee+b(ie=ie+ue|0,ue)|0,N[P]=ae,N[P+1]=ie}for(var ce=0;ce<160;ce+=2){ae=N[ce],ie=N[ce+1];var ne=f(B,j,T),se=f(R,A,w),ye=h(B,R),me=h(R,B),_e=g(U,x),xe=g(x,U),ke=o[ce],Ce=o[ce+1],Oe=d(U,O,I),Ue=d(x,S,C),ve=q+xe|0,Be=E+_e+b(ve,q)|0;Be=(Be=(Be=Be+Oe+b(ve=ve+Ue|0,Ue)|0)+ke+b(ve=ve+Ce|0,Ce)|0)+ae+b(ve=ve+ie|0,ie)|0;var $e=me+se|0,He=ye+ne+b($e,me)|0;E=I,q=C,I=O,C=S,O=U,S=x,U=M+Be+b(x=_+ve|0,_)|0,M=T,_=w,T=j,w=A,j=B,A=R,B=Be+He+b(R=ve+$e|0,ve)|0}this._al=this._al+R|0,this._bl=this._bl+A|0,this._cl=this._cl+w|0,this._dl=this._dl+_|0,this._el=this._el+x|0,this._fl=this._fl+S|0,this._gl=this._gl+C|0,this._hl=this._hl+q|0,this._ah=this._ah+B+b(this._al,R)|0,this._bh=this._bh+j+b(this._bl,A)|0,this._ch=this._ch+T+b(this._cl,w)|0,this._dh=this._dh+M+b(this._dl,_)|0,this._eh=this._eh+U+b(this._el,x)|0,this._fh=this._fh+O+b(this._fl,S)|0,this._gh=this._gh+I+b(this._gl,C)|0,this._hh=this._hh+E+b(this._hl,q)|0},c.prototype._hash=function(){var k=u.allocUnsafe(64);function N(B,j,T){k.writeInt32BE(B,T),k.writeInt32BE(j,T+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),k},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=a;var i=e("events").EventEmitter;function a(){i.call(this)}e("inherits")(a,i),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(u,o){var l=this;function c(y){u.writable&&u.write(y)===!1&&l.pause&&l.pause()}function d(){l.readable&&l.resume&&l.resume()}l.on("data",c),u.on("drain",d),u._isStdio||o&&o.end===!1||(l.on("end",h),l.on("close",g));var f=!1;function h(){f||(f=!0,u.end())}function g(){f||(f=!0,typeof u.destroy=="function"&&u.destroy())}function v(y){if(p(),i.listenerCount(this,"error")===0)throw y}function p(){l.removeListener("data",c),u.removeListener("drain",d),l.removeListener("end",h),l.removeListener("close",g),l.removeListener("error",v),u.removeListener("error",v),l.removeListener("end",p),l.removeListener("close",p),u.removeListener("close",p)}return l.on("error",v),u.on("error",v),l.on("end",p),l.on("close",p),u.on("close",p),u.emit("pipe",l),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var i=e("process-nextick-args"),a=Object.keys||function(p){var y=[];for(var m in p)y.push(m);return y};n.exports=h;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var o=e("./_stream_readable"),l=e("./_stream_writable");u.inherits(h,o);for(var c=a(l.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(p){if(!(this instanceof h))return new h(p);o.call(this,p),l.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(v,this)}function v(p){p.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),h.prototype._destroy=function(p,y){this.push(null),this.end(),i.nextTick(y,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=u;var i=e("./_stream_transform"),a=Object.create(e("core-util-is"));function u(o){if(!(this instanceof u))return new u(o);i.call(this,o)}a.inherits=e("inherits"),a.inherits(u,i),u.prototype._transform=function(o,l,c){c(null,o)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(i,a){(function(){var u=e("process-nextick-args");n.exports=B;var o,l=e("isarray");B.ReadableState=N,e("events").EventEmitter;var c=function(q,P){return q.listeners(P).length},d=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var v=e("util"),p=void 0;p=v&&v.debuglog?v.debuglog("stream"):function(){};var y,m=e("./internal/streams/BufferList"),b=e("./internal/streams/destroy");g.inherits(B,d);var k=["error","close","destroy","pause","resume"];function N(q,P){q=q||{};var $=P instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!q.objectMode,$&&(this.objectMode=this.objectMode||!!q.readableObjectMode);var X=q.highWaterMark,Z=q.readableHighWaterMark,V=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:$&&(Z||Z===0)?Z:V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(q.encoding),this.encoding=q.encoding)}function B(q){if(o=o||e("./_stream_duplex"),!(this instanceof B))return new B(q);this._readableState=new N(q,this),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),d.call(this)}function j(q,P,$,X,Z){var V,Q=q._readableState;return P===null?(Q.reading=!1,function(F,D){if(!D.ended){if(D.decoder){var K=D.decoder.end();K&&K.length&&(D.buffer.push(K),D.length+=D.objectMode?1:K.length)}D.ended=!0,U(F)}}(q,Q)):(Z||(V=function(F,D){var K;ee=D,f.isBuffer(ee)||ee instanceof h||typeof D=="string"||D===void 0||F.objectMode||(K=new TypeError("Invalid non-string/buffer chunk"));var ee;return K}(Q,P)),V?q.emit("error",V):Q.objectMode||P&&P.length>0?(typeof P=="string"||Q.objectMode||Object.getPrototypeOf(P)===f.prototype||(P=function(F){return f.from(F)}(P)),X?Q.endEmitted?q.emit("error",new Error("stream.unshift() after end event")):T(q,Q,P,!0):Q.ended?q.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!$?(P=Q.decoder.write(P),Q.objectMode||P.length!==0?T(q,Q,P,!1):I(q,Q)):T(q,Q,P,!1))):X||(Q.reading=!1)),function(F){return!F.ended&&(F.needReadable||F.length<F.highWaterMark||F.length===0)}(Q)}function T(q,P,$,X){P.flowing&&P.length===0&&!P.sync?(q.emit("data",$),q.read(0)):(P.length+=P.objectMode?1:$.length,X?P.buffer.unshift($):P.buffer.push($),P.needReadable&&U(q)),I(q,P)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),B.prototype.destroy=b.destroy,B.prototype._undestroy=b.undestroy,B.prototype._destroy=function(q,P){this.push(null),P(q)},B.prototype.push=function(q,P){var $,X=this._readableState;return X.objectMode?$=!0:typeof q=="string"&&((P=P||X.defaultEncoding)!==X.encoding&&(q=f.from(q,P),P=""),$=!0),j(this,q,P,!1,$)},B.prototype.unshift=function(q){return j(this,q,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(q){return y||(y=e("string_decoder/").StringDecoder),this._readableState.decoder=new y(q),this._readableState.encoding=q,this};function M(q,P){return q<=0||P.length===0&&P.ended?0:P.objectMode?1:q!=q?P.flowing&&P.length?P.buffer.head.data.length:P.length:(q>P.highWaterMark&&(P.highWaterMark=function($){return $>=8388608?$=8388608:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}(q)),q<=P.length?q:P.ended?P.length:(P.needReadable=!0,0))}function U(q){var P=q._readableState;P.needReadable=!1,P.emittedReadable||(p("emitReadable",P.flowing),P.emittedReadable=!0,P.sync?u.nextTick(O,q):O(q))}function O(q){p("emit readable"),q.emit("readable"),w(q)}function I(q,P){P.readingMore||(P.readingMore=!0,u.nextTick(E,q,P))}function E(q,P){for(var $=P.length;!P.reading&&!P.flowing&&!P.ended&&P.length<P.highWaterMark&&(p("maybeReadMore read 0"),q.read(0),$!==P.length);)$=P.length;P.readingMore=!1}function R(q){p("readable nexttick read 0"),q.read(0)}function A(q,P){P.reading||(p("resume read 0"),q.read(0)),P.resumeScheduled=!1,P.awaitDrain=0,q.emit("resume"),w(q),P.flowing&&!P.reading&&q.read(0)}function w(q){var P=q._readableState;for(p("flow",P.flowing);P.flowing&&q.read()!==null;);}function _(q,P){return P.length===0?null:(P.objectMode?$=P.buffer.shift():!q||q>=P.length?($=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.head.data:P.buffer.concat(P.length),P.buffer.clear()):$=function(X,Z,V){var Q;return X<Z.head.data.length?(Q=Z.head.data.slice(0,X),Z.head.data=Z.head.data.slice(X)):Q=X===Z.head.data.length?Z.shift():V?function(F,D){var K=D.head,ee=1,ue=K.data;for(F-=ue.length;K=K.next;){var ie=K.data,ae=F>ie.length?ie.length:F;if(ae===ie.length?ue+=ie:ue+=ie.slice(0,F),(F-=ae)===0){ae===ie.length?(++ee,K.next?D.head=K.next:D.head=D.tail=null):(D.head=K,K.data=ie.slice(ae));break}++ee}return D.length-=ee,ue}(X,Z):function(F,D){var K=f.allocUnsafe(F),ee=D.head,ue=1;for(ee.data.copy(K),F-=ee.data.length;ee=ee.next;){var ie=ee.data,ae=F>ie.length?ie.length:F;if(ie.copy(K,K.length-F,0,ae),(F-=ae)===0){ae===ie.length?(++ue,ee.next?D.head=ee.next:D.head=D.tail=null):(D.head=ee,ee.data=ie.slice(ae));break}++ue}return D.length-=ue,K}(X,Z),Q}(q,P.buffer,P.decoder),$);var $}function x(q){var P=q._readableState;if(P.length>0)throw new Error('"endReadable()" called on non-empty stream');P.endEmitted||(P.ended=!0,u.nextTick(S,P,q))}function S(q,P){q.endEmitted||q.length!==0||(q.endEmitted=!0,P.readable=!1,P.emit("end"))}function C(q,P){for(var $=0,X=q.length;$<X;$++)if(q[$]===P)return $;return-1}B.prototype.read=function(q){p("read",q),q=parseInt(q,10);var P=this._readableState,$=q;if(q!==0&&(P.emittedReadable=!1),q===0&&P.needReadable&&(P.length>=P.highWaterMark||P.ended))return p("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?x(this):U(this),null;if((q=M(q,P))===0&&P.ended)return P.length===0&&x(this),null;var X,Z=P.needReadable;return p("need readable",Z),(P.length===0||P.length-q<P.highWaterMark)&&p("length less than watermark",Z=!0),P.ended||P.reading?p("reading or ended",Z=!1):Z&&(p("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(q=M($,P))),(X=q>0?_(q,P):null)===null?(P.needReadable=!0,q=0):P.length-=q,P.length===0&&(P.ended||(P.needReadable=!0),$!==q&&P.ended&&x(this)),X!==null&&this.emit("data",X),X},B.prototype._read=function(q){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(q,P){var $=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=q;break;case 1:X.pipes=[X.pipes,q];break;default:X.pipes.push(q)}X.pipesCount+=1,p("pipe count=%d opts=%j",X.pipesCount,P);var Z=(!P||P.end!==!1)&&q!==i.stdout&&q!==i.stderr?Q:ce;function V(ne,se){p("onunpipe"),ne===$&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,p("cleanup"),q.removeListener("close",ie),q.removeListener("finish",ae),q.removeListener("drain",F),q.removeListener("error",ue),q.removeListener("unpipe",V),$.removeListener("end",Q),$.removeListener("end",ce),$.removeListener("data",ee),D=!0,!X.awaitDrain||q._writableState&&!q._writableState.needDrain||F())}function Q(){p("onend"),q.end()}X.endEmitted?u.nextTick(Z):$.once("end",Z),q.on("unpipe",V);var F=function(ne){return function(){var se=ne._readableState;p("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&c(ne,"data")&&(se.flowing=!0,w(ne))}}($);q.on("drain",F);var D=!1,K=!1;function ee(ne){p("ondata"),K=!1,q.write(ne)!==!1||K||((X.pipesCount===1&&X.pipes===q||X.pipesCount>1&&C(X.pipes,q)!==-1)&&!D&&(p("false write response, pause",X.awaitDrain),X.awaitDrain++,K=!0),$.pause())}function ue(ne){p("onerror",ne),ce(),q.removeListener("error",ue),c(q,"error")===0&&q.emit("error",ne)}function ie(){q.removeListener("finish",ae),ce()}function ae(){p("onfinish"),q.removeListener("close",ie),ce()}function ce(){p("unpipe"),$.unpipe(q)}return $.on("data",ee),function(ne,se,ye){if(typeof ne.prependListener=="function")return ne.prependListener(se,ye);ne._events&&ne._events[se]?l(ne._events[se])?ne._events[se].unshift(ye):ne._events[se]=[ye,ne._events[se]]:ne.on(se,ye)}(q,"error",ue),q.once("close",ie),q.once("finish",ae),q.emit("pipe",$),X.flowing||(p("pipe resume"),$.resume()),q},B.prototype.unpipe=function(q){var P=this._readableState,$={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return q&&q!==P.pipes||(q||(q=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,q&&q.emit("unpipe",this,$)),this;if(!q){var X=P.pipes,Z=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var V=0;V<Z;V++)X[V].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=C(P.pipes,q);return Q===-1||(P.pipes.splice(Q,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),q.emit("unpipe",this,$)),this},B.prototype.on=function(q,P){var $=d.prototype.on.call(this,q,P);if(q==="data")this._readableState.flowing!==!1&&this.resume();else if(q==="readable"){var X=this._readableState;X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&U(this):u.nextTick(R,this))}return $},B.prototype.addListener=B.prototype.on,B.prototype.resume=function(){var q=this._readableState;return q.flowing||(p("resume"),q.flowing=!0,function(P,$){$.resumeScheduled||($.resumeScheduled=!0,u.nextTick(A,P,$))}(this,q)),this},B.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},B.prototype.wrap=function(q){var P=this,$=this._readableState,X=!1;for(var Z in q.on("end",function(){if(p("wrapped end"),$.decoder&&!$.ended){var Q=$.decoder.end();Q&&Q.length&&P.push(Q)}P.push(null)}),q.on("data",function(Q){p("wrapped data"),$.decoder&&(Q=$.decoder.write(Q)),$.objectMode&&Q==null||($.objectMode||Q&&Q.length)&&(P.push(Q)||(X=!0,q.pause()))}),q)this[Z]===void 0&&typeof q[Z]=="function"&&(this[Z]=function(Q){return function(){return q[Q].apply(q,arguments)}}(Z));for(var V=0;V<k.length;V++)q.on(k[V],this.emit.bind(this,k[V]));return this._read=function(Q){p("wrapped _read",Q),X&&(X=!1,q.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=_}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=o;var i=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function u(d,f){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),g(d);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function o(d){if(!(this instanceof o))return new o(d);i.call(this,d),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function l(){var d=this;typeof this._flush=="function"?this._flush(function(f,h){c(d,f,h)}):c(this,null,null)}function c(d,f,h){if(f)return d.emit("error",f);if(h!=null&&d.push(h),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}a.inherits=e("inherits"),a.inherits(o,i),o.prototype.push=function(d,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,d,f)},o.prototype._transform=function(d,f,h){throw new Error("_transform() is not implemented")},o.prototype._write=function(d,f,h){var g=this._transformState;if(g.writecb=h,g.writechunk=d,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},o.prototype._read=function(d){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(d,f){var h=this;i.prototype._destroy.call(this,d,function(g){f(g),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(i,a,u){(function(){var o=e("process-nextick-args");function l(I){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(R,A,w){var _=R.entry;for(R.entry=null;_;){var x=_.callback;A.pendingcb--,x(w),_=_.next}A.corkedRequestsFree.next=R})(E,I)}}n.exports=N;var c,d=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?u:o.nextTick;N.WritableState=k;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),v=e("safe-buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,m=e("./internal/streams/destroy");function b(){}function k(I,E){c=c||e("./_stream_duplex"),I=I||{};var R=E instanceof c;this.objectMode=!!I.objectMode,R&&(this.objectMode=this.objectMode||!!I.writableObjectMode);var A=I.highWaterMark,w=I.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:R&&(w||w===0)?w:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var x=I.decodeStrings===!1;this.decodeStrings=!x,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(C,q){var P=C._writableState,$=P.sync,X=P.writecb;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(P),q)(function(V,Q,F,D,K){--Q.pendingcb,F?(o.nextTick(K,D),o.nextTick(O,V,Q),V._writableState.errorEmitted=!0,V.emit("error",D)):(K(D),V._writableState.errorEmitted=!0,V.emit("error",D),O(V,Q))})(C,P,$,q,X);else{var Z=M(P);Z||P.corked||P.bufferProcessing||!P.bufferedRequest||T(C,P),$?d(j,C,P,Z,X):j(C,P,Z,X)}})(E,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function N(I){if(c=c||e("./_stream_duplex"),!(y.call(N,this)||this instanceof c))return new N(I);this._writableState=new k(I,this),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),g.call(this)}function B(I,E,R,A,w,_,x){E.writelen=A,E.writecb=x,E.writing=!0,E.sync=!0,R?I._writev(w,E.onwrite):I._write(w,_,E.onwrite),E.sync=!1}function j(I,E,R,A){R||function(w,_){_.length===0&&_.needDrain&&(_.needDrain=!1,w.emit("drain"))}(I,E),E.pendingcb--,A(),O(I,E)}function T(I,E){E.bufferProcessing=!0;var R=E.bufferedRequest;if(I._writev&&R&&R.next){var A=E.bufferedRequestCount,w=new Array(A),_=E.corkedRequestsFree;_.entry=R;for(var x=0,S=!0;R;)w[x]=R,R.isBuf||(S=!1),R=R.next,x+=1;w.allBuffers=S,B(I,E,!0,E.length,w,"",_.finish),E.pendingcb++,E.lastBufferedRequest=null,_.next?(E.corkedRequestsFree=_.next,_.next=null):E.corkedRequestsFree=new l(E),E.bufferedRequestCount=0}else{for(;R;){var C=R.chunk,q=R.encoding,P=R.callback;if(B(I,E,!1,E.objectMode?1:C.length,C,q,P),R=R.next,E.bufferedRequestCount--,E.writing)break}R===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=R,E.bufferProcessing=!1}function M(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function U(I,E){I._final(function(R){E.pendingcb--,R&&I.emit("error",R),E.prefinished=!0,I.emit("prefinish"),O(I,E)})}function O(I,E){var R=M(E);return R&&(function(A,w){w.prefinished||w.finalCalled||(typeof A._final=="function"?(w.pendingcb++,w.finalCalled=!0,o.nextTick(U,A,w)):(w.prefinished=!0,A.emit("prefinish")))}(I,E),E.pendingcb===0&&(E.finished=!0,I.emit("finish"))),R}f.inherits(N,g),k.prototype.getBuffer=function(){for(var I=this.bufferedRequest,E=[];I;)E.push(I),I=I.next;return E},function(){try{Object.defineProperty(k.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(I){return!!y.call(this,I)||this===N&&I&&I._writableState instanceof k}})):y=function(I){return I instanceof this},N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},N.prototype.write=function(I,E,R){var A,w=this._writableState,_=!1,x=!w.objectMode&&(A=I,v.isBuffer(A)||A instanceof p);return x&&!v.isBuffer(I)&&(I=function(S){return v.from(S)}(I)),typeof E=="function"&&(R=E,E=null),x?E="buffer":E||(E=w.defaultEncoding),typeof R!="function"&&(R=b),w.ended?function(S,C){var q=new Error("write after end");S.emit("error",q),o.nextTick(C,q)}(this,R):(x||function(S,C,q,P){var $=!0,X=!1;return q===null?X=new TypeError("May not write null values to stream"):typeof q=="string"||q===void 0||C.objectMode||(X=new TypeError("Invalid non-string/buffer chunk")),X&&(S.emit("error",X),o.nextTick(P,X),$=!1),$}(this,w,I,R))&&(w.pendingcb++,_=function(S,C,q,P,$,X){if(!q){var Z=function(D,K,ee){return D.objectMode||D.decodeStrings===!1||typeof K!="string"||(K=v.from(K,ee)),K}(C,P,$);P!==Z&&(q=!0,$="buffer",P=Z)}var V=C.objectMode?1:P.length;C.length+=V;var Q=C.length<C.highWaterMark;if(Q||(C.needDrain=!0),C.writing||C.corked){var F=C.lastBufferedRequest;C.lastBufferedRequest={chunk:P,encoding:$,isBuf:q,callback:X,next:null},F?F.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else B(S,C,!1,V,P,$,X);return Q}(this,w,x,I,E,R)),_},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||T(this,I))},N.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(I,E,R){R(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(I,E,R){var A=this._writableState;typeof I=="function"?(R=I,I=null,E=null):typeof E=="function"&&(R=E,E=null),I!=null&&this.write(I,E),A.corked&&(A.corked=1,this.uncork()),A.ending||function(w,_,x){_.ending=!0,O(w,_),x&&(_.finished?o.nextTick(x):w.once("finish",x)),_.ended=!0,w.writable=!1}(this,A,R)},Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),N.prototype.destroy=m.destroy,N.prototype._undestroy=m.undestroy,N.prototype._destroy=function(I,E){this.end(),E(I)}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("util");n.exports=function(){function u(){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(o){var l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},u.prototype.unshift=function(o){var l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},u.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(o){if(this.length===0)return"";for(var l=this.head,c=""+l.data;l=l.next;)c+=o+l.data;return c},u.prototype.concat=function(o){if(this.length===0)return i.alloc(0);for(var l,c,d,f=i.allocUnsafe(o>>>0),h=this.head,g=0;h;)l=h.data,c=f,d=g,l.copy(c,d),g+=h.data.length,h=h.next;return f},u}(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var u=a.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var i=e("process-nextick-args");function a(u,o){u.emit("error",o)}n.exports={destroy:function(u,o){var l=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(o?o(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,u)):i.nextTick(a,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,i.nextTick(a,l,f)):i.nextTick(a,l,f):o&&o(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(i,a){(function(){var u=e("process/browser.js").nextTick,o=Function.prototype.apply,l=Array.prototype.slice,c={},d=0;function f(h,g){this._id=h,this._clearFn=g}s.setTimeout=function(){return new f(o.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(o.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(h,g){clearTimeout(h._idleTimeoutId),h._idleTimeout=g},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var g=h._idleTimeout;g>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},g))},s.setImmediate=typeof i=="function"?i:function(h){var g=d++,v=!(arguments.length<2)&&l.call(arguments,1);return c[g]=!0,u(function(){c[g]&&(v?h.apply(null,v):h.call(null),s.clearImmediate(g))}),g},s.clearImmediate=typeof a=="function"?a:function(h){delete c[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(i){(function(){function a(u){try{if(!i.localStorage)return!1}catch{return!1}var o=i.localStorage[u];return o!=null&&String(o).toLowerCase()==="true"}n.exports=function(u,o){if(a("noDeprecation"))return u;var l=!1;return function(){if(!l){if(a("throwDeprecation"))throw new Error(o);a("traceDeprecation")?console.trace(o):console.warn(o),l=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var u=function(){};u.prototype=a.prototype,i.prototype=new u,i.prototype.constructor=i}},{}],526:[function(e,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,s){(function(i,a){(function(){var u=/%[sdj%]/g;s.format=function(w){if(!k(w)){for(var _=[],x=0;x<arguments.length;x++)_.push(c(arguments[x]));return _.join(" ")}x=1;for(var S=arguments,C=S.length,q=String(w).replace(u,function($){if($==="%%")return"%";if(x>=C)return $;switch($){case"%s":return String(S[x++]);case"%d":return Number(S[x++]);case"%j":try{return JSON.stringify(S[x++])}catch{return"[Circular]"}default:return $}}),P=S[x];x<C;P=S[++x])m(P)||!j(P)?q+=" "+P:q+=" "+c(P);return q},s.deprecate=function(w,_){if(N(a.process))return function(){return s.deprecate(w,_).apply(this,arguments)};if(i.noDeprecation===!0)return w;var x=!1;return function(){if(!x){if(i.throwDeprecation)throw new Error(_);i.traceDeprecation?console.trace(_):console.error(_),x=!0}return w.apply(this,arguments)}};var o,l={};function c(w,_){var x={seen:[],stylize:f};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),y(_)?x.showHidden=_:_&&s._extend(x,_),N(x.showHidden)&&(x.showHidden=!1),N(x.depth)&&(x.depth=2),N(x.colors)&&(x.colors=!1),N(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=d),h(x,w,x.depth)}function d(w,_){var x=c.styles[_];return x?"\x1B["+c.colors[x][0]+"m"+w+"\x1B["+c.colors[x][1]+"m":w}function f(w,_){return w}function h(w,_,x){if(w.customInspect&&_&&U(_.inspect)&&_.inspect!==s.inspect&&(!_.constructor||_.constructor.prototype!==_)){var S=_.inspect(x,w);return k(S)||(S=h(w,S,x)),S}var C=function(F,D){if(N(D))return F.stylize("undefined","undefined");if(k(D)){var K="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(K,"string")}if(b(D))return F.stylize(""+D,"number");if(y(D))return F.stylize(""+D,"boolean");if(m(D))return F.stylize("null","null")}(w,_);if(C)return C;var q=Object.keys(_),P=function(F){var D={};return F.forEach(function(K,ee){D[K]=!0}),D}(q);if(w.showHidden&&(q=Object.getOwnPropertyNames(_)),M(_)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return g(_);if(q.length===0){if(U(_)){var $=_.name?": "+_.name:"";return w.stylize("[Function"+$+"]","special")}if(B(_))return w.stylize(RegExp.prototype.toString.call(_),"regexp");if(T(_))return w.stylize(Date.prototype.toString.call(_),"date");if(M(_))return g(_)}var X,Z="",V=!1,Q=["{","}"];return p(_)&&(V=!0,Q=["[","]"]),U(_)&&(Z=" [Function"+(_.name?": "+_.name:"")+"]"),B(_)&&(Z=" "+RegExp.prototype.toString.call(_)),T(_)&&(Z=" "+Date.prototype.toUTCString.call(_)),M(_)&&(Z=" "+g(_)),q.length!==0||V&&_.length!=0?x<0?B(_)?w.stylize(RegExp.prototype.toString.call(_),"regexp"):w.stylize("[Object]","special"):(w.seen.push(_),X=V?function(F,D,K,ee,ue){for(var ie=[],ae=0,ce=D.length;ae<ce;++ae)A(D,String(ae))?ie.push(v(F,D,K,ee,String(ae),!0)):ie.push("");return ue.forEach(function(ne){ne.match(/^\d+$/)||ie.push(v(F,D,K,ee,ne,!0))}),ie}(w,_,x,P,q):q.map(function(F){return v(w,_,x,P,F,V)}),w.seen.pop(),function(F,D,K){return F.reduce(function(ee,ue){return ue.indexOf(`
`)>=0,ee+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?K[0]+(D===""?"":D+`
 `)+" "+F.join(`,
  `)+" "+K[1]:K[0]+D+" "+F.join(", ")+" "+K[1]}(X,Z,Q)):Q[0]+Z+Q[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function v(w,_,x,S,C,q){var P,$,X;if((X=Object.getOwnPropertyDescriptor(_,C)||{value:_[C]}).get?$=X.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):X.set&&($=w.stylize("[Setter]","special")),A(S,C)||(P="["+C+"]"),$||(w.seen.indexOf(X.value)<0?($=m(x)?h(w,X.value,null):h(w,X.value,x-1)).indexOf(`
`)>-1&&($=q?$.split(`
`).map(function(Z){return"  "+Z}).join(`
`).substr(2):`
`+$.split(`
`).map(function(Z){return"   "+Z}).join(`
`)):$=w.stylize("[Circular]","special")),N(P)){if(q&&C.match(/^\d+$/))return $;(P=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.substr(1,P.length-2),P=w.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=w.stylize(P,"string"))}return P+": "+$}function p(w){return Array.isArray(w)}function y(w){return typeof w=="boolean"}function m(w){return w===null}function b(w){return typeof w=="number"}function k(w){return typeof w=="string"}function N(w){return w===void 0}function B(w){return j(w)&&O(w)==="[object RegExp]"}function j(w){return typeof w=="object"&&w!==null}function T(w){return j(w)&&O(w)==="[object Date]"}function M(w){return j(w)&&(O(w)==="[object Error]"||w instanceof Error)}function U(w){return typeof w=="function"}function O(w){return Object.prototype.toString.call(w)}function I(w){return w<10?"0"+w.toString(10):w.toString(10)}s.debuglog=function(w){if(N(o)&&(o=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!l[w])if(new RegExp("\\b"+w+"\\b","i").test(o)){var _=i.pid;l[w]=function(){var x=s.format.apply(s,arguments);console.error("%s %d: %s",w,_,x)}}else l[w]=function(){};return l[w]},s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=p,s.isBoolean=y,s.isNull=m,s.isNullOrUndefined=function(w){return w==null},s.isNumber=b,s.isString=k,s.isSymbol=function(w){return typeof w=="symbol"},s.isUndefined=N,s.isRegExp=B,s.isObject=j,s.isDate=T,s.isError=M,s.isFunction=U,s.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},s.isBuffer=e("./support/isBuffer");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var w=new Date,_=[I(w.getHours()),I(w.getMinutes()),I(w.getSeconds())].join(":");return[w.getDate(),E[w.getMonth()],_].join(" ")}function A(w,_){return Object.prototype.hasOwnProperty.call(w,_)}s.log=function(){console.log("%s - %s",R(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(w,_){if(!_||!j(_))return w;for(var x=Object.keys(_),S=x.length;S--;)w[x[S]]=_[x[S]];return w}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return h.default}});var i=g(e("./v1.js")),a=g(e("./v3.js")),u=g(e("./v4.js")),o=g(e("./v5.js")),l=g(e("./nil.js")),c=g(e("./version.js")),d=g(e("./validate.js")),f=g(e("./stringify.js")),h=g(e("./parse.js"));function g(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function i(h){return 14+(h+64>>>9<<4)+1}function a(h,g){const v=(65535&h)+(65535&g);return(h>>16)+(g>>16)+(v>>16)<<16|65535&v}function u(h,g,v,p,y,m){return a((b=a(a(g,h),a(p,m)))<<(k=y)|b>>>32-k,v);var b,k}function o(h,g,v,p,y,m,b){return u(g&v|~g&p,h,g,y,m,b)}function l(h,g,v,p,y,m,b){return u(g&p|v&~p,h,g,y,m,b)}function c(h,g,v,p,y,m,b){return u(g^v^p,h,g,y,m,b)}function d(h,g,v,p,y,m,b){return u(v^(g|~p),h,g,y,m,b)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(h){if(typeof h=="string"){const g=unescape(encodeURIComponent(h));h=new Uint8Array(g.length);for(let v=0;v<g.length;++v)h[v]=g.charCodeAt(v)}return function(g){const v=[],p=32*g.length;for(let y=0;y<p;y+=8){const m=g[y>>5]>>>y%32&255,b=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);v.push(b)}return v}(function(g,v){g[v>>5]|=128<<v%32,g[i(v)-1]=v;let p=1732584193,y=-271733879,m=-1732584194,b=271733878;for(let k=0;k<g.length;k+=16){const N=p,B=y,j=m,T=b;p=o(p,y,m,b,g[k],7,-680876936),b=o(b,p,y,m,g[k+1],12,-389564586),m=o(m,b,p,y,g[k+2],17,606105819),y=o(y,m,b,p,g[k+3],22,-1044525330),p=o(p,y,m,b,g[k+4],7,-176418897),b=o(b,p,y,m,g[k+5],12,1200080426),m=o(m,b,p,y,g[k+6],17,-1473231341),y=o(y,m,b,p,g[k+7],22,-45705983),p=o(p,y,m,b,g[k+8],7,1770035416),b=o(b,p,y,m,g[k+9],12,-1958414417),m=o(m,b,p,y,g[k+10],17,-42063),y=o(y,m,b,p,g[k+11],22,-1990404162),p=o(p,y,m,b,g[k+12],7,1804603682),b=o(b,p,y,m,g[k+13],12,-40341101),m=o(m,b,p,y,g[k+14],17,-1502002290),y=o(y,m,b,p,g[k+15],22,1236535329),p=l(p,y,m,b,g[k+1],5,-165796510),b=l(b,p,y,m,g[k+6],9,-1069501632),m=l(m,b,p,y,g[k+11],14,643717713),y=l(y,m,b,p,g[k],20,-373897302),p=l(p,y,m,b,g[k+5],5,-701558691),b=l(b,p,y,m,g[k+10],9,38016083),m=l(m,b,p,y,g[k+15],14,-660478335),y=l(y,m,b,p,g[k+4],20,-405537848),p=l(p,y,m,b,g[k+9],5,568446438),b=l(b,p,y,m,g[k+14],9,-1019803690),m=l(m,b,p,y,g[k+3],14,-187363961),y=l(y,m,b,p,g[k+8],20,1163531501),p=l(p,y,m,b,g[k+13],5,-1444681467),b=l(b,p,y,m,g[k+2],9,-51403784),m=l(m,b,p,y,g[k+7],14,1735328473),y=l(y,m,b,p,g[k+12],20,-1926607734),p=c(p,y,m,b,g[k+5],4,-378558),b=c(b,p,y,m,g[k+8],11,-2022574463),m=c(m,b,p,y,g[k+11],16,1839030562),y=c(y,m,b,p,g[k+14],23,-35309556),p=c(p,y,m,b,g[k+1],4,-1530992060),b=c(b,p,y,m,g[k+4],11,1272893353),m=c(m,b,p,y,g[k+7],16,-155497632),y=c(y,m,b,p,g[k+10],23,-1094730640),p=c(p,y,m,b,g[k+13],4,681279174),b=c(b,p,y,m,g[k],11,-358537222),m=c(m,b,p,y,g[k+3],16,-722521979),y=c(y,m,b,p,g[k+6],23,76029189),p=c(p,y,m,b,g[k+9],4,-640364487),b=c(b,p,y,m,g[k+12],11,-421815835),m=c(m,b,p,y,g[k+15],16,530742520),y=c(y,m,b,p,g[k+2],23,-995338651),p=d(p,y,m,b,g[k],6,-198630844),b=d(b,p,y,m,g[k+7],10,1126891415),m=d(m,b,p,y,g[k+14],15,-1416354905),y=d(y,m,b,p,g[k+5],21,-57434055),p=d(p,y,m,b,g[k+12],6,1700485571),b=d(b,p,y,m,g[k+3],10,-1894986606),m=d(m,b,p,y,g[k+10],15,-1051523),y=d(y,m,b,p,g[k+1],21,-2054922799),p=d(p,y,m,b,g[k+8],6,1873313359),b=d(b,p,y,m,g[k+15],10,-30611744),m=d(m,b,p,y,g[k+6],15,-1560198380),y=d(y,m,b,p,g[k+13],21,1309151649),p=d(p,y,m,b,g[k+4],6,-145523070),b=d(b,p,y,m,g[k+11],10,-1120210379),m=d(m,b,p,y,g[k+2],15,718787259),y=d(y,m,b,p,g[k+9],21,-343485551),p=a(p,N),y=a(y,B),m=a(m,j),b=a(b,T)}return[p,y,m,b]}(function(g){if(g.length===0)return[];const v=8*g.length,p=new Uint32Array(i(v));for(let y=0;y<v;y+=8)p[y>>5]|=(255&g[y/8])<<y%32;return p}(h),8*h.length))};s.default=f},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(o){if(!(0,a.default)(o))throw TypeError("Invalid UUID");let l;const c=new Uint8Array(16);return c[0]=(l=parseInt(o.slice(0,8),16))>>>24,c[1]=l>>>16&255,c[2]=l>>>8&255,c[3]=255&l,c[4]=(l=parseInt(o.slice(9,13),16))>>>8,c[5]=255&l,c[6]=(l=parseInt(o.slice(14,18),16))>>>8,c[7]=255&l,c[8]=(l=parseInt(o.slice(19,23),16))>>>8,c[9]=255&l,c[10]=(l=parseInt(o.slice(24,36),16))/1099511627776&255,c[11]=l/4294967296&255,c[12]=l>>>24&255,c[13]=l>>>16&255,c[14]=l>>>8&255,c[15]=255&l,c};s.default=u},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,s){function i(o,l,c,d){switch(o){case 0:return l&c^~l&d;case 1:return l^c^d;case 2:return l&c^l&d^c&d;case 3:return l^c^d}}function a(o,l){return o<<l|o>>>32-l}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=function(o){const l=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){const g=unescape(encodeURIComponent(o));o=[];for(let v=0;v<g.length;++v)o.push(g.charCodeAt(v))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const d=o.length/4+2,f=Math.ceil(d/16),h=new Array(f);for(let g=0;g<f;++g){const v=new Uint32Array(16);for(let p=0;p<16;++p)v[p]=o[64*g+4*p]<<24|o[64*g+4*p+1]<<16|o[64*g+4*p+2]<<8|o[64*g+4*p+3];h[g]=v}h[f-1][14]=8*(o.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(o.length-1)&4294967295;for(let g=0;g<f;++g){const v=new Uint32Array(80);for(let N=0;N<16;++N)v[N]=h[g][N];for(let N=16;N<80;++N)v[N]=a(v[N-3]^v[N-8]^v[N-14]^v[N-16],1);let p=c[0],y=c[1],m=c[2],b=c[3],k=c[4];for(let N=0;N<80;++N){const B=Math.floor(N/20),j=a(p,5)+i(B,y,m,b)+k+l[B]+v[N]>>>0;k=b,b=m,m=a(y,30)>>>0,y=p,p=j}c[0]=c[0]+p>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+m>>>0,c[3]=c[3]+b>>>0,c[4]=c[4]+k>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};s.default=u},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const u=[];for(let l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var o=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(u[l[c+0]]+u[l[c+1]]+u[l[c+2]]+u[l[c+3]]+"-"+u[l[c+4]]+u[l[c+5]]+"-"+u[l[c+6]]+u[l[c+7]]+"-"+u[l[c+8]]+u[l[c+9]]+"-"+u[l[c+10]]+u[l[c+11]]+u[l[c+12]]+u[l[c+13]]+u[l[c+14]]+u[l[c+15]]).toLowerCase();if(!(0,a.default)(d))throw TypeError("Stringified UUID is invalid");return d};s.default=o},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./rng.js")),a=u(e("./stringify.js"));function u(h){return h&&h.__esModule?h:{default:h}}let o,l,c=0,d=0;var f=function(h,g,v){let p=g&&v||0;const y=g||new Array(16);let m=(h=h||{}).node||o,b=h.clockseq!==void 0?h.clockseq:l;if(m==null||b==null){const M=h.random||(h.rng||i.default)();m==null&&(m=o=[1|M[0],M[1],M[2],M[3],M[4],M[5]]),b==null&&(b=l=16383&(M[6]<<8|M[7]))}let k=h.msecs!==void 0?h.msecs:Date.now(),N=h.nsecs!==void 0?h.nsecs:d+1;const B=k-c+(N-d)/1e4;if(B<0&&h.clockseq===void 0&&(b=b+1&16383),(B<0||k>c)&&h.nsecs===void 0&&(N=0),N>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=k,d=N,l=b,k+=122192928e5;const j=(1e4*(268435455&k)+N)%4294967296;y[p++]=j>>>24&255,y[p++]=j>>>16&255,y[p++]=j>>>8&255,y[p++]=255&j;const T=k/4294967296*1e4&268435455;y[p++]=T>>>8&255,y[p++]=255&T,y[p++]=T>>>24&15|16,y[p++]=T>>>16&255,y[p++]=b>>>8|128,y[p++]=255&b;for(let M=0;M<6;++M)y[p+M]=m[M];return g||(0,a.default)(y)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./v35.js")),a=u(e("./md5.js"));function u(l){return l&&l.__esModule?l:{default:l}}var o=(0,i.default)("v3",48,a.default);s.default=o},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(c,d,f){function h(g,v,p,y){if(typeof g=="string"&&(g=function(b){b=unescape(encodeURIComponent(b));const k=[];for(let N=0;N<b.length;++N)k.push(b.charCodeAt(N));return k}(g)),typeof v=="string"&&(v=(0,a.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+g.length);if(m.set(v),m.set(g,v.length),m=f(m),m[6]=15&m[6]|d,m[8]=63&m[8]|128,p){y=y||0;for(let b=0;b<16;++b)p[y+b]=m[b];return p}return(0,i.default)(m)}try{h.name=c}catch{}return h.DNS=o,h.URL=l,h},s.URL=s.DNS=void 0;var i=u(e("./stringify.js")),a=u(e("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=o;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./rng.js")),a=u(e("./stringify.js"));function u(l){return l&&l.__esModule?l:{default:l}}var o=function(l,c,d){const f=(l=l||{}).random||(l.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,c){d=d||0;for(let h=0;h<16;++h)c[d+h]=f[h];return c}return(0,a.default)(f)};s.default=o},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=u(e("./v35.js")),a=u(e("./sha1.js"));function u(l){return l&&l.__esModule?l:{default:l}}var o=(0,i.default)("v5",80,a.default);s.default=o},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./regex.js"))&&i.__esModule?i:{default:i},u=function(o){return typeof o=="string"&&a.default.test(o)};s.default=u},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(o){if(!(0,a.default)(o))throw TypeError("Invalid UUID");return parseInt(o.substr(14,1),16)};s.default=u},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})})(R8);var Ej=R8.exports;const hv=l2(Ej);function Aj({isOpen:r,onClose:t,onImport:e}){const[n,s]=Le.useState(null),[i,a]=Le.useState([]),[u,o]=Le.useState(!1),[l,c]=Le.useState(!1),[d,f]=Le.useState(null),h=Le.useRef(null),g=async b=>{o(!0),f(null);try{const k=await b.arrayBuffer(),N=new hv.Workbook;await N.xlsx.load(k);const B=N.worksheets[0];if(!B)throw new Error("No se encontr ninguna hoja en el archivo");const j=[];B.getRow(1).eachCell((M,U)=>{j[U]=String(M.value||"").trim()});const T=[];B.eachRow((M,U)=>{if(U===1)return;const O={};M.eachCell((E,R)=>{const A=j[R];A&&(O[A]=E.value)});const I={codigoSAP:String(O["Cdigo SAP"]||O["CODIGO SAP"]||O.Material||""),textoBreve:String(O["Texto Breve"]||O["TEXTO BREVE"]||O.Descripcin||O.Descripcion||""),codigoBaader:String(O["Cdigo Baader"]||O["CODIGO BAADER"]||O["Cdigo proveedor"]||O["N Parte"]||""),cantidadSolicitada:Number(O.Cantidad||O["Cant."]||O["Cantidad Solicitada"]||0),valorUnitario:Number(O["Valor Unitario"]||O.Precio||O["Valor Unit."]||O.USD||0),cantidadStockBodega:Number(O.Stock||O["Stock Bodega"]||0)};(I.codigoSAP||I.codigoBaader)&&T.push(I)}),a(T),s(b)}catch(k){console.error("Error al parsear Excel:",k),f("Error al leer el archivo Excel. Verifica que el formato sea correcto.")}finally{o(!1)}},v=b=>{var N;const k=(N=b.target.files)==null?void 0:N[0];k&&g(k)},p=b=>{b.preventDefault();const k=b.dataTransfer.files[0];k&&(k.name.endsWith(".xlsx")||k.name.endsWith(".xls"))?g(k):f("Por favor selecciona un archivo Excel (.xlsx o .xls)")},y=async()=>{if(i.length!==0){c(!0);try{await e(i),t(),s(null),a([])}catch{f("Error al importar los datos")}finally{c(!1)}}},m=()=>{s(null),a([]),f(null),h.current&&(h.current.value="")};return H.jsx(Wf,{isOpen:r,onClose:t,title:"Importar Repuestos desde Excel",size:"xl",children:H.jsxs("div",{className:"space-y-6",children:[!n&&H.jsxs("div",{onDrop:p,onDragOver:b=>b.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-500 transition-colors cursor-pointer",onClick:()=>{var b;return(b=h.current)==null?void 0:b.click()},children:[H.jsx("input",{ref:h,type:"file",accept:".xlsx,.xls",onChange:v,className:"hidden"}),u?H.jsx(Wa,{className:"w-12 h-12 mx-auto text-primary-600 animate-spin"}):H.jsxs(H.Fragment,{children:[H.jsx(_p,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),H.jsx("p",{className:"text-gray-600 mb-2",children:"Arrastra tu archivo Excel aqu o haz clic para seleccionar"}),H.jsx("p",{className:"text-sm text-gray-400",children:"Formatos aceptados: .xlsx, .xls"})]})]}),d&&H.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[H.jsx(f8,{className:"w-5 h-5 flex-shrink-0"}),H.jsx("p",{children:d})]}),i.length>0&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[H.jsx(lm,{className:"w-5 h-5"}),H.jsxs("span",{className:"font-medium",children:[i.length," repuestos encontrados"]})]}),H.jsx(ts,{variant:"ghost",size:"sm",onClick:m,children:"Cambiar archivo"})]}),H.jsxs("div",{className:"max-h-64 overflow-auto border border-gray-200 rounded-lg",children:[H.jsxs("table",{className:"w-full text-sm",children:[H.jsx("thead",{className:"bg-gray-50 sticky top-0",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"SAP"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Baader"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Descripcin"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Cant."}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"USD"})]})}),H.jsx("tbody",{children:i.slice(0,20).map((b,k)=>H.jsxs("tr",{className:"border-t border-gray-100",children:[H.jsx("td",{className:"px-3 py-2 font-mono text-xs",children:b.codigoSAP}),H.jsx("td",{className:"px-3 py-2 font-mono text-xs text-primary-600",children:b.codigoBaader}),H.jsx("td",{className:"px-3 py-2 truncate max-w-[200px]",children:b.textoBreve}),H.jsx("td",{className:"px-3 py-2 text-right",children:b.cantidadSolicitada}),H.jsxs("td",{className:"px-3 py-2 text-right",children:["$",b.valorUnitario.toFixed(2)]})]},k))})]}),i.length>20&&H.jsxs("div",{className:"px-3 py-2 text-center text-sm text-gray-500 bg-gray-50 border-t",children:["... y ",i.length-20," ms"]})]}),H.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[H.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Mapeo de columnas detectado:"}),H.jsxs("ul",{className:"text-blue-700 space-y-1",children:[H.jsx("li",{children:' Cdigo SAP: "Cdigo SAP", "Material"'}),H.jsx("li",{children:' Cdigo Baader: "Cdigo Baader", "Cdigo proveedor", "N Parte"'}),H.jsx("li",{children:' Descripcin: "Texto Breve", "Descripcin"'}),H.jsx("li",{children:' Cantidad: "Cantidad", "Cant."'}),H.jsx("li",{children:' Valor: "Valor Unitario", "Precio", "USD"'})]})]})]}),H.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[H.jsx(ts,{variant:"secondary",onClick:t,children:"Cancelar"}),H.jsxs(ts,{onClick:y,disabled:i.length===0,loading:l,icon:H.jsx(cm,{className:"w-4 h-4"}),children:["Importar ",i.length," repuestos"]})]})]})})}const Ww=["Overhaul temporada baja","Urgentes este mes","Crticos","En espera proveedor","Pedido realizado","Stock mnimo"];function Tj({repuestos:r}){const[t,e]=Le.useState(null),[n,s]=Le.useState("valorTotal"),[i,a]=Le.useState("desc"),[u,o]=Le.useState(10),l=Le.useMemo(()=>t?r.filter(m=>{var b;return(b=m.tags)==null?void 0:b.includes(t)}):r,[r,t]),c=Le.useMemo(()=>{const m=l.reduce((I,E)=>I+(E.total||0),0),b=l.reduce((I,E)=>I+(E.cantidadSolicitada||0),0),k=l.reduce((I,E)=>I+(E.cantidadStockBodega||0),0),N=l.length>0?l.reduce((I,E)=>I+(E.valorUnitario||0),0)/l.length:0,B=Math.max(...l.map(I=>I.valorUnitario||0)),j=Math.min(...l.filter(I=>I.valorUnitario>0).map(I=>I.valorUnitario)),T=l.filter(I=>I.cantidadStockBodega>0).length,M=l.filter(I=>I.cantidadStockBodega===0).length,U=l.filter(I=>{var E,R;return(((E=I.imagenesManual)==null?void 0:E.length)||0)>0||(((R=I.fotosReales)==null?void 0:R.length)||0)>0}).length,O=l.filter(I=>{var E;return(((E=I.vinculosManual)==null?void 0:E.length)||0)>0}).length;return{totalSolicitado:m,totalUnidades:b,totalStock:k,promedioValorUnitario:N,maxValorUnitario:B,minValorUnitario:j,conStock:T,sinStock:M,conImagenes:U,conMarcador:O,total:l.length}},[l]),d=Le.useMemo(()=>{const m=new Map;return r.forEach(b=>{(b.tags||[]).forEach(k=>{const N=m.get(k)||{count:0,total:0,unidades:0};m.set(k,{count:N.count+1,total:N.total+(b.total||0),unidades:N.unidades+(b.cantidadSolicitada||0)})})}),Array.from(m.entries()).map(([b,k])=>({tag:b,...k})).sort((b,k)=>k.total-b.total)},[r]),f=Le.useMemo(()=>[...l].sort((b,k)=>{let N=0,B=0;switch(n){case"valorTotal":N=b.total||0,B=k.total||0;break;case"valorUnitario":N=b.valorUnitario||0,B=k.valorUnitario||0;break;case"cantidad":N=b.cantidadSolicitada||0,B=k.cantidadSolicitada||0;break;case"stock":N=b.cantidadStockBodega||0,B=k.cantidadStockBodega||0;break}return i==="desc"?B-N:N-B}).slice(0,u),[l,n,i,u]),h=Le.useMemo(()=>{const m=new Set;return r.forEach(b=>{var k;return(k=b.tags)==null?void 0:k.forEach(N=>m.add(N))}),[...Ww,...Array.from(m).filter(b=>!Ww.includes(b))]},[r]),g=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(m),v=m=>new Intl.NumberFormat("es-CL").format(m),p=(m,b)=>b>0?Math.max(5,m/b*100):0,y=Math.max(...f.map(m=>m.total||0));return H.jsxs("div",{className:"h-full flex flex-col bg-gray-50 overflow-hidden",children:[H.jsx("div",{className:"px-6 py-4 bg-white border-b border-gray-200",children:H.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:H.jsx(u8,{className:"w-6 h-6 text-primary-600"})}),H.jsxs("div",{children:[H.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Estadsticas"}),H.jsx("p",{className:"text-sm text-gray-500",children:t?`Filtrado: ${t}`:"Todos los repuestos"})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(p8,{className:"w-4 h-4 text-gray-400"}),H.jsxs("select",{value:t||"",onChange:m=>e(m.target.value||null),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[H.jsx("option",{value:"",children:"Todos los tags"}),h.map(m=>H.jsx("option",{value:m,children:m},m))]}),t&&H.jsx("button",{onClick:()=>e(null),className:"p-2 text-gray-400 hover:text-gray-600",children:H.jsx(ti,{className:"w-4 h-4"})})]})]})}),H.jsxs("div",{className:"flex-1 overflow-auto p-6 space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[H.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[H.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[H.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:H.jsx(av,{className:"w-5 h-5 text-green-600"})}),H.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Solicitado"})]}),H.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.totalSolicitado)}),H.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"USD"})]}),H.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[H.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[H.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:H.jsx(Zl,{className:"w-5 h-5 text-blue-600"})}),H.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unidades Solicitadas"})]}),H.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(c.totalUnidades)}),H.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.total," tems diferentes"]})]}),H.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[H.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[H.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:H.jsx(lm,{className:"w-5 h-5 text-purple-600"})}),H.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Stock en Bodega"})]}),H.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v(c.totalStock)}),H.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.conStock," tems con stock"]})]}),H.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[H.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[H.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:H.jsx(W1,{className:"w-5 h-5 text-amber-600"})}),H.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Promedio Unitario"})]}),H.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g(c.promedioValorUnitario)}),H.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Rango: ",g(c.minValorUnitario)," - ",g(c.maxValorUnitario)]})]})]}),H.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[H.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:H.jsx(lm,{className:"w-5 h-5 text-green-600"})}),H.jsxs("div",{children:[H.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conStock}),H.jsx("p",{className:"text-xs text-gray-500",children:"Con stock"})]})]}),H.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:H.jsx(f8,{className:"w-5 h-5 text-red-600"})}),H.jsxs("div",{children:[H.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.sinStock}),H.jsx("p",{className:"text-xs text-gray-500",children:"Sin stock"})]})]}),H.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:H.jsx(SR,{className:"w-5 h-5 text-blue-600"})}),H.jsxs("div",{children:[H.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conImagenes}),H.jsx("p",{className:"text-xs text-gray-500",children:"Con imgenes"})]})]}),H.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-100 flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:H.jsx(d8,{className:"w-5 h-5 text-amber-600"})}),H.jsxs("div",{children:[H.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.conMarcador}),H.jsx("p",{className:"text-xs text-gray-500",children:"Marcados en PDF"})]})]})]}),d.length>0&&H.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[H.jsx(Jl,{className:"w-5 h-5 text-primary-600"}),H.jsx("h3",{className:"font-semibold text-gray-800",children:"Distribucin por Tags"})]}),H.jsx("div",{className:"space-y-3",children:d.map(({tag:m,count:b,total:k})=>{var N;return H.jsxs("div",{className:"group",children:[H.jsxs("div",{className:"flex items-center justify-between mb-1",children:[H.jsx("button",{onClick:()=>e(t===m?null:m),className:`text-sm font-medium hover:text-primary-600 transition-colors ${t===m?"text-primary-600":"text-gray-700"}`,children:m}),H.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[H.jsxs("span",{className:"text-gray-500",children:[b," tems"]}),H.jsx("span",{className:"font-semibold text-gray-900",children:g(k)})]})]}),H.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:H.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all group-hover:bg-primary-600",style:{width:`${p(k,((N=d[0])==null?void 0:N.total)||1)}%`}})})]},m)})})]}),H.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:[H.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 mb-4",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(W1,{className:"w-5 h-5 text-primary-600"}),H.jsx("h3",{className:"font-semibold text-gray-800",children:"Top Repuestos"})]}),H.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[H.jsxs("select",{value:n,onChange:m=>s(m.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[H.jsx("option",{value:"valorTotal",children:"Por Valor Total"}),H.jsx("option",{value:"valorUnitario",children:"Por Valor Unitario"}),H.jsx("option",{value:"cantidad",children:"Por Cantidad"}),H.jsx("option",{value:"stock",children:"Por Stock"})]}),H.jsx("button",{onClick:()=>a(i==="desc"?"asc":"desc"),className:`p-2 rounded-lg border border-gray-300 hover:bg-gray-50 ${i==="desc"?"text-primary-600":"text-gray-400"}`,title:i==="desc"?"Mayor a menor":"Menor a mayor",children:H.jsx(l8,{className:"w-4 h-4"})}),H.jsxs("select",{value:u,onChange:m=>o(Number(m.target.value)),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[H.jsx("option",{value:5,children:"Top 5"}),H.jsx("option",{value:10,children:"Top 10"}),H.jsx("option",{value:20,children:"Top 20"}),H.jsx("option",{value:50,children:"Top 50"}),H.jsx("option",{value:9999,children:"Todos"})]})]})]}),H.jsx("div",{className:"space-y-3",children:f.map((m,b)=>{const k=n==="valorTotal"?m.total:n==="valorUnitario"?m.valorUnitario:n==="cantidad"?m.cantidadSolicitada:m.cantidadStockBodega;return H.jsxs("div",{className:"group",children:[H.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[H.jsx("span",{className:`
                      w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                      ${b<3?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-500"}
                    `,children:b+1}),H.jsx("div",{className:"flex-1 min-w-0",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:m.codigoSAP}),H.jsx("span",{className:"text-sm text-gray-800 truncate",children:m.descripcion||m.textoBreve})]})}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-sm font-bold text-gray-900",children:n==="cantidad"||n==="stock"?v(k||0):g(k||0)}),H.jsxs("p",{className:"text-xs text-gray-400",children:[n==="valorTotal"&&`${m.cantidadSolicitada} unid.`,n==="valorUnitario"&&`Total: ${g(m.total||0)}`,n==="cantidad"&&g(m.total||0),n==="stock"&&`Solicitado: ${m.cantidadSolicitada}`]})]})]}),H.jsx("div",{className:"ml-9 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:H.jsx("div",{className:`h-full rounded-full transition-all ${b===0?"bg-primary-600":b===1?"bg-primary-500":b===2?"bg-primary-400":"bg-primary-300"}`,style:{width:`${p(k||0,y)}%`}})})]},m.id)})})]}),H.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-xl p-6 text-white",children:[H.jsx("h3",{className:"text-lg font-semibold mb-4",children:" Resumen Rpido"}),H.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-primary-200",children:"Inversin total en repuestos"}),H.jsx("p",{className:"text-2xl font-bold",children:g(c.totalSolicitado)})]}),H.jsxs("div",{children:[H.jsx("p",{className:"text-primary-200",children:"Repuesto ms costoso (unit.)"}),H.jsx("p",{className:"text-2xl font-bold",children:g(c.maxValorUnitario)})]}),H.jsxs("div",{children:[H.jsx("p",{className:"text-primary-200",children:"Cobertura de stock"}),H.jsxs("p",{className:"text-2xl font-bold",children:[c.total>0?Math.round(c.conStock/c.total*100):0,"%"]})]})]})]})]})]})}var M8={exports:{}};(function(r,t){(function(e,n){n()})(dr,function(){function e(l,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function n(l,c,d){var f=new XMLHttpRequest;f.open("GET",l),f.responseType="blob",f.onload=function(){o(f.response,c,d)},f.onerror=function(){console.error("could not download file")},f.send()}function s(l){var c=new XMLHttpRequest;c.open("HEAD",l,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(c)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof dr=="object"&&dr.global===dr?dr:void 0,u=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(l,c,d){var f=a.URL||a.webkitURL,h=document.createElement("a");c=c||l.name||"download",h.download=c,h.rel="noopener",typeof l=="string"?(h.href=l,h.origin===location.origin?i(h):s(h.href)?n(l,c,d):i(h,h.target="_blank")):(h.href=f.createObjectURL(l),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(l,c,d){if(c=c||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,d),c);else if(s(l))n(l,c,d);else{var f=document.createElement("a");f.href=l,f.target="_blank",setTimeout(function(){i(f)})}}:function(l,c,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof l=="string")return n(l,c,d);var h=l.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||h&&g||u)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var b=p.result;b=v?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=b:location=b,f=null},p.readAsDataURL(l)}else{var y=a.URL||a.webkitURL,m=y.createObjectURL(l);f?f.location=m:location.href=m,f=null,setTimeout(function(){y.revokeObjectURL(m)},4e4)}});a.saveAs=o.saveAs=o,r.exports=o})})(M8);var j8=M8.exports;function qr(r){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(r)}var bi=Uint8Array,ss=Uint16Array,fv=Int32Array,Zm=new bi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jm=new bi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q1=new bi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L8=function(r,t){for(var e=new ss(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var s=new fv(e[30]),n=1;n<30;++n)for(var i=e[n];i<e[n+1];++i)s[i]=i-e[n]<<5|n;return{b:e,r:s}},O8=L8(Zm,2),D8=O8.b,Z1=O8.r;D8[28]=258,Z1[258]=28;var F8=L8(Jm,0),Cj=F8.b,Xw=F8.r,J1=new ss(32768);for(var sn=0;sn<32768;++sn){var No=(sn&43690)>>1|(sn&21845)<<1;No=(No&52428)>>2|(No&13107)<<2,No=(No&61680)>>4|(No&3855)<<4,J1[sn]=((No&65280)>>8|(No&255)<<8)>>1}var _a=function(r,t,e){for(var n=r.length,s=0,i=new ss(t);s<n;++s)r[s]&&++i[r[s]-1];var a=new ss(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var u;if(e){u=new ss(1<<t);var o=15-t;for(s=0;s<n;++s)if(r[s])for(var l=s<<4|r[s],c=t-r[s],d=a[r[s]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)u[J1[d]>>o]=l}else for(u=new ss(n),s=0;s<n;++s)r[s]&&(u[s]=J1[a[r[s]-1]++]>>15-r[s]);return u},gl=new bi(288);for(var sn=0;sn<144;++sn)gl[sn]=8;for(var sn=144;sn<256;++sn)gl[sn]=9;for(var sn=256;sn<280;++sn)gl[sn]=7;for(var sn=280;sn<288;++sn)gl[sn]=8;var kf=new bi(32);for(var sn=0;sn<32;++sn)kf[sn]=5;var Nj=_a(gl,9,0),Pj=_a(gl,9,1),Ij=_a(kf,5,0),Rj=_a(kf,5,1),pg=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},Bs=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},mg=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},dv=function(r){return(r+7)/8|0},B8=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new bi(r.subarray(t,e))},Mj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vs=function(r,t,e){var n=new Error(t||Mj[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Vs),!e)throw n;return n},jj=function(r,t,e,n){var s=r.length,i=0;if(!s||t.f&&!t.l)return e||new bi(0);var a=!e,u=a||t.i!=2,o=t.i;a&&(e=new bi(s*3));var l=function(ee){var ue=e.length;if(ee>ue){var ie=new bi(Math.max(ue*2,ee));ie.set(e),e=ie}},c=t.f||0,d=t.p||0,f=t.b||0,h=t.l,g=t.d,v=t.m,p=t.n,y=s*8;do{if(!h){c=Bs(r,d,1);var m=Bs(r,d+1,3);if(d+=3,m)if(m==1)h=Pj,g=Rj,v=9,p=5;else if(m==2){var B=Bs(r,d,31)+257,j=Bs(r,d+10,15)+4,T=B+Bs(r,d+5,31)+1;d+=14;for(var M=new bi(T),U=new bi(19),O=0;O<j;++O)U[Q1[O]]=Bs(r,d+O*3,7);d+=j*3;for(var I=pg(U),E=(1<<I)-1,R=_a(U,I,1),O=0;O<T;){var A=R[Bs(r,d,E)];d+=A&15;var b=A>>4;if(b<16)M[O++]=b;else{var w=0,_=0;for(b==16?(_=3+Bs(r,d,3),d+=2,w=M[O-1]):b==17?(_=3+Bs(r,d,7),d+=3):b==18&&(_=11+Bs(r,d,127),d+=7);_--;)M[O++]=w}}var x=M.subarray(0,B),S=M.subarray(B);v=pg(x),p=pg(S),h=_a(x,v,1),g=_a(S,p,1)}else Vs(1);else{var b=dv(d)+4,k=r[b-4]|r[b-3]<<8,N=b+k;if(N>s){o&&Vs(0);break}u&&l(f+k),e.set(r.subarray(b,N),f),t.b=f+=k,t.p=d=N*8,t.f=c;continue}if(d>y){o&&Vs(0);break}}u&&l(f+131072);for(var C=(1<<v)-1,q=(1<<p)-1,P=d;;P=d){var w=h[mg(r,d)&C],$=w>>4;if(d+=w&15,d>y){o&&Vs(0);break}if(w||Vs(2),$<256)e[f++]=$;else if($==256){P=d,h=null;break}else{var X=$-254;if($>264){var O=$-257,Z=Zm[O];X=Bs(r,d,(1<<Z)-1)+D8[O],d+=Z}var V=g[mg(r,d)&q],Q=V>>4;V||Vs(3),d+=V&15;var S=Cj[Q];if(Q>3){var Z=Jm[Q];S+=mg(r,d)&(1<<Z)-1,d+=Z}if(d>y){o&&Vs(0);break}u&&l(f+131072);var F=f+X;if(f<S){var D=i-S,K=Math.min(S,F);for(D+f<0&&Vs(3);f<K;++f)e[f]=n[D+f]}for(;f<F;++f)e[f]=e[f-S]}}t.l=h,t.p=P,t.b=f,t.f=c,h&&(c=1,t.m=v,t.d=g,t.n=p)}while(!c);return f!=e.length&&a?B8(e,0,f):e.subarray(0,f)},Oa=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},mh=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},gg=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var s=e.length,i=e.slice();if(!s)return{t:z8,l:0};if(s==1){var a=new bi(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function(N,B){return N.f-B.f}),e.push({s:-1,f:25001});var u=e[0],o=e[1],l=0,c=1,d=2;for(e[0]={s:-1,f:u.f+o.f,l:u,r:o};c!=s-1;)u=e[e[l].f<e[d].f?l++:d++],o=e[l!=c&&e[l].f<e[d].f?l++:d++],e[c++]={s:-1,f:u.f+o.f,l:u,r:o};for(var f=i[0].s,n=1;n<s;++n)i[n].s>f&&(f=i[n].s);var h=new ss(f+1),g=e2(e[c-1],h,0);if(g>t){var n=0,v=0,p=g-t,y=1<<p;for(i.sort(function(B,j){return h[j.s]-h[B.s]||B.f-j.f});n<s;++n){var m=i[n].s;if(h[m]>t)v+=y-(1<<g-h[m]),h[m]=t;else break}for(v>>=p;v>0;){var b=i[n].s;h[b]<t?v-=1<<t-h[b]++-1:++n}for(;n>=0&&v;--n){var k=i[n].s;h[k]==t&&(--h[k],++v)}g=t}return{t:new bi(h),l:g}},e2=function(r,t,e){return r.s==-1?Math.max(e2(r.l,t,e+1),e2(r.r,t,e+1)):t[r.s]=e},Kw=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new ss(++t),n=0,s=r[0],i=1,a=function(o){e[n++]=o},u=1;u<=t;++u)if(r[u]==s&&u!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=r[u]}return{c:e.subarray(0,n),n:t}},gh=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},U8=function(r,t,e){var n=e.length,s=dv(t+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=e[i];return(s+4+n)*8},Gw=function(r,t,e,n,s,i,a,u,o,l,c){Oa(t,c++,e),++s[256];for(var d=gg(s,15),f=d.t,h=d.l,g=gg(i,15),v=g.t,p=g.l,y=Kw(f),m=y.c,b=y.n,k=Kw(v),N=k.c,B=k.n,j=new ss(19),T=0;T<m.length;++T)++j[m[T]&31];for(var T=0;T<N.length;++T)++j[N[T]&31];for(var M=gg(j,7),U=M.t,O=M.l,I=19;I>4&&!U[Q1[I-1]];--I);var E=l+5<<3,R=gh(s,gl)+gh(i,kf)+a,A=gh(s,f)+gh(i,v)+a+14+3*I+gh(j,U)+2*j[16]+3*j[17]+7*j[18];if(o>=0&&E<=R&&E<=A)return U8(t,c,r.subarray(o,o+l));var w,_,x,S;if(Oa(t,c,1+(A<R)),c+=2,A<R){w=_a(f,h,0),_=f,x=_a(v,p,0),S=v;var C=_a(U,O,0);Oa(t,c,b-257),Oa(t,c+5,B-1),Oa(t,c+10,I-4),c+=14;for(var T=0;T<I;++T)Oa(t,c+3*T,U[Q1[T]]);c+=3*I;for(var q=[m,N],P=0;P<2;++P)for(var $=q[P],T=0;T<$.length;++T){var X=$[T]&31;Oa(t,c,C[X]),c+=U[X],X>15&&(Oa(t,c,$[T]>>5&127),c+=$[T]>>12)}}else w=Nj,_=gl,x=Ij,S=kf;for(var T=0;T<u;++T){var Z=n[T];if(Z>255){var X=Z>>18&31;mh(t,c,w[X+257]),c+=_[X+257],X>7&&(Oa(t,c,Z>>23&31),c+=Zm[X]);var V=Z&31;mh(t,c,x[V]),c+=S[V],V>3&&(mh(t,c,Z>>5&8191),c+=Jm[V])}else mh(t,c,w[Z]),c+=_[Z]}return mh(t,c,w[256]),c+_[256]},Lj=new fv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z8=new bi(0),Oj=function(r,t,e,n,s,i){var a=i.z||r.length,u=new bi(n+a+5*(1+Math.ceil(a/7e3))+s),o=u.subarray(n,u.length-s),l=i.l,c=(i.r||0)&7;if(t){c&&(o[0]=i.r>>3);for(var d=Lj[t-1],f=d>>13,h=d&8191,g=(1<<e)-1,v=i.p||new ss(32768),p=i.h||new ss(g+1),y=Math.ceil(e/3),m=2*y,b=function(ae){return(r[ae]^r[ae+1]<<y^r[ae+2]<<m)&g},k=new fv(25e3),N=new ss(288),B=new ss(32),j=0,T=0,M=i.i||0,U=0,O=i.w||0,I=0;M+2<a;++M){var E=b(M),R=M&32767,A=p[E];if(v[R]=A,p[E]=R,O<=M){var w=a-M;if((j>7e3||U>24576)&&(w>423||!l)){c=Gw(r,o,0,k,N,B,T,U,I,M-I,c),U=j=T=0,I=M;for(var _=0;_<286;++_)N[_]=0;for(var _=0;_<30;++_)B[_]=0}var x=2,S=0,C=h,q=R-A&32767;if(w>2&&E==b(M-q))for(var P=Math.min(f,w)-1,$=Math.min(32767,M),X=Math.min(258,w);q<=$&&--C&&R!=A;){if(r[M+x]==r[M+x-q]){for(var Z=0;Z<X&&r[M+Z]==r[M+Z-q];++Z);if(Z>x){if(x=Z,S=q,Z>P)break;for(var V=Math.min(q,Z-2),Q=0,_=0;_<V;++_){var F=M-q+_&32767,D=v[F],K=F-D&32767;K>Q&&(Q=K,A=F)}}}R=A,A=v[R],q+=R-A&32767}if(S){k[U++]=268435456|Z1[x]<<18|Xw[S];var ee=Z1[x]&31,ue=Xw[S]&31;T+=Zm[ee]+Jm[ue],++N[257+ee],++B[ue],O=M+x,++j}else k[U++]=r[M],++N[r[M]]}}for(M=Math.max(M,O);M<a;++M)k[U++]=r[M],++N[r[M]];c=Gw(r,o,l,k,N,B,T,U,I,M-I,c),l||(i.r=c&7|o[c/8|0]<<3,c-=7,i.h=p,i.p=v,i.i=M,i.w=O)}else{for(var M=i.w||0;M<a+l;M+=65535){var ie=M+65535;ie>=a&&(o[c/8|0]=l,ie=a),c=U8(o,c+1,r.subarray(M,ie))}i.i=a}return B8(u,0,n+dv(c)+s)},V8=function(){var r=1,t=0;return{p:function(e){for(var n=r,s=t,i=e.length|0,a=0;a!=i;){for(var u=Math.min(a+2655,i);a<u;++a)s+=n+=e[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,t=s},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},Dj=function(r,t,e,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new bi(i.length+r.length);a.set(i),a.set(r,i.length),r=a,s.w=i.length}return Oj(r,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,s)},q8=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},Fj=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var s=V8();s.p(t.dictionary),q8(r,2,s.d())}},Bj=function(r,t){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Vs(6,"invalid zlib data"),(r[1]>>5&1)==1&&Vs(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function t2(r,t){t||(t={});var e=V8();e.p(r);var n=Dj(r,t,t.dictionary?6:2,4);return Fj(n,t),q8(n,n.length-4,e.d()),n}function Uj(r,t){return jj(r.subarray(Bj(r),-4),{i:2},t,t)}var zj=typeof TextDecoder<"u"&&new TextDecoder,Vj=0;try{zj.decode(z8,{stream:!0}),Vj=1}catch{}var ir=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yg(){ir.console&&typeof ir.console.log=="function"&&ir.console.log.apply(ir.console,arguments)}var Gr={log:yg,warn:function(r){ir.console&&(typeof ir.console.warn=="function"?ir.console.warn.apply(ir.console,arguments):yg.call(null,arguments))},error:function(r){ir.console&&(typeof ir.console.error=="function"?ir.console.error.apply(ir.console,arguments):yg(r))}};function vg(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Vl(n.response,t,e)},n.onerror=function(){Gr.error("could not download file")},n.send()}function Yw(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var Vh,r2,Vl=ir.saveAs||((typeof window>"u"?"undefined":qr(window))!=="object"||window!==ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=ir.URL||ir.webkitURL,s=document.createElement("a");t=t||r.name||"download",s.download=t,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?Yw(s.href)?vg(r,t,e):Yd(s,s.target="_blank"):Yd(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Yd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(Yw(r))vg(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Yd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:qr(i)!=="object"&&(Gr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return vg(r,t,e);var s=r.type==="application/octet-stream",i=/constructor/i.test(ir.HTMLElement)||ir.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":qr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var c=u.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},u.readAsDataURL(r)}else{var o=ir.URL||ir.webkitURL,l=o.createObjectURL(r);n?n.location=l:location.href=l,n=null,setTimeout(function(){o.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function H8(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<e.length;n++){var s=e[n].re,i=e[n].process,a=s.exec(r);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),o=this.g.toString(16),l=this.b.toString(16);return u.length==1&&(u="0"+u),o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),"#"+u+o+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bg(r,t){var e=r[0],n=r[1],s=r[2],i=r[3];e=hi(e,n,s,i,t[0],7,-680876936),i=hi(i,e,n,s,t[1],12,-389564586),s=hi(s,i,e,n,t[2],17,606105819),n=hi(n,s,i,e,t[3],22,-1044525330),e=hi(e,n,s,i,t[4],7,-176418897),i=hi(i,e,n,s,t[5],12,1200080426),s=hi(s,i,e,n,t[6],17,-1473231341),n=hi(n,s,i,e,t[7],22,-45705983),e=hi(e,n,s,i,t[8],7,1770035416),i=hi(i,e,n,s,t[9],12,-1958414417),s=hi(s,i,e,n,t[10],17,-42063),n=hi(n,s,i,e,t[11],22,-1990404162),e=hi(e,n,s,i,t[12],7,1804603682),i=hi(i,e,n,s,t[13],12,-40341101),s=hi(s,i,e,n,t[14],17,-1502002290),e=fi(e,n=hi(n,s,i,e,t[15],22,1236535329),s,i,t[1],5,-165796510),i=fi(i,e,n,s,t[6],9,-1069501632),s=fi(s,i,e,n,t[11],14,643717713),n=fi(n,s,i,e,t[0],20,-373897302),e=fi(e,n,s,i,t[5],5,-701558691),i=fi(i,e,n,s,t[10],9,38016083),s=fi(s,i,e,n,t[15],14,-660478335),n=fi(n,s,i,e,t[4],20,-405537848),e=fi(e,n,s,i,t[9],5,568446438),i=fi(i,e,n,s,t[14],9,-1019803690),s=fi(s,i,e,n,t[3],14,-187363961),n=fi(n,s,i,e,t[8],20,1163531501),e=fi(e,n,s,i,t[13],5,-1444681467),i=fi(i,e,n,s,t[2],9,-51403784),s=fi(s,i,e,n,t[7],14,1735328473),e=di(e,n=fi(n,s,i,e,t[12],20,-1926607734),s,i,t[5],4,-378558),i=di(i,e,n,s,t[8],11,-2022574463),s=di(s,i,e,n,t[11],16,1839030562),n=di(n,s,i,e,t[14],23,-35309556),e=di(e,n,s,i,t[1],4,-1530992060),i=di(i,e,n,s,t[4],11,1272893353),s=di(s,i,e,n,t[7],16,-155497632),n=di(n,s,i,e,t[10],23,-1094730640),e=di(e,n,s,i,t[13],4,681279174),i=di(i,e,n,s,t[0],11,-358537222),s=di(s,i,e,n,t[3],16,-722521979),n=di(n,s,i,e,t[6],23,76029189),e=di(e,n,s,i,t[9],4,-640364487),i=di(i,e,n,s,t[12],11,-421815835),s=di(s,i,e,n,t[15],16,530742520),e=pi(e,n=di(n,s,i,e,t[2],23,-995338651),s,i,t[0],6,-198630844),i=pi(i,e,n,s,t[7],10,1126891415),s=pi(s,i,e,n,t[14],15,-1416354905),n=pi(n,s,i,e,t[5],21,-57434055),e=pi(e,n,s,i,t[12],6,1700485571),i=pi(i,e,n,s,t[3],10,-1894986606),s=pi(s,i,e,n,t[10],15,-1051523),n=pi(n,s,i,e,t[1],21,-2054922799),e=pi(e,n,s,i,t[8],6,1873313359),i=pi(i,e,n,s,t[15],10,-30611744),s=pi(s,i,e,n,t[6],15,-1560198380),n=pi(n,s,i,e,t[13],21,1309151649),e=pi(e,n,s,i,t[4],6,-145523070),i=pi(i,e,n,s,t[11],10,-1120210379),s=pi(s,i,e,n,t[2],15,718787259),n=pi(n,s,i,e,t[9],21,-343485551),r[0]=Wo(e,r[0]),r[1]=Wo(n,r[1]),r[2]=Wo(s,r[2]),r[3]=Wo(i,r[3])}function e0(r,t,e,n,s,i){return t=Wo(Wo(t,r),Wo(n,i)),Wo(t<<s|t>>>32-s,e)}function hi(r,t,e,n,s,i,a){return e0(t&e|~t&n,r,t,s,i,a)}function fi(r,t,e,n,s,i,a){return e0(t&n|e&~n,r,t,s,i,a)}function di(r,t,e,n,s,i,a){return e0(t^e^n,r,t,s,i,a)}function pi(r,t,e,n,s,i,a){return e0(e^(t|~n),r,t,s,i,a)}function $8(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)bg(n,qj(r.substring(t-64,t)));r=r.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(bg(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,bg(n,s),n}function qj(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}Vh=ir.atob.bind(ir),r2=ir.btoa.bind(ir);var Qw="0123456789abcdef".split("");function Hj(r){for(var t="",e=0;e<4;e++)t+=Qw[r>>8*e+4&15]+Qw[r>>8*e&15];return t}function $j(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function n2(r){return $8(r).map($j).join("")}var Wj=function(r){for(var t=0;t<r.length;t++)r[t]=Hj(r[t]);return r.join("")}($8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wo(r,t){if(Wj){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function i2(r,t){var e,n,s,i;if(r!==e){for(var a=(s=r,i=1+(256/r.length>>0),new Array(i+1).join(s)),u=[],o=0;o<256;o++)u[o]=o;var l=0;for(o=0;o<256;o++){var c=u[o];l=(l+c+a.charCodeAt(o))%256,u[o]=u[l],u[l]=c}e=r,n=u}else u=n;var d=t.length,f=0,h=0,g="";for(o=0;o<d;o++)h=(h+(c=u[f=(f+1)%256]))%256,u[f]=u[h],u[h]=c,a=u[(u[f]+u[h])%256],g+=String.fromCharCode(t.charCodeAt(o)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zw={print:4,modify:8,copy:16,"annot-forms":32};function Gu(r,t,e,n){this.v=1,this.r=2;var s=192;r.forEach(function(u){if(Zw.perm!==void 0)throw new Error("Invalid permission: "+u);s+=Zw[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=n2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=i2(this.encryptionKey,this.padding)}function Yu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=r[n]}return t}function Jw(r){if(qr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,s){if(s=s||!1,typeof e!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!s],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[e]){var a=t[e][i];try{a[0].apply(r,n)}catch(u){ir.console&&Gr.error("jsPDF PubSub Error",u.message,u)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ef(r){if(!(this instanceof Ef))return new Ef(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function W8(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function Vo(r,t,e,n,s){if(!(this instanceof Vo))return new Vo(r,t,e,n,s);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,W8.call(this,n,s)}function Xl(r,t,e,n,s){if(!(this instanceof Xl))return new Xl(r,t,e,n,s);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,W8.call(this,n,s)}function Jt(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],u=1,o=16,l="S",c=null;qr(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(o=r.floatPrecision),l=r.defaultPathOperation||"S"),a=r.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",e=(""+(e||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=Jw;var g="1.3",v=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(G){g=G};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var y=h.__private__.getPageFormat=function(G){return p[G]};s=s||"a4";var m={COMPAT:"compat",ADVANCED:"advanced"},b=m.COMPAT;function k(){this.saveGraphicsState(),ne(new ut(Te,0,0,-Te,0,oi()*Te).toString()+" cm"),this.setFontSize(this.getFontSize()/Te),l="n",b=m.ADVANCED}function N(){this.restoreGraphicsState(),l="S",b=m.COMPAT}var B=h.__private__.combineFontStyleAndFontWeight=function(G,oe){if(G=="bold"&&oe=="normal"||G=="bold"&&oe==400||G=="normal"&&oe=="italic"||G=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(G=oe==400||oe==="normal"?G==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||G!=="normal"?(oe==700?"bold":oe)+""+G:"bold"),G};h.advancedAPI=function(G){var oe=b===m.COMPAT;return oe&&k.call(this),typeof G!="function"||(G(this),oe&&N.call(this)),this},h.compatAPI=function(G){var oe=b===m.ADVANCED;return oe&&N.call(this),typeof G!="function"||(G(this),oe&&k.call(this)),this},h.isAdvancedAPI=function(){return b===m.ADVANCED};var j,T=function(G){if(b!==m.ADVANCED)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=h.roundToPrecision=h.__private__.roundToPrecision=function(G,oe){var Se=t||oe;if(isNaN(G)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Se).replace(/0+$/,"")};j=h.hpf=h.__private__.hpf=typeof o=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return M(G,o)}:o==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return M(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return M(G,16)};var U=h.f2=h.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return M(G,2)},O=h.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return M(G,3)},I=h.scale=h.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return b===m.COMPAT?G*Te:b===m.ADVANCED?G:void 0},E=function(G){return b===m.COMPAT?oi()-G:b===m.ADVANCED?G:void 0},R=function(G){return I(E(G))};h.__private__.setPrecision=h.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(t=parseInt(G,10))};var A,w="00000000000000000000000000000000",_=h.__private__.getFileId=function(){return w},x=h.__private__.setFileId=function(G){return w=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Ur=new Gu(c.userPermissions,c.userPassword,c.ownerPassword,w)),w};h.setFileId=function(G){return x(G),this},h.getFileId=function(){return _()};var S=h.__private__.convertDateToPDFDate=function(G){var oe=G.getTimezoneOffset(),Se=oe<0?"+":"-",Ae=Math.floor(Math.abs(oe/60)),De=Math.abs(oe%60),Ye=[Se,X(Ae),"'",X(De),"'"].join("");return["D:",G.getFullYear(),X(G.getMonth()+1),X(G.getDate()),X(G.getHours()),X(G.getMinutes()),X(G.getSeconds()),Ye].join("")},C=h.__private__.convertPDFDateToDate=function(G){var oe=parseInt(G.substr(2,4),10),Se=parseInt(G.substr(6,2),10)-1,Ae=parseInt(G.substr(8,2),10),De=parseInt(G.substr(10,2),10),Ye=parseInt(G.substr(12,2),10),lt=parseInt(G.substr(14,2),10);return new Date(oe,Se,Ae,De,Ye,lt,0)},q=h.__private__.setCreationDate=function(G){var oe;if(G===void 0&&(G=new Date),G instanceof Date)oe=S(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=G}return A=oe},P=h.__private__.getCreationDate=function(G){var oe=A;return G==="jsDate"&&(oe=C(A)),oe};h.setCreationDate=function(G){return q(G),this},h.getCreationDate=function(G){return P(G)};var $,X=h.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},Z=h.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},V=0,Q=[],F=[],D=0,K=[],ee=[],ue=!1,ie=F,ae=function(){V=0,D=0,F=[],Q=[],K=[],pt=We(),Pt=We()};h.__private__.setCustomOutputDestination=function(G){ue=!0,ie=G};var ce=function(G){ue||(ie=G)};h.__private__.resetCustomOutputDestination=function(){ue=!1,ie=F};var ne=h.__private__.out=function(G){return G=G.toString(),D+=G.length+1,ie.push(G),ie},se=h.__private__.write=function(G){return ne(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},ye=h.__private__.getArrayBuffer=function(G){for(var oe=G.length,Se=new ArrayBuffer(oe),Ae=new Uint8Array(Se);oe--;)Ae[oe]=G.charCodeAt(oe);return Se},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return me};var _e=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(G){return _e=b===m.ADVANCED?G/Te:G,this};var xe,ke=h.__private__.getFontSize=h.getFontSize=function(){return b===m.COMPAT?_e:_e*Te},Ce=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(G){return Ce=G,this},h.__private__.getR2L=h.getR2L=function(){return Ce};var Oe,Ue=h.__private__.setZoomMode=function(G){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))xe=G;else if(isNaN(G)){if(oe.indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');xe=G}else xe=parseInt(G,10)};h.__private__.getZoomMode=function(){return xe};var ve,Be=h.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');Oe=G};h.__private__.getPageMode=function(){return Oe};var $e=h.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');ve=G};h.__private__.getLayoutMode=function(){return ve},h.__private__.setDisplayMode=h.setDisplayMode=function(G,oe,Se){return Ue(G),$e(oe),Be(Se),this};var He={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(G){if(Object.keys(He).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return He[G]},h.__private__.getDocumentProperties=function(){return He},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(G){for(var oe in He)He.hasOwnProperty(oe)&&G[oe]&&(He[oe]=G[oe]);return this},h.__private__.setDocumentProperty=function(G,oe){if(Object.keys(He).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return He[G]=oe};var Xe,Te,ht,Ze,st,it={},yt={},vt=[],kt={},or={},wt={},Gt={},Yt=null,At=0,_t=[],Mt=new Jw(h),Ot=r.hotfixes||[],Wt={},tr={},jt=[],ut=function G(oe,Se,Ae,De,Ye,lt){if(!(this instanceof G))return new G(oe,Se,Ae,De,Ye,lt);isNaN(oe)&&(oe=1),isNaN(Se)&&(Se=0),isNaN(Ae)&&(Ae=0),isNaN(De)&&(De=1),isNaN(Ye)&&(Ye=0),isNaN(lt)&&(lt=0),this._matrix=[oe,Se,Ae,De,Ye,lt]};Object.defineProperty(ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ut.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(G)},ut.prototype.multiply=function(G){var oe=G.sx*this.sx+G.shy*this.shx,Se=G.sx*this.shy+G.shy*this.sy,Ae=G.shx*this.sx+G.sy*this.shx,De=G.shx*this.shy+G.sy*this.sy,Ye=G.tx*this.sx+G.ty*this.shx+this.tx,lt=G.tx*this.shy+G.ty*this.sy+this.ty;return new ut(oe,Se,Ae,De,Ye,lt)},ut.prototype.decompose=function(){var G=this.sx,oe=this.shy,Se=this.shx,Ae=this.sy,De=this.tx,Ye=this.ty,lt=Math.sqrt(G*G+oe*oe),St=(G/=lt)*Se+(oe/=lt)*Ae;Se-=G*St,Ae-=oe*St;var z=Math.sqrt(Se*Se+Ae*Ae);return St/=z,G*(Ae/=z)<oe*(Se/=z)&&(G=-G,oe=-oe,St=-St,lt=-lt),{scale:new ut(lt,0,0,z,0,0),translate:new ut(1,0,0,1,De,Ye),rotate:new ut(G,oe,-oe,G,0,0),skew:new ut(1,0,St,1,0,0)}},ut.prototype.toString=function(G){return this.join(" ")},ut.prototype.inversed=function(){var G=this.sx,oe=this.shy,Se=this.shx,Ae=this.sy,De=this.tx,Ye=this.ty,lt=1/(G*Ae-oe*Se),St=Ae*lt,z=-oe*lt,J=-Se*lt,re=G*lt;return new ut(St,z,J,re,-St*De-J*Ye,-z*De-re*Ye)},ut.prototype.applyToPoint=function(G){var oe=G.x*this.sx+G.y*this.shx+this.tx,Se=G.x*this.shy+G.y*this.sy+this.ty;return new Ta(oe,Se)},ut.prototype.applyToRectangle=function(G){var oe=this.applyToPoint(G),Se=this.applyToPoint(new Ta(G.x+G.w,G.y+G.h));return new ho(oe.x,oe.y,Se.x-oe.x,Se.y-oe.y)},ut.prototype.clone=function(){var G=this.sx,oe=this.shy,Se=this.shx,Ae=this.sy,De=this.tx,Ye=this.ty;return new ut(G,oe,Se,Ae,De,Ye)},h.Matrix=ut;var ur=h.matrixMult=function(G,oe){return oe.multiply(G)},Bt=new ut(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Bt;var Ee=function(G,oe){if(!or[G]){var Se=(oe instanceof Vo?"Sh":"P")+(Object.keys(kt).length+1).toString(10);oe.id=Se,or[G]=Se,kt[Se]=oe,Mt.publish("addPattern",oe)}};h.ShadingPattern=Vo,h.TilingPattern=Xl,h.addShadingPattern=function(G,oe){return T("addShadingPattern()"),Ee(G,oe),this},h.beginTilingPattern=function(G){T("beginTilingPattern()"),fo(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},h.endTilingPattern=function(G,oe){T("endTilingPattern()"),oe.stream=ee[$].join(`
`),Ee(G,oe),Mt.publish("endTilingPattern",oe),jt.pop().restore()};var Ie=h.__private__.newObject=function(){var G=We();return at(G,!0),G},We=h.__private__.newObjectDeferred=function(){return V++,Q[V]=function(){return D},V},at=function(G,oe){return oe=typeof oe=="boolean"&&oe,Q[G]=D,oe&&ne(G+" 0 obj"),G},Ut=h.__private__.newAdditionalObject=function(){var G={objId:We(),content:""};return K.push(G),G},pt=We(),Pt=We(),It=h.__private__.decodeColorString=function(G){var oe=G.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Se=parseFloat(oe[0]);oe=[Se,Se,Se,"r"]}for(var Ae="#",De=0;De<3;De++)Ae+=("0"+Math.floor(255*parseFloat(oe[De])).toString(16)).slice(-2);return Ae},Et=h.__private__.encodeColorString=function(G){var oe;typeof G=="string"&&(G={ch1:G});var Se=G.ch1,Ae=G.ch2,De=G.ch3,Ye=G.ch4,lt=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var St=new H8(Se);if(St.ok)Se=St.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var z=parseInt(Se.substr(1),16);Se=z>>16&255,Ae=z>>8&255,De=255&z}if(Ae===void 0||Ye===void 0&&Se===Ae&&Ae===De)if(typeof Se=="string")oe=Se+" "+lt[0];else switch(G.precision){case 2:oe=U(Se/255)+" "+lt[0];break;case 3:default:oe=O(Se/255)+" "+lt[0]}else if(Ye===void 0||qr(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return oe=["1.","1.","1.",lt[1]].join(" ");if(typeof Se=="string")oe=[Se,Ae,De,lt[1]].join(" ");else switch(G.precision){case 2:oe=[U(Se/255),U(Ae/255),U(De/255),lt[1]].join(" ");break;default:case 3:oe=[O(Se/255),O(Ae/255),O(De/255),lt[1]].join(" ")}}else if(typeof Se=="string")oe=[Se,Ae,De,Ye,lt[2]].join(" ");else switch(G.precision){case 2:oe=[U(Se),U(Ae),U(De),U(Ye),lt[2]].join(" ");break;case 3:default:oe=[O(Se),O(Ae),O(De),O(Ye),lt[2]].join(" ")}return oe},zt=h.__private__.getFilters=function(){return a},Ct=h.__private__.putStream=function(G){var oe=(G=G||{}).data||"",Se=G.filters||zt(),Ae=G.alreadyAppliedFilters||[],De=G.addLength1||!1,Ye=oe.length,lt=G.objectId,St=function(hr){return hr};if(c!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(St=Ur.encryptor(lt,0));var z={};Se===!0&&(Se=["FlateEncode"]);var J=G.additionalKeyValues||[],re=(z=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(oe,Se):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(z.data.length!==0&&(J.push({key:"Length",value:z.data.length}),De===!0&&J.push({key:"Length1",value:Ye})),re.length!=0)if(re.split("/").length-1==1)J.push({key:"Filter",value:re});else{J.push({key:"Filter",value:"["+re+"]"});for(var de=0;de<J.length;de+=1)if(J[de].key==="DecodeParms"){for(var je=[],qe=0;qe<z.reverseChain.split("/").length-1;qe+=1)je.push("null");je.push(J[de].value),J[de].value="["+je.join(" ")+"]"}}ne("<<");for(var ct=0;ct<J.length;ct++)ne("/"+J[ct].key+" "+J[ct].value);ne(">>"),z.data.length!==0&&(ne("stream"),ne(St(z.data)),ne("endstream"))},Xt=h.__private__.putPage=function(G){var oe=G.number,Se=G.data,Ae=G.objId,De=G.contentsObjId;at(Ae,!0),ne("<</Type /Page"),ne("/Parent "+G.rootDictionaryObjId+" 0 R"),ne("/Resources "+G.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(j(G.mediaBox.bottomLeftX))+" "+parseFloat(j(G.mediaBox.bottomLeftY))+" "+j(G.mediaBox.topRightX)+" "+j(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&ne("/CropBox ["+j(G.cropBox.bottomLeftX)+" "+j(G.cropBox.bottomLeftY)+" "+j(G.cropBox.topRightX)+" "+j(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&ne("/BleedBox ["+j(G.bleedBox.bottomLeftX)+" "+j(G.bleedBox.bottomLeftY)+" "+j(G.bleedBox.topRightX)+" "+j(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&ne("/TrimBox ["+j(G.trimBox.bottomLeftX)+" "+j(G.trimBox.bottomLeftY)+" "+j(G.trimBox.topRightX)+" "+j(G.trimBox.topRightY)+"]"),G.artBox!==null&&ne("/ArtBox ["+j(G.artBox.bottomLeftX)+" "+j(G.artBox.bottomLeftY)+" "+j(G.artBox.topRightX)+" "+j(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&ne("/UserUnit "+G.userUnit),Mt.publish("putPage",{objId:Ae,pageContext:_t[oe],pageNumber:oe,page:Se}),ne("/Contents "+De+" 0 R"),ne(">>"),ne("endobj");var Ye=Se.join(`
`);return b===m.ADVANCED&&(Ye+=`
Q`),at(De,!0),Ct({data:Ye,filters:zt(),objectId:De}),ne("endobj"),Ae},Cr=h.__private__.putPages=function(){var G,oe,Se=[];for(G=1;G<=At;G++)_t[G].objId=We(),_t[G].contentsObjId=We();for(G=1;G<=At;G++)Se.push(Xt({number:G,data:ee[G],objId:_t[G].objId,contentsObjId:_t[G].contentsObjId,mediaBox:_t[G].mediaBox,cropBox:_t[G].cropBox,bleedBox:_t[G].bleedBox,trimBox:_t[G].trimBox,artBox:_t[G].artBox,userUnit:_t[G].userUnit,rootDictionaryObjId:pt,resourceDictionaryObjId:Pt}));at(pt,!0),ne("<</Type /Pages");var Ae="/Kids [";for(oe=0;oe<At;oe++)Ae+=Se[oe]+" 0 R ";ne(Ae+"]"),ne("/Count "+At),ne(">>"),ne("endobj"),Mt.publish("postPutPages")},Qe=function(G){Mt.publish("putFont",{font:G,out:ne,newObject:Ie,putStream:Ct}),G.isAlreadyPutted!==!0&&(G.objectNumber=Ie(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Yu(G.postScriptName)),ne("/Subtype /Type1"),typeof G.encoding=="string"&&ne("/Encoding /"+G.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},bt=function(){for(var G in it)it.hasOwnProperty(G)&&(d===!1||d===!0&&f.hasOwnProperty(G))&&Qe(it[G])},Ht=function(G){G.objectNumber=Ie();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[j(G.x),j(G.y),j(G.x+G.width),j(G.y+G.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Se=G.pages[1].join(`
`);Ct({data:Se,additionalKeyValues:oe,objectId:G.objectNumber}),ne("endobj")},nr=function(){for(var G in Wt)Wt.hasOwnProperty(G)&&Ht(Wt[G])},be=function(G,oe){var Se,Ae=[],De=1/(oe-1);for(Se=0;Se<1;Se+=De)Ae.push(Se);if(Ae.push(1),G[0].offset!=0){var Ye={offset:0,color:G[0].color};G.unshift(Ye)}if(G[G.length-1].offset!=1){var lt={offset:1,color:G[G.length-1].color};G.push(lt)}for(var St="",z=0,J=0;J<Ae.length;J++){for(Se=Ae[J];Se>G[z+1].offset;)z++;var re=G[z].offset,de=(Se-re)/(G[z+1].offset-re),je=G[z].color,qe=G[z+1].color;St+=Z(Math.round((1-de)*je[0]+de*qe[0]).toString(16))+Z(Math.round((1-de)*je[1]+de*qe[1]).toString(16))+Z(Math.round((1-de)*je[2]+de*qe[2]).toString(16))}return St.trim()},Me=function(G,oe){oe||(oe=21);var Se=Ie(),Ae=be(G.colors,oe),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+oe+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct({data:Ae,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),ne("endobj"),G.objectNumber=Ie(),ne("<< /ShadingType "+G.type),ne("/ColorSpace /DeviceRGB");var Ye="/Coords ["+j(parseFloat(G.coords[0]))+" "+j(parseFloat(G.coords[1]))+" ";G.type===2?Ye+=j(parseFloat(G.coords[2]))+" "+j(parseFloat(G.coords[3])):Ye+=j(parseFloat(G.coords[2]))+" "+j(parseFloat(G.coords[3]))+" "+j(parseFloat(G.coords[4]))+" "+j(parseFloat(G.coords[5])),ne(Ye+="]"),G.matrix&&ne("/Matrix ["+G.matrix.toString()+"]"),ne("/Function "+Se+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ke=function(G,oe){var Se=We(),Ae=Ie();oe.push({resourcesOid:Se,objectOid:Ae}),G.objectNumber=Ae;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+G.boundingBox.map(j).join(" ")+"]"}),De.push({key:"XStep",value:j(G.xStep)}),De.push({key:"YStep",value:j(G.yStep)}),De.push({key:"Resources",value:Se+" 0 R"}),G.matrix&&De.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),Ct({data:G.stream,additionalKeyValues:De,objectId:G.objectNumber}),ne("endobj")},rt=function(G){var oe;for(oe in kt)kt.hasOwnProperty(oe)&&(kt[oe]instanceof Vo?Me(kt[oe]):kt[oe]instanceof Xl&&Ke(kt[oe],G))},Nt=function(G){for(var oe in G.objectNumber=Ie(),ne("<<"),G)switch(oe){case"opacity":ne("/ca "+U(G[oe]));break;case"stroke-opacity":ne("/CA "+U(G[oe]))}ne(">>"),ne("endobj")},ft=function(){var G;for(G in wt)wt.hasOwnProperty(G)&&Nt(wt[G])},mt=function(){for(var G in ne("/XObject <<"),Wt)Wt.hasOwnProperty(G)&&Wt[G].objectNumber>=0&&ne("/"+G+" "+Wt[G].objectNumber+" 0 R");Mt.publish("putXobjectDict"),ne(">>")},vr=function(){Ur.oid=Ie(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Ur.v),ne("/R "+Ur.r),ne("/U <"+Ur.toHexString(Ur.U)+">"),ne("/O <"+Ur.toHexString(Ur.O)+">"),ne("/P "+Ur.P),ne(">>"),ne("endobj")},rr=function(){for(var G in ne("/Font <<"),it)it.hasOwnProperty(G)&&(d===!1||d===!0&&f.hasOwnProperty(G))&&ne("/"+G+" "+it[G].objectNumber+" 0 R");ne(">>")},lr=function(){if(Object.keys(kt).length>0){for(var G in ne("/Shading <<"),kt)kt.hasOwnProperty(G)&&kt[G]instanceof Vo&&kt[G].objectNumber>=0&&ne("/"+G+" "+kt[G].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),ne(">>")}},Vt=function(G){if(Object.keys(kt).length>0){for(var oe in ne("/Pattern <<"),kt)kt.hasOwnProperty(oe)&&kt[oe]instanceof h.TilingPattern&&kt[oe].objectNumber>=0&&kt[oe].objectNumber<G&&ne("/"+oe+" "+kt[oe].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),ne(">>")}},_r=function(){if(Object.keys(wt).length>0){var G;for(G in ne("/ExtGState <<"),wt)wt.hasOwnProperty(G)&&wt[G].objectNumber>=0&&ne("/"+G+" "+wt[G].objectNumber+" 0 R");Mt.publish("putGStateDict"),ne(">>")}},Kt=function(G){at(G.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rr(),lr(),Vt(G.objectOid),_r(),mt(),ne(">>"),ne("endobj")},xr=function(){var G=[];bt(),ft(),nr(),rt(G),Mt.publish("putResources"),G.forEach(Kt),Kt({resourcesOid:Pt,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources")},jr=function(){Mt.publish("putAdditionalObjects");for(var G=0;G<K.length;G++){var oe=K[G];at(oe.objId,!0),ne(oe.content),ne("endobj")}Mt.publish("postPutAdditionalObjects")},tn=function(G){yt[G.fontName]=yt[G.fontName]||{},yt[G.fontName][G.fontStyle]=G.id},un=function(G,oe,Se,Ae,De){var Ye={id:"F"+(Object.keys(it).length+1).toString(10),postScriptName:G,fontName:oe,fontStyle:Se,encoding:Ae,isStandardFont:De||!1,metadata:{}};return Mt.publish("addFont",{font:Ye,instance:this}),it[Ye.id]=Ye,tn(Ye),Ye.id},Un=function(G){for(var oe=0,Se=me.length;oe<Se;oe++){var Ae=un.call(this,G[oe][0],G[oe][1],G[oe][2],me[oe][3],!0);d===!1&&(f[Ae]=!0);var De=G[oe][0].split("-");tn({id:Ae,fontName:De[0],fontStyle:De[1]||""})}Mt.publish("addFonts",{fonts:it,dictionary:yt})},mn=function(G){return G.foo=function(){try{return G.apply(this,arguments)}catch(Ae){var oe=Ae.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Se="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!ir.console)throw new Error(Se);ir.console.error(Se,Ae),ir.alert&&alert(Se)}},G.foo.bar=G,G.foo},xi=function(G,oe){var Se,Ae,De,Ye,lt,St,z,J,re;if(De=(oe=oe||{}).sourceEncoding||"Unicode",lt=oe.outputEncoding,(oe.autoencode||lt)&&it[Xe].metadata&&it[Xe].metadata[De]&&it[Xe].metadata[De].encoding&&(Ye=it[Xe].metadata[De].encoding,!lt&&it[Xe].encoding&&(lt=it[Xe].encoding),!lt&&Ye.codePages&&(lt=Ye.codePages[0]),typeof lt=="string"&&(lt=Ye[lt]),lt)){for(z=!1,St=[],Se=0,Ae=G.length;Se<Ae;Se++)(J=lt[G.charCodeAt(Se)])?St.push(String.fromCharCode(J)):St.push(G[Se]),St[Se].charCodeAt(0)>>8&&(z=!0);G=St.join("")}for(Se=G.length;z===void 0&&Se!==0;)G.charCodeAt(Se-1)>>8&&(z=!0),Se--;if(!z)return G;for(St=oe.noBOM?[]:[254,255],Se=0,Ae=G.length;Se<Ae;Se++){if((re=(J=G.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(re),St.push(J-(re<<8))}return String.fromCharCode.apply(void 0,St)},Br=h.__private__.pdfEscape=h.pdfEscape=function(G,oe){return xi(G,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gn=h.__private__.beginPage=function(G){ee[++At]=[],_t[At]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},ai(At),ce(ee[$])},wr=function(G,oe){var Se,Ae,De;switch(e=oe||e,typeof G=="string"&&(Se=y(G.toLowerCase()),Array.isArray(Se)&&(Ae=Se[0],De=Se[1])),Array.isArray(G)&&(Ae=G[0]*Te,De=G[1]*Te),isNaN(Ae)&&(Ae=s[0],De=s[1]),(Ae>14400||De>14400)&&(Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),De=Math.min(14400,De)),s=[Ae,De],e.substr(0,1)){case"l":De>Ae&&(s=[De,Ae]);break;case"p":Ae>De&&(s=[De,Ae])}gn(s),Cl(Tl),ne(Kn),Il!==0&&ne(Il+" J"),co!==0&&ne(co+" j"),Mt.publish("addPage",{pageNumber:At})},yr=function(G){G>0&&G<=At&&(ee.splice(G,1),_t.splice(G,1),At--,$>At&&($=At),this.setPage($))},ai=function(G){G>0&&G<=At&&($=G)},Sr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ee.length-1},Li=function(G,oe,Se){var Ae,De=void 0;return Se=Se||{},G=G!==void 0?G:it[Xe].fontName,oe=oe!==void 0?oe:it[Xe].fontStyle,Ae=G.toLowerCase(),yt[Ae]!==void 0&&yt[Ae][oe]!==void 0?De=yt[Ae][oe]:yt[G]!==void 0&&yt[G][oe]!==void 0?De=yt[G][oe]:Se.disableWarning===!1&&Gr.warn("Unable to look up font label for font '"+G+"', '"+oe+"'. Refer to getFontList() for available fonts."),De||Se.noFallback||(De=yt.times[oe])==null&&(De=yt.times.normal),De},cn=h.__private__.putInfo=function(){var G=Ie(),oe=function(Ae){return Ae};for(var Se in c!==null&&(oe=Ur.encryptor(G,0)),ne("<<"),ne("/Producer ("+Br(oe("jsPDF "+Jt.version))+")"),He)He.hasOwnProperty(Se)&&He[Se]&&ne("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Br(oe(He[Se]))+")");ne("/CreationDate ("+Br(oe(A))+")"),ne(">>"),ne("endobj")},xn=h.__private__.putCatalog=function(G){var oe=(G=G||{}).rootDictionaryObjId||pt;switch(Ie(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+oe+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+xe;Se.substr(Se.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+U(xe)+"]")}switch(ve||(ve="continuous"),ve){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Oe&&ne("/PageMode /"+Oe),Mt.publish("putCatalog"),ne(">>"),ne("endobj")},Oi=h.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(V+1)),ne("/Root "+V+" 0 R"),ne("/Info "+(V-1)+" 0 R"),c!==null&&ne("/Encrypt "+Ur.oid+" 0 R"),ne("/ID [ <"+w+"> <"+w+"> ]"),ne(">>")},hs=h.__private__.putHeader=function(){ne("%PDF-"+g),ne("%")},Js=h.__private__.putXRef=function(){var G="0000000000";ne("xref"),ne("0 "+(V+1)),ne("0000000000 65535 f ");for(var oe=1;oe<=V;oe++)typeof Q[oe]=="function"?ne((G+Q[oe]()).slice(-10)+" 00000 n "):Q[oe]!==void 0?ne((G+Q[oe]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},zn=h.__private__.buildDocument=function(){ae(),ce(F),Mt.publish("buildDocument"),hs(),Cr(),jr(),xr(),c!==null&&vr(),cn(),xn();var G=D;return Js(),Oi(),ne("startxref"),ne(""+G),ne("%%EOF"),ce(ee[$]),F.join(`
`)},Xn=h.__private__.getBlob=function(G){return new Blob([ye(G)],{type:"application/pdf"})},Ns=h.output=h.__private__.output=mn(function(G,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",G){case void 0:return zn();case"save":h.save(oe.filename);break;case"arraybuffer":return ye(zn());case"blob":return Xn(zn());case"bloburi":case"bloburl":if(ir.URL!==void 0&&typeof ir.URL.createObjectURL=="function")return ir.URL&&ir.URL.createObjectURL(Xn(zn()))||void 0;Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Ae=zn();try{Se=r2(Ae)}catch{Se=r2(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(De=oe.pdfObjectUrl,Ye="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",St=ir.open();return St!==null&&St.document.write(lt),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',J=ir.open();if(J!==null){J.document.write(z);var re=this;J.document.documentElement.querySelector("#pdfViewer").onload=function(){J.document.title=oe.filename,J.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(re.output("bloburl"))}}return J}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',je=ir.open();if(je!==null&&(je.document.write(de),je.document.title=oe.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return ir.document.location.href=this.output("datauristring",oe);default:return null}}),Si=function(G){return Array.isArray(Ot)===!0&&Ot.indexOf(G)>-1};switch(n){case"pt":Te=1;break;case"mm":Te=72/25.4;break;case"cm":Te=72/2.54;break;case"in":Te=72;break;case"px":Te=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":Te=12;break;case"ex":Te=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Te=n}var Ur=null;q(),x();var Ps=function(G){return c!==null?Ur.encryptor(G,0):function(oe){return oe}},fs=h.__private__.getPageInfo=h.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[G].objId,pageNumber:G,pageContext:_t[G]}},er=h.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in _t)if(_t[oe].objId===G)break;return fs(oe)},ki=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:_t[$].objId,pageNumber:$,pageContext:_t[$]}};h.addPage=function(){return wr.apply(this,arguments),this},h.setPage=function(){return ai.apply(this,arguments),ce.call(this,ee[$]),this},h.insertPage=function(G){return this.addPage(),this.movePage($,G),this},h.movePage=function(G,oe){var Se,Ae;if(G>oe){Se=ee[G],Ae=_t[G];for(var De=G;De>oe;De--)ee[De]=ee[De-1],_t[De]=_t[De-1];ee[oe]=Se,_t[oe]=Ae,this.setPage(oe)}else if(G<oe){Se=ee[G],Ae=_t[G];for(var Ye=G;Ye<oe;Ye++)ee[Ye]=ee[Ye+1],_t[Ye]=_t[Ye+1];ee[oe]=Se,_t[oe]=Ae,this.setPage(oe)}return this},h.deletePage=function(){return yr.apply(this,arguments),this},h.__private__.text=h.text=function(G,oe,Se,Ae,De){var Ye,lt,St,z,J,re,de,je,qe,ct=(Ae=Ae||{}).scope||this;if(typeof G=="number"&&typeof oe=="number"&&(typeof Se=="string"||Array.isArray(Se))){var hr=Se;Se=oe,oe=G,G=hr}if(arguments[3]instanceof ut?(T("The transform parameter of text() with a Matrix value"),qe=De):(St=arguments[4],z=arguments[5],qr(de=arguments[3])==="object"&&de!==null||(typeof St=="string"&&(z=St,St=null),typeof de=="string"&&(z=de,de=null),typeof de=="number"&&(St=de,de=null),Ae={flags:de,angle:St,align:z})),isNaN(oe)||isNaN(Se)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return ct;var Er="",fr=!1,Dr=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:Or,Xr=ct.internal.scaleFactor;function Ls(Yr){return Yr=Yr.split("	").join(Array(Ae.TabLen||9).join(" ")),Br(Yr,de)}function Gn(Yr){for(var Qr,kn=Yr.concat(),On=[],Ra=kn.length;Ra--;)typeof(Qr=kn.shift())=="string"?On.push(Qr):Array.isArray(Yr)&&(Qr.length===1||Qr[1]===void 0&&Qr[2]===void 0)?On.push(Qr[0]):On.push([Qr[0],Qr[1],Qr[2]]);return On}function ia(Yr,Qr){var kn;if(typeof Yr=="string")kn=Qr(Yr)[0];else if(Array.isArray(Yr)){for(var On,Ra,Qc=Yr.concat(),Lu=[],Jf=Qc.length;Jf--;)typeof(On=Qc.shift())=="string"?Lu.push(Qr(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(Ra=Qr(On[0],On[1],On[2]),Lu.push([Ra[0],Ra[1],Ra[2]]));kn=Lu}return kn}var sa=!1,Hc=!0;if(typeof G=="string")sa=!0;else if(Array.isArray(G)){var $c=G.concat();lt=[];for(var Tu,Yn=$c.length;Yn--;)(typeof(Tu=$c.shift())!="string"||Array.isArray(Tu)&&typeof Tu[0]!="string")&&(Hc=!1);sa=Hc}if(sa===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var Cu=_e/ct.internal.scaleFactor,Nu=Cu*(Dr-1);switch(Ae.baseline){case"bottom":Se-=Nu;break;case"top":Se+=Cu-Nu;break;case"hanging":Se+=Cu-2*Nu;break;case"middle":Se+=Cu/2-Nu}if((re=Ae.maxWidth||0)>0&&(typeof G=="string"?G=ct.splitTextToSize(G,re):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(Yr,Qr){return Yr.concat(ct.splitTextToSize(Qr,re))},[]))),Ye={text:G,x:oe,y:Se,options:Ae,mutex:{pdfEscape:Br,activeFontKey:Xe,fonts:it,activeFontSize:_e}},Mt.publish("preProcessText",Ye),G=Ye.text,St=(Ae=Ye.options).angle,!(qe instanceof ut)&&St&&typeof St=="number"){St*=Math.PI/180,Ae.rotationDirection===0&&(St=-St),b===m.ADVANCED&&(St=-St);var Pu=Math.cos(St),Wc=Math.sin(St);qe=new ut(Pu,Wc,-Wc,Pu,0,0)}else St&&St instanceof ut&&(qe=St);b!==m.ADVANCED||qe||(qe=Bt),(J=Ae.charSpace||Aa)!==void 0&&(Er+=j(I(J))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Ae.horizontalScale)!==void 0&&(Er+=j(100*je)+` Tz
`),Ae.lang;var Di=-1,t0=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Xc=ct.internal.getCurrentPageInfo().pageContext;switch(t0){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var Gf=Xc.usedRenderingMode!==void 0?Xc.usedRenderingMode:-1;Di!==-1?Er+=Di+` Tr
`:Gf!==-1&&(Er+=`0 Tr
`),Di!==-1&&(Xc.usedRenderingMode=Di),z=Ae.align||"left";var ps,Iu=_e*Dr,Yf=ct.internal.pageSize.getWidth(),Qf=it[Xe];J=Ae.charSpace||Aa,re=Ae.maxWidth||0,de=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var go=[],Rl=function(Yr){return ct.getStringUnitWidth(Yr,{font:Qf,charSpace:J,fontSize:_e,doKerning:!1})*_e/Xr};if(Object.prototype.toString.call(G)==="[object Array]"){var Fi;lt=Gn(G),z!=="left"&&(ps=lt.map(Rl));var Ei,yo=0;if(z==="right"){oe-=ps[0],G=[],Yn=lt.length;for(var Na=0;Na<Yn;Na++)Na===0?(Ei=Yi(oe),Fi=Ln(Se)):(Ei=I(yo-ps[Na]),Fi=-Iu),G.push([lt[Na],Ei,Fi]),yo=ps[Na]}else if(z==="center"){oe-=ps[0]/2,G=[],Yn=lt.length;for(var Pa=0;Pa<Yn;Pa++)Pa===0?(Ei=Yi(oe),Fi=Ln(Se)):(Ei=I((yo-ps[Pa])/2),Fi=-Iu),G.push([lt[Pa],Ei,Fi]),yo=ps[Pa]}else if(z==="left"){G=[],Yn=lt.length;for(var Ru=0;Ru<Yn;Ru++)G.push(lt[Ru])}else if(z==="justify"&&Qf.encoding==="Identity-H"){G=[],Yn=lt.length,re=re!==0?re:Yf;for(var Ia=0,Sn=0;Sn<Yn;Sn++)if(Fi=Sn===0?Ln(Se):-Iu,Ei=Sn===0?Yi(oe):Ia,Sn<Yn-1){var Kc=I((re-ps[Sn])/(lt[Sn].split(" ").length-1)),Ai=lt[Sn].split(" ");G.push([Ai[0]+" ",Ei,Fi]),Ia=0;for(var ms=1;ms<Ai.length;ms++){var Mu=(Rl(Ai[ms-1]+" "+Ai[ms])-Rl(Ai[ms]))*Xr+Kc;ms==Ai.length-1?G.push([Ai[ms],Mu,0]):G.push([Ai[ms]+" ",Mu,0]),Ia-=Mu}}else G.push([lt[Sn],Ei,Fi]);G.push(["",Ia,0])}else{if(z!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],Yn=lt.length,re=re!==0?re:Yf,Sn=0;Sn<Yn;Sn++)Fi=Sn===0?Ln(Se):-Iu,Ei=Sn===0?Yi(oe):0,Sn<Yn-1?go.push(j(I((re-ps[Sn])/(lt[Sn].split(" ").length-1)))):go.push(0),G.push([lt[Sn],Ei,Fi])}}var Zf=typeof Ae.R2L=="boolean"?Ae.R2L:Ce;Zf===!0&&(G=ia(G,function(Yr,Qr,kn){return[Yr.split("").reverse().join(""),Qr,kn]})),Ye={text:G,x:oe,y:Se,options:Ae,mutex:{pdfEscape:Br,activeFontKey:Xe,fonts:it,activeFontSize:_e}},Mt.publish("postProcessText",Ye),G=Ye.text,fr=Ye.mutex.isHex||!1;var Gc=it[Xe].encoding;Gc!=="WinAnsiEncoding"&&Gc!=="StandardEncoding"||(G=ia(G,function(Yr,Qr,kn){return[Ls(Yr),Qr,kn]})),lt=Gn(G),G=[];for(var Ml,jl,vo,Ll=0,ju=1,Ol=Array.isArray(lt[0])?ju:Ll,bo="",Yc=function(Yr,Qr,kn){var On="";return kn instanceof ut?(kn=typeof Ae.angle=="number"?ur(kn,new ut(1,0,0,1,Yr,Qr)):ur(new ut(1,0,0,1,Yr,Qr),kn),b===m.ADVANCED&&(kn=ur(new ut(1,0,0,-1,0,0),kn)),On=kn.join(" ")+` Tm
`):On=j(Yr)+" "+j(Qr)+` Td
`,On},gs=0;gs<lt.length;gs++){switch(bo="",Ol){case ju:vo=(fr?"<":"(")+lt[gs][0]+(fr?">":")"),Ml=parseFloat(lt[gs][1]),jl=parseFloat(lt[gs][2]);break;case Ll:vo=(fr?"<":"(")+lt[gs]+(fr?">":")"),Ml=Yi(oe),jl=Ln(Se)}go!==void 0&&go[gs]!==void 0&&(bo=go[gs]+` Tw
`),gs===0?G.push(bo+Yc(Ml,jl,qe)+vo):Ol===Ll?G.push(bo+vo):Ol===ju&&G.push(bo+Yc(Ml,jl,qe)+vo)}G=Ol===Ll?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var ys=`BT
/`;return ys+=Xe+" "+_e+` Tf
`,ys+=j(_e*Dr)+` TL
`,ys+=Ms+`
`,ys+=Er,ys+=G,ne(ys+="ET"),f[Xe]=!0,ct};var ea=h.__private__.clip=h.clip=function(G){return ne(G==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ea("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ne("n"),this};var ds=h.__private__.isValidStyle=function(G){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(oe=!0),oe};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(G){return ds(G)&&(l=G),this};var Su=h.__private__.getStyle=h.getStyle=function(G){var oe=l;switch(G){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=G}return oe},Ki=h.close=function(){return ne("h"),this};h.stroke=function(){return ne("S"),this},h.fill=function(G){return no("f",G),this},h.fillEvenOdd=function(G){return no("f*",G),this},h.fillStroke=function(G){return no("B",G),this},h.fillStrokeEvenOdd=function(G){return no("B*",G),this};var no=function(G,oe){qr(oe)==="object"?so(oe,G):ne(G)},El=function(G){G===null||b===m.ADVANCED&&G===void 0||(G=Su(G),ne(G))};function io(G,oe,Se,Ae,De){var Ye=new Xl(oe||this.boundingBox,Se||this.xStep,Ae||this.yStep,this.gState,De||this.matrix);Ye.stream=this.stream;var lt=G+"$$"+this.cloneIndex+++"$$";return Ee(lt,Ye),Ye}var so=function(G,oe){var Se=or[G.key],Ae=kt[Se];if(Ae instanceof Vo)ne("q"),ne(ku(oe)),Ae.gState&&h.setGState(Ae.gState),ne(G.matrix.toString()+" cm"),ne("/"+Se+" sh"),ne("Q");else if(Ae instanceof Xl){var De=new ut(1,0,0,-1,0,oi());G.matrix&&(De=De.multiply(G.matrix||Bt),Se=io.call(Ae,G.key,G.boundingBox,G.xStep,G.yStep,De).id),ne("q"),ne("/Pattern cs"),ne("/"+Se+" scn"),Ae.gState&&h.setGState(Ae.gState),ne(oe),ne("Q")}},ku=function(G){switch(G){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Is=h.moveTo=function(G,oe){return ne(j(I(G))+" "+j(R(oe))+" m"),this},Gi=h.lineTo=function(G,oe){return ne(j(I(G))+" "+j(R(oe))+" l"),this},Rs=h.curveTo=function(G,oe,Se,Ae,De,Ye){return ne([j(I(G)),j(R(oe)),j(I(Se)),j(R(Ae)),j(I(De)),j(R(Ye)),"c"].join(" ")),this};h.__private__.line=h.line=function(G,oe,Se,Ae,De){if(isNaN(G)||isNaN(oe)||isNaN(Se)||isNaN(Ae)||!ds(De))throw new Error("Invalid arguments passed to jsPDF.line");return b===m.COMPAT?this.lines([[Se-G,Ae-oe]],G,oe,[1,1],De||"S"):this.lines([[Se-G,Ae-oe]],G,oe,[1,1]).stroke()},h.__private__.lines=h.lines=function(G,oe,Se,Ae,De,Ye){var lt,St,z,J,re,de,je,qe,ct,hr,Er,fr;if(typeof G=="number"&&(fr=Se,Se=oe,oe=G,G=fr),Ae=Ae||[1,1],Ye=Ye||!1,isNaN(oe)||isNaN(Se)||!Array.isArray(G)||!Array.isArray(Ae)||!ds(De)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Is(oe,Se),lt=Ae[0],St=Ae[1],J=G.length,hr=oe,Er=Se,z=0;z<J;z++)(re=G[z]).length===2?(hr=re[0]*lt+hr,Er=re[1]*St+Er,Gi(hr,Er)):(de=re[0]*lt+hr,je=re[1]*St+Er,qe=re[2]*lt+hr,ct=re[3]*St+Er,hr=re[4]*lt+hr,Er=re[5]*St+Er,Rs(de,je,qe,ct,hr,Er));return Ye&&Ki(),El(De),this},h.path=function(G){for(var oe=0;oe<G.length;oe++){var Se=G[oe],Ae=Se.c;switch(Se.op){case"m":Is(Ae[0],Ae[1]);break;case"l":Gi(Ae[0],Ae[1]);break;case"c":Rs.apply(this,Ae);break;case"h":Ki()}}return this},h.__private__.rect=h.rect=function(G,oe,Se,Ae,De){if(isNaN(G)||isNaN(oe)||isNaN(Se)||isNaN(Ae)||!ds(De))throw new Error("Invalid arguments passed to jsPDF.rect");return b===m.COMPAT&&(Ae=-Ae),ne([j(I(G)),j(R(oe)),j(I(Se)),j(I(Ae)),"re"].join(" ")),El(De),this},h.__private__.triangle=h.triangle=function(G,oe,Se,Ae,De,Ye,lt){if(isNaN(G)||isNaN(oe)||isNaN(Se)||isNaN(Ae)||isNaN(De)||isNaN(Ye)||!ds(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-G,Ae-oe],[De-Se,Ye-Ae],[G-De,oe-Ye]],G,oe,[1,1],lt,!0),this},h.__private__.roundedRect=h.roundedRect=function(G,oe,Se,Ae,De,Ye,lt){if(isNaN(G)||isNaN(oe)||isNaN(Se)||isNaN(Ae)||isNaN(De)||isNaN(Ye)||!ds(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*Se),Ye=Math.min(Ye,.5*Ae),this.lines([[Se-2*De,0],[De*St,0,De,Ye-Ye*St,De,Ye],[0,Ae-2*Ye],[0,Ye*St,-De*St,Ye,-De,Ye],[2*De-Se,0],[-De*St,0,-De,-Ye*St,-De,-Ye],[0,2*Ye-Ae],[0,-Ye*St,De*St,-Ye,De,-Ye]],G+De,oe,[1,1],lt,!0),this},h.__private__.ellipse=h.ellipse=function(G,oe,Se,Ae,De){if(isNaN(G)||isNaN(oe)||isNaN(Se)||isNaN(Ae)||!ds(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*Se,lt=4/3*(Math.SQRT2-1)*Ae;return Is(G+Se,oe),Rs(G+Se,oe-lt,G+Ye,oe-Ae,G,oe-Ae),Rs(G-Ye,oe-Ae,G-Se,oe-lt,G-Se,oe),Rs(G-Se,oe+lt,G-Ye,oe+Ae,G,oe+Ae),Rs(G+Ye,oe+Ae,G+Se,oe+lt,G+Se,oe),El(De),this},h.__private__.circle=h.circle=function(G,oe,Se,Ae){if(isNaN(G)||isNaN(oe)||isNaN(Se)||!ds(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,oe,Se,Se,Ae)},h.setFont=function(G,oe,Se){return Se&&(oe=B(oe,Se)),Xe=Li(G,oe,{disableWarning:!1}),this};var Al=h.__private__.getFont=h.getFont=function(){return it[Li.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var G,oe,Se={};for(G in yt)if(yt.hasOwnProperty(G))for(oe in Se[G]=[],yt[G])yt[G].hasOwnProperty(oe)&&Se[G].push(oe);return Se},h.addFont=function(G,oe,Se,Ae,De){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(Se=B(Se,Ae)),De=De||"Identity-H",un.call(this,G,oe,Se,De)};var Or,Tl=r.lineWidth||.200025,ao=h.__private__.getLineWidth=h.getLineWidth=function(){return Tl},Cl=h.__private__.setLineWidth=h.setLineWidth=function(G){return Tl=G,ne(j(I(G))+" w"),this};h.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(G,oe){if(G=G||[],oe=oe||0,isNaN(oe)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Se){return j(I(Se))}).join(" "),oe=j(I(oe)),ne("["+G+"] "+oe+" d"),this};var Nl=h.__private__.getLineHeight=h.getLineHeight=function(){return _e*Or};h.__private__.getLineHeight=h.getLineHeight=function(){return _e*Or};var Pl=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(Or=G),this},Ea=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Or};Pl(r.lineHeight);var Yi=h.__private__.getHorizontalCoordinate=function(G){return I(G)},Ln=h.__private__.getVerticalCoordinate=function(G){return b===m.ADVANCED?G:_t[$].mediaBox.topRightY-_t[$].mediaBox.bottomLeftY-I(G)},Eu=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(G){return j(Yi(G))},ta=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(G){return j(Ln(G))},Kn=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return It(Kn)},h.__private__.setStrokeColor=h.setDrawColor=function(G,oe,Se,Ae){return Kn=Et({ch1:G,ch2:oe,ch3:Se,ch4:Ae,pdfColorType:"draw",precision:2}),ne(Kn),this};var oo=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return It(oo)},h.__private__.setFillColor=h.setFillColor=function(G,oe,Se,Ae){return oo=Et({ch1:G,ch2:oe,ch3:Se,ch4:Ae,pdfColorType:"fill",precision:2}),ne(oo),this};var Ms=r.textColor||"0 g",lo=h.__private__.getTextColor=h.getTextColor=function(){return It(Ms)};h.__private__.setTextColor=h.setTextColor=function(G,oe,Se,Ae){return Ms=Et({ch1:G,ch2:oe,ch3:Se,ch4:Ae,pdfColorType:"text",precision:3}),this};var Aa=r.charSpace,uo=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Aa||0)};h.__private__.setCharSpace=h.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Aa=G,this};var Il=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(G){var oe=h.CapJoinStyles[G];if(oe===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=oe,ne(oe+" J"),this};var co=0;h.__private__.setLineJoin=h.setLineJoin=function(G){var oe=h.CapJoinStyles[G];if(oe===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return co=oe,ne(oe+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(j(I(G))+" M"),this},h.GState=Ef,h.setGState=function(G){(G=typeof G=="string"?wt[Gt[G]]:ra(null,G)).equals(Yt)||(ne("/"+G.id+" gs"),Yt=G)};var ra=function(G,oe){if(!G||!Gt[G]){var Se=!1;for(var Ae in wt)if(wt.hasOwnProperty(Ae)&&wt[Ae].equals(oe)){Se=!0;break}if(Se)oe=wt[Ae];else{var De="GS"+(Object.keys(wt).length+1).toString(10);wt[De]=oe,oe.id=De}return G&&(Gt[G]=oe.id),Mt.publish("addGState",oe),oe}};h.addGState=function(G,oe){return ra(G,oe),this},h.saveGraphicsState=function(){return ne("q"),vt.push({key:Xe,size:_e,color:Ms}),this},h.restoreGraphicsState=function(){ne("Q");var G=vt.pop();return Xe=G.key,_e=G.size,Ms=G.color,Yt=null,this},h.setCurrentTransformationMatrix=function(G){return ne(G.toString()+" cm"),this},h.comment=function(G){return ne("#"+G),this};var Ta=function(G,oe){var Se=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(Ye){isNaN(Ye)||(Se=parseFloat(Ye))}});var Ae=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Ye){isNaN(Ye)||(Ae=parseFloat(Ye))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ye){De=Ye.toString()}}),this},ho=function(G,oe,Se,Ae){Ta.call(this,G,oe),this.type="rect";var De=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(lt){isNaN(lt)||(De=parseFloat(lt))}});var Ye=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(lt){isNaN(lt)||(Ye=parseFloat(lt))}}),this},Ca=function(){this.page=At,this.currentPage=$,this.pages=ee.slice(0),this.pagesContext=_t.slice(0),this.x=ht,this.y=Ze,this.matrix=st,this.width=na($),this.height=oi($),this.outputDestination=ie,this.id="",this.objectNumber=-1};Ca.prototype.restore=function(){At=this.page,$=this.currentPage,_t=this.pagesContext,ee=this.pages,ht=this.x,Ze=this.y,st=this.matrix,po($,this.width),mo($,this.height),ie=this.outputDestination};var fo=function(G,oe,Se,Ae,De){jt.push(new Ca),At=$=0,ee=[],ht=G,Ze=oe,st=De,gn([Se,Ae])},Au=function(G){if(tr[G])jt.pop().restore();else{var oe=new Ca,Se="Xo"+(Object.keys(Wt).length+1).toString(10);oe.id=Se,tr[G]=Se,Wt[Se]=oe,Mt.publish("addFormObject",oe),jt.pop().restore()}};for(var js in h.beginFormObject=function(G,oe,Se,Ae,De){return fo(G,oe,Se,Ae,De),this},h.endFormObject=function(G){return Au(G),this},h.doFormObject=function(G,oe){var Se=Wt[tr[G]];return ne("q"),ne(oe.toString()+" cm"),ne("/"+Se.id+" Do"),ne("Q"),this},h.getFormObject=function(G){var oe=Wt[tr[G]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},h.save=function(G,oe){return G=G||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(Vl(Xn(zn()),G),typeof Vl.unload=="function"&&ir.setTimeout&&setTimeout(Vl.unload,911),this):new Promise(function(Se,Ae){try{var De=Vl(Xn(zn()),G);typeof Vl.unload=="function"&&ir.setTimeout&&setTimeout(Vl.unload,911),Se(De)}catch(Ye){Ae(Ye.message)}})},Jt.API)Jt.API.hasOwnProperty(js)&&(js==="events"&&Jt.API.events.length?function(G,oe){var Se,Ae,De;for(De=oe.length-1;De!==-1;De--)Se=oe[De][0],Ae=oe[De][1],G.subscribe.apply(G,[Se].concat(typeof Ae=="function"?[Ae]:Ae))}(Mt,Jt.API.events):h[js]=Jt.API[js]);var na=h.getPageWidth=function(G){return(_t[G=G||$].mediaBox.topRightX-_t[G].mediaBox.bottomLeftX)/Te},po=h.setPageWidth=function(G,oe){_t[G].mediaBox.topRightX=oe*Te+_t[G].mediaBox.bottomLeftX},oi=h.getPageHeight=function(G){return(_t[G=G||$].mediaBox.topRightY-_t[G].mediaBox.bottomLeftY)/Te},mo=h.setPageHeight=function(G,oe){_t[G].mediaBox.topRightY=oe*Te+_t[G].mediaBox.bottomLeftY};return h.internal={pdfEscape:Br,getStyle:Su,getFont:Al,getFontSize:ke,getCharSpace:uo,getTextColor:lo,getLineHeight:Nl,getLineHeightFactor:Ea,getLineWidth:ao,write:se,getHorizontalCoordinate:Yi,getVerticalCoordinate:Ln,getCoordinateString:Eu,getVerticalCoordinateString:ta,collections:{},newObject:Ie,newAdditionalObject:Ut,newObjectDeferred:We,newObjectDeferredBegin:at,getFilters:zt,putStream:Ct,events:Mt,scaleFactor:Te,pageSize:{getWidth:function(){return na($)},setWidth:function(G){po($,G)},getHeight:function(){return oi($)},setHeight:function(G){mo($,G)}},encryptionOptions:c,encryption:Ur,getEncryptor:Ps,output:Ns,getNumberOfPages:Sr,pages:ee,out:ne,f2:U,f3:O,getPageInfo:fs,getPageInfoByObjId:er,getCurrentPageInfo:ki,getPDFVersion:v,Point:Ta,Rectangle:ho,Matrix:ut,hasHotfix:Si},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return na($)},set:function(G){po($,G)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return oi($)},set:function(G){mo($,G)},enumerable:!0,configurable:!0}),Un.call(h,me),Xe="F1",wr(s,e),Mt.publish("initialized"),h}Gu.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Gu.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gu.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},Gu.prototype.processOwnerPassword=function(r,t){return i2(n2(t).substr(0,5),r)},Gu.prototype.encryptor=function(r,t){var e=n2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return i2(e,n)}},Ef.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||qr(r)!==qr(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Jt.API={events:[]},Jt.version="2.5.2";var vn=Jt.API,pv=1,xu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pr=function(r){return r.toFixed(2)},Po=function(r){return r.toFixed(5)};vn.__acroform__={};var Xi=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},e4=function(r){return r*pv},ua=function(r){var t=new K8,e=Ft.internal.getHeight(r)||0,n=Ft.internal.getWidth(r)||0;return t.BBox=[0,0,Number(pr(n)),Number(pr(e))],t},Xj=vn.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<t},Kj=vn.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<t)},Gj=vn.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},Tn=vn.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Gj(r,t-1)},Cn=vn.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Xj(r,t-1)},Nn=vn.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Kj(r,t-1)},Yj=vn.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=r[0],i=r[1],a=r[2],u=r[3],o={};return o.lowerLeft_X=e(s)||0,o.lowerLeft_Y=n(i+u)||0,o.upperRight_X=e(s+a)||0,o.upperRight_Y=n(i)||0,[Number(pr(o.lowerLeft_X)),Number(pr(o.lowerLeft_Y)),Number(pr(o.upperRight_X)),Number(pr(o.upperRight_Y))]},Qj=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=s2(r,e),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+s+" "+pr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ua(r);return i.scope=r.scope,i.stream=t.join(`
`),i}},s2=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=r.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var i=e,a=Ft.internal.getHeight(r)||0;a=a<0?-a:a;var u=Ft.internal.getWidth(r)||0;u=u<0?-u:u;var o=function(O,I,E){if(O+1<s.length){var R=I+" "+s[O+1][0];return Qd(R,r,E).width<=u-4}return!1};i++;e:for(;i>0;){t="",i--;var l,c,d=Qd("3",r,i).height,f=r.multiline?a-i:(a-d)/2,h=f+=2,g=0,v=0,p=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Qd(t,r,i=12).width+", FieldWidth:"+u+`
`;break}for(var y="",m=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var k=!1;if(s[b].length!==1&&p!==s[b].length-1){if((d+2)*(m+2)+2>a)continue e;y+=s[b][p],k=!0,v=b,b--}else{y=(y+=s[b][p]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(b),B=o(N,y,i),j=b>=s.length-1;if(B&&!j){y+=" ",p=0;continue}if(B||j){if(j)v=N;else if(r.multiline&&(d+2)*(m+2)+2>a)continue e}else{if(!r.multiline||(d+2)*(m+2)+2>a)continue e;v=N}}for(var T="",M=g;M<=v;M++){var U=s[M];if(r.multiline){if(M===v){T+=U[p]+" ",p=(p+1)%U.length;continue}if(M===g){T+=U[U.length-1]+" ";continue}}T+=U[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,c=Qd(T,r,i).width,r.textAlign){case"right":l=u-c-2;break;case"center":l=(u-c)/2;break;case"left":default:l=2}t+=pr(l)+" "+pr(h)+` Td
`,t+="("+xu(T)+`) Tj
`,t+=-pr(l)+` 0 Td
`,h=-(i+2),c=0,g=k?v:v+1,m++,y=""}break}return n.text=t,n.fontSize=i,n},Qd=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},Zj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Jj=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},eL=function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var n=e,s=r[e];t.internal.newObjectDeferredBegin(s.objId,!0),qr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},tL=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Qs.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Zj)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pv=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new G8,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Jj(i,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var u=n[a],o=[],l=u.Rect;if(u.Rect&&(u.Rect=Yj(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Ft.createDefaultAppearanceStream(u),qr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(o=u.getKeyValueListForStream()),u.Rect=l,u.hasAppearanceStream&&!u.appearanceStreamContent){var c=Qj(u);o.push({key:"AP",value:"<</N "+c+">>"}),s.internal.acroformPlugin.xForms.push(c)}if(u.appearanceStreamContent){var d="";for(var f in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(f)){var h=u.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var g=h[a];typeof g=="function"&&(g=g.call(s,u)),d+="/"+a+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(s,u)),d+="/"+a+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);d+=">>"}o.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:o,objectId:u.objId}),s.internal.out("endobj")}i&&eL(s.internal.acroformPlugin.xForms,s)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},X8=vn.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(a){return a};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),qr(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),s+="("+xu(n(r[i].toString()))+")"):s+=r[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wg=function(r,t,e){var n=function(s){return s};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),r="("+xu(n(r))+")"},da=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};da.prototype.toString=function(){return this.objId+" 0 R"},da.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},da.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:X8(s,this.objId,this.scope)}):s instanceof da?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var K8=function(){da.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};Xi(K8,da);var G8=function(){da.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+xu(e(r))+")"}},set:function(e){r=e}})};Xi(G8,da);var Qs=function r(){da.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(t,3)},set:function(y){y?this.F=Cn(t,3):this.F=Nn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');e=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof hm)return;i="FieldObject"+r.FieldNum++}var y=function(m){return m};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+xu(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var o=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/pv:l},set:function(y){l=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof hm||this instanceof ol))return wg(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fn?f:wg(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Fn?y:y.substr(0,1)==="("?Hu(y.substr(1,y.length-2)):Hu(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?Hu(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Fn?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Fn?h:wg(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Fn?y:y.substr(0,1)==="("?Hu(y.substr(1,y.length-2)):Hu(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?Hu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Fn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(y){y?this.Ff=Cn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(y){y?this.Ff=Cn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(y){y?this.Ff=Cn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');p=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(p){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Xi(Qs,da);var tu=function(){Qs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X8(t,this.objId,this.scope)},set:function(e){var n,s;s=[],typeof(n=e)=="string"&&(s=function(i,a,u){u||(u=1);for(var o,l=[];o=a.exec(i);)l.push(o[u]);return l}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(e){e?this.Ff=Cn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Cn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(e){e?(this.Ff=Cn(this.Ff,20),t.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(e){e?this.Ff=Cn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(e){e?this.Ff=Cn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(e){e?this.Ff=Cn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Xi(tu,Qs);var ru=function(){tu.call(this),this.fontName="helvetica",this.combo=!1};Xi(ru,tu);var nu=function(){ru.call(this),this.combo=!0};Xi(nu,ru);var qh=function(){nu.call(this),this.edit=!0};Xi(qh,nu);var Fn=function(){Qs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(e){e?this.Ff=Cn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(e){e?this.Ff=Cn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(e){e?this.Ff=Cn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(e){e?this.Ff=Cn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(i){return i};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+xu(e(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){qr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};Xi(Fn,Qs);var Hh=function(){Fn.call(this),this.pushButton=!0};Xi(Hh,Fn);var iu=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};Xi(iu,Fn);var hm=function(){var r,t;Qs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+xu(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){qr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xi(hm,Qs),iu.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},iu.prototype.createOption=function(r){var t=new hm;return t.Parent=this,t.optionName=r,this.Kids.push(t),rL.call(this.scope,t),t};var $h=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};Xi($h,Fn);var ol=function(){Qs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(t){t?this.Ff=Cn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(t){t?this.Ff=Cn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(t){t?this.Ff=Cn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(t){t?this.Ff=Cn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(t){t?this.Ff=Cn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(t){t?this.Ff=Cn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xi(ol,Qs);var Wh=function(){ol.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(r){r?this.Ff=Cn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Xi(Wh,ol);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=ua(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=s2(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+pr(Ft.internal.getWidth(r))+" "+pr(Ft.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+pr(i.fontSize)+" Tf "+s),e.push("BT"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=ua(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=Ft.internal.getHeight(r),a=Ft.internal.getWidth(r),u=s2(r,r.caption);return s.push("1 g"),s.push("0 0 "+pr(a)+" "+pr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+pr(a-1)+" "+pr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+pr(u.fontSize)+" Tf "+n),s.push(u.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(r){var t=ua(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+pr(Ft.internal.getWidth(r))+" "+pr(Ft.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=Ft.RadioButton.Circle.YesNormal,t.D[r]=Ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=ua(r);t.scope=r.scope;var e=[],n=Ft.internal.getWidth(r)<=Ft.internal.getHeight(r)?Ft.internal.getWidth(r)/4:Ft.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Ft.internal.Bezier_C,i=Number((n*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Po(Ft.internal.getWidth(r)/2)+" "+Po(Ft.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),e.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),e.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),e.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=ua(r);t.scope=r.scope;var e=[],n=Ft.internal.getWidth(r)<=Ft.internal.getHeight(r)?Ft.internal.getWidth(r)/4:Ft.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ft.internal.Bezier_C).toFixed(5)),a=Number((n*Ft.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Po(Ft.internal.getWidth(r)/2)+" "+Po(Ft.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),e.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),e.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),e.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Po(Ft.internal.getWidth(r)/2)+" "+Po(Ft.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=ua(r);t.scope=r.scope;var e=[],n=Ft.internal.getWidth(r)<=Ft.internal.getHeight(r)?Ft.internal.getWidth(r)/4:Ft.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ft.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Po(Ft.internal.getWidth(r)/2)+" "+Po(Ft.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),e.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),e.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),e.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=Ft.RadioButton.Cross.YesNormal,t.D[r]=Ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=ua(r);t.scope=r.scope;var e=[],n=Ft.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+pr(Ft.internal.getWidth(r)-2)+" "+pr(Ft.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(pr(n.x1.x)+" "+pr(n.x1.y)+" m"),e.push(pr(n.x2.x)+" "+pr(n.x2.y)+" l"),e.push(pr(n.x4.x)+" "+pr(n.x4.y)+" m"),e.push(pr(n.x3.x)+" "+pr(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=ua(r);t.scope=r.scope;var e=Ft.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+pr(Ft.internal.getWidth(r))+" "+pr(Ft.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pr(Ft.internal.getWidth(r)-2)+" "+pr(Ft.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(pr(e.x1.x)+" "+pr(e.x1.y)+" m"),n.push(pr(e.x2.x)+" "+pr(e.x2.y)+" l"),n.push(pr(e.x4.x)+" "+pr(e.x4.y)+" m"),n.push(pr(e.x3.x)+" "+pr(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=ua(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+pr(Ft.internal.getWidth(r))+" "+pr(Ft.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=Ft.internal.getWidth(r),e=Ft.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},Ft.internal.getWidth=function(r){var t=0;return qr(r)==="object"&&(t=e4(r.Rect[2])),t},Ft.internal.getHeight=function(r){var t=0;return qr(r)==="object"&&(t=e4(r.Rect[3])),t};var rL=vn.addField=function(r){if(tL(this,r),!(r instanceof Qs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=tu,vn.AcroFormListBox=ru,vn.AcroFormComboBox=nu,vn.AcroFormEditBox=qh,vn.AcroFormButton=Fn,vn.AcroFormPushButton=Hh,vn.AcroFormRadioButton=iu,vn.AcroFormCheckBox=$h,vn.AcroFormTextField=ol,vn.AcroFormPasswordField=Wh,vn.AcroFormAppearance=Ft,vn.AcroForm={ChoiceField:tu,ListBox:ru,ComboBox:nu,EditBox:qh,Button:Fn,PushButton:Hh,RadioButton:iu,CheckBox:$h,TextField:ol,PasswordField:Wh,Appearance:Ft},Jt.AcroForm={ChoiceField:tu,ListBox:ru,ComboBox:nu,EditBox:qh,Button:Fn,PushButton:Hh,RadioButton:iu,CheckBox:$h,TextField:ol,PasswordField:Wh,Appearance:Ft};var nL=Jt.AcroForm;function Y8(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){r.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(O,I){var E,R,A,w,_,x=t;if((I=I||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(B(O))for(_ in e)for(A=e[_],E=0;E<A.length;E+=1){for(w=!0,R=0;R<A[E].length;R+=1)if(A[E][R]!==void 0&&A[E][R]!==O[R]){w=!1;break}if(w===!0){x=_;break}}else for(_ in e)for(A=e[_],E=0;E<A.length;E+=1){for(w=!0,R=0;R<A[E].length;R+=1)if(A[E][R]!==void 0&&A[E][R]!==O.charCodeAt(R)){w=!1;break}if(w===!0){x=_;break}}return x===t&&I!==t&&(x=I),x},s=function O(I){for(var E=this.internal.write,R=this.internal.putStream,A=(0,this.internal.getFilters)();A.indexOf("FlateEncode")!==-1;)A.splice(A.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:I.width}),w.push({key:"Height",value:I.height}),I.colorSpace===p.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===p.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var _="",x=0,S=I.transparency.length;x<S;x++)_+=I.transparency[x]+" "+I.transparency[x]+" ";w.push({key:"Mask",value:"["+_+"]"})}I.sMask!==void 0&&w.push({key:"SMask",value:I.objectId+1+" 0 R"});var C=I.filter!==void 0?["/"+I.filter]:void 0;if(R({data:I.data,additionalKeyValues:w,alreadyAppliedFilters:C,objectId:I.objectId}),E("endobj"),"sMask"in I&&I.sMask!==void 0){var q="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,P={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:q,data:I.sMask};"filter"in I&&(P.filter=I.filter),O.call(this,P)}if(I.colorSpace===p.INDEXED){var $=this.internal.newObject();R({data:T(new Uint8Array(I.palette)),objectId:$}),E("endobj")}},i=function(){var O=this.internal.collections.addImage_images;for(var I in O)s.call(this,O[I])},a=function(){var O,I=this.internal.collections.addImage_images,E=this.internal.write;for(var R in I)E("/I"+(O=I[R]).index,O.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},o=function(){var O=this.internal.collections.addImage_images;return u.call(this),O},l=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof r["process"+O.toUpperCase()]=="function"},d=function(O){return qr(O)==="object"&&O.nodeType===1},f=function(O,I){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var E=""+O.getAttribute("src");if(E.indexOf("data:image/")===0)return Vh(unescape(E).split("base64,").pop());var R=r.loadFile(E,!0);if(R!==void 0)return R}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var A;switch(I){case"PNG":A="image/png";break;case"WEBP":A="image/webp";break;case"JPEG":case"JPG":default:A="image/jpeg"}return Vh(O.toDataURL(A,1).split("base64,").pop())}},h=function(O){var I=this.internal.collections.addImage_images;if(I){for(var E in I)if(O===I[E].alias)return I[E]}},g=function(O,I,E){return O||I||(O=-96,I=-96),O<0&&(O=-1*E.width*72/O/this.internal.scaleFactor),I<0&&(I=-1*E.height*72/I/this.internal.scaleFactor),O===0&&(O=I*E.width/E.height),I===0&&(I=O*E.height/E.width),[O,I]},v=function(O,I,E,R,A,w){var _=g.call(this,E,R,A),x=this.internal.getCoordinateString,S=this.internal.getVerticalCoordinateString,C=o.call(this);if(E=_[0],R=_[1],C[A.index]=A,w){w*=Math.PI/180;var q=Math.cos(w),P=Math.sin(w),$=function(Z){return Z.toFixed(4)},X=[$(q),$(P),$(-1*P),$(q),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,x(O),S(I+R),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([x(E),"0","0",x(R),"0","0","cm"].join(" "))):this.internal.write([x(E),"0","0",x(R),x(O),S(I+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+A.index+" Do"),this.internal.write("Q")},p=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},m=r.__addimage__.sHashCode=function(O){var I,E,R=0;if(typeof O=="string")for(E=O.length,I=0;I<E;I++)R=(R<<5)-R+O.charCodeAt(I),R|=0;else if(B(O))for(E=O.byteLength/2,I=0;I<E;I++)R=(R<<5)-R+O[I],R|=0;return R},b=r.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var I=!0;return O.length===0&&(I=!1),O.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(I=!1),I},k=r.__addimage__.extractImageFromDataUrl=function(O){var I=(O=O||"").split("base64,"),E=null;if(I.length===2){var R=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(R)&&(E={mimeType:R[1],charset:R[2],data:I[1]})}return E},N=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(O){return N()&&O instanceof ArrayBuffer};var B=r.__addimage__.isArrayBufferView=function(O){return N()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},j=r.__addimage__.binaryStringToUint8Array=function(O){for(var I=O.length,E=new Uint8Array(I),R=0;R<I;R++)E[R]=O.charCodeAt(R);return E},T=r.__addimage__.arrayBufferToBinaryString=function(O){for(var I="",E=B(O)?O:new Uint8Array(O),R=0;R<E.length;R+=8192)I+=String.fromCharCode.apply(null,E.subarray(R,R+8192));return I};r.addImage=function(){var O,I,E,R,A,w,_,x,S;if(typeof arguments[1]=="number"?(I=t,E=arguments[1],R=arguments[2],A=arguments[3],w=arguments[4],_=arguments[5],x=arguments[6],S=arguments[7]):(I=arguments[1],E=arguments[2],R=arguments[3],A=arguments[4],w=arguments[5],_=arguments[6],x=arguments[7],S=arguments[8]),qr(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var C=O;O=C.imageData,I=C.format||I||t,E=C.x||E||0,R=C.y||R||0,A=C.w||C.width||A,w=C.h||C.height||w,_=C.alias||_,x=C.compression||x,S=C.rotation||C.angle||S}var q=this.internal.getFilters();if(x===void 0&&q.indexOf("FlateEncode")!==-1&&(x="SLOW"),isNaN(E)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=M.call(this,O,I,_,x);return v.call(this,E,R,A,w,P,S),this};var M=function(O,I,E,R){var A,w,_;if(typeof O=="string"&&n(O)===t){O=unescape(O);var x=U(O,!1);(x!==""||(x=r.loadFile(O,!0))!==void 0)&&(O=x)}if(d(O)&&(O=f(O,I)),I=n(O,I),!c(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((_=E)==null||_.length===0)&&(E=function(S){return typeof S=="string"||B(S)?m(S):B(S.data)?m(S.data):null}(O)),(A=h.call(this,E))||(N()&&(O instanceof Uint8Array||I==="RGBA"||(w=O,O=j(O))),A=this["process"+I.toUpperCase()](O,l.call(this),E,function(S){return S&&typeof S=="string"&&(S=S.toUpperCase()),S in r.image_compression?S:y.NONE}(R),w)),!A)throw new Error("An unknown error occurred whilst processing the image.");return A},U=r.__addimage__.convertBase64ToBinaryString=function(O,I){var E;I=typeof I!="boolean"||I;var R,A="";if(typeof O=="string"){R=(E=k(O))!==null?E.data:O;try{A=Vh(R)}catch(w){if(I)throw b(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return A};r.getImageProperties=function(O){var I,E,R="";if(d(O)&&(O=f(O)),typeof O=="string"&&n(O)===t&&((R=U(O,!1))===""&&(R=r.loadFile(O)||""),O=R),E=n(O),!c(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(!N()||O instanceof Uint8Array||(O=j(O)),!(I=this["process"+E.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=E,I}})(Jt.API),function(r){var t=function(e){if(e!==void 0&&e!="")return!0};Jt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,s,i,a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<l.length;f++){n=l[f];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+h(y(m))+") >>",v.content=i;var b=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(v.objId,"0 R",p.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+u(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var B=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,s,i,a){var u=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:o(e),y:l(n),w:o(e+s),h:l(n+i)},options:a,type:"link"})},r.textWithLink=function(e,n,s,i){var a,u,o=this.getTextWidth(e),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var c=this.splitTextToSize(e,u).length;a=Math.ceil(l*c)}else u=o,a=l;return this.text(e,n,s,i),s+=.2*l,i.align==="center"&&(n-=o/2),i.align==="right"&&(n-=o),this.link(n,s-l,u,a,i),o},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Jt.API),function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},u=r.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},o=r.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&s.indexOf(v.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var l=r.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&i(v)&&t[v.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(v){var p=0,y=e,m="",b=0;for(p=0;p<v.length;p+=1)y[v.charCodeAt(p)]!==void 0?(b++,typeof(y=y[v.charCodeAt(p)])=="number"&&(m+=String.fromCharCode(y),y=e,b=0),p===v.length-1&&(y=e,m+=v.charAt(p-(b-1)),p-=b-1,b=0)):(y=e,m+=v.charAt(p-b),p-=b,b=0);return m};r.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var f=r.__arabicParser__.getCorrectForm=function(v,p,y){return a(v)?i(v)===!1?-1:!l(v)||!a(p)&&!a(y)||!a(y)&&u(p)||u(v)&&!a(p)||u(v)&&o(p)||u(v)&&u(p)?0:c(v)&&a(p)&&!u(p)&&a(y)&&l(y)?3:u(v)||!a(y)?1:2:-1},h=function(v){var p=0,y=0,m=0,b="",k="",N="",B=(v=v||"").split("\\s+"),j=[];for(p=0;p<B.length;p+=1){for(j.push(""),y=0;y<B[p].length;y+=1)b=B[p][y],k=B[p][y-1],N=B[p][y+1],a(b)?(m=f(b,k,N),j[p]+=m!==-1?String.fromCharCode(t[b.charCodeAt(0)][m]):b):j[p]+=b;j[p]=d(j[p])}return j.join(" ")},g=r.__arabicParser__.processArabic=r.processArabic=function(){var v,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(p)){var m=0;for(y=[],m=0;m<p.length;m+=1)Array.isArray(p[m])?y.push([h(p[m][0]),p[m][1],p[m][2]]):y.push([h(p[m])]);v=y}else v=h(p);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};r.events.push(["preProcessText",g])}(Jt.API),Jt.API.autoPrint=function(r){var t;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(u){a=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var s;if((e=e||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Jt.API),function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var o=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return o},set:function(v){o=v}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(o){return n.call(this),this.internal.__cell__.headerFunction=typeof o=="function"?o:void 0,this},r.getTextDimensions=function(o,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),f=l.scaleFactor||this.internal.scaleFactor,h=0,g=0,v=0,p=this;if(!Array.isArray(o)&&typeof o!="string"){if(typeof o!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");o=String(o)}var y=l.maxWidth;y>0?typeof o=="string"?o=this.splitTextToSize(o,y):Object.prototype.toString.call(o)==="[object Array]"&&(o=o.reduce(function(b,k){return b.concat(p.splitTextToSize(k,y))},[])):o=Array.isArray(o)?o:[o];for(var m=0;m<o.length;m++)h<(v=this.getStringUnitWidth(o[m],{font:d})*c)&&(h=v);return h!==0&&(g=o.length),{w:h/=f,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var o=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(o.left,o.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var o;o=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===o.lineNumber?(o.x=(l.x||0)+(l.width||0),o.y=l.y||0):l.y+l.height+o.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),o.y=d.top,h&&f&&(this.printHeaderRow(o.lineNumber,!0),o.y+=f[0].height)):o.y=l.y+l.height||o.y),o.text[0]!==void 0&&(this.rect(o.x,o.y,o.width,o.height,e===!0?"FD":void 0),o.align==="right"?this.text(o.text,o.x+o.width-c,o.y+c,{align:"right",baseline:"top"}):o.align==="center"?this.text(o.text,o.x+o.width/2,o.y+c,{align:"center",baseline:"top",maxWidth:o.width-c-c}):this.text(o.text,o.x+c,o.y+c,{align:"left",baseline:"top",maxWidth:o.width-c-c})),this.internal.__cell__.lastCell=o,this};r.table=function(o,l,c,d,f){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,g,v,p,y=[],m=[],b=[],k={},N={},B=[],j=[],T=(f=f||{}).autoSize||!1,M=f.printHeaders!==!1,U=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,O=f.margins||Object.assign({width:this.getPageWidth()},t),I=typeof f.padding=="number"?f.padding:3,E=f.headerBackgroundColor||"#c8c8c8",R=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=R,this.setFontSize(U),d==null)m=y=Object.keys(c[0]),b=y.map(function(){return"left"});else if(Array.isArray(d)&&qr(d[0])==="object")for(y=d.map(function(C){return C.name}),m=d.map(function(C){return C.prompt||C.name||""}),b=d.map(function(C){return C.align||"left"}),h=0;h<d.length;h+=1)N[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(m=y=d,b=y.map(function(){return"left"}));if(T||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<y.length;h+=1){for(k[p=y[h]]=c.map(function(C){return C[p]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=k[p],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)B.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[p]=Math.max.apply(null,B)+I+I,B=[]}if(M){var A={};for(h=0;h<y.length;h+=1)A[y[h]]={},A[y[h]].text=m[h],A[y[h]].align=b[h];var w=u.call(this,A,N);j=y.map(function(C){return new i(o,l,N[C],w,A[C].text,void 0,A[C].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var _=d.reduce(function(C,q){return C[q.name]=q.align,C},{});for(h=0;h<c.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:c[h]},this);var x=u.call(this,c[h],N);for(v=0;v<y.length;v+=1){var S=c[h][y[v]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:v,data:S},this),a.call(this,new i(o,l,N[y[v]],x,S,h+2,_[y[v]]))}}return this.internal.__cell__.table_x=o,this.internal.__cell__.table_y=l,this};var u=function(o,l){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(o).map(function(h){var g=o[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,l[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+c+c},this).reduce(function(h,g){return Math.max(h,g)},0)};r.setTableHeaderRow=function(o){n.call(this),this.internal.__cell__.tableHeaderRow=o},r.printHeaderRow=function(o,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=o;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),e=!1}}(Jt.API);var Q8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Z8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a2=Y8(Z8),J8=[100,200,300,400,500,600,700,800,900],iL=Y8(J8);function o2(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=function(i){return Q8[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(i){return typeof a2[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:t,style:e,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:t,style:[s,e,n].join(" ")}}}function t4(r,t,e,n){var s;for(s=e;s>=0&&s<t.length;s+=n)if(r[t[s]])return r[t[s]];for(s=e;s>=0&&s<t.length;s-=n)if(r[t[s]])return r[t[s]]}var sL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function n4(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function aL(r,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",s=Object.assign({},sL,e.genericFontFamilies||{}),i=null,a=null,u=0;u<t.length;++u)if(s[(i=o2(t[u])).family]&&(i.family=s[i.family]),r.hasOwnProperty(i.family)){a=r[i.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+n4(i)+"' and default family '"+n+"'.");if(a=function(o,l){if(l[o])return l[o];var c=a2[o],d=c<=a2.normal?-1:1,f=t4(l,Z8,c,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+o);return f}(i.stretch,a),a=function(o,l){if(l[o])return l[o];for(var c=Q8[o],d=0;d<c.length;++d)if(l[c[d]])return l[c[d]];throw new Error("Could not find a matching font-style for "+o)}(i.style,a),!(a=function(o,l){if(l[o])return l[o];if(o===400&&l[500])return l[500];if(o===500&&l[400])return l[400];var c=iL[o],d=t4(l,J8,c,o<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+o);return d}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+n4(i)+"'.");return a}function i4(r){return r.trimLeft()}function oL(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function lL(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var Zd,s4,a4,_g=["times"];(function(r){var t,e,n,s,i,a,u,o,l,c=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new o,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,o=this.internal.Matrix,l=new c}]);var d=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=P;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ce){X=!!ce}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ce){Z=!!ce}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(ce){isNaN(ce)||(V=ce)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(ce){isNaN(ce)||(Q=ce)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(ce){var ne;typeof ce=="number"?ne=[ce,ce,ce,ce]:((ne=new Array(4))[0]=ce[0],ne[1]=ce.length>=2?ce[1]:ne[0],ne[2]=ce.length>=3?ce[2]:ne[0],ne[3]=ce.length>=4?ce[3]:ne[1]),l.margin=ne}});var F=!1;Object.defineProperty(this,"autoPaging",{get:function(){return F},set:function(ce){F=ce}});var D=0;Object.defineProperty(this,"lastBreak",{get:function(){return D},set:function(ce){D=ce}});var K=[];Object.defineProperty(this,"pageBreaks",{get:function(){return K},set:function(ce){K=ce}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(ce){ce instanceof c&&(l=ce)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(ce){l.path=ce}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(ce){ee=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var ne;ne=f(ce),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var ne=f(ce);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var ue=null;function ie(ce,ne){if(ue===null){var se=function(ye){var me=[];return Object.keys(ye).forEach(function(_e){ye[_e].forEach(function(xe){var ke=null;switch(xe){case"bold":ke={family:_e,weight:"bold"};break;case"italic":ke={family:_e,style:"italic"};break;case"bolditalic":ke={family:_e,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:_e}}ke!==null&&(ke.ref={name:_e,style:xe},me.push(ke))})}),me}(ce.getFontList());ue=function(ye){for(var me={},_e=0;_e<ye.length;++_e){var xe=o2(ye[_e]),ke=xe.family,Ce=xe.stretch,Oe=xe.style,Ue=xe.weight;me[ke]=me[ke]||{},me[ke][Ce]=me[ke][Ce]||{},me[ke][Ce][Oe]=me[ke][Ce][Oe]||{},me[ke][Ce][Oe][Ue]=xe}return me}(se.concat(ne))}return ue}var ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return ae},set:function(ce){ue=null,ae=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var ne;if(this.ctx.font=ce,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var se=ne[1],ye=(ne[2],ne[3]),me=ne[4],_e=(ne[5],ne[6]),xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(xe==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var ke=function(He){var Xe,Te,ht=[],Ze=He.trim();if(Ze==="")return _g;if(Ze in r4)return[r4[Ze]];for(;Ze!=="";){switch(Te=null,Xe=(Ze=i4(Ze)).charAt(0)){case'"':case"'":Te=oL(Ze.substring(1),Xe);break;default:Te=lL(Ze)}if(Te===null||(ht.push(Te[0]),(Ze=i4(Te[1]))!==""&&Ze.charAt(0)!==","))return _g;Ze=Ze.replace(/^,/,"")}return ht}(_e);if(this.fontFaces){var Ce=aL(ie(this.pdf,this.fontFaces),ke.map(function(He){return{family:He,stretch:"normal",weight:ye,style:se}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Oe="";(ye==="bold"||parseInt(ye,10)>=700||se==="bold")&&(Oe="bold"),se==="italic"&&(Oe+="italic"),Oe.length===0&&(Oe="normal");for(var Ue="",ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<ke.length;Be++){if(this.pdf.internal.getFont(ke[Be],Oe,{noFallback:!0,disableWarning:!0})!==void 0){Ue=ke[Be];break}if(Oe==="bolditalic"&&this.pdf.internal.getFont(ke[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=ke[Be],Oe="bold";else if(this.pdf.internal.getFont(ke[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=ke[Be],Oe="normal";break}}if(Ue===""){for(var $e=0;$e<ke.length;$e++)if(ve[ke[$e]]){Ue=ve[ke[$e]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,Oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};d.prototype.setLineDash=function(P){this.lineDash=P},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){k.call(this,"fill",!1)},d.prototype.stroke=function(){k.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(P,$){if(isNaN(P)||isNaN($))throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(P,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(P,$)},d.prototype.closePath=function(){var P=new a(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&qr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){P=new a(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},d.prototype.lineTo=function(P,$){if(isNaN(P)||isNaN($))throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(P,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},d.prototype.quadraticCurveTo=function(P,$,X,Z){if(isNaN(X)||isNaN(Z)||isNaN(P)||isNaN($))throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new a(X,Z)),Q=this.ctx.transform.applyToPoint(new a(P,$));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},d.prototype.bezierCurveTo=function(P,$,X,Z,V,Q){if(isNaN(V)||isNaN(Q)||isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var F=this.ctx.transform.applyToPoint(new a(V,Q)),D=this.ctx.transform.applyToPoint(new a(P,$)),K=this.ctx.transform.applyToPoint(new a(X,Z));this.path.push({type:"bct",x1:D.x,y1:D.y,x2:K.x,y2:K.y,x:F.x,y:F.y}),this.ctx.lastPoint=new a(F.x,F.y)},d.prototype.arc=function(P,$,X,Z,V,Q){if(isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z)||isNaN(V))throw Gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var F=this.ctx.transform.applyToPoint(new a(P,$));P=F.x,$=F.y;var D=this.ctx.transform.applyToPoint(new a(0,X)),K=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(D.x-K.x,2)+Math.pow(D.y-K.y,2))}Math.abs(V-Z)>=2*Math.PI&&(Z=0,V=2*Math.PI),this.path.push({type:"arc",x:P,y:$,radius:X,startAngle:Z,endAngle:V,counterclockwise:Q})},d.prototype.arcTo=function(P,$,X,Z,V){throw new Error("arcTo not implemented.")},d.prototype.rect=function(P,$,X,Z){if(isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,$),this.lineTo(P+X,$),this.lineTo(P+X,$+Z),this.lineTo(P,$+Z),this.lineTo(P,$),this.lineTo(P+X,$),this.lineTo(P,$)},d.prototype.fillRect=function(P,$,X,Z){if(isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,$,X,Z),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},d.prototype.strokeRect=function(P,$,X,Z){if(isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,$,X,Z),this.stroke())},d.prototype.clearRect=function(P,$,X,Z){if(isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z))throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,$,X,Z))},d.prototype.save=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},d.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(P){var $,X,Z,V;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))$=0,X=0,Z=0,V=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Q!==null)$=parseInt(Q[1]),X=parseInt(Q[2]),Z=parseInt(Q[3]),V=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)$=parseInt(Q[1]),X=parseInt(Q[2]),Z=parseInt(Q[3]),V=parseFloat(Q[4]);else{if(V=1,typeof P=="string"&&P.charAt(0)!=="#"){var F=new H8(P);P=F.ok?F.toHex():"#000000"}P.length===4?($=P.substring(1,2),$+=$,X=P.substring(2,3),X+=X,Z=P.substring(3,4),Z+=Z):($=P.substring(1,3),X=P.substring(3,5),Z=P.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),Z=parseInt(Z,16)}}return{r:$,g:X,b:Z,a:V,style:P}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(P,$,X,Z){if(isNaN($)||isNaN(X)||typeof P!="string")throw Gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var V=x(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;I.call(this,{text:P,x:$,y:X,scale:Q,angle:V,align:this.textAlign,maxWidth:Z})}},d.prototype.strokeText=function(P,$,X,Z){if(isNaN($)||isNaN(X)||typeof P!="string")throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Z=isNaN(Z)?void 0:Z;var V=x(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;I.call(this,{text:P,x:$,y:X,scale:Q,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:Z})}},d.prototype.measureText=function(P){if(typeof P!="string")throw Gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,Z=$.internal.getFontSize(),V=$.getStringUnitWidth(P)*Z/$.internal.scaleFactor,Q=function(F){var D=(F=F||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return D}}),this};return new Q({width:V*=Math.round(96*X/72*1e4)/1e4})},d.prototype.scale=function(P,$){if(isNaN(P)||isNaN($))throw Gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new o(P,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.rotate=function(P){if(isNaN(P))throw Gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new o(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.translate=function(P,$){if(isNaN(P)||isNaN($))throw Gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new o(1,0,0,1,P,$);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.transform=function(P,$,X,Z,V,Q){if(isNaN(P)||isNaN($)||isNaN(X)||isNaN(Z)||isNaN(V)||isNaN(Q))throw Gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var F=new o(P,$,X,Z,V,Q);this.ctx.transform=this.ctx.transform.multiply(F)},d.prototype.setTransform=function(P,$,X,Z,V,Q){P=isNaN(P)?1:P,$=isNaN($)?0:$,X=isNaN(X)?0:X,Z=isNaN(Z)?1:Z,V=isNaN(V)?0:V,Q=isNaN(Q)?0:Q,this.ctx.transform=new o(P,$,X,Z,V,Q)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(P,$,X,Z,V,Q,F,D,K){var ee=this.pdf.getImageProperties(P),ue=1,ie=1,ae=1,ce=1;Z!==void 0&&D!==void 0&&(ae=D/Z,ce=K/V,ue=ee.width/Z*D/Z,ie=ee.height/V*K/V),Q===void 0&&(Q=$,F=X,$=0,X=0),Z!==void 0&&D===void 0&&(D=Z,K=V),Z===void 0&&D===void 0&&(D=ee.width,K=ee.height);for(var ne,se=this.ctx.transform.decompose(),ye=x(se.rotate.shx),me=new o,_e=(me=(me=(me=me.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new u(Q-$*ae,F-X*ce,Z*ue,V*ie)),xe=p.call(this,_e),ke=[],Ce=0;Ce<xe.length;Ce+=1)ke.indexOf(xe[Ce])===-1&&ke.push(xe[Ce]);if(b(ke),this.autoPaging)for(var Oe=ke[0],Ue=ke[ke.length-1],ve=Oe;ve<Ue+1;ve++){this.pdf.setPage(ve);var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=ve===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=ve===1?0:He+(ve-2)*Xe;if(this.ctx.clip_path.length!==0){var ht=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(ne,this.posX+this.margin[3],-Te+$e+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=ht}var Ze=JSON.parse(JSON.stringify(_e));Ze=m([Ze],this.posX+this.margin[3],-Te+$e+this.ctx.prevPageLastElemOffset)[0];var st=(ve>Oe||ve<Ue)&&v.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Xe,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,ye),st&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,ye)};var p=function(P,$,X){var Z=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Z.push(Math.floor((P.y+V)/X)+1);break;case"arc":Z.push(Math.floor((P.y+V-P.radius)/X)+1),Z.push(Math.floor((P.y+V+P.radius)/X)+1);break;case"qct":var Q=S(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Z.push(Math.floor((Q.y+V)/X)+1),Z.push(Math.floor((Q.y+Q.h+V)/X)+1);break;case"bct":var F=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Z.push(Math.floor((F.y+V)/X)+1),Z.push(Math.floor((F.y+F.h+V)/X)+1);break;case"rect":Z.push(Math.floor((P.y+V)/X)+1),Z.push(Math.floor((P.y+P.h+V)/X)+1)}for(var D=0;D<Z.length;D+=1)for(;this.pdf.internal.getNumberOfPages()<Z[D];)y.call(this);return Z},y=function(){var P=this.fillStyle,$=this.strokeStyle,X=this.font,Z=this.lineCap,V=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=$,this.font=X,this.lineCap=Z,this.lineWidth=V,this.lineJoin=Q},m=function(P,$,X){for(var Z=0;Z<P.length;Z++)switch(P[Z].type){case"bct":P[Z].x2+=$,P[Z].y2+=X;case"qct":P[Z].x1+=$,P[Z].y1+=X;case"mt":case"lt":case"arc":default:P[Z].x+=$,P[Z].y+=X}return P},b=function(P){return P.sort(function($,X){return $-X})},k=function(P,$){for(var X,Z,V=this.fillStyle,Q=this.strokeStyle,F=this.lineCap,D=this.lineWidth,K=Math.abs(D*this.ctx.transform.scaleX),ee=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),ae=[],ce=0;ce<ie.length;ce++)if(ie[ce].x!==void 0)for(var ne=p.call(this,ie[ce]),se=0;se<ne.length;se+=1)ae.indexOf(ne[se])===-1&&ae.push(ne[se]);for(var ye=0;ye<ae.length;ye++)for(;this.pdf.internal.getNumberOfPages()<ae[ye];)y.call(this);if(b(ae),this.autoPaging)for(var me=ae[0],_e=ae[ae.length-1],xe=me;xe<_e+1;xe++){this.pdf.setPage(xe),this.fillStyle=V,this.strokeStyle=Q,this.lineCap=F,this.lineWidth=K,this.lineJoin=ee;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=xe===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ve=xe===1?0:Oe+(xe-2)*Ue;if(this.ctx.clip_path.length!==0){var Be=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(X,this.posX+this.margin[3],-ve+Ce+this.ctx.prevPageLastElemOffset),N.call(this,P,!0),this.path=Be}if(Z=JSON.parse(JSON.stringify(ue)),this.path=m(Z,this.posX+this.margin[3],-ve+Ce+this.ctx.prevPageLastElemOffset),$===!1||xe===0){var $e=(xe>me||xe<_e)&&v.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ue,null).clip().discardPath()),N.call(this,P,$),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=D}else this.lineWidth=K,N.call(this,P,$),this.lineWidth=D;this.path=ue},N=function(P,$){if((P!=="stroke"||$||!g.call(this))&&(P==="stroke"||$||!h.call(this))){for(var X,Z,V=[],Q=this.path,F=0;F<Q.length;F++){var D=Q[F];switch(D.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:D,deltas:[],abs:[]});break;case"lt":var K=V.length;if(Q[F-1]&&!isNaN(Q[F-1].x)&&(X=[D.x-Q[F-1].x,D.y-Q[F-1].y],K>0)){for(;K>=0;K--)if(V[K-1].close!==!0&&V[K-1].begin!==!0){V[K-1].deltas.push(X),V[K-1].abs.push(D);break}}break;case"bct":X=[D.x1-Q[F-1].x,D.y1-Q[F-1].y,D.x2-Q[F-1].x,D.y2-Q[F-1].y,D.x-Q[F-1].x,D.y-Q[F-1].y],V[V.length-1].deltas.push(X);break;case"qct":var ee=Q[F-1].x+2/3*(D.x1-Q[F-1].x),ue=Q[F-1].y+2/3*(D.y1-Q[F-1].y),ie=D.x+2/3*(D.x1-D.x),ae=D.y+2/3*(D.y1-D.y),ce=D.x,ne=D.y;X=[ee-Q[F-1].x,ue-Q[F-1].y,ie-Q[F-1].x,ae-Q[F-1].y,ce-Q[F-1].x,ne-Q[F-1].y],V[V.length-1].deltas.push(X);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(D)}}Z=$?null:P==="stroke"?"stroke":"fill";for(var se=!1,ye=0;ye<V.length;ye++)if(V[ye].arc)for(var me=V[ye].abs,_e=0;_e<me.length;_e++){var xe=me[_e];xe.type==="arc"?T.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,$,!se):E.call(this,xe.x,xe.y),se=!0}else if(V[ye].close===!0)this.pdf.internal.out("h"),se=!1;else if(V[ye].begin!==!0){var ke=V[ye].start.x,Ce=V[ye].start.y;R.call(this,V[ye].deltas,ke,Ce),se=!0}Z&&M.call(this,Z),$&&U.call(this)}},B=function(P){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-X;case"top":return P+$-X;case"hanging":return P+$-2*X;case"middle":return P+$/2-X;case"ideographic":return P;case"alphabetic":default:return P}},j=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function($,X){this.colorStops.push([$,X])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(P,$,X,Z,V,Q,F,D,K){for(var ee=w.call(this,X,Z,V,Q),ue=0;ue<ee.length;ue++){var ie=ee[ue];ue===0&&(K?O.call(this,ie.x1+P,ie.y1+$):E.call(this,ie.x1+P,ie.y1+$)),A.call(this,P,$,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}D?U.call(this):M.call(this,F)},M=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,$){this.pdf.internal.out(e(P)+" "+n($)+" m")},I=function(P){var $;switch(P.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var X=this.pdf.getTextDimensions(P.text),Z=B.call(this,P.y),V=j.call(this,Z)-X.h,Q=this.ctx.transform.applyToPoint(new a(P.x,Z)),F=this.ctx.transform.decompose(),D=new o;D=(D=(D=D.multiply(F.translate)).multiply(F.skew)).multiply(F.scale);for(var K,ee,ue,ie=this.ctx.transform.applyToRectangle(new u(P.x,Z,X.w,X.h)),ae=D.applyToRectangle(new u(P.x,V,X.w,X.h)),ce=p.call(this,ae),ne=[],se=0;se<ce.length;se+=1)ne.indexOf(ce[se])===-1&&ne.push(ce[se]);if(b(ne),this.autoPaging)for(var ye=ne[0],me=ne[ne.length-1],_e=ye;_e<me+1;_e++){this.pdf.setPage(_e);var xe=_e===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Oe=Ce-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],ve=Ue-this.margin[3],Be=_e===1?0:ke+(_e-2)*Oe;if(this.ctx.clip_path.length!==0){var $e=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=m(K,this.posX+this.margin[3],-1*Be+xe),N.call(this,"fill",!0),this.path=$e}var He=m([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-Be+xe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*P.scale),ue=this.lineWidth,this.lineWidth=ue*P.scale);var Xe=this.autoPaging!=="text";if(Xe||He.y+He.h<=Ce){if(Xe||He.y>=xe&&He.x<=Ue){var Te=Xe?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Ue-He.x)[0],ht=m([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-Be+xe+this.ctx.prevPageLastElemOffset)[0],Ze=Xe&&(_e>ye||_e<me)&&v.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,Oe,null).clip().discardPath()),this.pdf.text(Te,ht.x,ht.y,{angle:P.angle,align:$,renderingMode:P.renderingMode}),Ze&&this.pdf.restoreGraphicsState()}}else He.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-He.y);P.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ue)}else P.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*P.scale),ue=this.lineWidth,this.lineWidth=ue*P.scale),this.pdf.text(P.text,Q.x+this.posX,Q.y+this.posY,{angle:P.angle,align:$,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ue)},E=function(P,$,X,Z){X=X||0,Z=Z||0,this.pdf.internal.out(e(P+X)+" "+n($+Z)+" l")},R=function(P,$,X){return this.pdf.lines(P,$,X,null,null)},A=function(P,$,X,Z,V,Q,F,D){this.pdf.internal.out([t(s(X+P)),t(i(Z+$)),t(s(V+P)),t(i(Q+$)),t(s(F+P)),t(i(D+$)),"c"].join(" "))},w=function(P,$,X,Z){for(var V=2*Math.PI,Q=Math.PI/2;$>X;)$-=V;var F=Math.abs(X-$);F<V&&Z&&(F=V-F);for(var D=[],K=Z?-1:1,ee=$;F>1e-5;){var ue=ee+K*Math.min(F,Q);D.push(_.call(this,P,ee,ue)),F-=Math.abs(ue-ee),ee=ue}return D},_=function(P,$,X){var Z=(X-$)/2,V=P*Math.cos(Z),Q=P*Math.sin(Z),F=V,D=-Q,K=F*F+D*D,ee=K+F*V+D*Q,ue=4/3*(Math.sqrt(2*K*ee)-ee)/(F*Q-D*V),ie=F-ue*D,ae=D+ue*F,ce=ie,ne=-ae,se=Z+$,ye=Math.cos(se),me=Math.sin(se);return{x1:P*Math.cos($),y1:P*Math.sin($),x2:ie*ye-ae*me,y2:ie*me+ae*ye,x3:ce*ye-ne*me,y3:ce*me+ne*ye,x4:P*Math.cos(X),y4:P*Math.sin(X)}},x=function(P){return 180*P/Math.PI},S=function(P,$,X,Z,V,Q){var F=P+.5*(X-P),D=$+.5*(Z-$),K=V+.5*(X-V),ee=Q+.5*(Z-Q),ue=Math.min(P,V,F,K),ie=Math.max(P,V,F,K),ae=Math.min($,Q,D,ee),ce=Math.max($,Q,D,ee);return new u(ue,ae,ie-ue,ce-ae)},C=function(P,$,X,Z,V,Q,F,D){var K,ee,ue,ie,ae,ce,ne,se,ye,me,_e,xe,ke,Ce,Oe=X-P,Ue=Z-$,ve=V-X,Be=Q-Z,$e=F-V,He=D-Q;for(ee=0;ee<41;ee++)ye=(ne=(ue=P+(K=ee/40)*Oe)+K*((ae=X+K*ve)-ue))+K*(ae+K*(V+K*$e-ae)-ne),me=(se=(ie=$+K*Ue)+K*((ce=Z+K*Be)-ie))+K*(ce+K*(Q+K*He-ce)-se),ee==0?(_e=ye,xe=me,ke=ye,Ce=me):(_e=Math.min(_e,ye),xe=Math.min(xe,me),ke=Math.max(ke,ye),Ce=Math.max(Ce,me));return new u(Math.round(_e),Math.round(xe),Math.round(ke-_e),Math.round(Ce-xe))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,$,X=(P=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Jt.API),function(r){var t=function(i){var a,u,o,l,c,d,f,h,g,v;for(u=[],o=0,l=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;l>o;o+=4)(c=(i.charCodeAt(o)<<24)+(i.charCodeAt(o+1)<<16)+(i.charCodeAt(o+2)<<8)+i.charCodeAt(o+3))!==0?(d=(c=((c=((c=((c=(c-(v=c%85))/85)-(g=c%85))/85)-(h=c%85))/85)-(f=c%85))/85)%85,u.push(d+33,f+33,h+33,g+33,v+33)):u.push(122);return function(p,y){for(var m=y;m>0;m--)p.pop()}(u,a.length),String.fromCharCode.apply(String,u)+"~>"},e=function(i){var a,u,o,l,c,d=String,f="length",h=255,g="charCodeAt",v="slice",p="replace";for(i[v](-2),i=i[v](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),o=[],l=0,c=(i+=a="uuuuu"[v](i[f]%5||5))[f];c>l;l+=5)u=52200625*(i[g](l)-33)+614125*(i[g](l+1)-33)+7225*(i[g](l+2)-33)+85*(i[g](l+3)-33)+(i[g](l+4)-33),o.push(h&u>>24,h&u>>16,h&u>>8,h&u);return function(y,m){for(var b=m;b>0;b--)y.pop()}(o,a[f]),d.fromCharCode.apply(d,o)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var u="",o=0;o<i.length;o+=2)u+=String.fromCharCode("0x"+(i[o]+i[o+1]));return u},s=function(i){for(var a=new Uint8Array(i.length),u=i.length;u--;)a[u]=i.charCodeAt(u);return i=(a=t2(a)).reduce(function(o,l){return o+String.fromCharCode(l)},"")};r.processDataByFilters=function(i,a){var u=0,o=i||"",l=[];for(typeof(a=a||[])=="string"&&(a=[a]),u=0;u<a.length;u+=1)switch(a[u]){case"ASCII85Decode":case"/ASCII85Decode":o=e(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=n(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[u]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(Jt.API),function(r){r.loadFile=function(t,e,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var u=void 0;try{u=function(o,l,c){var d=new XMLHttpRequest,f=0,h=function(g){var v=g.length,p=[],y=String.fromCharCode;for(f=0;f<v;f+=1)p.push(y(255&g.charCodeAt(f)));return p.join("")};if(d.open("GET",o,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?c(h(this.responseText)):c(void 0)}),d.send(null),l&&d.status===200)return h(d.responseText)}(s,i,a)}catch{}return u}(t,e,n)},r.loadImageFile=r.loadFile}(Jt.API),function(r){function t(){return(ir.html2canvas?Promise.resolve(ir.html2canvas):Sf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(ir.DOMPurify?Promise.resolve(ir.DOMPurify):Sf(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var u=qr(a);return u==="undefined"?"undefined":u==="string"||a instanceof String?"string":u==="number"||a instanceof Number?"number":u==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(a,u){var o=document.createElement(a);for(var l in u.className&&(o.className=u.className),u.innerHTML&&u.dompurify&&(o.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)o.style[l]=u.style[l];return o},i=function a(u){var o=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),l=a.convert(Promise.resolve(),o);return l=(l=l.setProgress(1,a,1,[a])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,u){return a.__proto__=u||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,u){return this.then(function(){switch(u=u||function(o){switch(n(o)){case"string":return"string";case"element":return o.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(o){return this.set({src:s("div",{innerHTML:a,dompurify:o})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(u){var o=Object.assign({},this.opt.html2canvas);return delete o.onrendered,u(this.prop.container,o)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(u){var o=this.opt.jsPDF,l=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,o.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,o.context2d.posX=this.opt.x,o.context2d.posY=this.opt.y,o.context2d.margin=this.opt.margin,o.context2d.fontFaces=l,l)for(var f=0;f<l.length;++f){var h=l[f],g=h.src.find(function(v){return v.format==="truetype"});g&&o.addFont(g.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,o.context2d.save(!0),u(this.prop.container,d)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,u,o){return(o=o||"pdf").toLowerCase()==="img"||o.toLowerCase()==="image"?this.outputImg(a,u):this.outputPdf(a,u)},i.prototype.outputPdf=function(a,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,u)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var u=Object.keys(a||{}).map(function(o){if(o in i.template.prop)return function(){this.prop[o]=a[o]};switch(o){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[o]=a[o]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(a,u){return this.then(function(){var o=a in i.template.prop?this.prop[a]:this.opt[a];return u?u(o):o})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function u(o,l){return Math.floor(o*l/72*96)}return this.then(function(){(a=a||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:u(a.inner.width,a.k),height:u(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,u,o,l){return a!=null&&(this.progress.val=a),u!=null&&(this.progress.state=u),o!=null&&(this.progress.n=o),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,u,o,l){return this.setProgress(a?this.progress.val+a:null,u||null,o?this.progress.n+o:null,l?this.progress.stack.concat(l):null)},i.prototype.then=function(a,u){var o=this;return this.thenCore(a,u,function(l,c){return o.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(d){return o.updateProgress(null,l),d}).then(l,c).then(function(d){return o.updateProgress(1),d})})},i.prototype.thenCore=function(a,u,o){o=o||Promise.prototype.then,a&&(a=a.bind(this)),u&&(u=u.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=o.call(l,a,u);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(a,u){return Promise.prototype.then.call(this,a,u)},i.prototype.thenList=function(a){var u=this;return a.forEach(function(o){u=u.thenCore(o)}),u},i.prototype.catch=function(a){a&&(a=a.bind(this));var u=Promise.prototype.catch.call(this,a);return i.convert(u,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Jt.getPageSize=function(a,u,o){if(qr(a)==="object"){var l=a;a=l.orientation,u=l.unit||u,o=l.format||o}u=u||"mm",o=o||"a4",a=(""+(a||"P")).toLowerCase();var c,d=(""+o).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+u}var h,g=0,v=0;if(f.hasOwnProperty(d))g=f[d][1]/c,v=f[d][0]/c;else try{g=o[1],v=o[0]}catch{throw new Error("Invalid format: "+o)}if(a==="p"||a==="portrait")a="p",v>g&&(h=v,v=g,g=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>v&&(h=v,v=g,g=h)}return{width:v,height:g,unit:u,k:c,orientation:a}},r.html=function(a,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(o2):null;var o=new i(u);return u.worker?o:o.from(a).doCallback()}}(Jt.API),Jt.API.addJS=function(r){return a4=r,this.internal.events.subscribe("postPutResources",function(){Zd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zd!==void 0&&s4!==void 0&&this.internal.out("/Names <</JavaScript "+Zd+" 0 R>>")}),this},function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],u=n.exec(a);if(u!=null){var o=u[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var d=e.internal.newObject();c.push(d);var f=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var u=this.count=this.count_r({count:0},a);if(u>0&&this.line("/Count "+u),a.options&&a.options.pageNumber){var o=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Jt.API),function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,s,i,a,u){var o,l=this.decode.DCT_DECODE,c=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,v={width:0,height:0,numcomponents:1},p=4;p<g;p+=2){if(p+=h,t.indexOf(d.charCodeAt(p+1))!==-1){f=256*d.charCodeAt(p+5)+d.charCodeAt(p+6),v={width:256*d.charCodeAt(p+7)+d.charCodeAt(p+8),height:f,numcomponents:d.charCodeAt(p+9)};break}h=256*d.charCodeAt(p+2)+d.charCodeAt(p+3)}return v}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:u,bitsPerComponent:8,filter:l,index:n,alias:s}}return c}}(Jt.API);var $u,Jd,o4,l4,u4,uL=function(){var r,t,e;function n(i){var a,u,o,l,c,d,f,h,g,v,p,y,m,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),g=(function(){var k,N;for(N=[],k=0;k<4;++k)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),l=this.readUInt16()||100,d.delay=1e3*c/l,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(o=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>o)throw new Error("More transparent colors than palette size");if((v=o-this.transparency.indexed.length)>0)for(m=0;0<=v?m<v:m>v;0<=v?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(p=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,p.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,p.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,u;for(u=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*a),o=0,l=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(d,f,h,g){var v,p,y,m,b,k,N,B,j,T,M,U,O,I,E,R,A,w,_,x,S,C=Math.ceil((l.width-d)/h),q=Math.ceil((l.height-f)/g),P=l.width==C&&l.height==q;for(I=a*C,U=P?u:new Uint8Array(I*q),k=i.length,O=0,p=0;O<q&&o<k;){switch(i[o++]){case 0:for(m=A=0;A<I;m=A+=1)U[p++]=i[o++];break;case 1:for(m=w=0;w<I;m=w+=1)v=i[o++],b=m<a?0:U[p-a],U[p++]=(v+b)%256;break;case 2:for(m=_=0;_<I;m=_+=1)v=i[o++],y=(m-m%a)/a,E=O&&U[(O-1)*I+y*a+m%a],U[p++]=(E+v)%256;break;case 3:for(m=x=0;x<I;m=x+=1)v=i[o++],y=(m-m%a)/a,b=m<a?0:U[p-a],E=O&&U[(O-1)*I+y*a+m%a],U[p++]=(v+Math.floor((b+E)/2))%256;break;case 4:for(m=S=0;S<I;m=S+=1)v=i[o++],y=(m-m%a)/a,b=m<a?0:U[p-a],O===0?E=R=0:(E=U[(O-1)*I+y*a+m%a],R=y&&U[(O-1)*I+(y-1)*a+m%a]),N=b+E-R,B=Math.abs(N-b),T=Math.abs(N-E),M=Math.abs(N-R),j=B<=T&&B<=M?b:T<=M?E:R,U[p++]=(v+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[o-1])}if(!P){var $=((f+O*g)*l.width+d)*a,X=O*I;for(m=0;m<C;m+=1){for(var Z=0;Z<a;Z+=1)u[$++]=U[X++];$+=(h-1)*a}}O++}}return i=Uj(i),l.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),u},n.prototype.decodePalette=function(){var i,a,u,o,l,c,d,f,h;for(u=this.palette,c=this.transparency.indexed||[],l=new Uint8Array((c.length||0)+u.length),o=0,i=0,a=d=0,f=u.length;d<f;a=d+=3)l[o++]=u[a],l[o++]=u[a+1],l[o++]=u[a+2],l[o++]=(h=c[i++])!=null?h:255;return l},n.prototype.copyToImageData=function(i,a){var u,o,l,c,d,f,h,g,v,p,y;if(o=this.colors,v=null,u=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),o=4,u=!0),g=(l=i.data||i).length,d=v||a,c=f=0,o===1)for(;c<g;)h=v?4*a[c/4]:f,p=d[h++],l[c++]=p,l[c++]=p,l[c++]=p,l[c++]=u?d[h++]:255,f=h;else for(;c<g;)h=v?4*a[c/4]:f,l[c++]=d[h++],l[c++]=d[h++],l[c++]=d[h++],l[c++]=u?d[h++]:255,f=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(ir)==="[object Window]"){try{t=ir.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(i){var a;if(s()===!0)return e.width=i.width,e.height=i.height,e.clearRect(0,0,i.width,i.height),e.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,u,o,l,c,d,f,h;if(this.animation){for(h=[],u=c=0,d=(f=this.animation.frames).length;c<d;u=++c)a=f[u],o=i.createImageData(a.width,a.height),l=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(o,l),a.imageData=o,h.push(a.image=r(o));return h}},n.prototype.renderFrame=function(i,a){var u,o,l;return u=(o=this.animation.frames)[a],l=o[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?i.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&i.putImageData(l.imageData,l.xOffset,l.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(i){var a,u,o,l,c,d,f=this;return u=0,d=this.animation,l=d.numFrames,o=d.frames,c=d.numPlays,(a=function(){var h,g;if(h=u++%l,g=o[h],f.renderFrame(i,h),l>1&&u/l<c)return f.animation._timeout=setTimeout(a,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(u=a.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),a.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function cL(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,s=r[t++],i=s>>7,a=1<<(7&s)+1;r[t++],r[t++];var u=null,o=null;i&&(u=t,o=a,t+=3*a);var l=!0,c=[],d=0,f=null,h=0,g=null;for(this.width=e,this.height=n;l&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,g=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((O=r[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=r[t++];d=r[t++]|r[t++]<<8,f=r[t++],!(1&v)&&(f=null),h=v>>2&7,t++;break;case 254:for(;;){if(!((O=r[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var p=r[t++]|r[t++]<<8,y=r[t++]|r[t++]<<8,m=r[t++]|r[t++]<<8,b=r[t++]|r[t++]<<8,k=r[t++],N=k>>6&1,B=1<<(7&k)+1,j=u,T=o,M=!1;k>>7&&(M=!0,j=t,T=B,t+=3*B);var U=t;for(t++;;){var O;if(!((O=r[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}c.push({x:p,y,width:m,height:b,has_local_palette:M,palette_offset:j,palette_size:T,data_offset:U,data_length:t-U,transparent_index:f,interlaced:!!N,delay:d,disposal:h});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,E){var R=this.frameInfo(I),A=R.width*R.height,w=new Uint8Array(A);c4(r,R.data_offset,w,A);var _=R.palette_offset,x=R.transparent_index;x===null&&(x=256);var S=R.width,C=e-S,q=S,P=4*(R.y*e+R.x),$=4*((R.y+R.height)*e+R.x),X=P,Z=4*C;R.interlaced===!0&&(Z+=4*e*7);for(var V=8,Q=0,F=w.length;Q<F;++Q){var D=w[Q];if(q===0&&(q=S,(X+=Z)>=$&&(Z=4*C+4*e*(V-1),X=P+(S+C)*(V<<1),V>>=1)),D===x)X+=4;else{var K=r[_+3*D],ee=r[_+3*D+1],ue=r[_+3*D+2];E[X++]=ue,E[X++]=ee,E[X++]=K,E[X++]=255}--q}},this.decodeAndBlitFrameRGBA=function(I,E){var R=this.frameInfo(I),A=R.width*R.height,w=new Uint8Array(A);c4(r,R.data_offset,w,A);var _=R.palette_offset,x=R.transparent_index;x===null&&(x=256);var S=R.width,C=e-S,q=S,P=4*(R.y*e+R.x),$=4*((R.y+R.height)*e+R.x),X=P,Z=4*C;R.interlaced===!0&&(Z+=4*e*7);for(var V=8,Q=0,F=w.length;Q<F;++Q){var D=w[Q];if(q===0&&(q=S,(X+=Z)>=$&&(Z=4*C+4*e*(V-1),X=P+(S+C)*(V<<1),V>>=1)),D===x)X+=4;else{var K=r[_+3*D],ee=r[_+3*D+1],ue=r[_+3*D+2];E[X++]=K,E[X++]=ee,E[X++]=ue,E[X++]=255}--q}}}function c4(r,t,e,n){for(var s=r[t++],i=1<<s,a=i+1,u=a+1,o=s+1,l=(1<<o)-1,c=0,d=0,f=0,h=r[t++],g=new Int32Array(4096),v=null;;){for(;c<16&&h!==0;)d|=r[t++]<<c,c+=8,h===1?h=r[t++]:--h;if(c<o)break;var p=d&l;if(d>>=o,c-=o,p!==i){if(p===a)break;for(var y=p<u?p:v,m=0,b=y;b>i;)b=g[b]>>8,++m;var k=b;if(f+m+(y!==p?1:0)>n)return void Gr.log("Warning, gif stream longer than expected.");e[f++]=k;var N=f+=m;for(y!==p&&(e[f++]=k),b=y;m--;)b=g[b],e[--N]=255&b,b>>=8;v!==null&&u<4096&&(g[u++]=v<<8|k,u>=l+1&&o<12&&(++o,l=l<<1|1)),v=p}else u=a+1,l=(1<<(o=s+1))-1,v=null}return f!==n&&Gr.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xg(r){var t,e,n,s,i,a=Math.floor,u=new Array(64),o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),g=new Array(64),v=[],p=0,y=7,m=new Array(64),b=new Array(64),k=new Array(64),N=new Array(256),B=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(P,$){for(var X=0,Z=0,V=new Array,Q=1;Q<=16;Q++){for(var F=1;F<=P[Q];F++)V[$[Z]]=[],V[$[Z]][0]=X,V[$[Z]][1]=Q,Z++,X++;X*=2}return V}function _(P){for(var $=P[0],X=P[1]-1;X>=0;)$&1<<X&&(p|=1<<y),X--,--y<0&&(p==255?(x(255),x(0)):x(p),y=7,p=0)}function x(P){v.push(P)}function S(P){x(P>>8&255),x(255&P)}function C(P,$,X,Z,V){for(var Q,F=V[0],D=V[240],K=function(me,_e){var xe,ke,Ce,Oe,Ue,ve,Be,$e,He,Xe,Te=0;for(He=0;He<8;++He){xe=me[Te],ke=me[Te+1],Ce=me[Te+2],Oe=me[Te+3],Ue=me[Te+4],ve=me[Te+5],Be=me[Te+6];var ht=xe+($e=me[Te+7]),Ze=xe-$e,st=ke+Be,it=ke-Be,yt=Ce+ve,vt=Ce-ve,kt=Oe+Ue,or=Oe-Ue,wt=ht+kt,Gt=ht-kt,Yt=st+yt,At=st-yt;me[Te]=wt+Yt,me[Te+4]=wt-Yt;var _t=.707106781*(At+Gt);me[Te+2]=Gt+_t,me[Te+6]=Gt-_t;var Mt=.382683433*((wt=or+vt)-(At=it+Ze)),Ot=.5411961*wt+Mt,Wt=1.306562965*At+Mt,tr=.707106781*(Yt=vt+it),jt=Ze+tr,ut=Ze-tr;me[Te+5]=ut+Ot,me[Te+3]=ut-Ot,me[Te+1]=jt+Wt,me[Te+7]=jt-Wt,Te+=8}for(Te=0,He=0;He<8;++He){xe=me[Te],ke=me[Te+8],Ce=me[Te+16],Oe=me[Te+24],Ue=me[Te+32],ve=me[Te+40],Be=me[Te+48];var ur=xe+($e=me[Te+56]),Bt=xe-$e,Ee=ke+Be,Ie=ke-Be,We=Ce+ve,at=Ce-ve,Ut=Oe+Ue,pt=Oe-Ue,Pt=ur+Ut,It=ur-Ut,Et=Ee+We,zt=Ee-We;me[Te]=Pt+Et,me[Te+32]=Pt-Et;var Ct=.707106781*(zt+It);me[Te+16]=It+Ct,me[Te+48]=It-Ct;var Xt=.382683433*((Pt=pt+at)-(zt=Ie+Bt)),Cr=.5411961*Pt+Xt,Qe=1.306562965*zt+Xt,bt=.707106781*(Et=at+Ie),Ht=Bt+bt,nr=Bt-bt;me[Te+40]=nr+Cr,me[Te+24]=nr-Cr,me[Te+8]=Ht+Qe,me[Te+56]=Ht-Qe,Te++}for(He=0;He<64;++He)Xe=me[He]*_e[He],h[He]=Xe>0?Xe+.5|0:Xe-.5|0;return h}(P,$),ee=0;ee<64;++ee)g[j[ee]]=K[ee];var ue=g[0]-X;X=g[0],ue==0?_(Z[0]):(_(Z[f[Q=32767+ue]]),_(d[Q]));for(var ie=63;ie>0&&g[ie]==0;)ie--;if(ie==0)return _(F),X;for(var ae,ce=1;ce<=ie;){for(var ne=ce;g[ce]==0&&ce<=ie;)++ce;var se=ce-ne;if(se>=16){ae=se>>4;for(var ye=1;ye<=ae;++ye)_(D);se&=15}Q=32767+g[ce],_(V[(se<<4)+f[Q]]),_(d[Q]),ce++}return ie!=63&&_(F),X}function q(P){P=Math.min(Math.max(P,1),100),i!=P&&(function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var V=a((X[Z]*$+50)/100);V=Math.min(Math.max(V,1),255),u[j[Z]]=V}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],F=0;F<64;F++){var D=a((Q[F]*$+50)/100);D=Math.min(Math.max(D,1),255),o[j[F]]=D}for(var K=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,ue=0;ue<8;ue++)for(var ie=0;ie<8;ie++)l[ee]=1/(u[j[ee]]*K[ue]*K[ie]*8),c[ee]=1/(o[j[ee]]*K[ue]*K[ie]*8),ee++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,$){$&&q($),v=new Array,p=0,y=7,S(65496),S(65504),S(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),S(1),S(1),x(0),x(0),function(){S(65499),S(132),x(0);for(var ke=0;ke<64;ke++)x(u[ke]);x(1);for(var Ce=0;Ce<64;Ce++)x(o[Ce])}(),function(ke,Ce){S(65472),S(17),x(8),S(Ce),S(ke),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}(P.width,P.height),function(){S(65476),S(418),x(0);for(var ke=0;ke<16;ke++)x(T[ke+1]);for(var Ce=0;Ce<=11;Ce++)x(M[Ce]);x(16);for(var Oe=0;Oe<16;Oe++)x(U[Oe+1]);for(var Ue=0;Ue<=161;Ue++)x(O[Ue]);x(1);for(var ve=0;ve<16;ve++)x(I[ve+1]);for(var Be=0;Be<=11;Be++)x(E[Be]);x(17);for(var $e=0;$e<16;$e++)x(R[$e+1]);for(var He=0;He<=161;He++)x(A[He])}(),S(65498),S(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0);var X=0,Z=0,V=0;p=0,y=7,this.encode.displayName="_encode_";for(var Q,F,D,K,ee,ue,ie,ae,ce,ne=P.data,se=P.width,ye=P.height,me=4*se,_e=0;_e<ye;){for(Q=0;Q<me;){for(ee=me*_e+Q,ie=-1,ae=0,ce=0;ce<64;ce++)ue=ee+(ae=ce>>3)*me+(ie=4*(7&ce)),_e+ae>=ye&&(ue-=me*(_e+1+ae-ye)),Q+ie>=me&&(ue-=Q+ie-me+4),F=ne[ue++],D=ne[ue++],K=ne[ue++],m[ce]=(B[F]+B[D+256>>0]+B[K+512>>0]>>16)-128,b[ce]=(B[F+768>>0]+B[D+1024>>0]+B[K+1280>>0]>>16)-128,k[ce]=(B[F+1280>>0]+B[D+1536>>0]+B[K+1792>>0]>>16)-128;X=C(m,l,X,t,n),Z=C(b,c,Z,e,s),V=C(k,c,V,e,s),Q+=32}_e+=8}if(y>=0){var xe=[];xe[1]=y+1,xe[0]=(1<<y+1)-1,_(xe)}return S(65497),new Uint8Array(v)},r=r||50,function(){for(var P=String.fromCharCode,$=0;$<256;$++)N[$]=P($)}(),t=w(T,M),e=w(I,E),n=w(U,O),s=w(R,A),function(){for(var P=1,$=2,X=1;X<=15;X++){for(var Z=P;Z<$;Z++)f[32767+Z]=X,d[32767+Z]=[],d[32767+Z][1]=X,d[32767+Z][0]=Z;for(var V=-($-1);V<=-P;V++)f[32767+V]=X,d[32767+V]=[],d[32767+V][1]=X,d[32767+V][0]=$-1+V;P<<=1,$<<=1}}(),function(){for(var P=0;P<256;P++)B[P]=19595*P,B[P+256>>0]=38470*P,B[P+512>>0]=7471*P+32768,B[P+768>>0]=-11059*P,B[P+1024>>0]=-21709*P,B[P+1280>>0]=32768*P+8421375,B[P+1536>>0]=-27439*P,B[P+1792>>0]=-5329*P}(),q(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Us(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function h4(r){function t(T){if(!T)throw Error("assert :P")}function e(T,M,U){for(var O=0;4>O;O++)if(T[M+O]!=U.charCodeAt(O))return!0;return!1}function n(T,M,U,O,I){for(var E=0;E<I;E++)T[M+E]=U[O+E]}function s(T,M,U,O){for(var I=0;I<O;I++)T[M+I]=U}function i(T){return new Int32Array(T)}function a(T,M){for(var U=[],O=0;O<T;O++)U.push(new M);return U}function u(T,M){var U=[];return function O(I,E,R){for(var A=R[E],w=0;w<A&&(I.push(R.length>E+1?[]:new M),!(R.length<E+1));w++)O(I[w],E+1,R)}(U,0,T),U}var o=function(){var T=this;function M(L,W){for(var Y=1<<W-1>>>0;L&Y;)Y>>>=1;return Y?(L&Y-1)+Y:L}function U(L,W,Y,te,le){t(!(te%Y));do L[W+(te-=Y)]=le;while(0<te)}function O(L,W,Y,te,le){if(t(2328>=le),512>=le)var he=i(512);else if((he=i(le))==null)return 0;return function(fe,pe,ge,we,Ne,ze){var Ve,Fe,tt=pe,Ge=1<<ge,Pe=i(16),Re=i(16);for(t(Ne!=0),t(we!=null),t(fe!=null),t(0<ge),Fe=0;Fe<Ne;++Fe){if(15<we[Fe])return 0;++Pe[we[Fe]]}if(Pe[0]==Ne)return 0;for(Re[1]=0,Ve=1;15>Ve;++Ve){if(Pe[Ve]>1<<Ve)return 0;Re[Ve+1]=Re[Ve]+Pe[Ve]}for(Fe=0;Fe<Ne;++Fe)Ve=we[Fe],0<we[Fe]&&(ze[Re[Ve]++]=Fe);if(Re[15]==1)return(we=new I).g=0,we.value=ze[0],U(fe,tt,1,Ge,we),Ge;var Je,ot=-1,et=Ge-1,Rt=0,xt=1,Zt=1,Tt=1<<ge;for(Fe=0,Ve=1,Ne=2;Ve<=ge;++Ve,Ne<<=1){if(xt+=Zt<<=1,0>(Zt-=Pe[Ve]))return 0;for(;0<Pe[Ve];--Pe[Ve])(we=new I).g=Ve,we.value=ze[Fe++],U(fe,tt+Rt,Ne,Tt,we),Rt=M(Rt,Ve)}for(Ve=ge+1,Ne=2;15>=Ve;++Ve,Ne<<=1){if(xt+=Zt<<=1,0>(Zt-=Pe[Ve]))return 0;for(;0<Pe[Ve];--Pe[Ve]){if(we=new I,(Rt&et)!=ot){for(tt+=Tt,Je=1<<(ot=Ve)-ge;15>ot&&!(0>=(Je-=Pe[ot]));)++ot,Je<<=1;Ge+=Tt=1<<(Je=ot-ge),fe[pe+(ot=Rt&et)].g=Je+ge,fe[pe+ot].value=tt-pe-ot}we.g=Ve-ge,we.value=ze[Fe++],U(fe,tt+(Rt>>ge),Ne,Tt,we),Rt=M(Rt,Ve)}}return xt!=2*Re[15]-1?0:Ge}(L,W,Y,te,le,he)}function I(){this.value=this.g=0}function E(){this.value=this.g=0}function R(){this.G=a(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Yn,E)}function A(L,W,Y,te){t(L!=null),t(W!=null),t(2147483648>te),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=W,L.pa=Y,L.Jd=W,L.Yc=Y+te,L.Zc=4<=te?Y+te-4+1:Y,Q(L)}function w(L,W){for(var Y=0;0<W--;)Y|=D(L,128)<<W;return Y}function _(L,W){var Y=w(L,W);return F(L)?-Y:Y}function x(L,W,Y,te){var le,he=0;for(t(L!=null),t(W!=null),t(4294967288>te),L.Sb=te,L.Ra=0,L.u=0,L.h=0,4<te&&(te=4),le=0;le<te;++le)he+=W[Y+le]<<8*le;L.Ra=he,L.bb=te,L.oa=W,L.pa=Y}function S(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<Pu-8>>>0,++L.bb,L.u-=8;X(L)&&(L.h=1,L.u=0)}function C(L,W){if(t(0<=W),!L.h&&W<=Nu){var Y=$(L)&Cu[W];return L.u+=W,S(L),Y}return L.h=1,L.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(L){return L.Ra>>>(L.u&Pu-1)>>>0}function X(L){return t(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>Pu}function Z(L,W){L.u=W,L.h=X(L)}function V(L){L.u>=Wc&&(t(L.u>=Wc),S(L))}function Q(L){t(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(t(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function F(L){return w(L,1)}function D(L,W){var Y=L.Ca;0>L.b&&Q(L);var te=L.b,le=Y*W>>>8,he=(L.I>>>te>le)+0;for(he?(Y-=le,L.I-=le+1<<te>>>0):Y=le+1,te=Y,le=0;256<=te;)le+=8,te>>=8;return te=7^le+Di[te],L.b-=te,L.Ca=(Y<<te)-1,he}function K(L,W,Y){L[W+0]=Y>>24&255,L[W+1]=Y>>16&255,L[W+2]=Y>>8&255,L[W+3]=Y>>0&255}function ee(L,W){return L[W+0]<<0|L[W+1]<<8}function ue(L,W){return ee(L,W)|L[W+2]<<16}function ie(L,W){return ee(L,W)|ee(L,W+2)<<16}function ae(L,W){var Y=1<<W;return t(L!=null),t(0<W),L.X=i(Y),L.X==null?0:(L.Mb=32-W,L.Xa=W,1)}function ce(L,W){t(L!=null),t(W!=null),t(L.Xa==W.Xa),n(W.X,0,L.X,0,1<<W.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function se(L,W,Y,te){t(Y!=null),t(te!=null);var le=Y[0],he=te[0];return le==0&&(le=(L*he+W/2)/W),he==0&&(he=(W*le+L/2)/L),0>=le||0>=he?0:(Y[0]=le,te[0]=he,1)}function ye(L,W){return L+(1<<W)-1>>>W}function me(L,W){return((4278255360&L)+(4278255360&W)>>>0&4278255360)+((16711935&L)+(16711935&W)>>>0&16711935)>>>0}function _e(L,W){T[W]=function(Y,te,le,he,fe,pe,ge){var we;for(we=0;we<fe;++we){var Ne=T[L](pe[ge+we-1],le,he+we);pe[ge+we]=me(Y[te+we],Ne)}}}function xe(){this.ud=this.hd=this.jd=0}function ke(L,W){return((4278124286&(L^W))>>>1)+(L&W)>>>0}function Ce(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function Oe(L,W){return Ce(L+(L-W+.5>>1))}function Ue(L,W,Y){return Math.abs(W-Y)-Math.abs(L-Y)}function ve(L,W,Y,te,le,he,fe){for(te=he[fe-1],Y=0;Y<le;++Y)he[fe+Y]=te=me(L[W+Y],te)}function Be(L,W,Y,te,le){var he;for(he=0;he<Y;++he){var fe=L[W+he],pe=fe>>8&255,ge=16711935&(ge=(ge=16711935&fe)+((pe<<16)+pe));te[le+he]=(4278255360&fe)+ge>>>0}}function $e(L,W){W.jd=L>>0&255,W.hd=L>>8&255,W.ud=L>>16&255}function He(L,W,Y,te,le,he){var fe;for(fe=0;fe<te;++fe){var pe=W[Y+fe],ge=pe>>>8,we=pe,Ne=255&(Ne=(Ne=pe>>>16)+((L.jd<<24>>24)*(ge<<24>>24)>>>5));we=255&(we=(we=we+((L.hd<<24>>24)*(ge<<24>>24)>>>5))+((L.ud<<24>>24)*(Ne<<24>>24)>>>5)),le[he+fe]=(4278255360&pe)+(Ne<<16)+we}}function Xe(L,W,Y,te,le){T[W]=function(he,fe,pe,ge,we,Ne,ze,Ve,Fe){for(ge=ze;ge<Ve;++ge)for(ze=0;ze<Fe;++ze)we[Ne++]=le(pe[te(he[fe++])])},T[L]=function(he,fe,pe,ge,we,Ne,ze){var Ve=8>>he.b,Fe=he.Ea,tt=he.K[0],Ge=he.w;if(8>Ve)for(he=(1<<he.b)-1,Ge=(1<<Ve)-1;fe<pe;++fe){var Pe,Re=0;for(Pe=0;Pe<Fe;++Pe)Pe&he||(Re=te(ge[we++])),Ne[ze++]=le(tt[Re&Ge]),Re>>=Ve}else T["VP8LMapColor"+Y](ge,we,tt,Ge,Ne,ze,fe,pe,Fe)}}function Te(L,W,Y,te,le){for(Y=W+Y;W<Y;){var he=L[W++];te[le++]=he>>16&255,te[le++]=he>>8&255,te[le++]=he>>0&255}}function ht(L,W,Y,te,le){for(Y=W+Y;W<Y;){var he=L[W++];te[le++]=he>>16&255,te[le++]=he>>8&255,te[le++]=he>>0&255,te[le++]=he>>24&255}}function Ze(L,W,Y,te,le){for(Y=W+Y;W<Y;){var he=(fe=L[W++])>>16&240|fe>>12&15,fe=fe>>0&240|fe>>28&15;te[le++]=he,te[le++]=fe}}function st(L,W,Y,te,le){for(Y=W+Y;W<Y;){var he=(fe=L[W++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;te[le++]=he,te[le++]=fe}}function it(L,W,Y,te,le){for(Y=W+Y;W<Y;){var he=L[W++];te[le++]=he>>0&255,te[le++]=he>>8&255,te[le++]=he>>16&255}}function yt(L,W,Y,te,le,he){if(he==0)for(Y=W+Y;W<Y;)K(te,((he=L[W++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),le+=32;else n(te,le,L,W,Y)}function vt(L,W){T[W][0]=T[L+"0"],T[W][1]=T[L+"1"],T[W][2]=T[L+"2"],T[W][3]=T[L+"3"],T[W][4]=T[L+"4"],T[W][5]=T[L+"5"],T[W][6]=T[L+"6"],T[W][7]=T[L+"7"],T[W][8]=T[L+"8"],T[W][9]=T[L+"9"],T[W][10]=T[L+"10"],T[W][11]=T[L+"11"],T[W][12]=T[L+"12"],T[W][13]=T[L+"13"],T[W][14]=T[L+"0"],T[W][15]=T[L+"0"]}function kt(L){return L==i0||L==s0||L==sd||L==a0}function or(){this.eb=[],this.size=this.A=this.fb=0}function wt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new or,this.f.kb=new wt,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function At(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _t(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function Mt(L,W){var Y=L.T,te=W.ba.f.RGBA,le=te.eb,he=te.fb+L.ka*te.A,fe=bs[W.ba.S],pe=L.y,ge=L.O,we=L.f,Ne=L.N,ze=L.ea,Ve=L.W,Fe=W.cc,tt=W.dc,Ge=W.Mc,Pe=W.Nc,Re=L.ka,Je=L.ka+L.T,ot=L.U,et=ot+1>>1;for(Re==0?fe(pe,ge,null,null,we,Ne,ze,Ve,we,Ne,ze,Ve,le,he,null,null,ot):(fe(W.ec,W.fc,pe,ge,Fe,tt,Ge,Pe,we,Ne,ze,Ve,le,he-te.A,le,he,ot),++Y);Re+2<Je;Re+=2)Fe=we,tt=Ne,Ge=ze,Pe=Ve,Ne+=L.Rc,Ve+=L.Rc,he+=2*te.A,fe(pe,(ge+=2*L.fa)-L.fa,pe,ge,Fe,tt,Ge,Pe,we,Ne,ze,Ve,le,he-te.A,le,he,ot);return ge+=L.fa,L.j+Je<L.o?(n(W.ec,W.fc,pe,ge,ot),n(W.cc,W.dc,we,Ne,et),n(W.Mc,W.Nc,ze,Ve,et),Y--):1&Je||fe(pe,ge,null,null,we,Ne,ze,Ve,we,Ne,ze,Ve,le,he+te.A,null,null,ot),Y}function Ot(L,W,Y){var te=L.F,le=[L.J];if(te!=null){var he=L.U,fe=W.ba.S,pe=fe==id||fe==sd;W=W.ba.f.RGBA;var ge=[0],we=L.ka;ge[0]=L.T,L.Kb&&(we==0?--ge[0]:(--we,le[0]-=L.width),L.j+L.ka+L.T==L.o&&(ge[0]=L.o-L.j-we));var Ne=W.eb;we=W.fb+we*W.A,L=Qr(te,le[0],L.width,he,ge,Ne,we+(pe?0:3),W.A),t(Y==ge),L&&kt(fe)&&ys(Ne,we,pe,he,ge,W.A)}return 0}function Wt(L){var W=L.ma,Y=W.ba.S,te=11>Y,le=Y==rd||Y==nd||Y==id||Y==n0||Y==12||kt(Y);if(W.memory=null,W.Ib=null,W.Jb=null,W.Nd=null,!Hc(W.Oa,L,le?11:12))return 0;if(le&&kt(Y)&&lt(),L.da)alert("todo:use_scaling");else{if(te){if(W.Ib=_t,L.Kb){if(Y=L.U+1>>1,W.memory=i(L.U+2*Y),W.memory==null)return 0;W.ec=W.memory,W.fc=0,W.cc=W.ec,W.dc=W.fc+L.U,W.Mc=W.cc,W.Nc=W.dc+Y,W.Ib=Mt,lt()}}else alert("todo:EmitYUV");le&&(W.Jb=Ot,te&&De())}if(te&&!kv){for(L=0;256>L;++L)_S[L]=89858*(L-128)+od>>ad,kS[L]=-22014*(L-128)+od,SS[L]=-45773*(L-128),xS[L]=113618*(L-128)+od>>ad;for(L=Jc;L<u0;++L)W=76283*(L-16)+od>>ad,ES[L-Jc]=Dr(W,255),AS[L-Jc]=Dr(W+8>>4,15);kv=1}return 1}function tr(L){var W=L.ma,Y=L.U,te=L.T;return t(!(1&L.ka)),0>=Y||0>=te?0:(Y=W.Ib(L,W),W.Jb!=null&&W.Jb(L,W,Y),W.Dc+=Y,1)}function jt(L){L.ma.memory=null}function ut(L,W,Y,te){return C(L,8)!=47?0:(W[0]=C(L,14)+1,Y[0]=C(L,14)+1,te[0]=C(L,1),C(L,3)!=0?0:!L.h)}function ur(L,W){if(4>L)return L+1;var Y=L-2>>1;return(2+(1&L)<<Y)+C(W,Y)+1}function Bt(L,W){return 120<W?W-120:1<=(Y=((Y=oS[W-1])>>4)*L+(8-(15&Y)))?Y:1;var Y}function Ee(L,W,Y){var te=$(Y),le=L[W+=255&te].g-8;return 0<le&&(Z(Y,Y.u+8),te=$(Y),W+=L[W].value,W+=te&(1<<le)-1),Z(Y,Y.u+L[W].g),L[W].value}function Ie(L,W,Y){return Y.g+=L.g,Y.value+=L.value<<W>>>0,t(8>=Y.g),L.g}function We(L,W,Y){var te=L.xc;return t((W=te==0?0:L.vc[L.md*(Y>>te)+(W>>te)])<L.Wb),L.Ya[W]}function at(L,W,Y,te){var le=L.ab,he=L.c*W,fe=L.C;W=fe+W;var pe=Y,ge=te;for(te=L.Ta,Y=L.Ua;0<le--;){var we=L.gc[le],Ne=fe,ze=W,Ve=pe,Fe=ge,tt=(ge=te,pe=Y,we.Ea);switch(t(Ne<ze),t(ze<=we.nc),we.hc){case 2:Gf(Ve,Fe,(ze-Ne)*tt,ge,pe);break;case 0:var Ge=Ne,Pe=ze,Re=ge,Je=pe,ot=(Tt=we).Ea;Ge==0&&(t0(Ve,Fe,null,null,1,Re,Je),ve(Ve,Fe+1,0,0,ot-1,Re,Je+1),Fe+=ot,Je+=ot,++Ge);for(var et=1<<Tt.b,Rt=et-1,xt=ye(ot,Tt.b),Zt=Tt.K,Tt=Tt.w+(Ge>>Tt.b)*xt;Ge<Pe;){var Lr=Zt,zr=Tt,Ir=1;for(Xc(Ve,Fe,Re,Je-ot,1,Re,Je);Ir<ot;){var Ar=(Ir&~Rt)+et;Ar>ot&&(Ar=ot),(0,go[Lr[zr++]>>8&15])(Ve,Fe+ +Ir,Re,Je+Ir-ot,Ar-Ir,Re,Je+Ir),Ir=Ar}Fe+=ot,Je+=ot,++Ge&Rt||(Tt+=xt)}ze!=we.nc&&n(ge,pe-tt,ge,pe+(ze-Ne-1)*tt,tt);break;case 1:for(tt=Ve,Pe=Fe,ot=(Ve=we.Ea)-(Je=Ve&~(Re=(Fe=1<<we.b)-1)),Ge=ye(Ve,we.b),et=we.K,we=we.w+(Ne>>we.b)*Ge;Ne<ze;){for(Rt=et,xt=we,Zt=new xe,Tt=Pe+Je,Lr=Pe+Ve;Pe<Tt;)$e(Rt[xt++],Zt),Rl(Zt,tt,Pe,Fe,ge,pe),Pe+=Fe,pe+=Fe;Pe<Lr&&($e(Rt[xt++],Zt),Rl(Zt,tt,Pe,ot,ge,pe),Pe+=ot,pe+=ot),++Ne&Re||(we+=Ge)}break;case 3:if(Ve==ge&&Fe==pe&&0<we.b){for(Pe=ge,Ve=tt=pe+(ze-Ne)*tt-(Je=(ze-Ne)*ye(we.Ea,we.b)),Fe=ge,Re=pe,Ge=[],Je=(ot=Je)-1;0<=Je;--Je)Ge[Je]=Fe[Re+Je];for(Je=ot-1;0<=Je;--Je)Pe[Ve+Je]=Ge[Je];ps(we,Ne,ze,ge,tt,ge,pe)}else ps(we,Ne,ze,Ve,Fe,ge,pe)}pe=te,ge=Y}ge!=Y&&n(te,Y,pe,ge,he)}function Ut(L,W){var Y=L.V,te=L.Ba+L.c*L.C,le=W-L.C;if(t(W<=L.l.o),t(16>=le),0<le){var he=L.l,fe=L.Ta,pe=L.Ua,ge=he.width;if(at(L,le,Y,te),le=pe=[pe],t((Y=L.C)<(te=W)),t(he.v<he.va),te>he.o&&(te=he.o),Y<he.j){var we=he.j-Y;Y=he.j,le[0]+=we*ge}if(Y>=te?Y=0:(le[0]+=4*he.v,he.ka=Y-he.j,he.U=he.va-he.v,he.T=te-Y,Y=1),Y){if(pe=pe[0],11>(Y=L.ca).S){var Ne=Y.f.RGBA,ze=(te=Y.S,le=he.U,he=he.T,we=Ne.eb,Ne.A),Ve=he;for(Ne=Ne.fb+L.Ma*Ne.A;0<Ve--;){var Fe=fe,tt=pe,Ge=le,Pe=we,Re=Ne;switch(te){case td:Fi(Fe,tt,Ge,Pe,Re);break;case rd:Ei(Fe,tt,Ge,Pe,Re);break;case i0:Ei(Fe,tt,Ge,Pe,Re),ys(Pe,Re,0,Ge,1,0);break;case mv:Pa(Fe,tt,Ge,Pe,Re);break;case nd:yt(Fe,tt,Ge,Pe,Re,1);break;case s0:yt(Fe,tt,Ge,Pe,Re,1),ys(Pe,Re,0,Ge,1,0);break;case id:yt(Fe,tt,Ge,Pe,Re,0);break;case sd:yt(Fe,tt,Ge,Pe,Re,0),ys(Pe,Re,1,Ge,1,0);break;case n0:yo(Fe,tt,Ge,Pe,Re);break;case a0:yo(Fe,tt,Ge,Pe,Re),Yr(Pe,Re,Ge,1,0);break;case gv:Na(Fe,tt,Ge,Pe,Re);break;default:t(0)}pe+=ge,Ne+=ze}L.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(L.Ma<=Y.height)}}L.C=W,t(L.C<=L.i)}function pt(L){var W;if(0<L.ua)return 0;for(W=0;W<L.Wb;++W){var Y=L.Ya[W].G,te=L.Ya[W].H;if(0<Y[1][te[1]+0].g||0<Y[2][te[2]+0].g||0<Y[3][te[3]+0].g)return 0}return 1}function Pt(L,W,Y,te,le,he){if(L.Z!=0){var fe=L.qd,pe=L.rd;for(t(_o[L.Z]!=null);W<Y;++W)_o[L.Z](fe,pe,te,le,te,le,he),fe=te,pe=le,le+=he;L.qd=fe,L.rd=pe}}function It(L,W){var Y=L.l.ma,te=Y.Z==0||Y.Z==1?L.l.j:L.C;if(te=L.C<te?te:L.C,t(W<=L.l.o),W>te){var le=L.l.width,he=Y.ca,fe=Y.tb+le*te,pe=L.V,ge=L.Ba+L.c*te,we=L.gc;t(L.ab==1),t(we[0].hc==3),Yf(we[0],te,W,pe,ge,he,fe),Pt(Y,te,W,he,fe,le)}L.C=L.Ma=W}function Et(L,W,Y,te,le,he,fe){var pe=L.$/te,ge=L.$%te,we=L.m,Ne=L.s,ze=Y+L.$,Ve=ze;le=Y+te*le;var Fe=Y+te*he,tt=280+Ne.ua,Ge=L.Pb?pe:16777216,Pe=0<Ne.ua?Ne.Wa:null,Re=Ne.wc,Je=ze<Fe?We(Ne,ge,pe):null;t(L.C<he),t(Fe<=le);var ot=!1;e:for(;;){for(;ot||ze<Fe;){var et=0;if(pe>=Ge){var Rt=ze-Y;t((Ge=L).Pb),Ge.wd=Ge.m,Ge.xd=Rt,0<Ge.s.ua&&ce(Ge.s.Wa,Ge.s.vb),Ge=pe+uS}if(ge&Re||(Je=We(Ne,ge,pe)),t(Je!=null),Je.Qb&&(W[ze]=Je.qb,ot=!0),!ot)if(V(we),Je.jc){et=we,Rt=W;var xt=ze,Zt=Je.pd[$(et)&Yn-1];t(Je.jc),256>Zt.g?(Z(et,et.u+Zt.g),Rt[xt]=Zt.value,et=0):(Z(et,et.u+Zt.g-256),t(256<=Zt.value),et=Zt.value),et==0&&(ot=!0)}else et=Ee(Je.G[0],Je.H[0],we);if(we.h)break;if(ot||256>et){if(!ot)if(Je.nd)W[ze]=(Je.qb|et<<8)>>>0;else{if(V(we),ot=Ee(Je.G[1],Je.H[1],we),V(we),Rt=Ee(Je.G[2],Je.H[2],we),xt=Ee(Je.G[3],Je.H[3],we),we.h)break;W[ze]=(xt<<24|ot<<16|et<<8|Rt)>>>0}if(ot=!1,++ze,++ge>=te&&(ge=0,++pe,fe!=null&&pe<=he&&!(pe%16)&&fe(L,pe),Pe!=null))for(;Ve<ze;)et=W[Ve++],Pe.X[(506832829*et&4294967295)>>>Pe.Mb]=et}else if(280>et){if(et=ur(et-256,we),Rt=Ee(Je.G[4],Je.H[4],we),V(we),Rt=Bt(te,Rt=ur(Rt,we)),we.h)break;if(ze-Y<Rt||le-ze<et)break e;for(xt=0;xt<et;++xt)W[ze+xt]=W[ze+xt-Rt];for(ze+=et,ge+=et;ge>=te;)ge-=te,++pe,fe!=null&&pe<=he&&!(pe%16)&&fe(L,pe);if(t(ze<=le),ge&Re&&(Je=We(Ne,ge,pe)),Pe!=null)for(;Ve<ze;)et=W[Ve++],Pe.X[(506832829*et&4294967295)>>>Pe.Mb]=et}else{if(!(et<tt))break e;for(ot=et-280,t(Pe!=null);Ve<ze;)et=W[Ve++],Pe.X[(506832829*et&4294967295)>>>Pe.Mb]=et;et=ze,t(!(ot>>>(Rt=Pe).Xa)),W[et]=Rt.X[ot],ot=!0}ot||t(we.h==X(we))}if(L.Pb&&we.h&&ze<le)t(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&ce(L.s.vb,L.s.Wa);else{if(we.h)break e;fe!=null&&fe(L,pe>he?he:pe),L.a=0,L.$=ze-Y}return 1}return L.a=3,0}function zt(L){t(L!=null),L.vc=null,L.yc=null,L.Ya=null;var W=L.Wa;W!=null&&(W.X=null),L.vb=null,t(L!=null)}function Ct(){var L=new Au;return L==null?null:(L.a=0,L.xb=bv,vt("Predictor","VP8LPredictors"),vt("Predictor","VP8LPredictors_C"),vt("PredictorAdd","VP8LPredictorsAdd"),vt("PredictorAdd","VP8LPredictorsAdd_C"),Gf=Be,Rl=He,Fi=Te,Ei=ht,yo=Ze,Na=st,Pa=it,T.VP8LMapColor32b=Iu,T.VP8LMapColor8b=Qf,L)}function Xt(L,W,Y,te,le){var he=1,fe=[L],pe=[W],ge=te.m,we=te.s,Ne=null,ze=0;e:for(;;){if(Y)for(;he&&C(ge,1);){var Ve=fe,Fe=pe,tt=te,Ge=1,Pe=tt.m,Re=tt.gc[tt.ab],Je=C(Pe,2);if(tt.Oc&1<<Je)he=0;else{switch(tt.Oc|=1<<Je,Re.hc=Je,Re.Ea=Ve[0],Re.nc=Fe[0],Re.K=[null],++tt.ab,t(4>=tt.ab),Je){case 0:case 1:Re.b=C(Pe,3)+2,Ge=Xt(ye(Re.Ea,Re.b),ye(Re.nc,Re.b),0,tt,Re.K),Re.K=Re.K[0];break;case 3:var ot,et=C(Pe,8)+1,Rt=16<et?0:4<et?1:2<et?2:3;if(Ve[0]=ye(Re.Ea,Rt),Re.b=Rt,ot=Ge=Xt(et,1,0,tt,Re.K)){var xt,Zt=et,Tt=Re,Lr=1<<(8>>Tt.b),zr=i(Lr);if(zr==null)ot=0;else{var Ir=Tt.K[0],Ar=Tt.w;for(zr[0]=Tt.K[0][0],xt=1;xt<1*Zt;++xt)zr[xt]=me(Ir[Ar+xt],zr[xt-1]);for(;xt<4*Lr;++xt)zr[xt]=0;Tt.K[0]=null,Tt.K[0]=zr,ot=1}}Ge=ot;break;case 2:break;default:t(0)}he=Ge}}if(fe=fe[0],pe=pe[0],he&&C(ge,1)&&!(he=1<=(ze=C(ge,4))&&11>=ze)){te.a=3;break e}var Kr;if(Kr=he)t:{var Wr,br,Pn,Bi=te,In=fe,Ui=pe,Vr=ze,Zi=Y,Ji=Bi.m,Vn=Bi.s,Qn=[null],Ti=1,ws=0,aa=lS[Vr];r:for(;;){if(Zi&&C(Ji,1)){var qn=C(Ji,3)+2,ja=ye(In,qn),Dl=ye(Ui,qn),Ou=ja*Dl;if(!Xt(ja,Dl,0,Bi,Qn))break r;for(Qn=Qn[0],Vn.xc=qn,Wr=0;Wr<Ou;++Wr){var xo=Qn[Wr]>>8&65535;Qn[Wr]=xo,xo>=Ti&&(Ti=xo+1)}}if(Ji.h)break r;for(br=0;5>br;++br){var yn=yv[br];!br&&0<Vr&&(yn+=1<<Vr),ws<yn&&(ws=yn)}var c0=a(Ti*aa,I),Tv=Ti,Cv=a(Tv,R);if(Cv==null)var ud=null;else t(65536>=Tv),ud=Cv;var eh=i(ws);if(ud==null||eh==null||c0==null){Bi.a=1;break r}var cd=c0;for(Wr=Pn=0;Wr<Ti;++Wr){var Ds=ud[Wr],Du=Ds.G,Fu=Ds.H,Nv=0,hd=1,Pv=0;for(br=0;5>br;++br){yn=yv[br],Du[br]=cd,Fu[br]=Pn,!br&&0<Vr&&(yn+=1<<Vr);i:{var fd,h0=yn,dd=Bi,th=eh,NS=cd,PS=Pn,f0=0,So=dd.m,IS=C(So,1);if(s(th,0,0,h0),IS){var RS=C(So,1)+1,MS=C(So,1),Iv=C(So,MS==0?1:8);th[Iv]=1,RS==2&&(th[Iv=C(So,8)]=1);var pd=1}else{var Rv=i(19),Mv=C(So,4)+4;if(19<Mv){dd.a=3;var md=0;break i}for(fd=0;fd<Mv;++fd)Rv[aS[fd]]=C(So,3);var d0=void 0,rh=void 0,jv=dd,jS=Rv,gd=h0,Lv=th,p0=0,ko=jv.m,Ov=8,Dv=a(128,I);n:for(;O(Dv,0,7,jS,19);){if(C(ko,1)){var LS=2+2*C(ko,3);if((d0=2+C(ko,LS))>gd)break n}else d0=gd;for(rh=0;rh<gd&&d0--;){V(ko);var Fv=Dv[0+(127&$(ko))];Z(ko,ko.u+Fv.g);var Bu=Fv.value;if(16>Bu)Lv[rh++]=Bu,Bu!=0&&(Ov=Bu);else{var OS=Bu==16,Bv=Bu-16,DS=iS[Bv],Uv=C(ko,nS[Bv])+DS;if(rh+Uv>gd)break n;for(var FS=OS?Ov:0;0<Uv--;)Lv[rh++]=FS}}p0=1;break n}p0||(jv.a=3),pd=p0}(pd=pd&&!So.h)&&(f0=O(NS,PS,8,th,h0)),pd&&f0!=0?md=f0:(dd.a=3,md=0)}if(md==0)break r;if(hd&&sS[br]==1&&(hd=cd[Pn].g==0),Nv+=cd[Pn].g,Pn+=md,3>=br){var nh,m0=eh[0];for(nh=1;nh<yn;++nh)eh[nh]>m0&&(m0=eh[nh]);Pv+=m0}}if(Ds.nd=hd,Ds.Qb=0,hd&&(Ds.qb=(Du[3][Fu[3]+0].value<<24|Du[1][Fu[1]+0].value<<16|Du[2][Fu[2]+0].value)>>>0,Nv==0&&256>Du[0][Fu[0]+0].value&&(Ds.Qb=1,Ds.qb+=Du[0][Fu[0]+0].value<<8)),Ds.jc=!Ds.Qb&&6>Pv,Ds.jc){var yd,La=Ds;for(yd=0;yd<Yn;++yd){var Eo=yd,Ao=La.pd[Eo],vd=La.G[0][La.H[0]+Eo];256<=vd.value?(Ao.g=vd.g+256,Ao.value=vd.value):(Ao.g=0,Ao.value=0,Eo>>=Ie(vd,8,Ao),Eo>>=Ie(La.G[1][La.H[1]+Eo],16,Ao),Eo>>=Ie(La.G[2][La.H[2]+Eo],0,Ao),Ie(La.G[3][La.H[3]+Eo],24,Ao))}}}Vn.vc=Qn,Vn.Wb=Ti,Vn.Ya=ud,Vn.yc=c0,Kr=1;break t}Kr=0}if(!(he=Kr)){te.a=3;break e}if(0<ze){if(we.ua=1<<ze,!ae(we.Wa,ze)){te.a=1,he=0;break e}}else we.ua=0;var g0=te,zv=fe,BS=pe,y0=g0.s,v0=y0.xc;if(g0.c=zv,g0.i=BS,y0.md=ye(zv,v0),y0.wc=v0==0?-1:(1<<v0)-1,Y){te.xb=gS;break e}if((Ne=i(fe*pe))==null){te.a=1,he=0;break e}he=(he=Et(te,Ne,0,fe,pe,pe,null))&&!ge.h;break e}return he?(le!=null?le[0]=Ne:(t(Ne==null),t(Y)),te.$=0,Y||zt(we)):zt(we),he}function Cr(L,W){var Y=L.c*L.i,te=Y+W+16*W;return t(L.c<=W),L.V=i(te),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+Y+W,1)}function Qe(L,W){var Y=L.C,te=W-Y,le=L.V,he=L.Ba+L.c*Y;for(t(W<=L.l.o);0<te;){var fe=16<te?16:te,pe=L.l.ma,ge=L.l.width,we=ge*fe,Ne=pe.ca,ze=pe.tb+ge*Y,Ve=L.Ta,Fe=L.Ua;at(L,fe,le,he),kn(Ve,Fe,Ne,ze,we),Pt(pe,Y,Y+fe,Ne,ze,ge),te-=fe,le+=fe*L.c,Y+=fe}t(Y==W),L.C=L.Ma=W}function bt(){this.ub=this.yd=this.td=this.Rb=0}function Ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function be(){this.Yb=function(){var L=[];return function W(Y,te,le){for(var he=le[te],fe=0;fe<he&&(Y.push(le.length>te+1?[]:0),!(le.length<te+1));fe++)W(Y[fe],te+1,le)}(L,0,[3,11]),L}()}function Me(){this.jb=i(3),this.Wc=u([4,8],be),this.Xc=u([4,17],be)}function Ke(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function rt(){this.ld=this.La=this.dd=this.tc=0}function Nt(){this.Na=this.la=0}function ft(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function mt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vr(){this.uc=this.M=this.Nb=0,this.wa=Array(new rt),this.Y=0,this.ya=Array(new mt),this.aa=0,this.l=new Vt}function rr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function lr(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new bt,this.Kc=new Ht,this.ed=new Ke,this.Qa=new nr,this.Ic=this.$c=this.Aa=0,this.D=new vr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,q),this.ia=0,this.pb=a(4,ft),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rr),this.Hd=0,this.rb=Array(new Nt),this.sb=0,this.wa=Array(new rt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new mt),this.L=this.aa=0,this.gd=u([4,2],rt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _r(){var L=new lr;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,Zc||(Zc=tn)),L}function Kt(L,W,Y){return L.a==0&&(L.a=W,L.sc=Y,L.cb=0),0}function xr(L,W,Y){return 3<=Y&&L[W+0]==157&&L[W+1]==1&&L[W+2]==42}function jr(L,W){if(L==null)return 0;if(L.a=0,L.sc="OK",W==null)return Kt(L,2,"null VP8Io passed to VP8GetHeaders()");var Y=W.data,te=W.w,le=W.ha;if(4>le)return Kt(L,7,"Truncated header.");var he=Y[te+0]|Y[te+1]<<8|Y[te+2]<<16,fe=L.Od;if(fe.Rb=!(1&he),fe.td=he>>1&7,fe.yd=he>>4&1,fe.ub=he>>5,3<fe.td)return Kt(L,3,"Incorrect keyframe parameters.");if(!fe.yd)return Kt(L,4,"Frame not displayable.");te+=3,le-=3;var pe=L.Kc;if(fe.Rb){if(7>le)return Kt(L,7,"cannot parse picture header");if(!xr(Y,te,le))return Kt(L,3,"Bad code word");pe.c=16383&(Y[te+4]<<8|Y[te+3]),pe.Td=Y[te+4]>>6,pe.i=16383&(Y[te+6]<<8|Y[te+5]),pe.Ud=Y[te+6]>>6,te+=7,le-=7,L.za=pe.c+15>>4,L.Ub=pe.i+15>>4,W.width=pe.c,W.height=pe.i,W.Da=0,W.j=0,W.v=0,W.va=W.width,W.o=W.height,W.da=0,W.ib=W.width,W.hb=W.height,W.U=W.width,W.T=W.height,s((he=L.Pa).jb,0,255,he.jb.length),t((he=L.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,s(he.Zb,0,0,he.Zb.length),s(he.Lb,0,0,he.Lb)}if(fe.ub>le)return Kt(L,7,"bad partition length");A(he=L.m,Y,te,fe.ub),te+=fe.ub,le-=fe.ub,fe.Rb&&(pe.Ld=F(he),pe.Kd=F(he)),pe=L.Qa;var ge,we=L.Pa;if(t(he!=null),t(pe!=null),pe.Cb=F(he),pe.Cb){if(pe.Bb=F(he),F(he)){for(pe.Fb=F(he),ge=0;4>ge;++ge)pe.Zb[ge]=F(he)?_(he,7):0;for(ge=0;4>ge;++ge)pe.Lb[ge]=F(he)?_(he,6):0}if(pe.Bb)for(ge=0;3>ge;++ge)we.jb[ge]=F(he)?w(he,8):255}else pe.Bb=0;if(he.Ka)return Kt(L,3,"cannot parse segment header");if((pe=L.ed).zd=F(he),pe.Tb=w(he,6),pe.wb=w(he,3),pe.Pc=F(he),pe.Pc&&F(he)){for(we=0;4>we;++we)F(he)&&(pe.vd[we]=_(he,6));for(we=0;4>we;++we)F(he)&&(pe.od[we]=_(he,6))}if(L.L=pe.Tb==0?0:pe.zd?1:2,he.Ka)return Kt(L,3,"cannot parse filter header");var Ne=le;if(le=ge=te,te=ge+Ne,pe=Ne,L.Xb=(1<<w(L.m,2))-1,Ne<3*(we=L.Xb))Y=7;else{for(ge+=3*we,pe-=3*we,Ne=0;Ne<we;++Ne){var ze=Y[le+0]|Y[le+1]<<8|Y[le+2]<<16;ze>pe&&(ze=pe),A(L.Jc[+Ne],Y,ge,ze),ge+=ze,pe-=ze,le+=3}A(L.Jc[+we],Y,ge,pe),Y=ge<te?0:5}if(Y!=0)return Kt(L,Y,"cannot parse partitions");for(Y=w(ge=L.m,7),le=F(ge)?_(ge,4):0,te=F(ge)?_(ge,4):0,pe=F(ge)?_(ge,4):0,we=F(ge)?_(ge,4):0,ge=F(ge)?_(ge,4):0,Ne=L.Qa,ze=0;4>ze;++ze){if(Ne.Cb){var Ve=Ne.Zb[ze];Ne.Fb||(Ve+=Y)}else{if(0<ze){L.pb[ze]=L.pb[0];continue}Ve=Y}var Fe=L.pb[ze];Fe.Sc[0]=o0[Dr(Ve+le,127)],Fe.Sc[1]=l0[Dr(Ve+0,127)],Fe.Eb[0]=2*o0[Dr(Ve+te,127)],Fe.Eb[1]=101581*l0[Dr(Ve+pe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=o0[Dr(Ve+we,117)],Fe.Qc[1]=l0[Dr(Ve+ge,127)],Fe.lc=Ve+ge}if(!fe.Rb)return Kt(L,4,"Not a key frame.");for(F(he),fe=L.Pa,Y=0;4>Y;++Y){for(le=0;8>le;++le)for(te=0;3>te;++te)for(pe=0;11>pe;++pe)we=D(he,pS[Y][le][te][pe])?w(he,8):fS[Y][le][te][pe],fe.Wc[Y][le].Yb[te][pe]=we;for(le=0;17>le;++le)fe.Xc[Y][le]=fe.Wc[Y][mS[le]]}return L.kc=F(he),L.kc&&(L.Bd=w(he,8)),L.cb=1}function tn(L,W,Y,te,le,he,fe){var pe=W[le].Yb[Y];for(Y=0;16>le;++le){if(!D(L,pe[Y+0]))return le;for(;!D(L,pe[Y+1]);)if(pe=W[++le].Yb[0],Y=0,le==16)return 16;var ge=W[le+1].Yb;if(D(L,pe[Y+2])){var we=L,Ne=0;if(D(we,(Ve=pe)[(ze=Y)+3]))if(D(we,Ve[ze+6])){for(pe=0,ze=2*(Ne=D(we,Ve[ze+8]))+(Ve=D(we,Ve[ze+9+Ne])),Ne=0,Ve=cS[ze];Ve[pe];++pe)Ne+=Ne+D(we,Ve[pe]);Ne+=3+(8<<ze)}else D(we,Ve[ze+7])?(Ne=7+2*D(we,165),Ne+=D(we,145)):Ne=5+D(we,159);else Ne=D(we,Ve[ze+4])?3+D(we,Ve[ze+5]):2;pe=ge[2]}else Ne=1,pe=ge[1];ge=fe+hS[le],0>(we=L).b&&Q(we);var ze,Ve=we.b,Fe=(ze=we.Ca>>1)-(we.I>>Ve)>>31;--we.b,we.Ca+=Fe,we.Ca|=1,we.I-=(ze+1&Fe)<<Ve,he[ge]=((Ne^Fe)-Fe)*te[(0<le)+0]}return 16}function un(L){var W=L.rb[L.sb-1];W.la=0,W.Na=0,s(L.zc,0,0,L.zc.length),L.ja=0}function Un(L,W){if(L==null)return 0;if(W==null)return Kt(L,2,"NULL VP8Io parameter in VP8Decode().");if(!L.cb&&!jr(L,W))return 0;if(t(L.cb),W.ac==null||W.ac(W)){W.ob&&(L.L=0);var Y=ld[L.L];if(L.L==2?(L.yb=0,L.zb=0):(L.yb=W.v-Y>>4,L.zb=W.j-Y>>4,0>L.yb&&(L.yb=0),0>L.zb&&(L.zb=0)),L.Va=W.o+15+Y>>4,L.Hb=W.va+15+Y>>4,L.Hb>L.za&&(L.Hb=L.za),L.Va>L.Ub&&(L.Va=L.Ub),0<L.L){var te=L.ed;for(Y=0;4>Y;++Y){var le;if(L.Qa.Cb){var he=L.Qa.Lb[Y];L.Qa.Fb||(he+=te.Tb)}else he=te.Tb;for(le=0;1>=le;++le){var fe=L.gd[Y][le],pe=he;if(te.Pc&&(pe+=te.vd[0],le&&(pe+=te.od[0])),0<(pe=0>pe?0:63<pe?63:pe)){var ge=pe;0<te.wb&&(ge=4<te.wb?ge>>2:ge>>1)>9-te.wb&&(ge=9-te.wb),1>ge&&(ge=1),fe.dd=ge,fe.tc=2*pe+ge,fe.ld=40<=pe?2:15<=pe?1:0}else fe.tc=0;fe.La=le}}}Y=0}else Kt(L,6,"Frame setup failed"),Y=L.a;if(Y=Y==0){if(Y){L.$c=0,0<L.Aa||(L.Ic=CS);e:{Y=L.Ic,te=4*(ge=L.za);var we=32*ge,Ne=ge+1,ze=0<L.L?ge*(0<L.Aa?2:1):0,Ve=(L.Aa==2?2:1)*ge;if((fe=te+832+(le=3*(16*Y+ld[L.L])/2*we)+(he=L.Fa!=null&&0<L.Fa.length?L.Kc.c*L.Kc.i:0))!=fe)Y=0;else{if(fe>L.Vb){if(L.Vb=0,L.Ec=i(fe),L.Fc=0,L.Ec==null){Y=Kt(L,1,"no memory during frame initialization.");break e}L.Vb=fe}fe=L.Ec,pe=L.Fc,L.Ac=fe,L.Bc=pe,pe+=te,L.Gd=a(we,rr),L.Hd=0,L.rb=a(Ne+1,Nt),L.sb=1,L.wa=ze?a(ze,rt):null,L.Y=0,L.D.Nb=0,L.D.wa=L.wa,L.D.Y=L.Y,0<L.Aa&&(L.D.Y+=ge),t(!0),L.oc=fe,L.pc=pe,pe+=832,L.ya=a(Ve,mt),L.aa=0,L.D.ya=L.ya,L.D.aa=L.aa,L.Aa==2&&(L.D.aa+=ge),L.R=16*ge,L.B=8*ge,ge=(we=ld[L.L])*L.R,we=we/2*L.B,L.sa=fe,L.ta=pe+ge,L.qa=L.sa,L.ra=L.ta+16*Y*L.R+we,L.Ha=L.qa,L.Ia=L.ra+8*Y*L.B+we,L.$c=0,pe+=le,L.mb=he?fe:null,L.nb=he?pe:null,t(pe+he<=L.Fc+L.Vb),un(L),s(L.Ac,L.Bc,0,te),Y=1}}if(Y){if(W.ka=0,W.y=L.sa,W.O=L.ta,W.f=L.qa,W.N=L.ra,W.ea=L.Ha,W.Vd=L.Ia,W.fa=L.R,W.Rc=L.B,W.F=null,W.J=0,!Jf){for(Y=-255;255>=Y;++Y)On[255+Y]=0>Y?-Y:Y;for(Y=-1020;1020>=Y;++Y)Ra[1020+Y]=-128>Y?-128:127<Y?127:Y;for(Y=-112;112>=Y;++Y)Qc[112+Y]=-16>Y?-16:15<Y?15:Y;for(Y=-255;510>=Y;++Y)Lu[255+Y]=0>Y?0:255<Y?255:Y;Jf=1}Ru=cn,Ia=yr,Kc=ai,Ai=Sr,ms=Li,Sn=wr,Mu=oo,Zf=Ms,Gc=uo,Ml=Il,jl=lo,vo=Aa,Ll=co,ju=ra,Ol=Ea,bo=Yi,Yc=Ln,gs=Eu,Os[0]=ds,Os[1]=Oi,Os[2]=ki,Os[3]=ea,Os[4]=Su,Os[5]=no,Os[6]=Ki,Os[7]=El,Os[8]=so,Os[9]=io,wo[0]=Si,wo[1]=Js,wo[2]=zn,wo[3]=Xn,wo[4]=Ur,wo[5]=Ps,wo[6]=fs,Ma[0]=Rs,Ma[1]=hs,Ma[2]=ku,Ma[3]=Is,Ma[4]=Or,Ma[5]=Al,Ma[6]=Tl,Y=1}else Y=0}Y&&(Y=function(Fe,tt){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var Ge,Pe=Fe.Jc[Fe.M&Fe.Xb],Re=Fe.m,Je=Fe;for(Ge=0;Ge<Je.za;++Ge){var ot=Re,et=Je,Rt=et.Ac,xt=et.Bc+4*Ge,Zt=et.zc,Tt=et.ya[et.aa+Ge];if(et.Qa.Bb?Tt.$b=D(ot,et.Pa.jb[0])?2+D(ot,et.Pa.jb[2]):D(ot,et.Pa.jb[1]):Tt.$b=0,et.kc&&(Tt.Ad=D(ot,et.Bd)),Tt.Za=!D(ot,145)+0,Tt.Za){var Lr=Tt.Ob,zr=0;for(et=0;4>et;++et){var Ir,Ar=Zt[0+et];for(Ir=0;4>Ir;++Ir){Ar=dS[Rt[xt+Ir]][Ar];for(var Kr=vv[D(ot,Ar[0])];0<Kr;)Kr=vv[2*Kr+D(ot,Ar[Kr])];Ar=-Kr,Rt[xt+Ir]=Ar}n(Lr,zr,Rt,xt,4),zr+=4,Zt[0+et]=Ar}}else Ar=D(ot,156)?D(ot,128)?1:3:D(ot,163)?2:0,Tt.Ob[0]=Ar,s(Rt,xt,Ar,4),s(Zt,0,Ar,4);Tt.Dd=D(ot,142)?D(ot,114)?D(ot,183)?1:3:2:0}if(Je.m.Ka)return Kt(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(Je=Pe,ot=(Re=Fe).rb[Re.sb-1],Rt=Re.rb[Re.sb+Re.ja],Ge=Re.ya[Re.aa+Re.ja],xt=Re.kc?Ge.Ad:0)ot.la=Rt.la=0,Ge.Za||(ot.Na=Rt.Na=0),Ge.Hc=0,Ge.Gc=0,Ge.ia=0;else{var Wr,br;if(ot=Rt,Rt=Je,xt=Re.Pa.Xc,Zt=Re.ya[Re.aa+Re.ja],Tt=Re.pb[Zt.$b],et=Zt.ad,Lr=0,zr=Re.rb[Re.sb-1],Ar=Ir=0,s(et,Lr,0,384),Zt.Za)var Pn=0,Bi=xt[3];else{Kr=i(16);var In=ot.Na+zr.Na;if(In=Zc(Rt,xt[1],In,Tt.Eb,0,Kr,0),ot.Na=zr.Na=(0<In)+0,1<In)Ru(Kr,0,et,Lr);else{var Ui=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)et[Lr+Kr]=Ui}Pn=1,Bi=xt[0]}var Vr=15&ot.la,Zi=15&zr.la;for(Kr=0;4>Kr;++Kr){var Ji=1&Zi;for(Ui=br=0;4>Ui;++Ui)Vr=Vr>>1|(Ji=(In=Zc(Rt,Bi,In=Ji+(1&Vr),Tt.Sc,Pn,et,Lr))>Pn)<<7,br=br<<2|(3<In?3:1<In?2:et[Lr+0]!=0),Lr+=16;Vr>>=4,Zi=Zi>>1|Ji<<7,Ir=(Ir<<8|br)>>>0}for(Bi=Vr,Pn=Zi>>4,Wr=0;4>Wr;Wr+=2){for(br=0,Vr=ot.la>>4+Wr,Zi=zr.la>>4+Wr,Kr=0;2>Kr;++Kr){for(Ji=1&Zi,Ui=0;2>Ui;++Ui)In=Ji+(1&Vr),Vr=Vr>>1|(Ji=0<(In=Zc(Rt,xt[2],In,Tt.Qc,0,et,Lr)))<<3,br=br<<2|(3<In?3:1<In?2:et[Lr+0]!=0),Lr+=16;Vr>>=2,Zi=Zi>>1|Ji<<5}Ar|=br<<4*Wr,Bi|=Vr<<4<<Wr,Pn|=(240&Zi)<<Wr}ot.la=Bi,zr.la=Pn,Zt.Hc=Ir,Zt.Gc=Ar,Zt.ia=43690&Ar?0:Tt.ia,xt=!(Ir|Ar)}if(0<Re.L&&(Re.wa[Re.Y+Re.ja]=Re.gd[Ge.$b][Ge.Za],Re.wa[Re.Y+Re.ja].La|=!xt),Je.Ka)return Kt(Fe,7,"Premature end-of-file encountered.")}if(un(Fe),Re=tt,Je=1,Ge=(Pe=Fe).D,ot=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Ge.M=Pe.M,Ge.uc=ot,ia(Pe,Ge),Je=1,Ge=(br=Pe.D).Nb,ot=(Ar=ld[Pe.L])*Pe.R,Rt=Ar/2*Pe.B,Kr=16*Ge*Pe.R,Ui=8*Ge*Pe.B,xt=Pe.sa,Zt=Pe.ta-ot+Kr,Tt=Pe.qa,et=Pe.ra-Rt+Ui,Lr=Pe.Ha,zr=Pe.Ia-Rt+Ui,Zi=(Vr=br.M)==0,Ir=Vr>=Pe.Va-1,Pe.Aa==2&&ia(Pe,br),br.uc)for(Ji=(In=Pe).D.M,t(In.D.uc),br=In.yb;br<In.Hb;++br){Pn=br,Bi=Ji;var Vn=(Qn=(yn=In).D).Nb;Wr=yn.R;var Qn=Qn.wa[Qn.Y+Pn],Ti=yn.sa,ws=yn.ta+16*Vn*Wr+16*Pn,aa=Qn.dd,qn=Qn.tc;if(qn!=0)if(t(3<=qn),yn.L==1)0<Pn&&bo(Ti,ws,Wr,qn+4),Qn.La&&gs(Ti,ws,Wr,qn),0<Bi&&Ol(Ti,ws,Wr,qn+4),Qn.La&&Yc(Ti,ws,Wr,qn);else{var ja=yn.B,Dl=yn.qa,Ou=yn.ra+8*Vn*ja+8*Pn,xo=yn.Ha,yn=yn.Ia+8*Vn*ja+8*Pn;Vn=Qn.ld,0<Pn&&(Zf(Ti,ws,Wr,qn+4,aa,Vn),Ml(Dl,Ou,xo,yn,ja,qn+4,aa,Vn)),Qn.La&&(vo(Ti,ws,Wr,qn,aa,Vn),ju(Dl,Ou,xo,yn,ja,qn,aa,Vn)),0<Bi&&(Mu(Ti,ws,Wr,qn+4,aa,Vn),Gc(Dl,Ou,xo,yn,ja,qn+4,aa,Vn)),Qn.La&&(jl(Ti,ws,Wr,qn,aa,Vn),Ll(Dl,Ou,xo,yn,ja,qn,aa,Vn))}}if(Pe.ia&&alert("todo:DitherRow"),Re.put!=null){if(br=16*Vr,Vr=16*(Vr+1),Zi?(Re.y=Pe.sa,Re.O=Pe.ta+Kr,Re.f=Pe.qa,Re.N=Pe.ra+Ui,Re.ea=Pe.Ha,Re.W=Pe.Ia+Ui):(br-=Ar,Re.y=xt,Re.O=Zt,Re.f=Tt,Re.N=et,Re.ea=Lr,Re.W=zr),Ir||(Vr-=Ar),Vr>Re.o&&(Vr=Re.o),Re.F=null,Re.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&br<Vr&&(Re.J=mo(Pe,Re,br,Vr-br),Re.F=Pe.mb,Re.F==null&&Re.F.length==0)){Je=Kt(Pe,3,"Could not decode alpha data.");break e}br<Re.j&&(Ar=Re.j-br,br=Re.j,t(!(1&Ar)),Re.O+=Pe.R*Ar,Re.N+=Pe.B*(Ar>>1),Re.W+=Pe.B*(Ar>>1),Re.F!=null&&(Re.J+=Re.width*Ar)),br<Vr&&(Re.O+=Re.v,Re.N+=Re.v>>1,Re.W+=Re.v>>1,Re.F!=null&&(Re.J+=Re.v),Re.ka=br-Re.j,Re.U=Re.va-Re.v,Re.T=Vr-br,Je=Re.put(Re))}Ge+1!=Pe.Ic||Ir||(n(Pe.sa,Pe.ta-ot,xt,Zt+16*Pe.R,ot),n(Pe.qa,Pe.ra-Rt,Tt,et+8*Pe.B,Rt),n(Pe.Ha,Pe.Ia-Rt,Lr,zr+8*Pe.B,Rt))}if(!Je)return Kt(Fe,6,"Output aborted.")}return 1}(L,W)),W.bc!=null&&W.bc(W),Y&=1}return Y?(L.cb=0,Y):0}function mn(L,W,Y,te,le){le=L[W+Y+32*te]+(le>>3),L[W+Y+32*te]=-256&le?0>le?0:255:le}function xi(L,W,Y,te,le,he){mn(L,W,0,Y,te+le),mn(L,W,1,Y,te+he),mn(L,W,2,Y,te-he),mn(L,W,3,Y,te-le)}function Br(L){return(20091*L>>16)+L}function gn(L,W,Y,te){var le,he=0,fe=i(16);for(le=0;4>le;++le){var pe=L[W+0]+L[W+8],ge=L[W+0]-L[W+8],we=(35468*L[W+4]>>16)-Br(L[W+12]),Ne=Br(L[W+4])+(35468*L[W+12]>>16);fe[he+0]=pe+Ne,fe[he+1]=ge+we,fe[he+2]=ge-we,fe[he+3]=pe-Ne,he+=4,W++}for(le=he=0;4>le;++le)pe=(L=fe[he+0]+4)+fe[he+8],ge=L-fe[he+8],we=(35468*fe[he+4]>>16)-Br(fe[he+12]),mn(Y,te,0,0,pe+(Ne=Br(fe[he+4])+(35468*fe[he+12]>>16))),mn(Y,te,1,0,ge+we),mn(Y,te,2,0,ge-we),mn(Y,te,3,0,pe-Ne),he++,te+=32}function wr(L,W,Y,te){var le=L[W+0]+4,he=35468*L[W+4]>>16,fe=Br(L[W+4]),pe=35468*L[W+1]>>16;xi(Y,te,0,le+fe,L=Br(L[W+1]),pe),xi(Y,te,1,le+he,L,pe),xi(Y,te,2,le-he,L,pe),xi(Y,te,3,le-fe,L,pe)}function yr(L,W,Y,te,le){gn(L,W,Y,te),le&&gn(L,W+16,Y,te+4)}function ai(L,W,Y,te){Ia(L,W+0,Y,te,1),Ia(L,W+32,Y,te+128,1)}function Sr(L,W,Y,te){var le;for(L=L[W+0]+4,le=0;4>le;++le)for(W=0;4>W;++W)mn(Y,te,W,le,L)}function Li(L,W,Y,te){L[W+0]&&Ai(L,W+0,Y,te),L[W+16]&&Ai(L,W+16,Y,te+4),L[W+32]&&Ai(L,W+32,Y,te+128),L[W+48]&&Ai(L,W+48,Y,te+128+4)}function cn(L,W,Y,te){var le,he=i(16);for(le=0;4>le;++le){var fe=L[W+0+le]+L[W+12+le],pe=L[W+4+le]+L[W+8+le],ge=L[W+4+le]-L[W+8+le],we=L[W+0+le]-L[W+12+le];he[0+le]=fe+pe,he[8+le]=fe-pe,he[4+le]=we+ge,he[12+le]=we-ge}for(le=0;4>le;++le)fe=(L=he[0+4*le]+3)+he[3+4*le],pe=he[1+4*le]+he[2+4*le],ge=he[1+4*le]-he[2+4*le],we=L-he[3+4*le],Y[te+0]=fe+pe>>3,Y[te+16]=we+ge>>3,Y[te+32]=fe-pe>>3,Y[te+48]=we-ge>>3,te+=64}function xn(L,W,Y){var te,le=W-32,he=Qi,fe=255-L[le-1];for(te=0;te<Y;++te){var pe,ge=he,we=fe+L[W-1];for(pe=0;pe<Y;++pe)L[W+pe]=ge[we+L[le+pe]];W+=32}}function Oi(L,W){xn(L,W,4)}function hs(L,W){xn(L,W,8)}function Js(L,W){xn(L,W,16)}function zn(L,W){var Y;for(Y=0;16>Y;++Y)n(L,W+32*Y,L,W-32,16)}function Xn(L,W){var Y;for(Y=16;0<Y;--Y)s(L,W,L[W-1],16),W+=32}function Ns(L,W,Y){var te;for(te=0;16>te;++te)s(W,Y+32*te,L,16)}function Si(L,W){var Y,te=16;for(Y=0;16>Y;++Y)te+=L[W-1+32*Y]+L[W+Y-32];Ns(te>>5,L,W)}function Ur(L,W){var Y,te=8;for(Y=0;16>Y;++Y)te+=L[W-1+32*Y];Ns(te>>4,L,W)}function Ps(L,W){var Y,te=8;for(Y=0;16>Y;++Y)te+=L[W+Y-32];Ns(te>>4,L,W)}function fs(L,W){Ns(128,L,W)}function er(L,W,Y){return L+2*W+Y+2>>2}function ki(L,W){var Y,te=W-32;for(te=new Uint8Array([er(L[te-1],L[te+0],L[te+1]),er(L[te+0],L[te+1],L[te+2]),er(L[te+1],L[te+2],L[te+3]),er(L[te+2],L[te+3],L[te+4])]),Y=0;4>Y;++Y)n(L,W+32*Y,te,0,te.length)}function ea(L,W){var Y=L[W-1],te=L[W-1+32],le=L[W-1+64],he=L[W-1+96];K(L,W+0,16843009*er(L[W-1-32],Y,te)),K(L,W+32,16843009*er(Y,te,le)),K(L,W+64,16843009*er(te,le,he)),K(L,W+96,16843009*er(le,he,he))}function ds(L,W){var Y,te=4;for(Y=0;4>Y;++Y)te+=L[W+Y-32]+L[W-1+32*Y];for(te>>=3,Y=0;4>Y;++Y)s(L,W+32*Y,te,4)}function Su(L,W){var Y=L[W-1+0],te=L[W-1+32],le=L[W-1+64],he=L[W-1-32],fe=L[W+0-32],pe=L[W+1-32],ge=L[W+2-32],we=L[W+3-32];L[W+0+96]=er(te,le,L[W-1+96]),L[W+1+96]=L[W+0+64]=er(Y,te,le),L[W+2+96]=L[W+1+64]=L[W+0+32]=er(he,Y,te),L[W+3+96]=L[W+2+64]=L[W+1+32]=L[W+0+0]=er(fe,he,Y),L[W+3+64]=L[W+2+32]=L[W+1+0]=er(pe,fe,he),L[W+3+32]=L[W+2+0]=er(ge,pe,fe),L[W+3+0]=er(we,ge,pe)}function Ki(L,W){var Y=L[W+1-32],te=L[W+2-32],le=L[W+3-32],he=L[W+4-32],fe=L[W+5-32],pe=L[W+6-32],ge=L[W+7-32];L[W+0+0]=er(L[W+0-32],Y,te),L[W+1+0]=L[W+0+32]=er(Y,te,le),L[W+2+0]=L[W+1+32]=L[W+0+64]=er(te,le,he),L[W+3+0]=L[W+2+32]=L[W+1+64]=L[W+0+96]=er(le,he,fe),L[W+3+32]=L[W+2+64]=L[W+1+96]=er(he,fe,pe),L[W+3+64]=L[W+2+96]=er(fe,pe,ge),L[W+3+96]=er(pe,ge,ge)}function no(L,W){var Y=L[W-1+0],te=L[W-1+32],le=L[W-1+64],he=L[W-1-32],fe=L[W+0-32],pe=L[W+1-32],ge=L[W+2-32],we=L[W+3-32];L[W+0+0]=L[W+1+64]=he+fe+1>>1,L[W+1+0]=L[W+2+64]=fe+pe+1>>1,L[W+2+0]=L[W+3+64]=pe+ge+1>>1,L[W+3+0]=ge+we+1>>1,L[W+0+96]=er(le,te,Y),L[W+0+64]=er(te,Y,he),L[W+0+32]=L[W+1+96]=er(Y,he,fe),L[W+1+32]=L[W+2+96]=er(he,fe,pe),L[W+2+32]=L[W+3+96]=er(fe,pe,ge),L[W+3+32]=er(pe,ge,we)}function El(L,W){var Y=L[W+0-32],te=L[W+1-32],le=L[W+2-32],he=L[W+3-32],fe=L[W+4-32],pe=L[W+5-32],ge=L[W+6-32],we=L[W+7-32];L[W+0+0]=Y+te+1>>1,L[W+1+0]=L[W+0+64]=te+le+1>>1,L[W+2+0]=L[W+1+64]=le+he+1>>1,L[W+3+0]=L[W+2+64]=he+fe+1>>1,L[W+0+32]=er(Y,te,le),L[W+1+32]=L[W+0+96]=er(te,le,he),L[W+2+32]=L[W+1+96]=er(le,he,fe),L[W+3+32]=L[W+2+96]=er(he,fe,pe),L[W+3+64]=er(fe,pe,ge),L[W+3+96]=er(pe,ge,we)}function io(L,W){var Y=L[W-1+0],te=L[W-1+32],le=L[W-1+64],he=L[W-1+96];L[W+0+0]=Y+te+1>>1,L[W+2+0]=L[W+0+32]=te+le+1>>1,L[W+2+32]=L[W+0+64]=le+he+1>>1,L[W+1+0]=er(Y,te,le),L[W+3+0]=L[W+1+32]=er(te,le,he),L[W+3+32]=L[W+1+64]=er(le,he,he),L[W+3+64]=L[W+2+64]=L[W+0+96]=L[W+1+96]=L[W+2+96]=L[W+3+96]=he}function so(L,W){var Y=L[W-1+0],te=L[W-1+32],le=L[W-1+64],he=L[W-1+96],fe=L[W-1-32],pe=L[W+0-32],ge=L[W+1-32],we=L[W+2-32];L[W+0+0]=L[W+2+32]=Y+fe+1>>1,L[W+0+32]=L[W+2+64]=te+Y+1>>1,L[W+0+64]=L[W+2+96]=le+te+1>>1,L[W+0+96]=he+le+1>>1,L[W+3+0]=er(pe,ge,we),L[W+2+0]=er(fe,pe,ge),L[W+1+0]=L[W+3+32]=er(Y,fe,pe),L[W+1+32]=L[W+3+64]=er(te,Y,fe),L[W+1+64]=L[W+3+96]=er(le,te,Y),L[W+1+96]=er(he,le,te)}function ku(L,W){var Y;for(Y=0;8>Y;++Y)n(L,W+32*Y,L,W-32,8)}function Is(L,W){var Y;for(Y=0;8>Y;++Y)s(L,W,L[W-1],8),W+=32}function Gi(L,W,Y){var te;for(te=0;8>te;++te)s(W,Y+32*te,L,8)}function Rs(L,W){var Y,te=8;for(Y=0;8>Y;++Y)te+=L[W+Y-32]+L[W-1+32*Y];Gi(te>>4,L,W)}function Al(L,W){var Y,te=4;for(Y=0;8>Y;++Y)te+=L[W+Y-32];Gi(te>>3,L,W)}function Or(L,W){var Y,te=4;for(Y=0;8>Y;++Y)te+=L[W-1+32*Y];Gi(te>>3,L,W)}function Tl(L,W){Gi(128,L,W)}function ao(L,W,Y){var te=L[W-Y],le=L[W+0],he=3*(le-te)+r0[1020+L[W-2*Y]-L[W+Y]],fe=ed[112+(he+4>>3)];L[W-Y]=Qi[255+te+ed[112+(he+3>>3)]],L[W+0]=Qi[255+le-fe]}function Cl(L,W,Y,te){var le=L[W+0],he=L[W+Y];return vs[255+L[W-2*Y]-L[W-Y]]>te||vs[255+he-le]>te}function Nl(L,W,Y,te){return 4*vs[255+L[W-Y]-L[W+0]]+vs[255+L[W-2*Y]-L[W+Y]]<=te}function Pl(L,W,Y,te,le){var he=L[W-3*Y],fe=L[W-2*Y],pe=L[W-Y],ge=L[W+0],we=L[W+Y],Ne=L[W+2*Y],ze=L[W+3*Y];return 4*vs[255+pe-ge]+vs[255+fe-we]>te?0:vs[255+L[W-4*Y]-he]<=le&&vs[255+he-fe]<=le&&vs[255+fe-pe]<=le&&vs[255+ze-Ne]<=le&&vs[255+Ne-we]<=le&&vs[255+we-ge]<=le}function Ea(L,W,Y,te){var le=2*te+1;for(te=0;16>te;++te)Nl(L,W+te,Y,le)&&ao(L,W+te,Y)}function Yi(L,W,Y,te){var le=2*te+1;for(te=0;16>te;++te)Nl(L,W+te*Y,1,le)&&ao(L,W+te*Y,1)}function Ln(L,W,Y,te){var le;for(le=3;0<le;--le)Ea(L,W+=4*Y,Y,te)}function Eu(L,W,Y,te){var le;for(le=3;0<le;--le)Yi(L,W+=4,Y,te)}function ta(L,W,Y,te,le,he,fe,pe){for(he=2*he+1;0<le--;){if(Pl(L,W,Y,he,fe))if(Cl(L,W,Y,pe))ao(L,W,Y);else{var ge=L,we=W,Ne=Y,ze=ge[we-2*Ne],Ve=ge[we-Ne],Fe=ge[we+0],tt=ge[we+Ne],Ge=ge[we+2*Ne],Pe=27*(Je=r0[1020+3*(Fe-Ve)+r0[1020+ze-tt]])+63>>7,Re=18*Je+63>>7,Je=9*Je+63>>7;ge[we-3*Ne]=Qi[255+ge[we-3*Ne]+Je],ge[we-2*Ne]=Qi[255+ze+Re],ge[we-Ne]=Qi[255+Ve+Pe],ge[we+0]=Qi[255+Fe-Pe],ge[we+Ne]=Qi[255+tt-Re],ge[we+2*Ne]=Qi[255+Ge-Je]}W+=te}}function Kn(L,W,Y,te,le,he,fe,pe){for(he=2*he+1;0<le--;){if(Pl(L,W,Y,he,fe))if(Cl(L,W,Y,pe))ao(L,W,Y);else{var ge=L,we=W,Ne=Y,ze=ge[we-Ne],Ve=ge[we+0],Fe=ge[we+Ne],tt=ed[112+((Ge=3*(Ve-ze))+4>>3)],Ge=ed[112+(Ge+3>>3)],Pe=tt+1>>1;ge[we-2*Ne]=Qi[255+ge[we-2*Ne]+Pe],ge[we-Ne]=Qi[255+ze+Ge],ge[we+0]=Qi[255+Ve-tt],ge[we+Ne]=Qi[255+Fe-Pe]}W+=te}}function oo(L,W,Y,te,le,he){ta(L,W,Y,1,16,te,le,he)}function Ms(L,W,Y,te,le,he){ta(L,W,1,Y,16,te,le,he)}function lo(L,W,Y,te,le,he){var fe;for(fe=3;0<fe;--fe)Kn(L,W+=4*Y,Y,1,16,te,le,he)}function Aa(L,W,Y,te,le,he){var fe;for(fe=3;0<fe;--fe)Kn(L,W+=4,1,Y,16,te,le,he)}function uo(L,W,Y,te,le,he,fe,pe){ta(L,W,le,1,8,he,fe,pe),ta(Y,te,le,1,8,he,fe,pe)}function Il(L,W,Y,te,le,he,fe,pe){ta(L,W,1,le,8,he,fe,pe),ta(Y,te,1,le,8,he,fe,pe)}function co(L,W,Y,te,le,he,fe,pe){Kn(L,W+4*le,le,1,8,he,fe,pe),Kn(Y,te+4*le,le,1,8,he,fe,pe)}function ra(L,W,Y,te,le,he,fe,pe){Kn(L,W+4,1,le,8,he,fe,pe),Kn(Y,te+4,1,le,8,he,fe,pe)}function Ta(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new At,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ho(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ca(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fo(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new I}function Au(){this.xb=this.a=0,this.l=new Vt,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fo,this.ab=0,this.gc=a(4,Ca),this.Oc=0}function js(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function na(L,W,Y,te,le,he,fe){for(L=L==null?0:L[W+0],W=0;W<fe;++W)le[he+W]=L+Y[te+W]&255,L=le[he+W]}function po(L,W,Y,te,le,he,fe){var pe;if(L==null)na(null,null,Y,te,le,he,fe);else for(pe=0;pe<fe;++pe)le[he+pe]=L[W+pe]+Y[te+pe]&255}function oi(L,W,Y,te,le,he,fe){if(L==null)na(null,null,Y,te,le,he,fe);else{var pe,ge=L[W+0],we=ge,Ne=ge;for(pe=0;pe<fe;++pe)we=Ne+(ge=L[W+pe])-we,Ne=Y[te+pe]+(-256&we?0>we?0:255:we)&255,we=ge,le[he+pe]=Ne}}function mo(L,W,Y,te){var le=W.width,he=W.o;if(t(L!=null&&W!=null),0>Y||0>=te||Y+te>he)return null;if(!L.Cc){if(L.ga==null){var fe;if(L.ga=new js,(fe=L.ga==null)||(fe=W.width*W.o,t(L.Gb.length==0),L.Gb=i(fe),L.Uc=0,L.Gb==null?fe=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,fe=1),fe=!fe),!fe){fe=L.ga;var pe=L.Fa,ge=L.P,we=L.qc,Ne=L.mb,ze=L.nb,Ve=ge+1,Fe=we-1,tt=fe.l;if(t(pe!=null&&Ne!=null&&W!=null),_o[0]=null,_o[1]=na,_o[2]=po,_o[3]=oi,fe.ca=Ne,fe.tb=ze,fe.c=W.width,fe.i=W.height,t(0<fe.c&&0<fe.i),1>=we)W=0;else if(fe.$a=pe[ge+0]>>0&3,fe.Z=pe[ge+0]>>2&3,fe.Lc=pe[ge+0]>>4&3,ge=pe[ge+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ge)W=0;else if(tt.put=tr,tt.ac=Wt,tt.bc=jt,tt.ma=fe,tt.width=W.width,tt.height=W.height,tt.Da=W.Da,tt.v=W.v,tt.va=W.va,tt.j=W.j,tt.o=W.o,fe.$a)e:{t(fe.$a==1),W=Ct();t:for(;;){if(W==null){W=0;break e}if(t(fe!=null),fe.mc=W,W.c=fe.c,W.i=fe.i,W.l=fe.l,W.l.ma=fe,W.l.width=fe.c,W.l.height=fe.i,W.a=0,x(W.m,pe,Ve,Fe),!Xt(fe.c,fe.i,1,W,null)||(W.ab==1&&W.gc[0].hc==3&&pt(W.s)?(fe.ic=1,pe=W.c*W.i,W.Ta=null,W.Ua=0,W.V=i(pe),W.Ba=0,W.V==null?(W.a=1,W=0):W=1):(fe.ic=0,W=Cr(W,fe.c)),!W))break t;W=1;break e}fe.mc=null,W=0}else W=Fe>=fe.c*fe.i;fe=!W}if(fe)return null;L.ga.Lc!=1?L.Ga=0:te=he-Y}t(L.ga!=null),t(Y+te<=he);e:{if(W=(pe=L.ga).c,he=pe.l.o,pe.$a==0){if(Ve=L.rc,Fe=L.Vc,tt=L.Fa,ge=L.P+1+Y*W,we=L.mb,Ne=L.nb+Y*W,t(ge<=L.P+L.qc),pe.Z!=0)for(t(_o[pe.Z]!=null),fe=0;fe<te;++fe)_o[pe.Z](Ve,Fe,tt,ge,we,Ne,W),Ve=we,Fe=Ne,Ne+=W,ge+=W;else for(fe=0;fe<te;++fe)n(we,Ne,tt,ge,W),Ve=we,Fe=Ne,Ne+=W,ge+=W;L.rc=Ve,L.Vc=Fe}else{if(t(pe.mc!=null),W=Y+te,t((fe=pe.mc)!=null),t(W<=fe.i),fe.C>=W)W=1;else if(pe.ic||De(),pe.ic){pe=fe.V,Ve=fe.Ba,Fe=fe.c;var Ge=fe.i,Pe=(tt=1,ge=fe.$/Fe,we=fe.$%Fe,Ne=fe.m,ze=fe.s,fe.$),Re=Fe*Ge,Je=Fe*W,ot=ze.wc,et=Pe<Je?We(ze,we,ge):null;t(Pe<=Re),t(W<=Ge),t(pt(ze));t:for(;;){for(;!Ne.h&&Pe<Je;){if(we&ot||(et=We(ze,we,ge)),t(et!=null),V(Ne),256>(Ge=Ee(et.G[0],et.H[0],Ne)))pe[Ve+Pe]=Ge,++Pe,++we>=Fe&&(we=0,++ge<=W&&!(ge%16)&&It(fe,ge));else{if(!(280>Ge)){tt=0;break t}Ge=ur(Ge-256,Ne);var Rt,xt=Ee(et.G[4],et.H[4],Ne);if(V(Ne),!(Pe>=(xt=Bt(Fe,xt=ur(xt,Ne)))&&Re-Pe>=Ge)){tt=0;break t}for(Rt=0;Rt<Ge;++Rt)pe[Ve+Pe+Rt]=pe[Ve+Pe+Rt-xt];for(Pe+=Ge,we+=Ge;we>=Fe;)we-=Fe,++ge<=W&&!(ge%16)&&It(fe,ge);Pe<Je&&we&ot&&(et=We(ze,we,ge))}t(Ne.h==X(Ne))}It(fe,ge>W?W:ge);break t}!tt||Ne.h&&Pe<Re?(tt=0,fe.a=Ne.h?5:3):fe.$=Pe,W=tt}else W=Et(fe,fe.V,fe.Ba,fe.c,fe.i,W,Qe);if(!W){te=0;break e}}Y+te>=he&&(L.Cc=1),te=1}if(!te)return null;if(L.Cc&&((te=L.ga)!=null&&(te.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+Y*le}function G(L,W,Y,te,le,he){for(;0<le--;){var fe,pe=L,ge=W+(Y?1:0),we=L,Ne=W+(Y?0:3);for(fe=0;fe<te;++fe){var ze=we[Ne+4*fe];ze!=255&&(ze*=32897,pe[ge+4*fe+0]=pe[ge+4*fe+0]*ze>>23,pe[ge+4*fe+1]=pe[ge+4*fe+1]*ze>>23,pe[ge+4*fe+2]=pe[ge+4*fe+2]*ze>>23)}W+=he}}function oe(L,W,Y,te,le){for(;0<te--;){var he;for(he=0;he<Y;++he){var fe=L[W+2*he+0],pe=15&(we=L[W+2*he+1]),ge=4369*pe,we=(240&we|we>>4)*ge>>16;L[W+2*he+0]=(240&fe|fe>>4)*ge>>16&240|(15&fe|fe<<4)*ge>>16>>4&15,L[W+2*he+1]=240&we|pe}W+=le}}function Se(L,W,Y,te,le,he,fe,pe){var ge,we,Ne=255;for(we=0;we<le;++we){for(ge=0;ge<te;++ge){var ze=L[W+ge];he[fe+4*ge]=ze,Ne&=ze}W+=Y,fe+=pe}return Ne!=255}function Ae(L,W,Y,te,le){var he;for(he=0;he<le;++he)Y[te+he]=L[W+he]>>8}function De(){ys=G,Yr=oe,Qr=Se,kn=Ae}function Ye(L,W,Y){T[L]=function(te,le,he,fe,pe,ge,we,Ne,ze,Ve,Fe,tt,Ge,Pe,Re,Je,ot){var et,Rt=ot-1>>1,xt=pe[ge+0]|we[Ne+0]<<16,Zt=ze[Ve+0]|Fe[tt+0]<<16;t(te!=null);var Tt=3*xt+Zt+131074>>2;for(W(te[le+0],255&Tt,Tt>>16,Ge,Pe),he!=null&&(Tt=3*Zt+xt+131074>>2,W(he[fe+0],255&Tt,Tt>>16,Re,Je)),et=1;et<=Rt;++et){var Lr=pe[ge+et]|we[Ne+et]<<16,zr=ze[Ve+et]|Fe[tt+et]<<16,Ir=xt+Lr+Zt+zr+524296,Ar=Ir+2*(Lr+Zt)>>3;Tt=Ar+xt>>1,xt=(Ir=Ir+2*(xt+zr)>>3)+Lr>>1,W(te[le+2*et-1],255&Tt,Tt>>16,Ge,Pe+(2*et-1)*Y),W(te[le+2*et-0],255&xt,xt>>16,Ge,Pe+(2*et-0)*Y),he!=null&&(Tt=Ir+Zt>>1,xt=Ar+zr>>1,W(he[fe+2*et-1],255&Tt,Tt>>16,Re,Je+(2*et-1)*Y),W(he[fe+2*et+0],255&xt,xt>>16,Re,Je+(2*et+0)*Y)),xt=Lr,Zt=zr}1&ot||(Tt=3*xt+Zt+131074>>2,W(te[le+ot-1],255&Tt,Tt>>16,Ge,Pe+(ot-1)*Y),he!=null&&(Tt=3*Zt+xt+131074>>2,W(he[fe+ot-1],255&Tt,Tt>>16,Re,Je+(ot-1)*Y)))}}function lt(){bs[td]=yS,bs[rd]=wv,bs[mv]=vS,bs[nd]=_v,bs[id]=xv,bs[n0]=Sv,bs[gv]=bS,bs[i0]=wv,bs[s0]=_v,bs[sd]=xv,bs[a0]=Sv}function St(L){return L&-16384?0>L?0:255:L>>wS}function z(L,W){return St((19077*L>>8)+(26149*W>>8)-14234)}function J(L,W,Y){return St((19077*L>>8)-(6419*W>>8)-(13320*Y>>8)+8708)}function re(L,W){return St((19077*L>>8)+(33050*W>>8)-17685)}function de(L,W,Y,te,le){te[le+0]=z(L,Y),te[le+1]=J(L,W,Y),te[le+2]=re(L,W)}function je(L,W,Y,te,le){te[le+0]=re(L,W),te[le+1]=J(L,W,Y),te[le+2]=z(L,Y)}function qe(L,W,Y,te,le){var he=J(L,W,Y);W=he<<3&224|re(L,W)>>3,te[le+0]=248&z(L,Y)|he>>5,te[le+1]=W}function ct(L,W,Y,te,le){var he=240&re(L,W)|15;te[le+0]=240&z(L,Y)|J(L,W,Y)>>4,te[le+1]=he}function hr(L,W,Y,te,le){te[le+0]=255,de(L,W,Y,te,le+1)}function Er(L,W,Y,te,le){je(L,W,Y,te,le),te[le+3]=255}function fr(L,W,Y,te,le){de(L,W,Y,te,le),te[le+3]=255}function Dr(L,W){return 0>L?0:L>W?W:L}function Xr(L,W,Y){T[L]=function(te,le,he,fe,pe,ge,we,Ne,ze){for(var Ve=Ne+(-2&ze)*Y;Ne!=Ve;)W(te[le+0],he[fe+0],pe[ge+0],we,Ne),W(te[le+1],he[fe+0],pe[ge+0],we,Ne+Y),le+=2,++fe,++ge,Ne+=2*Y;1&ze&&W(te[le+0],he[fe+0],pe[ge+0],we,Ne)}}function Ls(L,W,Y){return Y==0?L==0?W==0?6:5:W==0?4:0:Y}function Gn(L,W,Y,te,le){switch(L>>>30){case 3:Ia(W,Y,te,le,0);break;case 2:Sn(W,Y,te,le);break;case 1:Ai(W,Y,te,le)}}function ia(L,W){var Y,te,le=W.M,he=W.Nb,fe=L.oc,pe=L.pc+40,ge=L.oc,we=L.pc+584,Ne=L.oc,ze=L.pc+600;for(Y=0;16>Y;++Y)fe[pe+32*Y-1]=129;for(Y=0;8>Y;++Y)ge[we+32*Y-1]=129,Ne[ze+32*Y-1]=129;for(0<le?fe[pe-1-32]=ge[we-1-32]=Ne[ze-1-32]=129:(s(fe,pe-32-1,127,21),s(ge,we-32-1,127,9),s(Ne,ze-32-1,127,9)),te=0;te<L.za;++te){var Ve=W.ya[W.aa+te];if(0<te){for(Y=-1;16>Y;++Y)n(fe,pe+32*Y-4,fe,pe+32*Y+12,4);for(Y=-1;8>Y;++Y)n(ge,we+32*Y-4,ge,we+32*Y+4,4),n(Ne,ze+32*Y-4,Ne,ze+32*Y+4,4)}var Fe=L.Gd,tt=L.Hd+te,Ge=Ve.ad,Pe=Ve.Hc;if(0<le&&(n(fe,pe-32,Fe[tt].y,0,16),n(ge,we-32,Fe[tt].f,0,8),n(Ne,ze-32,Fe[tt].ea,0,8)),Ve.Za){var Re=fe,Je=pe-32+16;for(0<le&&(te>=L.za-1?s(Re,Je,Fe[tt].y[15],4):n(Re,Je,Fe[tt+1].y,0,4)),Y=0;4>Y;Y++)Re[Je+128+Y]=Re[Je+256+Y]=Re[Je+384+Y]=Re[Je+0+Y];for(Y=0;16>Y;++Y,Pe<<=2)Re=fe,Je=pe+Ev[Y],Os[Ve.Ob[Y]](Re,Je),Gn(Pe,Ge,16*+Y,Re,Je)}else if(Re=Ls(te,le,Ve.Ob[0]),wo[Re](fe,pe),Pe!=0)for(Y=0;16>Y;++Y,Pe<<=2)Gn(Pe,Ge,16*+Y,fe,pe+Ev[Y]);for(Y=Ve.Gc,Re=Ls(te,le,Ve.Dd),Ma[Re](ge,we),Ma[Re](Ne,ze),Pe=Ge,Re=ge,Je=we,255&(Ve=Y>>0)&&(170&Ve?Kc(Pe,256,Re,Je):ms(Pe,256,Re,Je)),Ve=Ne,Pe=ze,255&(Y>>=8)&&(170&Y?Kc(Ge,320,Ve,Pe):ms(Ge,320,Ve,Pe)),le<L.Ub-1&&(n(Fe[tt].y,0,fe,pe+480,16),n(Fe[tt].f,0,ge,we+224,8),n(Fe[tt].ea,0,Ne,ze+224,8)),Y=8*he*L.B,Fe=L.sa,tt=L.ta+16*te+16*he*L.R,Ge=L.qa,Ve=L.ra+8*te+Y,Pe=L.Ha,Re=L.Ia+8*te+Y,Y=0;16>Y;++Y)n(Fe,tt+Y*L.R,fe,pe+32*Y,16);for(Y=0;8>Y;++Y)n(Ge,Ve+Y*L.B,ge,we+32*Y,8),n(Pe,Re+Y*L.B,Ne,ze+32*Y,8)}}function sa(L,W,Y,te,le,he,fe,pe,ge){var we=[0],Ne=[0],ze=0,Ve=ge!=null?ge.kd:0,Fe=ge??new ho;if(L==null||12>Y)return 7;Fe.data=L,Fe.w=W,Fe.ha=Y,W=[W],Y=[Y],Fe.gb=[Fe.gb];e:{var tt=W,Ge=Y,Pe=Fe.gb;if(t(L!=null),t(Ge!=null),t(Pe!=null),Pe[0]=0,12<=Ge[0]&&!e(L,tt[0],"RIFF")){if(e(L,tt[0]+8,"WEBP")){Pe=3;break e}var Re=ie(L,tt[0]+4);if(12>Re||4294967286<Re){Pe=3;break e}if(Ve&&Re>Ge[0]-8){Pe=7;break e}Pe[0]=Re,tt[0]+=12,Ge[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Re=0<Fe.gb[0],Y=Y[0];;){e:{var Je=L;Ge=W,Pe=Y;var ot=we,et=Ne,Rt=tt=[0];if((Tt=ze=[ze])[0]=0,8>Pe[0])Pe=7;else{if(!e(Je,Ge[0],"VP8X")){if(ie(Je,Ge[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var xt=ie(Je,Ge[0]+8),Zt=1+ue(Je,Ge[0]+12);if(2147483648<=Zt*(Je=1+ue(Je,Ge[0]+15))){Pe=3;break e}Rt!=null&&(Rt[0]=xt),ot!=null&&(ot[0]=Zt),et!=null&&(et[0]=Je),Ge[0]+=18,Pe[0]-=18,Tt[0]=1}Pe=0}}if(ze=ze[0],tt=tt[0],Pe!=0)return Pe;if(Ge=!!(2&tt),!Re&&ze)return 3;if(he!=null&&(he[0]=!!(16&tt)),fe!=null&&(fe[0]=Ge),pe!=null&&(pe[0]=0),fe=we[0],tt=Ne[0],ze&&Ge&&ge==null){Pe=0;break}if(4>Y){Pe=7;break}if(Re&&ze||!Re&&!ze&&!e(L,W[0],"ALPH")){Y=[Y],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{xt=L,Pe=W,Re=Y;var Tt=Fe.gb;ot=Fe.na,et=Fe.P,Rt=Fe.Sa,Zt=22,t(xt!=null),t(Re!=null),Je=Pe[0];var Lr=Re[0];for(t(ot!=null),t(Rt!=null),ot[0]=null,et[0]=null,Rt[0]=0;;){if(Pe[0]=Je,Re[0]=Lr,8>Lr){Pe=7;break e}var zr=ie(xt,Je+4);if(4294967286<zr){Pe=3;break e}var Ir=8+zr+1&-2;if(Zt+=Ir,0<Tt&&Zt>Tt){Pe=3;break e}if(!e(xt,Je,"VP8 ")||!e(xt,Je,"VP8L")){Pe=0;break e}if(Lr[0]<Ir){Pe=7;break e}e(xt,Je,"ALPH")||(ot[0]=xt,et[0]=Je+8,Rt[0]=zr),Je+=Ir,Lr-=Ir}}if(Y=Y[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Pe!=0)break}Y=[Y],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Tt=L,Pe=W,Re=Y,ot=Fe.gb[0],et=Fe.Ja,Rt=Fe.xa,xt=Pe[0],Je=!e(Tt,xt,"VP8 "),Zt=!e(Tt,xt,"VP8L"),t(Tt!=null),t(Re!=null),t(et!=null),t(Rt!=null),8>Re[0])Pe=7;else{if(Je||Zt){if(Tt=ie(Tt,xt+4),12<=ot&&Tt>ot-12){Pe=3;break e}if(Ve&&Tt>Re[0]-8){Pe=7;break e}et[0]=Tt,Pe[0]+=8,Re[0]-=8,Rt[0]=Zt}else Rt[0]=5<=Re[0]&&Tt[xt+0]==47&&!(Tt[xt+4]>>5),et[0]=Re[0];Pe=0}if(Y=Y[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],W=W[0],Pe!=0)break;if(4294967286<Fe.Ja)return 3;if(pe==null||Ge||(pe[0]=Fe.xa?2:1),fe=[fe],tt=[tt],Fe.xa){if(5>Y){Pe=7;break}pe=fe,Ve=tt,Ge=he,L==null||5>Y?L=0:5<=Y&&L[W+0]==47&&!(L[W+4]>>5)?(Re=[0],Tt=[0],ot=[0],x(et=new P,L,W,Y),ut(et,Re,Tt,ot)?(pe!=null&&(pe[0]=Re[0]),Ve!=null&&(Ve[0]=Tt[0]),Ge!=null&&(Ge[0]=ot[0]),L=1):L=0):L=0}else{if(10>Y){Pe=7;break}pe=tt,L==null||10>Y||!xr(L,W+3,Y-3)?L=0:(Ve=L[W+0]|L[W+1]<<8|L[W+2]<<16,Ge=16383&(L[W+7]<<8|L[W+6]),L=16383&(L[W+9]<<8|L[W+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=Fe.Ja||!Ge||!L?L=0:(fe&&(fe[0]=Ge),pe&&(pe[0]=L),L=1))}if(!L||(fe=fe[0],tt=tt[0],ze&&(we[0]!=fe||Ne[0]!=tt)))return 3;ge!=null&&(ge[0]=Fe,ge.offset=W-ge.w,t(4294967286>W-ge.w),t(ge.offset==ge.ha-Y));break}return Pe==0||Pe==7&&ze&&ge==null?(he!=null&&(he[0]|=Fe.na!=null&&0<Fe.na.length),te!=null&&(te[0]=fe),le!=null&&(le[0]=tt),0):Pe}function Hc(L,W,Y){var te=W.width,le=W.height,he=0,fe=0,pe=te,ge=le;if(W.Da=L!=null&&0<L.Da,W.Da&&(pe=L.cd,ge=L.bd,he=L.v,fe=L.j,11>Y||(he&=-2,fe&=-2),0>he||0>fe||0>=pe||0>=ge||he+pe>te||fe+ge>le))return 0;if(W.v=he,W.j=fe,W.va=he+pe,W.o=fe+ge,W.U=pe,W.T=ge,W.da=L!=null&&0<L.da,W.da){if(!se(pe,ge,Y=[L.ib],he=[L.hb]))return 0;W.ib=Y[0],W.hb=he[0]}return W.ob=L!=null&&L.ob,W.Kb=L==null||!L.Sd,W.da&&(W.ob=W.ib<3*te/4&&W.hb<3*le/4,W.Kb=0),1}function $c(L){if(L==null)return 2;if(11>L.S){var W=L.f.RGBA;W.fb+=(L.height-1)*W.A,W.A=-W.A}else W=L.f.kb,L=L.height,W.O+=(L-1)*W.fa,W.fa=-W.fa,W.N+=(L-1>>1)*W.Ab,W.Ab=-W.Ab,W.W+=(L-1>>1)*W.Db,W.Db=-W.Db,W.F!=null&&(W.J+=(L-1)*W.lb,W.lb=-W.lb);return 0}function Tu(L,W,Y,te){if(te==null||0>=L||0>=W)return 2;if(Y!=null){if(Y.Da){var le=Y.cd,he=Y.bd,fe=-2&Y.v,pe=-2&Y.j;if(0>fe||0>pe||0>=le||0>=he||fe+le>L||pe+he>W)return 2;L=le,W=he}if(Y.da){if(!se(L,W,le=[Y.ib],he=[Y.hb]))return 2;L=le[0],W=he[0]}}te.width=L,te.height=W;e:{var ge=te.width,we=te.height;if(L=te.S,0>=ge||0>=we||!(L>=td&&13>L))L=2;else{if(0>=te.Rd&&te.sd==null){fe=he=le=W=0;var Ne=(pe=ge*Av[L])*we;if(11>L||(he=(we+1)/2*(W=(ge+1)/2),L==12&&(fe=(le=ge)*we)),(we=i(Ne+2*he+fe))==null){L=1;break e}te.sd=we,11>L?((ge=te.f.RGBA).eb=we,ge.fb=0,ge.A=pe,ge.size=Ne):((ge=te.f.kb).y=we,ge.O=0,ge.fa=pe,ge.Fd=Ne,ge.f=we,ge.N=0+Ne,ge.Ab=W,ge.Cd=he,ge.ea=we,ge.W=0+Ne+he,ge.Db=W,ge.Ed=he,L==12&&(ge.F=we,ge.J=0+Ne+2*he),ge.Tc=fe,ge.lb=le)}if(W=1,le=te.S,he=te.width,fe=te.height,le>=td&&13>le)if(11>le)L=te.f.RGBA,W&=(pe=Math.abs(L.A))*(fe-1)+he<=L.size,W&=pe>=he*Av[le],W&=L.eb!=null;else{L=te.f.kb,pe=(he+1)/2,Ne=(fe+1)/2,ge=Math.abs(L.fa),we=Math.abs(L.Ab);var ze=Math.abs(L.Db),Ve=Math.abs(L.lb),Fe=Ve*(fe-1)+he;W&=ge*(fe-1)+he<=L.Fd,W&=we*(Ne-1)+pe<=L.Cd,W=(W&=ze*(Ne-1)+pe<=L.Ed)&ge>=he&we>=pe&ze>=pe,W&=L.y!=null,W&=L.f!=null,W&=L.ea!=null,le==12&&(W&=Ve>=he,W&=Fe<=L.Tc,W&=L.F!=null)}else W=0;L=W?0:2}}return L!=0||Y!=null&&Y.fd&&(L=$c(te)),L}var Yn=64,Cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nu=24,Pu=32,Wc=8,Di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(L){return L},T.Predictor2=function(L,W,Y){return W[Y+0]},T.Predictor3=function(L,W,Y){return W[Y+1]},T.Predictor4=function(L,W,Y){return W[Y-1]},T.Predictor5=function(L,W,Y){return ke(ke(L,W[Y+1]),W[Y+0])},T.Predictor6=function(L,W,Y){return ke(L,W[Y-1])},T.Predictor7=function(L,W,Y){return ke(L,W[Y+0])},T.Predictor8=function(L,W,Y){return ke(W[Y-1],W[Y+0])},T.Predictor9=function(L,W,Y){return ke(W[Y+0],W[Y+1])},T.Predictor10=function(L,W,Y){return ke(ke(L,W[Y-1]),ke(W[Y+0],W[Y+1]))},T.Predictor11=function(L,W,Y){var te=W[Y+0];return 0>=Ue(te>>24&255,L>>24&255,(W=W[Y-1])>>24&255)+Ue(te>>16&255,L>>16&255,W>>16&255)+Ue(te>>8&255,L>>8&255,W>>8&255)+Ue(255&te,255&L,255&W)?te:L},T.Predictor12=function(L,W,Y){var te=W[Y+0];return(Ce((L>>24&255)+(te>>24&255)-((W=W[Y-1])>>24&255))<<24|Ce((L>>16&255)+(te>>16&255)-(W>>16&255))<<16|Ce((L>>8&255)+(te>>8&255)-(W>>8&255))<<8|Ce((255&L)+(255&te)-(255&W)))>>>0},T.Predictor13=function(L,W,Y){var te=W[Y-1];return(Oe((L=ke(L,W[Y+0]))>>24&255,te>>24&255)<<24|Oe(L>>16&255,te>>16&255)<<16|Oe(L>>8&255,te>>8&255)<<8|Oe(L>>0&255,te>>0&255))>>>0};var t0=T.PredictorAdd0;T.PredictorAdd1=ve,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var Xc=T.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var Gf,ps=T.ColorIndexInverseTransform,Iu=T.MapARGB,Yf=T.VP8LColorIndexInverseTransformAlpha,Qf=T.MapAlpha,go=T.VP8LPredictorsAdd=[];go.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Rl,Fi,Ei,yo,Na,Pa,Ru,Ia,Sn,Kc,Ai,ms,Mu,Zf,Gc,Ml,jl,vo,Ll,ju,Ol,bo,Yc,gs,ys,Yr,Qr,kn,On=i(511),Ra=i(2041),Qc=i(225),Lu=i(767),Jf=0,r0=Ra,ed=Qc,Qi=Lu,vs=On,td=0,rd=1,mv=2,nd=3,id=4,n0=5,gv=6,i0=7,s0=8,sd=9,a0=10,nS=[2,3,7],iS=[3,3,11],yv=[280,256,256,256,40],sS=[0,1,1,1,0],aS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],oS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uS=8,o0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zc=null,cS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wo=[],Os=[],Ma=[],gS=1,bv=2,_o=[],bs=[];Ye("UpsampleRgbLinePair",de,3),Ye("UpsampleBgrLinePair",je,3),Ye("UpsampleRgbaLinePair",fr,4),Ye("UpsampleBgraLinePair",Er,4),Ye("UpsampleArgbLinePair",hr,4),Ye("UpsampleRgba4444LinePair",ct,2),Ye("UpsampleRgb565LinePair",qe,2);var yS=T.UpsampleRgbLinePair,vS=T.UpsampleBgrLinePair,wv=T.UpsampleRgbaLinePair,_v=T.UpsampleBgraLinePair,xv=T.UpsampleArgbLinePair,Sv=T.UpsampleRgba4444LinePair,bS=T.UpsampleRgb565LinePair,ad=16,od=1<<ad-1,Jc=-227,u0=482,wS=6,kv=0,_S=i(256),xS=i(256),SS=i(256),kS=i(256),ES=i(u0-Jc),AS=i(u0-Jc);Xr("YuvToRgbRow",de,3),Xr("YuvToBgrRow",je,3),Xr("YuvToRgbaRow",fr,4),Xr("YuvToBgraRow",Er,4),Xr("YuvToArgbRow",hr,4),Xr("YuvToRgba4444Row",ct,2),Xr("YuvToRgb565Row",qe,2);var Ev=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ld=[0,2,8],TS=[8,7,6,4,4,2,2,2,1,1,1,1],CS=1;this.WebPDecodeRGBA=function(L,W,Y,te,le){var he=rd,fe=new Ta,pe=new Gt;fe.ba=pe,pe.S=he,pe.width=[pe.width],pe.height=[pe.height];var ge=pe.width,we=pe.height,Ne=new Yt;if(Ne==null||L==null)var ze=2;else t(Ne!=null),ze=sa(L,W,Y,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(ze!=0?ge=0:(ge!=null&&(ge[0]=Ne.width[0]),we!=null&&(we[0]=Ne.height[0]),ge=1),ge){pe.width=pe.width[0],pe.height=pe.height[0],te!=null&&(te[0]=pe.width),le!=null&&(le[0]=pe.height);e:{if(te=new Vt,(le=new ho).data=L,le.w=W,le.ha=Y,le.kd=1,W=[0],t(le!=null),((L=sa(le.data,le.w,le.ha,null,null,null,W,null,le))==0||L==7)&&W[0]&&(L=4),(W=L)==0){if(t(fe!=null),te.data=le.data,te.w=le.w+le.offset,te.ha=le.ha-le.offset,te.put=tr,te.ac=Wt,te.bc=jt,te.ma=fe,le.xa){if((L=Ct())==null){fe=1;break e}if(function(Ve,Fe){var tt=[0],Ge=[0],Pe=[0];t:for(;;){if(Ve==null)return 0;if(Fe==null)return Ve.a=2,0;if(Ve.l=Fe,Ve.a=0,x(Ve.m,Fe.data,Fe.w,Fe.ha),!ut(Ve.m,tt,Ge,Pe)){Ve.a=3;break t}if(Ve.xb=bv,Fe.width=tt[0],Fe.height=Ge[0],!Xt(tt[0],Ge[0],1,Ve,null))break t;return 1}return t(Ve.a!=0),0}(L,te)){if(te=(W=Tu(te.width,te.height,fe.Oa,fe.ba))==0){t:{te=L;r:for(;;){if(te==null){te=0;break t}if(t(te.s.yc!=null),t(te.s.Ya!=null),t(0<te.s.Wb),t((Y=te.l)!=null),t((le=Y.ma)!=null),te.xb!=0){if(te.ca=le.ba,te.tb=le.tb,t(te.ca!=null),!Hc(le.Oa,Y,nd)){te.a=2;break r}if(!Cr(te,Y.width)||Y.da)break r;if((Y.da||kt(te.ca.S))&&De(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&De()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!ae(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!Et(te,te.V,te.Ba,te.c,te.i,Y.o,Ut))break r;le.Dc=te.Ma,te=1;break t}t(te.a!=0),te=0}te=!te}te&&(W=L.a)}else W=L.a}else{if((L=new _r)==null){fe=1;break e}if(L.Fa=le.na,L.P=le.P,L.qc=le.Sa,jr(L,te)){if((W=Tu(te.width,te.height,fe.Oa,fe.ba))==0){if(L.Aa=0,Y=fe.Oa,t((le=L)!=null),Y!=null){if(0<(ge=0>(ge=Y.Md)?0:100<ge?255:255*ge/100)){for(we=Ne=0;4>we;++we)12>(ze=le.pb[we]).lc&&(ze.ia=ge*TS[0>ze.lc?0:ze.lc]>>3),Ne|=ze.ia;Ne&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=Y.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}Un(L,te)||(W=L.a)}}else W=L.a}W==0&&fe.Oa!=null&&fe.Oa.fd&&(W=$c(fe.ba))}fe=W}he=fe!=0?null:11>he?pe.f.RGBA.eb:pe.f.kb.y}else he=null;return he};var Av=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(T,M){for(var U="",O=0;O<4;O++)U+=String.fromCharCode(T[M++]);return U}function c(T,M){return(T[M+0]<<0|T[M+1]<<8|T[M+2]<<16)>>>0}function d(T,M){return(T[M+0]<<0|T[M+1]<<8|T[M+2]<<16|T[M+3]<<24)>>>0}new o;var f=[0],h=[0],g=[],v=new o,p=r,y=function(T,M){var U={},O=0,I=!1,E=0,R=0;if(U.frames=[],!function($,X,Z,V){for(var Q=0;Q<V;Q++)if($[X+Q]!=Z.charCodeAt(Q))return!0;return!1}(T,M,"RIFF",4)){var A,w;for(d(T,M+=4),M+=8;M<T.length;){var _=l(T,M),x=d(T,M+=4);M+=4;var S=x+(1&x);switch(_){case"VP8 ":case"VP8L":U.frames[O]===void 0&&(U.frames[O]={}),(P=U.frames[O]).src_off=I?R:M-8,P.src_size=E+x+8,O++,I&&(I=!1,E=0,R=0);break;case"VP8X":(P=U.header={}).feature_flags=T[M];var C=M+4;P.canvas_width=1+c(T,C),C+=3,P.canvas_height=1+c(T,C),C+=3;break;case"ALPH":I=!0,E=S+8,R=M-8;break;case"ANIM":(P=U.header).bgcolor=d(T,M),C=M+4,P.loop_count=(A=T)[(w=C)+0]<<0|A[w+1]<<8,C+=2;break;case"ANMF":var q,P;(P=U.frames[O]={}).offset_x=2*c(T,M),M+=3,P.offset_y=2*c(T,M),M+=3,P.width=1+c(T,M),M+=3,P.height=1+c(T,M),M+=3,P.duration=c(T,M),M+=3,q=T[M++],P.dispose=1&q,P.blend=q>>1&1}_!="ANMF"&&(M+=S)}return U}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var m=y.header?y.header:null,b=y.frames?y.frames:null;if(m){m.loop_counter=m.loop_count,f=[m.canvas_height],h=[m.canvas_width];for(var k=0;k<b.length&&b[k].blend!=0;k++);}var N=b[0],B=v.WebPDecodeRGBA(p,N.src_off,N.src_size,h,f);N.rgba=B,N.imgwidth=h[0],N.imgheight=f[0];for(var j=0;j<h[0]*f[0]*4;j++)g[j]=B[j];return this.width=h,this.height=f,this.data=g,this}(function(r){var t=function(){return typeof t2=="function"},e=function(f,h,g,v){var p=4,y=a;switch(v){case r.image_compression.FAST:p=1,y=i;break;case r.image_compression.MEDIUM:p=6,y=u;break;case r.image_compression.SLOW:p=9,y=o}f=n(f,h,g,y);var m=t2(f,{level:p});return r.__addimage__.arrayBufferToBinaryString(m)},n=function(f,h,g,v){for(var p,y,m,b=f.length/h,k=new Uint8Array(f.length+b),N=c(),B=0;B<b;B+=1){if(m=B*h,p=f.subarray(m,m+h),v)k.set(v(p,g,y),m+B);else{for(var j,T=N.length,M=[];j<T;j+=1)M[j]=N[j](p,g,y);var U=d(M.concat());k.set(M[U],m+B)}y=p}return k},s=function(f){var h=Array.apply([],f);return h.unshift(0),h},i=function(f,h){var g,v=[],p=f.length;v[0]=1;for(var y=0;y<p;y+=1)g=f[y-h]||0,v[y+1]=f[y]-g+256&255;return v},a=function(f,h,g){var v,p=[],y=f.length;p[0]=2;for(var m=0;m<y;m+=1)v=g&&g[m]||0,p[m+1]=f[m]-v+256&255;return p},u=function(f,h,g){var v,p,y=[],m=f.length;y[0]=3;for(var b=0;b<m;b+=1)v=f[b-h]||0,p=g&&g[b]||0,y[b+1]=f[b]+256-(v+p>>>1)&255;return y},o=function(f,h,g){var v,p,y,m,b=[],k=f.length;b[0]=4;for(var N=0;N<k;N+=1)v=f[N-h]||0,p=g&&g[N]||0,y=g&&g[N-h]||0,m=l(v,p,y),b[N+1]=f[N]-m+256&255;return b},l=function(f,h,g){if(f===h&&h===g)return f;var v=Math.abs(h-g),p=Math.abs(f-g),y=Math.abs(f+h-g-g);return v<=p&&v<=y?f:p<=y?h:g},c=function(){return[s,i,a,u,o]},d=function(f){var h=f.map(function(g){return g.reduce(function(v,p){return v+Math.abs(p)},0)});return h.indexOf(Math.min.apply(null,h))};r.processPNG=function(f,h,g,v){var p,y,m,b,k,N,B,j,T,M,U,O,I,E,R,A=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(m=new uL(f)).imgData,y=m.bits,p=m.colorSpace,k=m.colors,[4,6].indexOf(m.colorType)!==-1){if(m.bits===8){T=(j=m.pixelBitlength==32?new Uint32Array(m.decodePixels().buffer):m.pixelBitlength==16?new Uint16Array(m.decodePixels().buffer):new Uint8Array(m.decodePixels().buffer)).length,U=new Uint8Array(T*m.colors),M=new Uint8Array(T);var _,x=m.pixelBitlength-m.bits;for(E=0,R=0;E<T;E++){for(I=j[E],_=0;_<x;)U[R++]=I>>>_&255,_+=m.bits;M[E]=I>>>_&255}}if(m.bits===16){T=(j=new Uint32Array(m.decodePixels().buffer)).length,U=new Uint8Array(T*(32/m.pixelBitlength)*m.colors),M=new Uint8Array(T*(32/m.pixelBitlength)),O=m.colors>1,E=0,R=0;for(var S=0;E<T;)I=j[E++],U[R++]=I>>>0&255,O&&(U[R++]=I>>>16&255,I=j[E++],U[R++]=I>>>0&255),M[S++]=I>>>16&255;y=8}v!==r.image_compression.NONE&&t()?(f=e(U,m.width*m.colors,m.colors,v),B=e(M,m.width,1,v)):(f=U,B=M,A=void 0)}if(m.colorType===3&&(p=this.color_spaces.INDEXED,N=m.palette,m.transparency.indexed)){var C=m.transparency.indexed,q=0;for(E=0,T=C.length;E<T;++E)q+=C[E];if((q/=255)===T-1&&C.indexOf(0)!==-1)b=[C.indexOf(0)];else if(q!==T){for(j=m.decodePixels(),M=new Uint8Array(j.length),E=0,T=j.length;E<T;E++)M[E]=C[j[E]];B=e(M,m.width,1)}}var P=function($){var X;switch($){case r.image_compression.FAST:X=11;break;case r.image_compression.MEDIUM:X=13;break;case r.image_compression.SLOW:X=14;break;default:X=12}return X}(v);return A===this.decode.FLATE_DECODE&&(w="/Predictor "+P+" "),w+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+m.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:g,data:f,index:h,filter:A,decodeParameters:w,transparency:b,palette:N,sMask:B,predictor:P,width:m.width,height:m.height,bitsPerComponent:y,colorSpace:p}}}})(Jt.API),function(r){r.processGIF89A=function(t,e,n,s){var i=new cL(t),a=i.width,u=i.height,o=[];i.decodeAndBlitFrameRGBA(0,o);var l={data:o,width:a,height:u},c=new xg(100).encode(l,100);return r.processJPEG.call(this,c,e,n,s)},r.processGIF87A=r.processGIF89A}(Jt.API),Us.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:e,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Us.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){Gr.log("bit decode error:"+e)}},Us.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var o=this.palette[i>>7-u&1];this.data[a+4*u]=o.blue,this.data[a+4*u+1]=o.green,this.data[a+4*u+2]=o.red,this.data[a+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Us.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,u=i>>4,o=15&i,l=this.palette[u];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*s+1>=this.width)break;l=this.palette[o],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Us.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},Us.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,u=(i>>5&t)/t*255|0,o=(i>>10&t)/t*255|0,l=i>>15?255:0,c=n*this.width*4+4*s;this.data[c]=o,this.data[c+1]=u,this.data[c+2]=a,this.data[c+3]=l}this.pos+=r}},Us.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,o=(a>>5&e)/e*255|0,l=(a>>11)/t*255|0,c=s*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=u,this.data[c+3]=255}this.pos+=r}},Us.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Us.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=i,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=a}},Us.prototype.getData=function(){return this.data},function(r){r.processBMP=function(t,e,n,s){var i=new Us(t,!1),a=i.width,u=i.height,o={data:i.getData(),width:a,height:u},l=new xg(100).encode(o,100);return r.processJPEG.call(this,l,e,n,s)}}(Jt.API),h4.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(t,e,n,s){var i=new h4(t),a=i.width,u=i.height,o={data:i.getData(),width:a,height:u},l=new xg(100).encode(o,100);return r.processJPEG.call(this,l,e,n,s)}}(Jt.API),Jt.API.processRGBA=function(r,t,e){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),u=0,o=0,l=0;l<s;l+=4){var c=n[l],d=n[l+1],f=n[l+2],h=n[l+3];i[u++]=c,i[u++]=d,i[u++]=f,a[o++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Jt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$u=Jt.API,Jd=$u.getCharWidthsArray=function(r,t){var e,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:s.metadata.Unicode.widths,o=u.fof?u.fof:1,l=t.kerning?t.kerning:s.metadata.Unicode.kerning,c=l.fof?l.fof:1,d=t.doKerning!==!1,f=0,h=r.length,g=0,v=u[0]||o,p=[];for(e=0;e<h;e++)n=r.charCodeAt(e),typeof s.metadata.widthOfString=="function"?p.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(f=d&&qr(l[n])==="object"&&!isNaN(parseInt(l[n][g],10))?l[n][g]/c:0,p.push((u[n]||v)/o+f)),g=n;return p},o4=$u.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return $u.processArabic&&(r=$u.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,s)/e:Jd.apply(this,arguments).reduce(function(i,a){return i+a},0)},l4=function(r,t,e,n){for(var s=[],i=0,a=r.length,u=0;i!==a&&u+t[i]<e;)u+=t[i],i++;s.push(r.slice(0,i));var o=i;for(u=0;i!==a;)u+t[i]>n&&(s.push(r.slice(o,i)),u=0,o=i),u+=t[i],i++;return o!==i&&s.push(r.slice(o,i)),s},u4=function(r,t,e){e||(e={});var n,s,i,a,u,o,l,c=[],d=[c],f=e.textIndent||0,h=0,g=0,v=r.split(" "),p=Jd.apply(this,[" ",e])[0];if(o=e.lineIndent===-1?v[0].length+2:e.lineIndent||0){var y=Array(o).join(" "),m=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?m=m.concat(k.map(function(N,B){return(B&&N.length?`
`:"")+N})):m.push(k[0])}),v=m,o=o4.apply(this,[y,e])}for(i=0,a=v.length;i<a;i++){var b=0;if(n=v[i],o&&n[0]==`
`&&(n=n.substr(1),b=1),f+h+(g=(s=Jd.apply(this,[n,e])).reduce(function(k,N){return k+N},0))>t||b){if(g>t){for(u=l4.apply(this,[n,s,t-(f+h),t]),c.push(u.shift()),c=[u.pop()];u.length;)d.push([u.shift()]);g=s.slice(n.length-(c[0]?c[0].length:0)).reduce(function(k,N){return k+N},0)}else c=[n];d.push(c),f=g+o,h=p}else c.push(n),f+=h+g,h=p}return l=o?function(k,N){return(N?y:"")+k.join(" ")}:function(k){return k.join(" ")},d.map(l)},$u.splitTextToSize=function(r,t,e){var n,s=(e=e||{}).fontSize||this.internal.getFontSize(),i=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=e.lineIndent;var u,o,l=[];for(u=0,o=n.length;u<o;u++)l=l.concat(u4.apply(this,[n[u],a,i]));return l},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},s=0;s<t.length;s++)e[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},a=r.__fontmetrics__.compress=function(d){var f,h,g,v,p=["{"];for(var y in d){if(f=d[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=i(y).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof f=="number")f<0?(g=i(f).slice(3),v="-"):(g=i(f).slice(2),v=""),g=v+g.slice(0,-1)+n[g.slice(-1)];else{if(qr(f)!=="object")throw new Error("Don't know what to do with value type "+qr(f)+".");g=a(f)}p.push(h+g)}return p.push("}"),p.join("")},u=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,g,v,p={},y=1,m=p,b=[],k="",N="",B=d.length-1,j=1;j<B;j+=1)(v=d[j])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(b.push([m,g]),m={},g=void 0):v=="}"?((h=b.pop())[0][h[1]]=m,g=void 0,m=h[0]):v=="-"?y=-1:g===void 0?e.hasOwnProperty(v)?(k+=e[v],g=parseInt(k,16)*y,y=1,k=""):k+=v:e.hasOwnProperty(v)?(N+=e[v],m[g]=parseInt(N,16)*y,y=1,g=void 0,N=""):N+=v;return p},o={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:o,"Courier-Bold":o,"Courier-BoldOblique":o,"Courier-Oblique":o,Helvetica:o,"Helvetica-Bold":o,"Helvetica-BoldOblique":o,"Helvetica-Oblique":o,"Times-Roman":o,"Times-Bold":o,"Times-BoldItalic":o,"Times-Italic":o}},c={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var f=d.font,h=c.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var g=l.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Jt.API),function(r){var t=function(e){for(var n=e.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=e.charCodeAt(i);return s};r.API.events.push(["addFont",function(e){var n=void 0,s=e.font,i=e.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Vh(u)),a.metadata=r.API.TTFFont.open(u),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Jt),function(r){function t(){return(ir.canvg?Promise.resolve(ir.canvg):Sf(()=>import("./index.es-BV0lda3l.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Jt.API.addSvgAsImage=function(e,n,s,i,a,u,o,l){if(isNaN(n)||isNaN(s))throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(g){return g.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),n,s,i,a,o,l)})}}(),Jt.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,e);return this},Jt.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),o=[],l=0,c=0,d=0;function f(g,v){var p,y=!1;for(p=0;p<g.length;p+=1)g[p]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var h=u.length;for(d=0;d<h;d+=1)e[u[d]].value=e[u[d]].defaultValue,e[u[d]].explicitSet=!1}if(qr(r)==="object"){for(s in r)if(i=r[s],f(u,s)&&i!==void 0){if(e[s].type==="boolean"&&typeof i=="boolean")e[s].value=i;else if(e[s].type==="name"&&f(e[s].valueSet,i))e[s].value=i;else if(e[s].type==="integer"&&Number.isInteger(i))e[s].value=i;else if(e[s].type==="array"){for(l=0;l<i.length;l+=1)if(n=!0,i[l].length===1&&typeof i[l][0]=="number")o.push(String(i[l]-1));else if(i[l].length>1){for(c=0;c<i[l].length;c+=1)typeof i[l][c]!="number"&&(n=!1);n===!0&&o.push([i[l][0]-1,i[l][1]-1].join(" "))}e[s].value="["+o.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in e)e[g].explicitSet===!0&&(e[g].type==="name"?v.push("/"+g+" /"+e[g].value):v.push("/"+g+" "+e[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),l=i.length+a.length+u.length+s.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+u+o),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Jt.API),function(r){var t=r.API,e=t.pdfEscape16=function(i,a){for(var u,o=a.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],d=0,f=i.length;d<f;++d){if(u=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(u),a.metadata.toUnicode[u]=i.charCodeAt(d),o.indexOf(u)==-1&&(o.push(u),o.push([parseInt(a.metadata.widthOfGlyph(u),10)])),u=="0")return c.join("");u=u.toString(16),c.push(l[4-u.length],u)}return c.join("")},n=function(i){var a,u,o,l,c,d,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,o=[],d=0,f=(u=Object.keys(i).sort(function(h,g){return h-g})).length;d<f;d++)a=u[d],o.length>=100&&(c+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar`,o=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(l=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),o.push("<"+a+"><"+l+">"));return o.length&&(c+=`
`+o.length+` beginbfchar
`+o.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var u=a.font,o=a.out,l=a.newObject,c=a.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var d=u.metadata.Unicode.widths,f=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);var v=l();c({data:h,addLength1:!0,objectId:v}),o("endobj");var p=l();c({data:n(u.metadata.toUnicode),addLength1:!0,objectId:p}),o("endobj");var y=l();o("<<"),o("/Type /FontDescriptor"),o("/FontName /"+Yu(u.fontName)),o("/FontFile2 "+v+" 0 R"),o("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),o("/Flags "+u.metadata.flags),o("/StemV "+u.metadata.stemV),o("/ItalicAngle "+u.metadata.italicAngle),o("/Ascent "+u.metadata.ascender),o("/Descent "+u.metadata.decender),o("/CapHeight "+u.metadata.capHeight),o(">>"),o("endobj");var m=l();o("<<"),o("/Type /Font"),o("/BaseFont /"+Yu(u.fontName)),o("/FontDescriptor "+y+" 0 R"),o("/W "+r.API.PDFObject.convert(d)),o("/CIDToGIDMap /Identity"),o("/DW 1000"),o("/Subtype /CIDFontType2"),o("/CIDSystemInfo"),o("<<"),o("/Supplement 0"),o("/Registry (Adobe)"),o("/Ordering ("+u.encoding+")"),o(">>"),o(">>"),o("endobj"),u.objectNumber=l(),o("<<"),o("/Type /Font"),o("/Subtype /Type0"),o("/ToUnicode "+p+" 0 R"),o("/BaseFont /"+Yu(u.fontName)),o("/Encoding /"+u.encoding),o("/DescendantFonts ["+m+" 0 R]"),o(">>"),o("endobj"),u.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var u=a.font,o=a.out,l=a.newObject,c=a.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var d=u.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var g=l();c({data:f,addLength1:!0,objectId:g}),o("endobj");var v=l();c({data:n(u.metadata.toUnicode),addLength1:!0,objectId:v}),o("endobj");var p=l();o("<<"),o("/Descent "+u.metadata.decender),o("/CapHeight "+u.metadata.capHeight),o("/StemV "+u.metadata.stemV),o("/Type /FontDescriptor"),o("/FontFile2 "+g+" 0 R"),o("/Flags 96"),o("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),o("/FontName /"+Yu(u.fontName)),o("/ItalicAngle "+u.metadata.italicAngle),o("/Ascent "+u.metadata.ascender),o(">>"),o("endobj"),u.objectNumber=l();for(var y=0;y<u.metadata.hmtx.widths.length;y++)u.metadata.hmtx.widths[y]=parseInt(u.metadata.hmtx.widths[y]*(1e3/u.metadata.head.unitsPerEm));o("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Yu(u.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),o("endobj"),u.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,u=i.text||"",o=i.x,l=i.y,c=i.options||{},d=i.mutex||{},f=d.pdfEscape,h=d.activeFontKey,g=d.fonts,v=h,p="",y=0,m="",b=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:u,x:o,y:l,options:c,mutex:d};for(m=u,v=h,Array.isArray(u)&&(m=u[0]),y=0;y<m.length;y+=1)g[v].metadata.hasOwnProperty("cmap")&&(a=g[v].metadata.cmap.unicode.codeMap[m[y].charCodeAt(0)]),a||m[y].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?p+=m[y]:p+="";var k="";return parseInt(v.slice(1))<14||b==="WinAnsiEncoding"?k=f(p,v).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(k=e(p,g[v])),d.isHex=!0,{text:k,x:o,y:l,options:c,mutex:d}};t.events.push(["postProcessText",function(i){var a=i.text||"",u=[],o={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var l=0;for(l=0;l<a.length;l+=1)Array.isArray(a[l])&&a[l].length===3?u.push([s(Object.assign({},o,{text:a[l][0]})).text,a[l][1],a[l][2]]):u.push(s(Object.assign({},o,{text:a[l]})).text);i.text=u}else i.text=s(Object.assign({},o,{text:a})).text}])}(Jt),function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Jt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,a,u,o,l,c,d=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,b=0;this.__bidiEngine__={};var k=function(O){var I=O.charCodeAt(),E=I>>8,R=v[E];return R!==void 0?d[256*R+(255&I)]:E===252||E===253?"AL":y.test(E)?"L":E===8?"R":"N"},N=function(O){for(var I,E=0;E<O.length;E++){if((I=k(O.charAt(E)))==="L")return!1;if(I==="R")return!0}return!1},B=function(O,I,E,R){var A,w,_,x,S=I[R];switch(S){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(S="AN");break;case"AL":m=!0,S="R";break;case"WS":S="N";break;case"CS":R<1||R+1>=I.length||(A=E[R-1])!=="EN"&&A!=="AN"||(w=I[R+1])!=="EN"&&w!=="AN"?S="N":m&&(w="AN"),S=w===A?w:"N";break;case"ES":S=(A=R>0?E[R-1]:"B")==="EN"&&R+1<I.length&&I[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&E[R-1]==="EN"){S="EN";break}if(m){S="N";break}for(_=R+1,x=I.length;_<x&&I[_]==="ET";)_++;S=_<x&&I[_]==="EN"?"EN":"N";break;case"NSM":if(a&&!u){for(x=I.length,_=R+1;_<x&&I[_]==="NSM";)_++;if(_<x){var C=O[R],q=C>=1425&&C<=2303||C===64286;if(A=I[_],q&&(A==="R"||A==="AL")){S="R";break}}}S=R<1||(A=I[R-1])==="B"?"N":E[R-1];break;case"B":m=!1,s=!0,S=b;break;case"S":i=!0,S="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":S="N"}return S},j=function(O,I,E){var R=O.split("");return E&&T(R,E,{hiLevel:b}),R.reverse(),I&&I.reverse(),R.join("")},T=function(O,I,E){var R,A,w,_,x,S=-1,C=O.length,q=0,P=[],$=b?h:f,X=[];for(m=!1,s=!1,i=!1,A=0;A<C;A++)X[A]=k(O[A]);for(w=0;w<C;w++){if(x=q,P[w]=B(O,X,P,w),R=240&(q=$[x][g[P[w]]]),q&=15,I[w]=_=$[q][5],R>0)if(R===16){for(A=S;A<w;A++)I[A]=1;S=-1}else S=-1;if($[q][6])S===-1&&(S=w);else if(S>-1){for(A=S;A<w;A++)I[A]=_;S=-1}X[w]==="B"&&(I[w]=0),E.hiLevel|=_}i&&function(Z,V,Q){for(var F=0;F<Q;F++)if(Z[F]==="S"){V[F]=b;for(var D=F-1;D>=0&&Z[D]==="WS";D--)V[D]=b}}(X,I,C)},M=function(O,I,E,R,A){if(!(A.hiLevel<O)){if(O===1&&b===1&&!s)return I.reverse(),void(E&&E.reverse());for(var w,_,x,S,C=I.length,q=0;q<C;){if(R[q]>=O){for(x=q+1;x<C&&R[x]>=O;)x++;for(S=q,_=x-1;S<_;S++,_--)w=I[S],I[S]=I[_],I[_]=w,E&&(w=E[S],E[S]=E[_],E[_]=w);q=x}q++}}},U=function(O,I,E){var R=O.split(""),A={hiLevel:b};return E||(E=[]),T(R,E,A),function(w,_,x){if(x.hiLevel!==0&&c)for(var S,C=0;C<w.length;C++)_[C]===1&&(S=p.indexOf(w[C]))>=0&&(w[C]=p[S+1])}(R,E,A),M(2,R,I,E,A),M(1,R,I,E,A),R.join("")};return this.__bidiEngine__.doBidiReorder=function(O,I,E){if(function(A,w){if(w)for(var _=0;_<A.length;_++)w[_]=_;u===void 0&&(u=N(A)),l===void 0&&(l=N(A))}(O,I),a||!o||l)if(a&&o&&u^l)b=u?1:0,O=j(O,I,E);else if(!a&&o&&l)b=u?1:0,O=U(O,I,E),O=j(O,I);else if(!a||u||o||l){if(a&&!o&&u^l)O=j(O,I),u?(b=0,O=U(O,I,E)):(b=1,O=U(O,I,E),O=j(O,I));else if(a&&u&&!o&&l)b=1,O=U(O,I,E),O=j(O,I);else if(!a&&!o&&u^l){var R=c;u?(b=1,O=U(O,I,E),b=0,c=!1,O=U(O,I,E),c=R):(b=0,O=U(O,I,E),O=j(O,I),b=1,c=!1,O=U(O,I,E),c=R,O=j(O,I))}}else b=0,O=U(O,I,E);else b=u?1:0,O=U(O,I,E);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,o=O.isOutputVisual,u=O.isInputRtl,l=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,e.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(a=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?a.push([e.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):a.push([e.doBidiReorder(s[u])]);n.text=a}else n.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])}(Jt),Jt.API.TTFFont=function(){function r(t){var e;if(this.rawData=t,e=this.contents=new yl(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new EL(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new hL(this.contents),this.head=new dL(this),this.name=new vL(this),this.cmap=new eS(this),this.toUnicode={},this.hhea=new pL(this),this.maxp=new bL(this),this.hmtx=new wL(this),this.post=new gL(this),this.os2=new mL(this),this.loca=new kL(this),this.glyf=new _L(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,u,o,l;for(l=[],a=0,u=(o=this.bbox).length;a<u;a++)t=o[a],l.push(Math.round(t*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var s,i,a,u;for(a=0,i=0,u=(t=""+t).length;0<=u?i<u:i>u;i=0<=u?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/e)||0;return a*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r}();var Zs,yl=function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,s;for(s=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,s,i,a,u,o;return t=this.readByte(),e=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),u=this.readByte(),o=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^u)+(255^o)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*s+16777216*i+65536*a+256*u+o},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)e=t[n],i.push(this.writeByte(e));return i},r}(),hL=function(){var r;function t(e){var n,s,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,s,i,a,u,o,l,c,d,f,h,g,v;for(v in h=Object.keys(e).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),a=Math.floor(d/o),c=16*h-d,(s=new yl).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(a),s.writeShort(c),i=16*h,l=s.pos+i,u=null,g=[],e)for(f=e[v],s.writeString(v),s.writeInt(r(f)),s.writeInt(l),s.writeInt(f.length),g=g.concat(f),v==="head"&&(u=l),l+=f.length;l%4;)g.push(0),l++;return s.write(g),n=2981146554-r(s.data),s.pos=u+8,s.writeUInt32(n),s.data},r=function(e){var n,s,i,a;for(e=tS.call(e);e.length%4;)e.push(0);for(i=new yl(e),s=0,n=0,a=e.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),fL={}.hasOwnProperty,ka=function(r,t){for(var e in t)fL.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};Zs=function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var dL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new yl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),f4=function(){function r(t,e){var n,s,i,a,u,o,l,c,d,f,h,g,v,p,y,m,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,i=function(){var k,N;for(N=[],o=k=0;0<=f?k<f:k>f;o=0<=f?++k:--k)N.push(t.readUInt16());return N}(),t.pos+=2,v=function(){var k,N;for(N=[],o=k=0;0<=f?k<f:k>f;o=0<=f?++k:--k)N.push(t.readUInt16());return N}(),l=function(){var k,N;for(N=[],o=k=0;0<=f?k<f:k>f;o=0<=f?++k:--k)N.push(t.readUInt16());return N}(),c=function(){var k,N;for(N=[],o=k=0;0<=f?k<f:k>f;o=0<=f?++k:--k)N.push(t.readUInt16());return N}(),s=(this.length-t.pos+this.offset)/2,u=function(){var k,N;for(N=[],o=k=0;0<=s?k<s:k>s;o=0<=s?++k:--k)N.push(t.readUInt16());return N}(),o=y=0,b=i.length;y<b;o=++y)for(p=i[o],n=m=g=v[o];g<=p?m<=p:m>=p;n=g<=p?++m:--m)c[o]===0?a=n+l[o]:(a=u[c[o]/2+(n-g)-(f-o)]||0)!==0&&(a+=l[o]),this.codeMap[n]=65535&a}t.pos=d}return r.encode=function(t,e){var n,s,i,a,u,o,l,c,d,f,h,g,v,p,y,m,b,k,N,B,j,T,M,U,O,I,E,R,A,w,_,x,S,C,q,P,$,X,Z,V,Q,F,D,K,ee,ue;switch(R=new yl,a=Object.keys(t).sort(function(ie,ae){return ie-ae}),e){case"macroman":for(v=0,p=function(){var ie=[];for(g=0;g<256;++g)ie.push(0);return ie}(),m={0:0},i={},A=0,S=a.length;A<S;A++)m[D=t[s=a[A]]]==null&&(m[D]=++v),i[s]={old:t[s],new:m[t[s]]},p[s]=m[t[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(p),{charMap:i,subtable:R.data,maxGlyphID:v+1};case"unicode":for(I=[],d=[],b=0,m={},n={},y=l=null,w=0,C=a.length;w<C;w++)m[N=t[s=a[w]]]==null&&(m[N]=++b),n[s]={old:N,new:m[N]},u=m[N]-s,y!=null&&u===l||(y&&d.push(y),I.push(s),l=u),y=s;for(y&&d.push(y),d.push(65535),I.push(65535),U=2*(M=I.length),T=2*Math.pow(Math.log(M)/Math.LN2,2),f=Math.log(T/2)/Math.LN2,j=2*M-T,o=[],B=[],h=[],g=_=0,q=I.length;_<q;g=++_){if(O=I[g],c=d[g],O===65535){o.push(0),B.push(0);break}if(O-(E=n[O].new)>=32768)for(o.push(0),B.push(2*(h.length+M-g)),s=x=O;O<=c?x<=c:x>=c;s=O<=c?++x:--x)h.push(n[s].new);else o.push(E-O),B.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*M+2*h.length),R.writeUInt16(0),R.writeUInt16(U),R.writeUInt16(T),R.writeUInt16(f),R.writeUInt16(j),Q=0,P=d.length;Q<P;Q++)s=d[Q],R.writeUInt16(s);for(R.writeUInt16(0),F=0,$=I.length;F<$;F++)s=I[F],R.writeUInt16(s);for(K=0,X=o.length;K<X;K++)u=o[K],R.writeUInt16(u);for(ee=0,Z=B.length;ee<Z;ee++)k=B[ee],R.writeUInt16(k);for(ue=0,V=h.length;ue<V;ue++)v=h[ue],R.writeUInt16(v);return{charMap:n,subtable:R.data,maxGlyphID:b+1}}},r}(),eS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,s,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new f4(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var s,i;return n==null&&(n="macroman"),s=f4.encode(e,n),(i=new yl).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),pL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),mL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(e.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(e.readInt());return s}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(e.readInt());return s}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),gL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="post",t.prototype.parse=function(e){var n,s,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var a;for(s=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 196608:break;case 262144:return this.map=(function(){var u,o,l;for(l=[],a=u=0,o=this.file.maxp.numGlyphs;0<=o?u<o:u>o;a=0<=o?++u:--u)l.push(e.readUInt32());return l}).call(this)}},t}(),yL=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},vL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="name",t.prototype.parse=function(e){var n,s,i,a,u,o,l,c,d,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=d=0,f=s.length;d<f;a=++d)i=s[a],e.pos=i.offset,c=e.readString(i.length),u=new yL(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(u);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),bL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),wL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,s,i,a,u,o,l;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,f,h;for(h=[],c=0,d=(f=this.metrics).length;c<d;c++)a=f[c],h.push(a.advance);return h}).call(this),s=this.widths[this.widths.length-1],l=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)l.push(this.widths.push(s));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),tS=[].slice,_L=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,s,i,a,u,o,l,c,d,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+s,u=(o=new yl(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=u===-1?new SL(o,c,f,l,d):new xL(o,u,c,f,l,d),this.cache[e]))},t.prototype.encode=function(e,n,s){var i,a,u,o,l;for(u=[],a=[],o=0,l=n.length;o<l;o++)i=e[n[o]],a.push(u.length),i&&(u=u.concat(i.encode(s)));return a.push(u.length),{table:u,offsets:a}},t}(),xL=function(){function r(t,e,n,s,i,a){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),SL=function(){function r(t,e,n,s,i){var a,u;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;u=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&u;)a.pos+=1&u?4:2,128&u?a.pos+=8:64&u?a.pos+=4:8&u&&(a.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new yl(tS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r}(),kL=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ka(t,Zs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,s;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,u=0;u<s.length;++u)if(s[u]=i,a<n.length&&n[a]==u){++a,s[u]=i;var o=this.offsets[u],l=this.offsets[u+1]-o;l>0&&(i+=l)}for(var c=new Array(4*s.length),d=0;d<s.length;++d)c[4*d+3]=255&s[d],c[4*d+2]=(65280&s[d])>>8,c[4*d+1]=(16711680&s[d])>>16,c[4*d]=(4278190080&s[d])>>24;return c},t}(),EL=function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,s,i;for(e in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=s[n];return t},r.prototype.glyphsFor=function(t){var e,n,s,i,a,u,o;for(s={},a=0,u=t.length;a<u;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in e=[],s)(n=s[i])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in o=this.glyphsFor(e))n=o[i],s[i]=n;return s},r.prototype.encode=function(t,e){var n,s,i,a,u,o,l,c,d,f,h,g,v,p,y;for(s in n=eS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),h={0:0},y=n.charMap)h[(o=y[s]).old]=o.new;for(g in f=n.maxGlyphID,a)g in h||(h[g]=f++);return c=function(m){var b,k;for(b in k={},m)k[m[b]]=b;return k}(h),d=Object.keys(c).sort(function(m,b){return m-b}),v=function(){var m,b,k;for(k=[],m=0,b=d.length;m<b;m++)u=d[m],k.push(c[u]);return k}(),i=this.font.glyf.encode(a,v,h),l=this.font.loca.encode(i.offsets,v),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},r}();Jt.API.PDFObject=function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,s,i,a;if(Array.isArray(e))return"["+function(){var u,o,l;for(l=[],u=0,o=e.length;u<o;u++)n=e[u],l.push(t.convert(n));return l}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in i=["<<"],e)a=e[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+e},t}();const AL=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:nL,AcroFormAppearance:Ft,AcroFormButton:Fn,AcroFormCheckBox:$h,AcroFormChoiceField:tu,AcroFormComboBox:nu,AcroFormEditBox:qh,AcroFormListBox:ru,AcroFormPasswordField:Wh,AcroFormPushButton:Hh,AcroFormRadioButton:iu,AcroFormTextField:ol,GState:Ef,ShadingPattern:Vo,TilingPattern:Xl,default:Jt,jsPDF:Jt},Symbol.toStringTag,{value:"Module"}));var rS={exports:{}};const TL=US(AL);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(r,t){(function(n,s){r.exports=s(function(){try{return TL}catch{}}())})(typeof globalThis<"u"?globalThis:typeof dr<"u"?dr:typeof window<"u"?window:typeof self<"u"?self:dr,function(e){return function(){var n={172:function(u,o){var l=this&&this.__extends||function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(v[y]=p[y])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function v(){this.constructor=h}h.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.CellHookData=o.HookData=void 0;var c=function(){function f(h,g,v){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=v,this.doc=h.getDocument()}return f}();o.HookData=c;var d=function(f){l(h,f);function h(g,v,p,y,m,b){var k=f.call(this,g,v,b)||this;return k.cell=p,k.row=y,k.column=m,k.section=y.section,k}return h}(c);o.CellHookData=d},340:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0});var c=l(4),d=l(136),f=l(744),h=l(776),g=l(664),v=l(972);function p(y){y.API.autoTable=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];var k;m.length===1?k=m[0]:(console.error("Use of deprecated autoTable initiation"),k=m[2]||{},k.columns=m[0],k.body=m[1]);var N=(0,h.parseInput)(this,k),B=(0,v.createTable)(this,N);return(0,g.drawTable)(this,B),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(m,b,k,N){(0,d.default)(m,b,k,N,this)},y.API.autoTableSetDefaults=function(m){return f.DocHandler.setDefaults(m,this),this},y.autoTableSetDefaults=function(m,b){f.DocHandler.setDefaults(m,b)},y.API.autoTableHtmlToJson=function(m,b){var k;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var N=new f.DocHandler(this),B=(0,c.parseHtml)(N,m,window,b,!1),j=B.head,T=B.body,M=((k=j[0])===null||k===void 0?void 0:k.map(function(U){return U.content}))||[];return{columns:M,rows:T,data:T}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var m=this.lastAutoTable;return m&&m.finalY?m.finalY:0},y.API.autoTableAddPageContent=function(m){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=m,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}o.default=p},136:function(u,o){Object.defineProperty(o,"__esModule",{value:!0});function l(c,d,f,h,g){h=h||{};var v=1.15,p=g.internal.scaleFactor,y=g.internal.getFontSize()/p,m=g.getLineHeightFactor?g.getLineHeightFactor():v,b=y*m,k=/\r\n|\r|\n/g,N="",B=1;if((h.valign==="middle"||h.valign==="bottom"||h.halign==="center"||h.halign==="right")&&(N=typeof c=="string"?c.split(k):c,B=N.length||1),f+=y*(2-v),h.valign==="middle"?f-=B/2*b:h.valign==="bottom"&&(f-=B*b),h.halign==="center"||h.halign==="right"){var j=y;if(h.halign==="center"&&(j*=.5),N&&B>=1){for(var T=0;T<N.length;T++)g.text(N[T],d-g.getStringUnitWidth(N[T])*j,f),f+=b;return g}d-=g.getStringUnitWidth(c)*j}return h.halign==="justify"?g.text(c,d,f,{maxWidth:h.maxWidth||100,align:"justify"}):g.text(c,d,f),g}o.default=l},420:function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.getPageAvailableWidth=o.parseSpacing=o.getFillStyle=o.addTableBorder=o.getStringWidth=void 0;function l(g,v,p){p.applyStyles(v,!0);var y=Array.isArray(g)?g:[g],m=y.map(function(b){return p.getTextWidth(b)}).reduce(function(b,k){return Math.max(b,k)},0);return m}o.getStringWidth=l;function c(g,v,p,y){var m=v.settings.tableLineWidth,b=v.settings.tableLineColor;g.applyStyles({lineWidth:m,lineColor:b});var k=d(m,!1);k&&g.rect(p.x,p.y,v.getWidth(g.pageSize().width),y.y-p.y,k)}o.addTableBorder=c;function d(g,v){var p=g>0,y=v||v===0;return p&&y?"DF":p?"S":y?"F":null}o.getFillStyle=d;function f(g,v){var p,y,m,b;if(g=g||v,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=v}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(p=g.left)!==null&&p!==void 0?p:v,top:(y=g.top)!==null&&y!==void 0?y:v,right:(m=g.right)!==null&&m!==void 0?m:v,bottom:(b=g.bottom)!==null&&b!==void 0?b:v}):(typeof g!="number"&&(g=v),{top:g,right:g,bottom:g,left:g})}o.parseSpacing=f;function h(g,v){var p=f(v.settings.margin,0);return g.pageSize().width-(p.left+p.right)}o.getPageAvailableWidth=h},796:function(u,o){var l=this&&this.__extends||function(){var h=function(g,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(p[m]=y[m])},h(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(g,v);function p(){this.constructor=g}g.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.getTheme=o.defaultStyles=o.HtmlRowInput=void 0;var c=function(h){l(g,h);function g(v){var p=h.call(this)||this;return p._element=v,p}return g}(Array);o.HtmlRowInput=c;function d(h){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/h,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}o.defaultStyles=d;function f(h){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[h]}o.getTheme=f},903:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.parseCss=void 0;var c=l(420);function d(p,y,m,b,k){var N={},B=1.3333333333333333,j=h(y,function(S){return k.getComputedStyle(S).backgroundColor});j!=null&&(N.fillColor=j);var T=h(y,function(S){return k.getComputedStyle(S).color});T!=null&&(N.textColor=T);var M=v(b,m);M&&(N.cellPadding=M);var U="borderTopColor",O=B*m,I=b.borderTopWidth;if(b.borderBottomWidth===I&&b.borderRightWidth===I&&b.borderLeftWidth===I){var E=(parseFloat(I)||0)/O;E&&(N.lineWidth=E)}else N.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/O,right:(parseFloat(b.borderRightWidth)||0)/O,bottom:(parseFloat(b.borderBottomWidth)||0)/O,left:(parseFloat(b.borderLeftWidth)||0)/O},N.lineWidth.top||(N.lineWidth.right?U="borderRightColor":N.lineWidth.bottom?U="borderBottomColor":N.lineWidth.left&&(U="borderLeftColor"));var R=h(y,function(S){return k.getComputedStyle(S)[U]});R!=null&&(N.lineColor=R);var A=["left","right","center","justify"];A.indexOf(b.textAlign)!==-1&&(N.halign=b.textAlign),A=["middle","bottom","top"],A.indexOf(b.verticalAlign)!==-1&&(N.valign=b.verticalAlign);var w=parseInt(b.fontSize||"");isNaN(w)||(N.fontSize=w/B);var _=f(b);_&&(N.fontStyle=_);var x=(b.fontFamily||"").toLowerCase();return p.indexOf(x)!==-1&&(N.font=x),N}o.parseCss=d;function f(p){var y="";return(p.fontWeight==="bold"||p.fontWeight==="bolder"||parseInt(p.fontWeight)>=700)&&(y="bold"),(p.fontStyle==="italic"||p.fontStyle==="oblique")&&(y+="italic"),y}function h(p,y){var m=g(p,y);if(!m)return null;var b=m.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var k=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],N=parseInt(b[4]);return N===0||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?null:k}function g(p,y){var m=y(p);return m==="rgba(0, 0, 0, 0)"||m==="transparent"||m==="initial"||m==="inherit"?p.parentElement==null?null:g(p.parentElement,y):m}function v(p,y){var m=[p.paddingTop,p.paddingRight,p.paddingBottom,p.paddingLeft],b=96/(72/y),k=(parseInt(p.lineHeight)-parseInt(p.fontSize))/y/2,N=m.map(function(j){return parseInt(j||"0")/b}),B=(0,c.parseSpacing)(N,0);return k>B.top&&(B.top=k),k>B.bottom&&(B.bottom=k),B}},744:function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.DocHandler=void 0;var l={},c=function(){function d(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(f,h){h===void 0&&(h=null),h?h.__autoTableDocumentDefaults=f:l=f},d.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},d.prototype.applyStyles=function(f,h){var g,v,p;h===void 0&&(h=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var y=this.jsPDFDocument.internal.getFont(),m=y.fontStyle,b=y.fontName;if(f.font&&(b=f.font),f.fontStyle){m=f.fontStyle;var k=this.getFontList()[b];k&&k.indexOf(m)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(k[0]),m=k[0])}if(this.jsPDFDocument.setFont(b,m),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!h){var N=d.unifyColor(f.fillColor);N&&(g=this.jsPDFDocument).setFillColor.apply(g,N),N=d.unifyColor(f.textColor),N&&(v=this.jsPDFDocument).setTextColor.apply(v,N),N=d.unifyColor(f.lineColor),N&&(p=this.jsPDFDocument).setDrawColor.apply(p,N),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},d.prototype.splitTextToSize=function(f,h,g){return this.jsPDFDocument.splitTextToSize(f,h,g)},d.prototype.rect=function(f,h,g,v,p){return this.jsPDFDocument.rect(f,h,g,v,p)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return l||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();o.DocHandler=c},4:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.parseHtml=void 0;var c=l(903),d=l(796);function f(v,p,y,m,b){var k,N;m===void 0&&(m=!1),b===void 0&&(b=!1);var B;typeof p=="string"?B=y.document.querySelector(p):B=p;var j=Object.keys(v.getFontList()),T=v.scaleFactor(),M=[],U=[],O=[];if(!B)return console.error("Html table could not be found with input: ",p),{head:M,body:U,foot:O};for(var I=0;I<B.rows.length;I++){var E=B.rows[I],R=(N=(k=E==null?void 0:E.parentElement)===null||k===void 0?void 0:k.tagName)===null||N===void 0?void 0:N.toLowerCase(),A=h(j,T,y,E,m,b);A&&(R==="thead"?M.push(A):R==="tfoot"?O.push(A):U.push(A))}return{head:M,body:U,foot:O}}o.parseHtml=f;function h(v,p,y,m,b,k){for(var N=new d.HtmlRowInput(m),B=0;B<m.cells.length;B++){var j=m.cells[B],T=y.getComputedStyle(j);if(b||T.display!=="none"){var M=void 0;k&&(M=(0,c.parseCss)(v,j,p,T,y)),N.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:M,_element:j,content:g(j)})}}var U=y.getComputedStyle(m);if(N.length>0&&(b||U.display!=="none"))return N}function g(v){var p=v.cloneNode(!0);return p.innerHTML=p.innerHTML.replace(/\n/g,"").replace(/ +/g," "),p.innerHTML=p.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),p.innerText||p.textContent||""}},776:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.parseInput=void 0;var c=l(4),d=l(356),f=l(420),h=l(744),g=l(792);function v(B,j){var T=new h.DocHandler(B),M=T.getDocumentOptions(),U=T.getGlobalOptions();(0,g.default)(T,U,M,j);var O=(0,d.assign)({},U,M,j),I;typeof window<"u"&&(I=window);var E=p(U,M,j),R=y(U,M,j),A=m(T,O),w=k(T,O,I);return{id:j.tableId,content:w,hooks:R,styles:E,settings:A}}o.parseInput=v;function p(B,j,T){for(var M={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},U=function(R){if(R==="columnStyles"){var A=B[R],w=j[R],_=T[R];M.columnStyles=(0,d.assign)({},A,w,_)}else{var x=[B,j,T],S=x.map(function(C){return C[R]||{}});M[R]=(0,d.assign)({},S[0],S[1],S[2])}},O=0,I=Object.keys(M);O<I.length;O++){var E=I[O];U(E)}return M}function y(B,j,T){for(var M=[B,j,T],U={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,I=M;O<I.length;O++){var E=I[O];E.didParseCell&&U.didParseCell.push(E.didParseCell),E.willDrawCell&&U.willDrawCell.push(E.willDrawCell),E.didDrawCell&&U.didDrawCell.push(E.didDrawCell),E.willDrawPage&&U.willDrawPage.push(E.willDrawPage),E.didDrawPage&&U.didDrawPage.push(E.didDrawPage)}return U}function m(B,j){var T,M,U,O,I,E,R,A,w,_,x,S,C=(0,f.parseSpacing)(j.margin,40/B.scaleFactor()),q=(T=b(B,j.startY))!==null&&T!==void 0?T:C.top,P;j.showFoot===!0?P="everyPage":j.showFoot===!1?P="never":P=(M=j.showFoot)!==null&&M!==void 0?M:"everyPage";var $;j.showHead===!0?$="everyPage":j.showHead===!1?$="never":$=(U=j.showHead)!==null&&U!==void 0?U:"everyPage";var X=(O=j.useCss)!==null&&O!==void 0?O:!1,Z=j.theme||(X?"plain":"striped"),V=!!j.horizontalPageBreak,Q=(I=j.horizontalPageBreakRepeat)!==null&&I!==void 0?I:null;return{includeHiddenHtml:(E=j.includeHiddenHtml)!==null&&E!==void 0?E:!1,useCss:X,theme:Z,startY:q,margin:C,pageBreak:(R=j.pageBreak)!==null&&R!==void 0?R:"auto",rowPageBreak:(A=j.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(w=j.tableWidth)!==null&&w!==void 0?w:"auto",showHead:$,showFoot:P,tableLineWidth:(_=j.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(x=j.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:V,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(S=j.horizontalPageBreakBehaviour)!==null&&S!==void 0?S:"afterAllRows"}}function b(B,j){var T=B.getLastAutoTable(),M=B.scaleFactor(),U=B.pageNumber(),O=!1;if(T&&T.startPageNumber){var I=T.startPageNumber+T.pageNumber-1;O=I===U}return typeof j=="number"?j:(j==null||j===!1)&&O&&(T==null?void 0:T.finalY)!=null?T.finalY+20/M:null}function k(B,j,T){var M=j.head||[],U=j.body||[],O=j.foot||[];if(j.html){var I=j.includeHiddenHtml;if(T){var E=(0,c.parseHtml)(B,j.html,T,I,j.useCss)||{};M=E.head||M,U=E.body||M,O=E.foot||M}else console.error("Cannot parse html in non browser environment")}var R=j.columns||N(M,U,O);return{columns:R,head:M,body:U,foot:O}}function N(B,j,T){var M=B[0]||j[0]||T[0]||[],U=[];return Object.keys(M).filter(function(O){return O!=="_element"}).forEach(function(O){var I=1,E;Array.isArray(M)?E=M[parseInt(O)]:E=M[O],typeof E=="object"&&!Array.isArray(E)&&(I=(E==null?void 0:E.colSpan)||1);for(var R=0;R<I;R++){var A=void 0;Array.isArray(M)?A=U.length:A=O+(R>0?"_".concat(R):"");var w={dataKey:A};U.push(w)}}),U}},792:function(u,o){Object.defineProperty(o,"__esModule",{value:!0});function l(d,f,h,g){for(var v=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(O){d.applyStyles(d.userStyles),b.beforePageContent&&b.beforePageContent(O),d.applyStyles(d.userStyles),b.afterPageContent&&b.afterPageContent(O),d.applyStyles(d.userStyles),b.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){b[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var I=O[0],E=O[1];b[E]&&(console.error("Use of deprecated option ".concat(E,". Use ").concat(I," instead")),b[I]=b[E])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var I=typeof O=="string"?O:O[0],E=typeof O=="string"?O:O[1];typeof b[I]<"u"&&(typeof b.styles[E]>"u"&&(b.styles[E]=b[I]),console.error("Use of deprecated option: "+I+", use the style "+E+" instead."))});for(var k=0,N=["styles","bodyStyles","headStyles","footStyles"];k<N.length;k++){var B=N[k];c(b[B]||{})}for(var j=b.columnStyles||{},T=0,M=Object.keys(j);T<M.length;T++){var U=M[T];c(j[U]||{})}},p=0,y=[f,h,g];p<y.length;p++){var m=y[p];v(m)}}o.default=l;function c(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.Column=o.Cell=o.Row=o.Table=void 0;var c=l(796),d=l(172),f=l(420),h=function(){function y(m,b){this.pageNumber=1,this.pageCount=1,this.id=m.id,this.settings=m.settings,this.styles=m.styles,this.hooks=m.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return y.prototype.getHeadHeight=function(m){return this.head.reduce(function(b,k){return b+k.getMaxCellHeight(m)},0)},y.prototype.getFootHeight=function(m){return this.foot.reduce(function(b,k){return b+k.getMaxCellHeight(m)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(m,b,k,N,B,j){for(var T=0,M=b;T<M.length;T++){var U=M[T],O=new d.CellHookData(m,this,k,N,B,j),I=U(O)===!1;if(k.text=Array.isArray(k.text)?k.text:[k.text],I)return!1}return!0},y.prototype.callEndPageHooks=function(m,b){m.applyStyles(m.userStyles);for(var k=0,N=this.hooks.didDrawPage;k<N.length;k++){var B=N[k];B(new d.HookData(m,this,b))}},y.prototype.callWillDrawPageHooks=function(m,b){for(var k=0,N=this.hooks.willDrawPage;k<N.length;k++){var B=N[k];B(new d.HookData(m,this,b))}},y.prototype.getWidth=function(m){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(N,B){return N+B.wrappedWidth},0);return b}else{var k=this.settings.margin;return m-k.left-k.right}},y}();o.Table=h;var g=function(){function y(m,b,k,N,B){B===void 0&&(B=!1),this.height=0,this.raw=m,m instanceof c.HtmlRowInput&&(this.raw=m._element,this.element=m._element),this.index=b,this.section=k,this.cells=N,this.spansMultiplePages=B}return y.prototype.getMaxCellHeight=function(m){var b=this;return m.reduce(function(k,N){var B;return Math.max(k,((B=b.cells[N.index])===null||B===void 0?void 0:B.height)||0)},0)},y.prototype.hasRowSpan=function(m){var b=this;return m.filter(function(k){var N=b.cells[k.index];return N?N.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(m,b){return this.getMaxCellHeight(b)<=m},y.prototype.getMinimumRowHeight=function(m,b){var k=this;return m.reduce(function(N,B){var j=k.cells[B.index];if(!j)return 0;var T=b.getLineHeight(j.styles.fontSize),M=j.padding("vertical"),U=M+T;return U>N?U:N},0)},y}();o.Row=g;var v=function(){function y(m,b,k){var N,B;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=k,this.raw=m;var j=m;m!=null&&typeof m=="object"&&!Array.isArray(m)?(this.rowSpan=m.rowSpan||1,this.colSpan=m.colSpan||1,j=(B=(N=m.content)!==null&&N!==void 0?N:m.title)!==null&&B!==void 0?B:m,m._element&&(this.raw=m._element)):(this.rowSpan=1,this.colSpan=1);var T=j!=null?""+j:"",M=/\r\n|\r|\n/g;this.text=T.split(M)}return y.prototype.getTextPos=function(){var m;if(this.styles.valign==="top")m=this.y+this.padding("top");else if(this.styles.valign==="bottom")m=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");m=this.y+b/2+this.padding("top")}var k;if(this.styles.halign==="right")k=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var N=this.width-this.padding("horizontal");k=this.x+N/2+this.padding("left")}else k=this.x+this.padding("left");return{x:k,y:m}},y.prototype.getContentHeight=function(m,b){b===void 0&&(b=1.15);var k=Array.isArray(this.text)?this.text.length:1,N=this.styles.fontSize/m*b,B=k*N+this.padding("vertical");return Math.max(B,this.styles.minCellHeight)},y.prototype.padding=function(m){var b=(0,f.parseSpacing)(this.styles.cellPadding,0);return m==="vertical"?b.top+b.bottom:m==="horizontal"?b.left+b.right:b[m]},y}();o.Cell=v;var p=function(){function y(m,b,k){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=m,this.raw=b,this.index=k}return y.prototype.getMaxCustomCellWidth=function(m){for(var b=0,k=0,N=m.allRows();k<N.length;k++){var B=N[k],j=B.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(b=Math.max(b,j.styles.cellWidth))}return b},y}();o.Column=p},356:function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assign=void 0;function l(c,d,f,h,g){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(c),p=1;p<arguments.length;p++){var y=arguments[p];if(y!=null)for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(v[m]=y[m])}return v}o.assign=l},972:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.createTable=void 0;var c=l(744),d=l(260),f=l(324),h=l(796),g=l(356);function v(B,j){var T=new c.DocHandler(B),M=p(j,T.scaleFactor()),U=new d.Table(j,M);return(0,f.calculateWidths)(T,U),T.applyStyles(T.userStyles),U}o.createTable=v;function p(B,j){var T=B.content,M=k(T.columns);if(T.head.length===0){var U=m(M,"head");U&&T.head.push(U)}if(T.foot.length===0){var U=m(M,"foot");U&&T.foot.push(U)}var O=B.settings.theme,I=B.styles;return{columns:M,head:y("head",T.head,M,I,O,j),body:y("body",T.body,M,I,O,j),foot:y("foot",T.foot,M,I,O,j)}}function y(B,j,T,M,U,O){var I={},E=j.map(function(R,A){for(var w=0,_={},x=0,S=0,C=0,q=T;C<q.length;C++){var P=q[C];if(I[P.index]==null||I[P.index].left===0)if(S===0){var $=void 0;Array.isArray(R)?$=R[P.index-x-w]:$=R[P.dataKey];var X={};typeof $=="object"&&!Array.isArray($)&&(X=($==null?void 0:$.styles)||{});var Z=N(B,P,A,U,M,O,X),V=new d.Cell($,Z,B);_[P.dataKey]=V,_[P.index]=V,S=V.colSpan-1,I[P.index]={left:V.rowSpan-1,times:S}}else S--,x++;else I[P.index].left--,S=I[P.index].times,w++}return new d.Row(R,A,B,_)});return E}function m(B,j){var T={};return B.forEach(function(M){if(M.raw!=null){var U=b(j,M.raw);U!=null&&(T[M.dataKey]=U)}}),Object.keys(T).length>0?T:null}function b(B,j){if(B==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(B==="foot"&&typeof j=="object")return j.footer;return null}function k(B){return B.map(function(j,T){var M,U,O;return typeof j=="object"?O=(U=(M=j.dataKey)!==null&&M!==void 0?M:j.key)!==null&&U!==void 0?U:T:O=T,new d.Column(O,j,T)})}function N(B,j,T,M,U,O,I){var E=(0,h.getTheme)(M),R;B==="head"?R=U.headStyles:B==="body"?R=U.bodyStyles:B==="foot"&&(R=U.footStyles);var A=(0,g.assign)({},E.table,E[B],U.styles,R),w=U.columnStyles[j.dataKey]||U.columnStyles[j.index]||{},_=B==="body"?w:{},x=B==="body"&&T%2===0?(0,g.assign)({},E.alternateRow,U.alternateRowStyles):{},S=(0,h.defaultStyles)(O),C=(0,g.assign)({},S,A,x,_);return(0,g.assign)(C,I)}},664:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.addPage=o.drawTable=void 0;var c=l(420),d=l(260),f=l(744),h=l(356),g=l(136),v=l(224);function p(w,_){var x=_.settings,S=x.startY,C=x.margin,q={x:C.left,y:S},P=_.getHeadHeight(_.columns)+_.getFootHeight(_.columns),$=S+C.bottom+P;if(x.pageBreak==="avoid"){var X=_.body,Z=X.reduce(function(F,D){return F+D.height},0);$+=Z}var V=new f.DocHandler(w);(x.pageBreak==="always"||x.startY!=null&&$>V.pageSize().height)&&(A(V),q.y=C.top),_.callWillDrawPageHooks(V,q);var Q=(0,h.assign)({},q);_.startPageNumber=V.pageNumber(),x.horizontalPageBreak?y(V,_,Q,q):(V.applyStyles(V.userStyles),(x.showHead==="firstPage"||x.showHead==="everyPage")&&_.head.forEach(function(F){return U(V,_,F,q,_.columns)}),V.applyStyles(V.userStyles),_.body.forEach(function(F,D){var K=D===_.body.length-1;M(V,_,F,K,Q,q,_.columns)}),V.applyStyles(V.userStyles),(x.showFoot==="lastPage"||x.showFoot==="everyPage")&&_.foot.forEach(function(F){return U(V,_,F,q,_.columns)})),(0,c.addTableBorder)(V,_,Q,q),_.callEndPageHooks(V,q),_.finalY=q.y,w.lastAutoTable=_,w.previousAutoTable=_,w.autoTable&&(w.autoTable.previous=_),V.applyStyles(V.userStyles)}o.drawTable=p;function y(w,_,x,S){var C=(0,v.calculateAllColumnsCanFitInPage)(w,_),q=_.settings;if(q.horizontalPageBreakBehaviour==="afterAllRows")C.forEach(function(Z,V){w.applyStyles(w.userStyles),V>0?R(w,_,x,S,Z.columns,!0):m(w,_,S,Z.columns),b(w,_,x,S,Z.columns),N(w,_,S,Z.columns)});else for(var P=-1,$=C[0],X=function(){var Z=P;if($){w.applyStyles(w.userStyles);var V=$.columns;P>=0?R(w,_,x,S,V,!0):m(w,_,S,V),Z=k(w,_,P+1,S,V),N(w,_,S,V)}var Q=Z-P;C.slice(1).forEach(function(F){w.applyStyles(w.userStyles),R(w,_,x,S,F.columns,!0),k(w,_,P+1,S,F.columns,Q),N(w,_,S,F.columns)}),P=Z};P<_.body.length-1;)X()}function m(w,_,x,S){var C=_.settings;w.applyStyles(w.userStyles),(C.showHead==="firstPage"||C.showHead==="everyPage")&&_.head.forEach(function(q){return U(w,_,q,x,S)})}function b(w,_,x,S,C){w.applyStyles(w.userStyles),_.body.forEach(function(q,P){var $=P===_.body.length-1;M(w,_,q,$,x,S,C)})}function k(w,_,x,S,C,q){w.applyStyles(w.userStyles),q=q??_.body.length;var P=Math.min(x+q,_.body.length),$=-1;return _.body.slice(x,P).forEach(function(X,Z){var V=x+Z===_.body.length-1,Q=E(w,_,V,S);X.canEntireRowFit(Q,C)&&(U(w,_,X,S,C),$=x+Z)}),$}function N(w,_,x,S){var C=_.settings;w.applyStyles(w.userStyles),(C.showFoot==="lastPage"||C.showFoot==="everyPage")&&_.foot.forEach(function(q){return U(w,_,q,x,S)})}function B(w,_,x){var S=x.getLineHeight(w.styles.fontSize),C=w.padding("vertical"),q=Math.floor((_-C)/S);return Math.max(0,q)}function j(w,_,x,S){var C={};w.spansMultiplePages=!0,w.height=0;for(var q=0,P=0,$=x.columns;P<$.length;P++){var X=$[P],Z=w.cells[X.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var V=new d.Cell(Z.raw,Z.styles,Z.section);V=(0,h.assign)(V,Z),V.text=[];var Q=B(Z,_,S);Z.text.length>Q&&(V.text=Z.text.splice(Q,Z.text.length));var F=S.scaleFactor(),D=S.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(F,D),Z.contentHeight>=_&&(Z.contentHeight=_,V.styles.minCellHeight-=_),Z.contentHeight>w.height&&(w.height=Z.contentHeight),V.contentHeight=V.getContentHeight(F,D),V.contentHeight>q&&(q=V.contentHeight),C[X.index]=V}}var K=new d.Row(w.raw,-1,w.section,C,!0);K.height=q;for(var ee=0,ue=x.columns;ee<ue.length;ee++){var X=ue[ee],V=K.cells[X.index];V&&(V.height=K.height);var Z=w.cells[X.index];Z&&(Z.height=w.height)}return K}function T(w,_,x,S){var C=w.pageSize().height,q=S.settings.margin,P=q.top+q.bottom,$=C-P;_.section==="body"&&($-=S.getHeadHeight(S.columns)+S.getFootHeight(S.columns));var X=_.getMinimumRowHeight(S.columns,w),Z=X<x;if(X>$)return console.error("Will not be able to print row ".concat(_.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var V=_.hasRowSpan(S.columns),Q=_.getMaxCellHeight(S.columns)>$;return Q?(V&&console.error("The content of row ".concat(_.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(V||S.settings.rowPageBreak==="avoid")}function M(w,_,x,S,C,q,P){var $=E(w,_,S,q);if(x.canEntireRowFit($,P))U(w,_,x,q,P);else if(T(w,x,$,_)){var X=j(x,$,_,w);U(w,_,x,q,P),R(w,_,C,q,P),M(w,_,X,S,C,q,P)}else R(w,_,C,q,P),M(w,_,x,S,C,q,P)}function U(w,_,x,S,C){S.x=_.settings.margin.left;for(var q=0,P=C;q<P.length;q++){var $=P[q],X=x.cells[$.index];if(!X){S.x+=$.width;continue}w.applyStyles(X.styles),X.x=S.x,X.y=S.y;var Z=_.callCellHooks(w,_.hooks.willDrawCell,X,x,$,S);if(Z===!1){S.x+=$.width;continue}O(w,X,S);var V=X.getTextPos();(0,g.default)(X.text,V.x,V.y,{halign:X.styles.halign,valign:X.styles.valign,maxWidth:Math.ceil(X.width-X.padding("left")-X.padding("right"))},w.getDocument()),_.callCellHooks(w,_.hooks.didDrawCell,X,x,$,S),S.x+=$.width}S.y+=x.height}function O(w,_,x){var S=_.styles;if(w.getDocument().setFillColor(w.getDocument().getFillColor()),typeof S.lineWidth=="number"){var C=(0,c.getFillStyle)(S.lineWidth,S.fillColor);C&&w.rect(_.x,x.y,_.width,_.height,C)}else typeof S.lineWidth=="object"&&(S.fillColor&&w.rect(_.x,x.y,_.width,_.height,"F"),I(w,_,x,S.lineWidth))}function I(w,_,x,S){var C,q,P,$;S.top&&(C=x.x,q=x.y,P=x.x+_.width,$=x.y,S.right&&(P+=.5*S.right),S.left&&(C-=.5*S.left),X(S.top,C,q,P,$)),S.bottom&&(C=x.x,q=x.y+_.height,P=x.x+_.width,$=x.y+_.height,S.right&&(P+=.5*S.right),S.left&&(C-=.5*S.left),X(S.bottom,C,q,P,$)),S.left&&(C=x.x,q=x.y,P=x.x,$=x.y+_.height,S.top&&(q-=.5*S.top),S.bottom&&($+=.5*S.bottom),X(S.left,C,q,P,$)),S.right&&(C=x.x+_.width,q=x.y,P=x.x+_.width,$=x.y+_.height,S.top&&(q-=.5*S.top),S.bottom&&($+=.5*S.bottom),X(S.right,C,q,P,$));function X(Z,V,Q,F,D){w.getDocument().setLineWidth(Z),w.getDocument().line(V,Q,F,D,"S")}}function E(w,_,x,S){var C=_.settings.margin.bottom,q=_.settings.showFoot;return(q==="everyPage"||q==="lastPage"&&x)&&(C+=_.getFootHeight(_.columns)),w.pageSize().height-S.y-C}function R(w,_,x,S,C,q){C===void 0&&(C=[]),q===void 0&&(q=!1),w.applyStyles(w.userStyles),_.settings.showFoot==="everyPage"&&!q&&_.foot.forEach(function($){return U(w,_,$,S,C)}),_.callEndPageHooks(w,S);var P=_.settings.margin;(0,c.addTableBorder)(w,_,x,S),A(w),_.pageNumber++,_.pageCount++,S.x=P.left,S.y=P.top,x.y=P.top,_.callWillDrawPageHooks(w,S),_.settings.showHead==="everyPage"&&(_.head.forEach(function($){return U(w,_,$,S,C)}),w.applyStyles(w.userStyles))}o.addPage=R;function A(w){var _=w.pageNumber();w.setPage(_+1);var x=w.pageNumber();return x===_?(w.addPage(),!0):!1}},224:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.calculateAllColumnsCanFitInPage=void 0;var c=l(420);function d(h,g,v){var p;v===void 0&&(v={});var y=(0,c.getPageAvailableWidth)(h,g),m=new Map,b=[],k=[],N=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?N=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(N=[g.settings.horizontalPageBreakRepeat]),N.forEach(function(M){var U=g.columns.find(function(O){return O.dataKey===M||O.index===M});U&&!m.has(U.index)&&(m.set(U.index,!0),b.push(U.index),k.push(g.columns[U.index]),y-=U.wrappedWidth)});for(var B=!0,j=(p=v==null?void 0:v.start)!==null&&p!==void 0?p:0;j<g.columns.length;){if(m.has(j)){j++;continue}var T=g.columns[j].wrappedWidth;if(B||y>=T)B=!1,b.push(j),k.push(g.columns[j]),y-=T;else break;j++}return{colIndexes:b,columns:k,lastIndex:j-1}}function f(h,g){for(var v=[],p=0;p<g.columns.length;p++){var y=d(h,g,{start:p});y.columns.length&&(v.push(y),p=y.lastIndex)}return v}o.calculateAllColumnsCanFitInPage=f},324:function(u,o,l){Object.defineProperty(o,"__esModule",{value:!0}),o.ellipsize=o.resizeColumns=o.calculateWidths=void 0;var c=l(420);function d(b,k){f(b,k);var N=[],B=0;k.columns.forEach(function(T){var M=T.getMaxCustomCellWidth(k);M?T.width=M:(T.width=T.wrappedWidth,N.push(T)),B+=T.width});var j=k.getWidth(b.pageSize().width)-B;j&&(j=h(N,j,function(T){return Math.max(T.minReadableWidth,T.minWidth)})),j&&(j=h(N,j,function(T){return T.minWidth})),j=Math.abs(j),!k.settings.horizontalPageBreak&&j>.1/b.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),v(k),p(k,b),g(k)}o.calculateWidths=d;function f(b,k){var N=b.scaleFactor(),B=k.settings.horizontalPageBreak,j=(0,c.getPageAvailableWidth)(b,k);k.allRows().forEach(function(T){for(var M=0,U=k.columns;M<U.length;M++){var O=U[M],I=T.cells[O.index];if(I){var E=k.hooks.didParseCell;k.callCellHooks(b,E,I,T,O,null);var R=I.padding("horizontal");I.contentWidth=(0,c.getStringWidth)(I.text,I.styles,b)+R;var A=(0,c.getStringWidth)(I.text.join(" ").split(/[^\S\u00A0]+/),I.styles,b);if(I.minReadableWidth=A+I.padding("horizontal"),typeof I.styles.cellWidth=="number")I.minWidth=I.styles.cellWidth,I.wrappedWidth=I.styles.cellWidth;else if(I.styles.cellWidth==="wrap"||B===!0)I.contentWidth>j?(I.minWidth=j,I.wrappedWidth=j):(I.minWidth=I.contentWidth,I.wrappedWidth=I.contentWidth);else{var w=10/N;I.minWidth=I.styles.minCellWidth||w,I.wrappedWidth=I.contentWidth,I.minWidth>I.wrappedWidth&&(I.wrappedWidth=I.minWidth)}}}}),k.allRows().forEach(function(T){for(var M=0,U=k.columns;M<U.length;M++){var O=U[M],I=T.cells[O.index];if(I&&I.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,I.wrappedWidth),O.minWidth=Math.max(O.minWidth,I.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,I.minReadableWidth);else{var E=k.styles.columnStyles[O.dataKey]||k.styles.columnStyles[O.index]||{},R=E.cellWidth||E.minCellWidth;R&&typeof R=="number"&&(O.minWidth=R,O.wrappedWidth=R)}I&&(I.colSpan>1&&!O.minWidth&&(O.minWidth=I.minWidth),I.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=I.minWidth))}})}function h(b,k,N){for(var B=k,j=b.reduce(function(w,_){return w+_.wrappedWidth},0),T=0;T<b.length;T++){var M=b[T],U=M.wrappedWidth/j,O=B*U,I=M.width+O,E=N(M),R=I<E?E:I;k-=R-M.width,M.width=R}if(k=Math.round(k*1e10)/1e10,k){var A=b.filter(function(w){return k<0?w.width>N(w):!0});A.length&&(k=h(A,k,N))}return k}o.resizeColumns=h;function g(b){for(var k={},N=1,B=b.allRows(),j=0;j<B.length;j++)for(var T=B[j],M=0,U=b.columns;M<U.length;M++){var O=U[M],I=k[O.index];if(N>1)N--,delete T.cells[O.index];else if(I)I.cell.height+=T.height,N=I.cell.colSpan,delete T.cells[O.index],I.left--,I.left<=1&&delete k[O.index];else{var E=T.cells[O.index];if(!E)continue;if(E.height=T.height,E.rowSpan>1){var R=B.length-j,A=E.rowSpan>R?R:E.rowSpan;k[O.index]={cell:E,left:A,row:T}}}}}function v(b){for(var k=b.allRows(),N=0;N<k.length;N++)for(var B=k[N],j=null,T=0,M=0,U=0;U<b.columns.length;U++){var O=b.columns[U];if(M-=1,M>1&&b.columns[U+1])T+=O.width,delete B.cells[O.index];else if(j){var I=j;delete B.cells[O.index],j=null,I.width=O.width+T}else{var I=B.cells[O.index];if(!I)continue;if(M=I.colSpan,T=0,I.colSpan>1){j=I,T+=O.width;continue}I.width=O.width+T}}}function p(b,k){for(var N={count:0,height:0},B=0,j=b.allRows();B<j.length;B++){for(var T=j[B],M=0,U=b.columns;M<U.length;M++){var O=U[M],I=T.cells[O.index];if(I){k.applyStyles(I.styles,!0);var E=I.width-I.padding("horizontal");if(I.styles.overflow==="linebreak")I.text=k.splitTextToSize(I.text,E+1/k.scaleFactor(),{fontSize:I.styles.fontSize});else if(I.styles.overflow==="ellipsize")I.text=y(I.text,E,I.styles,k,"...");else if(I.styles.overflow==="hidden")I.text=y(I.text,E,I.styles,k,"");else if(typeof I.styles.overflow=="function"){var R=I.styles.overflow(I.text,E);typeof R=="string"?I.text=[R]:I.text=R}I.contentHeight=I.getContentHeight(k.scaleFactor(),k.getLineHeightFactor());var A=I.contentHeight/I.rowSpan;I.rowSpan>1&&N.count*N.height<A*I.rowSpan?N={height:A,count:I.rowSpan}:N&&N.count>0&&N.height>A&&(A=N.height),A>T.height&&(T.height=A)}}N.count--}}function y(b,k,N,B,j){return b.map(function(T){return m(T,k,N,B,j)})}o.ellipsize=y;function m(b,k,N,B,j){var T=1e4*B.scaleFactor();if(k=Math.ceil(k*T)/T,k>=(0,c.getStringWidth)(b,N,B))return b;for(;k<(0,c.getStringWidth)(b+j,N,B)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+j}},964:function(u){if(typeof e>"u"){var o=new Error("Cannot find module 'undefined'");throw o.code="MODULE_NOT_FOUND",o}u.exports=e}},s={};function i(u){var o=s[u];if(o!==void 0)return o.exports;var l=s[u]={exports:{}};return n[u].call(l.exports,l,l.exports,i),l.exports}var a={};return function(){var u=a;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var o=i(340),l=i(776),c=i(664),d=i(972),f=i(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return f.Table}});var h=i(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return h.CellHookData}});var g=i(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return g.Row}});function v(k){(0,o.default)(k)}u.applyPlugin=v;function p(k,N){var B=(0,l.parseInput)(k,N),j=(0,d.createTable)(k,B);(0,c.drawTable)(k,j)}function y(k,N){var B=(0,l.parseInput)(k,N);return(0,d.createTable)(k,B)}u.__createTable=y;function m(k,N){(0,c.drawTable)(k,N)}u.__drawTable=m;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),v(b)}catch{}u.default=p}(),a}()})})(rS);var CL=rS.exports;const NL=l2(CL);function d4(r){return Number.isInteger(r)?r.toLocaleString("es-CL"):r.toLocaleString("es-CL",{minimumFractionDigits:2,maximumFractionDigits:2})}const sr={primary:"FF1E40AF",primaryLight:"FFDBEAFE",success:"FF22C55E",danger:"FFEF4444",dangerLight:"FFFEE2E2",gray:"FF6B7280",grayLight:"FFF3F4F6",white:"FFFFFFFF"};async function PL(r,t,e){const n=new hv.Workbook;n.creator="Baader 200 App",n.created=new Date;const s=n.addWorksheet("Repuestos"),i=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cdigo Baader",key:"codigoBaader",width:16},{header:"Descripcin",key:"descripcion",width:45},{header:"Cant. Solicitada",key:"cantidadSolicitada",width:14},{header:"Stock Bodega",key:"stockBodega",width:13},{header:"V. Unitario (USD)",key:"valorUnitario",width:15},{header:"Total (USD)",key:"total",width:14}];e&&e>0&&i.push({header:`Total (CLP) @${e.toFixed(0)}`,key:"totalCLP",width:18}),i.push({header:"Tags",key:"tags",width:25}),s.columns=i,r.forEach(o=>{var d;const l={codigoSAP:o.codigoSAP,codigoBaader:o.codigoBaader,descripcion:o.textoBreve,cantidadSolicitada:o.cantidadSolicitada,stockBodega:o.cantidadStockBodega,valorUnitario:o.valorUnitario,total:o.total,tags:((d=o.tags)==null?void 0:d.join(", "))||""};e&&e>0&&(l.totalCLP=Math.round((o.total||0)*e));const c=s.addRow(l);c.getCell("valorUnitario").numFmt='"$"#,##0.00',c.getCell("total").numFmt='"$"#,##0.00',e&&e>0&&(c.getCell("totalCLP").numFmt='"$"#,##0')});const a=await n.xlsx.writeBuffer(),u=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});j8.saveAs(u,`${t}.xlsx`)}async function IL(r,t={formato:"completo"},e="repuestos_baader_200"){if(t.formato==="simple")return PL(r,e,t.tipoCambio);const{incluirResumen:n=!0,incluirSinStock:s=!0,incluirPorTags:i=!0,incluirEstilos:a=!0,tipoCambio:u}=t,o=new hv.Workbook;o.creator="Baader 200 App",o.created=new Date;const l=o.addWorksheet("Detalle Repuestos",{views:[{state:"frozen",xSplit:0,ySplit:1}]}),c=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cdigo Baader",key:"codigoBaader",width:16},{header:"Descripcin",key:"descripcion",width:45},{header:"Cant. Solicitada",key:"cantidadSolicitada",width:14},{header:"Stock Bodega",key:"stockBodega",width:13},{header:"V. Unitario (USD)",key:"valorUnitario",width:15},{header:"Total (USD)",key:"total",width:14}];u&&u>0&&c.push({header:`Total (CLP) @${u.toFixed(0)}`,key:"totalCLP",width:18}),c.push({header:"Tags",key:"tags",width:25},{header:"lt. Act. Inventario",key:"ultimaAct",width:16},{header:"Img Manual",key:"imgManual",width:10},{header:"Fotos Reales",key:"fotosReales",width:11}),l.columns=c;const d=c.length;if(a){const p=l.getRow(1);p.font={bold:!0,color:{argb:sr.white}},p.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primary}},p.alignment={vertical:"middle",horizontal:"center"},p.height=25}r.forEach((p,y)=>{var k;const m={codigoSAP:p.codigoSAP,codigoBaader:p.codigoBaader,descripcion:p.textoBreve,cantidadSolicitada:p.cantidadSolicitada,stockBodega:p.cantidadStockBodega,valorUnitario:p.valorUnitario,total:p.total,tags:((k=p.tags)==null?void 0:k.length)>0?p.tags.join(", "):null,ultimaAct:p.fechaUltimaActualizacionInventario?new Date(p.fechaUltimaActualizacionInventario).toLocaleDateString("es-CL"):null,imgManual:p.imagenesManual.length,fotosReales:p.fotosReales.length};u&&u>0&&(m.totalCLP=Math.round((p.total||0)*u));const b=l.addRow(m);if(a){y%2===1&&(b.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}});const N=b.getCell("stockBodega");p.cantidadStockBodega===0?(N.font={bold:!0,color:{argb:sr.danger}},N.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.dangerLight}}):N.font={bold:!0,color:{argb:sr.success}}}b.getCell("valorUnitario").numFmt='"$"#,##0.00',b.getCell("total").numFmt='"$"#,##0.00',u&&u>0&&(b.getCell("totalCLP").numFmt='"$"#,##0')});const f={codigoSAP:null,codigoBaader:null,descripcion:"TOTALES",cantidadSolicitada:{formula:`SUM(D2:D${r.length+1})`},stockBodega:{formula:`SUM(E2:E${r.length+1})`},valorUnitario:null,total:{formula:`SUM(G2:G${r.length+1})`},tags:null,ultimaAct:null};u&&u>0?(f.totalCLP={formula:`SUM(H2:H${r.length+1})`},f.imgManual={formula:`SUM(K2:K${r.length+1})`},f.fotosReales={formula:`SUM(L2:L${r.length+1})`}):(f.imgManual={formula:`SUM(J2:J${r.length+1})`},f.fotosReales={formula:`SUM(K2:K${r.length+1})`});const h=l.addRow(f);if(a&&(h.font={bold:!0},h.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}}),h.getCell("total").numFmt='"$"#,##0.00',u&&u>0&&(h.getCell("totalCLP").numFmt='"$"#,##0'),l.autoFilter={from:{row:1,column:1},to:{row:r.length+1,column:d}},a&&l.eachRow(p=>{p.eachCell(y=>{y.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}),n){const p=o.addWorksheet(" Dashboard"),y=r.length,m=r.reduce((ae,ce)=>ae+ce.cantidadSolicitada,0),b=r.reduce((ae,ce)=>ae+ce.cantidadStockBodega,0),k=r.reduce((ae,ce)=>ae+ce.total,0),N=r.filter(ae=>ae.cantidadStockBodega>0).length,B=r.filter(ae=>ae.cantidadStockBodega===0).length,j=r.filter(ae=>ae.imagenesManual.length>0).length,T=r.filter(ae=>ae.fotosReales.length>0).length,M=y>0?k/y:0,U=y>0?b/y:0,O=y>0?N/y*100:0,I=y>0?B/y*100:0,E=new Set;r.forEach(ae=>{var ce;return(ce=ae.tags)==null?void 0:ce.forEach(ne=>E.add(ne))}),p.getColumn(1).width=3,p.getColumn(2).width=22,p.getColumn(3).width=18,p.getColumn(4).width=3,p.getColumn(5).width=22,p.getColumn(6).width=18,p.getColumn(7).width=3,p.getColumn(8).width=22,p.getColumn(9).width=18,p.mergeCells("B2:I2");const R=p.getCell("B2");R.value=" DASHBOARD - Repuestos Baader 200",R.font={bold:!0,size:20,color:{argb:sr.primary}},R.alignment={horizontal:"center",vertical:"middle"},p.getRow(2).height=35,p.mergeCells("B3:I3");const A=p.getCell("B3");A.value=`Generado: ${new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,A.font={size:11,color:{argb:sr.gray}},A.alignment={horizontal:"center"};const w=(ae,ce,ne,se,ye)=>{const me=p.getCell(`${ae}5`);me.value=ce,me.font={size:10,color:{argb:sr.gray}},me.alignment={horizontal:"center"};const _e=p.getCell(`${ae}6`);se==="currency"?(_e.value=ne,_e.numFmt='"USD "$#,##0.00'):se==="percent"?(_e.value=ne/100,_e.numFmt="0.0%"):se==="number"?(_e.value=ne,_e.numFmt="#,##0"):_e.value=ne,_e.font={bold:!0,size:24,color:{argb:ye}},_e.alignment={horizontal:"center",vertical:"middle"},p.getRow(6).height=40};p.mergeCells("B5:C5"),p.mergeCells("B6:C6"),w("B"," TOTAL REPUESTOS",y,"number",sr.primary),p.mergeCells("E5:F5"),p.mergeCells("E6:F6"),w("E"," VALOR TOTAL",k,"currency",sr.success),p.mergeCells("H5:I5"),p.mergeCells("H6:I6"),w("H"," SIN STOCK",B,"number",sr.danger),p.mergeCells("B9:C9");const _=p.getCell("B9");_.value=" MTRICAS PRINCIPALES",_.font={bold:!0,size:12,color:{argb:sr.primary}},_.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}},[["Cant. Solicitada Total",m,"#,##0"],["Stock Bodega Total",b,"#,##0"],["Valor Promedio/Item",M,'"$"#,##0.00'],["Stock Promedio/Item",U,"0.0"],["% Con Stock",O/100,"0.0%"],["% Sin Stock",I/100,"0.0%"]].forEach((ae,ce)=>{const ne=10+ce;p.getCell(`B${ne}`).value=ae[0],p.getCell(`B${ne}`).font={size:10};const se=p.getCell(`C${ne}`);se.value=ae[1],se.numFmt=ae[2],se.font={bold:!0},se.alignment={horizontal:"right"},ce%2===0&&(p.getCell(`B${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),p.mergeCells("E9:F9");const S=p.getCell("E9");S.value=" DOCUMENTACIN",S.font={bold:!0,size:12,color:{argb:sr.primary}},S.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}},[["Con Imagen Manual",j,y],["Sin Imagen Manual",y-j,y],["Con Fotos Reales",T,y],["Sin Fotos Reales",y-T,y],["Total Imgenes Manual",r.reduce((ae,ce)=>ae+ce.imagenesManual.length,0),null],["Total Fotos Reales",r.reduce((ae,ce)=>ae+ce.fotosReales.length,0),null]].forEach((ae,ce)=>{const ne=10+ce;p.getCell(`E${ne}`).value=ae[0],p.getCell(`E${ne}`).font={size:10};const se=p.getCell(`F${ne}`);ae[2],se.value=ae[1],se.numFmt="#,##0",se.font={bold:!0},se.alignment={horizontal:"right"},ce%2===0&&(p.getCell(`E${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),p.mergeCells("H9:I9");const q=p.getCell("H9");q.value=" DISTRIBUCIN POR TAGS",q.font={bold:!0,size:12,color:{argb:sr.primary}},q.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}},Array.from(E).slice(0,6).map(ae=>{const ce=r.filter(ne=>{var se;return(se=ne.tags)==null?void 0:se.includes(ae)}).length;return[ae,ce]}).forEach((ae,ce)=>{const ne=10+ce;p.getCell(`H${ne}`).value=ae[0],p.getCell(`H${ne}`).font={size:10};const se=p.getCell(`I${ne}`);se.value=ae[1],se.numFmt="#,##0",se.font={bold:!0},se.alignment={horizontal:"right"},ce%2===0&&(p.getCell(`H${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),p.mergeCells("B18:I18");const $=p.getCell("B18");$.value=" COBERTURA DE STOCK",$.font={bold:!0,size:12,color:{argb:sr.primary}};const X=50,Z=Math.round(O/100*X),V=X-Z,Q="".repeat(Z)+"".repeat(V);p.mergeCells("B19:I19");const F=p.getCell("B19");F.value=Q,F.font={size:14,color:{argb:O>=50?sr.success:sr.danger}},F.alignment={horizontal:"center"},p.mergeCells("B20:I20");const D=p.getCell("B20");D.value=`${N} con stock (${O.toFixed(1)}%) | ${B} sin stock (${I.toFixed(1)}%)`,D.font={size:10,color:{argb:sr.gray}},D.alignment={horizontal:"center"},p.mergeCells("B22:F22");const K=p.getCell("B22");K.value=" TOP 5 REPUESTOS MS COSTOSOS",K.font={bold:!0,size:12,color:{argb:sr.primary}},K.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}};const ee=[...r].sort((ae,ce)=>ce.total-ae.total).slice(0,5);["#","Cdigo","Descripcin","Cant.","Total USD"].forEach((ae,ce)=>{const ne=["B","C","D","E","F"],se=p.getCell(`${ne[ce]}23`);se.value=ae,se.font={bold:!0,size:9,color:{argb:sr.white}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.gray}},se.alignment={horizontal:"center"}}),ee.forEach((ae,ce)=>{const ne=24+ce;p.getCell(`B${ne}`).value=ce+1,p.getCell(`C${ne}`).value=ae.codigoSAP||ae.codigoBaader,p.getCell(`D${ne}`).value=ae.textoBreve.substring(0,30)+(ae.textoBreve.length>30?"...":""),p.getCell(`E${ne}`).value=ae.cantidadSolicitada;const se=p.getCell(`F${ne}`);se.value=ae.total,se.numFmt='"$"#,##0.00',se.font={bold:!0,color:{argb:sr.success}},ce%2===0&&["B","C","D","E","F"].forEach(ye=>{p.getCell(`${ye}${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}}})}),p.mergeCells("H22:I22");const ue=p.getCell("H22");ue.value=" RESUMEN RPIDO",ue.font={bold:!0,size:12,color:{argb:sr.primary}},ue.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primaryLight}};const ie=[["Repuestos Totales",y],["Valor Total",k],["Urgentes (sin stock)",B],["Con documentacin",j+T],["Tags utilizados",E.size]];if(["Concepto","Valor"].forEach((ae,ce)=>{const ne=["H","I"],se=p.getCell(`${ne[ce]}23`);se.value=ae,se.font={bold:!0,size:9,color:{argb:sr.white}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.gray}},se.alignment={horizontal:"center"}}),ie.forEach((ae,ce)=>{const ne=24+ce;p.getCell(`H${ne}`).value=ae[0],p.getCell(`H${ne}`).font={size:10};const se=p.getCell(`I${ne}`);se.value=ae[1],ce===1?se.numFmt='"$"#,##0.00':se.numFmt="#,##0",se.font={bold:!0},se.alignment={horizontal:"right"},ce%2===0&&(p.getCell(`H${ne}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),a)for(let ae=9;ae<=15;ae++)["B","C","E","F","H","I"].forEach(ce=>{const ne=p.getCell(`${ce}${ae}`);ne.border={top:{style:"thin",color:{argb:"FFE5E7EB"}},left:{style:"thin",color:{argb:"FFE5E7EB"}},bottom:{style:"thin",color:{argb:"FFE5E7EB"}},right:{style:"thin",color:{argb:"FFE5E7EB"}}}})}if(s){const p=r.filter(y=>y.cantidadStockBodega===0);if(p.length>0){const y=o.addWorksheet("Sin Stock",{views:[{state:"frozen",xSplit:0,ySplit:1}]});if(y.columns=[{header:"Cdigo SAP",key:"codigoSAP",width:14},{header:"Cdigo Baader",key:"codigoBaader",width:16},{header:"Descripcin",key:"descripcion",width:45},{header:"Cant. Solicitada",key:"cantidadSolicitada",width:14},{header:"V. Unitario (USD)",key:"valorUnitario",width:15},{header:"Total (USD)",key:"total",width:14},{header:"Tags",key:"tags",width:25}],a){const b=y.getRow(1);b.font={bold:!0,color:{argb:sr.white}},b.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.danger}},b.alignment={vertical:"middle",horizontal:"center"}}p.forEach((b,k)=>{var B;const N=y.addRow({codigoSAP:b.codigoSAP,codigoBaader:b.codigoBaader,descripcion:b.textoBreve,cantidadSolicitada:b.cantidadSolicitada,valorUnitario:b.valorUnitario,total:b.total,tags:((B=b.tags)==null?void 0:B.length)>0?b.tags.join(", "):null});N.getCell("valorUnitario").numFmt='"$"#,##0.00',N.getCell("total").numFmt='"$"#,##0.00',a&&k%2===1&&(N.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.dangerLight}})});const m=y.addRow({codigoSAP:null,codigoBaader:null,descripcion:`TOTAL (${p.length} repuestos)`,cantidadSolicitada:p.reduce((b,k)=>b+k.cantidadSolicitada,0),valorUnitario:null,total:p.reduce((b,k)=>b+k.total,0),tags:null});a&&(m.font={bold:!0},m.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.dangerLight}}),m.getCell("total").numFmt='"$"#,##0.00'}}if(i){const p=new Set;if(r.forEach(y=>{var m;return(m=y.tags)==null?void 0:m.forEach(b=>p.add(b))}),p.size>0){const y=o.addWorksheet("Por Tags");if(y.columns=[{header:"Tag",key:"tag",width:25},{header:"Cantidad Repuestos",key:"cantidad",width:18},{header:"Cant. Solicitada",key:"cantSolicitada",width:15},{header:"Stock Total",key:"stockTotal",width:12},{header:"Valor Total (USD)",key:"valorTotal",width:16}],a){const m=y.getRow(1);m.font={bold:!0,color:{argb:sr.white}},m.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.primary}},m.alignment={vertical:"middle",horizontal:"center"}}Array.from(p).sort().forEach((m,b)=>{const k=r.filter(B=>{var j;return(j=B.tags)==null?void 0:j.includes(m)}),N=y.addRow({tag:m,cantidad:k.length,cantSolicitada:k.reduce((B,j)=>B+j.cantidadSolicitada,0),stockTotal:k.reduce((B,j)=>B+j.cantidadStockBodega,0),valorTotal:k.reduce((B,j)=>B+j.total,0)});N.getCell("valorTotal").numFmt='"$"#,##0.00',a&&b%2===1&&(N.fill={type:"pattern",pattern:"solid",fgColor:{argb:sr.grayLight}})}),y.autoFilter={from:{row:1,column:1},to:{row:p.size+1,column:5}}}}const g=await o.xlsx.writeBuffer(),v=new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});j8.saveAs(v,`${e}.xlsx`)}async function RL(r,t={},e){const{includeCharts:n=!0,filename:s="repuestos_baader_200"}=t,i=new Jt("p","mm","a4"),a=i.internal.pageSize.getWidth(),u=i.internal.pageSize.getHeight(),o=8,l=a-2*o,c=await uM(r);console.log("Imgenes cargadas:",c.size),i.setFontSize(16),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text("Repuestos Baader 200",a/2,20,{align:"center"}),i.setFontSize(10),i.setFont("helvetica","normal"),i.setTextColor(100,100,100),i.text(`Fecha: ${new Date().toLocaleDateString("es-CL")}`,a/2,28,{align:"center"});const d=r.reduce((k,N)=>k+N.cantidadSolicitada,0),f=r.reduce((k,N)=>k+N.cantidadStockBodega,0),h=r.reduce((k,N)=>k+N.total,0),g=r.filter(k=>k.imagenesManual.length>0).length,v=r.filter(k=>k.fotosReales.length>0).length,p=r.filter(k=>k.cantidadStockBodega>0).length,y=r.length-p;let m=38;if(n){const k=o+5,N=38,B=35,j=40;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(60,60,60),i.text("Cantidad vs Stock",k+B,N-3,{align:"center"});const T=Math.max(d,f,1),M=d/T*j,U=f/T*j;i.setFillColor(59,130,246),i.roundedRect(k,N+j-M,15,M,1,1,"F"),i.setFontSize(7),i.setTextColor(59,130,246),i.text(d.toString(),k+7.5,N+j-M-2,{align:"center"}),i.setFillColor(34,197,94),i.roundedRect(k+20,N+j-U,15,U,1,1,"F"),i.setTextColor(34,197,94),i.text(f.toString(),k+27.5,N+j-U-2,{align:"center"}),i.setFontSize(6),i.setTextColor(80,80,80),i.text("Solicitada",k+7.5,N+j+5,{align:"center"}),i.text("Stock",k+27.5,N+j+5,{align:"center"});const O=a/2,I=N+20,E=18;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(60,60,60),i.text("Documentacin",O,N-3,{align:"center"});const R=r.length;if(R>0){const x=g-r.filter(Z=>Z.imagenesManual.length>0&&Z.fotosReales.length>0).length,S=v-r.filter(Z=>Z.imagenesManual.length>0&&Z.fotosReales.length>0).length,C=r.filter(Z=>Z.imagenesManual.length>0&&Z.fotosReales.length>0).length,q=r.length-g-S;let P=-Math.PI/2;const $=[{value:C,color:[34,197,94],label:"Ambas"},{value:x,color:[59,130,246],label:"Manual"},{value:S,color:[168,85,247],label:"Real"},{value:Math.max(0,q),color:[209,213,219],label:"Sin img"}].filter(Z=>Z.value>0);$.forEach(Z=>{const V=Z.value/R*2*Math.PI,Q=P+V;i.setFillColor(Z.color[0],Z.color[1],Z.color[2]);const F=30,D=[[O,I]];for(let ee=0;ee<=F;ee++){const ue=P+V*ee/F;D.push([O+Math.cos(ue)*E,I+Math.sin(ue)*E])}D.push([O,I]),i.setDrawColor(255,255,255),i.setLineWidth(.5);let K=`${D[0][0]} ${D[0][1]} m`;for(let ee=1;ee<D.length;ee++)K+=` ${D[ee][0]} ${D[ee][1]} l`;for(let ee=0;ee<F;ee++){const ue=P+V*ee/F,ie=P+V*(ee+1)/F;i.triangle(O,I,O+Math.cos(ue)*E,I+Math.sin(ue)*E,O+Math.cos(ie)*E,I+Math.sin(ie)*E,"F")}P=Q});let X=N+j+3;i.setFontSize(6),$.forEach((Z,V)=>{const Q=O-20+V%2*25,F=X+Math.floor(V/2)*6;i.setFillColor(Z.color[0],Z.color[1],Z.color[2]),i.rect(Q,F-2,3,3,"F"),i.setTextColor(80,80,80),i.text(`${Z.label}: ${Z.value}`,Q+4,F,{align:"left"})})}const A=a-o-45;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(60,60,60),i.text("Disponibilidad",A+20,N-3,{align:"center"});const w=r.length>0?p/r.length*100:0,_=N+5;i.setFillColor(229,231,235),i.roundedRect(A,_,40,8,2,2,"F"),i.setFillColor(34,197,94),i.roundedRect(A,_,40*(w/100),8,2,2,"F"),i.setFontSize(7),i.setFont("helvetica","bold"),i.setTextColor(255,255,255),w>20&&i.text(`${Math.round(w)}%`,A+20,_+5.5,{align:"center"}),i.setFontSize(6),i.setTextColor(34,197,94),i.text(`${p} con stock`,A+20,_+14,{align:"center"}),i.setTextColor(239,68,68),i.text(`${y} sin stock`,A+20,_+19,{align:"center"}),i.setFillColor(30,64,175),i.roundedRect(A,_+26,40,14,2,2,"F"),i.setFontSize(7),i.setFont("helvetica","bold"),i.setTextColor(255,255,255),i.text("VALOR TOTAL",A+20,_+32,{align:"center"}),i.setFontSize(8),i.text(`$${h.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`,A+20,_+38,{align:"center"}),m=N+j+20}i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text("Resumen",a/2,m,{align:"center"}),NL(i,{startY:m+5,head:[["Concepto","Valor"]],body:[["Total Repuestos",r.length.toString()],["Cant. Solicitada Total",d.toString()],["Stock Bodega Total",f.toString()],["Valor Total (USD)",`$${h.toLocaleString("en-US",{minimumFractionDigits:2})}`],["Con Imgenes Manual",`${g} (${Math.round(g/r.length*100)}%)`],["Con Fotos Reales",`${v} (${Math.round(v/r.length*100)}%)`]],theme:"striped",headStyles:{fillColor:[30,64,175]},margin:{left:o+30,right:o+30},styles:{fontSize:9}}),i.addPage(),i.setFontSize(12),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text("Detalle de Repuestos",a/2,12,{align:"center"}),i.setFontSize(8),i.setFont("helvetica","normal"),i.setTextColor(100,100,100),i.text(`${r.length} repuestos`,a/2,17,{align:"center"});let b=22;for(let k=0;k<r.length;k++){const N=r[k],B=[...N.imagenesManual,...N.fotosReales],j=B.length>0,T=j?42:26;b+T>u-10&&(i.addPage(),b=10);const M=j?l*.35:l,U=o+M,O=l-M;i.setDrawColor(200,200,200),i.setFillColor(255,255,255),i.roundedRect(o,b,l,T,1,1,"FD");const I=o+2;let E=b+5;i.setFontSize(9),i.setFont("helvetica","bold"),i.setTextColor(30,64,175),i.text(`Cd. Baader: ${N.codigoBaader||"-"}`,I,E),E+=4,i.setFontSize(6),i.setFont("helvetica","bold"),i.setTextColor(80,80,80),i.text("Cd. SAP: ",I,E),i.setFont("helvetica","normal"),i.text(N.codigoSAP||"-",I+i.getTextWidth("Cd. SAP: "),E),E+=4,i.setFontSize(6),i.setTextColor(50,50,50);const R=M-4,A=i.splitTextToSize(N.textoBreve||"",R);i.text(A.slice(0,2),I,E),E+=Math.min(A.length,2)*2.5+2,i.setFontSize(6),i.setFont("helvetica","bold"),i.setTextColor(80,80,80),i.text("Cantidad: ",I,E),i.setFont("helvetica","normal"),i.text(`${N.cantidadSolicitada}`,I+i.getTextWidth("Cantidad: "),E),E+=3,i.setFont("helvetica","bold"),i.text("V. Unitario: ",I,E),i.setFont("helvetica","normal"),i.text(`$${d4(N.valorUnitario)}`,I+i.getTextWidth("V. Unitario: "),E),E+=3,i.setFont("helvetica","bold"),i.text("Total: ",I,E),i.setFont("helvetica","normal"),i.text(`$${d4(N.total)}`,I+i.getTextWidth("Total: "),E);const w=I+28;i.setFont("helvetica","bold"),i.text("Stock: ",w,E);const _=N.cantidadStockBodega>0?[0,130,0]:[180,0,0];if(i.setTextColor(_[0],_[1],_[2]),i.setFont("helvetica","bold"),i.text(`${N.cantidadStockBodega}`,w+i.getTextWidth("Stock: "),E),j){const S=U+2,C=O-2*2,q=T-2*2,P=b+2;if(B.length===1){const $=Math.min(C*.85,q-4),X=c.get(B[0].url),{w:Z,h:V}=Sg(X,$,$),Q=S+(C-Z)/2,F=P+(q-V)/2-1;kg(i,c,B[0].url,Q,F,Z,V),i.setFontSize(4),i.setTextColor(130,130,130),i.setFont("helvetica","normal");const D=B[0].tipo==="manual"?"Manual":"Real";i.text(D,Q+Z/2,F+V+2.5,{align:"center"})}else{const X=Math.min((C-3)/2-2,q-6),Z=c.get(B[0].url),V=B[1]?c.get(B[1].url):null,Q=Sg(Z,X,X),F=V?Sg(V,X,X):Q,D=Q.w+F.w+3,K=S+(C-D)/2,ee=Math.max(Q.h,F.h),ue=P+(q-ee-4)/2,ie=ue+(ee-Q.h)/2;if(kg(i,c,B[0].url,K,ie,Q.w,Q.h),i.setFontSize(4),i.setTextColor(130,130,130),i.setFont("helvetica","normal"),i.text(B[0].tipo==="manual"?"Manual":"Real",K+Q.w/2,ie+Q.h+2.5,{align:"center"}),B[1]){const ae=K+Q.w+3,ce=ue+(ee-F.h)/2;kg(i,c,B[1].url,ae,ce,F.w,F.h),i.text(B[1].tipo==="manual"?"Manual":"Real",ae+F.w/2,ce+F.h+2.5,{align:"center"})}B.length>2&&(i.setFontSize(5),i.setTextColor(100,100,100),i.text(`+${B.length-2}`,S+C-5,b+T-2))}}20+Math.round(k/r.length*75),b+=T+2}i.save(`${s}.pdf`)}function Sg(r,t,e){if(!r)return{w:t,h:e};const n=r.width/r.height;let s=t,i=t/n;return i>e&&(i=e,s=e*n),{w:s,h:i}}function kg(r,t,e,n,s,i,a){const u=t.get(e);if(u)try{const o=u.base64.includes("image/png")?"PNG":"JPEG";r.addImage(u.base64,o,n,s,i,a);return}catch(o){console.error("Error agregando imagen al PDF:",o)}r.setFillColor(245,245,245),r.setDrawColor(220,220,220),r.roundedRect(n,s,i,a,1,1,"FD"),r.setFontSize(5),r.setTextColor(180,180,180),r.text("Sin img",n+i/2,s+a/2+1,{align:"center"})}const ML=Le.lazy(()=>Sf(()=>import("./PDFViewer-BUcQl19g.js"),__vite__mapDeps([0,1])).then(r=>({default:r.PDFViewer}))),jL=Le.lazy(()=>Sf(()=>import("./PDFMarkerEditor-BuuLrWb2.js"),__vite__mapDeps([2,1])).then(r=>({default:r.PDFMarkerEditor}))),p4=()=>H.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100",children:H.jsxs("div",{className:"text-center",children:[H.jsx(Wa,{className:"w-10 h-10 text-primary-600 animate-spin mx-auto mb-3"}),H.jsx("p",{className:"text-gray-600",children:"Cargando visor de PDF..."})]})});function LL(){const{user:r,signOut:t}=sv(),{repuestos:e,loading:n,createRepuesto:s,updateRepuesto:i,deleteRepuesto:a,getHistorial:u,importRepuestos:o,renameTag:l,deleteTag:c}=XR(),{uploadImage:d,getManualURL:f}=KR(),{lastSelectedRepuestoId:h,setLastSelectedRepuesto:g}=GR(),{toasts:v,removeToast:p,success:y,error:m}=YR(),{valor:b}=g8(),[k,N]=Le.useState(null),[B,j]=Le.useState(null),[T,M]=Le.useState(null),[U,O]=Le.useState(null),[I,E]=Le.useState(!1),[R,A]=Le.useState("create"),[w,_]=Le.useState("hidden"),[x,S]=Le.useState("manual"),[C,q]=Le.useState(null),[P,$]=Le.useState(),[X,Z]=Le.useState(),[V,Q]=Le.useState(null),[F,D]=Le.useState(!1),[K,ee]=Le.useState(!1),[ue,ie]=Le.useState(!1),[ae,ce]=Le.useState(!1),[ne,se]=Le.useState("repuestos"),[ye,me]=Le.useState([]),[_e,xe]=Le.useState(!1),[ke,Ce]=Le.useState(!0),[Oe,Ue]=Le.useState(!1),[ve,Be]=Le.useState("completo"),[$e,He]=Le.useState(!0),[Xe,Te]=Le.useState(!0),[ht,Ze]=Le.useState(!0),[st,it]=Le.useState(!0),[yt,vt]=Le.useState(!1),[kt,or]=Le.useState(!1);Le.useEffect(()=>{f().then(Qe=>{Qe&&q(Qe)})},[f]),Le.useEffect(()=>{if(h&&e.length>0&&!k){const Qe=e.find(bt=>bt.id===h);Qe&&(N(Qe),_("gallery"))}},[h,e,k]),Le.useEffect(()=>{g((k==null?void 0:k.id)||null)},[k,g]),Le.useEffect(()=>{const Qe=bt=>{const Ht=document.activeElement;(Ht==null?void 0:Ht.tagName)==="INPUT"||(Ht==null?void 0:Ht.tagName)==="TEXTAREA"||((bt.ctrlKey||bt.metaKey)&&bt.key==="n"&&(bt.preventDefault(),Gt()),(bt.ctrlKey||bt.metaKey)&&bt.key==="e"&&(bt.preventDefault(),Pt()),(bt.ctrlKey||bt.metaKey)&&bt.key==="p"&&(bt.preventDefault(),Et()),(bt.ctrlKey||bt.metaKey)&&bt.key==="m"&&(bt.preventDefault(),_(w==="pdf"?"hidden":"pdf")),bt.key==="Escape"&&(I?E(!1):Oe?Ue(!1):_e?xe(!1):yt?vt(!1):w!=="hidden"&&_("hidden")))};return window.addEventListener("keydown",Qe),()=>window.removeEventListener("keydown",Qe)},[w,I,Oe,_e,yt]);const wt=Qe=>{N(Qe),Qe?(_("gallery"),S("manual")):_("hidden")},Gt=()=>{j(null),A("create"),E(!0)},Yt=Qe=>{j(Qe),A("edit"),E(!0)},At=async Qe=>{try{R==="edit"&&B?(await i(B.id,Qe,B),y("Repuesto actualizado correctamente")):(await s(Qe),y("Repuesto creado correctamente")),E(!1)}catch(bt){throw m("Error al guardar el repuesto"),bt}},_t=Qe=>{M(Qe)},Mt=async()=>{if(T){ee(!0);try{await a(T.id),y("Repuesto eliminado"),(k==null?void 0:k.id)===T.id&&(N(null),_("hidden"))}catch{m("Error al eliminar el repuesto")}finally{ee(!1),M(null)}}},Ot=Qe=>{if(N(Qe),_("pdf"),Qe.vinculosManual&&Qe.vinculosManual.length>0){const bt=Qe.vinculosManual[0];$(bt.pagina),Z(bt)}else $(void 0),Z(void 0)},Wt=Qe=>{N(Qe),_("gallery"),S("real")},tr=(Qe,bt)=>{Q(Qe),N(Qe),ut(bt||null),_("marker-editor")},[jt,ut]=Le.useState(null),ur=async Qe=>{if(!V)return;const bt=V.vinculosManual||[];if(jt){const Ht=bt.map(nr=>nr.id===jt.id?{...Qe,id:jt.id}:nr);await i(V.id,{vinculosManual:Ht}),y("Marcador actualizado correctamente"),Z({...Qe,id:jt.id})}else{const Ht={...Qe,id:Date.now().toString()};await i(V.id,{vinculosManual:[...bt,Ht]}),y("Marcador guardado - Ahora puedes ver este repuesto en el manual"),Z(Ht)}_("pdf"),Q(null),ut(null),$(Qe.pagina)},Bt=async(Qe,bt)=>{const nr=(Qe.vinculosManual||[]).filter(be=>be.id!==bt);await i(Qe.id,{vinculosManual:nr}),y("Marcador eliminado"),Z(void 0)},Ee=Qe=>{O(Qe)},Ie=async(Qe,bt,Ht)=>{const nr=await d(Qe,bt,Ht),be=e.find(Me=>Me.id===bt);if(be){const Me=Ht==="manual"?be.imagenesManual:be.fotosReales,Ke=[...Me,{...nr,orden:Me.length}];await i(bt,{[Ht==="manual"?"imagenesManual":"fotosReales"]:Ke}),y("Imagen agregada correctamente")}return nr},We=async(Qe,bt)=>{const Ht=bt.tipo,be=(Ht==="manual"?Qe.imagenesManual:Qe.fotosReales).filter(Me=>Me.id!==bt.id);await i(Qe.id,{[Ht==="manual"?"imagenesManual":"fotosReales"]:be}),y("Imagen eliminada")},at=async(Qe,bt)=>{const Ht=bt.tipo,be=(Ht==="manual"?Qe.imagenesManual:Qe.fotosReales).map(Me=>({...Me,esPrincipal:Me.id===bt.id}));await i(Qe.id,{[Ht==="manual"?"imagenesManual":"fotosReales"]:be})},Ut=async(Qe,bt)=>{var nr;const Ht=((nr=bt[0])==null?void 0:nr.tipo)||"manual";await i(Qe.id,{[Ht==="manual"?"imagenesManual":"fotosReales"]:bt})},pt=Le.useCallback(async(Qe,bt)=>{if(!k)return;const nr=await(await fetch(Qe)).blob(),be=new File([nr],`manual_page_${bt}.png`,{type:"image/png"});await Ie(be,k.id,"manual");const Me=k.vinculosManual||[];await i(k.id,{vinculosManual:[...Me,{id:Date.now().toString(),pagina:bt,forma:"rectangulo",color:"rgba(239, 68, 68, 0.4)",descripcion:`Pgina ${bt}`}]}),y(`Captura de pgina ${bt} guardada`)},[k,i,y]),Pt=()=>{Ue(!0)},It=()=>{const Qe=ye.length>0?ye:e;IL(Qe,{formato:ve,incluirResumen:$e,incluirSinStock:Xe,incluirPorTags:ht,incluirEstilos:st,tipoCambio:b>0?b:void 0}),y(`Excel exportado con ${Qe.length} repuestos (formato ${ve==="simple"?"simple":"completo"})`),Ue(!1)},Et=()=>{xe(!0)},zt=()=>{const Qe=ye.length>0?ye:e;RL(Qe,{includeCharts:ke}),y(`PDF exportado con ${Qe.length} repuestos`),xe(!1)},Ct=async Qe=>{try{await o(Qe),y(`${Qe.length} repuestos importados correctamente`)}catch(bt){throw m("Error al importar repuestos"),bt}},Xt=()=>{or(!0);try{const Qe={version:cg,fecha:new Date().toISOString(),totalRepuestos:e.length,repuestos:e.map(be=>({...be,id:be.id}))},bt=new Blob([JSON.stringify(Qe,null,2)],{type:"application/json"}),Ht=URL.createObjectURL(bt),nr=document.createElement("a");nr.href=Ht,nr.download=`baader200_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(nr),nr.click(),document.body.removeChild(nr),URL.revokeObjectURL(Ht),y(`Backup exportado: ${e.length} repuestos`),vt(!1)}catch{m("Error al crear backup")}finally{or(!1)}},Cr=async Qe=>{var Ht;const bt=(Ht=Qe.target.files)==null?void 0:Ht[0];if(bt){or(!0);try{const nr=await bt.text(),be=JSON.parse(nr);if(!be.repuestos||!Array.isArray(be.repuestos))throw new Error("Formato de backup invlido");const Me=be.repuestos.map(Ke=>({codigoSAP:Ke.codigoSAP||"",codigoBaader:Ke.codigoBaader||"",textoBreve:Ke.textoBreve||"",descripcion:Ke.descripcion||"",nombreManual:Ke.nombreManual||"",cantidadSolicitada:Ke.cantidadSolicitada||0,cantidadStockBodega:Ke.cantidadStockBodega||0,valorUnitario:Ke.valorUnitario||0,tags:Ke.tags||[],vinculosManual:Ke.vinculosManual||[],imagenesManual:Ke.imagenesManual||[],fotosReales:Ke.fotosReales||[]}));await o(Me),y(`Backup restaurado: ${Me.length} repuestos importados`),vt(!1)}catch{m("Error al restaurar backup: archivo invlido")}finally{or(!1),Qe.target.value=""}}};return n?H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"spinner mx-auto mb-4"}),H.jsx("p",{className:"text-gray-600",children:"Cargando repuestos..."})]})}):H.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[H.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:H.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),H.jsxs("div",{children:[H.jsxs("h1",{className:"font-bold text-gray-800 text-lg flex items-center gap-2",children:["Baader 200",H.jsxs("span",{className:"text-xs font-normal bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full",children:["v",cg]})]}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de Repuestos"})]})]}),H.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[H.jsx(ts,{variant:"ghost",size:"sm",onClick:()=>{_(w==="pdf"?"hidden":"pdf")},icon:H.jsx(Ew,{className:"w-4 h-4"}),children:"Manual"}),H.jsx(ts,{variant:"secondary",size:"sm",onClick:Pt,icon:H.jsx(_p,{className:"w-4 h-4"}),children:"Excel"}),H.jsx(ts,{variant:"secondary",size:"sm",onClick:Et,icon:H.jsx(Vu,{className:"w-4 h-4"}),children:"PDF"}),H.jsx(ts,{variant:"ghost",size:"sm",onClick:()=>vt(!0),icon:H.jsx(og,{className:"w-4 h-4"}),title:"Backup/Restore datos",children:"Backup"}),e.length===0&&H.jsx(ts,{variant:"primary",size:"sm",onClick:()=>ie(!0),icon:H.jsx(cm,{className:"w-4 h-4"}),children:"Importar"}),H.jsx("div",{className:"w-px h-8 bg-gray-200"}),H.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[H.jsx("span",{children:r==null?void 0:r.email}),H.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",title:"Cerrar sesin",children:H.jsx(Cw,{className:"w-4 h-4"})})]})]}),H.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>D(!0),children:H.jsx(LR,{className:"w-6 h-6"})})]})}),F&&H.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[H.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>D(!1)}),H.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-white shadow-xl animate-slideInRight",children:[H.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[H.jsx("span",{className:"font-semibold",children:"Men"}),H.jsx("button",{onClick:()=>D(!1),children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"p-4 space-y-2",children:[H.jsxs("button",{onClick:()=>{_("pdf"),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[H.jsx(Ew,{className:"w-5 h-5 text-gray-500"}),H.jsx("span",{children:"Ver Manual"})]}),H.jsxs("button",{onClick:()=>{Pt(),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[H.jsx(_p,{className:"w-5 h-5 text-gray-500"}),H.jsx("span",{children:"Exportar Excel"})]}),H.jsxs("button",{onClick:()=>{Et(),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[H.jsx(Vu,{className:"w-5 h-5 text-gray-500"}),H.jsx("span",{children:"Exportar PDF"})]}),H.jsxs("button",{onClick:()=>{vt(!0),D(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100",children:[H.jsx(og,{className:"w-5 h-5 text-gray-500"}),H.jsx("span",{children:"Backup/Restore"})]}),H.jsx("hr",{className:"my-4"}),H.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:r==null?void 0:r.email}),H.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 text-red-600",children:[H.jsx(Cw,{className:"w-5 h-5"}),H.jsx("span",{children:"Cerrar sesin"})]})]})]})]}),H.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[H.jsx("div",{className:"bg-white border-b border-gray-200 px-4",children:H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsxs("button",{onClick:()=>{se("repuestos"),w==="hidden"&&_("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${ne==="repuestos"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[H.jsx(Zl,{className:"w-4 h-4"}),"Repuestos"]}),H.jsxs("button",{onClick:()=>{se("stats"),_("hidden")},className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${ne==="stats"?"text-primary-600 border-primary-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:[H.jsx(u8,{className:"w-4 h-4"}),"Estadsticas"]})]})}),H.jsx("div",{className:"flex-1 flex overflow-hidden",children:ne==="stats"?H.jsx("div",{className:"flex-1 overflow-hidden",children:H.jsx(Tj,{repuestos:e})}):H.jsxs(H.Fragment,{children:[H.jsx("div",{className:`
                flex-1 min-w-0 overflow-hidden
                ${w!=="hidden"?"hidden md:block md:w-1/2 lg:w-3/5":"w-full"}
              `,children:H.jsx(eM,{repuestos:e,selectedRepuesto:k,onSelect:wt,onEdit:Yt,onDelete:_t,onViewManual:Ot,onViewPhotos:Wt,onViewHistory:Ee,onAddNew:Gt,onMarkInManual:tr,getHistorial:u,onManageTags:()=>ce(!0),onFilteredChange:me})}),w!=="hidden"&&H.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-l border-gray-200 flex flex-col",children:[H.jsxs("div",{className:"flex border-b border-gray-200 bg-white",children:[H.jsxs("button",{onClick:()=>_("gallery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${w==="gallery"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[H.jsx(m8,{className:"w-4 h-4"}),"Imgenes"]}),H.jsxs("button",{onClick:()=>_("pdf"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${w==="pdf"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"}`,children:[H.jsx(um,{className:"w-4 h-4"}),"Manual"]}),H.jsx("button",{onClick:()=>_("hidden"),className:"md:hidden px-3 text-gray-400 hover:text-gray-600",children:H.jsx(ti,{className:"w-5 h-5"})})]}),w==="gallery"&&k&&H.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50",children:[H.jsxs("button",{onClick:()=>S("manual"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${x==="manual"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Del Manual (",k.imagenesManual.length,")"]}),H.jsxs("button",{onClick:()=>S("real"),className:`flex-1 px-4 py-2 text-xs font-medium transition-colors ${x==="real"?"text-primary-600 bg-white":"text-gray-500 hover:text-gray-700"}`,children:["Fotos Reales (",k.fotosReales.length,")"]})]}),H.jsx("div",{className:"flex-1 overflow-hidden",children:w==="gallery"?H.jsx(kj,{repuesto:k,tipo:x,onUpload:Ie,onDelete:We,onSetPrimary:at,onUpdateOrder:Ut}):w==="marker-editor"&&V&&C?H.jsx(Le.Suspense,{fallback:H.jsx(p4,{}),children:H.jsx(jL,{pdfUrl:C,repuestoId:V.id,repuestoDescripcion:V.descripcion||V.textoBreve,existingMarker:jt||void 0,onSave:ur,onCancel:()=>{_("pdf"),Q(null),ut(null)},repuestos:e,onSelectRepuesto:Qe=>{Q(Qe),N(Qe)}})}):H.jsx(Le.Suspense,{fallback:H.jsx(p4,{}),children:H.jsx(ML,{pdfUrl:C,targetPage:P,marker:X,onCapture:k?pt:void 0,onEditMarker:k?Qe=>tr(k,Qe):void 0,onDeleteMarker:k?Qe=>Bt(k,Qe.id):void 0,onAddMarker:k?()=>tr(k):void 0})})})]})]})})]}),H.jsx(nM,{isOpen:I,onClose:()=>E(!1),onSave:At,repuesto:B}),H.jsx(iM,{isOpen:!!U,onClose:()=>O(null),repuesto:U,getHistorial:u}),H.jsx(sM,{isOpen:!!T,onClose:()=>M(null),onConfirm:Mt,repuesto:T,loading:K}),H.jsx(Aj,{isOpen:ue,onClose:()=>ie(!1),onImport:Ct}),H.jsx(aM,{isOpen:ae,onClose:()=>ce(!1),repuestos:e,onRenameTag:l,onDeleteTag:c}),_e&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>xe(!1),children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full mx-4 overflow-hidden",onClick:Qe=>Qe.stopPropagation(),children:[H.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[H.jsx(Vu,{className:"w-5 h-5 text-primary-600"}),"Exportar PDF"]}),H.jsx("button",{onClick:()=>xe(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"p-5",children:[H.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Se exportarn ",ye.length>0?ye.length:e.length," repuestos"]}),H.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[H.jsx("input",{type:"checkbox",checked:ke,onChange:Qe=>Ce(Qe.target.checked),className:"w-5 h-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"}),H.jsxs("div",{children:[H.jsx("span",{className:"font-medium text-gray-800",children:"Incluir grficos"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Barras, circular e indicadores en el resumen"})]})]})]}),H.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[H.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),H.jsxs("button",{onClick:zt,className:"px-4 py-2 text-sm text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors flex items-center gap-2",children:[H.jsx(Vu,{className:"w-4 h-4"}),"Exportar"]})]})]})}),Oe&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>Ue(!1),children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",onClick:Qe=>Qe.stopPropagation(),children:[H.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[H.jsx(_p,{className:"w-5 h-5 text-green-600"}),"Exportar Excel"]}),H.jsx("button",{onClick:()=>Ue(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"p-5 space-y-4",children:[H.jsxs("p",{className:"text-sm text-gray-600",children:["Se exportarn ",ye.length>0?ye.length:e.length," repuestos"]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de exportacin"}),H.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.jsxs("button",{onClick:()=>Be("simple"),className:`p-3 rounded-lg border-2 text-left transition-all ${ve==="simple"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[H.jsx("div",{className:"font-medium text-gray-800",children:"Simple"}),H.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Solo datos, 1 hoja"})]}),H.jsxs("button",{onClick:()=>Be("completo"),className:`p-3 rounded-lg border-2 text-left transition-all ${ve==="completo"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[H.jsx("div",{className:"font-medium text-gray-800",children:"Completo"}),H.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Estilos, mltiples hojas"})]})]})]}),ve==="completo"&&H.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opciones avanzadas"}),H.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[H.jsx("input",{type:"checkbox",checked:st,onChange:Qe=>it(Qe.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),H.jsxs("div",{children:[H.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Incluir estilos"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Colores, bordes y formato condicional"})]})]}),H.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[H.jsx("input",{type:"checkbox",checked:$e,onChange:Qe=>He(Qe.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),H.jsxs("div",{children:[H.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Hoja de resumen"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Estadsticas y totales generales"})]})]}),H.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[H.jsx("input",{type:"checkbox",checked:Xe,onChange:Qe=>Te(Qe.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),H.jsxs("div",{children:[H.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Sin Stock"'}),H.jsx("p",{className:"text-xs text-gray-500",children:"Lista de repuestos con stock en 0"})]})]}),H.jsxs("label",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[H.jsx("input",{type:"checkbox",checked:ht,onChange:Qe=>Ze(Qe.target.checked),className:"w-4 h-4 text-green-600 rounded border-gray-300"}),H.jsxs("div",{children:[H.jsx("span",{className:"text-sm font-medium text-gray-800",children:'Hoja "Por Tags"'}),H.jsx("p",{className:"text-xs text-gray-500",children:"Resumen agrupado por etiquetas"})]})]})]})]}),H.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 bg-gray-50 flex gap-3 justify-end",children:[H.jsx("button",{onClick:()=>Ue(!1),className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancelar"}),H.jsxs("button",{onClick:It,className:"px-4 py-2 text-sm text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors flex items-center gap-2",children:[H.jsx(Vu,{className:"w-4 h-4"}),"Exportar Excel"]})]})]})}),yt&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>vt(!1),children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4",onClick:Qe=>Qe.stopPropagation(),children:[H.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 flex items-center justify-between",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[H.jsx(og,{className:"w-5 h-5 text-primary-600"}),"Backup / Restore"]}),H.jsx("button",{onClick:()=>vt(!1),className:"p-2 rounded-lg hover:bg-gray-100",children:H.jsx(ti,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"p-5 space-y-4",children:[H.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:H.jsxs("div",{className:"flex items-start gap-3",children:[H.jsx(NR,{className:"w-8 h-8 text-blue-600 flex-shrink-0"}),H.jsxs("div",{className:"flex-1",children:[H.jsx("h4",{className:"font-semibold text-blue-800",children:"Exportar Backup"}),H.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Descarga todos los datos en formato JSON (",e.length," repuestos)"]}),H.jsxs("button",{onClick:Xt,disabled:kt,className:"mt-3 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[kt?H.jsx(Wa,{className:"w-4 h-4 animate-spin"}):H.jsx(Vu,{className:"w-4 h-4"}),"Descargar Backup"]})]})]})}),H.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:H.jsxs("div",{className:"flex items-start gap-3",children:[H.jsx(PR,{className:"w-8 h-8 text-amber-600 flex-shrink-0"}),H.jsxs("div",{className:"flex-1",children:[H.jsx("h4",{className:"font-semibold text-amber-800",children:"Restaurar Backup"}),H.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Importar datos desde un archivo JSON de backup"}),H.jsx("p",{className:"text-xs text-amber-500 mt-1",children:" Se agregarn nuevos repuestos (no reemplaza existentes)"}),H.jsxs("label",{className:"mt-3 px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors inline-flex items-center gap-2 cursor-pointer disabled:opacity-50",children:[H.jsx("input",{type:"file",accept:".json",onChange:Cr,disabled:kt,className:"hidden"}),kt?H.jsx(Wa,{className:"w-4 h-4 animate-spin"}):H.jsx(cm,{className:"w-4 h-4"}),"Seleccionar archivo"]})]})]})})]}),H.jsx("div",{className:"px-5 py-3 border-t border-gray-200 bg-gray-50",children:H.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Versin actual: ",cg,"  ",e.length," repuestos en la base de datos"]})})]})}),H.jsx(tM,{toasts:v,onRemove:p})]})}function OL(){const{user:r,loading:t}=sv();return t?H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"spinner mx-auto mb-4"}),H.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):r?H.jsx(LL,{}):H.jsx(HR,{})}function DL(){return H.jsx(mR,{children:H.jsx(OL,{})})}Eg.createRoot(document.getElementById("root")).render(H.jsx(ll.StrictMode,{children:H.jsx(DL,{})}));export{c8 as C,Wa as L,lg as M,_f as P,UR as S,xf as T,ti as X,qR as Z,qr as _,h8 as a,Aw as b,$t as c,BR as d,Gd as e,dr as f,US as g,l2 as h,H as j,Le as r};
