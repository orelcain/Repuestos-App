import{c as W,r,g as Ze,p as Xe,j as e,L as ke,C as Fe,a as Le,S as U,Z as Me,b as Ge,X as Qe,M as le,T as ze,P as Ue}from"./index-C43fTbOt.js";import{Z as Ie}from"./zoom-out-CsaJONal.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=W("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=W("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=W("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);Xe.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";function st({pdfUrl:M,targetPage:z,marker:c,onCapture:J,onEditMarker:O,onDeleteMarker:q,onAddMarker:_,preloadedPDF:ee,preloadedText:ce}){var Re;const I=r.useRef(null),x=r.useRef(null),te=r.useRef(null),ie=r.useRef(null),S=r.useRef(null),$=r.useRef(!1),T=typeof window<"u"&&(window.matchMedia("(max-width: 1024px)").matches||"ontouchstart"in window||navigator.maxTouchPoints>0),[w,oe]=r.useState(null),[o,b]=r.useState(1),[p,he]=r.useState(0),[g,se]=r.useState(T?.5:1),[ne,A]=r.useState(!0),[de,ue]=r.useState(null),[R,V]=r.useState(!1),[xe,ge]=r.useState(""),[ae,me]=r.useState(!1),K=r.useRef(null),fe=r.useRef(T?.5:1),[y,pe]=r.useState(""),[h,Z]=r.useState([]),[N,k]=r.useState(-1),[G,ye]=r.useState(!1),[E,D]=r.useState(!1),[re,Y]=r.useState([]),[Q,be]=r.useState(new Map),X=r.useRef(null);r.useEffect(()=>{if(!M)return;const t=Ze();if(ee||t&&t.url===M){const n=ee||t.pdf,l=ce||(t==null?void 0:t.textContent);console.log("[PDFViewer] Usando PDF precargado âš¡"),oe(n),he(n.numPages),l&&l.size>0?be(l):we(n),A(!1);return}A(!0),ue(null),Xe.getDocument(M).promise.then(n=>{oe(n),he(n.numPages),A(!1),we(n)}).catch(n=>{console.error("Error al cargar PDF:",n),ue("No se pudo cargar el manual PDF"),A(!1)})},[M,ee,ce]);const we=async t=>{const s=new Map;for(let n=1;n<=t.numPages;n++)try{const d=(await(await t.getPage(n)).getTextContent()).items.filter(a=>"str"in a&&"transform"in a).map(a=>({str:a.str,transform:a.transform}));let i="",m=-1;for(const a of d){const f=a.transform[4];m!==-1&&f-m>10&&(i+=" "),i+=a.str,m=f+a.str.length*5}s.set(n,{text:i,items:d})}catch(l){console.error(`Error cargando texto de pÃ¡gina ${n}:`,l)}be(s)};r.useEffect(()=>{const t=s=>{(s.ctrlKey||s.metaKey)&&s.key==="f"&&(s.preventDefault(),D(!0)),s.key==="Escape"&&E&&D(!1)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[E]),r.useEffect(()=>{if(!ne&&w&&z&&z>0&&p>0&&z<=p){const t=setTimeout(()=>{b(z)},50);return()=>clearTimeout(t)}},[ne,w,z,p]);const je=r.useCallback(async t=>{var s,n;if(!(!w||!I.current)){if(S.current){try{S.current.cancel()}catch{}S.current=null}if(!$.current){$.current=!0;try{const l=await w.getPage(t),u=I.current;if(!u){$.current=!1;return}const d=u.getContext("2d");if(!d){$.current=!1;return}const i=l.getViewport({scale:g});u.height=i.height,u.width=i.width,x.current&&(x.current.height=i.height,x.current.width=i.width);const m=l.render({canvasContext:d,viewport:i});if(S.current=m,await m.promise,c&&c.pagina===t&&c.coordenadas&&x.current){const a=x.current.getContext("2d");if(a){a.clearRect(0,0,x.current.width,x.current.height);const{x:f,y:v,width:C,height:j}=c.coordenadas,B=f<=1&&v<=1&&C<=1&&j<=1;let P,H,F,L;if(B?(P=f*i.width,H=v*i.height,F=C*i.width,L=j*i.height):(P=f*g,H=v*g,F=C*g,L=j*g),a.fillStyle=c.color||"rgba(239, 68, 68, 0.4)",c.forma==="circulo"){const Ve=P+F/2,Ke=H+L/2;a.beginPath(),a.ellipse(Ve,Ke,F/2,L/2,0,0,2*Math.PI),a.fill(),c.sinBorde||(a.strokeStyle=((s=c.color)==null?void 0:s.replace("0.4","0.8"))||"#ef4444",a.lineWidth=2,a.stroke())}else a.fillRect(P,H,F,L),c.sinBorde||(a.strokeStyle=((n=c.color)==null?void 0:n.replace("0.4","0.8"))||"#ef4444",a.lineWidth=2,a.strokeRect(P,H,F,L))}}else if(x.current){const a=x.current.getContext("2d");a&&a.clearRect(0,0,x.current.width,x.current.height)}S.current=null}catch(l){if(l&&typeof l=="object"&&"name"in l&&l.name==="RenderingCancelledException")return;console.error("Error al renderizar pÃ¡gina:",l)}finally{$.current=!1}}}},[w,g,c]);r.useEffect(()=>{je(o)},[o,je]),r.useEffect(()=>()=>{if(S.current)try{S.current.cancel()}catch{}},[]),r.useEffect(()=>{const t=ie.current;if(!t||!w)return;let s=null,n=0;const l=100,u=d=>{const i=t.scrollHeight>t.clientHeight,m=t.scrollTop<=0,a=t.scrollTop+t.clientHeight>=t.scrollHeight-5;i&&!m&&!a||(m&&d.deltaY<0&&o>1?(d.preventDefault(),n+=Math.abs(d.deltaY),n>=l&&(b(f=>f-1),n=0,setTimeout(()=>{t&&(t.scrollTop=t.scrollHeight)},100))):a&&d.deltaY>0&&o<p&&(d.preventDefault(),n+=Math.abs(d.deltaY),n>=l&&(b(f=>f+1),n=0,setTimeout(()=>{t&&(t.scrollTop=0)},100))),s&&clearTimeout(s),s=setTimeout(()=>{n=0},200))};return t.addEventListener("wheel",u,{passive:!1}),()=>{t.removeEventListener("wheel",u),s&&clearTimeout(s)}},[w,o,p]);const Ne=()=>{o>1&&b(t=>t-1)},ve=()=>{o<p&&b(t=>t+1)},Ce=()=>se(t=>Math.min(t+.25,3)),Se=()=>se(t=>Math.max(t-.25,.25)),Be=r.useCallback(t=>{if(t.touches.length===2){const s=t.touches[0],n=t.touches[1],l=Math.hypot(n.clientX-s.clientX,n.clientY-s.clientY);K.current=l,fe.current=g}},[g]),He=r.useCallback(t=>{if(t.touches.length===2&&K.current!==null){t.preventDefault();const s=t.touches[0],n=t.touches[1],u=Math.hypot(n.clientX-s.clientX,n.clientY-s.clientY)/K.current,d=Math.min(Math.max(fe.current*u,.25),3);se(d)}},[]),We=r.useCallback(()=>{K.current=null},[]),Te=()=>{const t=parseInt(xe);!isNaN(t)&&t>=1&&t<=p&&(b(t),ge(""))},Ee=r.useCallback(t=>{if(!t.trim()||t.length<1){Z([]),k(-1),Y([]);return}ye(!0);const s=[],n=t.toLowerCase().trim(),l=n.replace(/\s+/g,"");Q.forEach((u,d)=>{const i=u.text.toLowerCase(),m=i.replace(/\s+/g,"");let a=!1,f=0;if(i.includes(n)&&(a=!0,f=(i.match(new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),!a&&l.length>=2&&m.includes(l)&&(a=!0,f=(m.match(new RegExp(l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"))||[]).length),a){const v=i.indexOf(n)!==-1?i.indexOf(n):m.indexOf(l),C=Math.max(0,v-30),j=Math.min(u.text.length,v+t.length+30),B=(C>0?"...":"")+u.text.substring(C,j)+(j<u.text.length?"...":"");s.push({pageNum:d,text:B,matches:f})}}),s.sort((u,d)=>d.matches-u.matches),Z(s),k(s.length>0?0:-1),ye(!1),s.length>0&&b(s[0].pageNum)},[Q]);r.useEffect(()=>(X.current&&clearTimeout(X.current),y.length>=1?X.current=setTimeout(()=>{Ee(y)},150):(Z([]),Y([])),()=>{X.current&&clearTimeout(X.current)}),[y,Ee]),r.useEffect(()=>{if(!x.current||!w||!y.trim()){Y([]);return}(async()=>{if(!Q.get(o))return;const n=await w.getPage(o),l=n.getViewport({scale:g}),u=await n.getTextContent(),d=y.toLowerCase().trim(),i=[];u.items.forEach(m=>{if(!("str"in m)||!("transform"in m))return;const a=m;if(a.str.toLowerCase().includes(d)){const[,,,,f,v]=a.transform,C=a.width||a.str.length*8,j=a.height||12,B=f*g,P=l.height-v*g-j*g;i.push({x:B,y:P,width:C*g,height:j*g*1.2})}}),Y(i)})()},[o,y,w,g,Q]),r.useEffect(()=>{if(!x.current)return;const t=x.current.getContext("2d");t&&((!c||c.pagina!==o)&&t.clearRect(0,0,x.current.width,x.current.height),re.length>0&&(t.fillStyle="rgba(255, 255, 0, 0.4)",t.strokeStyle="rgba(255, 200, 0, 0.8)",t.lineWidth=2,re.forEach(s=>{t.fillRect(s.x,s.y,s.width,s.height),t.strokeRect(s.x,s.y,s.width,s.height)})))},[re,c,o]);const Oe=()=>{if(h.length===0)return;const t=(N+1)%h.length;k(t),b(h[t].pageNum)},qe=()=>{if(h.length===0)return;const t=N<=0?h.length-1:N-1;k(t),b(h[t].pageNum)},Ae=()=>{if(!I.current||!J)return;const t=I.current.toDataURL("image/png");J(t,o),me(!1)},Pe=()=>{if(T)V(t=>!t);else{if(!te.current)return;if(document.fullscreenElement){const t=document;t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen(),V(!1)}else{const t=te.current;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),V(!0)}}};return r.useEffect(()=>{const t=()=>{T||V(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}},[T]),M?ne?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-100",children:[e.jsx(ke,{className:"w-8 h-8 text-primary-600 animate-spin mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Cargando manual..."})]}):de?e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-red-500",children:e.jsx("p",{children:de})}):e.jsxs("div",{ref:te,className:`h-full flex flex-col bg-gray-800 ${R&&T?"fixed inset-0 z-[9999] w-screen h-screen":""}`,children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between px-4 py-2 bg-gray-900 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Ne,disabled:o<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm",children:[o," / ",p]}),e.jsx("button",{onClick:ve,disabled:o>=p,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Le,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:xe,onChange:t=>ge(t.target.value),onKeyDown:t=>t.key==="Enter"&&Te(),placeholder:"PÃ¡g.",className:"w-16 px-2 py-1 text-sm bg-gray-700 rounded border border-gray-600 text-white placeholder-gray-400",min:"1",max:p}),e.jsx("button",{onClick:Te,className:"p-2 rounded hover:bg-gray-700",title:"Ir a pÃ¡gina",children:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Se,className:"p-2 rounded hover:bg-gray-700",title:"Alejar",children:e.jsx(Ie,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm w-12 text-center",children:[Math.round(g*100),"%"]}),e.jsx("button",{onClick:Ce,className:"p-2 rounded hover:bg-gray-700",title:"Acercar",children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-2"}),e.jsx("button",{onClick:()=>D(!E),className:`p-2 rounded transition-colors ${E?"bg-primary-600":"hover:bg-gray-700"}`,title:"Buscar texto en PDF (Ctrl+F)",children:e.jsx(U,{className:"w-5 h-5"})}),J&&e.jsx("button",{onClick:()=>me(!ae),className:`p-2 rounded transition-colors ${ae?"bg-primary-600":"hover:bg-gray-700"}`,title:"Capturar imagen",children:e.jsx(Ge,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Pe,className:"p-2 rounded hover:bg-gray-700",title:R?"Salir de pantalla completa":"Pantalla completa",children:R?e.jsx(De,{className:"w-5 h-5"}):e.jsx($e,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"lg:hidden flex flex-col bg-gray-900 text-white",children:e.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Ne,disabled:o<=1,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(Fe,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-sm font-medium px-2",children:[o," / ",p]}),e.jsx("button",{onClick:ve,disabled:o>=p,className:"p-2 rounded hover:bg-gray-700 disabled:opacity-50",children:e.jsx(Le,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:Se,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(Ie,{className:"w-5 h-5"})}),e.jsxs("span",{className:"text-xs w-10 text-center",children:[Math.round(g*100),"%"]}),e.jsx("button",{onClick:Ce,className:"p-2 rounded hover:bg-gray-700",children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),e.jsx("button",{onClick:()=>D(!E),className:`p-2 rounded transition-colors ${E?"bg-primary-600 text-white":"hover:bg-gray-700"}`,title:"Buscar en PDF",children:e.jsx(U,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Pe,className:`p-2.5 rounded-lg transition-colors ${R?"bg-primary-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,title:R?"Salir":"Pantalla completa",children:R?e.jsx(De,{className:"w-5 h-5"}):e.jsx($e,{className:"w-5 h-5"})})]})]})}),E&&e.jsxs("div",{className:"px-4 py-3 bg-gray-800 border-b border-gray-700 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:y,onChange:t=>pe(t.target.value),placeholder:"Buscar en el PDF... (ej: 200, 1-0201, Baader)",className:"w-full pl-10 pr-4 py-2.5 text-sm bg-gray-700 rounded-l-lg border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0}),G&&e.jsx(ke,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400 animate-spin"})]}),y&&!G&&e.jsx("div",{className:`px-3 py-2.5 text-sm border-y border-gray-600 ${h.length>0?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:h.length>0?`${h.length} pÃ¡g${h.length>1?"s":""}`:"0"}),h.length>0&&e.jsxs("div",{className:"flex border border-gray-600 border-l-0 rounded-r-lg overflow-hidden",children:[e.jsx("button",{onClick:qe,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white border-r border-gray-600",title:"Anterior (â†‘)",children:e.jsx(_e,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Oe,className:"p-2.5 bg-gray-700 hover:bg-gray-600 text-white",title:"Siguiente (â†“)",children:e.jsx(Je,{className:"w-4 h-4"})})]}),!h.length&&y&&!G&&e.jsx("div",{className:"px-3 py-2.5 bg-gray-700 rounded-r-lg border border-l-0 border-gray-600",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"â€”"})})]}),y&&h.length>0&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-400 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("span",{children:["ðŸ“„ ",h.length," pÃ¡gina",h.length>1?"s":""," con resultados"]}),e.jsx("span",{className:"text-yellow-400",children:"ðŸ” Resaltado activo"})]}),h.map((t,s)=>e.jsxs("button",{onClick:()=>{k(s),b(t.pageNum)},className:`w-full text-left px-3 py-2 text-sm border-b border-gray-700 last:border-b-0 transition-colors ${s===N?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium",children:["PÃ¡gina ",t.pageNum]}),t.matches>1&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${s===N?"bg-primary-700":"bg-gray-600"}`,children:[t.matches," coincidencias"]})]}),e.jsx("p",{className:"text-xs mt-1 opacity-70 truncate",children:t.text})]},`${t.pageNum}-${s}`))]}),y&&h.length===0&&!G&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-xl z-50 p-4 text-center",children:[e.jsxs("p",{className:"text-yellow-400 text-sm",children:['âš ï¸ No se encontrÃ³ "',y,'"']}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Prueba con otro tÃ©rmino o revisa la ortografÃ­a"})]})]}),e.jsx("button",{onClick:()=>{D(!1),pe(""),Z([]),k(-1),Y([])},className:"p-2 text-gray-400 hover:text-white rounded hover:bg-gray-700",title:"Cerrar bÃºsqueda (Esc)",children:e.jsx(Qe,{className:"w-5 h-5"})})]}),h.length>0&&N>=0&&e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-400",children:["Resultado ",N+1," de ",h.length," â€¢ PÃ¡gina ",(Re=h[N])==null?void 0:Re.pageNum]}),e.jsxs("span",{className:"text-yellow-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-yellow-400/40 border border-yellow-500 rounded-sm"}),"Texto resaltado en amarillo"]})]})]}),ae&&e.jsxs("div",{className:"px-4 py-2 bg-primary-600 text-white text-sm flex items-center justify-between",children:[e.jsx("span",{children:"Modo captura activo - La pÃ¡gina actual serÃ¡ capturada como imagen"}),e.jsxs("button",{onClick:Ae,className:"px-4 py-1 bg-white text-primary-600 rounded font-medium hover:bg-gray-100",children:["Capturar pÃ¡gina ",o]})]}),(c||_)&&e.jsx("div",{className:"px-4 py-2 bg-gray-700 text-white text-sm flex items-center justify-between",children:c&&c.pagina===o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-green-400 font-medium",children:"Marcador en esta pÃ¡gina"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[O&&e.jsxs("button",{onClick:()=>O(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Ye,{className:"w-3 h-3"}),"Editar"]}),q&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&q(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(ze,{className:"w-3 h-3"}),"Eliminar"]})]})]}):c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400",children:["Marcador en pÃ¡gina ",c.pagina]}),e.jsx("button",{onClick:()=>b(c.pagina),className:"px-2 py-0.5 bg-yellow-600 text-white rounded text-xs hover:bg-yellow-700",children:"Ir al marcador"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[O&&e.jsxs("button",{onClick:()=>O(c),className:"px-3 py-1 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Ye,{className:"w-3 h-3"}),"Editar"]}),q&&e.jsxs("button",{onClick:()=>{confirm("Â¿Eliminar este marcador?")&&q(c)},className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-medium hover:bg-red-700 flex items-center gap-1",children:[e.jsx(ze,{className:"w-3 h-3"}),"Eliminar"]})]})]}):_?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-400",children:"Sin marcador"})]}),e.jsxs("button",{onClick:_,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 flex items-center gap-1",children:[e.jsx(Ue,{className:"w-3 h-3"}),"Agregar marcador"]})]}):null}),e.jsx("div",{ref:ie,className:"flex-1 overflow-auto pdf-container flex items-start justify-center p-4 touch-pan-x touch-pan-y",onTouchStart:Be,onTouchMove:He,onTouchEnd:We,style:{touchAction:"pan-x pan-y"},children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:I,className:"pdf-page bg-white shadow-lg",style:{maxWidth:"100%"}}),e.jsx("canvas",{ref:x,className:"absolute top-0 left-0 pointer-events-none"})]})}),e.jsx("div",{className:"px-4 py-1 bg-gray-900 text-gray-400 text-xs text-center",children:T?e.jsx("span",{children:"ðŸ“± Pellizca para zoom â€¢ Desliza para navegar"}):e.jsx("span",{children:"ðŸ’¡ Usa la rueda del ratÃ³n para navegar entre pÃ¡ginas"})})]}):e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-100 text-gray-500",children:e.jsx("p",{children:"Selecciona un repuesto para ver el manual"})})}export{st as PDFViewer};
